const _0x2d736b=(function(){let _0x5c2435=!![];return function(_0x1a5a48,_0x152a2c){const _0x6a5f3e=_0x5c2435?function(){if(_0x152a2c){const _0x3e0aa3=_0x152a2c['apply'](_0x1a5a48,arguments);return _0x152a2c=null,_0x3e0aa3;}}:function(){};return _0x5c2435=![],_0x6a5f3e;};}()),_0x5169d2=_0x2d736b(this,function(){return _0x5169d2['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x5169d2)['search']('(((.+)+)+)'+'+$');});_0x5169d2();const _0x2dedac=(function(){let _0x2aa735=!![];return function(_0x235193,_0x5eb52){const _0x42a6cc=_0x2aa735?function(){if(_0x5eb52){const _0x523990=_0x5eb52['apply'](_0x235193,arguments);return _0x5eb52=null,_0x523990;}}:function(){};return _0x2aa735=![],_0x42a6cc;};}());(function(){_0x2dedac(this,function(){const _0x1aa7dd=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0xe3b675=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x3a66ab=_0x42c7a5('init');!_0x1aa7dd['test'](_0x3a66ab+'chain')||!_0xe3b675['test'](_0x3a66ab+'input')?_0x3a66ab('0'):_0x42c7a5();})();}());const _0x2519db=(function(){let _0x1577f4=!![];return function(_0x7a021,_0x41dfbb){const _0x39489e=_0x1577f4?function(){if(_0x41dfbb){const _0x444fe0=_0x41dfbb['apply'](_0x7a021,arguments);return _0x41dfbb=null,_0x444fe0;}}:function(){};return _0x1577f4=![],_0x39489e;};}()),_0x405e34=_0x2519db(this,function(){const _0x293a98=function(){let _0x2fb014;try{_0x2fb014=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0x7551b6){_0x2fb014=window;}return _0x2fb014;},_0x2e50fc=_0x293a98(),_0x335d87=_0x2e50fc['console']=_0x2e50fc['console']||{},_0x52beb5=['log','warn','info','error','exception','table','trace'];for(let _0x44786e=-0x22*0x9+0xd*0x2ef+-0x24f1*0x1;_0x44786e<_0x52beb5['length'];_0x44786e++){const _0x157ee5=_0x2519db['constructo'+'r']['prototype']['bind'](_0x2519db),_0xc2ff6e=_0x52beb5[_0x44786e],_0x447526=_0x335d87[_0xc2ff6e]||_0x157ee5;_0x157ee5['__proto__']=_0x2519db['bind'](_0x2519db),_0x157ee5['toString']=_0x447526['toString']['bind'](_0x447526),_0x335d87[_0xc2ff6e]=_0x157ee5;}});_0x405e34();var k0=Object['defineProp'+'erty'],U0=(_0x3f431f,_0x1d42fc,_0x487806)=>_0x1d42fc in _0x3f431f?k0(_0x3f431f,_0x1d42fc,{'enumerable':!(-0x189d+0x8*0x30a+0x4d),'configurable':!(0x1de3+-0x247f+0x69c),'writable':!(-0x1b3b+-0x3ee+0x1f29),'value':_0x487806}):_0x3f431f[_0x1d42fc]=_0x487806,h=(_0x21806b,_0x1b1266,_0x2e6a8e)=>U0(_0x21806b,typeof _0x1b1266!='symbol'?_0x1b1266+'':_0x1b1266,_0x2e6a8e),B0=(_0x34e451=>(_0x34e451['HIGH']='high',_0x34e451['MEDIUM']='medium',_0x34e451['LOW']='low',_0x34e451['LOW_VR']='lowVR',_0x34e451))(B0||{});const z0=()=>!HS()&&!WS()&&!GS()&&!V0(),GS=()=>{const _0x558b5b=navigator['userAgent']['includes']('Macintosh'),_0x4d585c=navigator['maxTouchPo'+'ints']===-0x1bfa*-0x1+0x72e+0x505*-0x7,_0x55cbed=/^((?!chrome|android).)*safari/i['test'](navigator['userAgent']);return _0x558b5b&&_0x4d585c&&_0x55cbed;},HS=()=>navigator['userAgent']['includes']('Quest'),V0=()=>{const _0x2b283b=navigator['userAgent']['toLowerCas'+'e']();return _0x2b283b['includes']('pico')||_0x2b283b['includes']('picolrowse'+'r');},WS=()=>['iOS','Android']['includes'](G0()),FU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),NU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),G0=()=>{const _0x3c27af=window['navigator']['userAgent']['toLowerCas'+'e'](),_0x481d8b=window['navigator']['platform']['toLowerCas'+'e']();return/iphone|ipad|ipod/['test'](_0x3c27af)?'iOS':/android/['test'](_0x3c27af)?'Android':/mac/['test'](_0x481d8b)?'macOS':/win/['test'](_0x481d8b)?'Windows':/linux/['test'](_0x481d8b)?'Linux':'Unknown';};class kU{constructor(){this['HIGH_FPS_T'+'HRESHOLD']=-0x13*-0x1de+-0x1ea9+0x2c*-0x1b,this['MEDIUM_FPS'+'_THRESHOLD']=0x1f80+-0x437*0x7+0x25*-0xd,this['HIGH_MEMOR'+'Y_THRESHOL'+'D']=(0x1*-0x78d+-0xdd0+0x1561)*(-0x9d0+-0x67d+0x144d)*(-0x2325+0x1ae8+0xc3d)*(0xb7c+0x2*-0x11ac+-0x2*-0xdee),this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']=(0xc73+-0x9*0x3c4+0x1573)*(0x17*-0xe4+0x737+-0x1145*-0x1)*(0x1602+0x617+-0x1819)*(0xc5*0x1d+-0x6*-0x11a+-0x1*0x18ed),this['SCORE_THRE'+'SHOLDS']={'HIGH':0x46,'MEDIUM':0x32,'LOW':0x1e},this['VENDOR_WEI'+'GHTS']={'nvidia':0x1,'amd':0.9,'apple':0.8,'intel':0.6,'qualcomm':0.5,'arm':0.4},this['HIGH_END_P'+'ATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*[3-4]|titan\s*(?:rtx|xp|v))|quadro\s+(?:rtx|a[0-9]+)/i,/a[1-9][0-9]+/i],'amd':[/radeon\s+(?:rx\s*[6-9]|rx\s*7[0-9]+|pro\s*w[5-9])|instinct\s+mi[2-9]/i],'apple':[/m[1-3]\s+(?:pro|max|ultra)?/i]},this['MEDIUM_END'+'_PATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*2|gtx\s*1[6-9])|quadro\s+(?:p[2-9]|t[1-9])/i],'amd':[/radeon\s+(?:rx\s*[4-5]|vega\s*[5-9])|pro\s*w[2-4]/i],'apple':[/a[1-9][0-9]+\s+(?:x|z)?/i]},this['LOW_END_PA'+'TTERNS']={'intel':[/(?:hd|uhd|iris|xe)\s*graphics\s*(?:[6-9][0-9]+|[1-9][0-9]+g)/i],'qualcomm':[/adreno\s*[6-9][0-9]+/i],'arm':[/mali\s*-?(?:g[7-9][0-9]|t[8-9][0-9])/i]};}['getVendorS'+'core'](_0x26a5c5){const _0x37c59f=_0x26a5c5['toLowerCas'+'e']();for(const [_0x2e22b2,_0x2b9bc1]of Object['entries'](this['VENDOR_WEI'+'GHTS']))if(_0x37c59f['includes'](_0x2e22b2))return _0x2b9bc1*(-0x19ca+-0xdeb+0x2819);return 0x29*-0x66+-0x1*-0x1cb+0xebd;}['getModelSc'+'ore'](_0x462d29,_0x1cc3fc){const _0x5039c5=_0x462d29['toLowerCas'+'e'](),_0x380e65=_0x1cc3fc['toLowerCas'+'e']();for(const [_0x27c3de,_0x5c25ab]of Object['entries'](this['HIGH_END_P'+'ATTERNS']))if(_0x5039c5['includes'](_0x27c3de)&&_0x5c25ab['some'](_0x2db361=>_0x2db361['test'](_0x380e65)))return-0x940+-0x9b9+-0x11*-0x123;for(const [_0x3d819f,_0x420e56]of Object['entries'](this['MEDIUM_END'+'_PATTERNS']))if(_0x5039c5['includes'](_0x3d819f)&&_0x420e56['some'](_0x1f395e=>_0x1f395e['test'](_0x380e65)))return 0x1fc*0x12+-0x6f7*-0x5+-0x4645;for(const [_0x576690,_0x2171db]of Object['entries'](this['LOW_END_PA'+'TTERNS']))if(_0x5039c5['includes'](_0x576690)&&_0x2171db['some'](_0x2ff51e=>_0x2ff51e['test'](_0x380e65)))return 0xa3*0x1+0x14c3*-0x1+0x1452*0x1;return 0x2291+-0x1e86+-0x3cf;}['getMemoryS'+'core'](_0x5d15b3){return _0x5d15b3?_0x5d15b3>=-0xba1*0x1+-0x9*-0x29b+-0x7*-0x502?-0x20e4+0x1038+0x1110:_0x5d15b3>=-0x3300+0x1*0x423+0x4e1d*0x1?-0x1*0x611+-0xb5+-0x26*-0x30:_0x5d15b3>=0xa07*-0x3+-0xc66*-0x2+-0x2b*-0xab?0xd99+-0x1bdb+0x5*0x2ea:_0x5d15b3>=-0x20af+-0x1302+-0x4351*-0x1?0x3*0x6d5+-0x1*0x1216+-0x223:_0x5d15b3>=0xbcc+0x434+-0x418*0x2?0x834+-0x1*0x1205+0xa0d:-0x2e1*-0x4+-0x491+-0x6c1:0x1b58+0xe29+-0x5*0x843;}['getDriverS'+'core'](_0x30062a){if(!_0x30062a)return 0x1328+0x21*-0xce+-0x1b*-0x48;const _0x574f16=_0x30062a['match'](/20[2-9][0-9]/);if(_0x574f16){const _0x38ff24=parseInt(_0x574f16[0x1766*0x1+0x223c+-0x39a2]);if(_0x38ff24>=-0x1746+0x1e51+0x5*0x2c)return 0x67*0x4d+-0x20c+-0x1c8b;if(_0x38ff24>=-0xc42*-0x2+0x1d40+-0xce*0x39)return-0x2562+-0xd32+0x1*0x32e4;if(_0x38ff24>=0x82a+-0xf5d+0xf18)return 0x1*0x1+-0x8ea+-0x1*-0x925;}return-0x7*-0x472+0x1e1c+-0x3d08;}['evaluateGP'+'U'](_0xd2df56){const _0x557df0=this['getVendorS'+'core'](_0xd2df56['vendor']),_0x3ecef8=this['getModelSc'+'ore'](_0xd2df56['vendor'],_0xd2df56['renderer']),_0x5d7dbc=this['getMemoryS'+'core'](_0xd2df56['memory']),_0x137dd7=this['getDriverS'+'core'](_0xd2df56['driverVers'+'ion']);return console['log']('GPU:',_0xd2df56['vendor']),console['log']('GPU:',_0xd2df56['renderer']),console['log']('GPU:',_0xd2df56['driverVers'+'ion']),console['table'](_0xd2df56),_0x557df0*(0x1*-0x302+0x7d+-0x2b*-0xf+0.3)+_0x3ecef8*(0x1*-0xd67+0x141b+-0x6b4+0.4)+_0x5d7dbc*(0x1*0x735+0x1*-0x96b+0x11b*0x2+0.2)+_0x137dd7*(0x8d*0x3+0x2*0x593+0x1*-0xccd+0.1);}['evaluateCP'+'U'](){const _0x92e316=navigator['hardwareCo'+'ncurrency'];return _0x92e316>=-0x782+0x1*0xb15+0x1*-0x38b?-0xe3c+0x2*-0x1315+0x3469:_0x92e316>=-0x2e7*-0x2+0x2d0+-0x89a?-0x182*0x1+0x5e8+-0x2*0x232:-0x2*0xe2d+-0x1*0x113c+0x2d97;}['evaluateMe'+'mory'](_0x4b0e23){return typeof _0x4b0e23=='string'?0x129e+-0xc*0x20b+0x5e6:_0x4b0e23['totalJSHea'+'pSize'];}['evaluatePe'+'rformance'](_0x2f816d){const _0xc1df45=WS(),_0x5820d1=GS(),_0x4a6478=HS();if(_0x5820d1)return'medium';if(_0x4a6478)return'lowVR';if(_0xc1df45)return'low';const _0x386df4=_0x2f816d['fps']>=this['HIGH_FPS_T'+'HRESHOLD']?0x362*-0x1+0x132f+-0x56*0x2f:_0x2f816d['fps']>=this['MEDIUM_FPS'+'_THRESHOLD']?0x113*0x1a+0x518+-0x2104:-0xe9a+0x232b+-0x1490;let _0x52fb03=-0x6cd*0x5+-0x61a+0x11*0x25c;typeof _0x2f816d['gpuInfo']!='string'&&(_0x52fb03=this['evaluateGP'+'U'](_0x2f816d['gpuInfo']));const _0x57f8c2=this['evaluateCP'+'U'](),_0x49a6c1=this['evaluateMe'+'mory'](_0x2f816d['memoryInfo'])>=this['HIGH_MEMOR'+'Y_THRESHOL'+'D']?0x125d*0x2+-0x14f*0x3+-0x1065*0x2:this['evaluateMe'+'mory'](_0x2f816d['memoryInfo'])>=this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']?0x122+-0x1ea0+-0x1*-0x1d80:-0x659+-0x1f*0xd+0x7ed,_0x2b2870=_0x386df4+_0x52fb03+_0x57f8c2+_0x49a6c1;return console['log']('GPU:',_0x386df4,_0x52fb03,_0x57f8c2,_0x49a6c1),_0x2b2870>=this['SCORE_THRE'+'SHOLDS']['HIGH']?'high':_0x2b2870>=this['SCORE_THRE'+'SHOLDS']['MEDIUM']?'medium':'low';}['getModelQu'+'alitySetti'+'ngs'](_0x2c9d72){return{'high':{'textureQuality':'high'},'medium':{'textureQuality':'medium'},'low':{'textureQuality':'low'},'lowVR':{'textureQuality':'lowVR'}}[_0x2c9d72];}}const H0=()=>{globalThis['requestIdl'+'eCallback']=globalThis['requestIdl'+'eCallback']||function(_0x5ac2dc){var _0x3eaa27=Date['now']();return setTimeout(function(){_0x5ac2dc({'didTimeout':!(-0x22bd*-0x1+0x25a+-0x2516),'timeRemaining':function(){return Math['max'](0x1891+0xd*-0xb5+-0xf60,-0x18*0x87+0x1ade*-0x1+0x27b8-(Date['now']()-_0x3eaa27));}});},0x7*-0x1a6+0x8c*-0x38+0x2a2b);},globalThis['cancelIdle'+'Callback']=globalThis['cancelIdle'+'Callback']||function(_0x2f5f28){clearTimeout(_0x2f5f28);};},W0='RenderFram'+'e',Ld='RenderFram'+'eTime',Pm='RenderPass',cn='RenderPass'+'Detail',Vl='RenderActi'+'on',Mm='RenderTarg'+'etAlloc',Dm='TextureAll'+'oc',Im='ShaderAllo'+'c',$0='ShaderComp'+'ile',X0='VRAM.Textu'+'re',q0='VRAM.Vb',j0='VRAM.Ib',Y0='BindGroupA'+'lloc',K0='BindGroupF'+'ormatAlloc',Vs='Element',Z0='Textures',Gl='GpuTimings',hn='$_CURRENT_'+'SDK_VERSIO'+'N',$S='$_CURRENT_'+'SDK_REVISI'+'ON';function ah(_0x3839fa,_0x445fad){for(const _0x2b9efc in _0x445fad){const _0x416f21=_0x445fad[_0x2b9efc];Array['isArray'](_0x416f21)?_0x3839fa[_0x2b9efc]=ah([],_0x416f21):_0x416f21&&typeof _0x416f21=='object'?_0x3839fa[_0x2b9efc]=ah({},_0x416f21):_0x3839fa[_0x2b9efc]=_0x416f21;}return _0x3839fa;}const Q0={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x2bd67a=>{const _0x228456=Math['random']()*(-0x1d56+0x14e*-0x18+0x3cb6)|-0xb83+-0x51a*-0x2+0x14f;return(_0x2bd67a==='x'?_0x228456:_0x228456&0x1*0x25b1+-0x2*0x7bb+0x6*-0x3b4|-0x1774+0x1d85+0x135*-0x5)['toString'](0xb*-0xb6+0xb*0x5c+0x1f7*0x2);});}},xe={'delimiter':'/','join'(..._0x386c7f){let _0xfec02f=_0x386c7f[0x22a1+0x6a*0xb+-0x272f];for(let _0x24c6e3=0xc*-0x98+-0x2cc*0x1+-0x27b*-0x4;_0x24c6e3<_0x386c7f['length']-(0xfb*0x6+-0x87e*0x1+0xdf*0x3);_0x24c6e3++){const _0x4a70fd=_0x386c7f[_0x24c6e3],_0x415328=_0x386c7f[_0x24c6e3+(-0x3ea+-0x2593*-0x1+-0x21a8)];if(_0x415328[-0x7d4+0xe9f+-0x6cb]===xe['delimiter']){_0xfec02f=_0x415328;continue;}_0x4a70fd&&_0x415328&&_0x4a70fd[_0x4a70fd['length']-(-0xab2*-0x2+0xad6+0x2039*-0x1)]!==xe['delimiter']&&_0x415328[0x5d*0xb+0x1*-0x2322+0x1f23*0x1]!==xe['delimiter']?_0xfec02f+=xe['delimiter']+_0x415328:_0xfec02f+=_0x415328;}return _0xfec02f;},'normalize'(_0x2f5f43){const _0x1a3394=_0x2f5f43['startsWith'](xe['delimiter']),_0x3d5e3d=_0x2f5f43['endsWith'](xe['delimiter']),_0x325259=_0x2f5f43['split']('/');let _0x39b84e='',_0x34f6fa=[];for(let _0x1ef393=0x1*-0x15a9+0x18c8+0x31f*-0x1;_0x1ef393<_0x325259['length'];_0x1ef393++)if(_0x325259[_0x1ef393]!==''&&_0x325259[_0x1ef393]!=='.'){if(_0x325259[_0x1ef393]==='..'&&_0x34f6fa['length']>-0x209+0x1ec7*0x1+-0x1cbe){_0x34f6fa=_0x34f6fa['slice'](0xf6f+-0x2*-0x92f+-0x11*0x1fd,_0x34f6fa['length']-(-0x212*0x2+0x1351+-0xf2b));continue;}_0x1ef393>-0x1560+0x23dd+-0xe7d&&_0x34f6fa['push'](xe['delimiter']),_0x34f6fa['push'](_0x325259[_0x1ef393]);}return _0x39b84e=_0x34f6fa['join'](''),!_0x1a3394&&_0x39b84e[0x21e4+0x2140+-0x4324]===xe['delimiter']&&(_0x39b84e=_0x39b84e['slice'](0x1*0x35e+-0x541*-0x1+0x44f*-0x2)),_0x3d5e3d&&_0x39b84e[_0x39b84e['length']-(0x1*0x14ea+0x1930*-0x1+0x447)]!==xe['delimiter']&&(_0x39b84e+=xe['delimiter']),_0x39b84e;},'split'(_0x1b5778){const _0x49882c=_0x1b5778['lastIndexO'+'f'](xe['delimiter']);return _0x49882c!==-(0x18b4+-0x8e+0x1*-0x1825)?[_0x1b5778['substring'](0x21fa+0x1b7f+-0x1*0x3d79,_0x49882c),_0x1b5778['substring'](_0x49882c+(0x2588+0x20*0x9+0x5*-0x7bb))]:['',_0x1b5778];},'getBasename'(_0x1c7659){return xe['split'](_0x1c7659)[0x1*-0x897+0xcee+-0x456];},'getDirectory'(_0x3384ec){return xe['split'](_0x3384ec)[0x1182+0x116b+-0x22ed];},'getExtension'(_0x4cac60){const _0x2b51ed=_0x4cac60['split']('?')[0xe*0x4c+-0x57d+-0xb*-0x1f]['split']('.')['pop']();return _0x2b51ed!==_0x4cac60?'.'+_0x2b51ed:'';},'isRelativePath'(_0x633f88){return _0x633f88['charAt'](-0x11*-0x2+0x9bb+-0x5*0x1f9)!=='/'&&_0x633f88['match'](/:\/\//)===null;},'extractPath'(_0x5d6e5b){let _0x18ff80='';const _0x5b2a4d=_0x5d6e5b['split']('/');let _0x215a4b=0x12a*0x15+0x24e6+0xd*-0x4b8;if(_0x5b2a4d['length']>-0x25f*-0x4+-0xf7+-0x884){if(xe['isRelative'+'Path'](_0x5d6e5b)){if(_0x5b2a4d[0x24a6+0x3*0x340+-0x1733*0x2]==='.'){for(_0x215a4b=0x1fed+0xf*-0x101+-0x10de;_0x215a4b<_0x5b2a4d['length']-(0x5*-0x5d1+-0xd47*0x1+0x2a5d);++_0x215a4b)_0x18ff80+=_0x215a4b===0x627+-0x70*-0x1f+-0x67*0x31?_0x5b2a4d[_0x215a4b]:'/'+_0x5b2a4d[_0x215a4b];}else{if(_0x5b2a4d[-0x1ff9+-0x23ee+-0x1*-0x43e7]==='..'){for(_0x215a4b=0xfa6*0x2+0x1*-0x987+-0x15c5;_0x215a4b<_0x5b2a4d['length']-(0x110d+0x1*-0x1268+0x57*0x4);++_0x215a4b)_0x18ff80+=_0x215a4b===-0x15*0x1ab+0x16a5+-0x5*-0x27a?_0x5b2a4d[_0x215a4b]:'/'+_0x5b2a4d[_0x215a4b];}else{for(_0x18ff80='.',_0x215a4b=0xbae+-0x161c+-0x216*-0x5;_0x215a4b<_0x5b2a4d['length']-(0x1729+-0x50e+0x14b*-0xe);++_0x215a4b)_0x18ff80+='/'+_0x5b2a4d[_0x215a4b];}}}else{for(_0x215a4b=-0xf67+0x121*0x4+0xae3;_0x215a4b<_0x5b2a4d['length']-(0x1b6b+0x23a1+-0x1*0x3f0b);++_0x215a4b)_0x18ff80+=_0x215a4b===0x30*-0xb4+0x1214+0x22*0x76?_0x5b2a4d[_0x215a4b]:'/'+_0x5b2a4d[_0x215a4b];}}return _0x18ff80;}},J0=()=>{let _0x310d8b=!(0x1*0x2271+0x19e3+-0x3c53);try{const _0xe2fc1e=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x310d8b=!(-0xd*-0x301+-0x1a22+-0x1*0xceb),!(-0x8d*0x1+0x1dbb+-0x1d2d);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0xe2fc1e),window['removeEven'+'tListener']('testpassiv'+'e',null,_0xe2fc1e);}catch{}return _0x310d8b;},Bi=typeof navigator<'u'?navigator['userAgent']:'',nh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Lm=/android/i['test'](Bi)?'android':/ip(?:[ao]d|hone)/i['test'](Bi)?'ios':/windows/i['test'](Bi)?'windows':/mac os/i['test'](Bi)?'osx':/linux/i['test'](Bi)?'linux':/cros/i['test'](Bi)?'cros':null,ex=nh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](Bi)?'chrome':/Safari\//['test'](Bi)?'safari':/Firefox\//['test'](Bi)?'firefox':'other',tx=nh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>-0x29a+0x2463+-0x21c9),sx=J0(),Ae={'name':Lm,'browser':nh==='browser','worker':nh==='worker','android':Lm==='android','touch':tx,'passiveEvents':sx,'browserName':ex},XS='abcdefghij'+'klmnopqrst'+'uvwxyz',qS='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',ix=XS+qS,Bf=0x171b4+0x15963*0x1+-0xa65d*0x3,jS=-0xc777*0x1+-0x1245c+0xac9*0x42,Rm=0x14473+0xef91+-0x15804,rx=-0x1*0x4b1f+0xa1b1+0x896d,ax=0x2ab*-0x8+0x1600+0x1f65,Om=-0x1ff36+-0x9*-0x4cd3+0x1*0x13db1,Fm=-0x2*0xf8f3+-0x3957e+-0x2eab*-0x29,nx=0x112ce+-0x37657*-0x1+-0x2952a,ox=0xf3f+0x32b4+0x1b20c,lx=-0x153*0xd+-0x1*-0x380b+0x1*-0x604,cx=-0x15c9+-0x2c49+-0xe27*-0x7,zf=-0x9d2a+0x106eb+0x1*0x943f,Vf=-0x10b24+0x692*-0x3a+0x13*0x2f7d;function Gf(_0x175ef2,_0x13fa32=0x2*-0xfbd+0x67*-0x4f+0xcd*0x4f){const _0x51914f=_0x175ef2['length'];if(_0x13fa32<-0x13a3+-0x829*-0x2+-0x11b*-0x3||_0x13fa32>=_0x51914f)return null;const _0x551e93=_0x175ef2['charCodeAt'](_0x13fa32);if(_0x51914f>-0xeae*0x1+0x1eee+-0x103f&&_0x551e93>=Bf&&_0x551e93<=jS){const _0x107959=_0x175ef2['charCodeAt'](_0x13fa32+(0x167d+-0x13bb+-0x2c1));if(_0x107959>=Rm&&_0x107959<=rx)return{'code':(_0x551e93-Bf)*(0x1*0x22d2+-0x1aec+-0x3e6)+_0x107959-Rm+(-0x55d*0x5b+-0xbbe+0x2f3cd),'long':!(-0x15*0x133+-0x17bb+0x30ea*0x1)};}return{'code':_0x551e93,'long':!(-0x1d6f+0x7*-0xda+0x17*0x18a)};}function fr(_0x5bd473,_0x3e5886,_0x5dc280){if(!_0x5bd473)return!(0x80a*-0x3+0x1314+0x50b);const _0x2f8d50=Gf(_0x5bd473);if(_0x2f8d50){const _0x6e1c03=_0x2f8d50['code'];return _0x6e1c03>=_0x3e5886&&_0x6e1c03<=_0x5dc280;}return!(-0xe6e+0x2356+-0x1*0x14e7);}function hx(_0x311d16,_0x2b7541){if(_0x2b7541===_0x311d16['length']-(0x52*0x60+0x73b+-0x25fa))return 0x2e9+-0xb1+-0x237;if(fr(_0x311d16[_0x2b7541],Bf,jS)){const _0x8a04c6=_0x311d16['substring'](_0x2b7541,_0x2b7541+(0x22d8+-0x12e9+-0x1*0xfed)),_0x4b68c8=_0x311d16['substring'](_0x2b7541+(0xd04+-0x8c*-0x5+-0x7df*0x2),_0x2b7541+(0x1*-0x232c+0x1aba+0x26*0x39));return fr(_0x4b68c8,nx,ox)||fr(_0x8a04c6,Om,Fm)&&fr(_0x4b68c8,Om,Fm)?-0x15*-0x137+-0x1e62*-0x1+-0x37e1:fr(_0x4b68c8,zf,Vf)?0x1*0x24e3+-0x11*0xc7+-0x17a9:-0x612*0x5+0x262f+-0x1*0x7d3;}return fr(_0x311d16[_0x2b7541+(-0x1*0x139+0x9de+-0x8a4)],zf,Vf)?-0x1*-0x632+-0x1541*-0x1+0x57d*-0x5:0x15*0xbe+0x1*0x1dee+-0x2d83;}const Hc={'ASCII_LOWERCASE':XS,'ASCII_UPPERCASE':qS,'ASCII_LETTERS':ix,'format'(_0x2e9289,..._0x5b894b){for(let _0x167878=0x636*-0x5+-0x161f+0x1*0x352d;_0x167878<_0x5b894b['length'];_0x167878++)_0x2e9289=_0x2e9289['replace']('{'+_0x167878+'}',_0x5b894b[_0x167878]);return _0x2e9289;},'getCodePoint'(_0x1c9c36,_0x1d2fe6){const _0xee160=Gf(_0x1c9c36,_0x1d2fe6);return _0xee160&&_0xee160['code'];},'getCodePoints'(_0xd289ec){if(typeof _0xd289ec!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x54f958=0x17*0x65+0x247c+0x1*-0x2d8f;const _0x385f26=[];let _0x13bef9;for(;_0x13bef9=Gf(_0xd289ec,_0x54f958);)_0x385f26['push'](_0x13bef9['code']),_0x54f958+=_0x13bef9['long']?-0x1b41+-0x1*-0x19bb+0xc4*0x2:-0x1*-0x17f3+-0x133*0x1+-0x16bf;return _0x385f26;},'getSymbols'(_0x241f6a){if(typeof _0x241f6a!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x24f548=-0x125*0x3+0x15ae+-0x123f;const _0xd1bc22=_0x241f6a['length'],_0x5d1126=[];let _0x11f9f2=-0x310+0x28a+0x86,_0x5d8fb2;for(;_0x24f548<_0xd1bc22;){if(_0x11f9f2+=hx(_0x241f6a,_0x24f548+_0x11f9f2),_0x5d8fb2=_0x241f6a[_0x24f548+_0x11f9f2],fr(_0x5d8fb2,lx,cx)&&(_0x5d8fb2=_0x241f6a[_0x24f548+_0x11f9f2++]),fr(_0x5d8fb2,zf,Vf)&&(_0x5d8fb2=_0x241f6a[_0x24f548+_0x11f9f2++]),_0x5d8fb2&&_0x5d8fb2['charCodeAt'](-0x1aab+-0x4*-0x565+0x517)===ax){_0x5d8fb2=_0x241f6a[_0x24f548+_0x11f9f2++];continue;}const _0x31a189=_0x241f6a['substring'](_0x24f548,_0x24f548+_0x11f9f2);_0x5d1126['push'](_0x31a189),_0x24f548+=_0x11f9f2,_0x11f9f2=-0xfa6*-0x1+-0x2349+0x13a3;}return _0x5d1126;},'fromCodePoint'(..._0x273f91){return _0x273f91['map'](_0x209e14=>_0x209e14>0x153e*0x10+0xa9*0x223+-0x4*0x6f3f?(_0x209e14-=0x13980+-0x9d*-0x185+-0x12811,String['fromCharCo'+'de']((_0x209e14>>0x1*-0x1d59+-0x2b5*-0x3+0x1544)+(0xa96+0x1a449+-0xd6df),_0x209e14%(0x90c+0x263b+-0x4cf*0x9)+(-0xd8b7+0x2*-0x91ea+0x495*0x9f))):String['fromCharCo'+'de'](_0x209e14))['join']('');}},Zr=class Zr{static['set'](_0x21eb76,_0x3dc23e=!(0xdd3*0x1+-0x1432+0x65f)){_0x3dc23e?Zr['_traceChan'+'nels']['add'](_0x21eb76):Zr['_traceChan'+'nels']['delete'](_0x21eb76);}static['get'](_0x41c4cb){return Zr['_traceChan'+'nels']['has'](_0x41c4cb);}};h(Zr,'_traceChan'+'nels',new Set()),h(Zr,'stack',!(-0x1bbd+-0xfb*-0x13+0x91d));let mi=Zr;const Vt=class Vt{static['deprecated'](_0xb37970){Vt['_loggedMes'+'sages']['has'](_0xb37970)||(Vt['_loggedMes'+'sages']['add'](_0xb37970),console['warn']('DEPRECATED'+':\x20'+_0xb37970));}static['removed'](_0x17a0f9){Vt['_loggedMes'+'sages']['has'](_0x17a0f9)||(Vt['_loggedMes'+'sages']['add'](_0x17a0f9),console['error']('REMOVED:\x20'+_0x17a0f9));}static['assertDepr'+'ecated'](_0x194c09,_0x16b766){_0x194c09||Vt['deprecated'](_0x16b766);}static['assert'](_0x5e7e91,..._0x28b06f){_0x5e7e91||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x28b06f);}static['assertDest'+'royed'](_0x10ad83){var _0xa517e;if(_0x10ad83!=null&&_0x10ad83['__alreadyD'+'estroyed']){const _0x534b0d='['+((_0xa517e=_0x10ad83['constructo'+'r'])==null?void(0x3d*0x83+-0x268c+0x755):_0xa517e['name'])+(']\x20with\x20nam'+'e\x20[')+_0x10ad83['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');Vt['_loggedMes'+'sages']['has'](_0x534b0d)||(Vt['_loggedMes'+'sages']['add'](_0x534b0d),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x534b0d,_0x10ad83));}}static['call'](_0x155704){_0x155704();}static['log'](..._0x14ccfd){console['log'](..._0x14ccfd);}static['logOnce'](_0x354162,..._0x3e71b5){Vt['_loggedMes'+'sages']['has'](_0x354162)||(Vt['_loggedMes'+'sages']['add'](_0x354162),console['log'](_0x354162,..._0x3e71b5));}static['warn'](..._0x4cd70d){console['warn'](..._0x4cd70d);}static['warnOnce'](_0x3635ad,..._0x3faf82){Vt['_loggedMes'+'sages']['has'](_0x3635ad)||(Vt['_loggedMes'+'sages']['add'](_0x3635ad),console['warn'](_0x3635ad,..._0x3faf82));}static['error'](..._0x281ede){console['error'](..._0x281ede);}static['errorOnce'](_0x2b914d,..._0xf63afa){Vt['_loggedMes'+'sages']['has'](_0x2b914d)||(Vt['_loggedMes'+'sages']['add'](_0x2b914d),console['error'](_0x2b914d,..._0xf63afa));}static['trace'](_0x327fec,..._0x328af8){mi['get'](_0x327fec)&&(console['groupColla'+'psed'](_0x327fec['padEnd'](-0x14*-0x163+0xb11*-0x2+-0x7*0xca,'\x20')+'|',..._0x328af8),console['groupEnd']());}};h(Vt,'_loggedMes'+'sages',new Set());let w=Vt;class Ea{static['setName'](_0x5c4454,_0x40bc2d){_0x5c4454&&(_0x5c4454['name']=_0x40bc2d);}static['setLabel'](_0x56bdf3,_0xe542d0){_0x56bdf3&&(_0x56bdf3['label']=_0xe542d0);}static['setDestroy'+'ed'](_0x433105){_0x433105&&(_0x433105['__alreadyD'+'estroyed']=!(0xd*-0x15d+0xf3*0x18+-0x5*0x103));}}class dx{constructor(_0x52829d,_0x106f90,_0x5ddcf5,_0x3cae28,_0x197ca9=!(0x1717+-0x1ff*0x1+-0x1517*0x1)){h(this,'handler'),h(this,'name'),h(this,'callback'),h(this,'scope'),h(this,'_once'),h(this,'_removed',!(-0x12c9+0x733+0x2b*0x45)),(this['handler']=_0x52829d,this['name']=_0x106f90,this['callback']=_0x5ddcf5,this['scope']=_0x3cae28,this['_once']=_0x197ca9);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x30f97f,_0xf30763,_0x168c3b=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x30f97f,_0xf30763,_0x168c3b,!(0x10d0+0x4*0x257+-0x4d*0x57));}['once'](_0x585aab,_0x4459e0,_0x145543=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x585aab,_0x4459e0,_0x145543,!(-0x12*0x1ec+-0x105f*0x2+0x4356));}set['removed'](_0x9e3371){_0x9e3371&&(this['_removed']=!(-0x359*0x1+-0xf2*-0xb+-0x70d));}get['removed'](){return this['_removed'];}['toJSON'](_0x1552b6){}}class me{constructor(){h(this,'_callbacks',new Map()),h(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x49b309,_0x422dd6,_0x3ecb24,_0x44c2b2){if((!_0x49b309||typeof _0x49b309!='string'||!_0x422dd6)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x49b309+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x422dd6),this['_callbacks']['has'](_0x49b309)||this['_callbacks']['set'](_0x49b309,[]),this['_callbackA'+'ctive']['has'](_0x49b309)){const _0x5e49b5=this['_callbackA'+'ctive']['get'](_0x49b309);_0x5e49b5&&_0x5e49b5===this['_callbacks']['get'](_0x49b309)&&this['_callbackA'+'ctive']['set'](_0x49b309,_0x5e49b5['slice']());}const _0x4ef291=new dx(this,_0x49b309,_0x422dd6,_0x3ecb24,_0x44c2b2);return this['_callbacks']['get'](_0x49b309)['push'](_0x4ef291),_0x4ef291;}['on'](_0x51867d,_0x3740ce,_0x108233=this){return this['_addCallba'+'ck'](_0x51867d,_0x3740ce,_0x108233,!(-0x2*0xb75+-0x2077+0x66*0x8b));}['once'](_0x42cd98,_0x481d56,_0x45ae8b=this){return this['_addCallba'+'ck'](_0x42cd98,_0x481d56,_0x45ae8b,!(-0x2e9*0x1+0x8b5+-0x5cc));}['off'](_0x333287,_0x45a10c,_0x5af1b4){if(_0x333287)this['_callbackA'+'ctive']['has'](_0x333287)&&this['_callbackA'+'ctive']['get'](_0x333287)===this['_callbacks']['get'](_0x333287)&&this['_callbackA'+'ctive']['set'](_0x333287,this['_callbackA'+'ctive']['get'](_0x333287)['slice']());else{for(const [_0x25d334,_0x7a48f8]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x25d334)&&this['_callbacks']['get'](_0x25d334)===_0x7a48f8&&this['_callbackA'+'ctive']['set'](_0x25d334,_0x7a48f8['slice']());}if(_0x333287){if(_0x45a10c){const _0x557937=this['_callbacks']['get'](_0x333287);if(!_0x557937)return this;for(let _0x2ea34a=-0x6*-0x557+0x959*0x3+-0x3c15;_0x2ea34a<_0x557937['length'];_0x2ea34a++)_0x557937[_0x2ea34a]['callback']===_0x45a10c&&(_0x5af1b4&&_0x557937[_0x2ea34a]['scope']!==_0x5af1b4||(_0x557937[_0x2ea34a]['removed']=!(-0x208b+0x8*-0x38b+0x3ce3),_0x557937['splice'](_0x2ea34a,-0xaf1+0x1fed*-0x1+-0x1b7*-0x19),_0x2ea34a--));_0x557937['length']===0xbc9*0x1+-0x1f76+-0x17*-0xdb&&this['_callbacks']['delete'](_0x333287);}else{const _0x4e094d=this['_callbacks']['get'](_0x333287);if(_0x4e094d){for(let _0x3e1f2d=-0x3a+0x16e2+-0x16a8;_0x3e1f2d<_0x4e094d['length'];_0x3e1f2d++)_0x4e094d[_0x3e1f2d]['removed']=!(0x18*-0x54+0x20a8+0x8*-0x319);this['_callbacks']['delete'](_0x333287);}}}else{for(const _0x6f0352 of this['_callbacks']['values']())for(let _0x4c11be=0xe*0xf4+-0x3*-0xb06+-0x1a*0x1c9;_0x4c11be<_0x6f0352['length'];_0x4c11be++)_0x6f0352[_0x4c11be]['removed']=!(0x1*-0xf0b+-0x1f70+0x2e7b);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x38449f){const _0x45836e=_0x38449f['name'];_0x38449f['removed']=!(0x15b2+0x2+0x73c*-0x3),this['_callbackA'+'ctive']['has'](_0x45836e)&&this['_callbackA'+'ctive']['get'](_0x45836e)===this['_callbacks']['get'](_0x45836e)&&this['_callbackA'+'ctive']['set'](_0x45836e,this['_callbackA'+'ctive']['get'](_0x45836e)['slice']());const _0x27ad8c=this['_callbacks']['get'](_0x45836e);if(!_0x27ad8c)return this;const _0x350d54=_0x27ad8c['indexOf'](_0x38449f);return _0x350d54!==-(-0x251d+0x1*-0x16b8+0x3bd6)&&(_0x27ad8c['splice'](_0x350d54,-0x10c7+-0x10*-0x10d+0x2*-0x4),_0x27ad8c['length']===-0xd*0x26+0x257*0xd+-0x97f*0x3&&this['_callbacks']['delete'](_0x45836e)),this;}['fire'](_0xe00da3,_0xe174f,_0x4a1cd2,_0x3d53db,_0x36a76a,_0x309a8e,_0x57475a,_0x3257f0,_0x21056b){if(!_0xe00da3)return this;const _0x45cf8b=this['_callbacks']['get'](_0xe00da3);if(!_0x45cf8b)return this;let _0x27b75b;this['_callbackA'+'ctive']['has'](_0xe00da3)?this['_callbackA'+'ctive']['get'](_0xe00da3)!==_0x45cf8b&&(_0x27b75b=_0x45cf8b['slice']()):this['_callbackA'+'ctive']['set'](_0xe00da3,_0x45cf8b);for(let _0x2b2e82=0x45*-0x3d+0x1f8c+-0x3*0x509;(_0x27b75b||this['_callbackA'+'ctive']['get'](_0xe00da3))&&_0x2b2e82<(_0x27b75b||this['_callbackA'+'ctive']['get'](_0xe00da3))['length'];_0x2b2e82++){const _0x3bc79e=(_0x27b75b||this['_callbackA'+'ctive']['get'](_0xe00da3))[_0x2b2e82];if(_0x3bc79e['callback']&&(_0x3bc79e['callback']['call'](_0x3bc79e['scope'],_0xe174f,_0x4a1cd2,_0x3d53db,_0x36a76a,_0x309a8e,_0x57475a,_0x3257f0,_0x21056b),_0x3bc79e['_once'])){const _0x1b833b=this['_callbacks']['get'](_0xe00da3),_0x2e005e=_0x1b833b?_0x1b833b['indexOf'](_0x3bc79e):-(-0x1cf5+0x106a+0xc8c);if(_0x2e005e!==-(0x224a+0x2*-0xca+-0x1*0x20b5)){this['_callbackA'+'ctive']['get'](_0xe00da3)===_0x1b833b&&this['_callbackA'+'ctive']['set'](_0xe00da3,this['_callbackA'+'ctive']['get'](_0xe00da3)['slice']());const _0x491730=this['_callbacks']['get'](_0xe00da3);if(!_0x491730)continue;_0x491730[_0x2e005e]['removed']=!(-0x1a6f+-0x1cb1+0x3720),_0x491730['splice'](_0x2e005e,-0x1a68+0xc0*-0x25+0x3629),_0x491730['length']===-0x3*0x757+-0x2097+-0x1b4e*-0x2&&this['_callbacks']['delete'](_0xe00da3);}}}return _0x27b75b||this['_callbackA'+'ctive']['delete'](_0xe00da3),this;}['hasEvent'](_0x1561db){var _0x2853e4;return!!((_0x2853e4=this['_callbacks']['get'](_0x1561db))!=null&&_0x2853e4['length']);}}class fx{constructor(){h(this,'_list',[]),h(this,'_index',{});}['push'](_0x2063ce,_0x2d7c6a){if(this['_index'][_0x2063ce])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x2063ce);const _0x52463c=this['_list']['push'](_0x2d7c6a)-(-0x526+-0x30d*-0xa+0x1*-0x195b);this['_index'][_0x2063ce]=_0x52463c;}['has'](_0x251f1f){return this['_index'][_0x251f1f]!==void(-0x4*-0x75e+-0x21*0x8a+-0xbae);}['get'](_0x5a76d8){const _0xc6c2aa=this['_index'][_0x5a76d8];return _0xc6c2aa!==void(0xfa*-0x2+-0x6c0+0x8b4)?this['_list'][_0xc6c2aa]:null;}['remove'](_0xb5a3b4){const _0xabb42b=this['_index'][_0xb5a3b4];if(_0xabb42b!==void(0x1f05+0x1*0x1216+-0xd*0x3c7)){this['_list']['splice'](_0xabb42b,0x1*-0xd53+0x1*0x25d+-0x1*-0xaf7),delete this['_index'][_0xb5a3b4];for(_0xb5a3b4 in this['_index']){const _0x2b1e7b=this['_index'][_0xb5a3b4];_0x2b1e7b>_0xabb42b&&(this['_index'][_0xb5a3b4]=_0x2b1e7b-(-0x1*0x111b+0x2331+-0x607*0x3));}return!(-0x5d*-0x21+0xcc2+-0x18bf);}return!(0x22dc+-0x1afb*-0x1+-0x3dd6);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=0x9a9*0x2+0x1d0*-0x5+0xd*-0xca;for(const _0x3a681a in this['_index'])delete this['_index'][_0x3a681a];}}const ux=_0x518b5c=>{const _0x13e319={};let _0x53ec5c=_0x13e319;return()=>(_0x53ec5c===_0x13e319&&(_0x53ec5c=_0x518b5c()),_0x53ec5c);},ii=class ii{static['loadScript'](_0xf0311d,_0x2f95c2){const _0x5306c8=document['createElem'+'ent']('script');_0x5306c8['setAttribu'+'te']('src',_0xf0311d),_0x5306c8['onload']=()=>{_0x2f95c2(null);},_0x5306c8['onerror']=()=>{_0x2f95c2('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0xf0311d+'\x27');},document['body']['appendChil'+'d'](_0x5306c8);}static['loadWasm'](_0xb49e2d,_0x10c8ef,_0x3c69fe){const _0x3faf28=ii['wasmSuppor'+'ted']()&&_0x10c8ef['glueUrl']&&_0x10c8ef['wasmUrl']?_0x10c8ef['glueUrl']:_0x10c8ef['fallbackUr'+'l'];_0x3faf28?ii['loadScript'](_0x3faf28,_0x48077c=>{if(_0x48077c)_0x3c69fe(_0x48077c,null);else{const _0x325b78=window[_0xb49e2d];window[_0xb49e2d]=void(-0x22f4+-0x958+0x87*0x54),_0x325b78({'locateFile':()=>_0x10c8ef['wasmUrl'],'onAbort':()=>{_0x3c69fe('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x41676b=>{_0x3c69fe(null,_0x41676b);});}}):_0x3c69fe('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x1e58e4){return ii['modules']['hasOwnProp'+'erty'](_0x1e58e4)||(ii['modules'][_0x1e58e4]={'config':null,'initializing':!(-0xf6d*0x2+0x4*0x91a+-0x58d),'instance':null,'callbacks':[]}),ii['modules'][_0x1e58e4];}static['initialize'](_0x58587d,_0x13e819){if(_0x13e819['initializi'+'ng'])return;const _0x200b80=_0x13e819['config'];(_0x200b80['glueUrl']||_0x200b80['wasmUrl']||_0x200b80['fallbackUr'+'l'])&&(_0x13e819['initializi'+'ng']=!(0x2255+-0xf83+-0x12d2),ii['loadWasm'](_0x58587d,_0x200b80,(_0x537f70,_0x8a1efd)=>{_0x537f70?_0x200b80['errorHandl'+'er']?_0x200b80['errorHandl'+'er'](_0x537f70):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0x58587d+'\x20error='+_0x537f70):(_0x13e819['instance']=_0x8a1efd,_0x13e819['callbacks']['forEach'](_0x5b792a=>{_0x5b792a(_0x8a1efd);}));}));}};h(ii,'modules',{}),h(ii,'wasmSuppor'+'ted',ux(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x5f291c=new WebAssembly['Module'](Uint8Array['of'](0x1f26+0x2031+-0x3f57,-0xf38*0x2+-0x1*0x77+-0x34*-0x9a,-0x2b*-0x2c+0x217d*-0x1+0x1a8c,0x1*-0x1092+0x1df*0x9+0x28,-0x258c+-0x264d+-0x7*-0xad6,0xda5+0x1e8c+-0x2c31,-0x233e+-0x7*0xc7+0x823*0x5,-0xccf+-0xa78+-0x1*-0x1747));if(_0x5f291c instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x5f291c)instanceof WebAssembly['Instance'];}}catch{}return!(0x44*0x8d+0x4*-0x845+-0x45f);}));let Yr=ii;class YS{static['setConfig'](_0x3c8aa3,_0x12ea52){const _0x3eb6c8=Yr['getModule'](_0x3c8aa3);_0x3eb6c8['config']=_0x12ea52,_0x3eb6c8['callbacks']['length']>-0x26fd+-0x1*-0x2333+-0x1*-0x3ca&&Yr['initialize'](_0x3c8aa3,_0x3eb6c8);}static['getConfig'](_0x1fc11f){var _0x1858c3,_0x449686;return(_0x449686=(_0x1858c3=Yr['modules'])==null?void(-0x1*-0x1000+-0xb2e*-0x1+-0x1b2e):_0x1858c3[_0x1fc11f])==null?void(-0x51e+-0x1c7d+0x219b):_0x449686['config'];}static['getInstanc'+'e'](_0x38fab8,_0x2bab2b){const _0x28da9d=Yr['getModule'](_0x38fab8);_0x28da9d['instance']?_0x2bab2b(_0x28da9d['instance']):(_0x28da9d['callbacks']['push'](_0x2bab2b),_0x28da9d['config']&&Yr['initialize'](_0x38fab8,_0x28da9d));}}class KS{constructor(_0x37bbae){h(this,'arraybuffe'+'r'),h(this,'dataView'),h(this,'offset',0x4b*0x76+0x1d1c+-0x3fae),(this['arraybuffe'+'r']=_0x37bbae,this['dataView']=new DataView(_0x37bbae));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x157d3e=0x9a9*0x1+-0xbc+-0x8ed*0x1){this['offset']=_0x157d3e;}['skip'](_0x556159){this['offset']+=_0x556159;}['align'](_0x3c7294){this['offset']=this['offset']+_0x3c7294-(-0x3*-0x91b+0x33a*-0x9+0x1a*0x11)&~(_0x3c7294-(-0xc11*-0x3+-0xf03+-0x1ed*0xb));}['_inc'](_0x9c1671){return this['offset']+=_0x9c1671,this['offset']-_0x9c1671;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x402055){let _0x2a1f00='';for(let _0x295a8d=-0xa3*-0x22+-0x1fb4*-0x1+-0x355a;_0x295a8d<_0x402055;++_0x295a8d)_0x2a1f00+=this['readChar']();return _0x2a1f00;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](-0x124e+-0x1ee4+0x3134),!(0x1*-0x1f63+0x5*0x74b+-0x514));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](0x22a9+-0xfab+-0x12fa),!(0x1859+0x1c1*-0x1+-0x1698));}['readU64'](){return this['readU32']()+(-0x1*-0x789+-0x45b+-0x32c)**(0x22*-0xbf+0x11cd+0x7b1)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](-0x188f+0x10c0+0x1*0x7d3),!(0x996+-0x265*-0x2+-0xe5f));}['readArray'](_0xa86f8c){for(let _0x5a526b=0x1058+-0x258d+0x1535;_0x5a526b<_0xa86f8c['length'];++_0x5a526b)_0xa86f8c[_0x5a526b]=this['readU8']();}['readLine'](){const _0x1cfd9a=this['dataView'];let _0x3a76b8='';for(;!(this['offset']>=_0x1cfd9a['byteLength']);){const _0x6c1117=String['fromCharCo'+'de'](this['readU8']());if(_0x6c1117==='\x0a')break;_0x3a76b8+=_0x6c1117;}return _0x3a76b8;}}class oh{constructor(_0x3f3c92){h(this,'items',[]),h(this,'length',-0x1c56+-0x294+-0x2*-0xf75),h(this,'loopIndex',-(0x1389+0x13cb+-0x2753)),h(this,'_sortBy'),h(this,'_sortHandl'+'er'),(this['_sortBy']=_0x3f3c92['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x2165cb){let _0x1bd244=-0xece*-0x2+0x139*-0x1+-0x1c63,_0x192e1=this['items']['length']-(0x659*-0x1+0x13*0x1a3+-0xb5*0x23);const _0xd2b0b5=_0x2165cb[this['_sortBy']];let _0x1ae281,_0x153b7a;for(;_0x1bd244<=_0x192e1;)_0x1ae281=Math['floor']((_0x1bd244+_0x192e1)/(-0x14ff+0x1543+0x42*-0x1)),_0x153b7a=this['items'][_0x1ae281][this['_sortBy']],_0x153b7a<=_0xd2b0b5?_0x1bd244=_0x1ae281+(0xee6*0x2+-0x1df9+-0x1*-0x2e):_0x153b7a>_0xd2b0b5&&(_0x192e1=_0x1ae281-(0x2e5*0x9+0x1*0x26ec+0x6*-0xad4));return _0x1bd244;}['_doSort'](_0x389391,_0x2f91ca){const _0x5d3411=this['_sortBy'];return _0x389391[_0x5d3411]-_0x2f91ca[_0x5d3411];}['insert'](_0x5507ad){const _0x17c86e=this['_binarySea'+'rch'](_0x5507ad);this['items']['splice'](_0x17c86e,0x101e+0x265d+0x367b*-0x1,_0x5507ad),this['length']++,this['loopIndex']>=_0x17c86e&&this['loopIndex']++;}['append'](_0x92ee9a){this['items']['push'](_0x92ee9a),this['length']++;}['remove'](_0x22f3fd){const _0x1f0fa1=this['items']['indexOf'](_0x22f3fd);_0x1f0fa1<0x13e7+0xb3*0xe+-0x1*0x1db1||(this['items']['splice'](_0x1f0fa1,-0x5*-0x511+0x59*-0xb+-0x16f*0xf),this['length']--,this['loopIndex']>=_0x1f0fa1&&this['loopIndex']--);}['sort'](){const _0x27254d=this['loopIndex']>=-0x1f5+-0x971*-0x2+-0x10ed?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x27254d!==null&&(this['loopIndex']=this['items']['indexOf'](_0x27254d));}}class Oo extends me{constructor(_0x35ff10){super(),h(this,'_index',{}),h(this,'_list',[]),this['_parent']=_0x35ff10;}['add'](..._0x2cdaba){let _0x3d47fb=!(0xd1+-0xc24+0xb54);const _0x1f9f41=this['_processAr'+'guments'](_0x2cdaba,!(-0x133b+-0xda+0x1415));if(!_0x1f9f41['length'])return _0x3d47fb;for(let _0x459b0c=0x15f7*-0x1+-0x114a+0x2741;_0x459b0c<_0x1f9f41['length'];_0x459b0c++)this['_index'][_0x1f9f41[_0x459b0c]]||(_0x3d47fb=!(-0x3f8*-0x4+0x3*-0x35b+0x5cf*-0x1),this['_index'][_0x1f9f41[_0x459b0c]]=!(0x12f*-0x15+-0x142*-0x2+0x7*0x331),this['_list']['push'](_0x1f9f41[_0x459b0c]),this['fire']('add',_0x1f9f41[_0x459b0c],this['_parent']));return _0x3d47fb&&this['fire']('change',this['_parent']),_0x3d47fb;}['remove'](..._0x41caa3){let _0x41333e=!(0xdf1+-0x6f*-0x27+0x35*-0x95);if(!this['_list']['length'])return _0x41333e;const _0x1aacc7=this['_processAr'+'guments'](_0x41caa3,!(0xf3b+0x1*0x23d4+-0x330f));if(!_0x1aacc7['length'])return _0x41333e;for(let _0x408942=-0x78d*0x3+0x1a66+-0x3bf*0x1;_0x408942<_0x1aacc7['length'];_0x408942++)this['_index'][_0x1aacc7[_0x408942]]&&(_0x41333e=!(-0xea6+-0x68+0x29*0x5e),delete this['_index'][_0x1aacc7[_0x408942]],this['_list']['splice'](this['_list']['indexOf'](_0x1aacc7[_0x408942]),-0x1163+-0xe72*-0x2+0x2e*-0x40),this['fire']('remove',_0x1aacc7[_0x408942],this['_parent']));return _0x41333e&&this['fire']('change',this['_parent']),_0x41333e;}['clear'](){if(!this['_list']['length'])return;const _0xeafbcd=this['_list']['slice'](0x3*0x112+-0x2*-0xc4b+-0x3*0x944);this['_list']=[],this['_index']={};for(let _0x3855a5=-0x11be+0xd5*0x3+0xf3f;_0x3855a5<_0xeafbcd['length'];_0x3855a5++)this['fire']('remove',_0xeafbcd[_0x3855a5],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x47822a){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x47822a)):!(-0xc51+0x193*0x17+0x1*-0x17e3);}['_has'](_0x16ab2c){if(!this['_list']['length']||!_0x16ab2c['length'])return!(0x2135+0xa51+0xd*-0x359);for(let _0x1ca5e2=0x19b3+-0x1519+-0x49a;_0x1ca5e2<_0x16ab2c['length'];_0x1ca5e2++)if(_0x16ab2c[_0x1ca5e2]['length']===-0xba2+-0x1*-0xdd+0xc5*0xe){if(this['_index'][_0x16ab2c[_0x1ca5e2][-0x1*-0x72d+-0x1cac+0x1*0x157f]])return!(0x11f*-0x19+0x14dc+0x72b);}else{let _0x3a13f9=!(-0x10*-0x238+0x1*-0xb1+-0x22cf);for(let _0xdb6ae8=0xca8+-0x184e+0xba6;_0xdb6ae8<_0x16ab2c[_0x1ca5e2]['length'];_0xdb6ae8++)if(!this['_index'][_0x16ab2c[_0x1ca5e2][_0xdb6ae8]]){_0x3a13f9=!(-0x1acc+-0xaec+-0xc93*-0x3);break;}if(_0x3a13f9)return!(-0x16e7+0x19a4+-0x2bd);}return!(-0x2184+-0xf1a*0x1+0x309f);}['list'](){return this['_list']['slice'](-0x9*0xa3+0x1559+0xf9e*-0x1);}['_processAr'+'guments'](_0x924d80,_0x174756){const _0x2d2400=[];let _0x3689c2=[];if(!_0x924d80||!_0x924d80['length'])return _0x2d2400;for(let _0x127054=0x2455*0x1+0x14d2+-0x130d*0x3;_0x127054<_0x924d80['length'];_0x127054++)if(_0x924d80[_0x127054]instanceof Array){_0x174756||(_0x3689c2=[]);for(let _0x2bb38e=0x18d1+0x1*-0xf6a+0x1d*-0x53;_0x2bb38e<_0x924d80[_0x127054]['length'];_0x2bb38e++)typeof _0x924d80[_0x127054][_0x2bb38e]=='string'&&(_0x174756?_0x2d2400['push'](_0x924d80[_0x127054][_0x2bb38e]):_0x3689c2['push'](_0x924d80[_0x127054][_0x2bb38e]));!_0x174756&&_0x3689c2['length']&&_0x2d2400['push'](_0x3689c2);}else typeof _0x924d80[_0x127054]=='string'&&(_0x174756?_0x2d2400['push'](_0x924d80[_0x127054]):_0x2d2400['push']([_0x924d80[_0x127054]]));return _0x2d2400;}get['size'](){return this['_list']['length'];}}h(Oo,'EVENT_ADD','add'),h(Oo,'EVENT_REMO'+'VE','remove'),h(Oo,'EVENT_CHAN'+'GE','change');const de=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],px=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class Rd{constructor(_0x2f98fa){h(this,'scheme'),h(this,'authority'),h(this,'path'),h(this,'query'),h(this,'fragment');const _0xba7dbf=_0x2f98fa['match'](px);this['scheme']=_0xba7dbf[0x1ecb+-0xc7e+0x1*-0x124b],this['authority']=_0xba7dbf[-0x1f0*0xe+-0x3b6*-0x4+0x626*0x2],this['path']=_0xba7dbf[0x1*0x11e9+-0x1e71*-0x1+-0x3055],this['query']=_0xba7dbf[-0x1d43+0x15ae+0x79c],this['fragment']=_0xba7dbf[-0x70a+-0x1a2d+0x70*0x4c];}['toString'](){let _0x37b55a='';return this['scheme']&&(_0x37b55a+=this['scheme']+':'),this['authority']&&(_0x37b55a+='//'+this['authority']),_0x37b55a+=this['path'],this['query']&&(_0x37b55a+='?'+this['query']),this['fragment']&&(_0x37b55a+='#'+this['fragment']),_0x37b55a;}['getQuery'](){const _0x202c78={};if(this['query']){const _0x2d0417=decodeURIComponent(this['query'])['split']('&');for(const _0x2582e7 of _0x2d0417){const _0x1bea75=_0x2582e7['split']('=');_0x202c78[_0x1bea75[-0x71*-0x26+0x4cc*-0x6+0x2*0x601]]=_0x1bea75[-0x2*-0x397+-0xe2b+-0xb3*-0xa];}}return _0x202c78;}['setQuery'](_0x29c89e){let _0x2b58c3='';for(const _0x381f38 in _0x29c89e)_0x29c89e['hasOwnProp'+'erty'](_0x381f38)&&(_0x2b58c3!==''&&(_0x2b58c3+='&'),_0x2b58c3+=encodeURIComponent(_0x381f38)+'='+encodeURIComponent(_0x29c89e[_0x381f38]));this['query']=_0x2b58c3;}}const mx=0x26f6+0x26e2+-0x2f*0x1a8,tp=0xc44+0x649+-0x4*0x4a3,Nm=-0x1*-0x3a5+-0xb25+0x784,_x=-0x1515+0x536+0xfe4,Y={'DEG_TO_RAD':Math['PI']/(-0xf71+-0xf0b+0x1f30),'RAD_TO_DEG':(-0x2458+-0x1bce*-0x1+0x93e)/Math['PI'],'clamp'(_0x538403,_0x283a76,_0x121fe7){return _0x538403>=_0x121fe7?_0x121fe7:_0x538403<=_0x283a76?_0x283a76:_0x538403;},'intToBytes24'(_0x9f29e4){const _0x210bc2=_0x9f29e4>>-0x5*0x385+-0x1414+0x25bd&0x1ca9+-0x2155*0x1+0x5ab,_0x5f1da4=_0x9f29e4>>-0x2f9+0x1bfd*-0x1+-0x1efe*-0x1&-0x146b+-0x1d5+-0xb*-0x21d,_0x250ffb=_0x9f29e4&0x22fc+0x6*0x51b+-0xe9*0x47;return[_0x210bc2,_0x5f1da4,_0x250ffb];},'intToBytes32'(_0x5c8b73){const _0x1d4601=_0x5c8b73>>0x17f*-0x4+-0x241c+0x2a30&0x6eb+0x1900+-0xf76*0x2,_0x115660=_0x5c8b73>>0x2230+-0x1add+0x743*-0x1&-0x1*-0xb45+-0x2702+0x72f*0x4,_0x6e262e=_0x5c8b73>>0x66*-0x29+0x17*-0x97+0x1def*0x1&-0x1afd+-0x1b3+0x1daf,_0x5d2e00=_0x5c8b73&0x771+0x7f7*-0x3+0x3*0x5d1;return[_0x1d4601,_0x115660,_0x6e262e,_0x5d2e00];},'bytesToInt24'(_0x1bb446,_0x2bb7ac,_0x4d3bfc){return _0x1bb446['length']&&(_0x4d3bfc=_0x1bb446[-0x749*-0x5+0x647+-0x2ab2],_0x2bb7ac=_0x1bb446[0x998*-0x2+0x173*-0xe+0x277b],_0x1bb446=_0x1bb446[-0xfc2+-0x47*0x77+0x30c3]),_0x1bb446<<-0x22b7*-0x1+-0x6d5*-0x3+-0x3726|_0x2bb7ac<<-0x6*-0x4fd+0xa39*-0x3+-0xc5*-0x1|_0x4d3bfc;},'bytesToInt32'(_0xe1d447,_0x3439c4,_0x293231,_0x841a4f){return _0xe1d447['length']&&(_0x841a4f=_0xe1d447[-0x751*0x4+-0x2*-0x53a+0x1*0x12d3],_0x293231=_0xe1d447[-0x5d2+-0x643+-0xc17*-0x1],_0x3439c4=_0xe1d447[0x14b*0x9+0x41*-0x40+0x1*0x49e],_0xe1d447=_0xe1d447[-0x1d60+-0xc15*-0x1+-0x114b*-0x1]),(_0xe1d447<<-0x1*0x1cfb+0x715+-0x1*-0x15fe|_0x3439c4<<-0xad*-0xe+0x41*-0x3+-0x43*0x21|_0x293231<<-0x11d9+0xb*0x25+0x104a|_0x841a4f)>>>-0x1bc8+0xf*0x53+0x1*0x16eb;},'lerp'(_0x6f59d3,_0x1c7900,_0x35a887){return _0x6f59d3+(_0x1c7900-_0x6f59d3)*Y['clamp'](_0x35a887,0x98f+0x2043+-0x29d2,0x1*-0x1a2d+-0x1c*-0xb7+0x107*0x6);},'lerpAngle'(_0x31f09f,_0x4d1a4c,_0x39a39d){return _0x4d1a4c-_0x31f09f>0xfaa+-0x1a55+0xb5f&&(_0x4d1a4c-=0x4a1+0x2*-0xed1+0x1a69),_0x4d1a4c-_0x31f09f<-(0x3*0x65b+0xfa6+-0x1*0x2203)&&(_0x4d1a4c+=0x69b*-0x1+0x2653+-0x50*0x61),Y['lerp'](_0x31f09f,_0x4d1a4c,Y['clamp'](_0x39a39d,0x10a6+0x1*-0x2615+-0x156f*-0x1,0x8*-0x12+0x3*-0xae7+0x2146));},'powerOfTwo'(_0x58d9c6){return _0x58d9c6!==0x25e7+-0x19d3+-0xc14&&!(_0x58d9c6&_0x58d9c6-(-0xa8c+0x10c9+-0x1*0x63c));},'nextPowerOfTwo'(_0x49cb9b){return _0x49cb9b--,_0x49cb9b|=_0x49cb9b>>-0x21d7+0xa*-0x2d4+0xe0*0x47,_0x49cb9b|=_0x49cb9b>>0x1*0x1f+0x2578+-0xc87*0x3,_0x49cb9b|=_0x49cb9b>>0x1*0x2018+0xb10+-0x2b24,_0x49cb9b|=_0x49cb9b>>-0x12e7+0x1*-0x166+-0x1*-0x1455,_0x49cb9b|=_0x49cb9b>>-0x990+-0x2579+0x2f19,_0x49cb9b++,_0x49cb9b;},'nearestPowerOfTwo'(_0x3d63c8){return Math['pow'](-0x917*0x4+-0xc00+-0x97*-0x52,Math['round'](Math['log2'](_0x3d63c8)));},'random'(_0x17370f,_0x5ad4ed){const _0x22358d=_0x5ad4ed-_0x17370f;return Math['random']()*_0x22358d+_0x17370f;},'smoothstep'(_0x3537dd,_0x364f55,_0x26a309){return _0x26a309<=_0x3537dd?0xced+0x15b8+-0x22a5*0x1:_0x26a309>=_0x364f55?0x24eb*-0x1+0xc*-0xce+0xba5*0x4:(_0x26a309=(_0x26a309-_0x3537dd)/(_0x364f55-_0x3537dd),_0x26a309*_0x26a309*(0x751*0x4+0x124+-0x1e65-(0x1ce9*-0x1+-0x1*0x1fc0+-0x3cab*-0x1)*_0x26a309));},'smootherstep'(_0x18a4fb,_0x31baeb,_0x19e1f1){return _0x19e1f1<=_0x18a4fb?0x322+0x6b*-0x9+-0xa1*-0x1:_0x19e1f1>=_0x31baeb?0xd*-0x18d+-0x2229+0x3653:(_0x19e1f1=(_0x19e1f1-_0x18a4fb)/(_0x31baeb-_0x18a4fb),_0x19e1f1*_0x19e1f1*_0x19e1f1*(_0x19e1f1*(_0x19e1f1*(-0x661*-0x2+-0x1645+0x1*0x989)-(0x1538+0x1ffe+-0x3527))+(0x212*0x4+-0x188a+0x2*0x826)));},'roundUp'(_0x5467d0,_0x1592ca){return _0x1592ca===-0x273+-0x153f+0x17b2?_0x5467d0:Math['ceil'](_0x5467d0/_0x1592ca)*_0x1592ca;},'between'(_0x597623,_0x282240,_0x3e19a5,_0x5b7c0a){const _0x12f194=Math['min'](_0x282240,_0x3e19a5),_0x42f04b=Math['max'](_0x282240,_0x3e19a5);return _0x5b7c0a?_0x597623>=_0x12f194&&_0x597623<=_0x42f04b:_0x597623>_0x12f194&&_0x597623<_0x42f04b;}},Tt=class Tt{constructor(_0x2121b0=-0x1*0xca1+-0xfae+0x1c4f,_0x5b6441=0x1e48+-0x69d+-0x17ab,_0x2239bf=0x13da+-0xe61+-0x579,_0x5be440=-0xb5c+-0x2*-0x1158+-0x1753){h(this,'r'),h(this,'g'),h(this,'b'),h(this,'a');const _0x24c03e=_0x2121b0['length'];_0x24c03e===0x91c+0x1607*-0x1+-0x14b*-0xa||_0x24c03e===-0x29*0x43+-0x1af8+0x25b7?(this['r']=_0x2121b0[-0x11c3+-0x2*-0xb7+0x1055],this['g']=_0x2121b0[0x770+-0x1ab5+0x1346],this['b']=_0x2121b0[0x5c*0x17+0x69d*-0x1+-0x1a5],this['a']=_0x2121b0[0x13e2+-0x99*-0x22+-0x2831]??-0x1a2f+0x5de+0x6*0x363):(this['r']=_0x2121b0,this['g']=_0x5b6441,this['b']=_0x2239bf,this['a']=_0x5be440);}['clone'](){const _0x5c9665=this['constructo'+'r'];return new _0x5c9665(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x59d372){return this['r']=_0x59d372['r'],this['g']=_0x59d372['g'],this['b']=_0x59d372['b'],this['a']=_0x59d372['a'],this;}['equals'](_0x2841dd){return this['r']===_0x2841dd['r']&&this['g']===_0x2841dd['g']&&this['b']===_0x2841dd['b']&&this['a']===_0x2841dd['a'];}['set'](_0x1b2abd,_0x98ca2a,_0x4f4617,_0x3b5ede=-0x1c1e+-0x49*-0x5d+-0x52*-0x5){return this['r']=_0x1b2abd,this['g']=_0x98ca2a,this['b']=_0x4f4617,this['a']=_0x3b5ede,this;}['lerp'](_0x4467d2,_0x5e5103,_0x4f6393){return this['r']=_0x4467d2['r']+_0x4f6393*(_0x5e5103['r']-_0x4467d2['r']),this['g']=_0x4467d2['g']+_0x4f6393*(_0x5e5103['g']-_0x4467d2['g']),this['b']=_0x4467d2['b']+_0x4f6393*(_0x5e5103['b']-_0x4467d2['b']),this['a']=_0x4467d2['a']+_0x4f6393*(_0x5e5103['a']-_0x4467d2['a']),this;}['linear'](_0x1e601b=this){return this['r']=Math['pow'](_0x1e601b['r'],0x1fd0+-0x2110+-0x2*-0xa1+0.20000000000000018),this['g']=Math['pow'](_0x1e601b['g'],-0x1bc5*-0x1+0x2419+-0x86*0x7a+0.20000000000000018),this['b']=Math['pow'](_0x1e601b['b'],0x11*0x202+-0x21*0x13+0x3*-0xa8f+0.20000000000000018),this['a']=_0x1e601b['a'],this;}['gamma'](_0x3ecdcd=this){return this['r']=Math['pow'](_0x3ecdcd['r'],(0x685*0x2+0x140+-0x4c3*0x3)/(0x8*0x475+-0x17*0xdf+0x1*-0xf9d+0.20000000000000018)),this['g']=Math['pow'](_0x3ecdcd['g'],(0x2016+-0x55*0x29+-0x1*0x1278)/(-0x2b*0x83+0x993+-0x4*-0x31c+0.20000000000000018)),this['b']=Math['pow'](_0x3ecdcd['b'],(0x1b17+0x1c*0x50+-0x23d6)/(-0x19*-0x9+-0x209a+0x1*0x1fbb+0.20000000000000018)),this['a']=_0x3ecdcd['a'],this;}['mulScalar'](_0x44e267){return this['r']*=_0x44e267,this['g']*=_0x44e267,this['b']*=_0x44e267,this;}['fromString'](_0x4a18aa){const _0x473f60=parseInt(_0x4a18aa['replace']('#','0x'),-0x799*0x3+-0x10ae+0x15d*0x1d);let _0x46d8d7;return _0x4a18aa['length']>0xfb+-0x23e2+0x22ee?_0x46d8d7=Y['intToBytes'+'32'](_0x473f60):(_0x46d8d7=Y['intToBytes'+'24'](_0x473f60),_0x46d8d7[-0x1cc8+-0x504*0x4+0x30db]=-0xe62+0x18bd+-0x4*0x257),this['set'](_0x46d8d7[-0x589*0x3+0x1*0x1b2e+-0x1*0xa93]/(-0x143f+-0x1*0x1e2f+0x336d*0x1),_0x46d8d7[0x1162+0xfe*0x4+-0x1559]/(-0x10*0xe9+0x1960+-0x9d1),_0x46d8d7[-0x12b2+-0x1370+0x2*0x1312]/(0x1cb2+-0x1*-0x1681+-0x3234),_0x46d8d7[0x19b1+0x591*0x2+-0x26*0xf8]/(-0x8a9*-0x1+-0x16e0+-0x79b*-0x2)),this;}['fromArray'](_0x3f3743,_0x3f1fc4=0x236*0xb+-0x1*0x232e+0x5*0x22c){return this['r']=_0x3f3743[_0x3f1fc4]??this['r'],this['g']=_0x3f3743[_0x3f1fc4+(-0x2*0x443+-0x37f*0x7+-0x58*-0x60)]??this['g'],this['b']=_0x3f3743[_0x3f1fc4+(-0x1*-0x7ec+0x2154+-0x293e*0x1)]??this['b'],this['a']=_0x3f3743[_0x3f1fc4+(0x20b9*0x1+0x72f*0x4+0x11e*-0x37)]??this['a'],this;}['toString'](_0x7448a4,_0x3f681a){const {r:_0x374325,g:_0x455c5,b:_0x174e70,a:_0x1eb00f}=this;if(_0x3f681a||_0x374325>-0x1f09+-0x17d9+0x36e3||_0x455c5>-0xe15*0x1+0x4*0x7e3+-0x1176||_0x174e70>-0xa*-0x1f3+-0x1f32+-0x1b*-0x6f)return _0x374325['toFixed'](0xb56+-0x552*0x1+-0x601)+',\x20'+_0x455c5['toFixed'](-0x5b*0xd+-0x5*-0x18f+-0x329)+',\x20'+_0x174e70['toFixed'](0x12*-0x1a1+0x1*0x1bad+0x8*0x35)+',\x20'+_0x1eb00f['toFixed'](-0x4*0x3bc+0x8*0x1af+0x17b);let _0x71ca46='#'+((0x4a9+0x2112+-0x25ba*0x1<<-0x1100+-0x145*0x14+0x2a7c*0x1)+(Math['round'](_0x374325*(-0x2199+-0x2*-0x114d+-0x1*0x2))<<-0x18f8+-0x51d*0x1+0x1*0x1e25)+(Math['round'](_0x455c5*(0x2*-0xa86+-0x4*-0x2f4+0x3*0x369))<<0x2*-0x1051+0x3*-0xc42+0x4570)+Math['round'](_0x174e70*(0xc1*-0x2c+0x1*-0x1ead+-0x40d8*-0x1)))['toString'](0x18*0x185+-0x46a+-0x1ffe)['slice'](0x17*0x153+0x24bc+-0x4330);if(_0x7448a4===!(-0x1*-0x719+-0x1d*-0xa6+-0x19e7*0x1)){const _0x2c43fc=Math['round'](_0x1eb00f*(-0x2425*-0x1+-0x171*-0x12+-0x3d18))['toString'](-0xd0e+-0x1*-0x95f+0x3bf*0x1);this['a']<(-0x18*-0x1+0x71*-0x58+0x4*0x9b4)/(0x7be+0x1340+-0x19ff)?_0x71ca46+='0'+_0x2c43fc:_0x71ca46+=_0x2c43fc;}return _0x71ca46;}['toArray'](_0x5e7e=[],_0x1a0c8d=-0x517*-0x5+0x1155+-0x2*0x1564,_0x28606c=!(0x20d5*0x1+-0x1524+0x49*-0x29)){return _0x5e7e[_0x1a0c8d]=this['r'],_0x5e7e[_0x1a0c8d+(-0x1c0d+-0x6a*-0x49+0x22c*-0x1)]=this['g'],_0x5e7e[_0x1a0c8d+(-0x1*-0x48b+0x72c+-0xbb5*0x1)]=this['b'],_0x28606c&&(_0x5e7e[_0x1a0c8d+(-0x7*0x22a+0x2088+-0x115f)]=this['a']),_0x5e7e;}};h(Tt,'BLACK',Object['freeze'](new Tt(-0x25dd*0x1+-0xca9+0x3286,-0x2*-0x371+0x3*0x28d+-0xe89,0x8e9*0x1+-0x1899+0xfb0,0x44b+0x1e5*-0x11+0x1beb*0x1))),h(Tt,'BLUE',Object['freeze'](new Tt(0x59*-0x3b+0x3dd*-0x7+0x2f8e*0x1,0x2415+0x1*0x1321+-0x3736,0x7*-0x28d+-0x1*0x195a+0x2b36,-0x15e6+0x11*0x1d+0x13fa))),h(Tt,'CYAN',Object['freeze'](new Tt(0x33*0x59+0x2*-0xc2e+0x6a1*0x1,0x229a+0x11a5*0x1+-0x5ce*0x9,0x1f09+0x3*0x477+-0x2c6d,-0x1389*-0x1+0x18ae*-0x1+0x526))),h(Tt,'GRAY',Object['freeze'](new Tt(0x2627+0x1*0x2456+-0x4a7d+0.5,-0x1f1+-0x406*0x1+0x5f7+0.5,-0x22f9+-0xb72*0x2+0x1*0x39dd+0.5,0xf42+0x18*-0x36+0xa31*-0x1))),h(Tt,'GREEN',Object['freeze'](new Tt(0x167b+0x7*0x449+-0x1*0x347a,-0x2*-0xc12+-0x1d5c+0xbf*0x7,-0x1b77+-0x260d+-0x7*-0x95c,-0x9a4+0x75f+0x246))),h(Tt,'MAGENTA',Object['freeze'](new Tt(-0x1b55+-0x7c*0x1+0x1bd2,-0x80*-0xf+-0x95*-0x19+-0x469*0x5,0x807+0x3*0x15d+-0x7*0x1bb,0x5*-0x55b+-0x2*0xcf+0x5*0x5ae))),h(Tt,'RED',Object['freeze'](new Tt(0x718+0x2*0xce7+-0x20e5,0x1008+0x1c+0x1*-0x1024,0x264e*0x1+-0x6e*0x45+-0x8a8,0x202f+-0xfd*0x17+-0x973))),h(Tt,'WHITE',Object['freeze'](new Tt(-0xa90*-0x1+0x1*-0x9ad+-0xe2,0x1b3a+-0x2*0x46+0x1aad*-0x1,0x22ae+-0x1980+-0x92d,-0x1cf1+-0x579+0x226b))),h(Tt,'YELLOW',Object['freeze'](new Tt(-0xc73+0xe06*0x2+-0xf98,-0xe38+0xf14*-0x2+0x2c61,-0x97*-0x1+0x76b+0x1*-0x802,0xb*0x206+-0xe5f*0x1+-0x7e2)));let ie=Tt;class ZS{constructor(_0x5aafcd,_0x3bf5ce=0x1*0x473+0x105d+-0x14d0){h(this,'_curve'),h(this,'_left',-(-0x110d+0x90*-0x2c+0x29ce)/(0x1*-0xb3d+-0x104b*0x2+0x2bd3)),h(this,'_right',(-0x267f*-0x1+0xb60+0x2*-0x18ef)/(-0x21d6+-0x7*0x14f+0x2aff)),h(this,'_recip',0x735+-0x1*-0x1a15+0x10a5*-0x2),h(this,'_p0',-0x7ca+-0x74*-0x14+0x146*-0x1),h(this,'_p1',-0x1de0+0x5e6+0x17fa),h(this,'_m0',0x1587+-0x703*0x2+0x781*-0x1),h(this,'_m1',-0xe*-0x123+-0x64*0x41+0x97a),(this['_curve']=_0x5aafcd,this['_reset'](_0x3bf5ce));}['evaluate'](_0x2471a2,_0xcc67d8=!(0x2e*-0x4f+-0x121f*-0x1+-0x3ec)){(_0xcc67d8||_0x2471a2<this['_left']||_0x2471a2>=this['_right'])&&this['_reset'](_0x2471a2);let _0x136036;const _0x5e9d0e=this['_curve']['type'];if(_0x5e9d0e===_x)_0x136036=this['_p0'];else{const _0x5adb11=this['_recip']===0x22f8+-0x1113+-0x11e5*0x1?-0x10*0x141+-0x1803+0x2c13:(_0x2471a2-this['_left'])*this['_recip'];_0x5e9d0e===mx?_0x136036=Y['lerp'](this['_p0'],this['_p1'],_0x5adb11):_0x5e9d0e===tp?_0x136036=Y['lerp'](this['_p0'],this['_p1'],_0x5adb11*_0x5adb11*(-0x19d1+-0x264f+0x1*0x4023-(-0x2b*-0x2d+-0x21c8+0x1*0x1a3b)*_0x5adb11)):_0x136036=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x5adb11);}return _0x136036;}['_reset'](_0x44478a){const _0x4c5a25=this['_curve']['keys'],_0x26d4ed=_0x4c5a25['length'];if(!_0x26d4ed)this['_left']=-(0x28*-0x83+-0x19*-0xd6+-0x6d*0x1)/(0x7e7*0x1+-0x1*-0x9e9+-0x11d0),this['_right']=(-0x67e+-0x1*0x487+0xb06)/(0x1*-0x5cb+-0x2598+-0x2b63*-0x1),this['_recip']=0x2*0x1131+-0xed6+0x4e3*-0x4,this['_p0']=this['_p1']=this['_m0']=this['_m1']=0xa3*-0x10+0x1*0x14a9+0xa79*-0x1;else{if(_0x44478a<_0x4c5a25[0xf6b+-0x15ab+0x640][-0x1b*-0x11e+0xff4+-0x2e1e])this['_left']=-(0xb*0x13a+0x2*0x9e9+-0x214f)/(0x9*-0x1ef+0x2667+0x2*-0xa80),this['_right']=_0x4c5a25[-0x16f0+-0xe64+0x2554*0x1][-0x6*0x53a+-0x314*0x2+0x2584],this['_recip']=-0x1f3a+0x6*0xb+0x1ef8,this['_p0']=this['_p1']=_0x4c5a25[-0x5f*-0x14+-0x24c1+0x1*0x1d55][0xf25+0x1*0x116f+-0x2093],this['_m0']=this['_m1']=-0xa30+0x17*0x33+-0x1*-0x59b;else{if(_0x44478a>=_0x4c5a25[_0x26d4ed-(0x1862+-0xba*0x9+-0x11d7)][0x12f5+0x12b5*0x1+0x1*-0x25aa])this['_left']=_0x4c5a25[_0x26d4ed-(-0x1cba+-0x24f7+-0x1*-0x41b2)][-0x1d8*-0x13+0x40*0x11+-0x2748],this['_right']=(-0x16d1+0xb09+0x7*0x1af)/(0x7*0x163+0x1*-0x1f2e+0x1579),this['_recip']=0x26c3+-0x130d*-0x1+0x1*-0x39d0,this['_p0']=this['_p1']=_0x4c5a25[_0x26d4ed-(0x9*0x187+0x8be*0x4+-0xa*0x4df)][-0x2407+-0x18ec+0x3cf4],this['_m0']=this['_m1']=-0x1*0xc14+-0x6d5+0x12e9;else{let _0x2d815c=-0x14ae+-0x285*0xb+-0x1*-0x3065;for(;_0x44478a>=_0x4c5a25[_0x2d815c+(-0x152c+-0x16e6+0xeb1*0x3)][0x1243+0x29b*0xb+0x11e*-0x2a];)_0x2d815c++;this['_left']=_0x4c5a25[_0x2d815c][-0x1954+0x9*0xfb+0x5*0x34d],this['_right']=_0x4c5a25[_0x2d815c+(0x334+-0xa54*-0x3+0xb65*-0x3)][0x19ba+-0x2377*0x1+0x1*0x9bd];const _0x2f9ab6=(-0x1af5+0x100f*-0x1+-0x1*-0x2b05)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x2f9ab6)?_0x2f9ab6:0x1*-0xb55+-0xa7+0xbfc,this['_p0']=_0x4c5a25[_0x2d815c][-0x8f0+-0xd76+0x1667],this['_p1']=_0x4c5a25[_0x2d815c+(0xdb*0x16+-0x1*0xef8+0x1*-0x3d9)][-0x12e7+-0x3*0x52e+-0x1*-0x2272],this['_curve']['type']===Nm&&this['_calcTange'+'nts'](_0x4c5a25,_0x2d815c);}}}}['_calcTange'+'nts'](_0x528bf6,_0xd57f96){let _0x1e2997;const _0x1d2a89=_0x528bf6[_0xd57f96],_0x24f4c0=_0x528bf6[_0xd57f96+(-0x1d0f+0x40d*0x5+-0x5*-0x1c3)];let _0x4266fe;if(_0xd57f96===-0x113b*-0x2+0x76*0x12+-0x1*0x2ac2?_0x1e2997=[_0x528bf6[0x289*-0x5+0x2*0x222+0x869][-0x223b+0x26c*0x1+-0x1fcf*-0x1]+(_0x528bf6[0xe36+-0x243f+0x1609*0x1][0x1*-0x15c9+-0x11a7+0x2770]-_0x528bf6[-0x1c1e+0x1*-0x14e9+0xc*0x416][-0x1f80+-0x1327+0x32a7]),_0x528bf6[0x1877+-0x3c8+0x6e5*-0x3][0x17fc+0x55d+0x18*-0x139]+(_0x528bf6[0x1e*0x96+0xc3b+-0x1*0x1dcf][0x21a1*-0x1+-0x224e*-0x1+-0xac]-_0x528bf6[-0xe82+-0x152a+0x23ad][0xbf*-0x11+-0x86*-0x23+-0x5a2])]:_0x1e2997=_0x528bf6[_0xd57f96-(0x1b73*-0x1+0x16b0+0x4c4)],_0xd57f96===_0x528bf6['length']-(0x74*0x17+0xc16+-0x140*0x12)?_0x4266fe=[_0x528bf6[_0xd57f96+(0x20c4+-0x1221+-0xea2)][-0xb34+-0xbd4+-0x4*-0x5c2]+(_0x528bf6[_0xd57f96+(0x18c0+0x173a+-0x2ff9*0x1)][-0x502+0x3*-0x675+-0x1861*-0x1]-_0x528bf6[_0xd57f96][-0x6dd+0x2f*0x43+0x30*-0x1d]),_0x528bf6[_0xd57f96+(0x11eb+0x5e7*-0x2+-0x61c)][0x21*0x17+0x1b81*0x1+-0x1e77]+(_0x528bf6[_0xd57f96+(-0x577+0x12*0x14b+-0x11ce)][0x1*0x3fe+0x19e0+-0x1ddd]-_0x528bf6[_0xd57f96][-0x4d8*-0x8+-0xd*0x7e+-0x2059])]:_0x4266fe=_0x528bf6[_0xd57f96+(0x7*0x27+-0x2352+0x7*0x4e5)],this['_curve']['type']===Nm){const _0x48277b=(-0x1afb+0x2*-0x1088+0x3c0d)*(_0x24f4c0[-0x1*0x215a+-0x95d*-0x1+0x17fd]-_0x1d2a89[-0xa3a+-0x1*-0xf7c+0x2*-0x2a1])/(_0x24f4c0[0x3*0xc31+-0x1df2+-0x6a1]-_0x1e2997[-0x67*0x3e+0x1*-0x244c+0x3d3e]),_0x32e458=(-0x49+0x17*0xa5+-0xe88)*(_0x24f4c0[-0x9ca+0x2*-0x3e9+0x119c]-_0x1d2a89[0x63a*0x4+-0x19e1+0xf9])/(_0x4266fe[0x4a1+-0x21d6+0x1d35]-_0x1d2a89[0x9ae+0x127*-0x12+0xb10]);this['_m0']=this['_curve']['tension']*(isFinite(_0x48277b)?_0x48277b:0x2bc*-0x3+0x3b*0x1+0x7f9)*(_0x24f4c0[0xf*0x1df+0x704+-0x2314]-_0x1e2997[-0x119*-0x4+0x458+-0x8bb]),this['_m1']=this['_curve']['tension']*(isFinite(_0x32e458)?_0x32e458:0xd*-0x2b0+0x1106+-0x1*-0x11ea)*(_0x4266fe[0x974+-0xe2e+0x7*0xad]-_0x1d2a89[0x18c4+0x63b*-0x1+-0x2*0x944]);}else{const _0x398ce3=(_0x24f4c0[-0x32*0x4f+0x1*0xf7f+-0x11*0x1]-_0x1d2a89[-0x77*-0x11+-0x6a*0x6+-0x56b*0x1])/(_0x1d2a89[-0x35*0x26+0x21eb*-0x1+0x29c9]-_0x1e2997[-0x123*0xd+0x1aaa+-0xbe3]),_0x293722=(_0x24f4c0[0x1d53+0x182*0x1+-0x1ed5]-_0x1d2a89[0xd5*0x1d+-0x2441*-0x1+-0x3c62])/(_0x4266fe[0x2027*-0x1+-0x96b*0x3+0x3c68]-_0x24f4c0[-0x2*0x593+0x18a7+0xd81*-0x1]),_0x1bfef3=_0x1d2a89[0x3*-0x1a9+-0x1ab*-0x3+-0x5]+(_0x1e2997[-0x4b2+-0x2*0x12a4+0x3d1*0xb]-_0x1d2a89[-0x949*-0x1+0x1a6+-0x2*0x577])*(isFinite(_0x398ce3)?_0x398ce3:0x280+0x2b*-0xa7+0x198d),_0x43ba2f=_0x24f4c0[-0x1ef9+0x978+0x1582*0x1]+(_0x4266fe[0x1*0x17ef+0x1*0x61a+-0x1e08]-_0x24f4c0[0x23e4+0x1*-0xe3e+-0x15a5])*(isFinite(_0x293722)?_0x293722:-0x1c11+0x108f+0xb82),_0x33d638=this['_curve']['tension'];this['_m0']=_0x33d638*(_0x24f4c0[-0xdab+0x11b*-0xf+0x1e41]-_0x1bfef3),this['_m1']=_0x33d638*(_0x43ba2f-_0x1d2a89[0x13d4+-0xad*0x11+0x16*-0x61]);}}['_evaluateH'+'ermite'](_0x56f331,_0x4c660e,_0x29d0c9,_0x2561fb,_0x264a2a){const _0xa0dbec=_0x264a2a*_0x264a2a,_0x3083da=_0x264a2a+_0x264a2a,_0x303f88=-0x1*0x1a03+-0xb4f+-0x5*-0x777-_0x264a2a,_0x15da40=_0x303f88*_0x303f88;return _0x56f331*((-0x481*0x2+-0x225+0xb28+_0x3083da)*_0x15da40)+_0x29d0c9*(_0x264a2a*_0x15da40)+_0x4c660e*(_0xa0dbec*(-0x1cfa+-0xe51+0xf1*0x2e-_0x3083da))+_0x2561fb*(_0xa0dbec*(_0x264a2a-(0x131b*-0x1+-0x55*-0x2b+0x4d5*0x1)));}}class qs{constructor(_0x46dd66){h(this,'keys',[]),h(this,'type',tp),h(this,'tension',-0x1ca9+0x1a*-0x1b+-0x1f67*-0x1+0.5),h(this,'_eval',new ZS(this));if(_0x46dd66){for(let _0x3f9a35=-0xb57+0xe7+-0x2*-0x538;_0x3f9a35<_0x46dd66['length']-(0x2569+0x8d*0x3f+-0x481b);_0x3f9a35+=-0x341+0x197*-0xb+-0x40*-0x53)this['keys']['push']([_0x46dd66[_0x3f9a35],_0x46dd66[_0x3f9a35+(0x1b03+-0x8*0x1df+-0xc0a*0x1)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x8f3067,_0x225a2b){const _0x54bffe=this['keys'],_0x178e8d=_0x54bffe['length'];let _0x585a1e=-0x1*-0x3df+0x1d54+-0x3*0xb11;for(;_0x585a1e<_0x178e8d&&!(_0x54bffe[_0x585a1e][-0x1d99+0x10b3+-0xfe*-0xd]>_0x8f3067);_0x585a1e++);const _0x3f8065=[_0x8f3067,_0x225a2b];return this['keys']['splice'](_0x585a1e,-0x763*-0x1+0xb22+-0x1af*0xb,_0x3f8065),_0x3f8065;}['get'](_0x33b2f9){return this['keys'][_0x33b2f9];}['sort'](){this['keys']['sort']((_0x28c79a,_0x16d4ae)=>_0x28c79a[0xb54+-0x9a5+-0x1af]-_0x16d4ae[-0x245a*0x1+0x8df+-0x23*-0xc9]);}['value'](_0x52efd2){return this['_eval']['evaluate'](_0x52efd2,!(-0x3*0xbaf+-0x14+-0x11*-0x211));}['closest'](_0x54f548){const _0x508601=this['keys'],_0x1a8622=_0x508601['length'];let _0x594b77=0x1d78+-0x60*0x3a+-0x7b6,_0x214467=null;for(let _0x3ec93c=0x3*0x644+0x61*-0x4+-0x38*0x4f;_0x3ec93c<_0x1a8622;_0x3ec93c++){const _0x2eb637=Math['abs'](_0x54f548-_0x508601[_0x3ec93c][0x1*0x1feb+0x20b7+-0x40a2]);if(_0x594b77>=_0x2eb637)_0x594b77=_0x2eb637,_0x214467=_0x508601[_0x3ec93c];else break;}return _0x214467;}['clone'](){const _0xdbfae4=new this['constructo'+'r']();return _0xdbfae4['keys']=this['keys']['map'](_0x536928=>[..._0x536928]),_0xdbfae4['type']=this['type'],_0xdbfae4['tension']=this['tension'],_0xdbfae4;}['quantize'](_0x2b5791){_0x2b5791=Math['max'](_0x2b5791,0x16eb*0x1+0xb57+-0x2240);const _0x2a474d=new Float32Array(_0x2b5791),_0x558449=(-0x1a5a+0x1b36+0x49*-0x3)/(_0x2b5791-(0x13b1+0x333+-0x16e3));_0x2a474d[0x123d*-0x1+-0xf41+0x217e]=this['_eval']['evaluate'](-0x213d+-0xf0d*0x1+0x304a,!(-0x112*-0x7+-0x23aa+-0x3*-0x964));for(let _0x1436fc=-0x1*-0x21ac+0x1*0x1826+-0x39d1;_0x1436fc<_0x2b5791;_0x1436fc++)_0x2a474d[_0x1436fc]=this['_eval']['evaluate'](_0x558449*_0x1436fc);return _0x2a474d;}['quantizeCl'+'amped'](_0x3d19de,_0x5a0146,_0x4a08f6){const _0x58fd11=this['quantize'](_0x3d19de);for(let _0x2eeb82=-0x599+-0x3*-0x653+-0xd60;_0x2eeb82<_0x58fd11['length'];++_0x2eeb82)_0x58fd11[_0x2eeb82]=Math['min'](_0x4a08f6,Math['max'](_0x5a0146,_0x58fd11[_0x2eeb82]));return _0x58fd11;}}class na{constructor(..._0x6d9136){h(this,'curves',[]),h(this,'_type',tp);if(_0x6d9136['length']>-0x77a+-0x156c+-0x97*-0x31){for(let _0x18ad4f=-0x1119+-0x6e2*0x1+-0x7*-0x36d;_0x18ad4f<_0x6d9136['length'];_0x18ad4f++)this['curves']['push'](new qs(_0x6d9136[_0x18ad4f]));}else{if(_0x6d9136['length']===0x257*0x2+-0x1ad*0x7+0x5f*0x13)this['curves']['push'](new qs());else{const _0x3e5586=_0x6d9136[0x2*0x1086+0xcb8+-0x2dc4];if(typeof _0x3e5586=='number'){for(let _0x4e17d8=-0x1b55*0x1+-0x1e7e+-0x83*-0x71;_0x4e17d8<_0x3e5586;_0x4e17d8++)this['curves']['push'](new qs());}else{for(let _0x2a4306=0x501+0x3*-0x60d+-0x1*-0xd26;_0x2a4306<_0x3e5586['length'];_0x2a4306++)this['curves']['push'](new qs(_0x3e5586[_0x2a4306]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x56b7c6){this['_type']=_0x56b7c6;for(let _0x490e57=0x1e24+-0x2*-0x1003+-0x2*0x1f15;_0x490e57<this['curves']['length'];_0x490e57++)this['curves'][_0x490e57]['type']=_0x56b7c6;}get['type'](){return this['_type'];}['get'](_0x328f76){return this['curves'][_0x328f76];}['value'](_0x33ce68,_0x4648f0=[]){const _0x3f7d19=this['curves']['length'];_0x4648f0['length']=_0x3f7d19;for(let _0x4f29c3=0x54f*-0x3+-0x173c+0x2729;_0x4f29c3<_0x3f7d19;_0x4f29c3++)_0x4648f0[_0x4f29c3]=this['curves'][_0x4f29c3]['value'](_0x33ce68);return _0x4648f0;}['clone'](){const _0x9269fc=new this['constructo'+'r']();_0x9269fc['curves']=[];for(let _0x22f4be=0xb95+0xde6+-0x197b;_0x22f4be<this['curves']['length'];_0x22f4be++)_0x9269fc['curves']['push'](this['curves'][_0x22f4be]['clone']());return _0x9269fc['_type']=this['_type'],_0x9269fc;}['quantize'](_0x462ff5){_0x462ff5=Math['max'](_0x462ff5,-0xc3e*0x1+0x6c6+0x57a);const _0x400ae=this['curves']['length'],_0x1212c0=new Float32Array(_0x462ff5*_0x400ae),_0x1cd86b=(0x11*-0x1dc+0x1*0x1eee+0xaf)/(_0x462ff5-(0x1a*-0x90+-0x985+-0x16*-0x119));for(let _0x18fa0a=0x117c+-0xa63+-0x719;_0x18fa0a<_0x400ae;_0x18fa0a++){const _0x41c762=new ZS(this['curves'][_0x18fa0a]);for(let _0x1ea9f9=0xb2b*-0x1+-0x173a+0x2265;_0x1ea9f9<_0x462ff5;_0x1ea9f9++)_0x1212c0[_0x1ea9f9*_0x400ae+_0x18fa0a]=_0x41c762['evaluate'](_0x1cd86b*_0x1ea9f9);}return _0x1212c0;}['quantizeCl'+'amped'](_0xa57690,_0x3616d2,_0x445a87){const _0x4ef59a=this['quantize'](_0xa57690);for(let _0x58e468=-0x5e7+0x1*0x637+-0x50;_0x58e468<_0x4ef59a['length'];++_0x58e468)_0x4ef59a[_0x58e468]=Math['min'](_0x445a87,Math['max'](_0x3616d2,_0x4ef59a[_0x58e468]));return _0x4ef59a;}}const Hf=new Float32Array(-0x3*0x1f2+-0x1*0x164f+0x1c26),km=new Int32Array(Hf['buffer']);class Mn{static['float2Half'](_0xb54f4c){Hf[0x1d3f*-0x1+0x1fa5+-0x266]=_0xb54f4c;const _0x8ddedf=km[-0x23c3+0x1578+0xe4b];let _0x591bac=_0x8ddedf>>-0xd*0x3+0xdee+-0xdb7&-0xfbeb+0x1*0x6de4+0x10e07,_0x528d3f=_0x8ddedf>>-0x1b46+0x311*0x7+0x5db&0x1b23+-0xbab*0x1+-0x779;const _0x4c18a8=_0x8ddedf>>0x2007+-0x6*0x461+-0x5aa&-0x2416+0xae1+-0x27*-0xac;return _0x4c18a8<0x22e6*0x1+-0x2*0x195+-0x1f55?_0x591bac:_0x4c18a8>-0x18a5+-0x1*0x1751+0x4*0xc21?(_0x591bac|=0xa*-0x12dd+-0xc9c5*0x1+0x1*0x20267,_0x591bac|=(_0x4c18a8===-0x3d*0x1+-0x24f9+0x2635?0x20a4+-0x6cd*0x3+-0xc3d:0x2a9+0x607*0x5+-0x20cb)&&_0x8ddedf&-0xda7d*-0x3b+0x2*-0x1a75e7+0x15c2d5*0x6,_0x591bac):_0x4c18a8<0xe*0x130+0x25dc+-0x360b?(_0x528d3f|=-0x241a+-0x2351+0x51*0xfb,_0x591bac|=(_0x528d3f>>0x1*-0x5+0x1*-0x1675+-0x3*-0x7a4-_0x4c18a8)+(_0x528d3f>>0xb9*0x2e+-0x159b+0x1*-0xb32-_0x4c18a8&0x551+-0x488+-0xc8),_0x591bac):(_0x591bac|=_0x4c18a8-(-0x148*0x2+0x1*0xc73+-0x973)<<0x2627+0x23e8+-0x1*0x4a05|_0x528d3f>>0xf67+-0x5d*0x2f+0x27*0xb,_0x591bac+=_0x528d3f&0x1*0x509+0xd3b*-0x2+0x156e,_0x591bac);}static['float2RGBA'+'8'](_0x1acf27,_0x4544b2){Hf[0x115c+-0x26cb*0x1+0x156f]=_0x1acf27;const _0x4e5a36=km[0x91f*-0x1+0x78d*0x3+-0xd88];_0x4544b2['r']=(_0x4e5a36>>-0x1e67+-0x1b67+-0x2*-0x1cf3&0x1*0x1d61+-0x34a*0x3+-0x1284)/(-0x1f7c+-0x2239+0x42b4),_0x4544b2['g']=(_0x4e5a36>>0xe94*-0x1+0x26d7+-0x127*0x15&-0x46a*0x7+0x1502+0x3*0x3a1)/(-0x1db8+0x1fc*0xb+0x8e3),_0x4544b2['b']=(_0x4e5a36>>0x1*0x1ef1+-0x1f4c*0x1+0x63*0x1&0x2b*0x2+-0x28*0x86+0x1*0x1599)/(-0x8b9*-0x3+-0x4a2+-0x148a),_0x4544b2['a']=(_0x4e5a36&-0x81*-0xf+0x1c53+-0x22e3)/(0xaf1*0x1+-0x443*-0x2+-0x1278);}}const wt=class wt{constructor(_0x4bc9d5=0x1ec*-0x2+-0xfd5+-0x68f*-0x3,_0x12f869=-0x24fa+0x13c7+-0x1133*-0x1,_0x146d0f=-0x17c2*0x1+0xfb1+0x1*0x811){h(this,'x'),h(this,'y'),h(this,'z'),_0x4bc9d5['length']===-0x1*-0x615+0x1*0x2122+0xc1*-0x34?(this['x']=_0x4bc9d5[0x181d+-0x94*-0x22+-0x2bc5],this['y']=_0x4bc9d5[-0x3*-0x77f+0x22e3*-0x1+-0xc67*-0x1],this['z']=_0x4bc9d5[-0x20*0x64+-0x1*-0x20ca+-0x2*0xa24]):(this['x']=_0x4bc9d5,this['y']=_0x12f869,this['z']=_0x146d0f);}['add'](_0x1b0028){return this['x']+=_0x1b0028['x'],this['y']+=_0x1b0028['y'],this['z']+=_0x1b0028['z'],this;}['add2'](_0x4894c6,_0x260405){return this['x']=_0x4894c6['x']+_0x260405['x'],this['y']=_0x4894c6['y']+_0x260405['y'],this['z']=_0x4894c6['z']+_0x260405['z'],this;}['addScalar'](_0xb3f984){return this['x']+=_0xb3f984,this['y']+=_0xb3f984,this['z']+=_0xb3f984,this;}['addScaled'](_0x5e1982,_0x851704){return this['x']+=_0x5e1982['x']*_0x851704,this['y']+=_0x5e1982['y']*_0x851704,this['z']+=_0x5e1982['z']*_0x851704,this;}['clone'](){const _0x54d2a=this['constructo'+'r'];return new _0x54d2a(this['x'],this['y'],this['z']);}['copy'](_0x3595d1){return this['x']=_0x3595d1['x'],this['y']=_0x3595d1['y'],this['z']=_0x3595d1['z'],this;}['cross'](_0x250f37,_0x4d0fdf){const _0x28598c=_0x250f37['x'],_0x4722b6=_0x250f37['y'],_0x53b36e=_0x250f37['z'],_0x18331d=_0x4d0fdf['x'],_0x470bb0=_0x4d0fdf['y'],_0x49d3bf=_0x4d0fdf['z'];return this['x']=_0x4722b6*_0x49d3bf-_0x470bb0*_0x53b36e,this['y']=_0x53b36e*_0x18331d-_0x49d3bf*_0x28598c,this['z']=_0x28598c*_0x470bb0-_0x18331d*_0x4722b6,this;}['distance'](_0x44ebc1){const _0x753025=this['x']-_0x44ebc1['x'],_0x393e52=this['y']-_0x44ebc1['y'],_0x4de07d=this['z']-_0x44ebc1['z'];return Math['sqrt'](_0x753025*_0x753025+_0x393e52*_0x393e52+_0x4de07d*_0x4de07d);}['div'](_0x32e60b){return this['x']/=_0x32e60b['x'],this['y']/=_0x32e60b['y'],this['z']/=_0x32e60b['z'],this;}['div2'](_0x168d5c,_0x3eecc6){return this['x']=_0x168d5c['x']/_0x3eecc6['x'],this['y']=_0x168d5c['y']/_0x3eecc6['y'],this['z']=_0x168d5c['z']/_0x3eecc6['z'],this;}['divScalar'](_0x4f99f2){return this['x']/=_0x4f99f2,this['y']/=_0x4f99f2,this['z']/=_0x4f99f2,this;}['dot'](_0x10b4ae){return this['x']*_0x10b4ae['x']+this['y']*_0x10b4ae['y']+this['z']*_0x10b4ae['z'];}['equals'](_0xf5b37b){return this['x']===_0xf5b37b['x']&&this['y']===_0xf5b37b['y']&&this['z']===_0xf5b37b['z'];}['equalsAppr'+'ox'](_0x50af8f,_0x275bf0=-0x17*0x105+0xeb3+0x8*0x118+0.000001){return Math['abs'](this['x']-_0x50af8f['x'])<_0x275bf0&&Math['abs'](this['y']-_0x50af8f['y'])<_0x275bf0&&Math['abs'](this['z']-_0x50af8f['z'])<_0x275bf0;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0x479d20,_0x41c3e6,_0x2e2077){return this['x']=_0x479d20['x']+_0x2e2077*(_0x41c3e6['x']-_0x479d20['x']),this['y']=_0x479d20['y']+_0x2e2077*(_0x41c3e6['y']-_0x479d20['y']),this['z']=_0x479d20['z']+_0x2e2077*(_0x41c3e6['z']-_0x479d20['z']),this;}['mul'](_0x456c44){return this['x']*=_0x456c44['x'],this['y']*=_0x456c44['y'],this['z']*=_0x456c44['z'],this;}['mul2'](_0x5bac33,_0x4ac2f0){return this['x']=_0x5bac33['x']*_0x4ac2f0['x'],this['y']=_0x5bac33['y']*_0x4ac2f0['y'],this['z']=_0x5bac33['z']*_0x4ac2f0['z'],this;}['mulScalar'](_0x363c20){return this['x']*=_0x363c20,this['y']*=_0x363c20,this['z']*=_0x363c20,this;}['normalize'](_0xde7563=this){const _0x10e268=_0xde7563['x']*_0xde7563['x']+_0xde7563['y']*_0xde7563['y']+_0xde7563['z']*_0xde7563['z'];if(_0x10e268>0x1091*-0x2+-0x26*-0x43+0x1730){const _0x11dd13=(0x1*-0x178d+-0x1*0x2195+0x3923*0x1)/Math['sqrt'](_0x10e268);this['x']=_0xde7563['x']*_0x11dd13,this['y']=_0xde7563['y']*_0x11dd13,this['z']=_0xde7563['z']*_0x11dd13;}return this;}['floor'](_0x323b3d=this){return this['x']=Math['floor'](_0x323b3d['x']),this['y']=Math['floor'](_0x323b3d['y']),this['z']=Math['floor'](_0x323b3d['z']),this;}['ceil'](_0x2012cf=this){return this['x']=Math['ceil'](_0x2012cf['x']),this['y']=Math['ceil'](_0x2012cf['y']),this['z']=Math['ceil'](_0x2012cf['z']),this;}['round'](_0xd684eb=this){return this['x']=Math['round'](_0xd684eb['x']),this['y']=Math['round'](_0xd684eb['y']),this['z']=Math['round'](_0xd684eb['z']),this;}['min'](_0x55efc2){return _0x55efc2['x']<this['x']&&(this['x']=_0x55efc2['x']),_0x55efc2['y']<this['y']&&(this['y']=_0x55efc2['y']),_0x55efc2['z']<this['z']&&(this['z']=_0x55efc2['z']),this;}['max'](_0x4738cb){return _0x4738cb['x']>this['x']&&(this['x']=_0x4738cb['x']),_0x4738cb['y']>this['y']&&(this['y']=_0x4738cb['y']),_0x4738cb['z']>this['z']&&(this['z']=_0x4738cb['z']),this;}['project'](_0x5e4ae3){const _0x45e48f=this['x']*_0x5e4ae3['x']+this['y']*_0x5e4ae3['y']+this['z']*_0x5e4ae3['z'],_0x49e758=_0x5e4ae3['x']*_0x5e4ae3['x']+_0x5e4ae3['y']*_0x5e4ae3['y']+_0x5e4ae3['z']*_0x5e4ae3['z'],_0x68ed9f=_0x45e48f/_0x49e758;return this['x']=_0x5e4ae3['x']*_0x68ed9f,this['y']=_0x5e4ae3['y']*_0x68ed9f,this['z']=_0x5e4ae3['z']*_0x68ed9f,this;}['set'](_0x32322b,_0x3f15a6,_0x183622){return this['x']=_0x32322b,this['y']=_0x3f15a6,this['z']=_0x183622,this;}['sub'](_0x1186bc){return this['x']-=_0x1186bc['x'],this['y']-=_0x1186bc['y'],this['z']-=_0x1186bc['z'],this;}['sub2'](_0x30056b,_0x8e8e80){return this['x']=_0x30056b['x']-_0x8e8e80['x'],this['y']=_0x30056b['y']-_0x8e8e80['y'],this['z']=_0x30056b['z']-_0x8e8e80['z'],this;}['subScalar'](_0x3a9365){return this['x']-=_0x3a9365,this['y']-=_0x3a9365,this['z']-=_0x3a9365,this;}['fromArray'](_0x28e330,_0x59b2e6=0xacd+0xf7c+-0x1a49){return this['x']=_0x28e330[_0x59b2e6]??this['x'],this['y']=_0x28e330[_0x59b2e6+(-0x40c*-0x8+0xba*0x3+0x228d*-0x1)]??this['y'],this['z']=_0x28e330[_0x59b2e6+(-0x50*-0xb+0xddb+0x4b*-0x3b)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x3f3292=[],_0x4cf42b=-0x13*0x16+0x7f*-0x1a+0xe88){return _0x3f3292[_0x4cf42b]=this['x'],_0x3f3292[_0x4cf42b+(0x3c2+-0x9d*0x31+0xb*0x264)]=this['y'],_0x3f3292[_0x4cf42b+(0x1eb1+-0x1cee+-0x1c1)]=this['z'],_0x3f3292;}};h(wt,'ZERO',Object['freeze'](new wt(-0x562*0x2+0x23b*-0x11+0x30af,-0x142a+0x3*0x8fe+0x368*-0x2,-0x6*0x282+-0x1763+0x266f))),h(wt,'HALF',Object['freeze'](new wt(-0x1*-0x85d+-0x171+-0x6ec+0.5,-0xa77*0x1+0x131b+-0x8a4+0.5,-0x7d5*0x3+0x1c20+-0x4a1+0.5))),h(wt,'ONE',Object['freeze'](new wt(-0x17b8+-0x27f+0x4*0x68e,0x2*0x8c4+-0x248*-0x1+-0x13cf,-0x172c+-0x1d*0x8c+-0xd03*-0x3))),h(wt,'UP',Object['freeze'](new wt(-0x520+0x208e+-0x1b6e,-0x41*0x36+0x930+-0x3d*-0x13,0x1532+-0x1c9*-0x11+-0x338b))),h(wt,'DOWN',Object['freeze'](new wt(0x58*0xb+-0x1*-0x213c+-0x2e*0xce,-(0x175c+-0x219e+0xa43),0x2101+-0x1*-0x1019+0x346*-0xf))),h(wt,'RIGHT',Object['freeze'](new wt(0x5b6*-0x2+0x15d*0x1+0x1c*0x5c,-0x1d82+-0x1ca3*0x1+-0xd*-0x479,-0x136a*-0x2+-0x897+-0x1e3d*0x1))),h(wt,'LEFT',Object['freeze'](new wt(-(-0x1d22+0xb47+0x11dc),0xd31+-0x326*-0xa+-0x2cad*0x1,0xe6b+0xe5a+-0x1cc5))),h(wt,'FORWARD',Object['freeze'](new wt(0xf0b+-0x1ffc+0x10f1,0xdd*0x17+-0x2631*0x1+0x1256*0x1,-(-0x1*-0x1981+-0x97f*0x1+-0x1001)))),h(wt,'BACK',Object['freeze'](new wt(0x1cd5+-0x24f7+0x822,0x2453+0x1da8+-0x13*0x379,0x1fa6+-0x85c*-0x2+-0x305d)));let D=wt;const gn=class gn{constructor(){h(this,'data',new Float32Array(0x194*0xb+0x724+-0x1*0x1877)),this['data'][0x2637+-0x67f*0x5+-0x5bc]=this['data'][-0x2c+-0x2271*-0x1+-0x6f*0x4f]=this['data'][-0xe3e+-0x1aff*-0x1+-0xcb9]=0x1*-0x2686+-0x2*-0x75e+0x17cb;}['clone'](){const _0x3e2d4e=this['constructo'+'r'];return new _0x3e2d4e()['copy'](this);}['copy'](_0x35b685){const _0x196473=_0x35b685['data'],_0x17def2=this['data'];return _0x17def2[0x65*0x56+0x121b*0x2+-0x4624]=_0x196473[0x1271+-0x14b0*-0x1+-0x2721],_0x17def2[0x1ab8+-0x2a9*-0xb+-0x37fa]=_0x196473[-0x1955+-0xe3b*0x1+0x2791],_0x17def2[0x1*0x1ada+-0x326*0x1+-0x17b2]=_0x196473[0x4*-0x1ff+-0x2*0x114a+0x2*0x1549],_0x17def2[0x1*-0x9a7+0x1a1d+-0x1073]=_0x196473[0x239e+-0x26a6+0x30b],_0x17def2[-0x7*0x1c+0x1*-0x14e7+-0x5b*-0x3d]=_0x196473[0x4b8*0x2+0x2702+-0x2*0x1837],_0x17def2[0xc0*-0x1d+-0x24fb*-0x1+-0xf36]=_0x196473[0x3e6+0x2193+0x11a*-0x22],_0x17def2[-0x1339+-0x2*0xd04+0xad*0x43]=_0x196473[0xae5+-0x229*-0xb+0x11e*-0x1f],_0x17def2[0x1188+-0x1*0x269b+-0x92*-0x25]=_0x196473[0xc9c+-0x18e+-0xb07],_0x17def2[0x1549*0x1+0x1f3a+-0x347b]=_0x196473[0x2602+0x108d+-0x3687],this;}['set'](_0x3c6dec){const _0x5b7603=this['data'];return _0x5b7603[0x1d79+0x1b39+-0x38b2]=_0x3c6dec[-0x244e+0x5*0x1a5+-0x4f*-0x5b],_0x5b7603[-0x1*-0x1009+-0xa8c+-0x57c]=_0x3c6dec[-0xdf*-0x1d+-0x1*-0xc0b+-0x254d],_0x5b7603[-0x2*0x665+-0x23ec*0x1+0x4*0xc2e]=_0x3c6dec[-0x3*-0x1f7+0x18c5+-0x1ea8],_0x5b7603[0x452+-0x1cb*-0x3+-0x9b0]=_0x3c6dec[-0xd1d+0xd57*0x2+-0x15b*0xa],_0x5b7603[-0x2*-0xf3f+0x2cf*-0x7+-0xad1]=_0x3c6dec[0x267b+0x7cf+0x1723*-0x2],_0x5b7603[-0xfcf+-0xc3a+0x1c0e*0x1]=_0x3c6dec[0x1*0x15a7+-0x1*0x253d+0xf9b],_0x5b7603[-0x5ad*-0x5+-0x1*-0x198c+-0x35e7]=_0x3c6dec[-0x2*0x76f+-0x275*0x3+0x1643],_0x5b7603[-0x1*-0x2227+0xdeb+-0x300b*0x1]=_0x3c6dec[-0x1*-0xd24+-0x1b31*-0x1+0x16*-0x1d5],_0x5b7603[0x18e8+0x95*-0x6+-0x1562]=_0x3c6dec[0x96a+0xa*-0x42+-0x43*0x1a],this;}['getX'](_0x2b7d05=new D()){return _0x2b7d05['set'](this['data'][0x8d+-0x2f6+0x1*0x269],this['data'][0xa3*-0x3d+-0x89*0x3d+0x477d],this['data'][-0x217a+-0x1fec+0x4168]);}['getY'](_0x3d9765=new D()){return _0x3d9765['set'](this['data'][0x18b5+-0x57*-0x9+-0x1bc1],this['data'][-0x4*0x236+-0x1d86+0x1*0x2662],this['data'][0x12b3+-0x1f66*0x1+0x65c*0x2]);}['getZ'](_0x4e77cf=new D()){return _0x4e77cf['set'](this['data'][-0xe99+0xa02+0x49d],this['data'][0x17*0x17f+-0x1*-0x1168+-0x33ca],this['data'][0x1*0x184d+-0x26c1+0xe7c]);}['equals'](_0x5e0d67){const _0x32333a=this['data'],_0x4acfda=_0x5e0d67['data'];return _0x32333a[-0x5c*-0x52+-0x6d6*-0x2+-0x2b24]===_0x4acfda[-0x1967+-0x1*-0x2435+-0xace]&&_0x32333a[0x40*0x1+0x1b8+-0x1f7*0x1]===_0x4acfda[0x197c+-0x1*-0x201d+-0x3998]&&_0x32333a[0x15a5+-0xd2*-0x14+-0x260b]===_0x4acfda[-0xafe+-0x17e1+0x22e1]&&_0x32333a[-0x69f*0x5+-0x1dc5*0x1+0x3b3*0x11]===_0x4acfda[-0xd*0x203+-0x1*0x1a01+0x342b]&&_0x32333a[0x1*0x2262+0x1f*0x76+0xc2a*-0x4]===_0x4acfda[0xcf*-0x29+-0x15bd+0x36e8]&&_0x32333a[-0x7ed*-0x2+0x6*0x2ea+-0x2151]===_0x4acfda[0x32f*0x3+0x161d+-0x1fa5]&&_0x32333a[-0x2b7*-0x3+-0x93+-0x78c]===_0x4acfda[0x13c9+0x6fd+-0x1ac0]&&_0x32333a[-0x2ab*-0x3+0x11fe+-0x19f8]===_0x4acfda[-0x2*0x3f5+0x20d6+-0x18e5*0x1]&&_0x32333a[-0x2431+0x45c+0x1fdd]===_0x4acfda[0x1896*0x1+0x71f+-0x1fad];}['isIdentity'](){const _0x48753d=this['data'];return _0x48753d[-0x3b5*0x4+-0x1*0xdb+-0x1*-0xfaf]===-0x49*-0x82+0x1d4d+-0x425e&&_0x48753d[-0xb65*-0x2+0x1*-0x13dc+0x6b*-0x7]===-0x1a32+-0x192*0x5+-0x883*-0x4&&_0x48753d[-0x854+0x1862+0x403*-0x4]===0x4*0x373+-0x1575*0x1+0x7a9&&_0x48753d[0xa07*0x3+-0x129b+-0xb77*0x1]===0x514+-0x2126+-0x1*-0x1c12&&_0x48753d[0x226e+-0x4d3+-0x1d97]===-0x503*-0x1+0xc8e+0x8*-0x232&&_0x48753d[0xa*0x13f+-0x1*-0x26f+-0xee0]===0x2*0xa9d+-0x12e*0x5+-0xf54&&_0x48753d[0x6*0x27+-0x29*0x92+-0x1*-0x167e]===0x25*-0xa9+-0x5*0x19f+0x2088&&_0x48753d[-0x2*-0x696+-0x85*0x11+-0x4*0x114]===0x5*0x469+0x2*0xffd+-0x3607&&_0x48753d[-0x1*-0x1681+0x1*-0x13bb+-0x2be]===-0x1f6e+0xd*-0x2b7+0x42ba;}['setIdentit'+'y'](){const _0x36fea1=this['data'];return _0x36fea1[-0x606*0x1+-0x45+0x64b]=-0x103*0xd+0x1b5c+-0x24*0x65,_0x36fea1[-0x984+-0x6*-0x463+-0x10cd]=0x1*-0x117e+-0x786+0x2*0xc82,_0x36fea1[0x371*-0x5+-0x19cb+-0x5*-0x89a]=0x1438+0x2*-0xa72+0xac,_0x36fea1[0x9*0x190+0x178f+0x14c*-0x1d]=-0x1956+-0x3*-0xa63+-0x5d3,_0x36fea1[0x3*0x35e+-0x84f+-0x5*0x5b]=-0xf96+0x3*-0x13c+0x134b,_0x36fea1[0xca*0x27+0x99b+0x9*-0x47c]=-0x897*-0x2+0x8*-0x28b+0x32a,_0x36fea1[-0x7d1+0x2*0xc39+-0x1*0x109b]=-0x18a+-0x1db4+0x1f3e*0x1,_0x36fea1[0x1b43+-0x11ff+-0xb*0xd7]=0x16a0+0x170d*0x1+-0x2dad*0x1,_0x36fea1[0x1c*0xbb+0xe6e*-0x1+-0x3b*0x1a]=-0x2*-0x2+-0x1595+0xb*0x1f6,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x11bf15=this){const _0x117dfc=_0x11bf15['data'],_0x1d831d=this['data'];if(_0x117dfc===_0x1d831d){let _0x46bc98;_0x46bc98=_0x117dfc[-0x5a2*-0x2+-0x1900+0xdbd],_0x1d831d[-0x1c10+0x1f*0x101+-0x30e]=_0x117dfc[-0x1*-0x2f9+-0x1878+0x1*0x1582],_0x1d831d[0x3*-0x36f+0x106e+0x6*-0x105]=_0x46bc98,_0x46bc98=_0x117dfc[0x11a+-0x187e+0x1766],_0x1d831d[0x576*0x1+0x1*-0xf1b+-0x161*-0x7]=_0x117dfc[-0xe36+-0x3*-0xa59+-0x10cf],_0x1d831d[-0x359*-0x1+0x1f82*0x1+-0x22d5]=_0x46bc98,_0x46bc98=_0x117dfc[0x14*-0x19b+0x1ffa+0x27],_0x1d831d[-0xafe+0xb*0x1e5+-0x9d4]=_0x117dfc[-0x101b+-0x238d+-0x1*-0x33af],_0x1d831d[0x1c25+0xce3*0x1+-0x2901]=_0x46bc98;}else _0x1d831d[0x183+0xda3+-0xf26]=_0x117dfc[0x50*-0x5a+0x487*-0x1+0x20a7],_0x1d831d[-0x17ad+0x6a9+0x1*0x1105]=_0x117dfc[-0x39a*-0x3+-0x1c1*-0x13+0x2c1e*-0x1],_0x1d831d[-0x9f*-0x7+-0x1972*0x1+-0x3*-0x709]=_0x117dfc[0x172d+-0xe41+-0x11*0x86],_0x1d831d[0x1*0x8c6+0x479+-0x7*0x1e4]=_0x117dfc[0x1fe*0x11+0x3e5+0xb3*-0x36],_0x1d831d[0x20a2+0x32*0x35+0x157c*-0x2]=_0x117dfc[0x8*-0x14e+-0x22b6+0x2*0x1695],_0x1d831d[-0x4*0x3aa+-0x3e1+0x128e]=_0x117dfc[-0xcb7+0x1c1c+-0xf5e],_0x1d831d[-0xb57*0x1+-0x6*-0x5cd+0x161*-0x11]=_0x117dfc[0x1*0x169c+0xe09+0x53*-0x71],_0x1d831d[0x7*0x58d+-0x13c9+-0x41*0x4b]=_0x117dfc[0x6a*0x26+-0xe17*-0x1+-0x1dce],_0x1d831d[0x612*0x5+-0x631*-0x6+-0x4378]=_0x117dfc[-0x1316+-0xea9+0x21c7*0x1];return this;}['setFromMat'+'4'](_0x1d810e){const _0x1f2e50=_0x1d810e['data'],_0x254d25=this['data'];return _0x254d25[0x5a2+-0x2*0x124c+-0x1*-0x1ef6]=_0x1f2e50[0x16b3*-0x1+0x2*-0x118b+-0x3*-0x1343],_0x254d25[0x434*-0x7+0x1*-0xe21+0x2b8e]=_0x1f2e50[-0x7f9+-0x821+0x101b],_0x254d25[0x2411+-0x522+-0x179*0x15]=_0x1f2e50[0x1d2a+0x3*0x503+-0xebb*0x3],_0x254d25[0x449*-0x2+-0x12fc*0x1+0x1b91]=_0x1f2e50[-0x1205+0x898+0x971],_0x254d25[-0x22f4+0x61*-0x5f+-0x25*-0x1eb]=_0x1f2e50[0x158a+-0x15a3+0x1e],_0x254d25[0x1bdc+-0x11d0+-0xa07]=_0x1f2e50[-0xb*0xed+0x32c+0x709],_0x254d25[0x15a3+0x1*0xd07+-0x3*0xb8c]=_0x1f2e50[0xbfc+0xb30+-0x1724],_0x254d25[0x1239+-0xd57*-0x2+-0x2ce0]=_0x1f2e50[-0x2555*0x1+0x2e2+0x227c],_0x254d25[0x1a53+-0x81c+-0x122f]=_0x1f2e50[0x5*-0x6c8+0xd*0x7+0x2197],this;}['setFromQua'+'t'](_0x35b27f){const _0x3e3075=_0x35b27f['x'],_0x10b59a=_0x35b27f['y'],_0x5880d5=_0x35b27f['z'],_0x1ce077=_0x35b27f['w'],_0x2e5701=_0x3e3075+_0x3e3075,_0x5fb81d=_0x10b59a+_0x10b59a,_0x127bcb=_0x5880d5+_0x5880d5,_0x29b89b=_0x3e3075*_0x2e5701,_0x302e77=_0x3e3075*_0x5fb81d,_0xd6c8eb=_0x3e3075*_0x127bcb,_0xfb0021=_0x10b59a*_0x5fb81d,_0x2326ba=_0x10b59a*_0x127bcb,_0x2a2e35=_0x5880d5*_0x127bcb,_0x18f53c=_0x1ce077*_0x2e5701,_0x1f2927=_0x1ce077*_0x5fb81d,_0x42de5b=_0x1ce077*_0x127bcb,_0x5ba677=this['data'];return _0x5ba677[0x1d3f*0x1+0x61f*0x2+-0x297d]=-0x190e+0x5e9+0x1326-(_0xfb0021+_0x2a2e35),_0x5ba677[-0x1023+0x94+0xf90]=_0x302e77+_0x42de5b,_0x5ba677[-0x1*-0x1a75+-0x82c+-0x1*0x1247]=_0xd6c8eb-_0x1f2927,_0x5ba677[-0x18e7+-0x2*0xda1+0x342c]=_0x302e77-_0x42de5b,_0x5ba677[-0x1*0x1f12+0x1*-0x1875+0x378b*0x1]=-0x14dc+0x17d2+-0x2f5-(_0x29b89b+_0x2a2e35),_0x5ba677[-0x161f+0x7d+0x15a7]=_0x2326ba+_0x18f53c,_0x5ba677[0x26a4+0x80a+-0x2ea8]=_0xd6c8eb+_0x1f2927,_0x5ba677[-0x47*-0x52+-0x1a*-0xb1+-0x28b1]=_0x2326ba-_0x18f53c,_0x5ba677[0x222e+-0x5*-0x774+-0x476a*0x1]=-0x1ad7+0xaca+0x100e-(_0x29b89b+_0xfb0021),this;}['invertMat4'](_0x37aa1b){const _0x38461c=_0x37aa1b['data'],_0x33c285=_0x38461c[0x24ea+-0x3e0*0x7+-0x9ca],_0x54716a=_0x38461c[0x1fc5*0x1+0x32d*-0xb+0x32b],_0x3e529f=_0x38461c[0x3*0x31+-0xe2d*-0x2+-0x1ceb],_0x543c1c=_0x38461c[0x614+-0x1974+0x44*0x49],_0x30fdc0=_0x38461c[-0xee5+0x1b68+-0x215*0x6],_0x4ca79f=_0x38461c[-0x38b*0x1+-0x196f+-0xe80*-0x2],_0x2cf3ea=_0x38461c[-0xb34+0x18b+-0x33b*-0x3],_0x2370c7=_0x38461c[0x23e8+0x1a4b+-0x3e2a],_0x32cb1b=_0x38461c[-0xe2b*0x1+-0x2358+-0x2b*-0x127],_0x4cd448=_0x32cb1b*_0x30fdc0-_0x4ca79f*_0x2370c7,_0x20b95b=-_0x32cb1b*_0x54716a+_0x3e529f*_0x2370c7,_0x102c5f=_0x4ca79f*_0x54716a-_0x3e529f*_0x30fdc0,_0x3f191b=-_0x32cb1b*_0x543c1c+_0x4ca79f*_0x2cf3ea,_0x586ee1=_0x32cb1b*_0x33c285-_0x3e529f*_0x2cf3ea,_0x680c2d=-_0x4ca79f*_0x33c285+_0x3e529f*_0x543c1c,_0x524899=_0x2370c7*_0x543c1c-_0x30fdc0*_0x2cf3ea,_0x49a5f8=-_0x2370c7*_0x33c285+_0x54716a*_0x2cf3ea,_0x771882=_0x30fdc0*_0x33c285-_0x54716a*_0x543c1c,_0x47945e=_0x33c285*_0x4cd448+_0x54716a*_0x3f191b+_0x3e529f*_0x524899;if(_0x47945e===-0x175*0xf+0x1*0x10e6+0x4f5)this['setIdentit'+'y']();else{const _0x25de98=(-0xf*0x23d+0x11bd+0xfd7)/_0x47945e,_0x2438bb=this['data'];_0x2438bb[0xa33*0x1+0x1*-0x13db+-0xce*-0xc]=_0x4cd448*_0x25de98,_0x2438bb[0x25ab*0x1+-0x1*-0xf45+-0x34ef*0x1]=_0x20b95b*_0x25de98,_0x2438bb[-0x1*-0xd1f+0x229b*-0x1+0x3*0x72a]=_0x102c5f*_0x25de98,_0x2438bb[-0x1b5a+-0x96f+0x13a*0x1e]=_0x3f191b*_0x25de98,_0x2438bb[0x1*0x1b14+0x20d+-0x1d1d]=_0x586ee1*_0x25de98,_0x2438bb[0x228+0x23a7+-0x2*0x12e5]=_0x680c2d*_0x25de98,_0x2438bb[-0x5*0x2af+0xe37+-0xc6]=_0x524899*_0x25de98,_0x2438bb[0x122e+0x2603+-0x9e*0x5b]=_0x49a5f8*_0x25de98,_0x2438bb[-0x39*0x55+-0x1dcc+-0x30c1*-0x1]=_0x771882*_0x25de98;}return this;}['transformV'+'ector'](_0x3bdb7a,_0x5ef70f=new D()){const _0x4dc278=this['data'],{x:_0x309c46,y:_0x429cf8,z:_0x14bc79}=_0x3bdb7a;return _0x5ef70f['x']=_0x309c46*_0x4dc278[-0x4d4+0x2*0x1004+0xd9a*-0x2]+_0x429cf8*_0x4dc278[-0x8f*-0x3b+0x2006+-0x40f8]+_0x14bc79*_0x4dc278[-0xae5+-0x49*0x29+-0x5a7*-0x4],_0x5ef70f['y']=_0x309c46*_0x4dc278[-0x1833+0x1de6+-0x5b2]+_0x429cf8*_0x4dc278[0x5ed+-0xc83*0x1+0xa*0xa9]+_0x14bc79*_0x4dc278[0x1b1+-0x94f+0x7a5*0x1],_0x5ef70f['z']=_0x309c46*_0x4dc278[-0x4*0x538+0x1*0xb6f+0x973]+_0x429cf8*_0x4dc278[-0x80*0x20+0x1819+-0x814]+_0x14bc79*_0x4dc278[-0x20e7*0x1+-0x7cb*-0x5+-0x608],_0x5ef70f;}};h(gn,'IDENTITY',Object['freeze'](new gn())),h(gn,'ZERO',Object['freeze'](new gn()['set']([-0x186b+-0x1*-0x1d5+0x1696,0x13c2+0xd*0x1bb+-0x2a41,0x1*0x323+-0x1da5+-0xd41*-0x2,-0x15c4+0x1*-0x10c9+-0x268d*-0x1,0x1*0x10b1+-0x1*0x11a7+0xf6,0x1511+0x4f*0x2+0x7*-0x319,0x1*-0x18a7+0x26b*0xc+0x45d*-0x1,0x18c4+0x1*0x1d3c+-0x3600,0x577+0x1907+-0x3*0xa2a])));let _i=gn;const Gt=class Gt{constructor(_0x229101=-0x7db+-0x75f+0xf3a,_0x3813e7=-0x2441*0x1+0x219c+0x1*0x2a5){h(this,'x'),h(this,'y'),_0x229101['length']===0x10c3*0x1+0x1*-0x18f3+-0x2*-0x419?(this['x']=_0x229101[-0x1*-0xe59+0x2361+-0x43*0xbe],this['y']=_0x229101[-0x8e*-0x7+-0x1*-0x17c7+0x3c*-0x76]):(this['x']=_0x229101,this['y']=_0x3813e7);}['add'](_0x594a7d){return this['x']+=_0x594a7d['x'],this['y']+=_0x594a7d['y'],this;}['add2'](_0x473b3c,_0x17e821){return this['x']=_0x473b3c['x']+_0x17e821['x'],this['y']=_0x473b3c['y']+_0x17e821['y'],this;}['addScalar'](_0x1eabdb){return this['x']+=_0x1eabdb,this['y']+=_0x1eabdb,this;}['addScaled'](_0x3f96de,_0x175fc0){return this['x']+=_0x3f96de['x']*_0x175fc0,this['y']+=_0x3f96de['y']*_0x175fc0,this;}['clone'](){const _0x1688ed=this['constructo'+'r'];return new _0x1688ed(this['x'],this['y']);}['copy'](_0x6c1af2){return this['x']=_0x6c1af2['x'],this['y']=_0x6c1af2['y'],this;}['cross'](_0x3fd1a1){return this['x']*_0x3fd1a1['y']-this['y']*_0x3fd1a1['x'];}['distance'](_0x44977e){const _0x152c6f=this['x']-_0x44977e['x'],_0x1cd8f3=this['y']-_0x44977e['y'];return Math['sqrt'](_0x152c6f*_0x152c6f+_0x1cd8f3*_0x1cd8f3);}['div'](_0x1bedf7){return this['x']/=_0x1bedf7['x'],this['y']/=_0x1bedf7['y'],this;}['div2'](_0x4d6733,_0x1df218){return this['x']=_0x4d6733['x']/_0x1df218['x'],this['y']=_0x4d6733['y']/_0x1df218['y'],this;}['divScalar'](_0x5d7e77){return this['x']/=_0x5d7e77,this['y']/=_0x5d7e77,this;}['dot'](_0x5b378a){return this['x']*_0x5b378a['x']+this['y']*_0x5b378a['y'];}['equals'](_0xea288e){return this['x']===_0xea288e['x']&&this['y']===_0xea288e['y'];}['equalsAppr'+'ox'](_0x55a2ba,_0x444aaa=-0x3*-0x96e+0x1*0x2221+0x1*-0x3e6b+0.000001){return Math['abs'](this['x']-_0x55a2ba['x'])<_0x444aaa&&Math['abs'](this['y']-_0x55a2ba['y'])<_0x444aaa;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0xc48755,_0x49902b,_0x1cd799){return this['x']=_0xc48755['x']+_0x1cd799*(_0x49902b['x']-_0xc48755['x']),this['y']=_0xc48755['y']+_0x1cd799*(_0x49902b['y']-_0xc48755['y']),this;}['mul'](_0x1529f0){return this['x']*=_0x1529f0['x'],this['y']*=_0x1529f0['y'],this;}['mul2'](_0x141c6b,_0x3c45e7){return this['x']=_0x141c6b['x']*_0x3c45e7['x'],this['y']=_0x141c6b['y']*_0x3c45e7['y'],this;}['mulScalar'](_0x35a3aa){return this['x']*=_0x35a3aa,this['y']*=_0x35a3aa,this;}['normalize'](_0x1ce162=this){const _0x32e650=_0x1ce162['x']*_0x1ce162['x']+_0x1ce162['y']*_0x1ce162['y'];if(_0x32e650>0x26d1+-0x28f*0x3+-0x1f24){const _0x5c98e5=(0x145*-0x19+0x5a*-0x4c+0x3a76)/Math['sqrt'](_0x32e650);this['x']=_0x1ce162['x']*_0x5c98e5,this['y']=_0x1ce162['y']*_0x5c98e5;}return this;}['rotate'](_0x570f3c){const _0x52a3bd=Math['atan2'](this['x'],this['y'])+_0x570f3c*Y['DEG_TO_RAD'],_0x5838f2=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x52a3bd)*_0x5838f2,this['y']=Math['cos'](_0x52a3bd)*_0x5838f2,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*Y['RAD_TO_DEG'];}['angleTo'](_0xa993d){return Math['atan2'](this['x']*_0xa993d['y']+this['y']*_0xa993d['x'],this['x']*_0xa993d['x']+this['y']*_0xa993d['y'])*Y['RAD_TO_DEG'];}['floor'](_0x611d51=this){return this['x']=Math['floor'](_0x611d51['x']),this['y']=Math['floor'](_0x611d51['y']),this;}['ceil'](_0x11f60f=this){return this['x']=Math['ceil'](_0x11f60f['x']),this['y']=Math['ceil'](_0x11f60f['y']),this;}['round'](_0x377905=this){return this['x']=Math['round'](_0x377905['x']),this['y']=Math['round'](_0x377905['y']),this;}['min'](_0x323053){return _0x323053['x']<this['x']&&(this['x']=_0x323053['x']),_0x323053['y']<this['y']&&(this['y']=_0x323053['y']),this;}['max'](_0xfcca5d){return _0xfcca5d['x']>this['x']&&(this['x']=_0xfcca5d['x']),_0xfcca5d['y']>this['y']&&(this['y']=_0xfcca5d['y']),this;}['set'](_0x554b98,_0x298caa){return this['x']=_0x554b98,this['y']=_0x298caa,this;}['sub'](_0x384a1f){return this['x']-=_0x384a1f['x'],this['y']-=_0x384a1f['y'],this;}['sub2'](_0x1b83c9,_0x118e31){return this['x']=_0x1b83c9['x']-_0x118e31['x'],this['y']=_0x1b83c9['y']-_0x118e31['y'],this;}['subScalar'](_0x386a03){return this['x']-=_0x386a03,this['y']-=_0x386a03,this;}['fromArray'](_0x51efeb,_0x54d65f=0x17c3+0x8*0x25d+-0x21*0x14b){return this['x']=_0x51efeb[_0x54d65f]??this['x'],this['y']=_0x51efeb[_0x54d65f+(-0xe92+-0x3f*0x3f+-0xaf*-0x2c)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0xb66846=[],_0x2d08cf=-0xf90+-0x2*-0x109a+-0x11a4){return _0xb66846[_0x2d08cf]=this['x'],_0xb66846[_0x2d08cf+(0x2*-0x167+0x38b+-0xbc)]=this['y'],_0xb66846;}static['angleRad'](_0x256446,_0x1da13c){return Math['atan2'](_0x256446['x']*_0x1da13c['y']-_0x256446['y']*_0x1da13c['x'],_0x256446['x']*_0x1da13c['x']+_0x256446['y']*_0x1da13c['y']);}};h(Gt,'ZERO',Object['freeze'](new Gt(0xbb*-0x21+0x425*0x7+-0x4e8,0xa7b+-0x2*-0xbb9+-0x21ed))),h(Gt,'HALF',Object['freeze'](new Gt(0x69d+0xd8b+-0x1428+0.5,-0x17*-0x17e+0xf76+-0x3*0x1098+0.5))),h(Gt,'ONE',Object['freeze'](new Gt(-0x22c0+-0x115*0x14+0x3865,-0x1b87+-0x1fe5+-0x21*-0x1cd))),h(Gt,'UP',Object['freeze'](new Gt(-0xadb+0x13e*0xa+-0x191,-0x11*0x239+-0x2e2+0x112*0x26))),h(Gt,'DOWN',Object['freeze'](new Gt(-0x1*0xdc7+0x20cd+-0x1306,-(-0x824+0x220b+-0x19e6)))),h(Gt,'RIGHT',Object['freeze'](new Gt(-0x3b*0x8f+0x1651+-0xaa5*-0x1,0x119*-0x1d+-0x673*0x4+0x39a1))),h(Gt,'LEFT',Object['freeze'](new Gt(-(0x590+0x1*0x373+-0x902),-0x3ae*-0x1+-0x1dac+0xcff*0x2)));let J=Gt;const pr=class pr{constructor(_0x328346=0x18b2+-0x17eb+0xc7*-0x1,_0x1422e7=0x1483+-0x2e5*0x1+-0x1c3*0xa,_0x2c80dd=0x1079+-0x1*0x1271+0x1f8,_0x12f78c=0x1b74+0xbbb+-0x272f){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0x328346['length']===-0x1a85+-0x2*-0x1181+-0x879?(this['x']=_0x328346[-0xfc2+-0x1265+0x1*0x2227],this['y']=_0x328346[0x54*0x5f+0x1*-0x2461+0x536],this['z']=_0x328346[-0x257f+0x371*0x5+-0x2*-0xa26],this['w']=_0x328346[0x1e7e+0x11e0+0x305b*-0x1]):(this['x']=_0x328346,this['y']=_0x1422e7,this['z']=_0x2c80dd,this['w']=_0x12f78c);}['add'](_0x1954fb){return this['x']+=_0x1954fb['x'],this['y']+=_0x1954fb['y'],this['z']+=_0x1954fb['z'],this['w']+=_0x1954fb['w'],this;}['add2'](_0x4c15bb,_0xce2863){return this['x']=_0x4c15bb['x']+_0xce2863['x'],this['y']=_0x4c15bb['y']+_0xce2863['y'],this['z']=_0x4c15bb['z']+_0xce2863['z'],this['w']=_0x4c15bb['w']+_0xce2863['w'],this;}['addScalar'](_0x3983b1){return this['x']+=_0x3983b1,this['y']+=_0x3983b1,this['z']+=_0x3983b1,this['w']+=_0x3983b1,this;}['addScaled'](_0x544eee,_0xe2d03f){return this['x']+=_0x544eee['x']*_0xe2d03f,this['y']+=_0x544eee['y']*_0xe2d03f,this['z']+=_0x544eee['z']*_0xe2d03f,this['w']+=_0x544eee['w']*_0xe2d03f,this;}['clone'](){const _0x5c8320=this['constructo'+'r'];return new _0x5c8320(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x372e0e){return this['x']=_0x372e0e['x'],this['y']=_0x372e0e['y'],this['z']=_0x372e0e['z'],this['w']=_0x372e0e['w'],this;}['div'](_0x4e50a0){return this['x']/=_0x4e50a0['x'],this['y']/=_0x4e50a0['y'],this['z']/=_0x4e50a0['z'],this['w']/=_0x4e50a0['w'],this;}['div2'](_0x25fc95,_0x20cd79){return this['x']=_0x25fc95['x']/_0x20cd79['x'],this['y']=_0x25fc95['y']/_0x20cd79['y'],this['z']=_0x25fc95['z']/_0x20cd79['z'],this['w']=_0x25fc95['w']/_0x20cd79['w'],this;}['divScalar'](_0x1e90b6){return this['x']/=_0x1e90b6,this['y']/=_0x1e90b6,this['z']/=_0x1e90b6,this['w']/=_0x1e90b6,this;}['dot'](_0x302c1e){return this['x']*_0x302c1e['x']+this['y']*_0x302c1e['y']+this['z']*_0x302c1e['z']+this['w']*_0x302c1e['w'];}['equals'](_0x5b7e06){return this['x']===_0x5b7e06['x']&&this['y']===_0x5b7e06['y']&&this['z']===_0x5b7e06['z']&&this['w']===_0x5b7e06['w'];}['equalsAppr'+'ox'](_0x160739,_0x5ade39=0x100f+-0x23*-0x11+-0xd*0x16a+0.000001){return Math['abs'](this['x']-_0x160739['x'])<_0x5ade39&&Math['abs'](this['y']-_0x160739['y'])<_0x5ade39&&Math['abs'](this['z']-_0x160739['z'])<_0x5ade39&&Math['abs'](this['w']-_0x160739['w'])<_0x5ade39;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x566460,_0x50a114,_0x3b8856){return this['x']=_0x566460['x']+_0x3b8856*(_0x50a114['x']-_0x566460['x']),this['y']=_0x566460['y']+_0x3b8856*(_0x50a114['y']-_0x566460['y']),this['z']=_0x566460['z']+_0x3b8856*(_0x50a114['z']-_0x566460['z']),this['w']=_0x566460['w']+_0x3b8856*(_0x50a114['w']-_0x566460['w']),this;}['mul'](_0x29b2ab){return this['x']*=_0x29b2ab['x'],this['y']*=_0x29b2ab['y'],this['z']*=_0x29b2ab['z'],this['w']*=_0x29b2ab['w'],this;}['mul2'](_0x4bbefe,_0x1c25f6){return this['x']=_0x4bbefe['x']*_0x1c25f6['x'],this['y']=_0x4bbefe['y']*_0x1c25f6['y'],this['z']=_0x4bbefe['z']*_0x1c25f6['z'],this['w']=_0x4bbefe['w']*_0x1c25f6['w'],this;}['mulScalar'](_0x55ee9f){return this['x']*=_0x55ee9f,this['y']*=_0x55ee9f,this['z']*=_0x55ee9f,this['w']*=_0x55ee9f,this;}['normalize'](_0x463313=this){const _0x314fb6=_0x463313['x']*_0x463313['x']+_0x463313['y']*_0x463313['y']+_0x463313['z']*_0x463313['z']+_0x463313['w']*_0x463313['w'];if(_0x314fb6>0x1f42+-0xb7a+-0x13c8){const _0x2c69ce=(-0x2363+0x5*0x259+0xad*0x23)/Math['sqrt'](_0x314fb6);this['x']=_0x463313['x']*_0x2c69ce,this['y']=_0x463313['y']*_0x2c69ce,this['z']=_0x463313['z']*_0x2c69ce,this['w']=_0x463313['w']*_0x2c69ce;}return this;}['floor'](_0x297524=this){return this['x']=Math['floor'](_0x297524['x']),this['y']=Math['floor'](_0x297524['y']),this['z']=Math['floor'](_0x297524['z']),this['w']=Math['floor'](_0x297524['w']),this;}['ceil'](_0x5c85be=this){return this['x']=Math['ceil'](_0x5c85be['x']),this['y']=Math['ceil'](_0x5c85be['y']),this['z']=Math['ceil'](_0x5c85be['z']),this['w']=Math['ceil'](_0x5c85be['w']),this;}['round'](_0x2bf7c6=this){return this['x']=Math['round'](_0x2bf7c6['x']),this['y']=Math['round'](_0x2bf7c6['y']),this['z']=Math['round'](_0x2bf7c6['z']),this['w']=Math['round'](_0x2bf7c6['w']),this;}['min'](_0x5a05a2){return _0x5a05a2['x']<this['x']&&(this['x']=_0x5a05a2['x']),_0x5a05a2['y']<this['y']&&(this['y']=_0x5a05a2['y']),_0x5a05a2['z']<this['z']&&(this['z']=_0x5a05a2['z']),_0x5a05a2['w']<this['w']&&(this['w']=_0x5a05a2['w']),this;}['max'](_0xb510e2){return _0xb510e2['x']>this['x']&&(this['x']=_0xb510e2['x']),_0xb510e2['y']>this['y']&&(this['y']=_0xb510e2['y']),_0xb510e2['z']>this['z']&&(this['z']=_0xb510e2['z']),_0xb510e2['w']>this['w']&&(this['w']=_0xb510e2['w']),this;}['set'](_0x4a8ed2,_0x3f50b4,_0x292b65,_0x8a165f){return this['x']=_0x4a8ed2,this['y']=_0x3f50b4,this['z']=_0x292b65,this['w']=_0x8a165f,this;}['sub'](_0x31a449){return this['x']-=_0x31a449['x'],this['y']-=_0x31a449['y'],this['z']-=_0x31a449['z'],this['w']-=_0x31a449['w'],this;}['sub2'](_0x3034ff,_0x322817){return this['x']=_0x3034ff['x']-_0x322817['x'],this['y']=_0x3034ff['y']-_0x322817['y'],this['z']=_0x3034ff['z']-_0x322817['z'],this['w']=_0x3034ff['w']-_0x322817['w'],this;}['subScalar'](_0x15563f){return this['x']-=_0x15563f,this['y']-=_0x15563f,this['z']-=_0x15563f,this['w']-=_0x15563f,this;}['fromArray'](_0x110bfa,_0x44b0b7=0x180c+-0x26c8+-0xa4*-0x17){return this['x']=_0x110bfa[_0x44b0b7]??this['x'],this['y']=_0x110bfa[_0x44b0b7+(-0xede+-0x13f3*0x1+0x22d2)]??this['y'],this['z']=_0x110bfa[_0x44b0b7+(-0x2397+-0x2417*0x1+0x47b0)]??this['z'],this['w']=_0x110bfa[_0x44b0b7+(-0x2*-0x129c+-0x1cd0+0x133*-0x7)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x3ab0da=[],_0xa20cf1=0x2*-0x1181+-0x1062+0x3364){return _0x3ab0da[_0xa20cf1]=this['x'],_0x3ab0da[_0xa20cf1+(-0xe1f+0x15ef*0x1+-0x7cf*0x1)]=this['y'],_0x3ab0da[_0xa20cf1+(0x1fe*-0xe+0x1454+0x792)]=this['z'],_0x3ab0da[_0xa20cf1+(-0xa7c+-0x1*0x20d2+0xd*0x355)]=this['w'],_0x3ab0da;}};h(pr,'ZERO',Object['freeze'](new pr(-0x2011+0x1854+0x7*0x11b,-0x6*-0x35b+0x196e+-0x2d90,-0xee8*-0x1+-0x1e08+-0x2c*-0x58,0xf48+-0x1*0x2287+0x133f))),h(pr,'HALF',Object['freeze'](new pr(0x1*0x8f1+0xab9+-0x13aa+0.5,0xd13*-0x1+0x1*0x977+0x39c+0.5,0xb9*-0x3+-0x77d+-0x67*-0x18+0.5,0x11df+0xb7*0x2e+-0x32c1+0.5))),h(pr,'ONE',Object['freeze'](new pr(0x51*0x13+-0x5*0x1d+-0x1*0x571,0x73c*-0x3+0x1c07+-0x652,-0x86a*0x1+-0xa2a*-0x2+-0x1*0xbe9,-0x5*0x95+0x2215+-0x1f2b)));let re=pr;const to=new J(),Os=new D(),Js=new D(),ei=new D(),Hl=new D(),Qr=class Qr{constructor(){h(this,'data',new Float32Array(0x1023+0x1e5c+-0x2e6f)),this['data'][0x5d9*0x1+0x92*0x15+-0x11d3]=this['data'][-0x6f7+0x58*0x15+-0x3c]=this['data'][-0x13*-0x199+-0x1dcd+0x2c*-0x3]=this['data'][-0x1342+0x263e+-0x33*0x5f]=-0x198+-0x173*-0xf+0x509*-0x4;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0x3ab457,_0x1d6b5b,_0x3e5396,_0x2c9c84,_0x465ee8){_0x465ee8?(_0x3ab457['x']=_0x2c9c84*Math['tan'](_0x1d6b5b*Math['PI']/(0x1808+0x296*0x2+-0x1bcc)),_0x3ab457['y']=_0x3ab457['x']/_0x3e5396):(_0x3ab457['y']=_0x2c9c84*Math['tan'](_0x1d6b5b*Math['PI']/(-0x1c26+-0x21f5+0x3f83)),_0x3ab457['x']=_0x3ab457['y']*_0x3e5396);}['add2'](_0x111877,_0x7a5aa9){const _0x5cc9f1=_0x111877['data'],_0x2e24ed=_0x7a5aa9['data'],_0xe8da07=this['data'];return _0xe8da07[0x1e49*0x1+-0x154d+-0x8fc]=_0x5cc9f1[0xaf2+0x1cd*0x2+-0x13*0xc4]+_0x2e24ed[0x497*-0x1+-0x152e+0x2dd*0x9],_0xe8da07[0x2240+-0x1*-0x12f1+-0x3530]=_0x5cc9f1[0xc66+-0x5e*0x49+0xe69]+_0x2e24ed[-0x1f9e+-0x3*-0x199+-0x2*-0xd6a],_0xe8da07[-0x1c96+-0x1*0x643+0x22db]=_0x5cc9f1[-0x70c+0x25de+-0x1ed0]+_0x2e24ed[0x1dc2+-0x1*-0x1d9f+-0x3b5f],_0xe8da07[0x1*-0x1fb2+0x1*0x22cb+-0x5*0x9e]=_0x5cc9f1[-0xc*0x121+0x2*-0x7db+0x1d45]+_0x2e24ed[-0xc25+-0x229*0x8+-0x9d*-0x30],_0xe8da07[0x793+-0xbdd+0x44e]=_0x5cc9f1[0xcd1+-0xbbd*-0x3+-0x1b7*0x1c]+_0x2e24ed[0xc68*-0x1+0x1*-0x1723+0x238f],_0xe8da07[-0x1e6a+0xd*0x88+0x1787]=_0x5cc9f1[-0x1*0x1869+-0x3bf*-0x1+0x1*0x14af]+_0x2e24ed[0x1*0x805+-0x1625*-0x1+-0x1e25],_0xe8da07[-0x1862*0x1+-0x1322+-0x2b8a*-0x1]=_0x5cc9f1[0x1*-0x224a+0xa61+0x17ef]+_0x2e24ed[0x1a5c+0x823*0x3+-0x32bf],_0xe8da07[-0x2291+0x3*-0x584+0xc*0x443]=_0x5cc9f1[-0x223*0xd+0xbc9*0x2+0x43c]+_0x2e24ed[0xca*-0xb+-0x1cc7+-0x12be*-0x2],_0xe8da07[0x85e+0x1c4e+-0x4*0x929]=_0x5cc9f1[0x3*-0x97+0x8cc+-0x6ff]+_0x2e24ed[0x25e4+-0xb9d*0x1+-0x1a3f],_0xe8da07[0x7d*-0x37+-0x2b*0x23+0x1*0x20c5]=_0x5cc9f1[0x1*-0x1945+-0x1ef0+-0x2e*-0x139]+_0x2e24ed[0x1*-0x1a49+-0x1*-0x13ff+-0x1*-0x653],_0xe8da07[-0x1c29+0x28d*0xb+0x24]=_0x5cc9f1[0x4fd*-0x7+-0x1e*-0xd6+0x9e1*0x1]+_0x2e24ed[0x194f+-0x1ec1*0x1+0x57c],_0xe8da07[0xb*-0x1de+-0x3*-0x9d1+-0x8de]=_0x5cc9f1[0x1bfd+0x2400+0x1ff9*-0x2]+_0x2e24ed[-0x191f+0x227+0x1703],_0xe8da07[-0x2ab*0x6+-0xebd+-0x1ecb*-0x1]=_0x5cc9f1[-0x25a4*0x1+-0x2236*-0x1+0x37a]+_0x2e24ed[-0x19*-0x1e+0x30*0xcb+-0x28f2],_0xe8da07[-0x1*-0x2195+0xadb+-0x2c63]=_0x5cc9f1[0x95*0x1+0x201d+-0x20a5]+_0x2e24ed[-0x187c*0x1+-0xe6*-0xd+0xcdb],_0xe8da07[0x11*0x1f7+-0x1*-0x14db+0x3634*-0x1]=_0x5cc9f1[-0xaf*0x5+0x25d9+-0x28*0xdc]+_0x2e24ed[0x258a+-0x1295*-0x2+-0x7*0xaaa],_0xe8da07[0x16eb*-0x1+0x1e46+0x4*-0x1d3]=_0x5cc9f1[-0x1723+-0x3*-0x41d+-0x1*-0xadb]+_0x2e24ed[-0x1589+0x17e3*-0x1+0x2d7b],this;}['add'](_0x40aa60){return this['add2'](this,_0x40aa60);}['clone'](){const _0x139a54=this['constructo'+'r'];return new _0x139a54()['copy'](this);}['copy'](_0x1c8174){const _0x19997a=_0x1c8174['data'],_0x5409af=this['data'];return _0x5409af[0x176e+0x47*0x29+-0x22cd]=_0x19997a[-0xc0f+-0x1767+0x2376],_0x5409af[0x1328+-0xec3+-0x464]=_0x19997a[-0x148d+-0x2573+0x3a01],_0x5409af[-0x1d0*0x13+0x1bff+0x673]=_0x19997a[-0xb29+-0x8*0x445+0x2d53],_0x5409af[-0x22e9+0x13f5+0x3*0x4fd]=_0x19997a[0x1b1e+-0x12a4+0xb*-0xc5],_0x5409af[-0xe*-0x52+-0x24de+0x2066]=_0x19997a[-0x1*-0x23d3+-0x1*-0x23c9+0x13c*-0x3a],_0x5409af[-0x138c+0x1c9c+-0x90b]=_0x19997a[-0xe77*-0x1+0x42b+-0x129d],_0x5409af[-0x1bb2+-0x451+0x3b*0x8b]=_0x19997a[0xa2*-0x1f+-0x301+-0x155*-0x11],_0x5409af[-0x1823+-0x1*0x4fd+0x1d27]=_0x19997a[-0x1*-0x1d75+0x1c78+-0x39e6],_0x5409af[-0x487+-0x1*0x199a+-0x1*-0x1e29]=_0x19997a[0x1*-0xd2f+-0x5*-0x1a+-0xcb5*-0x1],_0x5409af[0x1*-0x1a17+0x144b*-0x1+0x2e6b]=_0x19997a[0xe6f+0x1611+0x1*-0x2477],_0x5409af[0x1bbf*-0x1+0x8e1+0x12e8]=_0x19997a[-0x1685+-0x9*-0x97+0x1140],_0x5409af[0x47*-0x6e+0x207d*0x1+-0x1f0]=_0x19997a[0x47*-0x43+-0x1*0xa4c+0x73b*0x4],_0x5409af[0x2005+0xf23*0x2+-0x3e3f]=_0x19997a[-0x1082+0x7bc+0x8d2*0x1],_0x5409af[0xf0f+0x7*0x593+0x3607*-0x1]=_0x19997a[0x1209+0x11d0+-0x4*0x8f3],_0x5409af[-0x1062+-0x213a+0x31aa]=_0x19997a[-0x2aa*0xd+0x1139+0x1177],_0x5409af[0x373*0xa+0x1412*0x1+-0x3681]=_0x19997a[0x2*-0xa87+-0x3*0xb2b+0x369e],this;}['equals'](_0x169186){const _0x3094e4=this['data'],_0x350521=_0x169186['data'];return _0x3094e4[-0x1a7+-0x1c2+0x369]===_0x350521[0x131*0x2+0x30a*-0x7+0x12e4*0x1]&&_0x3094e4[-0xd8e+-0x2647+-0x33d6*-0x1]===_0x350521[0x25bd*0x1+0x2*-0xef+-0x23de]&&_0x3094e4[0x11ba+-0x1c76+0xabe]===_0x350521[-0xe38*-0x1+0x1*0x25fe+-0xd0d*0x4]&&_0x3094e4[-0x2*0x250+-0xcc0+0x1*0x1163]===_0x350521[0x26*-0x5+0x1015*-0x1+0x10d6]&&_0x3094e4[-0xf51+-0x307+0x125c]===_0x350521[0x1*-0x1c19+-0x1*0x1f46+0x3b63]&&_0x3094e4[-0x1acc+0xa7e+0x255*0x7]===_0x350521[-0x4*-0x1b1+0x8*0x47d+-0x2aa7]&&_0x3094e4[-0x2e*0x10+-0x1*-0x1c2d+-0x1*0x1947]===_0x350521[0x1187+-0x1d76+0xbf5]&&_0x3094e4[-0x1*0x2459+-0x1e8e+-0x526*-0xd]===_0x350521[-0xd06+-0x20d+0xf1a]&&_0x3094e4[-0x1*0x22ea+0x2036+0xe*0x32]===_0x350521[-0x9*0x259+0x1ce*0xb+-0x14f*-0x1]&&_0x3094e4[0x5c3+0xd0d+0x17*-0xd1]===_0x350521[0x1beb*-0x1+0x25b2+0x3a*-0x2b]&&_0x3094e4[0x690+0xe4c+-0x14d2]===_0x350521[-0xa6f+-0x101*-0x1f+-0x6*0x371]&&_0x3094e4[0x3*0xace+-0x258e+-0x1*-0x52f]===_0x350521[-0x26c1+-0x1*-0x22db+0x3f1]&&_0x3094e4[0x1*0x2e1+-0x2*0x274+0x213]===_0x350521[-0xcad+-0x1ba0+0x2859]&&_0x3094e4[0x1*-0x1d98+-0x5*0x44d+0x3326]===_0x350521[0x826+0x24e7+-0x2d00]&&_0x3094e4[0x2*0x11d8+0x17a7+-0x3b49]===_0x350521[-0x745+0x1b8f+0x1c*-0xb9]&&_0x3094e4[0x2*-0x461+-0x2526+0x2df7]===_0x350521[0x73*0x33+-0x14d9+-0x201];}['isIdentity'](){const _0x5ab55b=this['data'];return _0x5ab55b[0x713*-0x2+-0x3d4*0x7+0x28f2]===-0x173a+0x2*0x30f+0x111d&&_0x5ab55b[-0x291*-0x5+-0x2470+0x1*0x179c]===-0x1271+0x20cc+-0xe5b&&_0x5ab55b[0x1ccc+-0xfd4+-0xcf6]===0x1d98+-0x9*0x25e+-0x84a*0x1&&_0x5ab55b[-0x249d+-0x1*-0x23ae+0xf2]===-0x43a+0x23ea+-0x1fb0&&_0x5ab55b[0x1acb+-0x10*-0x198+0x116d*-0x3]===-0xbb3*-0x1+0x4e4+-0x1f*0x89&&_0x5ab55b[-0x52c*0x2+0x1*-0x2e3+-0x35*-0x40]===0x1*-0x20b+-0x1803+0x1a0f&&_0x5ab55b[-0x1*-0x139f+0x1d3f+-0x30d8]===-0x1*0x2531+-0xc92+-0x31c3*-0x1&&_0x5ab55b[0x2265+-0xf38+0x6*-0x331]===-0x1*0x53+-0x1ac3+0x1b16&&_0x5ab55b[-0xd0a*-0x1+-0x5e4+0x71e*-0x1]===0x1af*-0xe+-0x223*0x12+-0x2*-0x1f04&&_0x5ab55b[0x1e*-0x5b+0x1403+-0x950]===-0x1459+-0xeca+0x23*0x101&&_0x5ab55b[-0x18b3+0x8*0x1a3+-0xb*-0x10f]===-0x1255+0x1664+0x40e*-0x1&&_0x5ab55b[-0x5fb*-0x2+0x2ab*0x3+-0x1*0x13ec]===-0x175f*0x1+0x183e+-0x1*0xdf&&_0x5ab55b[0x193e+-0xc1c+0x19*-0x86]===0x50e+-0x213f+0x1c31&&_0x5ab55b[-0x2ea*-0x8+0x101+-0x1844]===-0x1*0x2069+0x898+0x5b*0x43&&_0x5ab55b[0x2685+-0xc6b+-0x1a0c]===-0x3*-0xb2b+0x2186+0x1*-0x4307&&_0x5ab55b[0xadb+0x59*0x3e+-0x205a]===0x1*-0x1eec+0x708+0x17e5;}['mul2'](_0x4ead03,_0x33c80b){const _0x13313c=_0x4ead03['data'],_0x258946=_0x33c80b['data'],_0xf5463c=this['data'],_0x3969bf=_0x13313c[-0xcd7+-0x1*0x2150+0x2e27],_0x35179c=_0x13313c[0xe89*0x1+0x70d*-0x1+-0x77b],_0x58d118=_0x13313c[0x1655+0x2*0xec6+-0x33df],_0x449e18=_0x13313c[-0x23f7+0x1*-0xbb2+0x2fac],_0x3d4307=_0x13313c[-0x1b27+0x804+-0x1327*-0x1],_0x592d7a=_0x13313c[-0x23a9+-0xe3*-0x4+0x2022],_0x193746=_0x13313c[-0x19e+-0x25*-0x22+-0x346],_0x109a82=_0x13313c[0xd0a+-0x3fd+-0x16*0x69],_0xc4102a=_0x13313c[0xdbe+-0x1e66+0x2c8*0x6],_0x2d4135=_0x13313c[0x22*-0x113+0xf9+-0xa*-0x38f],_0x1b3d40=_0x13313c[0xc3b*-0x3+-0x135c*0x2+0x5*0xf17],_0x26c9c5=_0x13313c[0x3*-0x8b6+-0x196b+0x3398],_0x5c4493=_0x13313c[0x552+0x2405+-0x294b],_0x8cf7b1=_0x13313c[-0x2*-0x476+0x1*-0x3d1+-0x50e],_0x585b64=_0x13313c[0x1a7d*-0x1+-0x17b*-0x6+0x11a9],_0x552624=_0x13313c[-0x2*0x207+-0x24d7+0x28f4];let _0x317285,_0x11e13a,_0x45d668,_0x3dbf9b;return _0x317285=_0x258946[-0x55+0x1239+-0x394*0x5],_0x11e13a=_0x258946[-0xa20*0x1+0x17*-0x79+0x1500],_0x45d668=_0x258946[-0x3*-0x3b3+0x159e+-0x20b5],_0x3dbf9b=_0x258946[0x1*-0x115f+0x1*-0x476+0x748*0x3],_0xf5463c[0x4*0x85f+0x1db7+0x3f33*-0x1]=_0x3969bf*_0x317285+_0x3d4307*_0x11e13a+_0xc4102a*_0x45d668+_0x5c4493*_0x3dbf9b,_0xf5463c[-0xa7+0x237b+-0x22d3]=_0x35179c*_0x317285+_0x592d7a*_0x11e13a+_0x2d4135*_0x45d668+_0x8cf7b1*_0x3dbf9b,_0xf5463c[0x2a8*-0x7+0x1d4+-0x2*-0x863]=_0x58d118*_0x317285+_0x193746*_0x11e13a+_0x1b3d40*_0x45d668+_0x585b64*_0x3dbf9b,_0xf5463c[-0x1257+-0x1a2d*-0x1+0x7d3*-0x1]=_0x449e18*_0x317285+_0x109a82*_0x11e13a+_0x26c9c5*_0x45d668+_0x552624*_0x3dbf9b,_0x317285=_0x258946[0x975+0x1767+0x41b*-0x8],_0x11e13a=_0x258946[0x7*-0x57f+-0x5b2+0xb0c*0x4],_0x45d668=_0x258946[-0x2400+0xfb7+0x3*0x6c5],_0x3dbf9b=_0x258946[-0x2662+0x11a4+-0xd*-0x199],_0xf5463c[-0x114d+0x4a9+0xca8]=_0x3969bf*_0x317285+_0x3d4307*_0x11e13a+_0xc4102a*_0x45d668+_0x5c4493*_0x3dbf9b,_0xf5463c[0x20f3+0x1b1f*0x1+-0x3c0d*0x1]=_0x35179c*_0x317285+_0x592d7a*_0x11e13a+_0x2d4135*_0x45d668+_0x8cf7b1*_0x3dbf9b,_0xf5463c[0xc50+0xb8f+-0xb*0x22b]=_0x58d118*_0x317285+_0x193746*_0x11e13a+_0x1b3d40*_0x45d668+_0x585b64*_0x3dbf9b,_0xf5463c[0x1a35+0x1*0x1b59+-0xc1*0x47]=_0x449e18*_0x317285+_0x109a82*_0x11e13a+_0x26c9c5*_0x45d668+_0x552624*_0x3dbf9b,_0x317285=_0x258946[-0x4*-0x943+0x29b*-0x6+-0x1562],_0x11e13a=_0x258946[-0x2*-0x269+-0x144+0x385*-0x1],_0x45d668=_0x258946[-0xbe7+0x260b+0x2*-0xd0d],_0x3dbf9b=_0x258946[-0x194*0x10+-0x1f*-0xc2+0x1cd],_0xf5463c[-0x194c+0x1d37+0x5*-0xc7]=_0x3969bf*_0x317285+_0x3d4307*_0x11e13a+_0xc4102a*_0x45d668+_0x5c4493*_0x3dbf9b,_0xf5463c[0x776*0x2+0x6b4*0x1+-0x1597]=_0x35179c*_0x317285+_0x592d7a*_0x11e13a+_0x2d4135*_0x45d668+_0x8cf7b1*_0x3dbf9b,_0xf5463c[-0x10f*0x1d+0x2619+-0x75c]=_0x58d118*_0x317285+_0x193746*_0x11e13a+_0x1b3d40*_0x45d668+_0x585b64*_0x3dbf9b,_0xf5463c[0x1fe6+-0xbb1+-0x142a]=_0x449e18*_0x317285+_0x109a82*_0x11e13a+_0x26c9c5*_0x45d668+_0x552624*_0x3dbf9b,_0x317285=_0x258946[0xc7a*0x2+-0x193f+0x1*0x57],_0x11e13a=_0x258946[-0x3*0x21f+0xea9+-0x83f],_0x45d668=_0x258946[-0x1147+-0x1447*-0x1+-0x1*0x2f2],_0x3dbf9b=_0x258946[0x209d+-0x6a6+-0x33d*0x8],_0xf5463c[0x12b9+-0x3*-0xa91+-0x1f0*0x1a]=_0x3969bf*_0x317285+_0x3d4307*_0x11e13a+_0xc4102a*_0x45d668+_0x5c4493*_0x3dbf9b,_0xf5463c[0xadd+0x2227+-0x2cf7]=_0x35179c*_0x317285+_0x592d7a*_0x11e13a+_0x2d4135*_0x45d668+_0x8cf7b1*_0x3dbf9b,_0xf5463c[0x1*0x19cc+-0x2cc*-0x2+-0x1f56]=_0x58d118*_0x317285+_0x193746*_0x11e13a+_0x1b3d40*_0x45d668+_0x585b64*_0x3dbf9b,_0xf5463c[-0xe7*0x4+0x1285+-0xeda]=_0x449e18*_0x317285+_0x109a82*_0x11e13a+_0x26c9c5*_0x45d668+_0x552624*_0x3dbf9b,this;}['mulAffine2'](_0x31b6d3,_0x3de70c){const _0x162736=_0x31b6d3['data'],_0x492599=_0x3de70c['data'],_0x390a91=this['data'],_0x111d50=_0x162736[0x2435+-0x10ce+-0x1*0x1367],_0x2243a8=_0x162736[-0xbf7*-0x1+0x2118+0x4f*-0x92],_0x216d68=_0x162736[-0xbf1*-0x1+0x21b7+-0x2da6],_0x42ffcb=_0x162736[0x24f*-0x6+0x1f*0xc1+-0x981],_0x545597=_0x162736[-0x2692+0x2bf*-0xa+0x420d],_0x3dbbf2=_0x162736[-0x5*0x3f1+0x37*0x83+0x2ce*-0x3],_0x584453=_0x162736[0xa3f*0x2+-0x622+0xe*-0x106],_0x4e73c8=_0x162736[0x2*-0x9e5+-0x1*-0x996+0x1*0xa3d],_0x4fb12b=_0x162736[0xc7a+0xf1b+-0x1b8b],_0x299fc6=_0x162736[-0x111f+-0xd7d*0x1+0x1ea8],_0xac8f41=_0x162736[0x17d4+0x2054+-0x381b*0x1],_0x443175=_0x162736[0x18*-0x107+-0x1731+0x2fe7];let _0x3d588d,_0x22e7f2,_0x264996;return _0x3d588d=_0x492599[-0x1eee+-0x2*0x3a+0x1f62],_0x22e7f2=_0x492599[-0x1ee9+0x297*-0xa+-0x3*-0x12f0],_0x264996=_0x492599[0xf8c+0x39*0x47+0xa73*-0x3],_0x390a91[-0x1*0x1b73+0x1aa7*0x1+0xcc]=_0x111d50*_0x3d588d+_0x42ffcb*_0x22e7f2+_0x584453*_0x264996,_0x390a91[-0x8ef+-0x19e+-0xe*-0xc1]=_0x2243a8*_0x3d588d+_0x545597*_0x22e7f2+_0x4e73c8*_0x264996,_0x390a91[-0x14b4+-0x1e75+0x332b*0x1]=_0x216d68*_0x3d588d+_0x3dbbf2*_0x22e7f2+_0x4fb12b*_0x264996,_0x390a91[0x1526+0xd3*-0x1f+-0x46a*-0x1]=0x17e0+-0xd97+-0xa49*0x1,_0x3d588d=_0x492599[-0x1f4b+0x1583+0x3*0x344],_0x22e7f2=_0x492599[-0x1*-0x58f+0x4f*0x65+-0x24b5],_0x264996=_0x492599[-0x280+-0x24f5*-0x1+0x5*-0x6e3],_0x390a91[-0xcb*0x7+-0x2*-0x614+-0x697]=_0x111d50*_0x3d588d+_0x42ffcb*_0x22e7f2+_0x584453*_0x264996,_0x390a91[-0x5*0x457+-0x75b+0x9b1*0x3]=_0x2243a8*_0x3d588d+_0x545597*_0x22e7f2+_0x4e73c8*_0x264996,_0x390a91[-0x5b7*-0x5+0x10cb*0x1+0x16ac*-0x2]=_0x216d68*_0x3d588d+_0x3dbbf2*_0x22e7f2+_0x4fb12b*_0x264996,_0x390a91[0x23e4+-0x174e+-0x283*0x5]=-0x24f*-0x8+0x6b*0x41+-0x2da3*0x1,_0x3d588d=_0x492599[-0x3b*0x26+0x139a*-0x1+-0x4*-0x719],_0x22e7f2=_0x492599[0x2f9+0x2*-0x239+0x1*0x182],_0x264996=_0x492599[0x4e5+-0xe7+-0x3f4],_0x390a91[-0x2553+-0x3df+-0xdbe*-0x3]=_0x111d50*_0x3d588d+_0x42ffcb*_0x22e7f2+_0x584453*_0x264996,_0x390a91[0x61*-0x2e+-0xfad*0x1+0x2124]=_0x2243a8*_0x3d588d+_0x545597*_0x22e7f2+_0x4e73c8*_0x264996,_0x390a91[-0x5d6+0xbfe+-0x61e]=_0x216d68*_0x3d588d+_0x3dbbf2*_0x22e7f2+_0x4fb12b*_0x264996,_0x390a91[-0x95*0x39+-0x3f3*0x9+0x1*0x44c3]=0x71e+0x30*-0x7f+0x10b2,_0x3d588d=_0x492599[0x178c*-0x1+-0x509*0x2+0x21aa],_0x22e7f2=_0x492599[-0x1a93*0x1+-0x3*-0x57+0x199b],_0x264996=_0x492599[0x8*-0x15e+0x1d32*0x1+-0x1234],_0x390a91[0xd00*-0x3+0x1*0x1363+0x13a9]=_0x111d50*_0x3d588d+_0x42ffcb*_0x22e7f2+_0x584453*_0x264996+_0x299fc6,_0x390a91[-0x1*0x824+-0xd*0x56+0xc8f]=_0x2243a8*_0x3d588d+_0x545597*_0x22e7f2+_0x4e73c8*_0x264996+_0xac8f41,_0x390a91[0x4aa*0x4+0x1251+-0x2d7*0xd]=_0x216d68*_0x3d588d+_0x3dbbf2*_0x22e7f2+_0x4fb12b*_0x264996+_0x443175,_0x390a91[0x1656*-0x1+0x1a0f+-0x86*0x7]=0x9f3+0x4*0x85f+-0x2b6e,this;}['mul'](_0x4f4414){return this['mul2'](this,_0x4f4414);}['transformP'+'oint'](_0x3ebbdb,_0x3131e5=new D()){const _0x594a8b=this['data'],{x:_0x4cd36a,y:_0x41cb3f,z:_0x2cba0c}=_0x3ebbdb;return _0x3131e5['x']=_0x4cd36a*_0x594a8b[0x269e+0x14d*0x5+-0x2d1f*0x1]+_0x41cb3f*_0x594a8b[-0xf*0xbf+-0xfd9+0x1*0x1b0e]+_0x2cba0c*_0x594a8b[0x3e*0x45+0x19b9+-0x2a67]+_0x594a8b[-0x2294+0xa0*0x1+0x220*0x10],_0x3131e5['y']=_0x4cd36a*_0x594a8b[-0xe9*0x29+0x9d9*0x3+0x7c7*0x1]+_0x41cb3f*_0x594a8b[-0xc31+-0x9ef+0x1*0x1625]+_0x2cba0c*_0x594a8b[-0x2150+0xb03+0x1656]+_0x594a8b[0x8e6+0xbf9+-0xa69*0x2],_0x3131e5['z']=_0x4cd36a*_0x594a8b[-0x2697+0x579+-0x6a0*-0x5]+_0x41cb3f*_0x594a8b[-0x1b3*0x13+0x1bad+-0x251*-0x2]+_0x2cba0c*_0x594a8b[0x234e+0xfd+0x2441*-0x1]+_0x594a8b[-0x28*-0x67+0x1823+-0x282d],_0x3131e5;}['transformV'+'ector'](_0x228c06,_0x2cf515=new D()){const _0x79bde1=this['data'],{x:_0x36ae0b,y:_0x14a942,z:_0x649d07}=_0x228c06;return _0x2cf515['x']=_0x36ae0b*_0x79bde1[-0xa74*0x1+0x12d2+-0x2ca*0x3]+_0x14a942*_0x79bde1[0x7*-0x427+0x463*0x5+0x726]+_0x649d07*_0x79bde1[-0x1905+0x2d*-0x33+0x2204],_0x2cf515['y']=_0x36ae0b*_0x79bde1[-0x264d+0x1*-0x23b0+-0xc55*-0x6]+_0x14a942*_0x79bde1[-0x1d0a+0x1660+0x6af]+_0x649d07*_0x79bde1[-0x24a8+-0x9a*-0x2+0x237d],_0x2cf515['z']=_0x36ae0b*_0x79bde1[0x465+0x1065+0x85*-0x28]+_0x14a942*_0x79bde1[-0x1efc+0x1*-0x485+0x2387]+_0x649d07*_0x79bde1[-0x1*-0xe76+-0x52e+-0x93e],_0x2cf515;}['transformV'+'ec4'](_0x176aad,_0x1e41a1=new re()){const _0xf6a881=this['data'],{x:_0x46ff19,y:_0x305d51,z:_0x1e0444,w:_0x2e7f55}=_0x176aad;return _0x1e41a1['x']=_0x46ff19*_0xf6a881[-0x84*-0x2b+-0x139f+-0x28d]+_0x305d51*_0xf6a881[0x4e*-0x6c+0x2614*0x1+-0x528]+_0x1e0444*_0xf6a881[-0x140a+-0x24ea+0x38fc]+_0x2e7f55*_0xf6a881[0x404*0x8+-0x465*0x5+-0xc7*0xd],_0x1e41a1['y']=_0x46ff19*_0xf6a881[0xa97+-0x1862+0xdcc]+_0x305d51*_0xf6a881[-0x2405+0x12b2+-0x8*-0x22b]+_0x1e0444*_0xf6a881[-0x134+0x16f0+-0x15b3]+_0x2e7f55*_0xf6a881[-0xd3*-0x1+-0x1*-0x236f+-0x2435],_0x1e41a1['z']=_0x46ff19*_0xf6a881[-0x55*0xa+-0xe*-0x199+-0x130a]+_0x305d51*_0xf6a881[0x26*-0x52+0x1*-0x4b1+0x10e3]+_0x1e0444*_0xf6a881[0x2eb+0xa9d+-0xd7e]+_0x2e7f55*_0xf6a881[0x5*-0x1d+0x17f+-0xe*0x10],_0x1e41a1['w']=_0x46ff19*_0xf6a881[0x1f*-0x3+0xad*0x7+-0x45b]+_0x305d51*_0xf6a881[0x1ee*0x5+0x2192+-0x2b31]+_0x1e0444*_0xf6a881[-0x1529*-0x1+0x87e*0x1+-0x1d9c]+_0x2e7f55*_0xf6a881[0x202c+-0x4c*-0x3+-0x2101],_0x1e41a1;}['setLookAt'](_0x4245d6,_0x1b4585,_0x3d6ba2){ei['sub2'](_0x4245d6,_0x1b4585)['normalize'](),Js['copy'](_0x3d6ba2)['normalize'](),Os['cross'](Js,ei)['normalize'](),Js['cross'](ei,Os);const _0x59402f=this['data'];return _0x59402f[0x1*-0xced+0x1573+-0x2*0x443]=Os['x'],_0x59402f[0x872+0xba7+-0x1418]=Os['y'],_0x59402f[0x2596+0x1639+-0x3bcd]=Os['z'],_0x59402f[0x332*-0x6+-0x1*-0x13f+0x11f0]=0x17d7+-0x1*-0x33f+0x2*-0xd8b,_0x59402f[-0x3cd+-0x1414*-0x1+-0x1043]=Js['x'],_0x59402f[-0x19*0x135+0x99e+0x1494]=Js['y'],_0x59402f[0xd*-0x61+-0x205*0x1+0x6f8]=Js['z'],_0x59402f[-0x120b*0x2+-0x236f+0x478c]=0x25b9+0x645+0x6*-0x755,_0x59402f[-0x1*-0x1bc9+-0x1d8c+0x1cb]=ei['x'],_0x59402f[-0xb52+-0x2467*-0x1+-0x1*0x190c]=ei['y'],_0x59402f[0x264d+0x1e47+0x3e*-0x11b]=ei['z'],_0x59402f[-0x3*0xc19+0x20e1+0x375*0x1]=0x7*0x1f+0x17f2+-0x18cb,_0x59402f[0x12b8*-0x1+0x1639*0x1+-0x375]=_0x4245d6['x'],_0x59402f[0x233c+-0x60a*0x1+0x9*-0x33d]=_0x4245d6['y'],_0x59402f[0x1a39+-0x15*0x185+-0xa*-0x93]=_0x4245d6['z'],_0x59402f[0x39e*0x1+-0x245*0x1+-0xf*0x16]=0x1cba*0x1+0x2*-0x192+-0x1995,this;}['setFrustum'](_0x25cb90,_0x22cc43,_0x37030a,_0x398146,_0xcba1d8,_0x4cddd8){const _0x58a7bb=(-0xe27+0x1*0x447+0x9e2)*_0xcba1d8,_0x5c284e=_0x22cc43-_0x25cb90,_0x22c2ad=_0x398146-_0x37030a,_0x35eac3=_0x4cddd8-_0xcba1d8,_0x5e3a36=this['data'];return _0x5e3a36[0x17*-0x47+-0x3*0xb8d+0x4*0xa42]=_0x58a7bb/_0x5c284e,_0x5e3a36[-0x5*0x379+0x1*-0x15e5+0x2743]=-0x1abf+-0x2b*0x5f+0x2ab4,_0x5e3a36[0x1*0xaab+0x3*-0x233+-0x10*0x41]=-0x1*-0xc26+0xba1*0x2+-0x46d*0x8,_0x5e3a36[-0x16a0+0x25*0xf9+-0xd5a*0x1]=0x210b+0xd99+-0x4*0xba9,_0x5e3a36[0x7b+0x841+-0x8b8]=-0x86*0x21+0x659+0xaed,_0x5e3a36[-0x9b8+-0xa8+0xa65]=_0x58a7bb/_0x22c2ad,_0x5e3a36[0x1768+0x31a*-0x3+-0xe14]=-0x5cd+-0x1615+-0x53*-0x56,_0x5e3a36[0x259e+0x10*0x182+-0x7*0x8d1]=-0x1070+-0x1*0x469+0x14d9,_0x5e3a36[0x3c9+0x118c+-0x154d]=(_0x22cc43+_0x25cb90)/_0x5c284e,_0x5e3a36[-0x208+0x5*0x799+0xb*-0x344]=(_0x398146+_0x37030a)/_0x22c2ad,_0x5e3a36[-0x1106+0x1e04+0x1*-0xcf4]=(-_0x4cddd8-_0xcba1d8)/_0x35eac3,_0x5e3a36[-0x2b4*0xd+-0xeff+0x322e]=-(-0x6c1+-0x89f+-0xf61*-0x1),_0x5e3a36[0x1766+-0x2335+0xbdb]=-0xe9b+-0x1*-0x2133+-0x1298,_0x5e3a36[-0x2300+0x1fe0+-0x32d*-0x1]=0x58e*0x5+-0x1*0x8b+-0x1b3b,_0x5e3a36[0xb13+-0xc98+0x193]=-_0x58a7bb*_0x4cddd8/_0x35eac3,_0x5e3a36[-0x61a+-0x143e+0x1*0x1a67]=0xd9c+-0xd91*0x1+-0xb,this;}['setPerspec'+'tive'](_0x119b4a,_0x593fbd,_0x4e5dfe,_0x1aa9ff,_0x54ebee){return Qr['_getPerspe'+'ctiveHalfS'+'ize'](to,_0x119b4a,_0x593fbd,_0x4e5dfe,_0x54ebee),this['setFrustum'](-to['x'],to['x'],-to['y'],to['y'],_0x4e5dfe,_0x1aa9ff);}['setOrtho'](_0x1e8c14,_0x2d72f8,_0x5dda94,_0x5433e2,_0x441106,_0x397d19){const _0x292a27=this['data'];return _0x292a27[-0x1aac+-0xbc9+0x2675]=(-0x1*-0x25f3+0x1346*0x1+0x3937*-0x1)/(_0x2d72f8-_0x1e8c14),_0x292a27[-0x2608+0x3*-0x33d+0x2fc0]=-0x12da+0x7*-0x157+-0x3*-0x969,_0x292a27[0x21*0x71+-0x3*0x192+0x9d9*-0x1]=0x1*-0xe9e+-0x62f*0x3+0x212b,_0x292a27[-0x1e65+0x2*-0x1382+0x2*0x22b6]=-0x148e+-0x1976+0x2e04,_0x292a27[-0x179a+0x75d+-0x1*-0x1041]=0x155+-0x3e4*0x1+0x28f,_0x292a27[-0x8f*0x15+0x6*-0x9d+0xf6e*0x1]=(-0x495*-0x4+0x21d7*0x1+-0x3429)/(_0x5433e2-_0x5dda94),_0x292a27[-0x9d0+0x1*-0xfb0+0x1986]=-0x1a26+0x1e2e+-0x408,_0x292a27[0xaaf+0x117d+-0x5a1*0x5]=-0x424+-0x6*0x494+-0xfce*-0x2,_0x292a27[-0x67*0x61+-0x5*-0x639+-0xe2*-0x9]=-0x25ba+-0x1*0x2395+0x494f,_0x292a27[-0x8*-0x7d+0x1a7a+-0x1e59]=0x1c0f+-0x1591*-0x1+-0x31a0,_0x292a27[-0x611*-0x6+0x17ba+-0x3c16]=-(-0x217b+0x1ad6+0xd*0x83)/(_0x397d19-_0x441106),_0x292a27[0x334+0x15b1*-0x1+0x1288]=0x1457+0x1*0xe1e+-0x2275*0x1,_0x292a27[0x19d9+0x1221+0x2bee*-0x1]=-(_0x2d72f8+_0x1e8c14)/(_0x2d72f8-_0x1e8c14),_0x292a27[-0x14b*0x1b+0x12e*-0x1d+-0x1*-0x452c]=-(_0x5433e2+_0x5dda94)/(_0x5433e2-_0x5dda94),_0x292a27[-0x6d0+-0x1428+0x1b06]=-(_0x397d19+_0x441106)/(_0x397d19-_0x441106),_0x292a27[-0x1c7c*-0x1+-0x12b3+-0x5*0x1f2]=0x1d*-0x7a+0x3e3*0x5+-0x59c,this;}['setFromAxi'+'sAngle'](_0x45bd53,_0x576311){_0x576311*=Y['DEG_TO_RAD'];const {x:_0x37c9f6,y:_0x5605ad,z:_0x48d28c}=_0x45bd53,_0x1e5499=Math['cos'](_0x576311),_0x35f133=Math['sin'](_0x576311),_0x447836=-0x1b*0x1a+0xe17+0x1e4*-0x6-_0x1e5499,_0xe9c880=_0x447836*_0x37c9f6,_0x27a869=_0x447836*_0x5605ad,_0x527110=this['data'];return _0x527110[-0x1b1d+-0x509*-0x1+0x1614]=_0xe9c880*_0x37c9f6+_0x1e5499,_0x527110[0x1f52+-0x9*0x2bd+-0x6ac]=_0xe9c880*_0x5605ad+_0x35f133*_0x48d28c,_0x527110[-0x6cd*-0x1+-0x1381*0x2+0xabd*0x3]=_0xe9c880*_0x48d28c-_0x35f133*_0x5605ad,_0x527110[-0x122b+0x2386+-0x1158]=0x1575+-0x209*-0x11+-0x15e*0x29,_0x527110[-0x1*-0x26d5+0x52*-0x76+0x3*-0x57]=_0xe9c880*_0x5605ad-_0x35f133*_0x48d28c,_0x527110[-0xf*-0x11+0x6b*0x1+0x1*-0x165]=_0x27a869*_0x5605ad+_0x1e5499,_0x527110[-0x2f*-0x6b+0x855+-0x1bf4]=_0x27a869*_0x48d28c+_0x35f133*_0x37c9f6,_0x527110[0x5*-0x737+-0x7a5*0x3+-0x86f*-0x7]=0x1671+-0x1*-0x1f45+-0x35b6,_0x527110[-0x23b0+-0x24*0x48+-0x3d2*-0xc]=_0xe9c880*_0x48d28c+_0x35f133*_0x5605ad,_0x527110[-0x4a5+-0xbf8+-0x853*-0x2]=_0x27a869*_0x48d28c-_0x37c9f6*_0x35f133,_0x527110[0x1a26*-0x1+-0x175*0x1+0x1ba5]=_0x447836*_0x48d28c*_0x48d28c+_0x1e5499,_0x527110[-0x1cb1+0x8f9*-0x4+0x40a0]=-0x4*0x3fb+-0x115f+0xb19*0x3,_0x527110[-0x16d*-0xd+-0x1*0xe69+0x74*-0x9]=0x1a5+-0x187a*-0x1+-0x1a1f,_0x527110[-0x1828+0x1c7f+-0x7a*0x9]=0x201e+0x1996+-0x6*0x99e,_0x527110[0x1*-0xf94+-0xe66+-0x3e*-0x7c]=-0x2329+-0x1463+-0xed*-0x3c,_0x527110[-0x332*-0x3+-0x1*-0x1d39+-0x26c0]=-0x5*-0x86+0x2375+-0x2612,this;}['setTransla'+'te'](_0x2c3728,_0x190602,_0xce0621){const _0x27ab84=this['data'];return _0x27ab84[-0x184d+-0x187e+0x30cb*0x1]=0x25ab*-0x1+0x2*0x1271+-0x2*-0x65,_0x27ab84[0x5e*0x1d+-0xeb4+0x1*0x40f]=0x1*0x1442+0x984+-0x1dc6,_0x27ab84[0x16dc+0x450+0xb7*-0x26]=0xd*-0xd2+0xb83+0x7*-0x1f,_0x27ab84[0x2*-0xcf8+0x161b+-0x52*-0xc]=0x1db*0x1+0x21d*0x4+-0xa4f,_0x27ab84[-0x425*0x7+0x71*-0x9+0x2100]=0xc32+0xd9c+-0x19ce,_0x27ab84[0xcea+-0x89*0x3b+0x12ae]=-0x6d2+-0x1*-0x37c+0x5f*0x9,_0x27ab84[0x673*-0x1+0x650+-0x1*-0x29]=0x2011*0x1+0xc6a*-0x3+0x52d,_0x27ab84[0xc3e+0x12bc+0x3*-0xa51]=0x1434+0x1690+-0x284*0x11,_0x27ab84[-0x112d+0x37*0x27+0x5*0x1c4]=-0xaf8+0x89*-0x20+0x706*0x4,_0x27ab84[-0xa08+-0x1*-0x1e5b+-0x144a]=0xa30+0x2de*0x3+-0x5*0x3c2,_0x27ab84[-0x1333*0x1+0x78a*0x2+0x429]=-0x25*0x10d+-0x1ae2+0x41c4,_0x27ab84[0xb5+-0xdb0+0xd06]=0x16d7+0x6b3+0x1d8a*-0x1,_0x27ab84[-0xd02+0x22cb+-0x9f*0x23]=_0x2c3728,_0x27ab84[-0x1*-0x15f8+0xe1*0x25+-0x3670]=_0x190602,_0x27ab84[-0xc76+-0x2f2*0xa+0x29f8]=_0xce0621,_0x27ab84[0x917+-0x15*-0x7f+-0x1373]=-0xb64*0x2+0x1b6e+0x29*-0x1d,this;}['setScale'](_0x3b032a,_0x2a3f4c,_0x5b9d08){const _0x571649=this['data'];return _0x571649[-0x1c17+-0x40c+0x2023]=_0x3b032a,_0x571649[0x1*0x21cc+-0x1*0xbda+-0x15f1]=-0x2098+-0x24a9+-0x4541*-0x1,_0x571649[-0x2574+-0x16a0+-0x3c16*-0x1]=0x11*0x131+-0x83*0x25+-0x152*0x1,_0x571649[0x1*-0xb1+-0x73d*-0x4+0x710*-0x4]=-0x4b4+-0x20ba+-0xc7a*-0x3,_0x571649[0xc30+0x3dc+-0x1008]=0x13b7+0x2*0x1271+0x1*-0x3899,_0x571649[0xc27*0x1+0x17ca+-0x23ec]=_0x2a3f4c,_0x571649[0x1*-0x845+-0x703+0xf4e]=0x29*0x3c+-0x12e*-0xd+-0x18f2,_0x571649[-0xc17*0x3+-0x8c2+0x2d0e]=0x2fe+-0x2c*-0xb8+-0x229e,_0x571649[-0x21cb+0x2*-0xd73+0x3cb9]=-0x2f5*-0x5+0x22c*-0x5+-0x3ed,_0x571649[0x2*-0xc17+0x1*0xc4f+0x18*0x7f]=0xa71+-0x1*-0x134b+-0x1dbc,_0x571649[0x9d8+0x1*-0x25d9+0x1c0b]=_0x5b9d08,_0x571649[0x3fa+-0x123+-0x2cc]=-0x2193+-0x1139*-0x2+-0xdf,_0x571649[-0x3e5+0x193b+-0x154a]=0x333+-0x203b+0x1d08*0x1,_0x571649[-0x905+-0x1abd+-0x67*-0x59]=0x14db+0x45f+-0x193a,_0x571649[-0x5*-0x203+-0xbb4+-0x1b3*-0x1]=0x3*-0xb47+-0x25e4+0x47b9,_0x571649[0x4*-0x39+-0x442+0x535]=-0x976+0x1d76+-0x13ff,this;}['setViewpor'+'t'](_0x47dff9,_0x4a9bd1,_0x536976,_0x4f86b0){const _0x3308fc=this['data'];return _0x3308fc[-0x5*0x1f9+-0x129e*0x2+-0x3*-0xfb3]=_0x536976*(0x9f0+-0x1*0x1957+0xf67+0.5),_0x3308fc[-0x274*-0x7+0x1*0x24ad+-0x35d8]=0x216e+0x243e+-0x45ac,_0x3308fc[-0x29*0xa3+0x32a+0x16f3]=0x1*0x22c2+-0x26cd+0x40b,_0x3308fc[0xe83*0x1+-0x1*0x1a3+-0xcdd]=0x1319*0x1+0x26af+0x8*-0x739,_0x3308fc[-0x13*-0xb3+-0x1*0x24bf+-0xa*-0x259]=0x2*0x187+-0x39*0x70+-0x1*-0x15e2,_0x3308fc[0x1*0x1929+0x9*0x62+-0x2*0xe4b]=_0x4f86b0*(0x59*-0x4+0x16e*0x12+0xc2c*-0x2+0.5),_0x3308fc[-0x8b*0x3e+-0x1ef5+0x40a5]=-0x1*0x1ecb+-0x155f*0x1+0x342a,_0x3308fc[-0x21d5*0x1+0x11f9+0xfe3]=-0x1*-0x2132+0x13a4+-0x1a6b*0x2,_0x3308fc[0x1093+-0x1*0xa91+-0xa*0x99]=0xeba*-0x1+-0x1efb+0x2db5*0x1,_0x3308fc[-0x32f*-0x7+0x1ef5+-0x3535]=0x42d*-0x8+-0x1*-0x16a+-0x2d*-0xb6,_0x3308fc[0x3a*0x92+-0x2662+0x558]=-0x1368*0x1+0x4*-0x57e+0x2960+0.5,_0x3308fc[0x3*-0xc91+-0x1*-0xbb1+0x1a0d]=0x3*-0x692+0x24b2+-0x10fc,_0x3308fc[-0x1f3e+-0x1*-0x1c4d+0x2fd]=_0x47dff9+_0x536976*(-0x1541+-0x5*0x129+0x1b0e+0.5),_0x3308fc[-0x10e5+-0x7*-0x4cf+-0x10b7]=_0x4a9bd1+_0x4f86b0*(-0x145d+0x1690+-0x233+0.5),_0x3308fc[0x9*0x107+0x82e+-0x115f]=0xf13+-0x116*-0x16+-0x26f7+0.5,_0x3308fc[-0x4*0x1cf+-0x218*-0x1+0x79*0xb]=0x3ff*0x2+-0x1*0xdeb+0x5ee,this;}['setReflect'+'ion'](_0x53daab,_0x2f3230){const _0x4aff0e=_0x53daab['x'],_0x2417f7=_0x53daab['y'],_0x2d387a=_0x53daab['z'],_0x42bf41=this['data'];return _0x42bf41[-0x3*0x825+0x26eb+-0xe7c]=-0x9a7*0x1+-0x2172+-0x12*-0x265-(0x9*0x18b+0x1bf0+-0x29d1)*_0x4aff0e*_0x4aff0e,_0x42bf41[0xa*-0x2f4+0x21ba+0x1d*-0x25]=-(-0x2*-0x2cf+-0x19f2+0x26*0x89)*_0x4aff0e*_0x2417f7,_0x42bf41[0x1993+-0x6c1*-0x4+0x783*-0x7]=-(-0xa2f*0x1+0xdde+-0x3ad)*_0x4aff0e*_0x2d387a,_0x42bf41[0x1030+0xdd8*0x1+-0x1e05]=0x2020+-0x38f*0x1+-0x47*0x67,_0x42bf41[-0xe0b*0x1+-0x24e9+0x32f8]=-(0x54*0x24+0x329*0x1+0x4fd*-0x3)*_0x4aff0e*_0x2417f7,_0x42bf41[0x1770+0x77*0x5+-0x19be]=-0xf10+-0x1*0x137d+0x228e-(0x21ea*0x1+-0x11c5*-0x2+-0x4572)*_0x2417f7*_0x2417f7,_0x42bf41[0x1*0x26fb+-0x897+-0x12b*0x1a]=-(0x5f3*-0x2+-0x28e*-0x8+-0x888)*_0x2417f7*_0x2d387a,_0x42bf41[0x143+0x1*0x1e6b+-0x1fa7]=0x1d2e+0x2479+0x1*-0x41a7,_0x42bf41[0x16af+-0x4c*-0x25+-0x21a3]=-(-0x453+-0xf39+0x1*0x138e)*_0x4aff0e*_0x2d387a,_0x42bf41[0xcd*0xa+0x7cf+-0xfc8]=-(-0x23ba+-0x74+0x1*0x2430)*_0x2417f7*_0x2d387a,_0x42bf41[-0x21c+-0x1*-0x9bf+0x799*-0x1]=-0x5e6+0x1*0x1938+0x2b*-0x73-(-0x718+-0x67f+0xd99)*_0x2d387a*_0x2d387a,_0x42bf41[-0x2a2+-0x1d89+-0x101b*-0x2]=-0x12af+-0x1*-0x4d6+0x2c5*0x5,_0x42bf41[0xe7+-0x1b*-0x6f+-0xc90]=-(-0x119*0x1+0x2b*-0xab+-0x1dd4*-0x1)*_0x4aff0e*_0x2f3230,_0x42bf41[0x11d5+-0x204e+0x1*0xe86]=-(0x2b9*0x8+-0x224f*0x1+0xc89)*_0x2417f7*_0x2f3230,_0x42bf41[0x35b+0x2*0xd2e+-0x1da9]=-(-0xa31*0x2+0x1*0x175f+-0x2fb)*_0x2d387a*_0x2f3230,_0x42bf41[-0x21c7+0x779*0x1+0x18d*0x11]=0xfe*-0x3+0x1*-0x130d+0x1608,this;}['invert'](_0x5b2d55=this){const _0x3f20c8=_0x5b2d55['data'],_0x7c3b1=_0x3f20c8[-0x5bd+0x1*0x190+0x42d],_0x47a46d=_0x3f20c8[0x8ea*-0x2+-0xed0+0x20a5],_0x79d6b7=_0x3f20c8[-0xa05+0x1dbe*0x1+0x7*-0x2d1],_0x2d230c=_0x3f20c8[0x25e3+-0x1d79+0x3*-0x2cd],_0x11b0db=_0x3f20c8[0x12f2+-0x24d9*0x1+-0xb*-0x1a1],_0x7b826f=_0x3f20c8[-0xaa8+-0x1f57+0x2a04],_0x4a362a=_0x3f20c8[-0x97b*0x3+-0x15b2*0x1+0x1*0x3229],_0x279b53=_0x3f20c8[0x741*-0x1+0x35*-0xa3+-0x1b*-0x185],_0x4bc83b=_0x3f20c8[-0x1e3f+0x32f+-0xcc*-0x22],_0x18c5d6=_0x3f20c8[0x1798+-0x12da*0x1+-0x4b5],_0x289b39=_0x3f20c8[0x3e7*-0x9+0x19*0xd3+0x51*0x2e],_0x2d5fd5=_0x3f20c8[-0x11*-0x7f+-0x1dc7+-0xdb*-0x19],_0x4e3e5d=_0x3f20c8[-0x1*-0x88d+-0x202a+0x17a9],_0x49c918=_0x3f20c8[-0xe55+-0xc25*0x1+-0x1*-0x1a87],_0x2222d2=_0x3f20c8[0x16*-0x17f+-0x20*0x71+-0x112*-0x2c],_0x17f2b3=_0x3f20c8[-0x2325+-0x86*-0x20+0x1274*0x1],_0x33ea82=_0x7c3b1*_0x7b826f-_0x47a46d*_0x11b0db,_0x32f3c4=_0x7c3b1*_0x4a362a-_0x79d6b7*_0x11b0db,_0x223b3b=_0x7c3b1*_0x279b53-_0x2d230c*_0x11b0db,_0x19bb70=_0x47a46d*_0x4a362a-_0x79d6b7*_0x7b826f,_0x38945d=_0x47a46d*_0x279b53-_0x2d230c*_0x7b826f,_0x46e084=_0x79d6b7*_0x279b53-_0x2d230c*_0x4a362a,_0x14c69a=_0x4bc83b*_0x49c918-_0x18c5d6*_0x4e3e5d,_0x4ae39c=_0x4bc83b*_0x2222d2-_0x289b39*_0x4e3e5d,_0x788fb3=_0x4bc83b*_0x17f2b3-_0x2d5fd5*_0x4e3e5d,_0x51456a=_0x18c5d6*_0x2222d2-_0x289b39*_0x49c918,_0x597a40=_0x18c5d6*_0x17f2b3-_0x2d5fd5*_0x49c918,_0x2dfa33=_0x289b39*_0x17f2b3-_0x2d5fd5*_0x2222d2,_0x32b40f=_0x33ea82*_0x2dfa33-_0x32f3c4*_0x597a40+_0x223b3b*_0x51456a+_0x19bb70*_0x788fb3-_0x38945d*_0x4ae39c+_0x46e084*_0x14c69a;if(_0x32b40f===-0x1ab8+-0x2*-0xded+-0x122)this['setIdentit'+'y']();else{const _0x3c9c93=(-0x10f5+-0x31f*-0xc+-0x147e)/_0x32b40f,_0x7c2fdf=this['data'];_0x7c2fdf[0x2*-0xe5d+0x1c39+0x81]=(_0x7b826f*_0x2dfa33-_0x4a362a*_0x597a40+_0x279b53*_0x51456a)*_0x3c9c93,_0x7c2fdf[-0x88f+0xd8b+-0x4fb]=(-_0x47a46d*_0x2dfa33+_0x79d6b7*_0x597a40-_0x2d230c*_0x51456a)*_0x3c9c93,_0x7c2fdf[-0x12e1+-0x20f*-0x11+-0x4*0x407]=(_0x49c918*_0x46e084-_0x2222d2*_0x38945d+_0x17f2b3*_0x19bb70)*_0x3c9c93,_0x7c2fdf[-0x2381+0x823*0x2+0x3*0x66a]=(-_0x18c5d6*_0x46e084+_0x289b39*_0x38945d-_0x2d5fd5*_0x19bb70)*_0x3c9c93,_0x7c2fdf[-0x1c42+-0x1bea+0x3830]=(-_0x11b0db*_0x2dfa33+_0x4a362a*_0x788fb3-_0x279b53*_0x4ae39c)*_0x3c9c93,_0x7c2fdf[0x1*0x1dda+-0x26d6+0x1*0x901]=(_0x7c3b1*_0x2dfa33-_0x79d6b7*_0x788fb3+_0x2d230c*_0x4ae39c)*_0x3c9c93,_0x7c2fdf[-0xafe+0x4*0x5dd+-0xc70*0x1]=(-_0x4e3e5d*_0x46e084+_0x2222d2*_0x223b3b-_0x17f2b3*_0x32f3c4)*_0x3c9c93,_0x7c2fdf[-0xe9+0x1841*-0x1+0x1931]=(_0x4bc83b*_0x46e084-_0x289b39*_0x223b3b+_0x2d5fd5*_0x32f3c4)*_0x3c9c93,_0x7c2fdf[-0x3*-0x6c7+-0x7*0xd3+-0x3a2*0x4]=(_0x11b0db*_0x597a40-_0x7b826f*_0x788fb3+_0x279b53*_0x14c69a)*_0x3c9c93,_0x7c2fdf[-0x1d*0x32+0x197*0x4+-0x1*0xa9]=(-_0x7c3b1*_0x597a40+_0x47a46d*_0x788fb3-_0x2d230c*_0x14c69a)*_0x3c9c93,_0x7c2fdf[0x1cc9+-0x10d*0x1a+0x1*-0x16d]=(_0x4e3e5d*_0x38945d-_0x49c918*_0x223b3b+_0x17f2b3*_0x33ea82)*_0x3c9c93,_0x7c2fdf[-0x1682+0x1c37*-0x1+0x32c4]=(-_0x4bc83b*_0x38945d+_0x18c5d6*_0x223b3b-_0x2d5fd5*_0x33ea82)*_0x3c9c93,_0x7c2fdf[0x21de+0x7*-0x223+0x1*-0x12dd]=(-_0x11b0db*_0x51456a+_0x7b826f*_0x4ae39c-_0x4a362a*_0x14c69a)*_0x3c9c93,_0x7c2fdf[-0xd88+0x18b*-0x19+-0x685*-0x8]=(_0x7c3b1*_0x51456a-_0x47a46d*_0x4ae39c+_0x79d6b7*_0x14c69a)*_0x3c9c93,_0x7c2fdf[-0x80a+-0xcac+0xa62*0x2]=(-_0x4e3e5d*_0x19bb70+_0x49c918*_0x32f3c4-_0x2222d2*_0x33ea82)*_0x3c9c93,_0x7c2fdf[0xc21+-0x4*-0x159+0x1bf*-0xa]=(_0x4bc83b*_0x19bb70-_0x18c5d6*_0x32f3c4+_0x289b39*_0x33ea82)*_0x3c9c93;}return this;}['set'](_0x22c87e){const _0x30ab2b=this['data'];return _0x30ab2b[-0x1d52+-0x151e+0x3270]=_0x22c87e[-0x662+0xd0e+-0x6ac],_0x30ab2b[-0x66d+-0x216e+0x27dc]=_0x22c87e[0x1893+-0x13d9+0x4b9*-0x1],_0x30ab2b[0x1c55+-0x1*-0x19b9+-0x360c]=_0x22c87e[0x2b*-0x25+0x35c+-0x2dd*-0x1],_0x30ab2b[-0x26b*-0x9+-0xa9+-0x1517]=_0x22c87e[0x224*0x9+-0x13b6+0x75],_0x30ab2b[0x99f*-0x2+-0x2*0x96d+0x261c]=_0x22c87e[0x1*-0x4+0x1a3*0x2+0x5*-0xa6],_0x30ab2b[-0x2*0x1264+-0x2357+0x4824]=_0x22c87e[0x3d*-0x1d+-0xe3*0x21+0x2431],_0x30ab2b[0x194f+0x1*-0xb89+0x4*-0x370]=_0x22c87e[-0x430*-0x1+-0x2f*0x3+-0x39d],_0x30ab2b[0xae1*0x1+-0x2438+0x195e]=_0x22c87e[0x1*0x1645+-0x1e4+-0x145a],_0x30ab2b[0x29*-0xb3+0x219b+0x13a*-0x4]=_0x22c87e[-0x18b*0xf+0x2*0x10d2+-0x13*0x8d],_0x30ab2b[-0x1a4+-0xc7f*0x1+0xe2c*0x1]=_0x22c87e[0x2686+0x6*0x5e2+-0x49c9],_0x30ab2b[0x3*0x3be+-0x3d5+-0x75b*0x1]=_0x22c87e[0x19b*0x1+0xc5*0x2+-0x31b],_0x30ab2b[-0x1f9+-0x17*0x151+0x49d*0x7]=_0x22c87e[-0x2*0xe13+0x1*-0x1b69+0x379a],_0x30ab2b[-0xde8+0x1ccd+-0xed9]=_0x22c87e[0x26fd+-0x668+-0x2089],_0x30ab2b[-0xbee+0x1*-0x16ae+0x22a9]=_0x22c87e[0x419*0x1+-0x6*0x239+0x2*0x4a5],_0x30ab2b[0x29*0xe5+0x13*0xba+-0x326d]=_0x22c87e[-0x28d*-0xb+0x3d*0xa3+-0x1648*0x3],_0x30ab2b[-0x1ad9+-0x249d+0x3f85]=_0x22c87e[-0x5ae+0x18d*-0x7+0x1098],this;}['setIdentit'+'y'](){const _0x59d6e2=this['data'];return _0x59d6e2[0xb2*0x1+-0x5a2+0x4f0*0x1]=-0x6*0x305+0x25c2+-0x1c9*0xb,_0x59d6e2[0x1*0x1b67+-0x240e+0x8a8]=-0xe4+-0x1*-0xf5f+0xb*-0x151,_0x59d6e2[-0x18a3+0x85+-0x8*-0x304]=0xbe1*-0x2+0x357+0x146b,_0x59d6e2[-0xa8e*0x2+0x1cfe+0x41*-0x1f]=-0x238e+-0x2*-0x40+0x230e,_0x59d6e2[-0x1*0xc9+-0x2301+0x23ce]=-0x10ab+-0x1a*-0x2f+-0x91*-0x15,_0x59d6e2[0x14*0x60+-0xbec*0x1+0x471]=-0xb4+0x8c1+0x2*-0x406,_0x59d6e2[0x223d+0x1*-0xe27+-0x1410]=0x9ed*0x1+0x1*-0x1d66+0x1379,_0x59d6e2[-0x10de*0x1+-0x1f04+-0x995*-0x5]=0x18e1*0x1+0x22c3+0xee9*-0x4,_0x59d6e2[0x581+0x47d*0x6+-0x2067]=-0x1ba+-0x79d+0x957,_0x59d6e2[-0x1deb+0x19de+0x1*0x416]=-0xc18+-0x1*0x1607+-0x6d3*-0x5,_0x59d6e2[-0xda1+-0x1*0x61+0xe0c]=0x13b4+-0x2371*0x1+-0x1a*-0x9b,_0x59d6e2[0x1443+-0x2482+-0x3*-0x56e]=0x1660+-0x2*-0x124+-0x18a8,_0x59d6e2[0x1*-0xffe+0x3e*-0x22+-0x1*-0x1846]=-0x13*0x1b4+0xbdb+0x1481,_0x59d6e2[0x47*0x49+-0x7*0x3c5+0x631]=-0xada+-0x201e+0x2af8,_0x59d6e2[0x189d+-0x1ced+0x2b*0x1a]=0x1dcb*-0x1+-0xc5*-0x1+-0x2e7*-0xa,_0x59d6e2[-0x757+-0x311*0x7+-0x9*-0x335]=-0x2b*-0xe2+-0xc70*0x1+-0x1985,this;}['setTRS'](_0x3020e3,_0x5918d5,_0x4020e4){const _0x55435d=_0x5918d5['x'],_0x179238=_0x5918d5['y'],_0x2baffd=_0x5918d5['z'],_0x34f417=_0x5918d5['w'],_0x4940c0=_0x4020e4['x'],_0x41fff0=_0x4020e4['y'],_0x1f23bd=_0x4020e4['z'],_0x29bab9=_0x55435d+_0x55435d,_0x3f6b81=_0x179238+_0x179238,_0x4dab33=_0x2baffd+_0x2baffd,_0x5a7fb4=_0x55435d*_0x29bab9,_0x5ed42f=_0x55435d*_0x3f6b81,_0x245aed=_0x55435d*_0x4dab33,_0x15c0c8=_0x179238*_0x3f6b81,_0x532f19=_0x179238*_0x4dab33,_0x4123eb=_0x2baffd*_0x4dab33,_0x1e63d9=_0x34f417*_0x29bab9,_0x14f788=_0x34f417*_0x3f6b81,_0x4b42ac=_0x34f417*_0x4dab33,_0xb24d47=this['data'];return _0xb24d47[0x166e+0x5*0x20d+-0x20af]=(-0x233*0x1+-0x1*-0x1fb4+-0x1d80-(_0x15c0c8+_0x4123eb))*_0x4940c0,_0xb24d47[-0x2f6*-0x6+-0x98*0xd+-0xa0b]=(_0x5ed42f+_0x4b42ac)*_0x4940c0,_0xb24d47[0x639+0x1*-0x25c3+0x1f8c]=(_0x245aed-_0x14f788)*_0x4940c0,_0xb24d47[-0x20b7+-0x11df+0x3299]=-0x3*-0xb9c+-0x2e*-0xbb+-0x13*0x39a,_0xb24d47[-0x6b*0x4a+-0xd9e+-0xb8*-0x3e]=(_0x5ed42f-_0x4b42ac)*_0x41fff0,_0xb24d47[-0x1f49+-0x78f+0x26dd]=(0x1*-0x9db+0x1a11+-0x1035*0x1-(_0x5a7fb4+_0x4123eb))*_0x41fff0,_0xb24d47[-0xc*0x332+0x33*-0xa+0x5c4*0x7]=(_0x532f19+_0x1e63d9)*_0x41fff0,_0xb24d47[0x1fb5+-0x1ab8+-0x4f6]=-0x1ec*-0x12+-0x80+0x110c*-0x2,_0xb24d47[-0x377*-0x1+-0x1950*-0x1+-0x1cbf]=(_0x245aed+_0x14f788)*_0x1f23bd,_0xb24d47[-0x1666+0x1f8e+0x5*-0x1d3]=(_0x532f19-_0x1e63d9)*_0x1f23bd,_0xb24d47[0x142a+0x2514+0x1c9a*-0x2]=(0x11bb+-0x7dd+-0x5*0x1f9-(_0x5a7fb4+_0x15c0c8))*_0x1f23bd,_0xb24d47[0x13b0+-0x293+-0x1112]=0x1753+-0x20b2+-0x95f*-0x1,_0xb24d47[-0x3db*-0x7+0x80f*-0x1+-0x12e2*0x1]=_0x3020e3['x'],_0xb24d47[0x1177+0x5c7+-0x1731]=_0x3020e3['y'],_0xb24d47[0xc19*0x1+-0x53*-0x37+-0x1de0]=_0x3020e3['z'],_0xb24d47[0x8b*-0x6+-0x1d4*-0xe+-0x1647]=-0x3*0x39e+-0x79d+0x1278,this;}['transpose'](_0x99174e=this){const _0x1cc3af=_0x99174e['data'],_0x337dd9=this['data'];if(_0x1cc3af===_0x337dd9){let _0x50ca83;_0x50ca83=_0x1cc3af[-0xb7e+0x3*-0x683+0x1f08],_0x337dd9[0xc12+0x1756+-0x2367]=_0x1cc3af[-0x25a2+0x1f4a+-0x4a*-0x16],_0x337dd9[0x82*0x8+-0x4*0x5e9+-0xd1*-0x18]=_0x50ca83,_0x50ca83=_0x1cc3af[-0x2487+-0x21bd+0x4646],_0x337dd9[-0x8b*-0x1+0x6f7+-0x780]=_0x1cc3af[0x5f3+-0xe*0x17f+0xf07*0x1],_0x337dd9[-0x2415+-0x1*-0x17f3+-0x12*-0xad]=_0x50ca83,_0x50ca83=_0x1cc3af[0xc15+0x3*0x89+-0xdad],_0x337dd9[-0xf2d+-0x4b7+0x13e7]=_0x1cc3af[0x225c+-0x859+-0x121*0x17],_0x337dd9[-0x5*0x24b+0x67e+0x505]=_0x50ca83,_0x50ca83=_0x1cc3af[0x1*-0x940+-0x2017+-0x295d*-0x1],_0x337dd9[0xc*0x295+0x1d1d+0x49f*-0xd]=_0x1cc3af[-0x12f6+0x6*0x5fb+-0x10e3*0x1],_0x337dd9[0x1*-0x1064+-0x1*-0x820+-0x55*-0x19]=_0x50ca83,_0x50ca83=_0x1cc3af[0x412+0xfe*-0xf+-0xad7*-0x1],_0x337dd9[-0x1587+-0x913+0x1ea1]=_0x1cc3af[-0x1022*-0x2+0x4a2*-0x3+-0x1*0x1251],_0x337dd9[0x1*0x167e+-0x23e5*-0x1+-0x3a56]=_0x50ca83,_0x50ca83=_0x1cc3af[-0x9f5*-0x1+0x25c4+-0x2fae],_0x337dd9[-0x1801+0x26e5+-0xed9*0x1]=_0x1cc3af[0x53a+0x1*0x7ad+-0xcd9],_0x337dd9[0x15*0x18e+0x1*0x14f0+-0x3588]=_0x50ca83;}else _0x337dd9[0x1*-0x23ff+0x1595+0xe6a]=_0x1cc3af[-0x26c1+0x1710+0xfb1],_0x337dd9[0x10ed+0xdf+-0x1*0x11cb]=_0x1cc3af[-0x42*-0x97+0x55*-0x55+-0xab1],_0x337dd9[-0x9db+0x53*0x65+0x1*-0x16e2]=_0x1cc3af[-0x17*-0x179+-0x1*0xed+-0x20ea],_0x337dd9[0x2e*-0x1a+-0x5+0x4b4]=_0x1cc3af[0x17c6+-0xc28*-0x1+0x6*-0x5fb],_0x337dd9[0x3*0xa5e+0x14*-0xe5+-0x6*0x233]=_0x1cc3af[-0x301*0x8+0x1*-0x2502+0x3d0b],_0x337dd9[0x1*-0xb8f+0x927+0x26d]=_0x1cc3af[0x1*-0xbe8+-0x91d*-0x1+0x2d0],_0x337dd9[-0x1edb+0x1c6*-0x3+0x2433]=_0x1cc3af[-0x13*0x101+0x2380+-0x1064],_0x337dd9[-0x1*-0x1d53+-0x95d+-0x13ef*0x1]=_0x1cc3af[0x1af3+-0xbce+-0xf18],_0x337dd9[0x137*0x14+0x1203+-0x4f*0x89]=_0x1cc3af[-0x1e4f+0x19a0+0x4b1],_0x337dd9[0x24c2+0x1073*-0x2+0xb*-0x59]=_0x1cc3af[0xf4c+0x332*-0x1+-0x1*0xc14],_0x337dd9[0x204e+0x671*-0x1+0xb*-0x259]=_0x1cc3af[0x1*0x977+-0x1*-0xaab+-0x1418],_0x337dd9[0x7c2*-0x3+-0xd*-0xa6+-0x67*-0x25]=_0x1cc3af[0x2451+0x16d2+-0x3b15],_0x337dd9[-0x1497+0x1b8e+0x17*-0x4d]=_0x1cc3af[-0x125*-0x13+-0x10a8*0x1+-0x514],_0x337dd9[0x1*0x1e7+0xd6a+-0xf44]=_0x1cc3af[-0x9b4+-0x26a1+0x305c],_0x337dd9[-0x1283+0x841*0x1+0xa50]=_0x1cc3af[0x17ab+0xca6+-0x2446],_0x337dd9[0x4a7*-0x5+0x25*-0x106+0x3d30]=_0x1cc3af[-0x1b6c+-0x1e34+0x39af];return this;}['getTransla'+'tion'](_0xe84b78=new D()){return _0xe84b78['set'](this['data'][0xbf3+-0x2*0x79f+0x357],this['data'][0x220e+0x1bcc+-0x4c1*0xd],this['data'][0x31e+-0xf09+0xbf9]);}['getX'](_0x13a0fe=new D()){return _0x13a0fe['set'](this['data'][0xc1b+0x3*-0xa5e+0x12ff],this['data'][-0x14c2*-0x1+-0xe21*-0x2+-0x1*0x3103],this['data'][-0x2630+-0x1*0x1c6d+0x429f]);}['getY'](_0x458fd7=new D()){return _0x458fd7['set'](this['data'][0x7f0+0x1545+0x8d*-0x35],this['data'][0x4*0x2a3+-0xa32*-0x1+-0x14b9],this['data'][0x1*0x1ab+0xb3b+-0xce0]);}['getZ'](_0x3ebd04=new D()){return _0x3ebd04['set'](this['data'][-0x7*-0x191+0x24e4+0x173*-0x21],this['data'][-0x1*-0x1475+-0x1*0x11e7+-0xf*0x2b],this['data'][0x19c7+-0xc1d*0x1+-0xda0*0x1]);}['getScale'](_0x2b2583=new D()){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),_0x2b2583['set'](Os['length'](),Js['length'](),ei['length']()),_0x2b2583;}get['scaleSign'](){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),Os['cross'](Os,Js),Os['dot'](ei)<0x63*-0x40+-0x1*0x434+0x1cf4?-(-0x205*0xa+-0xa9e+0x1ed1):0x1*-0x232d+0x3a9*-0x1+0x26d7;}['setFromEul'+'erAngles'](_0x380f1a,_0x9cd03c,_0x278869){_0x380f1a*=Y['DEG_TO_RAD'],_0x9cd03c*=Y['DEG_TO_RAD'],_0x278869*=Y['DEG_TO_RAD'];const _0x33b9cf=Math['sin'](-_0x380f1a),_0x5961f1=Math['cos'](-_0x380f1a),_0x4eccd6=Math['sin'](-_0x9cd03c),_0xfe89ad=Math['cos'](-_0x9cd03c),_0x43b8fd=Math['sin'](-_0x278869),_0x473612=Math['cos'](-_0x278869),_0x5b3134=this['data'];return _0x5b3134[-0x1a7a+-0xd03+-0x1*-0x277d]=_0xfe89ad*_0x473612,_0x5b3134[0x1cd0+-0x1cb6+-0x19]=-_0xfe89ad*_0x43b8fd,_0x5b3134[-0x1*-0x1e1+-0x177+-0x68]=_0x4eccd6,_0x5b3134[-0x1141+0x1548+-0x404]=-0x2*-0xe8f+-0x2b4*-0x9+-0x3572,_0x5b3134[0x1*-0xf55+-0x1b7+-0x4*-0x444]=_0x5961f1*_0x43b8fd+_0x473612*_0x33b9cf*_0x4eccd6,_0x5b3134[-0x1fef+-0x3fc+-0x47e*-0x8]=_0x5961f1*_0x473612-_0x33b9cf*_0x4eccd6*_0x43b8fd,_0x5b3134[-0x7e*0x23+0x1d3*0x3+0xbc7]=-_0xfe89ad*_0x33b9cf,_0x5b3134[-0x1d2f*0x1+0x1*0x2203+0x1*-0x4cd]=0x8*0x6e+-0x2482+0x2112,_0x5b3134[-0x1e9*0x13+0x1f0a+0x21*0x29]=_0x33b9cf*_0x43b8fd-_0x5961f1*_0x473612*_0x4eccd6,_0x5b3134[0xd4*0x2e+0x24ba*0x1+-0x4ac9]=_0x473612*_0x33b9cf+_0x5961f1*_0x4eccd6*_0x43b8fd,_0x5b3134[0x3e*-0x4a+-0x1464+0x265a]=_0x5961f1*_0xfe89ad,_0x5b3134[-0x1b9d+-0x1e08+0x47*0xd0]=-0x4*-0x67f+0x29*0x54+-0x2770,_0x5b3134[-0x15ed+-0xe*0x65+0x1b7f]=-0x4a4+0xe*0x31+0x1f6,_0x5b3134[0x1820+-0x19ee+0x1*0x1db]=-0x4e1*-0x4+0x1793+-0x1*0x2b17,_0x5b3134[0x2*-0x23e+-0x4*-0x23e+-0x46e]=-0x135c+-0x208b+-0x81*-0x67,_0x5b3134[-0x1c59+0xf6e+0xcfa]=-0x17bf+-0x1f5d*0x1+0x371d,this;}['getEulerAn'+'gles'](_0x1970ab=new D()){this['getScale'](Hl);const _0x27c0bc=Hl['x'],_0x323b80=Hl['y'],_0x1add32=Hl['z'];if(_0x27c0bc===-0x4ea+-0x5d8+0xac2||_0x323b80===0x1723*-0x1+-0x1*0x2185+0x715*0x8||_0x1add32===0x1e25+0x1*-0x1d71+-0xb4)return _0x1970ab['set'](0x24c+0x8*0x304+-0x164*0x13,-0x30f*-0xa+0x26e6+-0x457c,-0x45d*-0x1+0x34d+0x6d*-0x12);const _0x386bc7=this['data'],_0x46c34f=Math['asin'](-_0x386bc7[0x1365*0x2+-0x264d*0x1+0x3*-0x29]/_0x27c0bc),_0x486374=Math['PI']*(0x1*0x2653+0x2*0xb+-0x2669+0.5);let _0x1fcb40,_0x207137;return _0x46c34f<_0x486374?_0x46c34f>-_0x486374?(_0x1fcb40=Math['atan2'](_0x386bc7[0x143d+0x7*0x1a3+-0x1fac]/_0x323b80,_0x386bc7[-0x37*-0x9+-0x587+0x1e*0x1f]/_0x1add32),_0x207137=Math['atan2'](_0x386bc7[-0x1054+0xe*-0x1bc+-0x119*-0x25]/_0x27c0bc,_0x386bc7[-0x1*0xa3d+-0x565*-0x2+-0x2f*0x3]/_0x27c0bc)):(_0x207137=-0x7*-0x232+0xc30+-0x1b8e,_0x1fcb40=-Math['atan2'](_0x386bc7[-0x1*0x4a8+-0x1e30+0x22dc]/_0x323b80,_0x386bc7[-0x10b3+-0xa0*-0x3+0xed8]/_0x323b80)):(_0x207137=-0x1435+0x261a*0x1+-0x11e5,_0x1fcb40=Math['atan2'](_0x386bc7[-0xd7*-0x5+-0x1d6a+0x869*0x3]/_0x323b80,_0x386bc7[0x2246+0x4*-0x73d+-0x54d]/_0x323b80)),_0x1970ab['set'](_0x1fcb40,_0x46c34f,_0x207137)['mulScalar'](Y['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};h(Qr,'IDENTITY',Object['freeze'](new Qr())),h(Qr,'ZERO',Object['freeze'](new Qr()['set']([-0x1*0x1297+0x2132+-0xe9b,0x2463+0x25b3+0x6*-0xc59,-0xf4+0x8*-0x98+0x5b4,-0x316+-0x2c8+-0x2*-0x2ef,-0x3aa*0x5+0x2f*0xb4+0x41*-0x3a,0xb3*-0x31+-0x134*-0x1d+-0x17*0x7,0x6d*0x2f+0x1833+-0x2c36,0x263b+0xc6*-0x31+0x11*-0x5,0x20ca+-0x20e3+0x19,0x30c+-0x4*-0x3e4+-0x129c,0x1235+0x1*-0x2267+0x6*0x2b3,-0x491*-0x2+0x126c+-0xdc7*0x2,-0x1*0x6ab+-0x676+0xd21*0x1,0x2*-0x8c1+0x1*0x55d+0xc25,-0xd*-0x71+-0x1*0xa5b+0xc5*0x6,-0x28c*0x8+0x2285+0x47*-0x33])));let te=Qr;const Sn=class Sn{constructor(_0x328d07=0x1c04+0x4*-0x705+0x10,_0x480eb9=-0x801+-0x11de+0x19df,_0x8e6eb9=0x1222+0x3*0x4a3+-0x200b,_0x2313fd=0x1fd8+-0x26*-0x13+0x22a9*-0x1){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0x328d07['length']===0x18d0+0x1c6*0x2+-0x1*0x1c58?(this['x']=_0x328d07[0xb*-0x7+-0x2*0xb92+-0x161*-0x11],this['y']=_0x328d07[0xb7+0x1*0xb9e+-0x4*0x315],this['z']=_0x328d07[-0x126*0x17+0x1*-0xf8b+0x29f7],this['w']=_0x328d07[0x6*0x3be+0x1528+-0x2b99*0x1]):(this['x']=_0x328d07,this['y']=_0x480eb9,this['z']=_0x8e6eb9,this['w']=_0x2313fd);}['clone'](){const _0x4f70dc=this['constructo'+'r'];return new _0x4f70dc(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x4c4cce=this){return this['x']=_0x4c4cce['x']*-(0x4*0x176+-0x15e4+0x100d),this['y']=_0x4c4cce['y']*-(0x2*-0xce5+-0x1ae8+0x34b3),this['z']=_0x4c4cce['z']*-(-0xa*-0x1fd+-0x1*0x45b+-0x1*0xf86),this['w']=_0x4c4cce['w'],this;}['copy'](_0x1c5ed9){return this['x']=_0x1c5ed9['x'],this['y']=_0x1c5ed9['y'],this['z']=_0x1c5ed9['z'],this['w']=_0x1c5ed9['w'],this;}['dot'](_0x2db3b9){return this['x']*_0x2db3b9['x']+this['y']*_0x2db3b9['y']+this['z']*_0x2db3b9['z']+this['w']*_0x2db3b9['w'];}['equals'](_0x13099d){return this['x']===_0x13099d['x']&&this['y']===_0x13099d['y']&&this['z']===_0x13099d['z']&&this['w']===_0x13099d['w'];}['equalsAppr'+'ox'](_0x5b8d1a,_0x37232c=0x1*-0xaef+-0x1608+0x20f7+0.000001){return Math['abs'](this['x']-_0x5b8d1a['x'])<_0x37232c&&Math['abs'](this['y']-_0x5b8d1a['y'])<_0x37232c&&Math['abs'](this['z']-_0x5b8d1a['z'])<_0x37232c&&Math['abs'](this['w']-_0x5b8d1a['w'])<_0x37232c;}['getAxisAng'+'le'](_0x24755f){let _0x9be55b=Math['acos'](this['w'])*(-0xdc3*0x1+0x16b4+-0x8ef);const _0x42a83a=Math['sin'](_0x9be55b/(-0x1fb2+-0x370*0x9+0x3ea4));return _0x42a83a!==-0x2198+-0xd6d+0x2f05?(_0x24755f['x']=this['x']/_0x42a83a,_0x24755f['y']=this['y']/_0x42a83a,_0x24755f['z']=this['z']/_0x42a83a,(_0x24755f['x']<0x1de*-0x14+-0xf16+0x346e||_0x24755f['y']<-0x21a6*0x1+0xb*-0x59+0x2579||_0x24755f['z']<-0x1074+-0xa*-0xcd+-0x2*-0x439)&&(_0x24755f['x']*=-(0x2085+0xffd+-0x3081),_0x24755f['y']*=-(-0xdc2+-0x10fe+-0x1*-0x1ec1),_0x24755f['z']*=-(0x690+-0x4a6+0x3*-0xa3),_0x9be55b*=-(0x1*0x137+-0x9*0x1a7+0xda9))):(_0x24755f['x']=0x3*-0x67f+0x1421+-0xa3,_0x24755f['y']=-0x1*0x435+-0xfe2+0x1417,_0x24755f['z']=0x2e*0xb5+-0xf67*-0x1+-0x2fed),_0x9be55b*Y['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x53d02c=new D()){let _0x546446,_0x3cbf7c,_0x59003d;const _0x1e1396=this['x'],_0x633e03=this['y'],_0x9ba4d0=this['z'],_0x2757a3=this['w'],_0x5134d5=(0x9d3+-0x5de+0x3*-0x151)*(_0x2757a3*_0x633e03-_0x1e1396*_0x9ba4d0);return _0x5134d5<=-(-0x2270+-0x7*-0x279+0x1121+0.99999)?(_0x546446=(0x187e+0x17e7*-0x1+-0x95)*Math['atan2'](_0x1e1396,_0x2757a3),_0x3cbf7c=-Math['PI']/(-0xbed*-0x1+0x1*-0x670+-0x57b*0x1),_0x59003d=0xc22*-0x1+-0x1*0x4ed+-0x110f*-0x1):_0x5134d5>=-0x1*0x13d6+-0xb47+-0xb1*-0x2d+0.99999?(_0x546446=(-0x26ea+0x5ee+0x29*0xce)*Math['atan2'](_0x1e1396,_0x2757a3),_0x3cbf7c=Math['PI']/(-0x1e97*-0x1+-0x1ac7+-0x1e7*0x2),_0x59003d=0x5ea+0x1f8a+0x63e*-0x6):(_0x546446=Math['atan2']((-0x21f2+0x1f88+0x26c)*(_0x2757a3*_0x1e1396+_0x633e03*_0x9ba4d0),-0x1*0x22db+-0x1a76+0x3d52-(0x4e6+0x2587+-0x2a6b)*(_0x1e1396*_0x1e1396+_0x633e03*_0x633e03)),_0x3cbf7c=Math['asin'](_0x5134d5),_0x59003d=Math['atan2']((-0xec1+0x539*0x7+-0x15cc)*(_0x2757a3*_0x9ba4d0+_0x1e1396*_0x633e03),-0xc62+0x1663+-0xa00-(0x101e+-0x24eb+0x7*0x2f9)*(_0x633e03*_0x633e03+_0x9ba4d0*_0x9ba4d0))),_0x53d02c['set'](_0x546446,_0x3cbf7c,_0x59003d)['mulScalar'](Y['RAD_TO_DEG']);}['invert'](_0x16c241=this){return this['conjugate'](_0x16c241)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x3535f5,_0x1a2d32,_0x730740){const _0x406553=(0xbdd+0x29d*-0x5+0x135-_0x730740)*(_0x3535f5['dot'](_0x1a2d32)<0x21fa+0xb76+-0x2d70?-(0x1*-0x2d5+-0x201+0x19d*0x3):0xa*-0x365+-0x9c0*0x4+0x2d*0x19f);return this['x']=_0x3535f5['x']*_0x406553+_0x1a2d32['x']*_0x730740,this['y']=_0x3535f5['y']*_0x406553+_0x1a2d32['y']*_0x730740,this['z']=_0x3535f5['z']*_0x406553+_0x1a2d32['z']*_0x730740,this['w']=_0x3535f5['w']*_0x406553+_0x1a2d32['w']*_0x730740,this['normalize']();}['mul'](_0x4175b4){const _0xa08d47=this['x'],_0x58ba33=this['y'],_0x4a466e=this['z'],_0x5d0cef=this['w'],_0x1006e1=_0x4175b4['x'],_0x16adae=_0x4175b4['y'],_0x7b260c=_0x4175b4['z'],_0x1a32e0=_0x4175b4['w'];return this['x']=_0x5d0cef*_0x1006e1+_0xa08d47*_0x1a32e0+_0x58ba33*_0x7b260c-_0x4a466e*_0x16adae,this['y']=_0x5d0cef*_0x16adae+_0x58ba33*_0x1a32e0+_0x4a466e*_0x1006e1-_0xa08d47*_0x7b260c,this['z']=_0x5d0cef*_0x7b260c+_0x4a466e*_0x1a32e0+_0xa08d47*_0x16adae-_0x58ba33*_0x1006e1,this['w']=_0x5d0cef*_0x1a32e0-_0xa08d47*_0x1006e1-_0x58ba33*_0x16adae-_0x4a466e*_0x7b260c,this;}['mulScalar'](_0x38d416,_0x4104c3=this){return this['x']=_0x4104c3['x']*_0x38d416,this['y']=_0x4104c3['y']*_0x38d416,this['z']=_0x4104c3['z']*_0x38d416,this['w']=_0x4104c3['w']*_0x38d416,this;}['mul2'](_0x1fd8c3,_0x3e1bd7){const _0x4e7a2a=_0x1fd8c3['x'],_0x18adcb=_0x1fd8c3['y'],_0x329950=_0x1fd8c3['z'],_0x16fdf7=_0x1fd8c3['w'],_0x4c426e=_0x3e1bd7['x'],_0x1d4257=_0x3e1bd7['y'],_0x142054=_0x3e1bd7['z'],_0x1cc073=_0x3e1bd7['w'];return this['x']=_0x16fdf7*_0x4c426e+_0x4e7a2a*_0x1cc073+_0x18adcb*_0x142054-_0x329950*_0x1d4257,this['y']=_0x16fdf7*_0x1d4257+_0x18adcb*_0x1cc073+_0x329950*_0x4c426e-_0x4e7a2a*_0x142054,this['z']=_0x16fdf7*_0x142054+_0x329950*_0x1cc073+_0x4e7a2a*_0x1d4257-_0x18adcb*_0x4c426e,this['w']=_0x16fdf7*_0x1cc073-_0x4e7a2a*_0x4c426e-_0x18adcb*_0x1d4257-_0x329950*_0x142054,this;}['normalize'](_0x44f773=this){let _0x8ebee9=_0x44f773['length']();return _0x8ebee9===0x8c2+0x9*0x6c+-0x1*0xc8e?(this['x']=this['y']=this['z']=-0x1f04+0x2dd*-0x4+0x2a78,this['w']=0x1750+-0x203b+-0x2*-0x476):(_0x8ebee9=(-0x4*-0x80c+0x27*-0xb8+-0x427*0x1)/_0x8ebee9,this['x']=_0x44f773['x']*_0x8ebee9,this['y']=_0x44f773['y']*_0x8ebee9,this['z']=_0x44f773['z']*_0x8ebee9,this['w']=_0x44f773['w']*_0x8ebee9),this;}['set'](_0x58cad9,_0x3938ae,_0x24a1c7,_0x2d4fd3){return this['x']=_0x58cad9,this['y']=_0x3938ae,this['z']=_0x24a1c7,this['w']=_0x2d4fd3,this;}['setFromAxi'+'sAngle'](_0x2e9a98,_0x2424c8){_0x2424c8*=(0x38a+-0x183d*-0x1+0x1bc7*-0x1+0.5)*Y['DEG_TO_RAD'];const _0x6267b9=Math['sin'](_0x2424c8),_0x4c3b36=Math['cos'](_0x2424c8);return this['x']=_0x6267b9*_0x2e9a98['x'],this['y']=_0x6267b9*_0x2e9a98['y'],this['z']=_0x6267b9*_0x2e9a98['z'],this['w']=_0x4c3b36,this;}['setFromEul'+'erAngles'](_0x529823,_0x21ff7d,_0x3d2d28){if(_0x529823 instanceof D){const _0x128fa0=_0x529823;_0x529823=_0x128fa0['x'],_0x21ff7d=_0x128fa0['y'],_0x3d2d28=_0x128fa0['z'];}const _0x935098=(0x1780+0x24c+-0x19cc+0.5)*Y['DEG_TO_RAD'];_0x529823*=_0x935098,_0x21ff7d*=_0x935098,_0x3d2d28*=_0x935098;const _0xfbca62=Math['sin'](_0x529823),_0x591d93=Math['cos'](_0x529823),_0x3552d5=Math['sin'](_0x21ff7d),_0x4fe57c=Math['cos'](_0x21ff7d),_0x318f6c=Math['sin'](_0x3d2d28),_0x19e0ff=Math['cos'](_0x3d2d28);return this['x']=_0xfbca62*_0x4fe57c*_0x19e0ff-_0x591d93*_0x3552d5*_0x318f6c,this['y']=_0x591d93*_0x3552d5*_0x19e0ff+_0xfbca62*_0x4fe57c*_0x318f6c,this['z']=_0x591d93*_0x4fe57c*_0x318f6c-_0xfbca62*_0x3552d5*_0x19e0ff,this['w']=_0x591d93*_0x4fe57c*_0x19e0ff+_0xfbca62*_0x3552d5*_0x318f6c,this;}['setFromMat'+'4'](_0x17ca46){const _0x212aa1=_0x17ca46['data'];let _0x59a700=_0x212aa1[-0x5b5*-0x2+0x6b9*-0x5+0x1633],_0x2e266f=_0x212aa1[0x2587+0x159e+-0x3b24*0x1],_0x5928a4=_0x212aa1[-0xecf*-0x1+-0x1cd8+0xe0b],_0x59dc5c=_0x212aa1[-0x1*-0x245a+0xb2b+-0x2f81],_0x45e052=_0x212aa1[0x25d*-0x3+-0x18d+0x8a9],_0x593791=_0x212aa1[-0x1b00+-0x1e61+0x5*0xb7b],_0x190b3c=_0x212aa1[-0xd8b*0x2+0x4d*-0x4f+0x209*0x19],_0x1bb777=_0x212aa1[0x22f9+-0x79e+0xd*-0x21a],_0x33b342=_0x212aa1[-0x1*0x22df+-0x97*-0x3a+0xb3*0x1],_0xe24d6;return _0xe24d6=_0x59a700*_0x59a700+_0x2e266f*_0x2e266f+_0x5928a4*_0x5928a4,_0xe24d6===-0xa8e*-0x2+-0x1*-0xded+0x2309*-0x1?this['set'](0x13c*-0xc+0x7*0x531+-0x1587,0x437+-0xed7+0xaa0,0x9*0x26b+0x6f*-0x18+-0x3*0x3c9,-0x281*-0xd+-0xee0+-0x11ac):(_0xe24d6=(-0x2303+-0x3b+0x233f)/Math['sqrt'](_0xe24d6),_0x59a700*=_0xe24d6,_0x2e266f*=_0xe24d6,_0x5928a4*=_0xe24d6,_0xe24d6=_0x59dc5c*_0x59dc5c+_0x45e052*_0x45e052+_0x593791*_0x593791,_0xe24d6===-0x1*-0x9b+-0x1b4e+0x1*0x1ab3?this['set'](-0x1bbc+0x166*-0xe+0x2f50,0x1*-0xfc3+-0x1b21+0x2ae4,0x1521+0x6bb+-0x1bdc,0x1eab*0x1+-0x2494+-0x2*-0x2f5):(_0xe24d6=(0x8*0x67+-0x2*-0x12be+-0x1c5*0x17)/Math['sqrt'](_0xe24d6),_0x59dc5c*=_0xe24d6,_0x45e052*=_0xe24d6,_0x593791*=_0xe24d6,_0xe24d6=_0x190b3c*_0x190b3c+_0x1bb777*_0x1bb777+_0x33b342*_0x33b342,_0xe24d6===-0x2ba*0x4+0x2158+-0x1670?this['set'](0x2287+-0x1*0xb53+0x9*-0x294,-0x646+-0x33*-0x28+-0x1b2,-0x1f*-0xc1+0x1087+-0x27e6*0x1,0x2*-0x17b+0x2c1*-0x3+0x1df*0x6):(_0xe24d6=(-0xa9a+-0x8d4+0x136f*0x1)/Math['sqrt'](_0xe24d6),_0x190b3c*=_0xe24d6,_0x1bb777*=_0xe24d6,_0x33b342*=_0xe24d6,_0x33b342<0x1*-0x5c5+0x1919+-0x1354?_0x59a700>_0x45e052?this['set'](0x1*0x1273+0x53b*-0x1+-0x1*0xd37+_0x59a700-_0x45e052-_0x33b342,_0x2e266f+_0x59dc5c,_0x190b3c+_0x5928a4,_0x593791-_0x1bb777):this['set'](_0x2e266f+_0x59dc5c,0x1*-0x20ac+-0x1211+0x32be-_0x59a700+_0x45e052-_0x33b342,_0x593791+_0x1bb777,_0x190b3c-_0x5928a4):_0x59a700<-_0x45e052?this['set'](_0x190b3c+_0x5928a4,_0x593791+_0x1bb777,0x7a*0x37+-0x22*-0x115+-0x3eff*0x1-_0x59a700-_0x45e052+_0x33b342,_0x2e266f-_0x59dc5c):this['set'](_0x593791-_0x1bb777,_0x190b3c-_0x5928a4,_0x2e266f-_0x59dc5c,-0x1c1c+0x2386*0x1+-0x769+_0x59a700+_0x45e052+_0x33b342),this['mulScalar']((0x1c5a+0x20a+0x3*-0xa21)/this['length']()))));}['setFromDir'+'ections'](_0x3e0d26,_0x48ae8d){const _0x476264=-0x2cc*-0x3+0xdff+-0x1662+_0x3e0d26['dot'](_0x48ae8d);return _0x476264<Number['EPSILON']?Math['abs'](_0x3e0d26['x'])>Math['abs'](_0x3e0d26['y'])?(this['x']=-_0x3e0d26['z'],this['y']=0x4d9+-0x1*0x2624+0x214b,this['z']=_0x3e0d26['x'],this['w']=-0x1d54+-0x25b+0x1faf):(this['x']=0xfbf+-0x30*-0x40+0x1bbf*-0x1,this['y']=-_0x3e0d26['z'],this['z']=_0x3e0d26['y'],this['w']=-0x174f+-0x1477+0x2bc6):(this['x']=_0x3e0d26['y']*_0x48ae8d['z']-_0x3e0d26['z']*_0x48ae8d['y'],this['y']=_0x3e0d26['z']*_0x48ae8d['x']-_0x3e0d26['x']*_0x48ae8d['z'],this['z']=_0x3e0d26['x']*_0x48ae8d['y']-_0x3e0d26['y']*_0x48ae8d['x'],this['w']=_0x476264),this['normalize']();}['slerp'](_0x4ccdd1,_0x58d43d,_0x135394){const _0x35facf=_0x4ccdd1['x'],_0x278202=_0x4ccdd1['y'],_0x4af331=_0x4ccdd1['z'],_0x49a3bd=_0x4ccdd1['w'];let _0x808496=_0x58d43d['x'],_0x6b41bc=_0x58d43d['y'],_0x16ddf9=_0x58d43d['z'],_0x26d3f5=_0x58d43d['w'],_0x4fa3ef=_0x49a3bd*_0x26d3f5+_0x35facf*_0x808496+_0x278202*_0x6b41bc+_0x4af331*_0x16ddf9;if(_0x4fa3ef<-0x19bc+-0x6*-0x13c+0x1254&&(_0x26d3f5=-_0x26d3f5,_0x808496=-_0x808496,_0x6b41bc=-_0x6b41bc,_0x16ddf9=-_0x16ddf9,_0x4fa3ef=-_0x4fa3ef),Math['abs'](_0x4fa3ef)>=-0x2*-0x115+0x1dca+-0x1ff3)return this['w']=_0x49a3bd,this['x']=_0x35facf,this['y']=_0x278202,this['z']=_0x4af331,this;const _0x11d1da=Math['acos'](_0x4fa3ef),_0x102a3a=Math['sqrt'](0x1*-0xfa1+0x25c6+0xd*-0x1b4-_0x4fa3ef*_0x4fa3ef);if(Math['abs'](_0x102a3a)<0x328+0xa0f+0xc7*-0x11+0.001)return this['w']=_0x49a3bd*(-0x187e+0x11c3+0x6bb+0.5)+_0x26d3f5*(0x2e8*0x2+0x954+0x33*-0x4c+0.5),this['x']=_0x35facf*(-0x1*0x1588+0x8c+-0xa7e*-0x2+0.5)+_0x808496*(-0x2321+0xef4+0x142d*0x1+0.5),this['y']=_0x278202*(-0xc42*0x1+-0xed2*-0x1+-0xa4*0x4+0.5)+_0x6b41bc*(0x137e*0x1+0x1da3+0x1*-0x3121+0.5),this['z']=_0x4af331*(0xf1*-0x29+-0x253d*0x1+0x476*0x11+0.5)+_0x16ddf9*(-0x2411*-0x1+-0xb*0x2f0+-0x3c1+0.5),this;const _0x39577c=Math['sin']((0xf05+-0x1e25+0xf21-_0x135394)*_0x11d1da)/_0x102a3a,_0x44a474=Math['sin'](_0x135394*_0x11d1da)/_0x102a3a;return this['w']=_0x49a3bd*_0x39577c+_0x26d3f5*_0x44a474,this['x']=_0x35facf*_0x39577c+_0x808496*_0x44a474,this['y']=_0x278202*_0x39577c+_0x6b41bc*_0x44a474,this['z']=_0x4af331*_0x39577c+_0x16ddf9*_0x44a474,this;}['transformV'+'ector'](_0x278ebf,_0x4fc67a=new D()){const _0x1fb7e4=_0x278ebf['x'],_0x493be3=_0x278ebf['y'],_0x81942c=_0x278ebf['z'],_0x13bc21=this['x'],_0x230286=this['y'],_0x38221c=this['z'],_0x266716=this['w'],_0x257679=_0x266716*_0x1fb7e4+_0x230286*_0x81942c-_0x38221c*_0x493be3,_0x5688d5=_0x266716*_0x493be3+_0x38221c*_0x1fb7e4-_0x13bc21*_0x81942c,_0x9bcee7=_0x266716*_0x81942c+_0x13bc21*_0x493be3-_0x230286*_0x1fb7e4,_0x59a5ec=-_0x13bc21*_0x1fb7e4-_0x230286*_0x493be3-_0x38221c*_0x81942c;return _0x4fc67a['x']=_0x257679*_0x266716+_0x59a5ec*-_0x13bc21+_0x5688d5*-_0x38221c-_0x9bcee7*-_0x230286,_0x4fc67a['y']=_0x5688d5*_0x266716+_0x59a5ec*-_0x230286+_0x9bcee7*-_0x13bc21-_0x257679*-_0x38221c,_0x4fc67a['z']=_0x9bcee7*_0x266716+_0x59a5ec*-_0x38221c+_0x257679*-_0x230286-_0x5688d5*-_0x13bc21,_0x4fc67a;}['fromArray'](_0xff0b9c,_0x5e51d0=-0xac*0x35+-0x130+0xa*0x3ae){return this['x']=_0xff0b9c[_0x5e51d0]??this['x'],this['y']=_0xff0b9c[_0x5e51d0+(-0xc7*-0x1d+0x2064+-0x36ee*0x1)]??this['y'],this['z']=_0xff0b9c[_0x5e51d0+(0x168f+0x1*-0x25cd+0xf40)]??this['z'],this['w']=_0xff0b9c[_0x5e51d0+(-0x441+-0x1e*0x9a+0x1650)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x224a5d=[],_0x43f321=0x439+-0x17d4+-0x15*-0xef){return _0x224a5d[_0x43f321]=this['x'],_0x224a5d[_0x43f321+(0xcd4*-0x1+-0x277*0x4+0x16b1)]=this['y'],_0x224a5d[_0x43f321+(0x94d+0x11*0x139+-0x1e14)]=this['z'],_0x224a5d[_0x43f321+(-0x1*0x18ed+0x15a*-0xb+0x27ce)]=this['w'],_0x224a5d;}};h(Sn,'IDENTITY',Object['freeze'](new Sn(-0xe*0x38+0x207a*-0x1+0x2*0x11c5,-0x1a99+0x71d+0x74*0x2b,0x1b*-0x19+0x33c*-0xa+0x22fb,-0xa40+-0x2f7*-0x3+0x74*0x3))),h(Sn,'ZERO',Object['freeze'](new Sn(0x1711*-0x1+0x1447*0x1+-0xe*-0x33,-0x5*0x6c+0xe60*-0x1+0x107c,-0x11bf*0x1+-0x85a*0x2+-0x1*-0x2273,0x1*-0x2069+0x6b*0x49+0x12*0x1b)));let le=Sn;const Pa=new D(),Ma=new D(),Um=new D(),Bm=new D(),gx=new D();class De{constructor(_0x1edde9,_0x45d39f){h(this,'center',new D()),h(this,'halfExtent'+'s',new D(0x2*-0x50b+-0x1b6c+-0x2*-0x12c1+0.5,0x258d+0xf9*0x1a+0x3ed7*-0x1+0.5,-0x1*-0x1021+-0x1a03*-0x1+-0x2a24+0.5)),h(this,'_min',new D()),h(this,'_max',new D()),(_0x1edde9&&this['center']['copy'](_0x1edde9),_0x45d39f&&this['halfExtent'+'s']['copy'](_0x45d39f));}['add'](_0x4921ad){const _0x4a9e10=this['center'],_0x2d622f=_0x4a9e10['x'],_0x44751b=_0x4a9e10['y'],_0x16aff7=_0x4a9e10['z'],_0x31d1dd=this['halfExtent'+'s'],_0x1dc220=_0x31d1dd['x'],_0x4cc655=_0x31d1dd['y'],_0x1f0e3d=_0x31d1dd['z'];let _0x4cb126=_0x2d622f-_0x1dc220,_0x29eb23=_0x2d622f+_0x1dc220,_0x5499ba=_0x44751b-_0x4cc655,_0x1f4e9c=_0x44751b+_0x4cc655,_0x1b7631=_0x16aff7-_0x1f0e3d,_0x23669f=_0x16aff7+_0x1f0e3d;const _0x29490c=_0x4921ad['center'],_0x1b3804=_0x29490c['x'],_0x3c4736=_0x29490c['y'],_0x2e6ccf=_0x29490c['z'],_0x1220e6=_0x4921ad['halfExtent'+'s'],_0x7835bc=_0x1220e6['x'],_0x5193f5=_0x1220e6['y'],_0x5e05a1=_0x1220e6['z'],_0x436135=_0x1b3804-_0x7835bc,_0x3ddc7f=_0x1b3804+_0x7835bc,_0x39cc7c=_0x3c4736-_0x5193f5,_0x52f67e=_0x3c4736+_0x5193f5,_0x2d2934=_0x2e6ccf-_0x5e05a1,_0xf62dcf=_0x2e6ccf+_0x5e05a1;_0x436135<_0x4cb126&&(_0x4cb126=_0x436135),_0x3ddc7f>_0x29eb23&&(_0x29eb23=_0x3ddc7f),_0x39cc7c<_0x5499ba&&(_0x5499ba=_0x39cc7c),_0x52f67e>_0x1f4e9c&&(_0x1f4e9c=_0x52f67e),_0x2d2934<_0x1b7631&&(_0x1b7631=_0x2d2934),_0xf62dcf>_0x23669f&&(_0x23669f=_0xf62dcf),_0x4a9e10['x']=(_0x4cb126+_0x29eb23)*(-0x1a*0xef+0x1be3*0x1+-0xb9*0x5+0.5),_0x4a9e10['y']=(_0x5499ba+_0x1f4e9c)*(-0x27c*0x1+0x2*-0xfa+0x470+0.5),_0x4a9e10['z']=(_0x1b7631+_0x23669f)*(0x1849*0x1+-0x1*-0x9fc+-0x2245+0.5),_0x31d1dd['x']=(_0x29eb23-_0x4cb126)*(-0x997*0x1+0x1855+-0x33*0x4a+0.5),_0x31d1dd['y']=(_0x1f4e9c-_0x5499ba)*(-0xd19+-0x2*-0x211+-0x11*-0x87+0.5),_0x31d1dd['z']=(_0x23669f-_0x1b7631)*(0x1*-0x704+0x2d*0xbd+-0x1a35+0.5);}['copy'](_0x53c376){this['center']['copy'](_0x53c376['center']),this['halfExtent'+'s']['copy'](_0x53c376['halfExtent'+'s']);}['clone'](){return new De(this['center'],this['halfExtent'+'s']);}['intersects'](_0x580227){const _0x522110=this['getMax'](),_0xb65225=this['getMin'](),_0x4b1e27=_0x580227['getMax'](),_0x56dbd3=_0x580227['getMin']();return _0xb65225['x']<=_0x4b1e27['x']&&_0x522110['x']>=_0x56dbd3['x']&&_0xb65225['y']<=_0x4b1e27['y']&&_0x522110['y']>=_0x56dbd3['y']&&_0xb65225['z']<=_0x4b1e27['z']&&_0x522110['z']>=_0x56dbd3['z'];}['_intersect'+'sRay'](_0x5e1129,_0x345570){const _0x3dc2b8=Pa['copy'](this['getMin']())['sub'](_0x5e1129['origin']),_0x5824b9=Ma['copy'](this['getMax']())['sub'](_0x5e1129['origin']),_0x4754ff=_0x5e1129['direction'];_0x4754ff['x']===0xf91+-0x2648+-0x48b*-0x5?(_0x3dc2b8['x']=_0x3dc2b8['x']<-0x2*0x147+-0x1170+0x13fe?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x5824b9['x']=_0x5824b9['x']<0x11f6+-0xe04+-0x3f2?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x3dc2b8['x']/=_0x4754ff['x'],_0x5824b9['x']/=_0x4754ff['x']),_0x4754ff['y']===-0x6*-0x5a8+-0x225e+-0xa*-0xb?(_0x3dc2b8['y']=_0x3dc2b8['y']<-0x2683+0x1*0xce9+0xccd*0x2?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x5824b9['y']=_0x5824b9['y']<0xbdb+-0x1*0x23bd+0xbf1*0x2?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x3dc2b8['y']/=_0x4754ff['y'],_0x5824b9['y']/=_0x4754ff['y']),_0x4754ff['z']===-0x396+-0x2*0xa12+-0xbdd*-0x2?(_0x3dc2b8['z']=_0x3dc2b8['z']<0x185c+0x69*-0x2f+-0x1*0x515?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x5824b9['z']=_0x5824b9['z']<0x2139+0xe01+-0x2f3a?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x3dc2b8['z']/=_0x4754ff['z'],_0x5824b9['z']/=_0x4754ff['z']);const _0x35e7f7=Um['set'](Math['min'](_0x3dc2b8['x'],_0x5824b9['x']),Math['min'](_0x3dc2b8['y'],_0x5824b9['y']),Math['min'](_0x3dc2b8['z'],_0x5824b9['z'])),_0x2800a4=Bm['set'](Math['max'](_0x3dc2b8['x'],_0x5824b9['x']),Math['max'](_0x3dc2b8['y'],_0x5824b9['y']),Math['max'](_0x3dc2b8['z'],_0x5824b9['z'])),_0x9e0659=Math['min'](Math['min'](_0x2800a4['x'],_0x2800a4['y']),_0x2800a4['z']),_0x24fda7=Math['max'](Math['max'](_0x35e7f7['x'],_0x35e7f7['y']),_0x35e7f7['z']),_0x1d9065=_0x9e0659>=_0x24fda7&&_0x24fda7>=-0x1075+-0xf7*-0x13+-0x1e0;return _0x1d9065&&_0x345570['copy'](_0x5e1129['direction'])['mulScalar'](_0x24fda7)['add'](_0x5e1129['origin']),_0x1d9065;}['_fastInter'+'sectsRay'](_0x169f50){const _0x3a75f9=Pa,_0x301acf=Ma,_0x2d13e4=Um,_0x4a7765=Bm,_0xf98eac=gx,_0x37af8b=_0x169f50['direction'];return _0x3a75f9['sub2'](_0x169f50['origin'],this['center']),_0x4a7765['set'](Math['abs'](_0x3a75f9['x']),Math['abs'](_0x3a75f9['y']),Math['abs'](_0x3a75f9['z'])),_0x2d13e4['mul2'](_0x3a75f9,_0x37af8b),!(_0x4a7765['x']>this['halfExtent'+'s']['x']&&_0x2d13e4['x']>=-0xb6*-0x7+-0xfec+0x579*0x2||_0x4a7765['y']>this['halfExtent'+'s']['y']&&_0x2d13e4['y']>=-0x560+0x2384+-0xa0c*0x3||_0x4a7765['z']>this['halfExtent'+'s']['z']&&_0x2d13e4['z']>=-0x1856*-0x1+-0x11*-0x1f9+-0x39df||(_0xf98eac['set'](Math['abs'](_0x37af8b['x']),Math['abs'](_0x37af8b['y']),Math['abs'](_0x37af8b['z'])),_0x301acf['cross'](_0x37af8b,_0x3a75f9),_0x301acf['set'](Math['abs'](_0x301acf['x']),Math['abs'](_0x301acf['y']),Math['abs'](_0x301acf['z'])),_0x301acf['x']>this['halfExtent'+'s']['y']*_0xf98eac['z']+this['halfExtent'+'s']['z']*_0xf98eac['y'])||_0x301acf['y']>this['halfExtent'+'s']['x']*_0xf98eac['z']+this['halfExtent'+'s']['z']*_0xf98eac['x']||_0x301acf['z']>this['halfExtent'+'s']['x']*_0xf98eac['y']+this['halfExtent'+'s']['y']*_0xf98eac['x']);}['intersects'+'Ray'](_0x18fea7,_0x2f8dc7){return _0x2f8dc7?this['_intersect'+'sRay'](_0x18fea7,_0x2f8dc7):this['_fastInter'+'sectsRay'](_0x18fea7);}['setMinMax'](_0x4f1261,_0x29b00a){this['center']['add2'](_0x29b00a,_0x4f1261)['mulScalar'](0x1*0x259a+0x17c5*0x1+-0x3d5f*0x1+0.5),this['halfExtent'+'s']['sub2'](_0x29b00a,_0x4f1261)['mulScalar'](0x1*0x973+-0x1*0x24cb+-0x19*-0x118+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x15b8bd){const _0x3dce7a=this['getMin'](),_0x202e81=this['getMax']();return!(_0x15b8bd['x']<_0x3dce7a['x']||_0x15b8bd['x']>_0x202e81['x']||_0x15b8bd['y']<_0x3dce7a['y']||_0x15b8bd['y']>_0x202e81['y']||_0x15b8bd['z']<_0x3dce7a['z']||_0x15b8bd['z']>_0x202e81['z']);}['setFromTra'+'nsformedAa'+'bb'](_0x3d4065,_0x281e9b,_0x145438=!(0x145+0x8*-0xcd+0xe*0x5e)){const _0xc036eb=_0x3d4065['center'],_0x3a0b44=_0x3d4065['halfExtent'+'s'],_0x2ee1ad=_0x281e9b['data'];let _0x1e7540=_0x2ee1ad[-0x294+-0x6*-0x477+-0x1836],_0x466771=_0x2ee1ad[0x3*-0x5b9+0x3*0x59+0x1024],_0x32e370=_0x2ee1ad[0xe5c+0xb*0x1bb+-0x215d],_0x2a23ea=_0x2ee1ad[0x678+0x1*0x111d+-0x1794],_0x43da93=_0x2ee1ad[-0x1b59+-0xb1*-0x17+0x1*0xb77],_0x4d0c4f=_0x2ee1ad[-0x2334+-0x9f2*0x2+0x3721],_0x40015f=_0x2ee1ad[0x1ccc+0xca8+-0x5*0x84a],_0x4a4f87=_0x2ee1ad[-0x761+0xc12+0x5*-0xef],_0x56f7e4=_0x2ee1ad[-0x703+-0x637+0xd44];if(_0x145438){let _0x343c06=_0x1e7540*_0x1e7540+_0x466771*_0x466771+_0x32e370*_0x32e370;if(_0x343c06>-0x3eb*-0x6+0x3*-0x829+0xf9){const _0xb22733=(-0x1*-0x10ff+0x2126*-0x1+-0x178*-0xb)/Math['sqrt'](_0x343c06);_0x1e7540*=_0xb22733,_0x466771*=_0xb22733,_0x32e370*=_0xb22733;}if(_0x343c06=_0x2a23ea*_0x2a23ea+_0x43da93*_0x43da93+_0x4d0c4f*_0x4d0c4f,_0x343c06>0x260b*0x1+-0x3*0x30d+-0x1ce4){const _0x3b2034=(-0x1*-0x6d7+-0x218c+0x1ab6)/Math['sqrt'](_0x343c06);_0x2a23ea*=_0x3b2034,_0x43da93*=_0x3b2034,_0x4d0c4f*=_0x3b2034;}if(_0x343c06=_0x40015f*_0x40015f+_0x4a4f87*_0x4a4f87+_0x56f7e4*_0x56f7e4,_0x343c06>0x1744+-0x16be+-0x1*0x86){const _0x10f298=(0x5*0xcd+0x604+0xa04*-0x1)/Math['sqrt'](_0x343c06);_0x40015f*=_0x10f298,_0x4a4f87*=_0x10f298,_0x56f7e4*=_0x10f298;}}this['center']['set'](_0x2ee1ad[-0x1c96+-0x18b2+-0x4*-0xd55]+_0x1e7540*_0xc036eb['x']+_0x466771*_0xc036eb['y']+_0x32e370*_0xc036eb['z'],_0x2ee1ad[0x176b+0x15aa+0x2*-0x1684]+_0x2a23ea*_0xc036eb['x']+_0x43da93*_0xc036eb['y']+_0x4d0c4f*_0xc036eb['z'],_0x2ee1ad[-0x5a5+-0x1924+0x1ed7*0x1]+_0x40015f*_0xc036eb['x']+_0x4a4f87*_0xc036eb['y']+_0x56f7e4*_0xc036eb['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x1e7540)*_0x3a0b44['x']+Math['abs'](_0x466771)*_0x3a0b44['y']+Math['abs'](_0x32e370)*_0x3a0b44['z'],Math['abs'](_0x2a23ea)*_0x3a0b44['x']+Math['abs'](_0x43da93)*_0x3a0b44['y']+Math['abs'](_0x4d0c4f)*_0x3a0b44['z'],Math['abs'](_0x40015f)*_0x3a0b44['x']+Math['abs'](_0x4a4f87)*_0x3a0b44['y']+Math['abs'](_0x56f7e4)*_0x3a0b44['z']);}static['computeMin'+'Max'](_0x430075,_0x1ce7ec,_0x16a20e,_0x54e31e=_0x430075['length']/(-0x17*-0x6a+0x1*-0x615+-0x1*0x36e)){if(_0x54e31e>-0x2e*-0x3+-0x751+-0x5*-0x15b){let _0x1b98a6=_0x430075[0x1*0x16af+0x1*-0x1f3+0x14bc*-0x1],_0x1cd0b0=_0x430075[0x184*0xa+0x4c1*0x4+-0x1*0x222b],_0x4aa65a=_0x430075[-0x48+-0xa16*0x3+-0x187*-0x14],_0x1cb01b=_0x1b98a6,_0x3c0d5f=_0x1cd0b0,_0x2a27ef=_0x4aa65a;const _0x5d3ab5=_0x54e31e*(-0x1e+-0x659*-0x1+-0xc7*0x8);for(let _0x273be7=0x1*0x1ed1+-0x11f7+-0xcd7;_0x273be7<_0x5d3ab5;_0x273be7+=0xd*-0x1b3+-0x146f+0x2a89){const _0x438d9b=_0x430075[_0x273be7],_0x44d69b=_0x430075[_0x273be7+(-0x339+0x1c04*0x1+0x1*-0x18ca)],_0x1c0390=_0x430075[_0x273be7+(-0x2540+0x1898+0xcaa*0x1)];_0x438d9b<_0x1b98a6&&(_0x1b98a6=_0x438d9b),_0x44d69b<_0x1cd0b0&&(_0x1cd0b0=_0x44d69b),_0x1c0390<_0x4aa65a&&(_0x4aa65a=_0x1c0390),_0x438d9b>_0x1cb01b&&(_0x1cb01b=_0x438d9b),_0x44d69b>_0x3c0d5f&&(_0x3c0d5f=_0x44d69b),_0x1c0390>_0x2a27ef&&(_0x2a27ef=_0x1c0390);}_0x1ce7ec['set'](_0x1b98a6,_0x1cd0b0,_0x4aa65a),_0x16a20e['set'](_0x1cb01b,_0x3c0d5f,_0x2a27ef);}}['compute'](_0x3ce142,_0x8303e){De['computeMin'+'Max'](_0x3ce142,Pa,Ma,_0x8303e),this['setMinMax'](Pa,Ma);}['intersects'+'BoundingSp'+'here'](_0x554698){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x554698)<=_0x554698['radius']*_0x554698['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x388f2a){const _0x2d8901=this['getMin'](),_0x1435c8=this['getMax']();let _0x4a17ee=-0x10ea+-0xe22+-0x4*-0x7c3;const _0x25fbd4=['x','y','z'];for(let _0x309fe2=-0x16d4+0x2698+-0x4*0x3f1;_0x309fe2<0x2*-0xaf4+0x2*0xa00+0x1eb;++_0x309fe2){let _0xd9030c=-0x5*0x53+-0x11*0x1d3+-0x1051*-0x2;const _0x3f7be8=_0x388f2a['center'][_0x25fbd4[_0x309fe2]],_0x13c8c2=_0x2d8901[_0x25fbd4[_0x309fe2]],_0x4a26ce=_0x1435c8[_0x25fbd4[_0x309fe2]];let _0x5e4bc5=0x1*-0x24df+-0x363+0x2842*0x1;_0x3f7be8<_0x13c8c2&&(_0x5e4bc5=_0x13c8c2-_0x3f7be8,_0xd9030c+=_0x5e4bc5*_0x5e4bc5),_0x3f7be8>_0x4a26ce&&(_0x5e4bc5=_0x3f7be8-_0x4a26ce,_0xd9030c+=_0x5e4bc5*_0x5e4bc5),_0x4a17ee+=_0xd9030c;}return _0x4a17ee;}['_expand'](_0x10ce41,_0x1cf49a){Pa['add2'](this['getMin'](),_0x10ce41),Ma['add2'](this['getMax'](),_0x1cf49a),this['setMinMax'](Pa,Ma);}}const Wl=new D(),Sx=new D();class sp{constructor(_0x47595a=new D(),_0x4569b2=0x1*-0x794+0xdb7*0x1+0x1*-0x623+0.5){h(this,'center'),h(this,'radius'),(w['assert'](!Object['isFrozen'](_0x47595a),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x47595a,this['radius']=_0x4569b2);}['containsPo'+'int'](_0x373845){const _0x46cadd=Wl['sub2'](_0x373845,this['center'])['lengthSq'](),_0x16b281=this['radius'];return _0x46cadd<_0x16b281*_0x16b281;}['intersects'+'Ray'](_0x3e3df7,_0x5d2e34){const _0x38a87c=Wl['copy'](_0x3e3df7['origin'])['sub'](this['center']),_0x17f44e=_0x38a87c['dot'](Sx['copy'](_0x3e3df7['direction'])['normalize']()),_0x4a7286=_0x38a87c['dot'](_0x38a87c)-this['radius']*this['radius'];if(_0x4a7286>0xffb+0x1137+0x4be*-0x7&&_0x17f44e>0xcd2*0x1+-0x267a+-0x335*-0x8)return!(0x5*-0x2e3+-0x1a33*0x1+0x1*0x28a3);const _0x5be80f=_0x17f44e*_0x17f44e-_0x4a7286;if(_0x5be80f<0x402*0x2+0x1*0x4cf+0x1*-0xcd3)return!(0x2508+-0x1*0xa31+-0x1ad6);const _0x42117b=Math['abs'](-_0x17f44e-Math['sqrt'](_0x5be80f));return _0x5d2e34&&_0x5d2e34['copy'](_0x3e3df7['direction'])['mulScalar'](_0x42117b)['add'](_0x3e3df7['origin']),!(-0xb27+-0x583*0x7+0x31bc);}['intersects'+'BoundingSp'+'here'](_0x5b8f08){Wl['sub2'](_0x5b8f08['center'],this['center']);const _0x5565da=_0x5b8f08['radius']+this['radius'];return Wl['lengthSq']()<=_0x5565da*_0x5565da;}}class QS{constructor(_0x39a314=D['UP'],_0x2ea80e=0x2*-0x2da+-0x1*-0x4ac+0x108){h(this,'normal',new D()),h(this,'distance'),(this['normal']['copy'](_0x39a314),this['distance']=_0x2ea80e);}['clone'](){const _0x10846a=this['constructo'+'r'];return new _0x10846a()['copy'](this);}['copy'](_0x185d21){return this['normal']['copy'](_0x185d21['normal']),this['distance']=_0x185d21['distance'],this;}['intersects'+'Line'](_0x1d45e0,_0x4c45fe,_0x46f087){const _0x591013=this['distance'],_0x1d21d8=this['normal']['dot'](_0x1d45e0)+_0x591013,_0x2a2f7d=this['normal']['dot'](_0x4c45fe)+_0x591013,_0x59a0b3=_0x1d21d8/(_0x1d21d8-_0x2a2f7d),_0x23d44e=_0x59a0b3>=-0x227f*0x1+0x3*0x8bd+0xd4*0xa&&_0x59a0b3<=0x3b9*0x7+0x1*-0x14e5+0x1*-0x529;return _0x23d44e&&_0x46f087&&_0x46f087['lerp'](_0x1d45e0,_0x4c45fe,_0x59a0b3),_0x23d44e;}['intersects'+'Ray'](_0x53e420,_0x312873){const _0x2e9281=this['normal']['dot'](_0x53e420['direction']);if(_0x2e9281===0x3*0xab0+-0x95*0x25+-0xa87)return!(0x496*0x7+0x1*-0x8ef+-0xa*0x251);const _0x5bdc54=-(this['normal']['dot'](_0x53e420['origin'])+this['distance'])/_0x2e9281;return _0x5bdc54>=-0x241*-0xe+0xc29*0x1+-0x2bb7&&_0x312873&&_0x312873['copy'](_0x53e420['direction'])['mulScalar'](_0x5bdc54)['add'](_0x53e420['origin']),_0x5bdc54>=-0x3*-0x796+0x1e04+-0x23*0x182;}['normalize'](){const _0x24226c=(-0x31d+0x1*-0xdb+0x9*0x71)/this['normal']['length']();return this['normal']['mulScalar'](_0x24226c),this['distance']*=_0x24226c,this;}['set'](_0x38f5ea,_0x24222e,_0x449d83,_0x41ac29){return this['normal']['set'](_0x38f5ea,_0x24222e,_0x449d83),this['distance']=_0x41ac29,this;}['setFromPoi'+'ntNormal'](_0xcdcd59,_0x1362f4){return this['normal']['copy'](_0x1362f4),this['distance']=-this['normal']['dot'](_0xcdcd59),this;}}class yx{constructor(){h(this,'planes',[]);for(let _0x24d7bb=-0x1f9+0xcd8+0x17*-0x79;_0x24d7bb<-0x1bd*0xd+0x1827+0xc4*-0x2;_0x24d7bb++)this['planes'][_0x24d7bb]=new QS();}['clone'](){const _0x3dbef8=this['constructo'+'r'];return new _0x3dbef8()['copy'](this);}['copy'](_0x1d3289){for(let _0x41df41=-0x204f+-0x835*-0x1+0x181a;_0x41df41<0x2e5*-0x4+0x138d+-0x37*0x25;_0x41df41++)this['planes'][_0x41df41]['copy'](_0x1d3289['planes'][_0x41df41]);return this;}['setFromMat'+'4'](_0x2e823d){const [_0x4f2452,_0x3960a4,_0x2fa194,_0x5db7b8,_0x9060d5,_0x5d14d3,_0x27364c,_0x48d4fa,_0x4e4085,_0x3cb343,_0x45b662,_0x418dde,_0x466cb3,_0x3cfaf5,_0x50db85,_0x39fae7]=_0x2e823d['data'],_0x5e5d01=this['planes'];_0x5e5d01[-0x1c6c+-0xc42+-0x29*-0xfe]['set'](_0x5db7b8-_0x4f2452,_0x48d4fa-_0x9060d5,_0x418dde-_0x4e4085,_0x39fae7-_0x466cb3)['normalize'](),_0x5e5d01[-0x1aaa+0x21cb+-0x720]['set'](_0x5db7b8+_0x4f2452,_0x48d4fa+_0x9060d5,_0x418dde+_0x4e4085,_0x39fae7+_0x466cb3)['normalize'](),_0x5e5d01[-0x2*-0x79c+0x8*0x371+-0x1*0x2abe]['set'](_0x5db7b8+_0x3960a4,_0x48d4fa+_0x5d14d3,_0x418dde+_0x3cb343,_0x39fae7+_0x3cfaf5)['normalize'](),_0x5e5d01[-0xf3c+-0x1*0x241c+-0x335b*-0x1]['set'](_0x5db7b8-_0x3960a4,_0x48d4fa-_0x5d14d3,_0x418dde-_0x3cb343,_0x39fae7-_0x3cfaf5)['normalize'](),_0x5e5d01[0x1*0x433+-0x1c61+-0x1832*-0x1]['set'](_0x5db7b8-_0x2fa194,_0x48d4fa-_0x27364c,_0x418dde-_0x45b662,_0x39fae7-_0x50db85)['normalize'](),_0x5e5d01[-0x281*-0x2+0xd96+-0x1293]['set'](_0x5db7b8+_0x2fa194,_0x48d4fa+_0x27364c,_0x418dde+_0x45b662,_0x39fae7+_0x50db85)['normalize']();}['containsPo'+'int'](_0x463020){for(let _0x5a0e38=0x30a*0x8+-0x1cdb+0x48b;_0x5a0e38<0x47*-0x3+0x4b2*-0x3+-0x2d*-0x55;_0x5a0e38++){const {normal:_0xc67956,distance:_0x5733f5}=this['planes'][_0x5a0e38];if(_0xc67956['dot'](_0x463020)+_0x5733f5<=0x1a22+0x35*-0x17+-0x1*0x155f)return!(0x8b*-0x2+0x8ff+-0x17*0x58);}return!(0xa*0x317+-0x9ee+0x16*-0xf4);}['containsSp'+'here'](_0x1d4b5){const {center:_0x5e6931,radius:_0x12df38}=_0x1d4b5;let _0x255d61=0x2f*-0x26+-0x23ef+-0xa9*-0x41;for(let _0x24f0e4=0x6*-0x46+-0x81e+0x9c2;_0x24f0e4<-0x209+0x1*-0x10be+0x12cd*0x1;_0x24f0e4++){const {normal:_0x499cad,distance:_0x1aadae}=this['planes'][_0x24f0e4],_0x5779ac=_0x499cad['dot'](_0x5e6931)+_0x1aadae;if(_0x5779ac<=-_0x12df38)return 0x576+-0x1*0x1c24+-0x16ae*-0x1;_0x5779ac>_0x12df38&&_0x255d61++;}return _0x255d61===0x4*-0x9bf+-0x147a+0x234*0x1b?-0x15a*0x15+-0xb9b+0x27ff:0x2e5+0x1b9*-0x12+0x76*0x3d;}}class Dn{constructor(_0x9cb9f7,_0xd7e536){h(this,'origin',new D()),h(this,'direction',D['FORWARD']['clone']()),(_0x9cb9f7&&this['origin']['copy'](_0x9cb9f7),_0xd7e536&&this['direction']['copy'](_0xd7e536));}['set'](_0x2ae8cf,_0x1ac40d){return this['origin']['copy'](_0x2ae8cf),this['direction']['copy'](_0x1ac40d),this;}['copy'](_0x32f99d){return this['set'](_0x32f99d['origin'],_0x32f99d['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const yt=-0x4c8+0x268d+-0x21c5,ue=0x19*-0xcf+0x41b+-0x7d*-0x21,ip=0x1c5*-0x6+-0x1d69+0x2809,rp=0x10d1+-0x3f*-0x8a+0x15*-0x26b,Ft=-0x1*-0x647+-0x414*-0x5+-0x1aaa,vx=0x227+0x61c+-0x841,JS=-0xb39*0x1+-0xd31+0x186e,xx=0x1f9+-0x1c6c+0x1a78,jh=0xb75+-0x1b8c+0x101d,Yh=-0xe91+0x783+0x716,fs=-0x138f+0x7*0x3a5+0xfe*-0x6,Tx=-0x1*0x13f3+0x9a9+-0xa4c*-0x1,wx=0x2052+-0xaf*-0x10+0x1*-0x2b3f,Ex=-0x2660+-0x36*0x86+-0x3*-0x1638,ms=-0x545+0x6bb*-0x2+0x1*0x12bb,lh=-0x3*0xa0c+-0x6f9*0x3+-0x4c*-0xac,ey=0xc14*0x3+-0x3cc+0x1*-0x206e,bx=0xd73+0x14*0xf3+-0x206c,jo=-0x188a+0x9b*0x35+-0x78c,Yo=-0x189c+0x35*0x9d+-0x7e3,ch=-0x849+0x1df5*-0x1+0x2642,bt=-0x8d*-0x1d+-0x1e10+-0x1*-0xe17,pa=-0x1c4d+-0x26a0+0x42ee,Fo=-0xa*0x133+0x6ba*0x4+-0x1*0xee8,Ax=-0xcd*0xe+-0x19bd*0x1+0x24f6*0x1,Te=0x176c+-0x1e9d+0x731*0x1,vt=-0x1111+0xba*0x7+0xbfc,Kh=-0x11b7+0x25b1+-0x13f8,Zh=0x1*-0x4f9+0x36d+0x18f,Qh=0xdb9+0x2e*-0x79+-0x1*-0x809,ma=0x1*-0xe87+0x122b+0x1*-0x39f,Cx=0xee*-0xd+-0x1223+0x1e39,hh=0xee*-0x3+-0x25b5*0x1+0x2880,dh=0x343+-0xa99*0x2+-0x1*-0x11f1,Wf=-0x9bc*-0x1+0x42d*-0x9+0x1bdc,Px=0x1500+-0xfd5*-0x1+0x24d1*-0x1,Mx=-0x14db+0x12*0x74+0xcb8,Dx=0x43*-0x3b+-0x19f+-0x12*-0xf3,Wi=-0x8f*0x5+0x3*-0xb2d+0x2459,$f=-0x1f10+-0x5*-0x2b6+-0x1b*-0xa6,Yi=0x1*-0x1186+-0x3*0x424+0x1df3,wr=0x2529+0xdc0*-0x1+0x3*-0x7cd,ty=0x1a65+-0x1*-0x2287+-0x1*0x3cec,sy=0x58e+-0x1*-0x902+-0xe8f,ap=0x2626+0x9e1+-0x3005,Jh=0x12a*0x1e+-0x6d*-0x3+0x90c*-0x4,np=0xe0a*0x1+-0x1c5b+-0x4c7*-0x3,ed=0x23c9+-0x21d*0x11+0x29,Cr=-0x22b7+-0x5*-0x463+0xcce,Ne=-0x1ec3*-0x1+-0xa88+-0x2*0xa1a,td=0x144e+0x78+0x375*-0x6,op=0x1*-0x403+0x3*0x673+-0xf4d*0x1,vl=-0x1*-0x1d95+-0x2b8+-0x6d*0x3f,ui=-0x10*-0x20c+-0x2*0x40f+0x1*-0x1897,nt=0x1e*-0x40+-0xe4*0x2+0x954,Ye=-0x22f9+0x11*0x9d+-0x3*-0x833,Xt=-0x2d9+0xb*-0x17+-0x3e4*-0x1,Ji=0x2ad+0x30*0x27+-0x9ee,$i=0xd*-0x27b+-0x103*0xb+-0x116*-0x28,sd=0x1ce*-0x9+-0x2bc+0x130b,In=0x1*-0x188f+0x17c*0x9+0xb45,lp=0x12b+0xc24+-0xd3c,_s=-0xd1f*-0x1+-0x1*-0x24ba+-0x31c5,id=0x16c5+0x2ad*0x1+0x1*-0x195d,cp=-0x15bb*-0x1+0x6a*0x3a+-0x2da9,hp=0x1621+0x2455+-0x3a5f,xl=0xa65*-0x2+-0x8bf*-0x1+0xef*0xd,Tl=0x1*-0x1e96+-0x19de+0x388d,rd=0x1457+-0x183+-0x12ba,ad=-0x218c*-0x1+-0x1a4e+-0x105*0x7,iy=-0xef3+0xb68+-0x11*-0x37,ry=0x2*0x89c+-0x1ab2+0x997,ay=-0x6e*0x11+-0x1*0xb6f+0x12db,ny=0x1a96*0x1+0x22a+-0x1ca1,dp=-0x1*-0x932+-0xd55+0x1*0x443,oy=0x1c6+-0x20e4+0x1f3f,fp=-0x24d5+-0xa68+-0x2f5f*-0x1,up=-0x3*0xa39+0x169*-0x1a+-0x22*-0x1fc,pp=0x1*-0x162f+-0x4c6*-0x3+0x801,Ki=0x4*0xfb+-0xcb4*0x2+-0x1*-0x15a1,mp=0x23e6+-0x105a+-0x1366,ly=-0x150d+0x1de4+-0x8b0,_p=-0x1fdf*0x1+-0x2*0x10f3+-0x96b*-0x7,gp=-0x1*0x1745+-0x4a0*0x2+0x20ae,Sp=-0x5*0x42d+0x243d+-0xa*0x185,yp=0x1e9f+-0x5cc+-0x3*0x838,vp=-0x348+0x5d*0x5e+0xf59*-0x2,cy=0xd*-0x10b+0x1*0x256b+0x7e5*-0x3,xp=-0x2*0x910+0x1197+0xb7,nd=-0xcc9+-0x1*0x77f+0x1477,Tp=-0x4f4+-0x1ec4*-0x1+0x2*-0xcd0,Ue=0x1f*-0x60+-0xfa2+0x1*0x1b73,od=0x1afa+-0xb*-0x29c+-0x377c,wp=0x1*0x21ee+0x10a*0x1d+0x3fdd*-0x1,Ep=0xaef+-0x71*0x21+0x3d6,bp=0x1dc9+0xb67+0x327*-0xd,Xf=-0x1e07+-0xe*0x173+0x3287,qf=0x160c+0x1*-0x19e7+-0x2*-0x209,jf=0x16f0+-0x9ee+-0xcca,Yf=-0xcb5*-0x2+0x103+0x10*-0x1a3,Kf=-0x5d9+-0x1abf+-0x3*-0xaf2,Zf=-0xf37+0x2e7*-0xc+0x324a,hy=-0x1dde+-0x7f*0x25+0x3079,dy=0xa*-0x2e9+0x258d+-0x832,fy=0x35*0x2+0xc*0xb9+-0x8d4,uy=-0x5*0x7ab+0x6*0x611+-0x2f*-0xc,Qf=0x5a8+0x239f+-0x2903,vn=-0x2f8+-0x1*0x589+-0x2*-0x463,Nt=new Map([[ty,{'name':'A8','size':0x1,'ldr':!(-0xce5+-0x297*0xb+0x2962)}],[Ep,{'name':'R8','size':0x1,'ldr':!(-0xa*0x7f+-0x1748+0x1c3e)}],[sy,{'name':'L8','size':0x1,'ldr':!(-0x5*-0x602+0x1c42+-0x3a4c)}],[ap,{'name':'LA8','size':0x2,'ldr':!(-0x3*-0x1a3+0x2*0xb7d+-0x1be3)}],[bp,{'name':'RG8','size':0x2,'ldr':!(-0x1f*0x23+-0xcff*0x3+0xb*0x3ee)}],[Jh,{'name':'RGB565','size':0x2,'ldr':!(0x123a+0x16*-0x141+0x95c)}],[np,{'name':'RGBA5551','size':0x2,'ldr':!(-0x967+-0xe7d+-0x16*-0x116)}],[ed,{'name':'RGBA4','size':0x2,'ldr':!(-0x4*0x6cb+-0x11cd+-0x1*-0x2cf9)}],[Cr,{'name':'RGB8','size':0x4,'ldr':!(0x1c80+0x30*0x29+-0x2430)}],[Ne,{'name':'RGBA8','size':0x4,'ldr':!(-0x1ab7+-0x1169+0x2c20),'srgbFormat':_s}],[od,{'name':'R16F','size':0x2}],[wp,{'name':'RG16F','size':0x4}],[ui,{'name':'RGB16F','size':0x8}],[nt,{'name':'RGBA16F','size':0x8}],[Ye,{'name':'RGB32F','size':0x10}],[Xt,{'name':'RGBA32F','size':0x10}],[Ji,{'name':'R32F','size':0x4}],[$i,{'name':'DEPTH','size':0x4}],[vn,{'name':'DEPTH16','size':0x2}],[sd,{'name':'DEPTHSTENC'+'IL','size':0x4}],[In,{'name':'111110F','size':0x4}],[lp,{'name':'SRGB8','size':0x4,'ldr':!(0xe5*-0x1d+-0x22d6+0x3cc7),'srgb':!(0x1368+0x5*0x77b+-0x38cf)}],[_s,{'name':'SRGBA8','size':0x4,'ldr':!(0x22e1*0x1+-0x1a2f*-0x1+0xf44*-0x4),'srgb':!(0x12ab+0x5*0x459+-0x3*0xd78)}],[ny,{'name':'BGRA8','size':0x4,'ldr':!(-0x5f*-0x13+0x2*-0x1365+0x659*0x5)}],[hy,{'name':'SBGRA8','size':0x4,'ldr':!(-0x79b+-0x623+0xdbe),'srgb':!(0x3a1*0x4+0x11*0x1d3+-0x13b*0x25)}],[td,{'name':'DXT1','blockSize':0x8,'ldr':!(0x104b+0x692+-0x1*0x16dd),'srgbFormat':Xf}],[op,{'name':'DXT3','blockSize':0x10,'ldr':!(-0x4f1*-0x2+-0x1e*-0x120+-0x2*0x15d1),'srgbFormat':qf}],[vl,{'name':'DXT5','blockSize':0x10,'ldr':!(0x102c+0x982+-0x1*0x19ae),'srgbFormat':jf}],[id,{'name':'ETC1','blockSize':0x8,'ldr':!(0x7fe+-0xe8a*-0x2+-0x2512)}],[cp,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(-0x826+-0x3*-0x4e0+-0x67a),'srgbFormat':Yf}],[hp,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(0x1f24+0x11ee+-0x3112),'srgbFormat':Kf}],[xl,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(-0x226d+0x12e*-0xd+0x1*0x31c3),'blockSize':0x8}],[Tl,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(0x107e+-0x1746+0x6c8),'blockSize':0x8}],[rd,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(-0x19a9+0x212b+0x2*-0x3c1),'blockSize':0x8}],[ad,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(0x76c+0x1788+-0x1ef4),'blockSize':0x8}],[iy,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(-0x2*-0xd2d+0x1a2c+-0x3486),'srgbFormat':Zf}],[ry,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(-0x4db+-0x2010+0x24eb)}],[ay,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(0x367+-0x162c+-0x1*-0x12c5)}],[dy,{'name':'BC6H_RGBF','blockSize':0x10}],[fy,{'name':'BC6H_RGBUF','blockSize':0x10}],[uy,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(-0x1*-0xaed+0x7a*-0x29+0x89d),'srgbFormat':Qf}],[Xf,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(0x2125+0x141*0x1+-0x7*0x4ea),'srgb':!(0x1781+0xac9*0x1+-0x31e*0xb)}],[qf,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(-0x1ee4+0x6e*-0x1f+0x2*0x161b),'srgb':!(-0x455+-0x7a0+-0x1*-0xbf5)}],[jf,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(0xa07*0x1+-0x14*0x58+-0x327),'srgb':!(-0xeb*0x16+-0x1de*0xe+0xf72*0x3)}],[Yf,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(0xdd1*-0x1+0x19d4+-0xc03),'srgb':!(0x181+0xba5*0x1+-0x2*0x693)}],[Kf,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(0x1b14+-0x19*0x107+0x15*-0x11),'srgb':!(-0x3*0x6f2+0x94f*-0x2+0x2774)}],[Zf,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(0x8bc*0x1+0x1b92+-0x244e),'srgb':!(-0x1ae1+-0x260e+0x1*0x40ef)}],[Qf,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(0x2499+0x1a4b+0x5c*-0xaf),'srgb':!(0x1c6b+0x1*-0x2605+0x99a)}],[dp,{'name':'R8I','size':0x1,'isInt':!(-0x1*-0x1b25+0x3*0x11f+-0x1e82)}],[oy,{'name':'R8U','size':0x1,'isInt':!(-0x44a+0x1ede+-0x7*0x3cc)}],[fp,{'name':'R16I','size':0x2,'isInt':!(0xb7a+0x1*0x25fd+-0x1d5*0x1b)}],[up,{'name':'R16U','size':0x2,'isInt':!(0x2*-0x11e1+0x2573+-0x1b1)}],[pp,{'name':'R32I','size':0x4,'isInt':!(-0x1b6*-0xd+0x87c+-0x1eba)}],[Ki,{'name':'R32U','size':0x4,'isInt':!(0xe91+-0x1f91+0x1100)}],[mp,{'name':'RG8I','size':0x2,'isInt':!(-0x1a3*-0x3+0xac5+-0xfae)}],[ly,{'name':'RG8U','size':0x2,'isInt':!(-0x1*0x127f+-0x1af*0x2+0x15dd)}],[_p,{'name':'RG16I','size':0x4,'isInt':!(-0x8fb+0x1dd3+0x1*-0x14d8)}],[gp,{'name':'RG16U','size':0x4,'isInt':!(-0x1837+0x31*0x93+-0x4*0xfb)}],[Sp,{'name':'RG32I','size':0x8,'isInt':!(-0x675+0x25ed+-0x13*0x1a8)}],[yp,{'name':'RG32U','size':0x8,'isInt':!(-0x24df+0xa77+0x14*0x152)}],[vp,{'name':'RGBA8I','size':0x4,'isInt':!(-0x14*0x1b6+0x43*-0x53+0x37f1)}],[cy,{'name':'RGBA8U','size':0x4,'isInt':!(0x2238+0x6b*0x20+-0x2*0x17cc)}],[xp,{'name':'RGBA16I','size':0x8,'isInt':!(0x45*-0x7e+0x4*-0x2e5+0xc9*0x3a)}],[nd,{'name':'RGBA16U','size':0x8,'isInt':!(0xff1+0x1627+-0x2618)}],[Tp,{'name':'RGBA32I','size':0x10,'isInt':!(-0xcbb*0x2+0x37*0x1e+0x2*0x982)}],[Ue,{'name':'RGBA32U','size':0x10,'isInt':!(-0x33*0x7f+0x58*0x5e+0x167*-0x5)}]]),Ix=_0x4d5088=>{var _0x59ea50;return((_0x59ea50=Nt['get'](_0x4d5088))==null?void(-0x1*0x319+0x59*-0x6a+-0x7*-0x5b5):_0x59ea50['blockSize'])!==void(0x1157*-0x1+-0x66*-0xb+0xcf5);},fh=_0x13836a=>{var _0x498819;return((_0x498819=Nt['get'](_0x13836a))==null?void(0xdb9+0x247a+-0x1*0x3233):_0x498819['srgb'])===!(-0x32*-0x26+-0xb7*-0x21+-0x1f03);},dn=_0x1a8850=>{var _0x4b4ba8;return((_0x4b4ba8=Nt['get'](_0x1a8850))==null?void(0x23a6+0x1*-0x1a76+0x10*-0x93):_0x4b4ba8['isInt'])===!(-0xadb+0x537+0x2d2*0x2);},ld=_0xfcefb0=>{var _0x5be2a4;return((_0x5be2a4=Nt['get'](_0xfcefb0))==null?void(0x142*0x8+-0x384*-0x3+0x4*-0x527):_0x5be2a4['srgbFormat'])||_0xfcefb0;},Lx=_0x21684c=>{for(const [_0x4a685d,_0x888ea0]of Nt)if(_0x888ea0['srgbFormat']===_0x21684c)return _0x4a685d;return _0x21684c;},py=_0x7f79ea=>{const _0x3683f7=Nt['get'](_0x7f79ea);return!!(_0x3683f7!=null&&_0x3683f7['ldr']&&!(_0x3683f7!=null&&_0x3683f7['srgb']));},my=_0x2e18d4=>{switch(_0x2e18d4){case Ji:case Ye:case Xt:return Float32Array;case pp:case Sp:case Tp:return Int32Array;case Ki:case yp:case Ue:return Uint32Array;case fp:case _p:case xp:return Int16Array;case bp:case up:case gp:case nd:case Jh:case np:case ed:case od:case wp:case ui:case nt:return Uint16Array;case dp:case mp:case vp:return Int8Array;default:return Uint8Array;}},cd=0x13d6+-0x26cf+0x12f9,hd=-0x7c3+-0x1*0x5c5+-0x2b5*-0x5,_y=-0x7b+-0x1427+-0x4*-0x529,gy=-0x1578+-0xd9a*0x2+-0x67*-0x79,js=0x1*-0xc07+-0x9f2*0x3+0x29e1,Er=-0xf*0x243+0x250f+-0x1*0x31d,oa=-0x1*0x2397+0x5*0x4c1+0xbd8,Me='POSITION',gs='NORMAL',yi='TANGENT',gi='BLENDWEIGH'+'T',us='BLENDINDIC'+'ES',Wt='COLOR',zm='TEXCOORD',is='TEXCOORD0',ba='TEXCOORD1',wl='TEXCOORD2',El='TEXCOORD3',bl='TEXCOORD4',Al='TEXCOORD5',Cl='TEXCOORD6',Pl='TEXCOORD7',Jf='ATTR0',uh='ATTR1',Ap='ATTR2',Cp='ATTR3',Pp='ATTR4',Rx='ATTR5',Ox='ATTR6',Fx='ATTR7',Ko='ATTR8',Zo='ATTR9',Nx='ATTR10',Mp='ATTR11',Dp='ATTR12',ph='ATTR13',Ip='ATTR14',Ln='ATTR15',Sy=-0x2*-0x1297+0xa8+-0x25d5,xn=-0x1*0x1ebc+0x217d*-0x1+-0x29*-0x191,kx=-0x21f0+0x1418+0xdda,Ux=0x14c7+0x1*-0x70a+0x2*-0x6dd,Bx=0x2393+-0x1*-0x160f+-0x399d,$l=0x181b+0x1b8*0xe+-0x302b,yy=-0x1*0x4ed+0x577*0x1+0x1*-0x89,Od=0xf5c+0x2523*-0x1+0x15c9,Ds='default',Zi='rgbm',mh='rgbe',Qo='rgbp',Jo='swizzleGGG'+'R',eu=0x9*0x3f5+0x4e*0x27+0x17bf*-0x2,Pr=0x24d3+0x1544+-0x3a15*0x1,vy=-0x83f*0x4+-0xbca+-0x1*-0x2cc9,xy='2d',zx=0x26cc+0x1c47+-0x4313,Vx='none',tu='cube',Vm='equirect',Gx='octahedral',Fe='glsl',it='wgsl',dd=-0x18a2+0x4*0xe4+0x1d*0xba,la=-0x6b9+-0x559*0x3+0x16c5,fd=0x2407+0x24c4+-0x3*0x1843,Ml=0x16*0x5c+0x5db*-0x5+-0x1*-0x1562,Ty=-0x406*0x5+-0x2005*-0x1+-0xbe3*0x1,el=-0x2467*0x1+-0x1*-0x2591+-0x125,Ve=-0x1237*-0x1+-0x127e+0x4d,Tn=0x21f1+0x1dea+0x3fdb*-0x1,_a=0x249a+-0x1*-0x142f+-0x38c8,Xs=0xc2+0x2*-0x127d+0x243a,ga=0x1*0x1319+-0x4f*0x35+-0x2bb,ds=-0x21cd+-0x169e+0x386f,Rn=-0x436+-0x1e97*0x1+0x22d2,ca=-0x12e9+-0x215a+-0x3449*-0x1,ha=0x1898+-0xa06+-0x33*0x49,da=-0x2*0xc73+0xc3e+0xe8*0xe,tl=-0x827+0x2053+-0x1823,sl=-0x8d*-0x5+0x233e+-0x25f5,il=-0x2*0x125+0x4e3+-0x147*0x2,_h=0x248f+-0x59*0x2b+0x8a*-0x28,On=-0xa89+-0xee0+0x1*0x1976,li=0x928*-0x2+0xb*0x89+-0x1*-0xc7b,Hx=0x5*0x5cf+-0x1b33+-0x1c9*0x1,Wx=-0x18e3*-0x1+-0x252c+0xc59,ud=0x313+-0x5*-0x1eb+-0xc99,$x=0x1*-0x8b+0x1+-0x34*-0x3,Xx=-0x3a*-0x19+0x70b*0x3+-0x1ab8,qx=0x3d7*-0xa+-0x473+0x9*0x4c5,pd=0x12c6+0x25f7+-0x38a8,md=-0x2*-0x1061+0x3*0x3e5+-0x3*0xec9,Lp=-0x24ed+-0x263*-0x1+0x22a1,wy=-0x10eb+-0x6f7+0x7fe*0x3,jx=-0x1a65+0xcc8*0x1+0xdb6,Fn=0x7a5*0x1+0x1c6a+-0x23f5,Nn=-0x126c+-0x2280+0x3507,kn=-0x177d+0xa26+0xd73*0x1,Un=0xd1f*0x2+-0x11f6+-0x82b,Bn=0xd16+-0x1*0x235b+0x1663,_d=0x2567*-0x1+0x26bc+-0x9b*0x2,gd=0xa69+0x1ee0+-0x2929,zn=-0x1*-0xee9+-0x17a9+0x8e1,Sd=0x3*-0x59d+0x1c45+-0xb4c,yd=0x5*0x1f2+-0x909*-0x1+-0x10*0x12a,Vn=-0x9d*-0x11+-0x725+-0x324,vd=0x141*0xe+0xb0*0x1f+-0x26b9,xd=0x1408*-0x1+0x1*-0xbfb+0x2029,gh=-0x1885+0x1ad6+-0x22a,Rp=-0x1a7*-0x3+0x1837*0x1+-0x741*0x4,Op=-0x2d*0x41+0x116c+-0xf9*0x6,Yx=-0x184d+0x177d+0xfa,Kx=0x16c9+-0x2051*-0x1+-0x36ef,Zx=0x1249*-0x1+0x79b+0xada,Qx=-0x25ea+0x2500+0x9*0x1f,Jx=-0x774*-0x4+0x16be+-0x1*0x3460,eT=-0x1450+0x823*0x4+0xc0d*-0x1,tT=-0x3*-0x667+0x1226+-0x5*0x76f,sT=-0x1*0x233e+-0x1*-0xc91+0x16de,Ey=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],iT=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],rT=new Map();iT['forEach']((_0x10510c,_0x4b47ca)=>{_0x10510c['forEach'](_0x1d122d=>rT['set'](_0x1d122d,_0x4b47ca));});const aT='webgl2',Fp=-0x1*-0xb50+0x92*-0x35+0x1d*0xa7,by=0x12da+-0x52b+-0x185*0x9,nT=0x37*0xf+0x8bd*-0x1+0x588,oT='ldr',Ay=-0x804+0x1*-0x21fb+0x1500*0x2,Cy=-0xd37+-0x14ae+0x21e7,Py=0x25ec+-0x2667+0x7f,My=0x21ca+-0x7e3*-0x1+-0x29a5,Dy=-0x13d*-0x4+-0x1d18+0x4*0x60d,Iy=-0x20c0+-0x1914+-0xe7d*-0x4,Ly=0xddb*-0x2+0x1106*0x2+-0x26*0x29,Ry=0x16*0x61+0x13b*-0x11+-0x1*-0xd15,lT=0x179+-0x2*0x9f1+0x1368,rl=0x713*-0x3+-0x1da+0x21*0xb3,Oy=0x15fb+-0x1cd6+0x6dc,su=0xadc+-0x61*-0x3+-0x21*0x5d,Np='default',wn=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],No=[0x1*-0x1bb0+0x3*-0x891+0xc*0x473,-0x1883+-0x118f+0x2a13*0x1,0x1*-0x2392+-0x1b*0x172+0x18de*0x3,0xddf+-0xd*-0x1d1+-0x63f*0x6,0x1901+0x2*0x68f+-0x261b,-0xbac+0x1*-0x549+-0x4f*-0x37,-0xc89+0x173b+0x2*-0x557,0x1ce9+-0x21d1+0x4ea],cT=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Sh=[Uint8Array,Uint16Array,Uint32Array],hT=[0x8*-0x417+0x187*-0x3+0x5*0x776,-0x216b+0xd36+0x1437,0x1822+-0x3e0*0x2+0xa*-0x1a3],Fy=new Map([['float','f32'],['vec2','vec2f'],['vec3','vec3f'],['vec4','vec4f'],['int','i32'],['ivec2','vec2i'],['ivec3','vec3i'],['ivec4','vec4i'],['uint','u32'],['uvec2','vec2u'],['uvec3','vec3u'],['uvec4','vec4u']]),Le={};Le[Me]=0x4*-0x5b1+0x15c7+0xfd,Le[gs]=-0x14*-0xc1+-0x962+0x5b1*-0x1,Le[gi]=-0x1*-0x29d+-0x3*0x779+0x13d0,Le[us]=0x649*0x4+0x7a8*-0x1+-0x1179,Le[Wt]=-0x72f+-0x1e01+0x2534*0x1,Le[is]=-0xa*-0x23f+0x1272*-0x1+-0x3ff,Le[ba]=0x1*-0x1953+0x72*0x3a+-0x7b,Le[wl]=0x9*-0x403+0x2*-0xe09+0x4034,Le[El]=-0x96e+-0x26a2+0x402*0xc,Le[bl]=0xae7*0x1+0x1*0x2187+0x8e1*-0x5,Le[Al]=-0x1*0x7f2+-0x162b*0x1+-0x5d*-0x53,Le[Cl]=0x5fc*-0x2+0x5e7*-0x3+0x1db8,Le[Pl]=0x5*-0x6aa+0x1dd7+0x387,Le[yi]=-0x1f61+-0x1*-0x239b+-0x42d,Le[Jf]=0x2110+0x1ac9+0x13f3*-0x3,Le[uh]=0x23ca+0x3f5*0x1+-0x13df*0x2,Le[Ap]=0x2*0x1093+0x1543+-0x3667,Le[Cp]=0x1*0xa01+0x1bc1+-0x1*0x25bf,Le[Pp]=-0x2*0x10e9+-0xd*-0x121+0x1329,Le[Rx]=-0x241d+0x1435+0x1c5*0x9,Le[Ox]=-0x58a+-0xba3*-0x3+0x2ab*-0xb,Le[Fx]=0xff4+0x2469+-0x3456,Le[Ko]=-0x1899+0x9*0x1c2+-0x1*-0x8cf,Le[Zo]=-0x1*-0x11d5+0x1*0x100a+-0x21d6,Le[Nx]=0xd34+-0x2*-0xbe0+-0x24ea*0x1,Le[Mp]=0x1532+-0x2241+0x56*0x27,Le[Dp]=-0x1339+0x2238+-0xef3,Le[ph]=-0x2*0xb65+0x22cb+0x1e*-0x66,Le[Ip]=-0x13f*0x7+0x88a+0x1*0x3d,Le[Ln]=0x1962+-0x1874+-0xdf*0x1;const mr=class mr{static['clearGpuMa'+'rkers'](){mr['markers']['length']=0x2f0+-0xb77*0x1+0x1*0x887;}static['pushGpuMar'+'ker'](_0x1c4529,_0x18453a){mr['markers']['push'](_0x18453a),_0x1c4529['pushMarker'](_0x18453a);}static['popGpuMark'+'er'](_0x120c93){mr['markers']['length']&&mr['markers']['pop'](),_0x120c93['popMarker']();}static['toString'](){return mr['markers']['join']('\x20|\x20');}};h(mr,'markers',[]);let Q=mr,dT=-0x7*0x7b+0xfb*-0x11+-0x1408*-0x1;class Td{constructor(_0x34b52d,_0x5bb29b){h(this,'slot',-(-0xa9*0x1d+0xfb*0x8+-0x2*-0x5a7)),h(this,'scopeId',null),(this['name']=_0x34b52d,this['visibility']=_0x5bb29b);}}class kp extends Td{}class fT extends Td{constructor(_0x224184,_0x1035ef,_0x2cd1e3=!(0x27f*-0x4+-0x1*0x1c4b+0x2648)){super(_0x224184,_0x1035ef),h(this,'format',''),(this['readOnly']=_0x2cd1e3,w['assert'](_0x2cd1e3||!(_0x1035ef&Fp),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class Gm extends Td{constructor(_0x57ac50,_0x12c259,_0x4e5c13=xy,_0x2d5431=zx,_0x3a5eaf=!(-0x2490+0x2b6*-0xa+0x14*0x32f),_0x2a5d3f=null){super(_0x57ac50,_0x12c259),this['textureDim'+'ension']=_0x4e5c13,this['sampleType']=_0x2d5431,this['hasSampler']=_0x3a5eaf,this['samplerNam'+'e']=_0x2a5d3f??_0x57ac50+'_sampler';}}class uT extends Td{constructor(_0xa73cdb,_0x5c407b=Ne,_0x508980=xy,_0x471063=!(0x21*-0x2b+-0x2473+0x29fe),_0x2cab68=!(-0xad*-0x2f+0x1fa7+-0x3f69)){super(_0xa73cdb,nT),this['format']=_0x5c407b,this['textureDim'+'ension']=_0x508980,this['write']=_0x471063,this['read']=_0x2cab68;}}class Ny{constructor(_0x48e612,_0x6fc371){h(this,'uniformBuf'+'ferFormats',[]),h(this,'textureFor'+'mats',[]),h(this,'storageTex'+'tureFormat'+'s',[]),h(this,'storageBuf'+'ferFormats',[]),(this['id']=dT++,Ea['setName'](this,'BindGroupF'+'ormat_'+this['id']),w['assert'](_0x6fc371));let _0xe8078d=-0x1d*0x129+-0x87*0x1b+0x2fe2;_0x6fc371['forEach'](_0x5da619=>{_0x5da619['slot']=_0xe8078d++,_0x5da619 instanceof Gm&&_0x5da619['hasSampler']&&_0xe8078d++,_0x5da619 instanceof kp?this['uniformBuf'+'ferFormats']['push'](_0x5da619):_0x5da619 instanceof Gm?this['textureFor'+'mats']['push'](_0x5da619):_0x5da619 instanceof uT?this['storageTex'+'tureFormat'+'s']['push'](_0x5da619):_0x5da619 instanceof fT?this['storageBuf'+'ferFormats']['push'](_0x5da619):w['assert']('Invalid\x20bi'+'nd\x20format',_0x5da619);}),this['device']=_0x48e612;const _0x521286=_0x48e612['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x46d6d4,_0x464e63)=>this['bufferForm'+'atsMap']['set'](_0x46d6d4['name'],_0x464e63)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x37427b,_0x1e6979)=>{this['textureFor'+'matsMap']['set'](_0x37427b['name'],_0x1e6979),_0x37427b['scopeId']=_0x521286['resolve'](_0x37427b['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x5d6846,_0xe479bc)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x5d6846['name'],_0xe479bc),_0x5d6846['scopeId']=_0x521286['resolve'](_0x5d6846['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x5f4891,_0x127b64)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x5f4891['name'],_0x127b64),_0x5f4891['scopeId']=_0x521286['resolve'](_0x5f4891['name']);}),this['impl']=_0x48e612['createBind'+'GroupForma'+'tImpl'](this),w['trace'](K0,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+Q['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0x580ae9){const _0x2e324d=this['textureFor'+'matsMap']['get'](_0x580ae9);return _0x2e324d!==void(-0x1abd+0x2621+0x2*-0x5b2)?this['textureFor'+'mats'][_0x2e324d]:null;}['getStorage'+'Texture'](_0x2a3021){const _0x2c833f=this['storageTex'+'tureFormat'+'sMap']['get'](_0x2a3021);return _0x2c833f!==void(-0x23ae+0x2228+0x186)?this['storageTex'+'tureFormat'+'s'][_0x2c833f]:null;}['loseContex'+'t'](){}}class Kt{constructor(){h(this,'_cache',new Map());}['get'](_0xa5f74,_0x3c1850){return this['_cache']['has'](_0xa5f74)||(this['_cache']['set'](_0xa5f74,_0x3c1850()),_0xa5f74['on']('destroy',()=>{this['remove'](_0xa5f74);}),_0xa5f74['on']('devicelost',()=>{var _0x54bba9,_0x57e871;(_0x57e871=(_0x54bba9=this['_cache']['get'](_0xa5f74))==null?void(-0x1*-0x21e6+-0x21b2+0x4*-0xd):_0x54bba9['loseContex'+'t'])==null||_0x57e871['call'](_0x54bba9,_0xa5f74);})),this['_cache']['get'](_0xa5f74);}['remove'](_0x2964d8){var _0x2062ee,_0x109a39;(_0x109a39=(_0x2062ee=this['_cache']['get'](_0x2964d8))==null?void(0xc*-0x260+-0x179+0x1df9):_0x2062ee['destroy'])==null||_0x109a39['call'](_0x2062ee,_0x2964d8),this['_cache']['delete'](_0x2964d8);}}class Xi{static['calcLevelD'+'imension'](_0x3a6d08,_0x225b03){return Math['max'](_0x3a6d08>>_0x225b03,0x8f6+-0x1afb*0x1+-0x903*-0x2);}static['calcMipLev'+'elsCount'](_0x46c9a5,_0x58cf67,_0x216ae9=0x1aa8+-0x24ea+0xa43){return-0x20e4+0x436*0x2+-0x1*-0x1879+Math['floor'](Math['log2'](Math['max'](_0x46c9a5,_0x58cf67,_0x216ae9)));}static['calcLevelG'+'puSize'](_0xa8c283,_0x55634c,_0x2856d4,_0x28f1f0){var _0x55fc09;const _0x23e472=Nt['get'](_0x28f1f0);w['assert'](_0x23e472!==void(0x2*-0xb3e+-0x5c8*-0x4+-0x29*0x4),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x28f1f0);const _0x4b8bba=((_0x55fc09=Nt['get'](_0x28f1f0))==null?void(0x1055+0xf54+-0x1fa9):_0x55fc09['size'])??-0x565+-0x1ebc+0x2421;if(_0x4b8bba>-0x864+0x2*-0x10eb+0x2a3a)return _0xa8c283*_0x55634c*_0x2856d4*_0x4b8bba;const _0x30482d=_0x23e472['blockSize']??-0x5c0*-0x1+-0x19d9+0x1419;let _0x327dd8=Math['floor']((_0xa8c283+(-0x21ec+-0x1257+0x3446))/(-0x10fd+0xb1*0x38+-0x15b7));const _0x2c3f2d=Math['floor']((_0x55634c+(0x9d0+-0x1*0x1b11+0x5*0x374))/(-0x22d7+-0x1*-0x1b74+0x767)),_0x477352=Math['floor']((_0x2856d4+(-0x1efd+-0xad9*0x2+-0xa8a*-0x5))/(-0x151e+0x13d8+0x14a));return(_0x28f1f0===xl||_0x28f1f0===Tl)&&(_0x327dd8=Math['max'](Math['floor'](_0x327dd8/(-0x1*0x1652+0x33*-0x77+0x1*0x2e09)),0x1*-0x1f76+0x3*0x449+0x129c)),_0x327dd8*_0x2c3f2d*_0x477352*_0x30482d;}static['calcGpuSiz'+'e'](_0x14baff,_0x498a0a,_0x5eb922,_0x536e6c,_0x317fcd,_0x2f0a58){let _0xd2a700=0xfff+0x1dbe+-0x515*0x9;for(;_0xd2a700+=Xi['calcLevelG'+'puSize'](_0x14baff,_0x498a0a,_0x5eb922,_0x536e6c),!(!_0x317fcd||_0x14baff===0x68*-0x3d+0x2618+-0xd4f&&_0x498a0a===-0xb01+0x22b5+-0x17b3*0x1&&_0x5eb922===0x118*0x1d+0x181*0x13+-0x3c4a);)_0x14baff=Math['max'](_0x14baff>>-0x212b+0x1c0c+-0x20*-0x29,0x20af+0x21*-0xa2+-0xbcc),_0x498a0a=Math['max'](_0x498a0a>>0x239f*-0x1+0x25df+-0x17*0x19,-0xbda+-0x1a8*0xe+0x230b),_0x5eb922=Math['max'](_0x5eb922>>-0x6b*0x2c+0x189a+-0x635,0x1*0xc05+0x3*-0xa65+-0x132b*-0x1);return _0xd2a700*(_0x2f0a58?-0x243f+-0x5d5*-0x1+0x1e70:-0x1*-0x55b+-0x547+-0x13);}}let pT=0xcd+-0xcd*-0x1d+-0x1806;class _e{constructor(_0x1b2f66,_0x368764={}){h(this,'name'),h(this,'_gpuSize',-0x7a9+0x1aa*-0x2+0xafd),h(this,'id',pT++),h(this,'_invalid',!(0x146*0x10+-0xa32+-0xa2d)),h(this,'_lockedLev'+'el',-(-0x17f3+-0xb*-0x8a+0x1206)),h(this,'_lockedMod'+'e',$l),h(this,'renderVers'+'ionDirty',0x17*-0xc1+0xd*0x215+-0x1e*0x53),h(this,'_storage',!(0x1ad0+-0x6d9+-0x13f6)),h(this,'_numLevels',-0x2314+0xd*0x2d2+-0x2*0xcb),h(this,'_numLevels'+'Requested');var _0x419269;this['device']=_0x1b2f66,w['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),w['assert'](!_0x368764['width']||Number['isInteger'](_0x368764['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x368764),w['assert'](!_0x368764['height']||Number['isInteger'](_0x368764['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x368764),w['assert'](!_0x368764['depth']||Number['isInteger'](_0x368764['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x368764),this['name']=_0x368764['name']??'',this['_width']=Math['floor'](_0x368764['width']??-0x1ac+0x1009+-0xe59),this['_height']=Math['floor'](_0x368764['height']??0xb94+0x1957*-0x1+0xdc7),this['_format']=_0x368764['format']??Ne,this['_compresse'+'d']=Ix(this['_format']),this['_integerFo'+'rmat']=dn(this['_format']),this['_integerFo'+'rmat']&&(_0x368764['minFilter']=Te,_0x368764['magFilter']=Te),this['_volume']=_0x368764['volume']??!(0x2454+-0x22c8+-0x18b*0x1),this['_depth']=Math['floor'](_0x368764['depth']??-0xb6c+0x720+-0x3*-0x16f),this['_arrayLeng'+'th']=Math['floor'](_0x368764['arrayLengt'+'h']??-0x64b*-0x1+0x55*0x46+-0x1d89),this['_storage']=_0x368764['storage']??!(0x41*0x41+-0x20ba+0x81d*0x2),this['_cubemap']=_0x368764['cubemap']??!(0x7f2+0x1ca2*-0x1+0x1*0x14b1),this['_flipY']=_0x368764['flipY']??!(-0x3e*-0x7c+-0x6a+-0x1d9d),this['_premultip'+'lyAlpha']=_0x368764['premultipl'+'yAlpha']??!(-0x1699+0x72*0x3+-0x1*-0x1544),this['_mipmaps']=_0x368764['mipmaps']??!(0x1a*0xd3+-0x1*0x12b8+-0x2b6),this['_numLevels'+'Requested']=_0x368764['numLevels'],_0x368764['numLevels']!==void(-0x1ad1*-0x1+0x13c*0x3+-0x1*0x1e85)&&(this['_numLevels']=_0x368764['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x368764['minFilter']??ma,this['_magFilter']=_0x368764['magFilter']??vt,this['_anisotrop'+'y']=_0x368764['anisotropy']??-0xb31*-0x2+-0x1*0x153b+-0x126,this['_addressU']=_0x368764['addressU']??yt,this['_addressV']=_0x368764['addressV']??yt,this['_addressW']=_0x368764['addressW']??yt,this['_compareOn'+'Read']=_0x368764['compareOnR'+'ead']??!(0x2b9*-0x3+0x2450+-0x1c24),this['_compareFu'+'nc']=_0x368764['compareFun'+'c']??hh,this['_type']=_0x368764['type']??Ds,w['assert'](!_0x368764['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),w['assert'](!_0x368764['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=Vx,this['_cubemap']?this['projection']=tu:_0x368764['projection']&&_0x368764['projection']!==tu&&(this['projection']=_0x368764['projection']),this['profilerHi'+'nt']=_0x368764['profilerHi'+'nt']??0xad2+-0x8d+-0xef*0xb,this['_levels']=_0x368764['levels'];const _0x3aef72=!!_0x368764['levels'];this['_levels']||this['_clearLeve'+'ls'](),this['recreateIm'+'pl'](_0x3aef72),_0x1b2f66['textures']['push'](this),w['trace'](Dm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0x419269=Nt['get'](this['format']))==null?void(-0x1e13+-0x69b+0x5*0x756):_0x419269['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){w['trace'](Dm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x4200b5=this['device'];if(_0x4200b5){const _0x411ece=_0x4200b5['textures']['indexOf'](this);_0x411ece!==-(0x228c+-0x205*0x3+-0x2*0xe3e)&&_0x4200b5['textures']['splice'](_0x411ece,-0xde6+-0x15f0+0x23d7),_0x4200b5['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0x4200b5),this['adjustVram'+'SizeTracki'+'ng'](_0x4200b5['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x1df189=!(-0x1567+-0xcb7*0x3+-0x1dc6*-0x2)){var _0x49f058;const {device:_0x35e2b5}=this;(_0x49f058=this['impl'])==null||_0x49f058['destroy'](_0x35e2b5),this['impl']=null,this['impl']=_0x35e2b5['createText'+'ureImpl'](this),this['dirtyAll'](),_0x1df189&&this['upload']();}['_clearLeve'+'ls'](){this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null];}['resize'](_0x56fe82,_0x23c95b,_0x4384b9=0x263b+0x6+0x110*-0x24){const _0x567992=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x567992['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x567992),this['_clearLeve'+'ls'](),this['_width']=Math['floor'](_0x56fe82),this['_height']=Math['floor'](_0x23c95b),this['_depth']=Math['floor'](_0x4384b9),this['_updateNum'+'Level'](),this['impl']=_0x567992['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x222e4c,_0x298e4f){w['trace'](X0,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x298e4f+('\x20vram.text'+'ure:\x20')+_0x222e4c['tex']+'\x20=>\x20'+(_0x222e4c['tex']+_0x298e4f)),_0x222e4c['tex']+=_0x298e4f,this['profilerHi'+'nt']===eu?_0x222e4c['texShadow']+=_0x298e4f:this['profilerHi'+'nt']===Pr?_0x222e4c['texAsset']+=_0x298e4f:this['profilerHi'+'nt']===vy&&(_0x222e4c['texLightma'+'p']+=_0x298e4f);}['propertyCh'+'anged'](_0x30f7e2){this['impl']['propertyCh'+'anged'](_0x30f7e2),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x5c3f37=this['mipmaps']?Xi['calcMipLev'+'elsCount'](this['width'],this['height']):-0x1641+-0x90+-0x2e*-0x7f,_0x244855=this['_numLevels'+'Requested'];_0x244855!==void(0x3*0xc23+-0x1263+-0x2*0x903)&&_0x244855>_0x5c3f37&&w['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x5c3f37,this),this['_numLevels']=Math['min'](_0x244855??_0x5c3f37,_0x5c3f37),this['_mipmaps']=this['_numLevels']>0x944+-0x20e8+-0x17a5*-0x1;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x3b0235){this['_minFilter']!==_0x3b0235&&(dn(this['_format'])?w['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x3b0235,this['propertyCh'+'anged'](Ay)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x828d57){this['_magFilter']!==_0x828d57&&(dn(this['_format'])?w['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x828d57,this['propertyCh'+'anged'](Cy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0x17e983){this['_addressU']!==_0x17e983&&(this['_addressU']=_0x17e983,this['propertyCh'+'anged'](Py));}get['addressU'](){return this['_addressU'];}set['addressV'](_0x4284ca){this['_addressV']!==_0x4284ca&&(this['_addressV']=_0x4284ca,this['propertyCh'+'anged'](My));}get['addressV'](){return this['_addressV'];}set['addressW'](_0x277c18){if(!this['_volume']){w['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0x277c18!==this['_addressW']&&(this['_addressW']=_0x277c18,this['propertyCh'+'anged'](Dy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x3f9535){this['_compareOn'+'Read']!==_0x3f9535&&(this['_compareOn'+'Read']=_0x3f9535,this['propertyCh'+'anged'](Iy));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x281805){this['_compareFu'+'nc']!==_0x281805&&(this['_compareFu'+'nc']=_0x281805,this['propertyCh'+'anged'](Ly));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x10cde3){this['_anisotrop'+'y']!==_0x10cde3&&(this['_anisotrop'+'y']=_0x10cde3,this['propertyCh'+'anged'](Ry));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x39c269){this['_mipmaps']!==_0x39c269&&(this['device']['isWebGPU']?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):dn(this['_format'])?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x39c269,_0x39c269&&(this['_needsMipm'+'apsUpload']=!(-0x1*-0x1912+-0x187e+-0x94)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x2d0857=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===0x1*0x509+-0x1e45+0x193d);return Xi['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x2d0857,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>0x2*-0x25a+0x2197*-0x1+0x1*0x264b;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['type'](_0x1a06b5){this['_type']!==_0x1a06b5&&(this['_type']=_0x1a06b5,this['device']['_shadersDi'+'rty']=!(-0x168e*0x1+0x1576+-0x38*-0x5));}get['type'](){return this['_type'];}set['srgb'](_0x2df17f){var _0x10fb47,_0x3142ac,_0x280803,_0x2076d3;const _0x2bc666=fh(this['format']);if(_0x2df17f!==_0x2bc666){if(_0x2df17f){const _0x4a1680=ld(this['format']);this['_format']!==_0x4a1680&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x10fb47=Nt['get'](this['format']))==null?void(0x8b*-0x2+-0x1646*0x1+0x256*0xa):_0x10fb47['name'])+'\x20->\x20'+((_0x3142ac=Nt['get'](_0x4a1680))==null?void(0xd*-0x2d8+0x830*-0x4+0x45b8):_0x3142ac['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x4a1680,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(0x1cad+0x2b*0xc+-0x1eb1));}else{const _0x1b4371=Lx(this['format']);this['_format']!==_0x1b4371&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0x280803=Nt['get'](this['format']))==null?void(0x5*0x420+-0x2*-0x762+-0x2364):_0x280803['name'])+'\x20->\x20'+((_0x2076d3=Nt['get'](_0x1b4371))==null?void(-0xa50+0x9a1*-0x2+0x2f5*0xa):_0x2076d3['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x1b4371,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x43*0x6a+-0x1437+0x2ff5*0x1));}}}get['srgb'](){return fh(this['format']);}set['flipY'](_0x2a1ce1){this['_flipY']!==_0x2a1ce1&&(this['_flipY']=_0x2a1ce1,this['_needsUplo'+'ad']=!(-0xd1c+0xdc3+0x1*-0xa7));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x2cf943){this['_premultip'+'lyAlpha']!==_0x2cf943&&(this['_premultip'+'lyAlpha']=_0x2cf943,this['_needsUplo'+'ad']=!(0x1*0x16fe+-0x729*-0x1+-0x1e27));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return Y['powerOfTwo'](this['_width'])&&Y['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case Zi:return'rgbm';case mh:return'rgbe';case Qo:return'rgbp';}return py(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(0xc7c*0x1+-0x1*0x13d4+0x758),!(-0x25c2*0x1+0xca9+0x1919),!(-0x80c+-0x21f5+-0x2a01*-0x1),!(0x1695+0x1*-0xdb7+0x8de*-0x1),!(-0x2*0x72b+-0x1*-0x13e8+-0x592),!(0x1*0x29+0x13*-0x12a+0x15f5)]]:[!(0x2d1*0xb+-0x2333*-0x1+-0x422e)],this['_needsUplo'+'ad']=!(0x202b+-0x95b+-0x49*0x50),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(0x1*-0x277+-0xfd2+0x124a),this['propertyCh'+'anged'](lT);}['lock'](_0x1197ea={}){_0x1197ea['level']??(_0x1197ea['level']=0x2538+0x217c*0x1+-0x16a*0x32),_0x1197ea['face']??(_0x1197ea['face']=-0x190e+-0xa21+-0x232f*-0x1),_0x1197ea['mode']??(_0x1197ea['mode']=Od),w['assert'](this['_lockedMod'+'e']===$l,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),w['assert'](_0x1197ea['mode']===yy||_0x1197ea['mode']===Od,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x1197ea['mode'],this['_lockedLev'+'el']=_0x1197ea['level'];const _0x47085a=this['cubemap']?this['_levels'][_0x1197ea['face']]:this['_levels'];if((_0x47085a==null?void(0x25c3+0x1*-0x1ed9+-0x162*0x5):_0x47085a[_0x1197ea['level']])===null){const _0x12549e=Math['max'](0xf28+-0x2229+0x3*0x656,this['_width']>>_0x1197ea['level']),_0x267a01=Math['max'](0x56b*0x4+0x2113+-0x36be,this['_height']>>_0x1197ea['level']),_0x5cc3c9=Math['max'](-0x1ec9+-0x1934*-0x1+0x596*0x1,this['_depth']>>_0x1197ea['level']),_0x12dc74=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0x12549e,_0x267a01,_0x5cc3c9,this['_format']));_0x47085a[_0x1197ea['level']]=new(my(this['_format']))(_0x12dc74);}return _0x47085a==null?void(-0x277*0x9+0x469*-0x1+0x128*0x17):_0x47085a[_0x1197ea['level']];}['setSource'](_0xfbdd9f,_0xd3e2ef=-0x3*0x886+0xecc+0xac6){let _0x5a2f31=!(-0x1*0x1c6d+0x1*0x1391+0x8dd),_0x467398,_0x1ffc8d;if(this['_cubemap']){if(_0xfbdd9f[-0x2*0x65+0x132f*-0x1+0x13f9]){_0x467398=_0xfbdd9f[-0x1*0x40f+-0x8f2+0xd01]['width']||0x1*0x5e+0x1eb4+0x1f12*-0x1,_0x1ffc8d=_0xfbdd9f[0x55*0x13+-0x2*-0x1f6+0xa3b*-0x1]['height']||0x1*-0x111d+-0x109*-0x8+0x7*0x143;for(let _0x1ef0ec=-0x1bdf+0x1e61+-0x282;_0x1ef0ec<-0x23*0x7e+-0x1242+0x2382;_0x1ef0ec++){const _0x5242c3=_0xfbdd9f[_0x1ef0ec];if(!_0x5242c3||_0x5242c3['width']!==_0x467398||_0x5242c3['height']!==_0x1ffc8d||!this['device']['_isBrowser'+'Interface'](_0x5242c3)){_0x5a2f31=!(0x11fe+0x1a53+-0x2c51);break;}}}else _0x5a2f31=!(-0x24df+-0x214f*0x1+-0x566*-0xd);if(!_0x5a2f31){for(let _0x3df464=-0x2527+-0x1cae*0x1+0x41d5;_0x3df464<-0x1d*0x106+0x135d+0xa57;_0x3df464++)this['_levels'][_0xd3e2ef][_0x3df464]!==_0xfbdd9f[_0x3df464]&&(this['_levelsUpd'+'ated'][_0xd3e2ef][_0x3df464]=!(-0x1d8*-0xc+-0x26d5*-0x1+-0x3cf5));}}else this['device']['_isBrowser'+'Interface'](_0xfbdd9f)||(_0x5a2f31=!(-0x386*0xa+0x26a5*0x1+-0x369)),_0x5a2f31||(_0xfbdd9f!==this['_levels'][_0xd3e2ef]&&(this['_levelsUpd'+'ated'][_0xd3e2ef]=!(-0x1*-0x7ca+0x213e+0x34*-0xca)),_0xfbdd9f instanceof HTMLVideoElement?(_0x467398=_0xfbdd9f['videoWidth'],_0x1ffc8d=_0xfbdd9f['videoHeigh'+'t']):(_0x467398=_0xfbdd9f['width'],_0x1ffc8d=_0xfbdd9f['height']));if(_0x5a2f31){if(this['_width']=-0x19ed+0x2576+-0x1*0xb85,this['_height']=0x151a+0x95*0x4+-0x176a,this['_cubemap']){for(let _0x169ad9=0x2293*-0x1+-0x2*0xb3+-0x1*-0x23f9;_0x169ad9<0xd*-0x13a+0xb2*0x1c+0x1*-0x380;_0x169ad9++)this['_levels'][_0xd3e2ef][_0x169ad9]=null,this['_levelsUpd'+'ated'][_0xd3e2ef][_0x169ad9]=!(-0xfb*-0x17+0x1013+-0xce0*0x3);}else this['_levels'][_0xd3e2ef]=null,this['_levelsUpd'+'ated'][_0xd3e2ef]=!(-0xfaf*-0x2+0x20*0x5d+-0x2afe);}else _0xd3e2ef===0x17db+0x220c+-0x39e7&&(this['_width']=_0x467398,this['_height']=_0x1ffc8d),this['_levels'][_0xd3e2ef]=_0xfbdd9f;(this['_invalid']!==_0x5a2f31||!_0x5a2f31)&&(this['_invalid']=_0x5a2f31,this['upload']());}['getSource'](_0x108bc1=0xc33+0xe86+-0x1ab9){return this['_levels'][_0x108bc1];}['unlock'](){this['_lockedMod'+'e']===$l&&w['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===Od&&this['upload'](),this['_lockedLev'+'el']=-(0x1919+-0xd2+-0x1846),this['_lockedMod'+'e']=$l;}['upload'](){var _0xdc2288,_0x1954ef;this['_needsUplo'+'ad']=!(-0x22ff+-0x397+0x2696),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x1954ef=(_0xdc2288=this['impl'])['uploadImme'+'diate'])==null||_0x1954ef['call'](_0xdc2288,this['device'],this);}['read'](_0x40eb7a,_0x44b7cd,_0x44b559,_0x482190,_0x131bc1={}){var _0x251c5b,_0x5f3126;return(_0x5f3126=(_0x251c5b=this['impl'])['read'])==null?void(0x1*-0x12a9+-0x5*-0x9f+0xf8e):_0x5f3126['call'](_0x251c5b,_0x40eb7a,_0x44b7cd,_0x44b559,_0x482190,_0x131bc1);}['write'](_0x2d6707,_0x4b0700,_0x19cccb,_0x120fbd,_0x2faece){var _0x2e1339,_0x1ec782;return(_0x1ec782=(_0x2e1339=this['impl'])['write'])==null?void(-0x6f8+0x5c6+0x132):_0x1ec782['call'](_0x2e1339,_0x2d6707,_0x4b0700,_0x19cccb,_0x120fbd,_0x2faece);}}const mT={'white':[-0x1094+0xeca+0x2c9,0x1eb3+-0x1*-0xf6+-0x1eaa,-0x1fbe+-0x40c+-0x2b*-0xdb,-0x212b+0x311*0x5+0x12d5],'gray':[-0x1efc+0x7d8*0x1+0x17a4,-0xef3+-0x1*0x12b9+0xa2*0x36,-0x1073+-0xb32*0x2+0x2757,0x1*-0x2077+-0xa*-0x274+0x8ee],'black':[-0x1dcc+0x128*0x4+0x192c,0x1a31+0xd*-0x2+-0x1a17*0x1,0x2177+0x3bb+-0x8a*0x45,0x1a18+0x942+-0x225b],'normal':[0x5*-0x697+-0x5d9+0x9d3*0x4,-0x1ff4*0x1+0x23c1+-0x34d,0x4c2+-0x1*0x1058+-0xc95*-0x1,0xbd+-0x2*0xee6+0x1e0e],'pink':[-0x17*0x5+-0x14f5+-0x9b*-0x25,0x11ca+0x63b*-0x2+-0xce*0x6,-0x2486+0x818+0x1d6d,-0x23ca+-0x43*0x83+0x4712]};class _T{constructor(){h(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x9889de=>{_0x9889de['destroy']();});}}const gT=new Kt(),fa=(_0x241afb,_0x5978d1)=>{const _0x304c44=gT['get'](_0x241afb,()=>new _T());if(!_0x304c44['map']['has'](_0x5978d1)){const _0x4fa05f=new _e(_0x241afb,{'name':'built-in-t'+'exture-'+_0x5978d1,'width':0x1,'height':0x1,'format':Ne}),_0x2efe93=_0x4fa05f['lock'](),_0x3cc7cf=mT[_0x5978d1];w['assert'](_0x3cc7cf,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x5978d1+('\x27\x20not\x20foun'+'d')),_0x2efe93['set'](_0x3cc7cf),_0x4fa05f['unlock'](),_0x304c44['map']['set'](_0x5978d1,_0x4fa05f);}return _0x304c44['map']['get'](_0x5978d1);};let ST=0x1f46+0x128*0x1c+-0x3fa6;class ky{constructor(){h(this,'bindGroup'),h(this,'offsets',[]);}}class Up{constructor(_0x426306,_0x1260f5,_0x4c6a23){h(this,'renderVers'+'ionUpdated',-(-0x1245+0x3*0x102+0xf40)),h(this,'uniformBuf'+'fers'),h(this,'uniformBuf'+'ferOffsets',[]),(this['id']=ST++,this['device']=_0x426306,this['format']=_0x1260f5,this['dirty']=!(0x120d*0x1+0x12+0x121f*-0x1),this['impl']=_0x426306['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x4c6a23,_0x4c6a23&&this['setUniform'+'Buffer'](Np,_0x4c6a23),w['trace'](Y0,'Alloc:\x20Id\x20'+this['id'],this,_0x1260f5));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x3edf10,_0x40d1e2){const _0x47afb6=this['format']['bufferForm'+'atsMap']['get'](_0x3edf10);w['assert'](_0x47afb6!==void(0x1358+0x18fb+-0x2c53),'Setting\x20a\x20'+'uniform\x20['+_0x3edf10+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['uniformBuf'+'fers'][_0x47afb6]!==_0x40d1e2&&(this['uniformBuf'+'fers'][_0x47afb6]=_0x40d1e2,this['dirty']=!(-0x21*0x64+0x3d8+-0xc1*-0xc));}['setStorage'+'Buffer'](_0xb60603,_0x36ea88){const _0x19b1be=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0xb60603);w['assert'](_0x19b1be!==void(0x5*0x77e+0x1174+0x6*-0x927),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0xb60603+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageBuf'+'fers'][_0x19b1be]!==_0x36ea88&&(this['storageBuf'+'fers'][_0x19b1be]=_0x36ea88,this['dirty']=!(0x1139+0x1870+-0x3*0xde3));}['setTexture'](_0x562320,_0x125317){const _0x3e11a2=this['format']['textureFor'+'matsMap']['get'](_0x562320);w['assert'](_0x3e11a2!==void(-0x2361+-0x22*0xc2+0x3d25),'Setting\x20a\x20'+'texture\x20['+_0x562320+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['textures'][_0x3e11a2]!==_0x125317?(this['textures'][_0x3e11a2]=_0x125317,this['dirty']=!(-0x16d9+-0x4b6+-0x11*-0x19f)):this['renderVers'+'ionUpdated']<_0x125317['renderVers'+'ionDirty']&&(this['dirty']=!(0x29f*0x7+-0x175b+0x2*0x281));}['setStorage'+'Texture'](_0x59bfdb,_0x1d3aba){const _0x4b7597=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x59bfdb);w['assert'](_0x4b7597!==void(0x17c6+0x1de8+0x1*-0x35ae),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x59bfdb+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageTex'+'tures'][_0x4b7597]!==_0x1d3aba?(this['storageTex'+'tures'][_0x4b7597]=_0x1d3aba,this['dirty']=!(0x46e+0x196f+-0x1ddd*0x1)):this['renderVers'+'ionUpdated']<_0x1d3aba['renderVers'+'ionDirty']&&(this['dirty']=!(-0x4*0x8bf+0x10f2+0x2*0x905));}['updateUnif'+'ormBuffers'](){for(let _0xb4cc07=0x26c3*0x1+-0xb89*-0x1+-0x324c;_0xb4cc07<this['uniformBuf'+'fers']['length'];_0xb4cc07++)this['uniformBuf'+'fers'][_0xb4cc07]['update']();}['update'](){const {textureFormats:_0x261283,storageTextureFormats:_0x35819f,storageBufferFormats:_0xa3ad60}=this['format'];for(let _0x2db773=0xcd*0xb+-0x26+-0x8a9*0x1;_0x2db773<_0x261283['length'];_0x2db773++){const _0x5489d9=_0x261283[_0x2db773];let _0x2ad71d=_0x5489d9['scopeId']['value'];_0x2ad71d||(_0x5489d9['name']==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x2ad71d=fa(this['device'],'white')),_0x5489d9['name']==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x2ad71d=fa(this['device'],'pink')),_0x2ad71d||(w['errorOnce']('Texture\x20'+_0x5489d9['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+Q['toString']()+']'),_0x2ad71d=fa(this['device'],'pink'))),this['setTexture'](_0x5489d9['name'],_0x2ad71d);}for(let _0x2dea7b=-0x1*-0x602+-0x6*0x533+0x326*0x8;_0x2dea7b<_0x35819f['length'];_0x2dea7b++){const _0x58f929=_0x35819f[_0x2dea7b],_0x114a20=_0x58f929['scopeId']['value'];w['assert'](_0x114a20,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x58f929['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Texture'](_0x58f929['name'],_0x114a20);}for(let _0x13c4e5=0x177+-0x1*-0xfb3+-0x112a;_0x13c4e5<_0xa3ad60['length'];_0x13c4e5++){const _0x1c0aeb=_0xa3ad60[_0x13c4e5],_0x53028f=_0x1c0aeb['scopeId']['value'];w['assert'](_0x53028f,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0x1c0aeb['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Buffer'](_0x1c0aeb['name'],_0x53028f);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0x113ee5=-0x17bb+0x3c*-0x70+0x31fb;_0x113ee5<this['uniformBuf'+'fers']['length'];_0x113ee5++){const _0x3e21f2=this['uniformBuf'+'fers'][_0x113ee5];this['uniformBuf'+'ferOffsets'][_0x113ee5]=_0x3e21f2['offset'],this['renderVers'+'ionUpdated']<_0x3e21f2['renderVers'+'ionDirty']&&(this['dirty']=!(-0x2f4+0x4f*-0x29+0x31f*0x5));}this['dirty']&&(this['dirty']=!(-0x26d+-0x226b+0x1*0x24d9),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const qe={'set'(_0x26d49c,_0x511712,_0x988ae3,_0x48a8a0=0xe08+0x5*0x6f+0x6*-0x2b3){return _0x26d49c&~(_0x48a8a0<<_0x988ae3)|_0x511712<<_0x988ae3;},'get'(_0x181f21,_0x3bc700,_0x4f8169=-0xd23+0x1fa*-0x7+0x1afa){return _0x181f21>>_0x3bc700&_0x4f8169;},'all'(_0x1376a0,_0x1957ed,_0x378961=0x1dc4+-0x164c*-0x1+-0x340f){const _0x100475=_0x378961<<_0x1957ed;return(_0x1376a0&_0x100475)===_0x100475;},'any'(_0x4e906c,_0x2ebcf8,_0x15b6e3=0xd*0x3f+0x118+-0x44a){return(_0x4e906c&_0x15b6e3<<_0x2ebcf8)!==0x5b2+0x153a+-0x1aec*0x1;}},Xl=0x25aa+0x2430+-0x49d3,ir=0x56c*-0x7+-0x329*-0x6+0x130d*0x1,Hm=0x26f6+-0x822+-0x1ed4,Wm=-0x67a*0x2+0x3*0x939+-0xeb4,$m=-0x1301*0x1+-0x2*-0x9b6+-0x64,Xm=0x1*0x2d8+0x188*-0x14+0x1bd3,qm=-0x2*0xe11+0x68e+0x1a*0xd5,jm=-0x543+0x109c+0xb47*-0x1,iu=-0x48f+-0xf*0x245+0x26b0,Ym=0x1091+0x7*-0x25f+-0x1*-0x1f,Km=0x552*-0x5+-0x89*0x2f+-0x3fd*-0xd,Zm=0x64c*-0x4+-0x1c8b*-0x1+-0x342,Qm=-0x132a+-0x665*0x5+-0x3f1*-0xd,yT=0x1375+0x425*0x5+-0x1*0x281f,vT=iu,ri=class ri{constructor(_0x11ebb0=!(-0x2489*-0x1+0x16a*0x16+0x5a3*-0xc),_0x4d9e87=fs,_0x2c3fae=Ft,_0x54e679=rp,_0xa2bff1,_0x4bcc25,_0x2e9786,_0xa79dda=!(-0x2*0xe64+-0x1fde*0x1+0x8aa*0x7),_0xfc8415=!(0x3bb*0x7+0x1009+0x1513*-0x2),_0x514b4d=!(0x1ada+0x1c78+-0x3752),_0x1c84f1=!(-0xe24+0x2*0x1148+-0x146c)){h(this,'target0',0x269*-0x1+0x2b6+-0x4d),(this['setColorBl'+'end'](_0x4d9e87,_0x2c3fae,_0x54e679),this['setAlphaBl'+'end'](_0xa2bff1??_0x4d9e87,_0x4bcc25??_0x2c3fae,_0x2e9786??_0x54e679),this['setColorWr'+'ite'](_0xa79dda,_0xfc8415,_0x514b4d,_0x1c84f1),this['blend']=_0x11ebb0);}set['blend'](_0x55843e){this['target0']=qe['set'](this['target0'],_0x55843e?0x2262+0x1179+-0x2*0x19ed:-0x8*0x30+0x99*-0x15+0xe0d,Qm);}get['blend'](){return qe['all'](this['target0'],Qm);}['setColorBl'+'end'](_0x44821a,_0x248e68,_0x3624d7){this['target0']=qe['set'](this['target0'],_0x44821a,Hm,Xl),this['target0']=qe['set'](this['target0'],_0x248e68,Wm,ir),this['target0']=qe['set'](this['target0'],_0x3624d7,$m,ir);}['setAlphaBl'+'end'](_0x2b2d9b,_0x5bcba3,_0x588bfd){this['target0']=qe['set'](this['target0'],_0x2b2d9b,Xm,Xl),this['target0']=qe['set'](this['target0'],_0x5bcba3,qm,ir),this['target0']=qe['set'](this['target0'],_0x588bfd,jm,ir);}['setColorWr'+'ite'](_0x2bce7e,_0x4396aa,_0x235d64,_0xf16203){this['redWrite']=_0x2bce7e,this['greenWrite']=_0x4396aa,this['blueWrite']=_0x235d64,this['alphaWrite']=_0xf16203;}get['colorOp'](){return qe['get'](this['target0'],Hm,Xl);}get['colorSrcFa'+'ctor'](){return qe['get'](this['target0'],Wm,ir);}get['colorDstFa'+'ctor'](){return qe['get'](this['target0'],$m,ir);}get['alphaOp'](){return qe['get'](this['target0'],Xm,Xl);}get['alphaSrcFa'+'ctor'](){return qe['get'](this['target0'],qm,ir);}get['alphaDstFa'+'ctor'](){return qe['get'](this['target0'],jm,ir);}set['redWrite'](_0x34a427){this['target0']=qe['set'](this['target0'],_0x34a427?0x1ddb+-0x1172+-0xc68:-0x1c24+-0x1*-0x1159+0xacb,iu);}get['redWrite'](){return qe['all'](this['target0'],iu);}set['greenWrite'](_0x5eee5e){this['target0']=qe['set'](this['target0'],_0x5eee5e?0x156e+-0x754*-0x4+0x1f*-0x1a3:-0x1*-0x8c9+0x2*0x43f+-0x1*0x1147,Ym);}get['greenWrite'](){return qe['all'](this['target0'],Ym);}set['blueWrite'](_0x691b9e){this['target0']=qe['set'](this['target0'],_0x691b9e?0x1cbe+-0x13aa+-0x913*0x1:0x2*-0x136b+0x2663+0x73,Km);}get['blueWrite'](){return qe['all'](this['target0'],Km);}set['alphaWrite'](_0x329616){this['target0']=qe['set'](this['target0'],_0x329616?0x1b08+-0x1c*-0xf9+-0x3643:-0x1*-0x101+0xf6f+-0x1070,Zm);}get['alphaWrite'](){return qe['all'](this['target0'],Zm);}get['allWrite'](){return qe['get'](this['target0'],vT,yT);}['copy'](_0x4321a2){return this['target0']=_0x4321a2['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0x55c55a){return this['target0']===_0x55c55a['target0'];}};h(ri,'NOBLEND',Object['freeze'](new ri())),h(ri,'NOWRITE',Object['freeze'](new ri(void(-0xd*0x139+-0x14cb+0x24b0),void(-0x169*0xd+0x1949*-0x1+0x2b9e*0x1),void(-0xf3c+-0x2a1*0x6+0x1f02),void(0x3*0xc75+-0x4*-0xf2+-0x2927),void(-0x1*-0x26f6+0xd6d*0x1+-0x1*0x3463),void(0xe86+0x1f81*0x1+-0x2e07),void(0x3*0xb7e+0x22d8+-0x4552),!(0x2b8+0x7*-0x108+0x1*0x481),!(0x1aca+0x1aae+-0x3577),!(-0x2230+-0x1723+0x3954),!(-0xbe6+-0x296+-0xe7d*-0x1)))),h(ri,'ALPHABLEND',Object['freeze'](new ri(!(-0x2438+-0x28e+0x26c6),fs,jh,Yh))),h(ri,'ADDBLEND',Object['freeze'](new ri(!(-0x99+0x23ad+-0x2314),fs,Ft,Ft)));let pt=ri;class Bp{constructor(){h(this,'map',new Map()),h(this,'id',-0x1*-0x1008+-0xa50+0xf4*-0x6);}['get'](_0x46aa34){let _0x291773=this['map']['get'](_0x46aa34);return _0x291773===void(0x19da+0xa4+-0x1a7e)&&(_0x291773=this['id']++,this['map']['set'](_0x46aa34,_0x291773)),_0x291773;}}const xT=new Bp(),Jm=-0x263*0xa+0xeb1+0x934,e_=-0x16*0x53+0x27*0xd5+0x1*-0x1951,t_=-0x2f8+-0x202e+-0x1*-0x2329,_r=class _r{constructor(_0x20f72e=Wf,_0x1853e4=!(-0x1ee*-0x8+0x7b2*0x5+-0x86*0x67)){h(this,'data',0x1*0x1014+0x1*-0x1a93+0xa7f),h(this,'_depthBias',-0x7f5+-0x11c9+0x5*0x526),h(this,'_depthBias'+'Slope',-0x6*0x37+0xb7b+-0xa31),h(this,'key',-0x2052+0xe*0xc1+0x7*0x31c),(this['func']=_0x20f72e,this['write']=_0x1853e4);}set['test'](_0xfcef95){this['func']=_0xfcef95?Wf:Wi,this['updateKey']();}get['test'](){return this['func']!==Wi;}set['write'](_0x2243d2){this['data']=qe['set'](this['data'],_0x2243d2?0x426*-0x3+-0x167*-0x15+-0x10*0x110:0x15b*-0x1b+-0xc87*-0x2+-0xc5*-0xf,t_),this['updateKey']();}get['write'](){return qe['all'](this['data'],t_);}set['func'](_0x2b4ff4){this['data']=qe['set'](this['data'],_0x2b4ff4,e_,Jm),this['updateKey']();}get['func'](){return qe['get'](this['data'],e_,Jm);}set['depthBias'](_0x3fed13){this['_depthBias']=_0x3fed13,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x10916c){this['_depthBias'+'Slope']=_0x10916c,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x47b0e3){return this['data']=_0x47b0e3['data'],this['_depthBias']=_0x47b0e3['_depthBias'],this['_depthBias'+'Slope']=_0x47b0e3['_depthBias'+'Slope'],this['key']=_0x47b0e3['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0xf51524,_depthBias:_0x4443d8,_depthBiasSlope:_0x357852}=this,_0x17320f=_0xf51524+'-'+_0x4443d8+'-'+_0x357852;this['key']=xT['get'](_0x17320f);}['equals'](_0x412774){return this['key']===_0x412774['key'];}};h(_r,'DEFAULT',Object['freeze'](new _r())),h(_r,'NODEPTH',Object['freeze'](new _r(Wi,!(0x181f+-0x2173*-0x1+-0x3991*0x1)))),h(_r,'WRITEDEPTH',Object['freeze'](new _r(Wi,!(0x10d4+0xb68+-0x1c3c))));let Yt=_r;class Uy{constructor(){h(this,'globalId',-0x1*-0x7fc+0x268b+-0x2e87),h(this,'revision',-0x3*-0x5cf+-0x7*0x525+0x1296);}['equals'](_0x5267d8){return this['globalId']===_0x5267d8['globalId']&&this['revision']===_0x5267d8['revision'];}['copy'](_0x42b793){this['globalId']=_0x42b793['globalId'],this['revision']=_0x42b793['revision'];}['reset'](){this['globalId']=0x206d*-0x1+-0x21b5*-0x1+-0x148,this['revision']=0x1*0x2d3+-0xe00+0xb2d*0x1;}}let s_=0xb8a*-0x1+-0x205+0xd8f;class TT{constructor(){s_++,this['version']=new Uy(),this['version']['globalId']=s_;}['increment'](){this['version']['revision']++;}}class wT{constructor(_0xe8722f){this['name']=_0xe8722f,this['value']=null,this['versionObj'+'ect']=new TT();}['toJSON'](_0x30eda4){}['setValue'](_0x39e591){this['value']=_0x39e591,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class ET{constructor(_0xc7072){this['name']=_0xc7072,this['variables']=new Map();}['resolve'](_0xd38b62){return this['variables']['has'](_0xd38b62)||this['variables']['set'](_0xd38b62,new wT(_0xd38b62)),this['variables']['get'](_0xd38b62);}['removeValu'+'e'](_0x33c751){for(const _0x25baed in this['variables']){const _0x3595c6=this['variables'][_0x25baed];_0x3595c6['value']===_0x33c751&&(_0x3595c6['value']=null);}}}let bT=-0x1*0x5b4+-0x1e7*0x12+0x1*0x27f2;class Is{constructor(_0x675f9d,_0x586e0e,_0x566c9b,_0x146931){h(this,'usage',ms),(w['assert'](arguments['length']<=-0x85e+-0x3ce*0x1+-0x4*-0x30c&&(!_0x146931||typeof _0x146931=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x146931==null?void(-0xf2+0x980+0x6*-0x16d):_0x146931['usage'])??ms,this['device']=_0x675f9d,this['format']=_0x586e0e,this['numVertice'+'s']=_0x566c9b,this['id']=bT++,this['impl']=_0x675f9d['createVert'+'exBufferIm'+'pl'](this,_0x586e0e,_0x146931),this['numBytes']=_0x586e0e['verticesBy'+'teSize']?_0x586e0e['verticesBy'+'teSize']:_0x586e0e['size']*_0x566c9b,this['adjustVram'+'SizeTracki'+'ng'](_0x675f9d['_vram'],this['numBytes']));const _0x4005ca=_0x146931==null?void(-0x4b0+-0x1e5*-0xd+-0x13f1):_0x146931['data'];_0x4005ca?this['setData'](_0x4005ca):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x49ebd3=this['device'],_0x20bb78=_0x49ebd3['buffers']['indexOf'](this);_0x20bb78!==-(-0x1eff+-0x10*0x1ee+0x3de0)&&_0x49ebd3['buffers']['splice'](_0x20bb78,-0x2437+0x196*0xe+0xe04),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x49ebd3),this['adjustVram'+'SizeTracki'+'ng'](_0x49ebd3['_vram'],-this['storage']['byteLength'])),this['storage']=null;}['adjustVram'+'SizeTracki'+'ng'](_0x752d23,_0x3abf7a){w['trace'](q0,this['id']+'\x20size:\x20'+_0x3abf7a+'\x20vram.vb:\x20'+_0x752d23['vb']+'\x20=>\x20'+(_0x752d23['vb']+_0x3abf7a)),_0x752d23['vb']+=_0x3abf7a;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0xc14f25){return _0xc14f25['byteLength']!==this['numBytes']?(w['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0xc14f25['byteLength']),!(0x6*0x550+-0x1e7a+0x11*-0x15)):(this['storage']=_0xc14f25,this['unlock'](),!(0x186+-0x1605*0x1+0x147f));}}function hi(_0x5b632a){if(_0x5b632a==null)return 0x793*0x1+-0x55a+-0x239;let _0x4571c7=0x984+0x6d6*-0x1+-0x7*0x62;for(let _0x15d848=0x1db0+0x97*-0x28+0x208*-0x3,_0x11064c=_0x5b632a['length'];_0x15d848<_0x11064c;_0x15d848++)_0x4571c7=(_0x4571c7<<-0x1e*0x67+-0xb8e+0x17a5)-_0x4571c7+_0x5b632a['charCodeAt'](_0x15d848),_0x4571c7|=0x1bf7+-0x4af*0x7+0x4d2;return _0x4571c7;}function By(_0x4e4920){let _0x5b58ac=0x3*-0x1768af81+-0x23fe*-0x2b832+0x657514ac;for(let _0x3b5c17=-0x19c9+0x92*0x31+-0x229;_0x3b5c17<_0x4e4920['length'];_0x3b5c17++)_0x5b58ac^=_0x4e4920[_0x3b5c17],_0x5b58ac*=0xdea44a+0xec1fbb*-0x1+-0x435f41*-0x4;return _0x5b58ac>>>0x4*-0x719+0x6e6+0x157e;}const AT=new Bp(),CT=[-0x1*-0x619+0x13*0xbb+-0x13f8,0x14ab+-0x567*-0x3+-0x126e*0x2,0x1657*0x1+-0x23d+-0x1*0x1412,-0x24d*0x9+0x1*-0x2105+0x35c6,0x3*-0x623+-0xeb9+0x2132],PT=new Kt();class kt{constructor(_0x3bab5d,_0x11eb63,_0x466f14){this['device']=_0x3bab5d,this['_elements']=[],this['hasUv0']=!(-0x1d89*0x1+0x24dd*0x1+-0x753),this['hasUv1']=!(-0x22e1*-0x1+-0x51*0x25+-0x172b),this['hasColor']=!(0x2c5*-0x6+0xcca*0x2+-0x8f5*0x1),this['hasTangent'+'s']=!(-0x1003+0x1436*-0x1+0x243a),this['verticesBy'+'teSize']=0xeac+0x3d1*-0x1+-0x7*0x18d,this['vertexCoun'+'t']=_0x466f14,this['interleave'+'d']=_0x466f14===void(-0xb*0x3b+-0x1*-0x977+-0x2*0x377),this['instancing']=!(-0xab2*-0x1+-0x328+0x789*-0x1),this['size']=_0x11eb63['reduce']((_0x18c7ed,_0x31c6b9)=>_0x18c7ed+Math['ceil'](_0x31c6b9['components']*No[_0x31c6b9['type']]/(0x1954+0x2*-0x15d+0x19d*-0xe))*(0x6*0xfe+0x1b*-0xc5+0xed7),-0xd*-0x1c1+-0x1778+-0x39*-0x3);let _0x264c5a=0x2519+0x1102+-0x361b,_0x323fbe;for(let _0x5a37ff=-0x8cc+-0x1*-0x25f9+-0x1d2d,_0x71c0e7=_0x11eb63['length'];_0x5a37ff<_0x71c0e7;_0x5a37ff++){const _0x3521d6=_0x11eb63[_0x5a37ff];_0x323fbe=_0x3521d6['components']*No[_0x3521d6['type']],w['assert'](kt['isElementV'+'alid'](_0x3bab5d,_0x3521d6),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x3521d6['semantic']+'\x20:\x20'+cT[_0x3521d6['type']]+'\x20x\x20'+_0x3521d6['components']),_0x466f14&&(_0x264c5a=Y['roundUp'](_0x264c5a,_0x323fbe),w['assert'](_0x323fbe%(-0x3bf*0x5+-0x7b1*-0x5+-0x13b6)===-0x1a*0x13d+0x5*0x223+-0x1583*-0x1,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0x323fbe));const _0x579c4f=_0x3521d6['asInt']??!(0x1*-0x1aa7+0x1ea9*-0x1+0x3951*0x1),_0x37528f=_0x579c4f?!(-0x10d0+0x31*0xb3+-0x1172):_0x3521d6['normalize']??!(0x1cb7+0x1182+-0x2e38),_0x589e1f={'name':_0x3521d6['semantic'],'offset':_0x466f14?_0x264c5a:_0x3521d6['hasOwnProp'+'erty']('offset')?_0x3521d6['offset']:_0x264c5a,'stride':_0x466f14?_0x323fbe:_0x3521d6['hasOwnProp'+'erty']('stride')?_0x3521d6['stride']:this['size'],'dataType':_0x3521d6['type'],'numComponents':_0x3521d6['components'],'normalize':_0x37528f,'size':_0x323fbe,'asInt':_0x579c4f};this['_elements']['push'](_0x589e1f),_0x466f14?_0x264c5a+=_0x323fbe*_0x466f14:_0x264c5a+=Math['ceil'](_0x323fbe/(0xe30+-0x11b4+-0x1*-0x388))*(-0x1ee7+-0x17*-0x50+0x17bb),_0x3521d6['semantic']===is?this['hasUv0']=!(-0x3*-0x13f+-0xc28*0x2+0xe5*0x17):_0x3521d6['semantic']===ba?this['hasUv1']=!(-0x1feb+-0x1cd5*0x1+0x3cc0):_0x3521d6['semantic']===Wt?this['hasColor']=!(0x3*-0x101+-0x1*-0x1126+-0xe23):_0x3521d6['semantic']===yi&&(this['hasTangent'+'s']=!(0x2*0xd4c+-0x13*0x1b1+0x58b));}_0x466f14&&(this['verticesBy'+'teSize']=_0x264c5a),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x2ee1bc){return PT['get'](_0x2ee1bc,()=>new kt(_0x2ee1bc,[{'semantic':Mp,'components':0x4,'type':Ve},{'semantic':Dp,'components':0x4,'type':Ve},{'semantic':Ip,'components':0x4,'type':Ve},{'semantic':Ln,'components':0x4,'type':Ve}]));}static['isElementV'+'alid'](_0x2ea4b4,_0x2d6a67){const _0x136052=_0x2d6a67['components']*No[_0x2d6a67['type']];return!(_0x2ea4b4['isWebGPU']&&!CT['includes'](_0x136052));}['update'](){w['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x23c766=[],_0x5caff3=[],_0x1863b0=this['_elements']['length'];for(let _0x275dba=0x1320+-0x522+0x6*-0x255;_0x275dba<_0x1863b0;_0x275dba++){const {name:_0x46db00,dataType:_0x52cbf9,numComponents:_0x1dff66,normalize:_0x4bf075,offset:_0x36d8e5,stride:_0x5a35c8,size:_0x582b9b,asInt:_0xd25aca}=this['_elements'][_0x275dba],_0x45416d=_0x46db00+_0x52cbf9+_0x1dff66+_0x4bf075+_0xd25aca;_0x23c766['push'](_0x45416d);const _0x55eb96=_0x45416d+_0x36d8e5+_0x5a35c8+_0x582b9b;_0x5caff3['push'](_0x55eb96);}_0x23c766['sort']();const _0x782df=_0x23c766['join']();this['batchingHa'+'sh']=hi(_0x782df),this['shaderProc'+'essingHash'+'String']=_0x782df,this['renderingH'+'ashString']=_0x5caff3['join']('_'),this['renderingH'+'ash']=AT['get'](this['renderingH'+'ashString']);}}const MT=new Bp(),zh=class zh{constructor(_0x500d27={}){h(this,'_func'),h(this,'_ref'),h(this,'_fail'),h(this,'_zfail'),h(this,'_zpass'),h(this,'_readMask'),h(this,'_writeMask'),h(this,'_dirty',!(0x10c9+-0x2*0xb2+-0xf65)),h(this,'_key'),(this['_func']=_0x500d27['func']??Wi,this['_ref']=_0x500d27['ref']??0x74*-0x45+0x1b03+0x441,this['_readMask']=_0x500d27['readMask']??-0x3f9+0x10d3*-0x1+-0x31d*-0x7,this['_writeMask']=_0x500d27['writeMask']??0x1d9c+0x846*0x2+-0x2d29,this['_fail']=_0x500d27['fail']??xn,this['_zfail']=_0x500d27['zfail']??xn,this['_zpass']=_0x500d27['zpass']??xn,this['_evalKey']());}set['func'](_0x9855a4){this['_func']=_0x9855a4,this['_dirty']=!(0x1*-0x43f+0xf00+0x1*-0xac1);}get['func'](){return this['_func'];}set['ref'](_0xea8d8){this['_ref']=_0xea8d8,this['_dirty']=!(0x15c7+0x4b7*-0x7+-0xb3a*-0x1);}get['ref'](){return this['_ref'];}set['fail'](_0x56ed90){this['_fail']=_0x56ed90,this['_dirty']=!(-0x1540+0x26a4+0x9f*-0x1c);}get['fail'](){return this['_fail'];}set['zfail'](_0x25f795){this['_zfail']=_0x25f795,this['_dirty']=!(0xd0d+0x1984+-0x2691);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x15f131){this['_zpass']=_0x15f131,this['_dirty']=!(-0x6c5*0x3+0xaf7+0x958);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x340a82){this['_readMask']=_0x340a82,this['_dirty']=!(-0x80f*-0x1+-0x3fc+-0x413*0x1);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x391c75){this['_writeMask']=_0x391c75,this['_dirty']=!(0x1a1*0x17+-0x2007+-0x2b8*0x2);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x321859,_ref:_0x299f5f,_fail:_0x203068,_zfail:_0x1ce37c,_zpass:_0x4af8eb,_readMask:_0x4591cd,_writeMask:_0x59aa55}=this,_0x474833=_0x321859+','+_0x299f5f+','+_0x203068+','+_0x1ce37c+','+_0x4af8eb+','+_0x4591cd+','+_0x59aa55;this['_key']=MT['get'](_0x474833),this['_dirty']=!(0x16e+-0x4d2+-0x4f*-0xb);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x974b53){return this['_func']=_0x974b53['_func'],this['_ref']=_0x974b53['_ref'],this['_readMask']=_0x974b53['_readMask'],this['_writeMask']=_0x974b53['_writeMask'],this['_fail']=_0x974b53['_fail'],this['_zfail']=_0x974b53['_zfail'],this['_zpass']=_0x974b53['_zpass'],this['_dirty']=_0x974b53['_dirty'],this['_key']=_0x974b53['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};h(zh,'DEFAULT',Object['freeze'](new zh()));let pi=zh;const ql=new Set(),Vh=class Vh extends me{constructor(_0x4951df,_0x2240da){var _0x5e65c4,_0x38011d,_0x7f28b3,_0x4f6e19,_0x39458f,_0x2b87d9;super(),h(this,'canvas'),h(this,'backBuffer',null),h(this,'backBuffer'+'Size',new J()),h(this,'backBuffer'+'Format'),h(this,'backBuffer'+'Antialias',!(-0x5a8*-0x6+0x67+-0x2256)),h(this,'isWebGPU',!(0x119c+0x1*-0xae7+-0x6b4)),h(this,'isWebGL2',!(0x14fd+-0x436*0x1+-0x10c6)),h(this,'isHdr',!(0x2*0x10a9+-0x1e16+-0x33b)),h(this,'scope'),h(this,'maxIndirec'+'tDrawCount',0x5ce+0x1c7f+0x1e4d*-0x1),h(this,'maxAnisotr'+'opy'),h(this,'maxCubeMap'+'Size'),h(this,'maxTexture'+'Size'),h(this,'maxVolumeS'+'ize'),h(this,'maxColorAt'+'tachments',0x1*0x805+0x134+0x1*-0x938),h(this,'precision'),h(this,'samples'),h(this,'maxSamples',-0x375*-0x1+-0x1655*-0x1+-0x19c9*0x1),h(this,'supportsSt'+'encil'),h(this,'supportsCo'+'mpute',!(-0xdb7*-0x1+0x1*0x196d+-0x2723)),h(this,'supportsSt'+'orageTextu'+'reRead',!(-0x270*-0x10+0x47e+-0x2b7d)),h(this,'renderTarg'+'et',null),h(this,'shaders',[]),h(this,'textures',[]),h(this,'targets',new Set()),h(this,'renderVers'+'ion',-0x20b1*0x1+0x1*0x143f+-0x426*-0x3),h(this,'renderPass'+'Index'),h(this,'insideRend'+'erPass',!(-0x1*-0x22c9+0x1c46+-0x3f0e)),h(this,'supportsUn'+'iformBuffe'+'rs',!(-0x1a88+-0xc*-0x125+0xccd)),h(this,'supportsCl'+'ipDistance'+'s',!(-0x2*0x1b4+0x1ae6+0x7*-0x35b)),h(this,'textureFlo'+'atRenderab'+'le'),h(this,'textureHal'+'fFloatRend'+'erable'),h(this,'textureRG1'+'1B10Render'+'able',!(0x2*-0x1025+-0x4*-0xec+-0x1*-0x1c9b)),h(this,'textureFlo'+'atFilterab'+'le',!(0x1a77+0x1a28+0x5*-0xa86)),h(this,'quadVertex'+'Buffer'),h(this,'blendState',new pt()),h(this,'depthState',new Yt()),h(this,'stencilEna'+'bled',!(0x1e27+0x2*-0xee9+-0x7*0xc)),h(this,'stencilFro'+'nt',new pi()),h(this,'stencilBac'+'k',new pi()),h(this,'dynamicBuf'+'fers'),h(this,'gpuProfile'+'r'),h(this,'defaultCle'+'arOptions',{'color':[0x4a*0x25+0x5f2+-0x354*0x5,-0x1886+-0x10ee*0x1+0x2974,-0x2*-0x10b+0xc83*0x2+-0x1b1c,0x1cdf+0x422+0xb00*-0x3],'depth':0x1,'stencil':0x0,'flags':jo|Yo}),h(this,'clientRect',{'width':0x0,'height':0x0}),h(this,'_shadersDi'+'rty',!(0x36*-0x3+-0x1c1e+0x1cc1)),h(this,'capsDefine'+'s',new Map()),h(this,'mapsToClea'+'r',new Set()),(this['canvas']=_0x4951df,'setAttribu'+'te'in _0x4951df&&_0x4951df['setAttribu'+'te']('data-engin'+'e','PlayCanvas'+'\x20'+hn),this['initOption'+'s']={..._0x2240da},(_0x5e65c4=this['initOption'+'s'])['alpha']??(_0x5e65c4['alpha']=!(0x181*-0x2+-0x1bfc+0x1efe)),(_0x38011d=this['initOption'+'s'])['depth']??(_0x38011d['depth']=!(0xc1*0x5+-0x2058+0x1c93)),(_0x7f28b3=this['initOption'+'s'])['stencil']??(_0x7f28b3['stencil']=!(0xa*0x13+0x1dc4+0x5*-0x61a)),(_0x4f6e19=this['initOption'+'s'])['antialias']??(_0x4f6e19['antialias']=!(-0x2*-0x70f+-0x218*-0x11+-0x31b6)),(_0x39458f=this['initOption'+'s'])['powerPrefe'+'rence']??(_0x39458f['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x2b87d9=this['initOption'+'s'])['displayFor'+'mat']??(_0x2b87d9['displayFor'+'mat']=oT),this['_maxPixelR'+'atio']=Ae['browser']?Math['min'](-0x53*-0x23+-0x3*0x82+0x2*-0x4e9,window['devicePixe'+'lRatio']):0x879+0x250c+-0x2d84,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=-0x1db0+0x49*0x1a+0x1646,this['_shaderSwi'+'tchesPerFr'+'ame']=0x2ad+0x1*0x2065+-0x86*0x43,this['_primsPerF'+'rame']=[]);for(let _0x4b3c3e=cd;_0x4b3c3e<=oa;_0x4b3c3e++)this['_primsPerF'+'rame'][_0x4b3c3e]=-0x1ed2+0x467*-0x7+0x1fd*0x1f;this['_renderTar'+'getCreatio'+'nTime']=0x55*-0x3+-0x37*0x68+-0x5*-0x4ab,this['scope']=new ET('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](-0x233*0xf+-0x496+-0x1*-0x2593);}['postInit'](){const _0x2e9890=new kt(this,[{'semantic':Me,'components':0x2,'type':Ve}]),_0x95003d=new Float32Array([-(-0x147a+-0xfce+0x2449),-(-0xb95*0x3+-0x20fb+0x9ad*0x7),-0x124a*-0x2+-0xa6f*0x1+-0xd12*0x2,-(0x7b1*-0x3+0x19b7+-0x2a3),-(0x3f8*-0x4+-0x7a2*-0x1+0x83f),-0x1010+-0x25ae+-0x1*-0x35bf,0x21f5+-0x1c46+-0x5ae,-0x23d1+0x1faf*-0x1+0xb*0x623]);this['quadVertex'+'Buffer']=new Is(this,_0x2e9890,0x15a1+-0x242d+-0x2*-0x748,{'data':_0x95003d});}['initCapsDe'+'fines'](){const {capsDefines:_0x3d17f3}=this;_0x3d17f3['clear'](),this['textureFlo'+'atFilterab'+'le']&&_0x3d17f3['set']('CAPS_TEXTU'+'RE_FLOAT_F'+'ILTERABLE',''),this['textureFlo'+'atRenderab'+'le']&&_0x3d17f3['set']('CAPS_TEXTU'+'RE_FLOAT_R'+'ENDERABLE','');}['destroy'](){var _0x47f22f,_0x44d462,_0x5519bf;this['fire']('destroy'),(_0x47f22f=this['quadVertex'+'Buffer'])==null||_0x47f22f['destroy'](),this['quadVertex'+'Buffer']=null,(_0x44d462=this['dynamicBuf'+'fers'])==null||_0x44d462['destroy'](),this['dynamicBuf'+'fers']=null,(_0x5519bf=this['gpuProfile'+'r'])==null||_0x5519bf['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x1aed44){this['fire']('destroy:sh'+'ader',_0x1aed44);const _0x381822=this['shaders']['indexOf'](_0x1aed44);_0x381822!==-(-0xef*0xf+0x23ed+-0x15eb)&&this['shaders']['splice'](_0x381822,-0x8*0x398+-0x14b0+0x3171);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x302478;this['contextLos'+'t']=!(-0x3b5*0x7+0x2385+-0x46*0x23),this['backBuffer'+'Size']['set'](-(0x259d+0x2*0x74c+-0x3434),-(0x1099*0x1+0x193d+-0x29d5));for(const _0x4169de of this['textures'])_0x4169de['loseContex'+'t']();for(const _0x568e85 of this['buffers'])_0x568e85['loseContex'+'t']();for(const _0x413eec of this['targets'])_0x413eec['loseContex'+'t']();(_0x302478=this['gpuProfile'+'r'])==null||_0x302478['loseContex'+'t']();}['restoreCon'+'text'](){var _0x4c1770,_0x4b9688;this['contextLos'+'t']=!(0x2cc+-0x1ca2*0x1+0x19d7),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x5ac707 of this['buffers'])_0x5ac707['unlock']();(_0x4b9688=(_0x4c1770=this['gpuProfile'+'r'])==null?void(-0x1b59+-0xd*-0x31+0x18dc):_0x4c1770['restoreCon'+'text'])==null||_0x4b9688['call'](_0x4c1770);}['toJSON'](_0x2050fd){}['initialize'+'ContextCac'+'hes'](){this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(0xfc+0x1*-0x56+-0xa6),this['shaderAsyn'+'cCompile']=!(0x20cb+-0x1af6+-0x5d4),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new pt(),this['depthState']=new Yt(),this['cullMode']=pa,this['vx']=this['vy']=this['vw']=this['vh']=0x212+0x20da+0x2*-0x1176,this['sx']=this['sy']=this['sw']=this['sh']=0x2*0x5d+0x1*-0x1442+0x1388,this['blendColor']=new ie(0xc2*-0x11+0x25f*0x9+-0x875,0x3*-0x1d+-0x7*-0x2b1+-0x1280,-0xfd6+0x87*0x2c+-0x2*0x3af,0xfdf+-0x1123+-0x51*-0x4);}['setStencil'+'State'](_0x597ce1,_0x46c2eb){w['assert'](!(0x1bd2+0x1e*-0x25+-0x1*0x177b));}['setBlendSt'+'ate'](_0x401180){w['assert'](!(-0x22f5+-0x1ecc+0x41c2));}['setBlendCo'+'lor'](_0x3dfd95,_0x139372,_0x9bbf0b,_0x300641){w['assert'](!(0x4aa*-0x1+0x11*0x157+-0x121c));}['setDepthSt'+'ate'](_0x55d157){w['assert'](!(-0x142*0x18+0x6de+0x1753));}['setCullMod'+'e'](_0x365cba){w['assert'](!(-0x24+0x186f+-0x184a));}['setRenderT'+'arget'](_0x29b516){this['renderTarg'+'et']=_0x29b516;}['setVertexB'+'uffer'](_0x26928b){_0x26928b&&this['vertexBuff'+'ers']['push'](_0x26928b);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=0xe2f+0xc8b*-0x2+0xae7;}['getIndirec'+'tDrawSlot'](){return 0x20c7+0x19d+-0x2264;}get['indirectDr'+'awBuffer'](){return null;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x58cdfa){if(_0x58cdfa['initialize'+'d'])return;const _0x2885fb=de();this['fire']('fbo:create',{'timestamp':_0x2885fb,'target':this}),_0x58cdfa['init'](),this['targets']['add'](_0x58cdfa),this['_renderTar'+'getCreatio'+'nTime']+=de()-_0x2885fb;}['draw'](_0xf83920,_0x10c8aa,_0x3fb62b,_0x4f5a49,_0x1d6153=!(-0xe1+-0x1d6+0x2b7*0x1),_0x17271f=!(-0x2404*-0x1+-0x18*0x124+-0x4*0x229)){w['assert'](!(-0x22cd+-0xd11+0x2fdf));}['_isBrowser'+'Interface'](_0x21a0fa){return this['_isImageBr'+'owserInter'+'face'](_0x21a0fa)||this['_isImageCa'+'nvasInterf'+'ace'](_0x21a0fa)||this['_isImageVi'+'deoInterfa'+'ce'](_0x21a0fa);}['_isImageBr'+'owserInter'+'face'](_0x3d41b2){return typeof ImageBitmap<'u'&&_0x3d41b2 instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x3d41b2 instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x496780){return typeof HTMLCanvasElement<'u'&&_0x496780 instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x1e6705){return typeof HTMLVideoElement<'u'&&_0x1e6705 instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x341836,_0x502838){const _0x1344a7=Math['min'](this['_maxPixelR'+'atio'],Ae['browser']?window['devicePixe'+'lRatio']:-0x24ae+-0x455*-0x5+-0x1*-0xf06),_0x57e729=Math['floor'](_0x341836*_0x1344a7),_0x1af1d6=Math['floor'](_0x502838*_0x1344a7);(_0x57e729!==this['canvas']['width']||_0x1af1d6!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x57e729,_0x1af1d6);}['setResolut'+'ion'](_0x38cea9,_0x1f0d37){this['canvas']['width']=_0x38cea9,this['canvas']['height']=_0x1f0d37,this['fire'](Vh['EVENT_RESI'+'ZE'],_0x38cea9,_0x1f0d37);}['update'](){this['updateClie'+'ntRect']();}['updateClie'+'ntRect'](){if(Ae['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x5996b2=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x5996b2['width'],this['clientRect']['height']=_0x5996b2['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x104696){w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(0x1f23+0x1e4e+-0x3d70);}set['maxPixelRa'+'tio'](_0x3dc68d){this['_maxPixelR'+'atio']=_0x3dc68d;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0xa361ef){}['endRenderP'+'ass'](_0x123f59){}['startCompu'+'tePass'](_0x270073){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=0x20ea+0x1f66+-0x10*0x405,this['renderVers'+'ion']++,w['call'](()=>{if(mi['get'](Z0)){const _0x4e24d9=this['textures']['slice']();_0x4e24d9['sort']((_0x41682e,_0x609034)=>_0x609034['gpuSize']-_0x41682e['gpuSize']),w['log']('Textures:\x20'+_0x4e24d9['length']);let _0x51a5a6=-0x5d7+-0x6*0x43c+-0x1f3f*-0x1;_0x4e24d9['forEach']((_0x33cfbf,_0x5291d9)=>{const _0x460461=_0x33cfbf['gpuSize'];_0x51a5a6+=_0x460461,w['log'](_0x5291d9+'.\x20'+_0x33cfbf['name']+'\x20'+_0x33cfbf['width']+'x'+_0x33cfbf['height']+'\x20VRAM:\x20'+(_0x460461/(0x24d*0x1+0x1184+-0x1*0xfd1)/(-0x107*-0x26+0x0+-0x82*0x45))['toFixed'](0x248d+0x4c4+-0x19*0x1a7)+'\x20MB');}),w['log']('Total:\x20'+(_0x51a5a6/(-0x1e10+-0x1*-0x2303+-0xf3)/(-0x6d2+-0x50d*0x1+0xfdf))['toFixed'](-0x109d+-0x1*0x7b0+0x184f)+'MB');}});}['frameEnd'](){this['mapsToClea'+'r']['forEach'](_0x56d2d1=>_0x56d2d1['clear']()),this['mapsToClea'+'r']['clear']();}['computeDis'+'patch'](_0x1710e6,_0x40f23b='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x54aea7=[In,nt,Xt],_0x64d903=!(-0x1d9b+-0x1*-0x225a+0xf3*-0x5),_0x45f48d=-0x1*-0x1499+-0xef1+-0x5a7*0x1){for(let _0x4da733=0x270c+0x11*0xe2+-0x360e;_0x4da733<_0x54aea7['length'];_0x4da733++){const _0xf6ed22=_0x54aea7[_0x4da733];switch(_0xf6ed22){case In:{if(this['textureRG1'+'1B10Render'+'able'])return _0xf6ed22;break;}case nt:if(this['textureHal'+'fFloatRend'+'erable'])return _0xf6ed22;break;case Xt:if(this['isWebGPU']&&_0x45f48d>0x99d*0x1+0x11*0x65+-0x1051)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0x64d903||this['textureFlo'+'atFilterab'+'le']))return _0xf6ed22;break;}}}['validateAt'+'tributes'](_0x43d461,_0x9a8901,_0x10ab4a){w['call'](()=>{ql['clear'](),_0x9a8901==null||_0x9a8901['elements']['forEach'](_0x1a748b=>ql['add'](Le[_0x1a748b['name']])),_0x10ab4a==null||_0x10ab4a['elements']['forEach'](_0x4c8eff=>ql['add'](Le[_0x4c8eff['name']]));for(const [_0x34663d,_0x4715c7]of _0x43d461['attributes'])ql['has'](_0x34663d)||w['errorOnce']('Vertex\x20att'+'ribute\x20['+_0x4715c7+(']\x20at\x20locat'+'ion\x20')+_0x34663d+('\x20required\x20'+'by\x20the\x20sha'+'der\x20is\x20not'+'\x20present\x20i'+'n\x20the\x20curr'+'ently\x20assi'+'gned\x20verte'+'x\x20buffers,'+'\x20while\x20ren'+'dering\x20[')+Q['toString']()+']',{'shader':_0x43d461,'vb0Format':_0x9a8901,'vb1Format':_0x10ab4a});});}};h(Vh,'EVENT_RESI'+'ZE','resizecanv'+'as');let $e=Vh,DT=-0x102a+0x8d2*-0x1+0x18fc;class gt{constructor(_0x1c8a43={}){h(this,'name'),h(this,'_device'),h(this,'_colorBuff'+'er'),h(this,'_colorBuff'+'ers'),h(this,'_depthBuff'+'er'),h(this,'_depth'),h(this,'_stencil'),h(this,'_samples'),h(this,'autoResolv'+'e'),h(this,'_face'),h(this,'_mipLevel'),h(this,'_mipmaps'),h(this,'flipY');var _0x1020b9,_0x22f5f8,_0x4e232a,_0x529094,_0x38a9a2,_0x521e05;w['assert'](!(_0x1c8a43 instanceof $e),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=DT++;const _0x856277=((_0x1020b9=_0x1c8a43['colorBuffe'+'r'])==null?void(0x256d+0x1*0x44e+-0x29bb*0x1):_0x1020b9['device'])??((_0x22f5f8=_0x1c8a43['colorBuffe'+'rs'])==null?void(-0xac*-0x3a+-0x1a87*0x1+-0xc71):_0x22f5f8[-0x1c3a+0x2*0x566+-0x8b7*-0x2]['device'])??((_0x4e232a=_0x1c8a43['depthBuffe'+'r'])==null?void(-0x1*-0x4b1+0x21*-0x52+0x5e1):_0x4e232a['device'])??_0x1c8a43['graphicsDe'+'vice'];w['assert'](_0x856277,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x856277;const {maxSamples:_0x37de41}=this['_device'];if(this['_samples']=Math['min'](_0x1c8a43['samples']??-0x4*-0x277+0x2f4*0x2+0x327*-0x5,_0x37de41),_0x856277['isWebGPU']&&(this['_samples']=this['_samples']>0x9e*0x1+-0x1*-0x1cfb+-0x1d98?_0x37de41:-0x6e*0x9+0x50*-0xb+0x74f*0x1),this['_colorBuff'+'er']=_0x1c8a43['colorBuffe'+'r'],_0x1c8a43['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x1c8a43['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x1c8a43['depthBuffe'+'r'],this['_face']=_0x1c8a43['face']??0xf72+-0x5*0x61f+-0xf29*-0x1,this['_depthBuff'+'er']){const _0x57bdc5=this['_depthBuff'+'er']['_format'];_0x57bdc5===$i||_0x57bdc5===vn?(this['_depth']=!(-0x51b+-0x7a*-0x1e+0x1*-0x931),this['_stencil']=!(0x2*0x7b9+0x1176+0x1*-0x20e7)):_0x57bdc5===sd?(this['_depth']=!(-0xf4*0x1+-0xf49+0x1*0x103d),this['_stencil']=!(-0x1*0x1454+0x129d+0x1b7)):_0x57bdc5===Ji&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>0x3*0x1c5+0x1d05+-0x2253?(this['_depth']=!(0xf*0x3+0x1981+-0x19ae),this['_stencil']=!(0xf*-0x134+-0x2001+0x320e)):(w['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(-0x1*-0x26a5+-0x4*-0x3cd+-0x35d8),this['_stencil']=!(-0x16a9+-0x2479*0x1+0x1*0x3b23));}else this['_depth']=_0x1c8a43['depth']??!(0xe8f+0x433+-0x7*0x2ae),this['_stencil']=_0x1c8a43['stencil']??!(-0x151e+0x1*-0x129a+-0x1*-0x27b9);_0x1c8a43['colorBuffe'+'rs']&&(w['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x1c8a43['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x1c8a43['colorBuffe'+'rs'][-0x1cb3+0x14cc+0x77*0x11])),this['autoResolv'+'e']=_0x1c8a43['autoResolv'+'e']??!(0x168c+0xeed+-0x2579),this['name']=_0x1c8a43['name'],this['name']||(this['name']=(_0x529094=this['_colorBuff'+'er'])==null?void(0x7*-0x328+-0x2bf*0x2+-0x1b96*-0x1):_0x529094['name']),this['name']||(this['name']=(_0x38a9a2=this['_depthBuff'+'er'])==null?void(-0x1f36+0x51f*-0x7+0x430f*0x1):_0x38a9a2['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x1c8a43['flipY']??!(-0x31*0x70+0x200a+-0x1*0xa99),this['_mipLevel']=_0x1c8a43['mipLevel']??0xc33*0x2+0x18b0+0x3116*-0x1,this['_mipLevel']>0x84*-0xe+0x1*0x1d1b+-0x15e3&&this['_depth']&&(w['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x1c8a43}),this['_mipLevel']=0xda2+0x1*0x22da+-0x307c*0x1),this['_mipmaps']=_0x1c8a43['mipLevel']===void(-0x20ff*0x1+-0x16a9+0x37a8),this['validateMr'+'t'](),this['impl']=_0x856277['createRend'+'erTargetIm'+'pl'](this),w['trace'](Mm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x521e05=this['_colorBuff'+'ers'])!=null&&_0x521e05['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){w['trace'](Mm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x104cc4=this['_device'];_0x104cc4&&(_0x104cc4['targets']['delete'](this),_0x104cc4['renderTarg'+'et']===this&&_0x104cc4['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x26666f=this['_device'];_0x26666f&&this['impl']['destroy'](_0x26666f);}['destroyTex'+'tureBuffer'+'s'](){var _0x3d2b2f,_0x363fa2;(_0x3d2b2f=this['_depthBuff'+'er'])==null||_0x3d2b2f['destroy'](),this['_depthBuff'+'er']=null,(_0x363fa2=this['_colorBuff'+'ers'])==null||_0x363fa2['forEach'](_0x3f1750=>{_0x3f1750['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x5c42eb,_0x3130fe){var _0x801383,_0x491367;if(this['width']!==_0x5c42eb||this['height']!==_0x3130fe){if(this['mipLevel']>0x1*0x1f3e+0x186c+-0x7d*0x72){w['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0xccf4b3=this['_device'];this['destroyFra'+'meBuffers'](),_0xccf4b3['renderTarg'+'et']===this&&_0xccf4b3['setRenderT'+'arget'](null),(_0x801383=this['_depthBuff'+'er'])==null||_0x801383['resize'](_0x5c42eb,_0x3130fe),(_0x491367=this['_colorBuff'+'ers'])==null||_0x491367['forEach'](_0x3524c4=>{_0x3524c4['resize'](_0x5c42eb,_0x3130fe);}),this['validateMr'+'t'](),this['impl']=_0xccf4b3['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){w['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x44ffeb,height:_0x56245d,cubemap:_0x16a2a8,volume:_0xbaf77d}=this['_colorBuff'+'ers'][0x376+-0x2ce+0x7*-0x18];for(let _0x4063e3=-0x19*-0xeb+-0x1*0xde5+-0x7*0x14b;_0x4063e3<this['_colorBuff'+'ers']['length'];_0x4063e3++){const _0x3b6665=this['_colorBuff'+'ers'][_0x4063e3];w['assert'](_0x3b6665['width']===_0x44ffeb,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),w['assert'](_0x3b6665['height']===_0x56245d,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),w['assert'](_0x3b6665['cubemap']===_0x16a2a8,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),w['assert'](_0x3b6665['volume']===_0xbaf77d,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x265fbd=!(-0x77d+0x4a+0x733),_0x19dd93=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>0x1418*0x1+0x37c*0xb+-0xbaf*0x5&&(Q['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x265fbd?'[color]':'')+':'+(_0x19dd93?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x265fbd,_0x19dd93),Q['popGpuMark'+'er'](this['_device']));}['copy'](_0xbc00c3,_0x2e8108,_0x5a6fbe){if(!this['_device']){if(_0xbc00c3['_device'])this['_device']=_0xbc00c3['_device'];else return w['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(-0x24bb*-0x1+0x471*-0x1+-0x1b3*0x13);}Q['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0xbc00c3['name']+'->'+this['name']);const _0xba6ebc=this['_device']['copyRender'+'Target'](_0xbc00c3,this,_0x2e8108,_0x5a6fbe);return Q['popGpuMark'+'er'](this['_device']),_0xba6ebc;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x371bbf){var _0x28d9b1;return(_0x28d9b1=this['_colorBuff'+'ers'])==null?void(-0x11ff+0x2652+0x1*-0x1453):_0x28d9b1[_0x371bbf];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x58bbbd,_0x586432;let _0x582905=((_0x58bbbd=this['_colorBuff'+'er'])==null?void(0x23*0x4+0x15*0x1ab+-0x2393):_0x58bbbd['width'])||((_0x586432=this['_depthBuff'+'er'])==null?void(-0x43*-0x65+-0xd*-0x54+0x10f*-0x1d):_0x586432['width'])||this['_device']['width'];return this['_mipLevel']>0x2449*0x1+-0x4a9+-0x1fa0&&(_0x582905=Xi['calcLevelD'+'imension'](_0x582905,this['_mipLevel'])),_0x582905;}get['height'](){var _0x31d0fa,_0x1935da;let _0x1d088a=((_0x31d0fa=this['_colorBuff'+'er'])==null?void(-0x2*0x100a+0x1*0x1a1f+0x19*0x3d):_0x31d0fa['height'])||((_0x1935da=this['_depthBuff'+'er'])==null?void(-0x8c*-0x24+0xaa9+-0x1e59*0x1):_0x1935da['height'])||this['_device']['height'];return this['_mipLevel']>-0x2277+0xbfd*-0x1+0x2e74&&(_0x1d088a=Xi['calcLevelD'+'imension'](_0x1d088a,this['_mipLevel'])),_0x1d088a;}['isColorBuf'+'ferSrgb'](_0x262cc3=0x2c*-0x57+0x18f6+-0x501*0x2){if(this['device']['backBuffer']===this)return fh(this['device']['backBuffer'+'Format']);const _0x11127b=this['getColorBu'+'ffer'](_0x262cc3);return _0x11127b?fh(_0x11127b['format']):!(-0x679*-0x2+0x1fdd+0x25*-0x136);}}const IT={'equals'(_0x18e6a3,_0x1c36f3){if(_0x18e6a3['length']!==_0x1c36f3['length'])return!(-0x1*-0x697+-0x2*-0x2ed+-0xc70);for(let _0x588045=0x7c9*-0x5+-0x15ae+0x3c9b;_0x588045<_0x18e6a3['length'];_0x588045++)if(_0x18e6a3[_0x588045]!==_0x1c36f3[_0x588045])return!(-0x1*-0x25bd+0x2606+-0x4bc2*0x1);return!(0x32*-0xc1+0x266*0x2+0x2*0x1073);}};class wd{constructor(){h(this,'_refCount',0x2172+-0x1a9e+-0x6d4);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class LT extends wd{constructor(_0x2ea74d){super(),h(this,'object'),(this['object']=_0x2ea74d,this['incRefCoun'+'t']());}}class RT{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x392b34=>{var _0x39caa3;(_0x39caa3=_0x392b34['object'])==null||_0x39caa3['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x38a088){const _0x816148=this['cache']['get'](_0x38a088);return _0x816148?(_0x816148['incRefCoun'+'t'](),_0x816148['object']):null;}['set'](_0x447d4a,_0x5bba71){w['assert'](!this['cache']['has'](_0x447d4a),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x447d4a,'object':_0x5bba71}),this['cache']['set'](_0x447d4a,new LT(_0x5bba71));}['release'](_0x139698){var _0x18fde1;const _0x2f6091=this['cache']['get'](_0x139698);_0x2f6091?(_0x2f6091['decRefCoun'+'t'](),_0x2f6091['refCount']===0x23d*-0xc+-0x1dfc+0x38d8&&(this['cache']['delete'](_0x139698),(_0x18fde1=_0x2f6091['object'])==null||_0x18fde1['destroy']())):w['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x139698});}}class OT extends RT{['loseContex'+'t'](_0x427ab3){this['clear']();}}const FT=new Kt(),Fd=_0x1dcc34=>FT['get'](_0x1dcc34,()=>new OT()),At=[];At[Xs]=0x133f+-0x1bfe*-0x1+-0x2f3c,At[ga]=-0x253a+-0xf4b*-0x1+0x15f1,At[ds]=0x71e*-0x4+-0xea9+0x4*0xac9,At[Rn]=-0x645+0x22c*-0x7+0x157d,At[_a]=0x71b*0x2+0x23dd+-0x3a*0xdd,At[ca]=-0x1b1a+-0xcfb*0x2+0x2*0x1a89,At[ha]=0x5cb*-0x1+-0x22f2*-0x1+-0x1d24,At[da]=0x677*0x6+0x7ae*-0x2+-0x176a,At[Tn]=-0x19e6+0x199c*-0x1+0x3383,At[tl]=0x1d10+-0x34d*0x6+0x1*-0x940,At[sl]=0x7c2+0x988+0x1147*-0x1,At[il]=0x73+-0x246c+-0x1*-0x23fd,At[_h]=-0x1622+0x951+0x12b*0xb,At[On]=0xb*-0x1eb+-0xc6*-0x17+0x1*0x35b,At[li]=0x1ad+0x2*-0x93+-0x77,At[Fn]=0xc41+-0x242d+0x17ed,At[Nn]=-0x1254+0x21e0+-0xf8a,At[kn]=-0xfcf+-0xc9f+0x1c71,At[Un]=-0x1c8*-0x6+0x83+-0xb2f;class dt{constructor(_0x3bf586,_0x2c634f,_0x318669=-0x1d92+0x269c+-0x90a){h(this,'name'),h(this,'type'),h(this,'byteSize'),h(this,'offset'),h(this,'scopeId'),h(this,'count'),h(this,'numCompone'+'nts');if(this['shortName']=_0x3bf586,this['name']=_0x318669?_0x3bf586+'[0]':_0x3bf586,this['type']=_0x2c634f,this['numCompone'+'nts']=At[_0x2c634f],w['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x2c634f+'\x20used\x20for\x20'+_0x3bf586),this['updateType']=_0x2c634f,_0x318669>0x1*-0x232f+-0x54e+0x287d)switch(_0x2c634f){case Xs:this['updateType']=ud;break;case _a:this['updateType']=Bn;break;case Fn:this['updateType']=_d;break;case Tn:this['updateType']=gd;break;case ga:this['updateType']=pd;break;case ca:this['updateType']=zn;break;case Nn:this['updateType']=Sd;break;case tl:this['updateType']=yd;break;case ds:this['updateType']=md;break;case ha:this['updateType']=Vn;break;case kn:this['updateType']=vd;break;case sl:this['updateType']=xd;break;case Rn:this['updateType']=Lp;break;case da:this['updateType']=gh;break;case Un:this['updateType']=Rp;break;case il:this['updateType']=Op;break;case li:this['updateType']=wy;break;default:w['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+Ey[_0x2c634f]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x3bf586+'\x27.'),w['call'](()=>{this['invalid']=!(0x2*-0x7ac+0x629+0x92f);});break;}this['count']=_0x318669,w['assert'](!isNaN(_0x318669),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x3bf586+'['+_0x318669+']'),w['call'](()=>{isNaN(_0x318669)&&(this['invalid']=!(-0x14c4+-0x8d1*0x1+0x1d95));});let _0x1db8f5=this['numCompone'+'nts'];_0x318669&&(_0x1db8f5=Y['roundUp'](_0x1db8f5,0x1*-0xe83+0xca3+0x79*0x4)),this['byteSize']=_0x1db8f5*(-0x1f39*-0x1+0x703+-0x2638*0x1),_0x318669&&(this['byteSize']*=_0x318669),w['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x2c634f+'\x20used\x20for\x20'+_0x3bf586);}get['isArrayTyp'+'e'](){return this['count']>0x3fe+0x150c+0x190a*-0x1;}['calculateO'+'ffset'](_0x272c05){let _0x2ff242=this['byteSize']<=0x2405+-0x97a+-0x1a83?this['byteSize']:0xcd2+0x5*0x30d+-0x1*0x1c03;this['count']&&(_0x2ff242=-0x1370+-0x2b*-0x1+-0x1355*-0x1),_0x272c05=Y['roundUp'](_0x272c05,_0x2ff242),this['offset']=_0x272c05/(0x1f7e*-0x1+0x1ec*-0x8+-0x2*-0x1771);}}class zy{constructor(_0x544aa4,_0x475f94){h(this,'byteSize',-0x8a3+0x25b7+0x2*-0xe8a),h(this,'map',new Map()),(this['scope']=_0x544aa4['scope'],this['uniforms']=_0x475f94);let _0x237f4a=0xf44+-0x1*-0x1a19+-0x295d;for(let _0x3ca5aa=-0x45*-0x59+-0x1e2a+0x62d;_0x3ca5aa<_0x475f94['length'];_0x3ca5aa++){const _0x3eef0c=_0x475f94[_0x3ca5aa];_0x3eef0c['calculateO'+'ffset'](_0x237f4a),_0x237f4a=_0x3eef0c['offset']*(-0x1465+-0x1*0x1537+0x48*0x94)+_0x3eef0c['byteSize'],_0x3eef0c['scopeId']=this['scope']['resolve'](_0x3eef0c['name']),this['map']['set'](_0x3eef0c['name'],_0x3eef0c);}this['byteSize']=Y['roundUp'](_0x237f4a,0x378+-0x2fc+-0x6c);}['get'](_0x4663a8){return this['map']['get'](_0x4663a8);}}const Lr='Preprocess'+'or',Fs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,Nd=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,i_=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,kd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,Ud=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,Bd=/(endif|else|elif)(?:[ \t]+([^\r\n]*))?\r?\n?/g,r_=/\{?[\w-]+\}?/,NT=/(!|\s)?defined\(([\w-]+)\)/,kT=/!?defined\s*\([^)]*\)/g,UT=/!?defined\s*$/,BT=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,zT=/[+\-]/g,zd=/include[ \t]+"([\w-]+)(?:\s*,\s*([\w-]+))?"/g,VT=/\{i\}/g,a_=/(pcFragColor[1-8])\b/g,Lt=class Lt{static['run'](_0x109c2d,_0x24c353=new Map(),_0x4989ea={}){Lt['sourceName']=_0x4989ea['sourceName'],_0x109c2d=this['stripComme'+'nts'](_0x109c2d),_0x109c2d=_0x109c2d['split'](/\r?\n/)['map'](_0x3e0334=>_0x3e0334['trimEnd']())['join']('\x0a');const _0xdd5e31=new Map(),_0x2dc0dd=new Map();if(_0x109c2d=this['_preproces'+'s'](_0x109c2d,_0xdd5e31,_0x2dc0dd,_0x24c353,_0x4989ea['stripDefin'+'es']),_0x109c2d===null)return null;const _0x1be31f=new Map();return _0xdd5e31['forEach']((_0x27b390,_0x1546c0)=>{Number['isInteger'](parseFloat(_0x27b390))&&!_0x27b390['includes']('.')&&_0x1be31f['set'](_0x1546c0,_0x27b390);}),_0x109c2d=this['stripComme'+'nts'](_0x109c2d),_0x109c2d=this['stripUnuse'+'dColorAtta'+'chments'](_0x109c2d,_0x4989ea),_0x109c2d=this['RemoveEmpt'+'yLines'](_0x109c2d),_0x109c2d=this['processArr'+'aySize'](_0x109c2d,_0x1be31f),_0x109c2d=this['injectDefi'+'nes'](_0x109c2d,_0x2dc0dd),_0x109c2d;}static['stripUnuse'+'dColorAtta'+'chments'](_0x7f6724,_0x53c3e9){if(_0x53c3e9['stripUnuse'+'dColorAtta'+'chments']){const _0x9feb7d=new Map(),_0x5414c1=_0x7f6724['match'](a_);if(_0x5414c1==null||_0x5414c1['forEach'](_0x41a192=>{const _0x491c9a=parseInt(_0x41a192['charAt'](_0x41a192['length']-(0x81+-0x1ff7+-0x219*-0xf)),0xd91+-0xb7d+0x1*-0x20a);_0x9feb7d['set'](_0x491c9a,(_0x9feb7d['get'](_0x491c9a)??0x1*-0x23f9+-0x1482+0x387b)+(0x1*-0x803+0xe6b+-0x1*0x667));}),Array['from'](_0x9feb7d['values']())['some'](_0x4f0887=>_0x4f0887===0x2*0x31e+-0x738+0xfd)){const _0x45dee4=_0x7f6724['split']('\x0a'),_0x23d613=[];for(let _0x1f8760=0x1*0x10b5+0x7cc+-0x1881;_0x1f8760<_0x45dee4['length'];_0x1f8760++){const _0x499fa7=_0x45dee4[_0x1f8760]['match'](a_);if(_0x499fa7){const _0x980861=parseInt(_0x499fa7[-0x1da4+-0xa97+0x283b]['charAt'](_0x499fa7[0xe82+-0x20a6+0x1224]['length']-(-0x1c5b+0x1927+-0x335*-0x1)),0x707+0x2676+-0x2d73);if(_0x980861>0x15*-0x152+0x2*-0x454+-0x2462*-0x1&&_0x9feb7d['get'](_0x980861)===0x121a+0x11b5+-0x23ce)continue;}_0x23d613['push'](_0x45dee4[_0x1f8760]);}_0x7f6724=_0x23d613['join']('\x0a');}}return _0x7f6724;}static['stripComme'+'nts'](_0xa6e8b2){return _0xa6e8b2['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x5716f4,_0x53dee4){return _0x5716f4!==null&&_0x53dee4['forEach']((_0x2ae6f0,_0x271850)=>{_0x5716f4=_0x5716f4['replace'](new RegExp('\x5c['+_0x271850+'\x5c]','g'),'['+_0x2ae6f0+']');}),_0x5716f4;}static['injectDefi'+'nes'](_0x45ae5d,_0x3368f3){if(_0x45ae5d!==null&&_0x3368f3['size']>-0xa65+0x7*0xa4+0x5e9){const _0x27174e=_0x45ae5d['split']('\x0a');_0x3368f3['forEach']((_0x598f77,_0x1e4da6)=>{const _0x2da922=new RegExp(_0x1e4da6,'g');for(let _0x51cb6a=0x375*0x7+-0x3*0x96+-0x1671;_0x51cb6a<_0x27174e['length'];_0x51cb6a++)_0x27174e[_0x51cb6a]['includes']('#')||(_0x27174e[_0x51cb6a]=_0x27174e[_0x51cb6a]['replace'](_0x2da922,_0x598f77));}),_0x45ae5d=_0x27174e['join']('\x0a');}return _0x45ae5d;}static['RemoveEmpt'+'yLines'](_0x594180){return _0x594180!==null&&(_0x594180=_0x594180['split'](/\r?\n/)['map'](_0xb1163=>_0xb1163['trim']()===''?'':_0xb1163)['join']('\x0a'),_0x594180=_0x594180['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x594180;}static['_preproces'+'s'](_0x502be1,_0x17eca6=new Map(),_0x3f418e,_0x4334d8,_0x5a20cc){var _0x237d46;const _0x4e1e48=_0x502be1,_0x56560d=[];let _0x3eea2e=!(-0x13*0xa8+0x1e5b+-0x11e2),_0x3f335b;for(;(_0x3f335b=Fs['exec'](_0x502be1))!==null&&!_0x3eea2e;){const _0x2b0b68=_0x3f335b[0x1c2*-0xc+0x1b12+0xb*-0x8b];switch(_0x2b0b68){case'define':{Nd['lastIndex']=_0x3f335b['index'];const _0x47818b=Nd['exec'](_0x502be1);w['assert'](_0x47818b,'Invalid\x20['+_0x2b0b68+']:\x20'+_0x502be1['substring'](_0x3f335b['index'],_0x3f335b['index']+(0x599*0x2+0x11*-0xb3+0x115))+'...'),_0x3eea2e||(_0x3eea2e=_0x47818b===null);const _0x558b80=_0x47818b[-0x5af+-0x19f4+0x32a*0xa];r_['lastIndex']=_0x47818b['index'];const _0x5c3dbc=r_['exec'](_0x558b80)[0x2*-0x489+-0x2a*-0x9d+-0x10b0];let _0x493cd7=_0x558b80['substring'](_0x5c3dbc['length'])['trim']();_0x493cd7===''&&(_0x493cd7='true');const _0x590157=Lt['_keep'](_0x56560d);let _0xaeac75=_0x5a20cc;if(_0x590157){const _0x2c7186=_0x5c3dbc['startsWith']('{')&&_0x5c3dbc['endsWith']('}');_0x2c7186&&(_0xaeac75=!(-0x186a+-0x22e9+-0x1*-0x3b53)),_0x2c7186?_0x3f418e['set'](_0x5c3dbc,_0x493cd7):_0x17eca6['set'](_0x5c3dbc,_0x493cd7),_0xaeac75&&(_0x502be1=_0x502be1['substring'](0x2fd+-0x2022+0x1d25*0x1,_0x47818b['index']-(-0x7a1*0x1+-0x21*0x2d+-0xb5*-0x13))+_0x502be1['substring'](Nd['lastIndex']),Fs['lastIndex']=_0x47818b['index']-(-0x2*0x4a6+-0x1993+0x60*0x5d));}w['trace'](Lr,_0x2b0b68+':\x20['+_0x5c3dbc+']\x20'+_0x493cd7+'\x20'+(_0x590157?'':'IGNORED')),_0xaeac75||(Fs['lastIndex']=_0x47818b['index']+_0x47818b[0x25*0xed+-0x4*-0x838+-0x1*0x4321]['length']);break;}case'undef':{kd['lastIndex']=_0x3f335b['index'];const _0x282956=kd['exec'](_0x502be1),_0x15d7fc=_0x282956[-0x15c2+0xb09+0xaba]['trim'](),_0x28fda9=Lt['_keep'](_0x56560d);_0x28fda9&&(_0x17eca6['delete'](_0x15d7fc),_0x5a20cc&&(_0x502be1=_0x502be1['substring'](0x1*0x8c+0xcfd+-0x37*0x3f,_0x282956['index']-(-0x491*-0x6+-0x1b9c*-0x1+-0x3701))+_0x502be1['substring'](kd['lastIndex']),Fs['lastIndex']=_0x282956['index']-(-0x130+-0x1843*-0x1+0x1712*-0x1))),w['trace'](Lr,_0x2b0b68+':\x20['+_0x15d7fc+']\x20'+(_0x28fda9?'':'IGNORED')),_0x5a20cc||(Fs['lastIndex']=_0x282956['index']+_0x282956[-0x762*-0x1+-0x2*-0x7df+0x4a*-0x50]['length']);break;}case'extension':{i_['lastIndex']=_0x3f335b['index'];const _0x3492ae=i_['exec'](_0x502be1);if(w['assert'](_0x3492ae,'Invalid\x20['+_0x2b0b68+']:\x20'+_0x502be1['substring'](_0x3f335b['index'],_0x3f335b['index']+(0x1a*-0xda+-0x1ff3+-0x1229*-0x3))+'...'),_0x3eea2e||(_0x3eea2e=_0x3492ae===null),_0x3492ae){const _0x4d46f5=_0x3492ae[-0x2602+0x13ed+0x39e*0x5],_0x52f733=Lt['_keep'](_0x56560d);_0x52f733&&_0x17eca6['set'](_0x4d46f5,'true'),w['trace'](Lr,_0x2b0b68+':\x20['+_0x4d46f5+']\x20'+(_0x52f733?'':'IGNORED'));}Fs['lastIndex']=_0x3492ae['index']+_0x3492ae[0x16bd+-0x53f*-0x1+-0x1bfc]['length'];break;}case'ifdef':case'ifndef':case'if':{Ud['lastIndex']=_0x3f335b['index'];const _0x503939=Ud['exec'](_0x502be1),_0x4dfbd2=_0x503939[-0x1924+-0xa92+0x23b8],_0x529cb5=Lt['evaluate'](_0x4dfbd2,_0x17eca6);_0x3eea2e||(_0x3eea2e=_0x529cb5['error']);let _0x5e85be=_0x529cb5['result'];_0x2b0b68==='ifndef'&&(_0x5e85be=!_0x5e85be),_0x56560d['push']({'anyKeep':_0x5e85be,'keep':_0x5e85be,'start':_0x3f335b['index'],'end':Ud['lastIndex']}),w['trace'](Lr,_0x2b0b68+':\x20['+_0x4dfbd2+']\x20=>\x20'+_0x5e85be),Fs['lastIndex']=_0x503939['index']+_0x503939[-0x14a3*-0x1+0x1490+-0x2933*0x1]['length'];break;}case'endif':case'else':case'elif':{Bd['lastIndex']=_0x3f335b['index'];const _0x1396a5=Bd['exec'](_0x502be1),_0x1f8358=_0x56560d['pop']();if(!_0x1f8358){console['error']('Shader\x20pre'+'processing'+'\x20encounter'+'ed\x20\x22#'+_0x1396a5[0x234e+-0x25de*-0x1+-0x492b*0x1]+('\x22\x20without\x20'+'a\x20precedin'+'g\x20#if\x20#ifd'+'ef\x20#ifndef'+'\x20while\x20pre'+'processing'+'\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0x502be1['substring'](_0x3f335b['index'],_0x3f335b['index']+(-0x1524+0xf3f*0x1+0x649))+'...',{'source':_0x4e1e48}),_0x3eea2e=!(-0xe6f*-0x1+0x135d+0x54*-0x67);continue;}const _0x24f326=_0x1f8358['keep']?_0x502be1['substring'](_0x1f8358['end'],_0x3f335b['index']):'';w['trace'](Lr,_0x2b0b68+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x24f326!=='')),_0x502be1=_0x502be1['substring'](-0x15*-0xd+0x43*-0x8b+-0x2*-0x11a8,_0x1f8358['start'])+_0x24f326+_0x502be1['substring'](Bd['lastIndex']),Fs['lastIndex']=_0x1f8358['start']+_0x24f326['length'];const _0xb1e400=_0x1396a5[-0x1b76+0xa91+0x6*0x2d1];if(_0xb1e400==='else'||_0xb1e400==='elif'){let _0x25a3d=!(-0x205b*-0x1+-0x1d38+-0x2*0x191);if(!_0x1f8358['anyKeep']){if(_0xb1e400==='else')_0x25a3d=!_0x1f8358['keep'];else{const _0x5f01fc=Lt['evaluate'](_0x1396a5[0x2*-0x745+0x979+-0x1b1*-0x3],_0x17eca6);_0x25a3d=_0x5f01fc['result'],_0x3eea2e||(_0x3eea2e=_0x5f01fc['error']);}}_0x56560d['push']({'anyKeep':_0x1f8358['anyKeep']||_0x25a3d,'keep':_0x25a3d,'start':Fs['lastIndex'],'end':Fs['lastIndex']}),w['trace'](Lr,_0x2b0b68+':\x20['+_0x1396a5[0x41b*-0x7+0xdfc+0xec3]+']\x20=>\x20'+_0x25a3d);}break;}case'include':{zd['lastIndex']=_0x3f335b['index'];const _0x44ed25=zd['exec'](_0x502be1);if(_0x3eea2e||(_0x3eea2e=_0x44ed25===null),!_0x44ed25){w['assert'](_0x44ed25,'Invalid\x20['+_0x2b0b68+(']\x20while\x20pr'+'eprocessin'+'g\x20')+Lt['sourceName']+':\x0a'+_0x502be1['substring'](_0x3f335b['index'],_0x3f335b['index']+(0x4f*-0x13+-0x1313+-0x2*-0xcaa))+'...'),_0x3eea2e=!(-0x1f*-0x73+-0x73b*-0x3+0x2*-0x11cf);continue;}const _0x285291=_0x44ed25[-0x15cf+-0x1*-0x1535+0x9b]['trim'](),_0x52a13e=(_0x237d46=_0x44ed25[0x2*-0x23b+0x1*-0x23fd+0x1*0x2875])==null?void(-0x16fc+0x1723+-0x27):_0x237d46['trim'](),_0xa6913d=Lt['_keep'](_0x56560d);if(_0xa6913d){let _0x225757=_0x4334d8==null?void(0x1*0x8bf+0x2627+-0x8a*0x57):_0x4334d8['get'](_0x285291);if(_0x225757!==void(0x177+-0x1475+0x12fe)){if(_0x225757=this['stripComme'+'nts'](_0x225757),_0x52a13e){const _0x1e4bc5=_0x17eca6['get'](_0x52a13e),_0x3678df=parseFloat(_0x1e4bc5);if(Number['isInteger'](_0x3678df)){let _0x203ac6='';for(let _0x1ea446=0x714+0x2111+-0xef*0x2b;_0x1ea446<_0x3678df;_0x1ea446++)_0x203ac6+=_0x225757['replace'](VT,String(_0x1ea446));_0x225757=_0x203ac6;}else console['error']('Include\x20Co'+'unt\x20identi'+'fier\x20\x22'+_0x52a13e+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0x502be1['substring'](_0x3f335b['index'],_0x3f335b['index']+(-0x8*0x1b1+-0x4d4*0x5+0x2610))+'...',{'originalSource':_0x4e1e48,'source':_0x502be1}),_0x3eea2e=!(-0xf6f+0x1*0x4cf+0xaa0);}_0x502be1=_0x502be1['substring'](-0x73*0x11+0x397*0x2+0x75,_0x44ed25['index']-(0x2307*-0x1+0x1195*-0x2+-0x6*-0xbb3))+_0x225757+_0x502be1['substring'](zd['lastIndex']),Fs['lastIndex']=_0x44ed25['index']-(-0x697*-0x3+0xf90+-0x2354);}else{console['error']('Include\x20\x22'+_0x285291+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName'],{'originalSource':_0x4e1e48,'source':_0x502be1}),_0x3eea2e=!(-0x177+-0x104*0x17+-0x1*-0x18d3);continue;}}w['trace'](Lr,_0x2b0b68+':\x20['+_0x285291+']\x20'+(_0xa6913d?'':'IGNORED'));break;}}}return _0x56560d['length']>0x3*-0x19+0xb13+-0x4*0x2b2&&(console['error']('Shader\x20pre'+'processing'+'\x20reached\x20t'+'he\x20end\x20of\x20'+'the\x20file\x20w'+'ithout\x20enc'+'ountering\x20'+'the\x20necess'+'ary\x20#endif'+'\x20to\x20close\x20'+'a\x20precedin'+'g\x20#if,\x20#if'+'def,\x20or\x20#i'+'fndef\x20bloc'+'k.\x20'+Lt['sourceName']),_0x3eea2e=!(-0xc*0x164+0x206a+0x3*-0x53e)),_0x3eea2e?(console['error']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x4e1e48}),null):_0x502be1;}static['_keep'](_0x53432f){for(let _0x10b664=0x213*-0xd+-0x552*0x5+-0x7*-0x7a7;_0x10b664<_0x53432f['length'];_0x10b664++)if(!_0x53432f[_0x10b664]['keep'])return!(0x165+0x1db*-0xa+-0x895*-0x2);return!(-0x12*-0x1f7+0x238d+-0x46eb);}static['evaluateAt'+'omicExpres'+'sion'](_0x346056,_0x148231){let _0x433de7=!(-0x5*0x35+0x1ca1+-0x1b97);_0x346056=_0x346056['trim']();let _0x2dc957=!(-0x4c4+0x94b+0x182*-0x3);if(_0x346056==='true')return{'result':!(-0xdee*-0x1+-0x2119+0x7*0x2bd),'error':_0x433de7};if(_0x346056==='false')return{'result':!(-0xfe2+0xa*-0x49+0x9*0x215),'error':_0x433de7};const _0x40327e=NT['exec'](_0x346056);if(_0x40327e){_0x2dc957=_0x40327e[-0xfb0+0x26d8+-0x1727]==='!',_0x346056=_0x40327e[0x1*0xb5+-0xd*0x1cd+0x16b6]['trim']();const _0x5bc27f=_0x148231['has'](_0x346056);return{'result':_0x2dc957?!_0x5bc27f:_0x5bc27f,'error':_0x433de7};}const _0x1ca9cc=BT['exec'](_0x346056);if(_0x1ca9cc){const _0x19d3b3=_0x148231['get'](_0x1ca9cc[0x174f+-0x273*0x1+0x1*-0x14db]['trim']())??_0x1ca9cc[-0xbd+-0x160d*0x1+0x16cb]['trim'](),_0x9bae7d=_0x148231['get'](_0x1ca9cc[-0x1a3*0xe+0x1c7b*-0x1+0x3368]['trim']())??_0x1ca9cc[0x215e+0x1cef+-0x3e4a]['trim'](),_0x541be7=_0x1ca9cc[-0xcb3*0x2+-0x19*0x10d+0x33ad]['trim']();let _0x20b013=!(-0x2*-0xa8b+-0x54+-0x14c1);switch(_0x541be7){case'==':_0x20b013=_0x19d3b3===_0x9bae7d;break;case'!=':_0x20b013=_0x19d3b3!==_0x9bae7d;break;case'<':_0x20b013=_0x19d3b3<_0x9bae7d;break;case'<=':_0x20b013=_0x19d3b3<=_0x9bae7d;break;case'>':_0x20b013=_0x19d3b3>_0x9bae7d;break;case'>=':_0x20b013=_0x19d3b3>=_0x9bae7d;break;default:_0x433de7=!(0x1a*-0xf6+-0x13f7+0x1*0x2cf3);}return{'result':_0x20b013,'error':_0x433de7};}return{'result':_0x148231['has'](_0x346056),'error':_0x433de7};}static['processPar'+'entheses'](_0x3aa924,_0x4457c4){let _0x14e708=!(0x940+-0x57f*0x7+0x1d3a),_0x53747e=_0x3aa924['trim']();for(;_0x53747e['startsWith']('(')&&_0x53747e['endsWith'](')');){let _0xb017fb=0x5b*0x10+-0x816+0x1*0x266,_0x4ba630=!(-0x157*0x5+0x13a0+-0xced);for(let _0x5a15f6=-0x1b4+-0x9a0+-0x74*-0x19;_0x5a15f6<_0x53747e['length']-(0x256a+-0xd86*0x2+-0xa5d);_0x5a15f6++)if(_0x53747e[_0x5a15f6]==='(')_0xb017fb++;else{if(_0x53747e[_0x5a15f6]===')'&&(_0xb017fb--,_0xb017fb===0xe5f+-0xa56+0x409*-0x1)){_0x4ba630=!(0x905*-0x3+0x19*0x2d+0x7*0x33d);break;}}if(_0x4ba630)_0x53747e=_0x53747e['slice'](-0x5*-0x2d3+0x83b+-0x1659,-(-0x259a+0x133e*0x1+0x3*0x61f))['trim']();else break;}for(;;){let _0x59349c=!(0x3*0x2a3+-0x1*-0x1742+-0x1f2a),_0x23bb99=-0x1b84+0xe*0x287+-0x7de,_0x1cf771=0x2217+0x9cc+-0x2be3,_0x11fbbe=-(0x590+-0x4e3+-0x2b*0x4),_0xd66430=-(0x156b*-0x1+-0x11e2+0x274e),_0x14a8f9=-0xd*0x148+0x1158+-0xb0;for(let _0x18280e=0x1fc8*0x1+0x2042+-0x2*0x2005;_0x18280e<_0x53747e['length'];_0x18280e++)if(_0x53747e[_0x18280e]==='('){const _0x4aeaf0=_0x53747e['substring'](0x23d9+0x1*0x183a+-0xa9*0x5b,_0x18280e);UT['test'](_0x4aeaf0)?_0x14a8f9++:_0x14a8f9===0x6e2+0x52d+-0x1*0xc0f&&(_0x23bb99++,_0x23bb99>_0x1cf771&&(_0x1cf771=_0x23bb99,_0x11fbbe=_0x18280e),_0x59349c=!(-0x11a4+-0x11*0x247+0x385b));}else _0x53747e[_0x18280e]===')'&&(_0x14a8f9>0x144c+0x779*-0x3+0x21f*0x1?_0x14a8f9--:_0x23bb99>-0x1354*-0x1+0x1*0xfac+-0x2300&&(_0x23bb99===_0x1cf771&&_0x11fbbe!==-(-0x104a+-0x1685*-0x1+0x2*-0x31d)&&(_0xd66430=_0x18280e),_0x23bb99--));if(!_0x59349c||_0x11fbbe===-(0x89f+0x2025+-0x5*0x827)||_0xd66430===-(0x23b0+-0xd24+-0x1d*0xc7))break;const _0x38a144=_0x53747e['substring'](_0x11fbbe+(0x14a*0x6+-0x15c1+0xe06),_0xd66430),{result:_0x16cb8e,error:_0x47d838}=Lt['evaluate'](_0x38a144,_0x4457c4);_0x14e708=_0x14e708||_0x47d838,_0x53747e=_0x53747e['substring'](0x1e12*-0x1+-0x89*0x3+0x1fad,_0x11fbbe)+(_0x16cb8e?'true':'false')+_0x53747e['substring'](_0xd66430+(-0x1*-0x1f01+-0x3*0xa99+0x7*0x1d));}return{'expression':_0x53747e,'error':_0x14e708};}static['evaluate'](_0x5f15c1,_0x240142){const _0x28b7f2=zT['exec'](_0x5f15c1)===null;w['assert'](_0x28b7f2,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x5f15c1);let _0x4d4e4f=_0x5f15c1,_0x5cc79c=!(-0xa*-0x29+0x64*0x57+-0x2395);if(_0x5f15c1['replace'](kT,'')['indexOf']('(')!==-(0x5d*0x53+-0x3*-0x74b+-0x3407)){const _0x346502=Lt['processPar'+'entheses'](_0x5f15c1,_0x240142);_0x4d4e4f=_0x346502['expression'],_0x5cc79c=_0x346502['error'];}if(_0x5cc79c)return w['log']('Parenthesi'+'s\x20parsing\x20'+'error\x20in\x20e'+'xpression:'+'\x20\x22'+_0x5f15c1+'\x22'),{'result':!(-0xb*-0x26b+0xd81*0x1+-0x5*0x805),'error':!(-0x1*0x179+0xc52+-0xad9*0x1)};const _0x7bbbec=_0x4d4e4f['split']('||');for(const _0x54c9c4 of _0x7bbbec){const _0x380056=_0x54c9c4['split']('&&');let _0x84cf5f=!(0xb80+-0x19f8+0xe78);for(const _0x4bf8b5 of _0x380056){const {result:_0x382cf4,error:_0x4683cf}=Lt['evaluateAt'+'omicExpres'+'sion'](_0x4bf8b5['trim'](),_0x240142);if(!_0x382cf4||_0x4683cf){_0x84cf5f=!(-0xf4d+-0x2149+-0x7*-0x6f1);break;}}if(_0x84cf5f)return{'result':!(0x5f9*0x1+0xef4+-0x14ed),'error':!_0x28b7f2};}return{'result':!(-0x10*-0x1f7+0xa8a+-0x23*0x133),'error':!_0x28b7f2};}};h(Lt,'sourceName');let ko=Lt;const Vy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pcFragCo'+'lor0;\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_1\x0a'+'layout(loc'+'ation\x20=\x201)'+'\x20out\x20highp'+'\x20outType_1'+'\x20pcFragCol'+'or1;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_2\x0alayo'+'ut(locatio'+'n\x20=\x202)\x20out'+'\x20highp\x20out'+'Type_2\x20pcF'+'ragColor2;'+'\x0a#endif\x0a\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'3\x0alayout(l'+'ocation\x20=\x20'+'3)\x20out\x20hig'+'hp\x20outType'+'_3\x20pcFragC'+'olor3;\x0a#en'+'dif\x0a\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'cFragColor'+'4;\x0a#endif\x0a'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_5\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0a#'+'endif\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_6\x0a'+'layout(loc'+'ation\x20=\x206)'+'\x20out\x20highp'+'\x20outType_6'+'\x20pcFragCol'+'or6;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_7\x0alayo'+'ut(locatio'+'n\x20=\x207)\x20out'+'\x20highp\x20out'+'Type_7\x20pcF'+'ragColor7;'+'\x0a#endif\x0a\x0a#'+'define\x20gl_'+'FragColor\x20'+'pcFragColo'+'r0\x0a\x0a#defin'+'e\x20varying\x20'+'in\x0a\x0a#defin'+'e\x20texture2'+'D\x20texture\x0a'+'#define\x20te'+'xture2DBia'+'s\x20texture\x0a'+'#define\x20te'+'xtureCube\x20'+'texture\x0a#d'+'efine\x20text'+'ure2DProj\x20'+'texturePro'+'j\x0a#define\x20'+'texture2DL'+'od\x20texture'+'Lod\x0a#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a#defin'+'e\x20textureC'+'ubeLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+('ure2DGrad\x20'+'textureGra'+'d\x0a#define\x20'+'texture2DP'+'rojGrad\x20te'+'xtureProjG'+'rad\x0a#defin'+'e\x20textureC'+'ubeGrad\x20te'+'xtureGrad\x0a'+'#define\x20ut'+'exture2D\x20t'+'exture\x0a#de'+'fine\x20itext'+'ure2D\x20text'+'ure\x0a\x0a//\x20de'+'precated\x20d'+'efines\x0a#de'+'fine\x20textu'+'re2DLodEXT'+'\x20texture2D'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DProjLodE'+'XT\x20texture'+'2DProjLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DP'+'rojLod\x0a#de'+'fine\x20textu'+'reCubeLodE'+'XT\x20texture'+'CubeLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeL'+'od_instead'+'\x0a#define\x20t'+'exture2DGr'+'adEXT\x20text'+'ure2DGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DG'+'rad_instea'+'d\x0a#define\x20'+'texture2DP'+'rojGradEXT'+'\x20texture2D'+'ProjGradEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DPr'+'ojGrad_ins'+'tead\x0a#defi'+'ne\x20texture'+'CubeGradEX'+'T\x20textureC'+'ubeGradEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeG'+'rad_instea'+'d\x0a\x0a//\x20samp'+'le\x20shadows'+'\x20using\x20tex'+'tureGrad\x20t'+'o\x20remove\x20d'+'erivatives'+'\x20in\x20the\x20dy'+'namic\x20loop'+'s\x20(which\x20a'+'re\x20used\x20by'+'\x0a//\x20cluste'+'red\x20lighti'+'ng)\x20-\x20as\x20D'+'irectX\x20sha'+'der\x20compil'+'er\x20tries\x20t'+'o\x20unroll\x20t'+'he\x20loops\x20a'+'nd\x20takes\x20l'+'ong\x20time\x0a/'+'/\x20to\x20compi'+'le\x20the\x20sha'+'der.\x20Using'+'\x20textureLo'+'d\x20would\x20be'+'\x20even\x20bett')+('er,\x20but\x20We'+'bGl\x20does\x20n'+'ot\x20transla'+'te\x20it\x20to\x0a/'+'/\x20lod\x20inst'+'ruction\x20fo'+'r\x20DirectX\x20'+'correctly\x20'+'and\x20uses\x20S'+'ampleCmp\x20i'+'nstead\x20of\x20'+'SampleCmpL'+'evelZero\x20o'+'r\x20similar.'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureG'+'rad(res,\x20u'+'v,\x20vec2(1,'+'\x201),\x20vec2('+'1,\x201))\x0a\x0a//'+'\x20pass\x20/\x20ac'+'cept\x20shado'+'w\x20map\x20or\x20t'+'exture\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20on\x20webgl'+'\x20this\x20is\x20s'+'imply\x20pass'+'ed\x20as\x20is\x0a/'+'/\x20but\x20this'+'\x20is\x20needed'+'\x20for\x20WebGP'+'U\x0a#define\x20'+'SHADOWMAP_'+'PASS(name)'+'\x20name\x0a#def'+'ine\x20SHADOW'+'MAP_ACCEPT'+'(name)\x20sam'+'pler2DShad'+'ow\x20name\x0a#d'+'efine\x20TEXT'+'URE_PASS(n'+'ame)\x20name\x0a'+'#define\x20TE'+'XTURE_ACCE'+'PT(name)\x20s'+'ampler2D\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP(name)\x20h'+'ighp\x20sampl'+'er2D\x20name\x0a'+'\x0a#define\x20G'+'L2\x0a'),Gy='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',Hy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pcFragColo'+'r0;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pcFra'+'gColor1;\x0al'+'ayout(loca'+'tion\x20=\x202)\x20'+'out\x20highp\x20'+'outType_2\x20'+'pcFragColo'+'r2;\x0alayout'+'(location\x20'+'=\x203)\x20out\x20h'+'ighp\x20outTy'+'pe_3\x20pcFra'+'gColor3;\x0al'+'ayout(loca'+'tion\x20=\x204)\x20'+'out\x20highp\x20'+'outType_4\x20'+'pcFragColo'+'r4;\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0al'+'ayout(loca'+'tion\x20=\x206)\x20'+'out\x20highp\x20'+'outType_6\x20'+'pcFragColo'+'r6;\x0alayout'+'(location\x20'+'=\x207)\x20out\x20h'+'ighp\x20outTy'+'pe_7\x20pcFra'+'gColor7;\x0a\x0a'+'#define\x20gl'+'_FragColor'+'\x20pcFragCol'+'or0\x0a\x0a#defi'+'ne\x20texture'+'2D(res,\x20uv'+')\x20texture('+'sampler2D('+('res,\x20res\x20#'+'#\x20_sampler'+'),\x20uv)\x0a#de'+'fine\x20textu'+'re2DBias(r'+'es,\x20uv,\x20bi'+'as)\x20textur'+'e(sampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv,\x20b'+'ias)\x0a#defi'+'ne\x20texture'+'2DLod(res,'+'\x20uv,\x20lod)\x20'+'textureLod'+'(sampler2D'+'(res,\x20res\x20'+'##\x20_sample'+'r),\x20uv,\x20lo'+'d)\x0a#define'+'\x20textureCu'+'be(res,\x20uv'+')\x20texture('+'samplerCub'+'e(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a#'+'define\x20tex'+'tureCubeLo'+'d(res,\x20uv,'+'\x20lod)\x20text'+'ureLod(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20lod)'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureL'+'od(sampler'+'2DShadow(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x200.0)'+'\x0a#define\x20i'+'texture2D('+'res,\x20uv)\x20t'+'exture(isa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv)\x0a#defi'+'ne\x20utextur'+'e2D(res,\x20u'+'v)\x20texture'+'(usampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a\x0a'+'//\x20depreca'+'ted\x20define'+'s\x0a#define\x20'+'texture2DL'+'odEXT\x20text'+'ure2DLodEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DLo'+'d_instead\x0a'+'#define\x20te'+'xture2DPro'+'jLodEXT\x20te'+'xture2DPro'+'jLodEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DProjLo'+'d\x0a#define\x20'+'textureCub'+'eLodEXT\x20te'+'xtureCubeL'+'odEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeLod_in'+'stead\x0a#def'+'ine\x20textur'+'e2DGradEXT'+'\x20texture2D'+'GradEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DGrad_i'+'nstead\x0a#de')+('fine\x20textu'+'re2DProjGr'+'adEXT\x20text'+'ure2DProjG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjGra'+'d_instead\x0a'+'#define\x20te'+'xtureCubeG'+'radEXT\x20tex'+'tureCubeGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeGrad_i'+'nstead\x0a\x0a//'+'\x20TODO:\x20imp'+'lement\x20oth'+'er\x20texture'+'\x20sampling\x20'+'macros\x0a//\x20'+'#define\x20te'+'xture2DPro'+'j\x20textureP'+'roj\x0a//\x20#de'+'fine\x20textu'+'re2DProjLo'+'d\x20textureP'+'rojLod\x0a//\x20'+'#define\x20te'+'xture2DGra'+'d\x20textureG'+'rad\x0a//\x20#de'+'fine\x20textu'+'re2DProjGr'+'ad\x20texture'+'ProjGrad\x0a/'+'/\x20#define\x20'+'textureCub'+'eGrad\x20text'+'ureGrad\x0a\x0a/'+'/\x20pass\x20/\x20a'+'ccept\x20shad'+'ow\x20map\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20passes\x20b'+'oth\x20the\x20te'+'xture\x20as\x20w'+'ell\x20as\x20sam'+'pler\x0a//\x20as'+'\x20the\x20combi'+'ned\x20sample'+'r\x20can\x20be\x20o'+'nly\x20create'+'d\x20at\x20a\x20poi'+'nt\x20of\x20use\x0a'+'#define\x20SH'+'ADOWMAP_PA'+'SS(name)\x20n'+'ame,\x20name\x20'+'##\x20_sample'+'r\x0a#define\x20'+'SHADOWMAP_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'PASS(name)'+'\x20name,\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP\x20TEXTURE'+'_ACCEPT\x0a\x0a#'+'define\x20GL2'+'\x0a#define\x20W'+'EBGPU\x0a'),Wy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',$y='\x0a',Xy='\x0a#define\x20V'+'ERTEXSHADE'+'R\x0a',n_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',o_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20fo'+'r\x20sampling'+'\x20scene\x20gra'+'b\x20textures'+'\x0afn\x20getGra'+'bScreenPos'+'(clipPos:\x20'+'vec4<f32>)'+'\x20->\x20vec2<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'var\x20uv:\x20ve'+'c2<f32>\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x20vec2<f3'+'2>(0.5);\x0a\x20'+'\x20\x20\x20uv.y\x20=\x20'+'1.0\x20-\x20uv.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'//\x20convert'+'\x20uv\x20coordi'+'nates\x20to\x20s'+'ample\x20imag'+'e\x20effect\x20t'+'exture\x20(re'+'nder\x20targe'+'t\x20texture\x20'+'rendered\x20w'+'ithout\x0a//\x20'+'forward\x20re'+'nderer\x20whi'+'ch\x20does\x20th'+'e\x20flip\x20in\x20'+'the\x20projec'+'tion\x20matri'+'x)\x0afn\x20getI'+'mageEffect'+'UV(uv:\x20vec'+'2<f32>)\x20->'+'\x20vec2<f32>'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20modifiedU'+'V:\x20vec2<f3'+'2>\x20=\x20uv;\x0a\x20'+'\x20\x20\x20modifie'+'dUV.y\x20=\x201.'+'0\x20-\x20modifi'+'edUV.y;\x0a\x20\x20'+'\x20\x20return\x20m'+'odifiedUV;'+'\x0a}\x0a\x0a//\x20typ'+'es\x20wrapped'+'\x20in\x20size\x20a'+'ligned\x20str'+'uctures\x20to'+'\x20ensure\x20co'+'rrect\x20alig'+'nment\x20in\x20u'+'niform\x20buf'+'fer\x20arrays'+'\x0astruct\x20Wr'+'appedF32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'f32\x20}\x0astru'+'ct\x20Wrapped'+'I32\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20i32\x20}'+'\x0astruct\x20Wr'+'appedU32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'u32\x20}\x0astru'+'ct\x20Wrapped'+'Vec2F\x20{\x20@s'+'ize(16)\x20el'+'ement:\x20vec'+'2f\x20}\x0astruc'+'t\x20WrappedV'+'ec2I\x20{\x20@si'+'ze(16)\x20ele'+'ment:\x20vec2'+'i\x20}\x0astruct'+'\x20WrappedVe'+'c2U\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20vec2u'+'\x20}\x0a',GT={'vertex_position':Me,'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_texCoord2':wl,'vertex_texCoord3':El,'vertex_texCoord4':bl,'vertex_texCoord5':Al,'vertex_texCoord6':Cl,'vertex_texCoord7':Pl,'vertex_color':Wt,'vertex_boneIndices':us,'vertex_boneWeights':gi};class Jt{static['createDefi'+'nition'](_0x362ec0,_0x9face1){w['assert'](_0x9face1),w['assert'](!_0x9face1['vertexDefi'+'nes']||_0x9face1['vertexDefi'+'nes']instanceof Map),w['assert'](!_0x9face1['vertexIncl'+'udes']||_0x9face1['vertexIncl'+'udes']instanceof Map),w['assert'](!_0x9face1['fragmentDe'+'fines']||_0x9face1['fragmentDe'+'fines']instanceof Map),w['assert'](!_0x9face1['fragmentIn'+'cludes']||_0x9face1['fragmentIn'+'cludes']instanceof Map);const _0xca3864=_0x36eb55=>{let _0x3280a7=_0x36eb55['fragmentOu'+'tputTypes']??'vec4';return Array['isArray'](_0x3280a7)||(_0x3280a7=[_0x3280a7]),_0x3280a7;},_0x35c8ca=(_0x2e589d,_0x1b4a64,_0x1f493b,_0x4ac5da)=>{const _0x304c75=_0x362ec0['isWebGPU']?_0x2e589d:_0x1b4a64;let _0x2e857c='';if(!_0x1f493b){const _0x8c4769=_0xca3864(_0x4ac5da);for(let _0x86fa2a=0xabb+0x2c5*-0x6+0x5e3;_0x86fa2a<_0x362ec0['maxColorAt'+'tachments'];_0x86fa2a++){_0x2e857c+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x86fa2a+'\x0a';const _0x3c7cbb=_0x8c4769[_0x86fa2a]??'vec4';_0x2e857c+='#define\x20ou'+'tType_'+_0x86fa2a+'\x20'+_0x3c7cbb+'\x0a';}}return _0x2e857c+_0x304c75;},_0x2f616b=(_0x1650dd,_0x22e188)=>{let _0x3b7349='';if(!_0x1650dd){const _0x3bb8d0=_0xca3864(_0x22e188);for(let _0x157889=-0x1473+0x859*-0x2+0x2525*0x1;_0x157889<_0x362ec0['maxColorAt'+'tachments'];_0x157889++){const _0x3f0e1c=_0x3bb8d0[_0x157889]??'vec4',_0x5bdefa=Fy['get'](_0x3f0e1c);w['assert'](_0x5bdefa,'Unknown\x20ou'+'tput\x20type\x20'+'translatio'+'n:\x20'+_0x3f0e1c+'\x20->\x20'+_0x5bdefa),_0x3b7349+='alias\x20pcOu'+'tType'+_0x157889+'\x20=\x20'+_0x5bdefa+';\x0a';}}return _0x3b7349;},_0x5825b8=_0x9face1['name']??'Untitled';let _0x523694,_0x2bbc57;const _0x574097=Jt['getDefines'+'Code'](_0x362ec0,_0x9face1['vertexDefi'+'nes']),_0x31423d=Jt['getDefines'+'Code'](_0x362ec0,_0x9face1['fragmentDe'+'fines']);return _0x9face1['shaderLang'+'uage']===it?(_0x523694='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x2f616b(!(-0x1*-0x816+0x5*0x6f6+-0x2ae4),_0x9face1)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Xy+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x574097+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x9face1['vertexCode']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'),_0x2bbc57='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x2f616b(!(0x1*0x3d9+-0x19e8+0x584*0x4),_0x9face1)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+$y+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x31423d+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x9face1['fragmentCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')):(w['assert'](_0x9face1['vertexCode']),_0x523694=Jt['versionCod'+'e'](_0x362ec0)+_0x35c8ca(Wy,Gy,!(0x1a89+-0x1*0x2446+0x33f*0x3),_0x9face1)+_0x574097+Jt['precisionC'+'ode'](_0x362ec0)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x5825b8)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x9face1['vertexCode'],w['assert'](_0x9face1['fragmentCo'+'de']),_0x2bbc57=(_0x9face1['fragmentPr'+'eamble']||'')+Jt['versionCod'+'e'](_0x362ec0)+_0x35c8ca(Hy,Vy,!(-0x96c+0x11*-0x2b+0xc48),_0x9face1)+_0x31423d+Jt['precisionC'+'ode'](_0x362ec0)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x5825b8)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x9face1['fragmentCo'+'de']),{'name':_0x5825b8,'shaderLanguage':_0x9face1['shaderLang'+'uage']??Fe,'attributes':_0x9face1['attributes'],'vshader':_0x523694,'vincludes':_0x9face1['vertexIncl'+'udes'],'fincludes':_0x9face1['fragmentIn'+'cludes'],'fshader':_0x2bbc57,'useTransformFeedback':_0x9face1['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0x9face1['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x9face1['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x109bda,_0x464308){let _0x46ed90='';return _0x109bda['capsDefine'+'s']['forEach']((_0x22951b,_0x4f359d)=>{_0x46ed90+='#define\x20'+_0x4f359d+'\x20'+_0x22951b+'\x0a';}),_0x46ed90+='\x0a',_0x464308==null||_0x464308['forEach']((_0x2fcf24,_0x2698ca)=>{_0x46ed90+='#define\x20'+_0x2698ca+'\x20'+_0x2fcf24+'\x0a';}),_0x46ed90+='\x0a',_0x46ed90;}static['getShaderN'+'ameCode'](_0x31e798){return'#define\x20SH'+'ADER_NAME\x20'+_0x31e798+'\x0a';}static['versionCod'+'e'](_0x3a13ee){return _0x3a13ee['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x2eea52,_0x2bdf70){_0x2bdf70&&_0x2bdf70!=='highp'&&_0x2bdf70!=='mediump'&&_0x2bdf70!=='lowp'&&(_0x2bdf70=null),_0x2bdf70&&(_0x2bdf70==='highp'&&_0x2eea52['maxPrecisi'+'on']!=='highp'&&(_0x2bdf70='mediump'),_0x2bdf70==='mediump'&&_0x2eea52['maxPrecisi'+'on']==='lowp'&&(_0x2bdf70='lowp'));const _0x542c75=_0x2bdf70||_0x2eea52['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x542c75+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x542c75+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x542c75+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x542c75+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x542c75+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x542c75+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x542c75+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x541ed6){const _0x2a9a4b={};let _0x419cdd=0x45f+-0x87b+-0x41c*-0x1,_0x150ab4=_0x541ed6['indexOf']('attribute');for(;_0x150ab4>=-0x275+-0x2024+-0x11*-0x209&&!(_0x150ab4>0xedc+-0x65*0x20+-0x23c&&_0x541ed6[_0x150ab4-(-0x1*-0x21ac+-0x6c6+0x561*-0x5)]==='/');){let _0x29d8c4=!(0x1*-0x10e7+-0x22a6+0x338e);if(_0x150ab4>-0x268f+-0x2452+0x1*0x4ae1){let _0x243a70=_0x541ed6['lastIndexO'+'f']('\x0a',_0x150ab4);_0x243a70=_0x243a70!==-(-0x13f6*0x1+0x1fd2+-0xbdb)?_0x243a70+(0x1*0x37+0x1*0x1628+-0x165e):-0x124d*0x1+-0x18ec+-0x5*-0x8a5,_0x541ed6['substring'](_0x243a70,_0x150ab4)['includes']('#')&&(_0x29d8c4=!(0x8b7*0x1+-0xe7c+0x7*0xd3));}if(!_0x29d8c4){const _0x55d19a=_0x541ed6['indexOf'](';',_0x150ab4),_0x24380d=_0x541ed6['lastIndexO'+'f']('\x20',_0x55d19a),_0x5d5b3a=_0x541ed6['substring'](_0x24380d+(-0x1ff1+-0x1*-0x19ab+-0x647*-0x1),_0x55d19a);if(_0x2a9a4b[_0x5d5b3a])w['warn']('Attribute\x20'+'['+_0x5d5b3a+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x541ed6});else{const _0x18ca45=GT[_0x5d5b3a];_0x18ca45!==void(-0x799+0x9e8+-0x24f)?_0x2a9a4b[_0x5d5b3a]=_0x18ca45:(_0x2a9a4b[_0x5d5b3a]='ATTR'+_0x419cdd,_0x419cdd++);}}_0x150ab4=_0x541ed6['indexOf']('attribute',_0x150ab4+(0x1835*-0x1+0x1b26+0x4*-0xbc));}return _0x2a9a4b;}}let HT=-0x1*-0x1e01+-0x1d5e+0xa3*-0x1;class qy{constructor(_0x308e05,_0x4b8f00){h(this,'meshUnifor'+'mBufferFor'+'mat'),h(this,'meshBindGr'+'oupFormat'),h(this,'attributes',new Map());if(this['id']=HT++,this['device']=_0x308e05,this['definition']=_0x4b8f00,this['name']=_0x4b8f00['name']||'Untitled',this['init'](),_0x4b8f00['cshader'])w['assert'](_0x308e05['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),w['assert'](!_0x4b8f00['vshader']&&!_0x4b8f00['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.'),_0x4b8f00['cshader']=ko['run'](_0x4b8f00['cshader'],_0x4b8f00['cincludes'],{'sourceName':'compute\x20sh'+'ader\x20for\x20'+this['label'],'stripDefines':!(0x2*-0xe87+-0xb2c+0x283a)});else{w['assert'](_0x4b8f00['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),w['assert'](_0x4b8f00['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),w['call'](()=>{this['vUnmodifie'+'d']=_0x4b8f00['vshader'],this['fUnmodifie'+'d']=_0x4b8f00['fshader'];});const _0x1acd98=_0x4b8f00['shaderLang'+'uage']===it;_0x4b8f00['vshader']=ko['run'](_0x4b8f00['vshader'],_0x4b8f00['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label'],'stripDefines':_0x1acd98}),_0x4b8f00['shaderLang'+'uage']===Fe&&(_0x4b8f00['attributes']??(_0x4b8f00['attributes']=Jt['collectAtt'+'ributes'](_0x4b8f00['vshader'])));const _0x71eac6=_0x308e05['isWebGL2']&&(Ae['name']==='osx'||Ae['name']==='ios');if(_0x4b8f00['fshader']=ko['run'](_0x4b8f00['fshader'],_0x4b8f00['fincludes'],{'stripUnusedColorAttachments':_0x71eac6,'stripDefines':_0x1acd98,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']}),!_0x4b8f00['vshader']||!_0x4b8f00['fshader']){w['error']('Shader:\x20Fa'+'iled\x20to\x20cr'+'eate\x20shade'+'r\x20'+this['label']+('.\x20Vertex\x20o'+'r\x20fragment'+'\x20shader\x20so'+'urce\x20is\x20em'+'pty.'),this),this['failed']=!(0x1d15+0x1253+-0x2f68);return;}}this['impl']=_0x308e05['createShad'+'erImpl'](this),w['trace'](Im,'Alloc:\x20'+this['label']+',\x20stack:\x20'+Q['toString'](),{'instance':this});}['init'](){this['ready']=!(0x1942+0xd1+-0x1a12),this['failed']=!(-0x49*0x21+-0xb64+0x14ce);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20('+(this['definition']['shaderLang'+'uage']===it?'WGSL':'GLSL')+')\x20'+this['name'];}['destroy'](){w['trace'](Im,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class WT{constructor(){h(this,'storage'),h(this,'gpuBuffer'),h(this,'offset');}}const Be=[];Be[Xs]=function(_0x28f9a2,_0x49c3a4,_0x7bbd45){const _0x32c1cc=_0x28f9a2['storageFlo'+'at32'];_0x32c1cc[_0x7bbd45]=_0x49c3a4;},Be[ga]=(_0x406ea6,_0x372792,_0x235cfa)=>{const _0x571912=_0x406ea6['storageFlo'+'at32'];_0x571912[_0x235cfa]=_0x372792[-0xd28+0xb53+0x1*0x1d5],_0x571912[_0x235cfa+(0xfd+0x1e5e*0x1+-0x1f5a)]=_0x372792[0x1906*-0x1+-0x4*-0x409+-0x19*-0x5b];},Be[ds]=(_0x481ff7,_0x1cae50,_0x3a877f)=>{const _0x13fb32=_0x481ff7['storageFlo'+'at32'];_0x13fb32[_0x3a877f]=_0x1cae50[0xbaf+0xee*-0x21+-0x655*-0x3],_0x13fb32[_0x3a877f+(-0x458+0x25e7+0x218e*-0x1)]=_0x1cae50[-0x26bd*-0x1+0x2*-0x1012+-0x698*0x1],_0x13fb32[_0x3a877f+(0x1*-0x11f5+0x1*0x3b9+0xe3e)]=_0x1cae50[-0x1a3e+-0x109d*-0x1+-0x9a3*-0x1];},Be[Rn]=(_0x1f2468,_0x310d35,_0x56a928)=>{const _0x52bfb7=_0x1f2468['storageFlo'+'at32'];_0x52bfb7[_0x56a928]=_0x310d35[0x1*-0x1663+-0x1fd*0x10+0x5*0xad7],_0x52bfb7[_0x56a928+(-0x159c+0x12d8+0x2c5*0x1)]=_0x310d35[-0x1*0x270e+-0xec8+-0x35d7*-0x1],_0x52bfb7[_0x56a928+(-0x95*-0x26+-0x392*0x1+-0x128a)]=_0x310d35[0x6e5*0x3+0x1cd4+-0x3181],_0x52bfb7[_0x56a928+(-0x2614+-0x487+0x2a9e)]=_0x310d35[-0x7*-0x101+-0xbf5*-0x2+-0x1eee];},Be[_a]=function(_0x437ffb,_0x5a12a8,_0x5b91f4){const _0x4cf487=_0x437ffb['storageInt'+'32'];_0x4cf487[_0x5b91f4]=_0x5a12a8;},Be[ca]=function(_0x9fc7ba,_0x3e587a,_0x5b8026){const _0x35c6b1=_0x9fc7ba['storageInt'+'32'];_0x35c6b1[_0x5b8026]=_0x3e587a[-0x5*-0x75a+0x20ba+-0x22be*0x2],_0x35c6b1[_0x5b8026+(-0x11af+0xa58+0x2*0x3ac)]=_0x3e587a[0x25c1*0x1+-0x1*0x1b8e+-0xa32];},Be[ha]=function(_0x31bb49,_0x2484b2,_0x3f3c70){const _0x482243=_0x31bb49['storageInt'+'32'];_0x482243[_0x3f3c70]=_0x2484b2[-0x12c7*0x1+-0x2047*-0x1+-0xd80],_0x482243[_0x3f3c70+(-0x22a7+-0xd63+0x300b)]=_0x2484b2[-0x14b*-0x1a+0x2635*0x1+-0x47d2],_0x482243[_0x3f3c70+(0x24bc*0x1+0x1617+-0x15*0x2cd)]=_0x2484b2[-0x5*0x407+-0x172a+-0x2b4f*-0x1];},Be[da]=function(_0x13f154,_0x6fea77,_0x5c588a){const _0x3a2db7=_0x13f154['storageInt'+'32'];_0x3a2db7[_0x5c588a]=_0x6fea77[0x127d+-0x1*0x1ee9+0xc6c],_0x3a2db7[_0x5c588a+(0xef2+-0x1*0x18d7+0x9e6)]=_0x6fea77[-0x59c*-0x2+0x11a*0x1b+0x3*-0xda7],_0x3a2db7[_0x5c588a+(-0x4b8*-0x1+0x1c4*0x12+-0x247e)]=_0x6fea77[0x2591*-0x1+0xeff+0x2*0xb4a],_0x3a2db7[_0x5c588a+(-0x5b7*0x3+-0x1191*-0x1+-0x15*0x5)]=_0x6fea77[-0x1b*-0x43+0xeb*-0x1c+0x4d*0x3e];},Be[_h]=(_0x2883c0,_0x489a5d,_0x1afb25)=>{const _0xa5c7eb=_0x2883c0['storageFlo'+'at32'];_0xa5c7eb[_0x1afb25]=_0x489a5d[0x1*0x2203+-0x6a+-0x2199],_0xa5c7eb[_0x1afb25+(0x18a*-0x17+-0xf17+0x17*0x232)]=_0x489a5d[-0x43*0x83+0xffa+-0x2*-0x928],_0xa5c7eb[_0x1afb25+(0x117d+-0x2*0x107+0xf6b*-0x1)]=_0x489a5d[0x1093+0x3*0x5b3+-0x1f*0x116],_0xa5c7eb[_0x1afb25+(-0x96b*0x2+0x12a4*-0x1+-0x1*-0x257f)]=_0x489a5d[-0xbc5+0x5*-0x277+0x16b*0x11],_0xa5c7eb[_0x1afb25+(0x2607+-0x1*-0x9a3+-0x2fa2)]=_0x489a5d[-0x1484+0xf18+0x74*0xc],_0xa5c7eb[_0x1afb25+(-0x2e*0xc4+0x931*0x2+0x1*0x10df)]=_0x489a5d[0x5c4*-0x6+-0x62a*0x6+-0x1*-0x4799];},Be[On]=(_0x5693a7,_0x305c6e,_0x3fa26b)=>{const _0x46bfd3=_0x5693a7['storageFlo'+'at32'];_0x46bfd3[_0x3fa26b]=_0x305c6e[0x1203*0x1+-0x1a64+-0x3*-0x2cb],_0x46bfd3[_0x3fa26b+(-0xeca+0xdd9+-0x79*-0x2)]=_0x305c6e[-0x2*-0x87+0xe7+0xfa*-0x2],_0x46bfd3[_0x3fa26b+(-0x4f*-0xd+-0x2546+0x2145)]=_0x305c6e[0x1182*-0x1+-0xda*-0x3+0xef6],_0x46bfd3[_0x3fa26b+(0xfde+-0x9d2*0x2+0x3ca)]=_0x305c6e[-0x2*0x7db+-0x26db+-0x3694*-0x1],_0x46bfd3[_0x3fa26b+(0xfa0+-0xb14*0x3+0x11a1*0x1)]=_0x305c6e[0xcaf+0x886*-0x2+0x13*0x3b],_0x46bfd3[_0x3fa26b+(-0x250f+-0x114a*0x2+-0xe55*-0x5)]=_0x305c6e[-0x4*0x8f9+0x42+-0x23a7*-0x1],_0x46bfd3[_0x3fa26b+(0x89*-0x6+0x26*0x2b+-0x3*0x10c)]=_0x305c6e[-0x7*0x2e3+-0x1bc5+0x18*0x200],_0x46bfd3[_0x3fa26b+(-0x1525+-0x2527+0x89*0x6d)]=_0x305c6e[0xd*-0x14f+-0x1732+-0x19*-0x19c],_0x46bfd3[_0x3fa26b+(-0x19c7+-0x1*0xbe9+-0x1b7*-0x16)]=_0x305c6e[0x4e7+-0x1b0f+0x1630];},Be[ud]=function(_0x4350d4,_0x898b33,_0x24425c,_0xbb87a9){const _0x1e9961=_0x4350d4['storageFlo'+'at32'];for(let _0x123c7e=0x2518+0x140+-0x2658;_0x123c7e<_0xbb87a9;_0x123c7e++)_0x1e9961[_0x24425c+_0x123c7e*(-0xa4d+-0x1*-0x310+-0x1*-0x741)]=_0x898b33[_0x123c7e];},Be[pd]=(_0x54d905,_0x221dd6,_0x541857,_0x481cb2)=>{const _0x3a4cb0=_0x54d905['storageFlo'+'at32'];for(let _0x50fe76=-0x2*-0x267+0xa81+-0x1*0xf4f;_0x50fe76<_0x481cb2;_0x50fe76++)_0x3a4cb0[_0x541857+_0x50fe76*(-0x241a+-0x1ce2+0x80*0x82)]=_0x221dd6[_0x50fe76*(0x2263*0x1+0x18b*0x4+0x288d*-0x1)],_0x3a4cb0[_0x541857+_0x50fe76*(0x1f1*-0x4+-0x21fa+-0x5*-0x85a)+(-0x5d*0x3e+-0x8e+0x1715)]=_0x221dd6[_0x50fe76*(-0x2207+0x21a3+-0x66*-0x1)+(0xcbf+-0xb*-0x1dc+-0x25f*0xe)];},Be[md]=(_0x4c9c02,_0x16e2c4,_0x246265,_0x15c003)=>{const _0x4206f2=_0x4c9c02['storageFlo'+'at32'];for(let _0x2e87a3=0x1d41*0x1+-0xada+-0x2a1*0x7;_0x2e87a3<_0x15c003;_0x2e87a3++)_0x4206f2[_0x246265+_0x2e87a3*(0x25de+-0x1ddf*0x1+-0x7fb)]=_0x16e2c4[_0x2e87a3*(0x13*0x133+-0x1f0c*0x1+0x846)],_0x4206f2[_0x246265+_0x2e87a3*(0x3a1*0x3+-0xc0d*-0x1+0x146*-0x12)+(-0x18ac+-0x3*0x728+0x1*0x2e25)]=_0x16e2c4[_0x2e87a3*(-0x1551+0x180e+-0x2ba*0x1)+(-0x271*0x3+0x24f3+-0x1d9f)],_0x4206f2[_0x246265+_0x2e87a3*(-0xd2c+0x24bb+-0x178b)+(-0x1*0x89b+-0x1afd+0x239a)]=_0x16e2c4[_0x2e87a3*(-0xab5*-0x1+-0xb*-0x302+-0x4*0xaf2)+(-0x26b4*0x1+-0x1*0x207b+0x5*0xe3d)];},Be[Fn]=(_0x3ec3d0,_0x1defd2,_0xe7c0c2,_0x369202)=>{const _0x421027=_0x3ec3d0['storageUin'+'t32'];_0x421027[_0xe7c0c2]=_0x1defd2;},Be[Nn]=(_0x3c94f2,_0x523550,_0xf810f1,_0x5d9728)=>{const _0x186718=_0x3c94f2['storageUin'+'t32'];_0x186718[_0xf810f1]=_0x523550[0xcae+-0xe3e+-0x2*-0xc8],_0x186718[_0xf810f1+(-0x12b8+0x13*0x31+0xf16)]=_0x523550[-0x230b+0x1b28+0x7e4];},Be[kn]=(_0x1a4f4c,_0x57e76a,_0x4862ce,_0x1ed43d)=>{const _0x4d3a63=_0x1a4f4c['storageUin'+'t32'];_0x4d3a63[_0x4862ce]=_0x57e76a[-0x1106+0x18e3+-0x21*0x3d],_0x4d3a63[_0x4862ce+(0xd*0x233+0xe20+-0x2ab6)]=_0x57e76a[-0x2377+0x489+0x1eef],_0x4d3a63[_0x4862ce+(0x2379*-0x1+0xa*0x43+0x20dd)]=_0x57e76a[0x1577+-0x6f1+-0xe84*0x1];},Be[Un]=(_0x55d6a2,_0x3175e4,_0x4f0c7d,_0x11bfac)=>{const _0x207d3b=_0x55d6a2['storageUin'+'t32'];_0x207d3b[_0x4f0c7d]=_0x3175e4[0xcd0+0x543*0x1+0x295*-0x7],_0x207d3b[_0x4f0c7d+(0x1*-0x18ef+-0xc06+0x6*0x629)]=_0x3175e4[0x1c4b*-0x1+0x1586+0x6c6],_0x207d3b[_0x4f0c7d+(0x123d+0x1b65+-0x490*0xa)]=_0x3175e4[0x26f+-0x1d8a+0x1b1d],_0x207d3b[_0x4f0c7d+(-0x2551+0x1*0x2349+0x20b)]=_0x3175e4[0x1b2+-0x1f*0x69+0xb08*0x1];},Be[Bn]=function(_0x361af7,_0x21fe42,_0x14f7ab,_0x4c305a){const _0x1962b9=_0x361af7['storageInt'+'32'];for(let _0x2819c4=-0x1f7d*-0x1+0x32*0x20+-0x1*0x25bd;_0x2819c4<_0x4c305a;_0x2819c4++)_0x1962b9[_0x14f7ab+_0x2819c4*(0xb*-0x1ba+0x78+0x128a)]=_0x21fe42[_0x2819c4];},Be[gd]=Be[Bn],Be[_d]=function(_0x1a52e1,_0x19b7a3,_0x210c01,_0x301c2d){const _0x5511fb=_0x1a52e1['storageUin'+'t32'];for(let _0x290c30=0x2*0x2c8+-0x24c7+0x1f37;_0x290c30<_0x301c2d;_0x290c30++)_0x5511fb[_0x210c01+_0x290c30*(0x6*0x1dd+0xe6e*-0x2+0x11b2)]=_0x19b7a3[_0x290c30];},Be[zn]=(_0xcde258,_0x3d59de,_0x4e9304,_0x45f678)=>{const _0x475b81=_0xcde258['storageInt'+'32'];for(let _0x36af1f=-0x11e3+-0xb32+0x1d15;_0x36af1f<_0x45f678;_0x36af1f++)_0x475b81[_0x4e9304+_0x36af1f*(-0x19ce+-0x3ec*0x9+0x3d1e)]=_0x3d59de[_0x36af1f*(-0x274*-0x6+-0x1ddd+-0x3*-0x50d)],_0x475b81[_0x4e9304+_0x36af1f*(0x9e9+-0x8cb*0x3+0x107c)+(-0x1577+-0x167*0x6+0x1de2)]=_0x3d59de[_0x36af1f*(-0x38*-0x3e+-0x4e*-0x71+-0x1*0x2ffc)+(0x1af2+-0x1285+0x16*-0x62)];},Be[yd]=Be[zn],Be[Sd]=(_0x4e4c4c,_0x4b69b8,_0x98e644,_0xe9ac12)=>{const _0x2345b0=_0x4e4c4c['storageUin'+'t32'];for(let _0x248897=0x1b1a+0x8d6+0x73*-0x50;_0x248897<_0xe9ac12;_0x248897++)_0x2345b0[_0x98e644+_0x248897*(0x1*0x40f+0x4*0x919+-0x286f)]=_0x4b69b8[_0x248897*(0x243d+-0x21cf+-0x9b*0x4)],_0x2345b0[_0x98e644+_0x248897*(-0x24fa+0x48e+-0x18*-0x15a)+(0x251d*0x1+-0x15aa+-0xf72)]=_0x4b69b8[_0x248897*(-0x403*-0x9+0x482+0x23*-0x129)+(-0x11*-0x15b+0x3e*-0x47+-0x2*0x2ec)];},Be[Vn]=(_0x173cb7,_0x3fc0cb,_0x3cb887,_0x2f270d)=>{const _0x5aa9a4=_0x173cb7['storageInt'+'32'];for(let _0x89501d=-0xd23+-0x1*0xf21+-0x3*-0x96c;_0x89501d<_0x2f270d;_0x89501d++)_0x5aa9a4[_0x3cb887+_0x89501d*(-0x1*-0x6a3+-0x5*0x514+0x12c5)]=_0x3fc0cb[_0x89501d*(-0x8*0x9d+0x7a6+-0x2bb)],_0x5aa9a4[_0x3cb887+_0x89501d*(0x12b4+0x21b0+0x2*-0x1a30)+(0x1367*-0x1+0x1528+0x4*-0x70)]=_0x3fc0cb[_0x89501d*(0x1*-0x890+0x2032+-0x179f)+(-0x1*-0xfbd+0x20aa+-0x15*0x24e)],_0x5aa9a4[_0x3cb887+_0x89501d*(-0x1*-0x46f+-0x361*0x9+0x19fe)+(-0x39*0x97+-0x2*-0x10fd+-0x59)]=_0x3fc0cb[_0x89501d*(0xf1*-0x9+-0x7ff*-0x1+0x7d)+(-0x1c*0x63+-0x9ec+0x14c2)];},Be[xd]=Be[Vn],Be[vd]=(_0x330196,_0xdd8bab,_0x9e0ea6,_0x3185a8)=>{const _0x4c3e26=_0x330196['storageUin'+'t32'];for(let _0x588bec=-0x99d*0x2+0x2141+0xbd*-0x13;_0x588bec<_0x3185a8;_0x588bec++)_0x4c3e26[_0x9e0ea6+_0x588bec*(-0x64*0x6+0x983+-0x1*0x727)]=_0xdd8bab[_0x588bec*(-0x1b46+-0x9e6+0x252f)],_0x4c3e26[_0x9e0ea6+_0x588bec*(-0x2b*0xb7+-0x24b*-0x8+0xc69*0x1)+(0x1831+-0x21d*0x12+-0xc5*-0x12)]=_0xdd8bab[_0x588bec*(0x1fe5+-0xc49+-0x1399)+(-0x1900+0xc9*-0x1+0x19ca)],_0x4c3e26[_0x9e0ea6+_0x588bec*(-0x2709+0xe8e+0x187f)+(0x29*0x2+-0x1b14*-0x1+-0x1b64)]=_0xdd8bab[_0x588bec*(0x11e*0xb+-0x1a81+-0x6*-0x25f)+(0x1cfb+-0x1*-0x5cb+0x32*-0xb2)];};class zp{constructor(_0x42bb74,_0x1de3de,_0x676d7d=!(0x27*-0xd+0xe49+-0x19*0x7e)){h(this,'device'),h(this,'persistent'),h(this,'allocation'),h(this,'storageFlo'+'at32'),h(this,'storageInt'+'32'),h(this,'storageUin'+'t32'),h(this,'renderVers'+'ionDirty',-0x781+-0x1623+-0xe*-0x21e);if(this['device']=_0x42bb74,this['format']=_0x1de3de,this['persistent']=_0x676d7d,w['assert'](_0x1de3de),_0x676d7d){this['impl']=_0x42bb74['createUnif'+'ormBufferI'+'mpl'](this);const _0x1a1802=new ArrayBuffer(_0x1de3de['byteSize']);this['assignStor'+'age'](new Int32Array(_0x1a1802)),_0x42bb74['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new WT();}['destroy'](){if(this['persistent']){const _0x32242a=this['device'];this['impl']['destroy'](_0x32242a),_0x32242a['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?-0xa3f*-0x1+0x3*0x7ed+-0xd*0x29e:this['allocation']['offset'];}['assignStor'+'age'](_0x5f22ee){this['storageInt'+'32']=_0x5f22ee,this['storageUin'+'t32']=new Uint32Array(_0x5f22ee['buffer'],_0x5f22ee['byteOffset'],_0x5f22ee['byteLength']/(0xe72+0x1*0x208f+0x17*-0x20b)),this['storageFlo'+'at32']=new Float32Array(_0x5f22ee['buffer'],_0x5f22ee['byteOffset'],_0x5f22ee['byteLength']/(0x82f+-0xe33+-0x1*-0x608));}['loseContex'+'t'](){var _0x42aea8;(_0x42aea8=this['impl'])==null||_0x42aea8['loseContex'+'t']();}['setUniform'](_0x3e8c83,_0x53acdd){w['assert'](_0x3e8c83);const _0x433d34=_0x3e8c83['offset'];if(_0x53acdd!=null){const _0x2dd5c4=Be[_0x3e8c83['updateType']];_0x2dd5c4?_0x2dd5c4(this,_0x53acdd,_0x433d34,_0x3e8c83['count']):this['storageFlo'+'at32']['set'](_0x53acdd,_0x433d34);}else w['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0x3e8c83['name']+('],\x20expecte'+'d\x20type\x20')+Ey[_0x3e8c83['type']]+('\x20while\x20ren'+'dering\x20')+Q['toString']());}['set'](_0x4f90db,_0x14fb2e){const _0x1a58b3=this['format']['map']['get'](_0x4f90db);w['assert'](_0x1a58b3,'Uniform\x20na'+'me\x20['+_0x4f90db+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0x1a58b3&&this['setUniform'](_0x1a58b3,_0x14fb2e);}['startUpdat'+'e'](_0x1bc761){if(!this['persistent']){const _0x2cc400=this['allocation'],_0x41b9e6=_0x2cc400['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x2cc400,this['format']['byteSize']),this['assignStor'+'age'](_0x2cc400['storage']),_0x1bc761&&(_0x1bc761['bindGroup']=_0x2cc400['gpuBuffer']['getBindGro'+'up'](this),_0x1bc761['offsets'][-0x20a+0x59+-0x1*-0x1b1]=_0x2cc400['offset']),_0x41b9e6!==_0x2cc400['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x4a1c0c){this['startUpdat'+'e'](_0x4a1c0c);const _0x5432b8=this['format']['uniforms'];for(let _0x51551f=-0xd4+-0xd1e+0xdf2;_0x51551f<_0x5432b8['length'];_0x51551f++){const _0x567f69=_0x5432b8[_0x51551f]['scopeId']['value'];this['setUniform'](_0x5432b8[_0x51551f],_0x567f69);}this['endUpdate']();}}class $T{constructor(){h(this,'frameAlloc'+'ations',[]),h(this,'pastFrameA'+'llocations',new Map()),h(this,'_enabled',!(-0x9*-0xd3+-0x1*-0xc3a+0x2*-0x9d2)),h(this,'_enableReq'+'uest',!(0x3b0+-0x13*-0x11f+0x52*-0x4e)),h(this,'_frameTime',0x45c+0x1a8*0x4+-0xafc);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x169670){this['_enableReq'+'uest']=_0x169670;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=0x4cf*0x5+-0x1cdf+0x4d4));}['request'](_0x101ff4){this['pastFrameA'+'llocations']['set'](_0x101ff4,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x46ad45,_0x1bdf08){if(_0x1bdf08){const _0x424eb5=this['pastFrameA'+'llocations']['get'](_0x46ad45);if(w['assert'](_0x424eb5['length']===_0x1bdf08['length']),_0x1bdf08['length']>-0xa32+-0xb*-0x75+0x1b*0x31&&(this['_frameTime']=_0x1bdf08['reduce']((_0x2cef61,_0x32cfd4)=>_0x2cef61+_0x32cfd4,-0x235c+-0x81+0x1*0x23dd)),mi['get'](Gl)){w['trace'](Gl,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x46ad45+'\x20--');let _0x43e1f1=0x1c9*-0x6+0x14*0x73+0x1a*0x11;for(let _0x375aba=0x5e6+-0x418+-0x1ce;_0x375aba<_0x424eb5['length'];++_0x375aba){const _0x4071aa=_0x424eb5[_0x375aba];_0x43e1f1+=_0x1bdf08[_0x375aba],w['trace'](Gl,_0x1bdf08[_0x375aba]['toFixed'](-0x3*0xa5f+-0x7*-0x2bd+-0x66*-0x1e)+'\x20ms\x20'+_0x4071aa);}w['trace'](Gl,_0x43e1f1['toFixed'](-0x108c+0x122f+-0x1a1)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x46ad45);}['getSlot'](_0x683c9f){const _0x5b6eb7=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x683c9f),_0x5b6eb7;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class jy{constructor(){h(this,'bufferId',null);}['destroy'](_0x30c53e){this['bufferId']&&(_0x30c53e['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x5cc7fb,_0x51bd3d,_0x5261ef,_0x2a41e6){const _0x20bbee=_0x5cc7fb['gl'];if(this['bufferId'])_0x20bbee['bindBuffer'](_0x5261ef,this['bufferId']),_0x20bbee['bufferSubD'+'ata'](_0x5261ef,0x1aef+0xcd9+-0x27c8,_0x2a41e6);else{let _0x10a904;switch(_0x51bd3d){case ms:_0x10a904=_0x20bbee['STATIC_DRA'+'W'];break;case lh:_0x10a904=_0x20bbee['DYNAMIC_DR'+'AW'];break;case ey:_0x10a904=_0x20bbee['STREAM_DRA'+'W'];break;case bx:_0x10a904=_0x20bbee['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x20bbee['createBuff'+'er'](),_0x20bbee['bindBuffer'](_0x5261ef,this['bufferId']),_0x20bbee['bufferData'](_0x5261ef,_0x2a41e6,_0x10a904);}}}class XT extends jy{constructor(){super(...arguments),h(this,'vao',null);}['destroy'](_0x32ad8d){super['destroy'](_0x32ad8d),_0x32ad8d['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x4e5d98){const _0x42d70f=_0x4e5d98['device'];super['unlock'](_0x42d70f,_0x4e5d98['usage'],_0x42d70f['gl']['ARRAY_BUFF'+'ER'],_0x4e5d98['storage']);}}class qT extends jy{constructor(_0x2e386f){super();const _0xfa8f31=_0x2e386f['device']['gl'],_0xf7d3aa=_0x2e386f['format'];_0xf7d3aa===$f?this['glFormat']=_0xfa8f31['UNSIGNED_B'+'YTE']:_0xf7d3aa===Yi?this['glFormat']=_0xfa8f31['UNSIGNED_S'+'HORT']:_0xf7d3aa===wr&&(this['glFormat']=_0xfa8f31['UNSIGNED_I'+'NT']);}['unlock'](_0x162dc4){const _0x1265df=_0x162dc4['device'];super['unlock'](_0x1265df,_0x162dc4['usage'],_0x1265df['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x162dc4['storage']);}}class jT{constructor(_0x39b521,_0x325750,_0xc31cfa,_0x18a7e4){if(this['locationId']=_0x18a7e4,this['scopeId']=_0x39b521['scope']['resolve'](_0x325750),this['version']=new Uy(),_0x325750['substring'](_0x325750['length']-(0x174a+0x1e71*-0x1+0x72a))==='[0]')switch(_0xc31cfa){case Xs:_0xc31cfa=ud;break;case _a:_0xc31cfa=Bn;break;case Fn:_0xc31cfa=_d;break;case Tn:_0xc31cfa=gd;break;case ga:_0xc31cfa=pd;break;case ca:_0xc31cfa=zn;break;case Nn:_0xc31cfa=Sd;break;case tl:_0xc31cfa=yd;break;case ds:_0xc31cfa=md;break;case ha:_0xc31cfa=Vn;break;case kn:_0xc31cfa=vd;break;case sl:_0xc31cfa=xd;break;case Rn:_0xc31cfa=Lp;break;case da:_0xc31cfa=gh;break;case Un:_0xc31cfa=Rp;break;case il:_0xc31cfa=Op;break;}this['dataType']=_0xc31cfa,this['value']=[null,null,null,null],this['array']=[];}}let l_=-0x7c6+-0xf*0x1b7+0x217f;const YT=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class KT{constructor(){h(this,'map',new Map());}['destroy'](_0x441bad){this['map']['forEach'](_0x3137b7=>{_0x441bad['gl']['deleteShad'+'er'](_0x3137b7);});}['loseContex'+'t'](_0x26c750){this['map']['clear']();}}const ZT=new Kt(),QT=new Kt();class JT{constructor(_0x465464){h(this,'compileDur'+'ation',0x3*0x882+0x406+-0x4*0x763),(this['init'](),this['compile'](_0x465464['device'],_0x465464),this['link'](_0x465464['device'],_0x465464),_0x465464['device']['shaders']['push'](_0x465464));}['destroy'](_0x18d37f){this['glProgram']&&(_0x18d37f['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x24e0c7,_0x37fd27){this['compile'](_0x24e0c7,_0x37fd27),this['link'](_0x24e0c7,_0x37fd27);}['compile'](_0xeba831,_0x8d1a69){const _0x2eb885=_0x8d1a69['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0xeba831,_0x2eb885['vshader'],!(-0x2*0x1237+-0x1f6*-0xb+0x6*0x27a)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0xeba831,_0x2eb885['fshader'],!(-0x16*0x45+0xa2b+-0x43c));}['link'](_0x2cf70d,_0x4bc5df){if(this['glProgram'])return;const _0x37ddf5=_0x2cf70d['gl'];if(_0x37ddf5['isContextL'+'ost']())return;let _0x3f19af=0xd*0x162+-0x3*0x3e1+0x21d*-0x3;w['call'](()=>{this['compileDur'+'ation']=-0xfe2+-0x5aa+0x158c,_0x3f19af=de();});const _0x58bd64=_0x37ddf5['createProg'+'ram']();this['glProgram']=_0x58bd64,_0x37ddf5['attachShad'+'er'](_0x58bd64,this['glVertexSh'+'ader']),_0x37ddf5['attachShad'+'er'](_0x58bd64,this['glFragment'+'Shader']);const _0x50dc51=_0x4bc5df['definition'],_0x14231e=_0x50dc51['attributes'];if(_0x50dc51['useTransfo'+'rmFeedback']){const _0x12d34c=[];for(const _0x56bf8d in _0x14231e)_0x14231e['hasOwnProp'+'erty'](_0x56bf8d)&&_0x12d34c['push']('out_'+_0x56bf8d);_0x37ddf5['transformF'+'eedbackVar'+'yings'](_0x58bd64,_0x12d34c,_0x37ddf5['INTERLEAVE'+'D_ATTRIBS']);}const _0x2409ee={};for(const _0x1fc3d2 in _0x14231e)if(_0x14231e['hasOwnProp'+'erty'](_0x1fc3d2)){const _0x17f511=_0x14231e[_0x1fc3d2],_0x3ce74b=Le[_0x17f511];w['assert'](!_0x2409ee['hasOwnProp'+'erty'](_0x3ce74b),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0x2409ee[_0x3ce74b]+'\x20and\x20'+_0x1fc3d2),_0x2409ee[_0x3ce74b]=_0x1fc3d2,_0x37ddf5['bindAttrib'+'Location'](_0x58bd64,_0x3ce74b,_0x1fc3d2);}_0x37ddf5['linkProgra'+'m'](_0x58bd64),w['call'](()=>{this['compileDur'+'ation']=de()-_0x3f19af;}),_0x2cf70d['_shaderSta'+'ts']['linked']++,_0x50dc51['tag']===Sy&&_0x2cf70d['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x4fab1a,_0x1310de,_0x102b53){const _0x19de64=_0x4fab1a['gl'];if(_0x19de64['isContextL'+'ost']())return null;const _0x3f87d=(_0x102b53?ZT:QT)['get'](_0x4fab1a,()=>new KT());let _0x14b805=_0x3f87d['map']['get'](_0x1310de);if(!_0x14b805){const _0x3ef811=de();_0x4fab1a['fire']('shader:com'+'pile:start',{'timestamp':_0x3ef811,'target':_0x4fab1a}),_0x14b805=_0x19de64['createShad'+'er'](_0x102b53?_0x19de64['VERTEX_SHA'+'DER']:_0x19de64['FRAGMENT_S'+'HADER']),_0x19de64['shaderSour'+'ce'](_0x14b805,_0x1310de),_0x19de64['compileSha'+'der'](_0x14b805),_0x3f87d['map']['set'](_0x1310de,_0x14b805);const _0x2add9f=de();_0x4fab1a['fire']('shader:com'+'pile:end',{'timestamp':_0x2add9f,'target':_0x4fab1a}),_0x4fab1a['_shaderSta'+'ts']['compileTim'+'e']+=_0x2add9f-_0x3ef811,_0x102b53?_0x4fab1a['_shaderSta'+'ts']['vsCompiled']++:_0x4fab1a['_shaderSta'+'ts']['fsCompiled']++;}return _0x14b805;}['finalize'](_0x483d59,_0x55dcaf){var _0x472eab,_0x5e83bb;const _0xc2e38a=_0x483d59['gl'];if(_0xc2e38a['isContextL'+'ost']())return!(0x1156+-0x1*0x1105+0x3*-0x1b);const _0x36ead8=this['glProgram'],_0x5f5b2d=_0x55dcaf['definition'],_0x56e6e4=de();_0x483d59['fire']('shader:lin'+'k:start',{'timestamp':_0x56e6e4,'target':_0x483d59});let _0x4f64fd=-0x22*-0x1e+-0x9*0x1+-0x3*0x151;if(w['call'](()=>{_0x4f64fd=de();}),!_0xc2e38a['getProgram'+'Parameter'](_0x36ead8,_0xc2e38a['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x483d59,_0x55dcaf,this['glVertexSh'+'ader'],_0x5f5b2d['vshader'],'vertex')||!this['_isCompile'+'d'](_0x483d59,_0x55dcaf,this['glFragment'+'Shader'],_0x5f5b2d['fshader'],'fragment'))return!(-0x1*0x189a+-0x6*0x27a+0x1*0x2777);const _0x1aaf5b='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0xc2e38a['getProgram'+'InfoLog'](_0x36ead8);return _0x5f5b2d['translated'+'Frag']=(_0x472eab=_0xc2e38a['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0x1cef+-0x640+0x16af*-0x1):_0x472eab['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x5f5b2d['translated'+'Vert']=(_0x5e83bb=_0xc2e38a['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0x3e*0x6+0x2b*-0xb5+-0x1cf3*-0x1):_0x5e83bb['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x1aaf5b,_0x5f5b2d),console['error'](_0x1aaf5b),!(-0x22e8+-0x1bac+0x3e95);}const _0x2fe395=_0xc2e38a['getProgram'+'Parameter'](_0x36ead8,_0xc2e38a['ACTIVE_ATT'+'RIBUTES']);_0x55dcaf['attributes']['clear']();for(let _0x878162=-0x8*-0x1af+-0x1c9a+0xf22;_0x878162<_0x2fe395;_0x878162++){const _0x2c2ecc=_0xc2e38a['getActiveA'+'ttrib'](_0x36ead8,_0x878162),_0x4eb05c=_0xc2e38a['getAttribL'+'ocation'](_0x36ead8,_0x2c2ecc['name']);YT['has'](_0x2c2ecc['name'])||(_0x5f5b2d['attributes'][_0x2c2ecc['name']]===void(-0xa72+0x4*-0x303+-0x1*-0x167e)?(console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0x2c2ecc['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0x55dcaf['label']+']',_0x55dcaf),_0x55dcaf['failed']=!(-0x1*0x5cf+-0x3*0x29f+0xdac)):_0x55dcaf['attributes']['set'](_0x4eb05c,_0x2c2ecc['name']));}const _0x15f6a9=_0x483d59['_samplerTy'+'pes'],_0x1c20cf=_0xc2e38a['getProgram'+'Parameter'](_0x36ead8,_0xc2e38a['ACTIVE_UNI'+'FORMS']);for(let _0x22d46e=-0x1*-0xaab+0x1*0x252f+-0x2fda;_0x22d46e<_0x1c20cf;_0x22d46e++){const _0x55a0a7=_0xc2e38a['getActiveU'+'niform'](_0x36ead8,_0x22d46e),_0x2d2128=_0xc2e38a['getUniform'+'Location'](_0x36ead8,_0x55a0a7['name']),_0x1af1c3=new jT(_0x483d59,_0x55a0a7['name'],_0x483d59['pcUniformT'+'ype'][_0x55a0a7['type']],_0x2d2128);_0x15f6a9['has'](_0x55a0a7['type'])?this['samplers']['push'](_0x1af1c3):this['uniforms']['push'](_0x1af1c3);}_0x55dcaf['ready']=!(0xf1+0x967+0x14b*-0x8);const _0x28897a=de();return _0x483d59['fire']('shader:lin'+'k:end',{'timestamp':_0x28897a,'target':_0x483d59}),_0x483d59['_shaderSta'+'ts']['compileTim'+'e']+=_0x28897a-_0x56e6e4,w['call'](()=>{const _0x458fe2=de()-_0x4f64fd;this['compileDur'+'ation']+=_0x458fe2,l_+=this['compileDur'+'ation'],w['trace']($0,'[id:\x20'+_0x55dcaf['id']+']\x20'+_0x55dcaf['name']+':\x20'+this['compileDur'+'ation']['toFixed'](-0x222f+0xa6b+0x17c5)+('ms,\x20TOTAL:'+'\x20')+l_['toFixed'](-0xb15+-0x1*-0x8b1+-0x265*-0x1)+'ms');}),!(-0x1ab8+0x1*-0x443+0x1efb);}['_isCompile'+'d'](_0x245c33,_0x40c79a,_0x4d0a92,_0x281678,_0x76ebbe){const _0x13be2b=_0x245c33['gl'];if(!_0x13be2b['getShaderP'+'arameter'](_0x4d0a92,_0x13be2b['COMPILE_ST'+'ATUS'])){const _0x3280f3=_0x13be2b['getShaderI'+'nfoLog'](_0x4d0a92),[_0x912d17,_0xaf5773]=this['_processEr'+'ror'](_0x281678,_0x3280f3),_0x1b507f='Failed\x20to\x20'+'compile\x20'+_0x76ebbe+'\x20shader:\x0a\x0a'+_0x3280f3+'\x0a'+_0x912d17+('\x20while\x20ren'+'dering\x20')+Q['toString']();return _0xaf5773['shader']=_0x40c79a,console['error'](_0x1b507f,_0xaf5773),console['error'](_0x1b507f),!(-0x5*0x59+-0x316+0xc*0x67);}return!(0x18d3+-0x5bc+0x21f*-0x9);}['isLinked'](_0x5f09b1){const {extParallelShaderCompile:_0xa9dd09}=_0x5f09b1;return _0xa9dd09?_0x5f09b1['gl']['getProgram'+'Parameter'](this['glProgram'],_0xa9dd09['COMPLETION'+'_STATUS_KH'+'R']):!(-0x2*-0xb7e+0x18de+-0x2fda);}['_processEr'+'ror'](_0x55bffc,_0x58f223){const _0x2ff83c={};let _0x423a19='';if(_0x55bffc){const _0x518065=_0x55bffc['split']('\x0a');let _0x3cf0b2=0x5*0x2f9+0x17*0x191+0x1972*-0x2,_0x23e5be=_0x518065['length'];if(_0x58f223&&_0x58f223['startsWith']('ERROR:')){const _0x43798e=_0x58f223['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0x43798e&&(_0x2ff83c['message']=_0x43798e[-0x1c29+0x625+-0x1*-0x1607],_0x2ff83c['line']=parseInt(_0x43798e[-0x16e+0x106e*-0x2+0x224c],0xe7d+-0x2*-0x13c+-0x10eb),_0x3cf0b2=Math['max'](-0x32c+-0x9e8+0x1b*0x7c,_0x2ff83c['line']-(-0x100d+-0x19c6+-0x1*-0x29d9)),_0x23e5be=Math['min'](_0x518065['length'],_0x2ff83c['line']+(0x24c2+0x83*-0x3b+-0x68c*0x1)));}for(let _0x5f16c5=_0x3cf0b2;_0x5f16c5<_0x23e5be;_0x5f16c5++){const _0x1c5829=_0x5f16c5+(0x8aa+0xd73+-0x587*0x4)===_0x2ff83c['line']?'>\x20':'\x20\x20';_0x423a19+=''+_0x1c5829+(_0x5f16c5+(0x1561*0x1+-0x8e*-0x31+0xe2*-0x37))+':\x09'+_0x518065[_0x5f16c5]+'\x0a';}_0x2ff83c['source']=_0x55bffc;}return[_0x423a19,_0x2ff83c];}}function c_(_0x5b14ac,_0x31eab2){const _0x149833=_0x5b14ac['width'],_0x52b773=_0x5b14ac['height'];if(_0x149833>_0x31eab2||_0x52b773>_0x31eab2){const _0x3f972c=_0x31eab2/Math['max'](_0x149833,_0x52b773),_0x281c4d=Math['floor'](_0x149833*_0x3f972c),_0x58ab66=Math['floor'](_0x52b773*_0x3f972c);w['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x31eab2+('.\x20Resizing'+'\x20from\x20')+_0x149833+',\x20'+_0x52b773+'\x20to\x20'+_0x281c4d+',\x20'+_0x58ab66+'.');const _0x29bf9d=document['createElem'+'ent']('canvas');return _0x29bf9d['width']=_0x281c4d,_0x29bf9d['height']=_0x58ab66,_0x29bf9d['getContext']('2d')['drawImage'](_0x5b14ac,-0x1c4b*-0x1+-0x3a2+-0x6b*0x3b,-0x4fd*0x7+0xb*0x238+-0xd*-0xcf,_0x149833,_0x52b773,0x3*-0x50d+-0x14ac+0x23d3*0x1,0x1b3e+0x1*0x261f+-0x415d,_0x281c4d,_0x58ab66),_0x29bf9d;}return _0x5b14ac;}class ew{constructor(_0x1300ff){h(this,'_glTexture',null),h(this,'_glTarget'),h(this,'_glFormat'),h(this,'_glInterna'+'lFormat'),h(this,'_glPixelTy'+'pe'),h(this,'_glCreated'),h(this,'dirtyParam'+'eterFlags',-0x9ec+-0x11c*-0x13+0x33*-0x38),this['texture']=_0x1300ff;}['destroy'](_0x2de9b7){if(this['_glTexture']){for(let _0x47484a=-0x1*-0x1a89+0x235d+0x39*-0x116;_0x47484a<_0x2de9b7['textureUni'+'ts']['length'];_0x47484a++){const _0x4ea782=_0x2de9b7['textureUni'+'ts'][_0x47484a];for(let _0x1c0271=0x1cbe+0x1b2d*0x1+-0x7fd*0x7;_0x1c0271<_0x4ea782['length'];_0x1c0271++)_0x4ea782[_0x1c0271]===this['_glTexture']&&(_0x4ea782[_0x1c0271]=null);}_0x2de9b7['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x32d6d7){this['dirtyParam'+'eterFlags']|=_0x32d6d7;}['initialize'](_0x1dfc41,_0x24e846){const _0x11afaa=_0x1dfc41['gl'];switch(this['_glTexture']=_0x11afaa['createText'+'ure'](),this['_glTarget']=_0x24e846['_cubemap']?_0x11afaa['TEXTURE_CU'+'BE_MAP']:_0x24e846['_volume']?_0x11afaa['TEXTURE_3D']:_0x24e846['array']?_0x11afaa['TEXTURE_2D'+'_ARRAY']:_0x11afaa['TEXTURE_2D'],_0x24e846['_format']){case ty:this['_glFormat']=_0x11afaa['ALPHA'],this['_glInterna'+'lFormat']=_0x11afaa['ALPHA'],this['_glPixelTy'+'pe']=_0x11afaa['UNSIGNED_B'+'YTE'];break;case sy:this['_glFormat']=_0x11afaa['LUMINANCE'],this['_glInterna'+'lFormat']=_0x11afaa['LUMINANCE'],this['_glPixelTy'+'pe']=_0x11afaa['UNSIGNED_B'+'YTE'];break;case ap:this['_glFormat']=_0x11afaa['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x11afaa['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x11afaa['UNSIGNED_B'+'YTE'];break;case Ep:this['_glFormat']=_0x11afaa['RED'],this['_glInterna'+'lFormat']=_0x11afaa['R8'],this['_glPixelTy'+'pe']=_0x11afaa['UNSIGNED_B'+'YTE'];break;case bp:this['_glFormat']=_0x11afaa['RG'],this['_glInterna'+'lFormat']=_0x11afaa['RG8'],this['_glPixelTy'+'pe']=_0x11afaa['UNSIGNED_B'+'YTE'];break;case Jh:this['_glFormat']=_0x11afaa['RGB'],this['_glInterna'+'lFormat']=_0x11afaa['RGB565'],this['_glPixelTy'+'pe']=_0x11afaa['UNSIGNED_S'+'HORT_5_6_5'];break;case np:this['_glFormat']=_0x11afaa['RGBA'],this['_glInterna'+'lFormat']=_0x11afaa['RGB5_A1'],this['_glPixelTy'+'pe']=_0x11afaa['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case ed:this['_glFormat']=_0x11afaa['RGBA'],this['_glInterna'+'lFormat']=_0x11afaa['RGBA4'],this['_glPixelTy'+'pe']=_0x11afaa['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case Cr:this['_glFormat']=_0x11afaa['RGB'],this['_glInterna'+'lFormat']=_0x11afaa['RGB8'],this['_glPixelTy'+'pe']=_0x11afaa['UNSIGNED_B'+'YTE'];break;case Ne:this['_glFormat']=_0x11afaa['RGBA'],this['_glInterna'+'lFormat']=_0x11afaa['RGBA8'],this['_glPixelTy'+'pe']=_0x11afaa['UNSIGNED_B'+'YTE'];break;case ny:case hy:w['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case td:this['_glFormat']=_0x11afaa['RGB'],this['_glInterna'+'lFormat']=_0x1dfc41['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case op:this['_glFormat']=_0x11afaa['RGBA'],this['_glInterna'+'lFormat']=_0x1dfc41['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case vl:this['_glFormat']=_0x11afaa['RGBA'],this['_glInterna'+'lFormat']=_0x1dfc41['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case id:this['_glFormat']=_0x11afaa['RGB'],this['_glInterna'+'lFormat']=_0x1dfc41['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case xl:this['_glFormat']=_0x11afaa['RGB'],this['_glInterna'+'lFormat']=_0x1dfc41['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Tl:this['_glFormat']=_0x11afaa['RGBA'],this['_glInterna'+'lFormat']=_0x1dfc41['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case rd:this['_glFormat']=_0x11afaa['RGB'],this['_glInterna'+'lFormat']=_0x1dfc41['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case ad:this['_glFormat']=_0x11afaa['RGBA'],this['_glInterna'+'lFormat']=_0x1dfc41['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case cp:this['_glFormat']=_0x11afaa['RGB'],this['_glInterna'+'lFormat']=_0x1dfc41['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case hp:this['_glFormat']=_0x11afaa['RGBA'],this['_glInterna'+'lFormat']=_0x1dfc41['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case iy:this['_glFormat']=_0x11afaa['RGBA'],this['_glInterna'+'lFormat']=_0x1dfc41['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case ry:this['_glFormat']=_0x11afaa['RGB'],this['_glInterna'+'lFormat']=_0x1dfc41['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case ay:this['_glFormat']=_0x11afaa['RGBA'],this['_glInterna'+'lFormat']=_0x1dfc41['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case dy:this['_glFormat']=_0x11afaa['RGB'],this['_glInterna'+'lFormat']=_0x1dfc41['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case fy:this['_glFormat']=_0x11afaa['RGB'],this['_glInterna'+'lFormat']=_0x1dfc41['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case uy:this['_glFormat']=_0x11afaa['RGBA'],this['_glInterna'+'lFormat']=_0x1dfc41['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case Xf:this['_glFormat']=_0x11afaa['SRGB'],this['_glInterna'+'lFormat']=_0x1dfc41['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case qf:this['_glFormat']=_0x11afaa['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x1dfc41['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case jf:this['_glFormat']=_0x11afaa['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x1dfc41['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case Yf:this['_glFormat']=_0x11afaa['SRGB'],this['_glInterna'+'lFormat']=_0x1dfc41['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case Kf:this['_glFormat']=_0x11afaa['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x1dfc41['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Zf:this['_glFormat']=_0x11afaa['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x1dfc41['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case Qf:this['_glFormat']=_0x11afaa['RGBA'],this['_glInterna'+'lFormat']=_0x1dfc41['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case od:this['_glFormat']=_0x11afaa['RED'],this['_glInterna'+'lFormat']=_0x11afaa['R16F'],this['_glPixelTy'+'pe']=_0x11afaa['HALF_FLOAT'];break;case wp:this['_glFormat']=_0x11afaa['RG'],this['_glInterna'+'lFormat']=_0x11afaa['RG16F'],this['_glPixelTy'+'pe']=_0x11afaa['HALF_FLOAT'];break;case ui:this['_glFormat']=_0x11afaa['RGB'],this['_glInterna'+'lFormat']=_0x11afaa['RGB16F'],this['_glPixelTy'+'pe']=_0x11afaa['HALF_FLOAT'];break;case nt:this['_glFormat']=_0x11afaa['RGBA'],this['_glInterna'+'lFormat']=_0x11afaa['RGBA16F'],this['_glPixelTy'+'pe']=_0x11afaa['HALF_FLOAT'];break;case Ye:this['_glFormat']=_0x11afaa['RGB'],this['_glInterna'+'lFormat']=_0x11afaa['RGB32F'],this['_glPixelTy'+'pe']=_0x11afaa['FLOAT'];break;case Xt:this['_glFormat']=_0x11afaa['RGBA'],this['_glInterna'+'lFormat']=_0x11afaa['RGBA32F'],this['_glPixelTy'+'pe']=_0x11afaa['FLOAT'];break;case Ji:this['_glFormat']=_0x11afaa['RED'],this['_glInterna'+'lFormat']=_0x11afaa['R32F'],this['_glPixelTy'+'pe']=_0x11afaa['FLOAT'];break;case $i:this['_glFormat']=_0x11afaa['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x11afaa['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x11afaa['FLOAT'];break;case vn:this['_glFormat']=_0x11afaa['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x11afaa['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x11afaa['UNSIGNED_S'+'HORT'];break;case sd:this['_glFormat']=_0x11afaa['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x11afaa['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x11afaa['UNSIGNED_I'+'NT_24_8'];break;case In:this['_glFormat']=_0x11afaa['RGB'],this['_glInterna'+'lFormat']=_0x11afaa['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x11afaa['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case lp:this['_glFormat']=_0x11afaa['RGB'],this['_glInterna'+'lFormat']=_0x11afaa['SRGB8'],this['_glPixelTy'+'pe']=_0x11afaa['UNSIGNED_B'+'YTE'];break;case _s:this['_glFormat']=_0x11afaa['RGBA'],this['_glInterna'+'lFormat']=_0x11afaa['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x11afaa['UNSIGNED_B'+'YTE'];break;case dp:this['_glFormat']=_0x11afaa['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x11afaa['R8I'],this['_glPixelTy'+'pe']=_0x11afaa['BYTE'];break;case oy:this['_glFormat']=_0x11afaa['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x11afaa['R8UI'],this['_glPixelTy'+'pe']=_0x11afaa['UNSIGNED_B'+'YTE'];break;case fp:this['_glFormat']=_0x11afaa['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x11afaa['R16I'],this['_glPixelTy'+'pe']=_0x11afaa['SHORT'];break;case up:this['_glFormat']=_0x11afaa['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x11afaa['R16UI'],this['_glPixelTy'+'pe']=_0x11afaa['UNSIGNED_S'+'HORT'];break;case pp:this['_glFormat']=_0x11afaa['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x11afaa['R32I'],this['_glPixelTy'+'pe']=_0x11afaa['INT'];break;case Ki:this['_glFormat']=_0x11afaa['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x11afaa['R32UI'],this['_glPixelTy'+'pe']=_0x11afaa['UNSIGNED_I'+'NT'];break;case mp:this['_glFormat']=_0x11afaa['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x11afaa['RG8I'],this['_glPixelTy'+'pe']=_0x11afaa['BYTE'];break;case ly:this['_glFormat']=_0x11afaa['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x11afaa['RG8UI'],this['_glPixelTy'+'pe']=_0x11afaa['UNSIGNED_B'+'YTE'];break;case _p:this['_glFormat']=_0x11afaa['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x11afaa['RG16I'],this['_glPixelTy'+'pe']=_0x11afaa['SHORT'];break;case gp:this['_glFormat']=_0x11afaa['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x11afaa['RG16UI'],this['_glPixelTy'+'pe']=_0x11afaa['UNSIGNED_S'+'HORT'];break;case Sp:this['_glFormat']=_0x11afaa['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x11afaa['RG32I'],this['_glPixelTy'+'pe']=_0x11afaa['INT'];break;case yp:this['_glFormat']=_0x11afaa['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x11afaa['RG32UI'],this['_glPixelTy'+'pe']=_0x11afaa['UNSIGNED_I'+'NT'];break;case vp:this['_glFormat']=_0x11afaa['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x11afaa['RGBA8I'],this['_glPixelTy'+'pe']=_0x11afaa['BYTE'];break;case cy:this['_glFormat']=_0x11afaa['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x11afaa['RGBA8UI'],this['_glPixelTy'+'pe']=_0x11afaa['UNSIGNED_B'+'YTE'];break;case xp:this['_glFormat']=_0x11afaa['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x11afaa['RGBA16I'],this['_glPixelTy'+'pe']=_0x11afaa['SHORT'];break;case nd:this['_glFormat']=_0x11afaa['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x11afaa['RGBA16UI'],this['_glPixelTy'+'pe']=_0x11afaa['UNSIGNED_S'+'HORT'];break;case Tp:this['_glFormat']=_0x11afaa['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x11afaa['RGBA32I'],this['_glPixelTy'+'pe']=_0x11afaa['INT'];break;case Ue:this['_glFormat']=_0x11afaa['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x11afaa['RGBA32UI'],this['_glPixelTy'+'pe']=_0x11afaa['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(-0xe15*0x2+-0x1166+-0x91d*-0x5);}['upload'](_0x19fdf3,_0x5ca030){w['assert'](_0x5ca030['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x5ca030);const _0x5daa52=_0x19fdf3['gl'];if(!_0x5ca030['_needsUplo'+'ad']&&(_0x5ca030['_needsMipm'+'apsUpload']&&_0x5ca030['_mipmapsUp'+'loaded']||!_0x5ca030['pot']))return;let _0x2fc970=-0x1385*-0x1+0x3*-0x379+0x48d*-0x2,_0x7afb3e,_0xcdc1a4;const _0x2dc705=_0x5ca030['numLevels'];for(_0x5ca030['array']&&_0x5daa52['texStorage'+'3D'](_0x5daa52['TEXTURE_2D'+'_ARRAY'],_0x2dc705,this['_glInterna'+'lFormat'],_0x5ca030['_width'],_0x5ca030['_height'],_0x5ca030['_arrayLeng'+'th']);_0x5ca030['_levels'][_0x2fc970]||_0x2fc970===-0x1*0x234a+0x1d*0x126+0x1*0x1fc;){if(!_0x5ca030['_needsUplo'+'ad']&&_0x2fc970===-0x4*-0x469+0x125a+0x22*-0x10f){_0x2fc970++;continue;}else{if(_0x2fc970&&(!_0x5ca030['_needsMipm'+'apsUpload']||!_0x5ca030['_mipmaps']))break;}if(_0x7afb3e=_0x5ca030['_levels'][_0x2fc970],_0xcdc1a4=(0x1c98+0xe*0x1d+0xa0f*-0x3)/Math['pow'](-0x10dc+0x1a41*0x1+0x9*-0x10b,_0x2fc970),_0x2fc970===-0x4eb*0x7+0x2226+0x48&&!_0x5ca030['_compresse'+'d']&&!_0x5ca030['_integerFo'+'rmat']&&_0x5ca030['_levels']['length']<_0x2dc705&&(_0x5daa52['generateMi'+'pmap'](this['_glTarget']),_0x5ca030['_mipmapsUp'+'loaded']=!(-0x2704+0x239+-0x1*-0x24cb)),_0x5ca030['_cubemap']){let _0x1ea2cd;if(_0x19fdf3['_isBrowser'+'Interface'](_0x7afb3e[0xec0+0x1*0x209+-0x10c9]))for(_0x1ea2cd=0x193a*-0x1+0xc19*0x2+0x6*0x2c;_0x1ea2cd<0x26e0+0x96f+-0x3049;_0x1ea2cd++){if(!_0x5ca030['_levelsUpd'+'ated'][-0x245f*0x1+0x1f7*0x4+0x1c83*0x1][_0x1ea2cd])continue;let _0x3bf45b=_0x7afb3e[_0x1ea2cd];_0x19fdf3['_isImageBr'+'owserInter'+'face'](_0x3bf45b)&&(_0x3bf45b['width']>_0x19fdf3['maxCubeMap'+'Size']||_0x3bf45b['height']>_0x19fdf3['maxCubeMap'+'Size'])&&(_0x3bf45b=c_(_0x3bf45b,_0x19fdf3['maxCubeMap'+'Size']),_0x2fc970===0x1896+-0x4e7*-0x7+0x11*-0x377&&(_0x5ca030['_width']=_0x3bf45b['width'],_0x5ca030['_height']=_0x3bf45b['height'])),_0x19fdf3['setUnpackF'+'lipY'](!(0x1*-0xcfe+-0x16c2+0x23c1)),_0x19fdf3['setUnpackP'+'remultiply'+'Alpha'](_0x5ca030['_premultip'+'lyAlpha']),this['_glCreated']?_0x5daa52['texSubImag'+'e2D'](_0x5daa52['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x1ea2cd,_0x2fc970,-0x1799+-0x2e8*0x9+0x31c1,0x3*-0xc63+0x22c5+0x264,this['_glFormat'],this['_glPixelTy'+'pe'],_0x3bf45b):_0x5daa52['texImage2D'](_0x5daa52['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x1ea2cd,_0x2fc970,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x3bf45b);}else for(_0xcdc1a4=(-0xb45*0x1+-0x1*0x31d+0xe63)/Math['pow'](-0x1223*0x1+0x1c51+-0xa2c,_0x2fc970),_0x1ea2cd=0x4*-0x4f3+0x647*0x3+0xf7;_0x1ea2cd<0x1956+-0x6e1+-0x3*0x625;_0x1ea2cd++){if(!_0x5ca030['_levelsUpd'+'ated'][-0x7*-0x59+-0x1e*0x4+-0x1f7][_0x1ea2cd])continue;const _0xb7814a=_0x7afb3e[_0x1ea2cd];_0x5ca030['_compresse'+'d']?this['_glCreated']&&_0xb7814a?_0x5daa52['compressed'+'TexSubImag'+'e2D'](_0x5daa52['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x1ea2cd,_0x2fc970,0x2*0x368+0x1*-0x817+0x147,-0x674*-0x1+0x13*0x7a+-0xf82,Math['max'](_0x5ca030['_width']*_0xcdc1a4,-0x15bd+-0x1b74*0x1+-0x3132*-0x1),Math['max'](_0x5ca030['_height']*_0xcdc1a4,0x1b85*-0x1+0x76*-0xe+0x10fd*0x2),this['_glInterna'+'lFormat'],_0xb7814a):_0x5daa52['compressed'+'TexImage2D'](_0x5daa52['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x1ea2cd,_0x2fc970,this['_glInterna'+'lFormat'],Math['max'](_0x5ca030['_width']*_0xcdc1a4,-0xa9d+-0x288+0xd26),Math['max'](_0x5ca030['_height']*_0xcdc1a4,0x101*-0xe+0x104+0xd0b),0x1889+-0x8f6+-0x1bb*0x9,_0xb7814a):(_0x19fdf3['setUnpackF'+'lipY'](!(-0x5*-0x355+-0x21dd*-0x1+-0x3285)),_0x19fdf3['setUnpackP'+'remultiply'+'Alpha'](_0x5ca030['_premultip'+'lyAlpha']),this['_glCreated']&&_0xb7814a?_0x5daa52['texSubImag'+'e2D'](_0x5daa52['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x1ea2cd,_0x2fc970,0xf*-0x252+-0xa03*-0x1+0x18cb,0x2*0x4c1+-0x87b+0x107*-0x1,Math['max'](_0x5ca030['_width']*_0xcdc1a4,0x64a+0xfc5+-0x160e),Math['max'](_0x5ca030['_height']*_0xcdc1a4,-0x12f8+-0xd55*0x2+-0x1*-0x2da3),this['_glFormat'],this['_glPixelTy'+'pe'],_0xb7814a):_0x5daa52['texImage2D'](_0x5daa52['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x1ea2cd,_0x2fc970,this['_glInterna'+'lFormat'],Math['max'](_0x5ca030['_width']*_0xcdc1a4,-0x2ff*0xb+-0x29*-0x9+-0x1f85*-0x1),Math['max'](_0x5ca030['_height']*_0xcdc1a4,0x2f*-0x7c+-0x5*-0x407+-0x2*-0x151),-0x8a5*-0x4+0x17a6+-0x3a3a,this['_glFormat'],this['_glPixelTy'+'pe'],_0xb7814a));}}else{if(_0x5ca030['_volume'])_0x5ca030['_compresse'+'d']?_0x5daa52['compressed'+'TexImage3D'](_0x5daa52['TEXTURE_3D'],_0x2fc970,this['_glInterna'+'lFormat'],Math['max'](_0x5ca030['_width']*_0xcdc1a4,0x2*0x2b+0x19ec+-0x1a41),Math['max'](_0x5ca030['_height']*_0xcdc1a4,-0x1a79+0x6*-0x377+-0xf2*-0x32),Math['max'](_0x5ca030['_depth']*_0xcdc1a4,0x1*0x1b7b+0xab5+-0x262f),-0x198d+-0x33e+0x27*0xbd,_0x7afb3e):(_0x19fdf3['setUnpackF'+'lipY'](!(0x3d*-0x71+0x24b9+-0x9cb)),_0x19fdf3['setUnpackP'+'remultiply'+'Alpha'](_0x5ca030['_premultip'+'lyAlpha']),_0x5daa52['texImage3D'](_0x5daa52['TEXTURE_3D'],_0x2fc970,this['_glInterna'+'lFormat'],Math['max'](_0x5ca030['_width']*_0xcdc1a4,-0x1d2a*-0x1+0x631*-0x5+0x1cc),Math['max'](_0x5ca030['_height']*_0xcdc1a4,0x97*-0x2f+-0x1*0x17c2+-0x19be*-0x2),Math['max'](_0x5ca030['_depth']*_0xcdc1a4,0x1*-0xd85+0x2*0x647+0x1f*0x8),-0x22ce+-0x1*0x1319+0x35e7*0x1,this['_glFormat'],this['_glPixelTy'+'pe'],_0x7afb3e));else{if(_0x5ca030['array']&&typeof _0x7afb3e=='object'){if(_0x5ca030['_arrayLeng'+'th']===_0x7afb3e['length']){if(_0x5ca030['_compresse'+'d']){for(let _0x5c2f83=-0x3b*0x7+-0x205+-0x2*-0x1d1;_0x5c2f83<_0x5ca030['_arrayLeng'+'th'];_0x5c2f83++)_0x5daa52['compressed'+'TexSubImag'+'e3D'](_0x5daa52['TEXTURE_2D'+'_ARRAY'],_0x2fc970,-0x91b+-0x1*0x1182+0x1a9d,0x4*0x1e8+-0x2213+0x1a73,_0x5c2f83,Math['max'](Math['floor'](_0x5ca030['_width']*_0xcdc1a4),-0x185d+0x2*-0xe6b+-0x2*-0x1a9a),Math['max'](Math['floor'](_0x5ca030['_height']*_0xcdc1a4),0x4fb*0x6+-0x1eb*0xd+-0x4f2*0x1),-0x22b6+0x409*0x3+0x1*0x169c,this['_glInterna'+'lFormat'],_0x7afb3e[_0x5c2f83]);}else{for(let _0x5366dc=0x146*0x1+0x5*0x23b+-0xc6d;_0x5366dc<_0x5ca030['_arrayLeng'+'th'];_0x5366dc++)_0x5daa52['texSubImag'+'e3D'](_0x5daa52['TEXTURE_2D'+'_ARRAY'],_0x2fc970,0x25f9+-0x1*0x5cb+-0x202e,-0x1a2b+-0xb47*-0x1+-0xee4*-0x1,_0x5366dc,Math['max'](Math['floor'](_0x5ca030['_width']*_0xcdc1a4),-0x1e66+0xf68*-0x1+0x2dcf),Math['max'](Math['floor'](_0x5ca030['_height']*_0xcdc1a4),-0x72f*-0x3+-0x3*-0xad1+-0x35ff),-0x4ae*-0x8+0xc4c*0x3+-0x4a53,this['_glFormat'],this['_glPixelTy'+'pe'],_0x7afb3e[_0x5366dc]);}}}else{if(_0x19fdf3['_isBrowser'+'Interface'](_0x7afb3e)){_0x19fdf3['_isImageBr'+'owserInter'+'face'](_0x7afb3e)&&(_0x7afb3e['width']>_0x19fdf3['maxTexture'+'Size']||_0x7afb3e['height']>_0x19fdf3['maxTexture'+'Size'])&&(_0x7afb3e=c_(_0x7afb3e,_0x19fdf3['maxTexture'+'Size']),_0x2fc970===-0xf5+-0x588+0x67d&&(_0x5ca030['_width']=_0x7afb3e['width'],_0x5ca030['_height']=_0x7afb3e['height']));const _0x5b3390=_0x7afb3e['width']||_0x7afb3e['videoWidth'],_0x581536=_0x7afb3e['height']||_0x7afb3e['videoHeigh'+'t'];_0x19fdf3['setUnpackF'+'lipY'](_0x5ca030['_flipY']),_0x19fdf3['setUnpackP'+'remultiply'+'Alpha'](_0x5ca030['_premultip'+'lyAlpha']),this['_glCreated']&&_0x5ca030['_width']===_0x5b3390&&_0x5ca030['_height']===_0x581536&&!_0x19fdf3['_isImageVi'+'deoInterfa'+'ce'](_0x7afb3e)?_0x5daa52['texSubImag'+'e2D'](_0x5daa52['TEXTURE_2D'],_0x2fc970,0x13c+-0xdf2+0x65b*0x2,0x1b4c+-0x3*-0x36f+-0x2599,this['_glFormat'],this['_glPixelTy'+'pe'],_0x7afb3e):(_0x5daa52['texImage2D'](_0x5daa52['TEXTURE_2D'],_0x2fc970,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x7afb3e),_0x2fc970===-0xd24+0x20c8+0x1*-0x13a4&&(_0x5ca030['_width']=_0x5b3390,_0x5ca030['_height']=_0x581536));}else _0xcdc1a4=(0x39*0x3b+-0x233b+-0x1*-0x1619)/Math['pow'](0x18cf+-0x767+-0x1166,_0x2fc970),_0x5ca030['_compresse'+'d']?this['_glCreated']&&_0x7afb3e?_0x5daa52['compressed'+'TexSubImag'+'e2D'](_0x5daa52['TEXTURE_2D'],_0x2fc970,-0x13fe+0xa*-0x306+-0x3*-0x10be,0x1*-0x1f0d+0x1c54+0x29*0x11,Math['max'](Math['floor'](_0x5ca030['_width']*_0xcdc1a4),0x14e9*0x1+0x194d+-0x2e35),Math['max'](Math['floor'](_0x5ca030['_height']*_0xcdc1a4),0x1*-0x665+-0x3e3*0x1+0x1*0xa49),this['_glInterna'+'lFormat'],_0x7afb3e):_0x5daa52['compressed'+'TexImage2D'](_0x5daa52['TEXTURE_2D'],_0x2fc970,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x5ca030['_width']*_0xcdc1a4),0x81+0x1415+-0x1495),Math['max'](Math['floor'](_0x5ca030['_height']*_0xcdc1a4),0xddd+0x1*0x2db+-0x10b7),-0x210b+-0x3*0xacf+-0x28*-0x1a3,_0x7afb3e):(_0x19fdf3['setUnpackF'+'lipY'](!(-0xfd1*-0x1+-0xf04+-0xcc)),_0x19fdf3['setUnpackP'+'remultiply'+'Alpha'](_0x5ca030['_premultip'+'lyAlpha']),this['_glCreated']&&_0x7afb3e?_0x5daa52['texSubImag'+'e2D'](_0x5daa52['TEXTURE_2D'],_0x2fc970,-0x23af+-0x8d4+0x2c83,0x113c+-0xcf5*0x1+-0x447,Math['max'](_0x5ca030['_width']*_0xcdc1a4,0x1e80+-0x2*-0x19+0x61*-0x51),Math['max'](_0x5ca030['_height']*_0xcdc1a4,-0x2*0xf98+-0x204+0x2135),this['_glFormat'],this['_glPixelTy'+'pe'],_0x7afb3e):_0x5daa52['texImage2D'](_0x5daa52['TEXTURE_2D'],_0x2fc970,this['_glInterna'+'lFormat'],Math['max'](_0x5ca030['_width']*_0xcdc1a4,-0x3c7*0x1+0x13c3+-0xffb),Math['max'](_0x5ca030['_height']*_0xcdc1a4,-0x1*-0x1742+0x14a9+-0x2bea),0x44a+0x13d*0xb+0x1*-0x11e9,this['_glFormat'],this['_glPixelTy'+'pe'],_0x7afb3e));_0x2fc970===-0x2e3*0x1+0x1e24+-0x1b41?_0x5ca030['_mipmapsUp'+'loaded']=!(0xb2*-0x1c+0x19c7*-0x1+0x2d40):_0x5ca030['_mipmapsUp'+'loaded']=!(0xaec+-0x1*0x243a+0x194e);}}}_0x2fc970++;}if(_0x5ca030['_needsUplo'+'ad']){if(_0x5ca030['_cubemap']){for(let _0x1dcd2f=0x174f+-0x7*0x2e6+-0x305;_0x1dcd2f<-0x1*-0x256a+-0x119d+-0x3d*0x53;_0x1dcd2f++)_0x5ca030['_levelsUpd'+'ated'][0x202*0x13+-0x2*0x102+-0x2422][_0x1dcd2f]=!(0x2*-0x1273+-0x1278+0x375f);}else _0x5ca030['_levelsUpd'+'ated'][-0x199a+0x21cd+-0x833*0x1]=!(-0x1*-0xb9b+-0xf*0x22d+0x1509);}!_0x5ca030['_compresse'+'d']&&!_0x5ca030['_integerFo'+'rmat']&&_0x5ca030['_mipmaps']&&_0x5ca030['_needsMipm'+'apsUpload']&&_0x5ca030['_levels']['length']===-0x1175+-0x7e1*-0x1+0x995&&(_0x5daa52['generateMi'+'pmap'](this['_glTarget']),_0x5ca030['_mipmapsUp'+'loaded']=!(-0x1f89+0x1*-0x1b05+-0x2*-0x1d47)),_0x5ca030['_gpuSize']&&_0x5ca030['adjustVram'+'SizeTracki'+'ng'](_0x19fdf3['_vram'],-_0x5ca030['_gpuSize']),_0x5ca030['_gpuSize']=_0x5ca030['gpuSize'],_0x5ca030['adjustVram'+'SizeTracki'+'ng'](_0x19fdf3['_vram'],_0x5ca030['_gpuSize']),this['_glCreated']=!(-0x11*0x17+0x2*-0xc5d+-0x1*-0x1a41);}['read'](_0x507cbb,_0x556d5c,_0x2af030,_0x58a7e8,_0x2bc16e){const _0x3203ac=this['texture'];return _0x3203ac['device']['readTextur'+'eAsync'](_0x3203ac,_0x507cbb,_0x556d5c,_0x2af030,_0x58a7e8,_0x2bc16e);}['write'](_0x18cae7,_0xc569a0,_0x1d0700,_0xb0c2d1,_0x139d34){const {texture:_0xb2c9ca}=this,{device:_0x372331}=_0xb2c9ca;return _0x372331['setTexture'](_0xb2c9ca,0x895+0xd51*-0x1+0x6*0xca),_0x372331['writeTextu'+'reAsync'](_0xb2c9ca,_0x18cae7,_0xc569a0,_0x1d0700,_0xb0c2d1,_0x139d34);}}class tw{constructor(_0x23dcc8,_0x176346){h(this,'msaaFB'),h(this,'resolveFB'),(this['msaaFB']=_0x23dcc8,this['resolveFB']=_0x176346);}['destroy'](_0xad460e){this['msaaFB']&&(_0xad460e['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0xad460e['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class sw{constructor(){h(this,'_glFrameBu'+'ffer',null),h(this,'_glDepthBu'+'ffer',null),h(this,'_glResolve'+'FrameBuffe'+'r',null),h(this,'colorMrtFr'+'amebuffers',null),h(this,'_glMsaaCol'+'orBuffers',[]),h(this,'_glMsaaDep'+'thBuffer',null),h(this,'msaaDepthB'+'ufferKey'),h(this,'suppliedCo'+'lorFramebu'+'ffer'),h(this,'_isInitial'+'ized',!(0x10d4+0xf0*0x4+0x1493*-0x1));}['destroy'](_0x4289f3){var _0x11adb0;const _0x2e60b8=_0x4289f3['gl'];this['_isInitial'+'ized']=!(0x7a4+-0x15fc*0x1+-0x1*-0xe59),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x2e60b8['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x2e60b8['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x2e60b8['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x5f4f0d=>{_0x2e60b8['deleteRend'+'erbuffer'](_0x5f4f0d);}),this['_glMsaaCol'+'orBuffers']['length']=-0x3*0x76+-0x237b+0x24dd,(_0x11adb0=this['colorMrtFr'+'amebuffers'])==null||_0x11adb0['forEach'](_0x200c07=>{_0x200c07['destroy'](_0x2e60b8);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&Fd(_0x4289f3)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(-0x2059*-0x1+0x1*0x1119+-0x3172);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x46a50f,_0x508f0e){var _0x499725,_0x7d2086;const _0x1ab404=_0x46a50f['gl'];w['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(0x1fb2*-0x1+0x1*-0x707+0x26b9);const _0x5f1075=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(-0x20d6+0xed3+0x9f*0x1d))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{w['call'](()=>{(_0x508f0e['width']<=-0x20ce+0x1*0x11c3+-0xf0b*-0x1||_0x508f0e['height']<=0x7*0x194+-0x624+-0x13a*0x4)&&w['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x508f0e['width']+'\x20x\x20'+_0x508f0e['height'],_0x508f0e);}),this['_glFrameBu'+'ffer']=_0x1ab404['createFram'+'ebuffer'](),_0x46a50f['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x54a534=((_0x499725=_0x508f0e['_colorBuff'+'ers'])==null?void(0x10af*0x1+-0x11f7+0x4*0x52):_0x499725['length'])??0xbca+0x23f3+-0x2fbd*0x1,_0x2cfedd=_0x1ab404['COLOR_ATTA'+'CHMENT0'];for(let _0x3659c3=-0xc*-0x136+0x1*0x24de+-0x3366;_0x3659c3<_0x54a534;++_0x3659c3){const _0x3febd1=_0x508f0e['getColorBu'+'ffer'](_0x3659c3);_0x3febd1&&(_0x3febd1['impl']['_glTexture']||(_0x3febd1['_width']=Math['min'](_0x3febd1['width'],_0x46a50f['maxRenderB'+'ufferSize']),_0x3febd1['_height']=Math['min'](_0x3febd1['height'],_0x46a50f['maxRenderB'+'ufferSize']),_0x46a50f['setTexture'](_0x3febd1,0x1de3*0x1+-0x151*-0x17+-0x66*0x97)),_0x1ab404['framebuffe'+'rTexture2D'](_0x1ab404['FRAMEBUFFE'+'R'],_0x2cfedd+_0x3659c3,_0x3febd1['_cubemap']?_0x1ab404['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x508f0e['_face']:_0x1ab404['TEXTURE_2D'],_0x3febd1['impl']['_glTexture'],_0x508f0e['mipLevel']),_0x5f1075['push'](_0x2cfedd+_0x3659c3));}_0x1ab404['drawBuffer'+'s'](_0x5f1075);const _0x270112=_0x508f0e['_depthBuff'+'er'];if(_0x270112||_0x508f0e['_depth']){const _0x4458be=_0x508f0e['_stencil']?_0x1ab404['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x1ab404['DEPTH_ATTA'+'CHMENT'];if(_0x270112)_0x270112['impl']['_glTexture']||(_0x270112['_width']=Math['min'](_0x270112['width'],_0x46a50f['maxRenderB'+'ufferSize']),_0x270112['_height']=Math['min'](_0x270112['height'],_0x46a50f['maxRenderB'+'ufferSize']),_0x46a50f['setTexture'](_0x270112,-0x514+-0x213f+0x2653)),_0x1ab404['framebuffe'+'rTexture2D'](_0x1ab404['FRAMEBUFFE'+'R'],_0x4458be,_0x270112['_cubemap']?_0x1ab404['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x508f0e['_face']:_0x1ab404['TEXTURE_2D'],_0x508f0e['_depthBuff'+'er']['impl']['_glTexture'],_0x508f0e['mipLevel']);else{if(!(_0x508f0e['_samples']>0xe06+0x2*0xdfb+0x3d1*-0xb)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0x1ab404['createRend'+'erbuffer']());const _0x5718ab=_0x508f0e['_stencil']?_0x1ab404['DEPTH24_ST'+'ENCIL8']:_0x1ab404['DEPTH_COMP'+'ONENT32F'];_0x1ab404['bindRender'+'buffer'](_0x1ab404['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x1ab404['renderbuff'+'erStorage'](_0x1ab404['RENDERBUFF'+'ER'],_0x5718ab,_0x508f0e['width'],_0x508f0e['height']),_0x1ab404['framebuffe'+'rRenderbuf'+'fer'](_0x1ab404['FRAMEBUFFE'+'R'],_0x4458be,_0x1ab404['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x1ab404['bindRender'+'buffer'](_0x1ab404['RENDERBUFF'+'ER'],null);}}}w['call'](()=>this['_checkFbo'](_0x46a50f,_0x508f0e));}if(_0x508f0e['_samples']>0x1fe3+-0x1159*-0x2+0x1*-0x4294){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0x1ab404['createFram'+'ebuffer'](),_0x46a50f['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x1e7d7c=((_0x7d2086=_0x508f0e['_colorBuff'+'ers'])==null?void(-0x11*-0x56+0x1367*-0x1+0xdb1):_0x7d2086['length'])??0xb8e+0x6d6+-0x6b*0x2c;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0x1*0x1826+-0x5f0+0x103*-0x12)){const _0x477cc4=_0x1ab404['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x477cc4);const _0x3725c1=_0x46a50f['backBuffer'+'Format']===Ne?_0x1ab404['RGBA8']:_0x1ab404['RGB8'];_0x1ab404['bindRender'+'buffer'](_0x1ab404['RENDERBUFF'+'ER'],_0x477cc4),_0x1ab404['renderbuff'+'erStorageM'+'ultisample'](_0x1ab404['RENDERBUFF'+'ER'],_0x508f0e['_samples'],_0x3725c1,_0x508f0e['width'],_0x508f0e['height']),_0x1ab404['framebuffe'+'rRenderbuf'+'fer'](_0x1ab404['FRAMEBUFFE'+'R'],_0x1ab404['COLOR_ATTA'+'CHMENT0'],_0x1ab404['RENDERBUFF'+'ER'],_0x477cc4);}else for(let _0x44d509=-0x1e0a+0x3*0x35c+0x13f6;_0x44d509<_0x1e7d7c;++_0x44d509){const _0x2ffefb=_0x508f0e['getColorBu'+'ffer'](_0x44d509);if(_0x2ffefb){const _0x54ae8c=_0x1ab404['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x54ae8c),_0x1ab404['bindRender'+'buffer'](_0x1ab404['RENDERBUFF'+'ER'],_0x54ae8c),_0x1ab404['renderbuff'+'erStorageM'+'ultisample'](_0x1ab404['RENDERBUFF'+'ER'],_0x508f0e['_samples'],_0x2ffefb['impl']['_glInterna'+'lFormat'],_0x508f0e['width'],_0x508f0e['height']),_0x1ab404['framebuffe'+'rRenderbuf'+'fer'](_0x1ab404['FRAMEBUFFE'+'R'],_0x1ab404['COLOR_ATTA'+'CHMENT0']+_0x44d509,_0x1ab404['RENDERBUFF'+'ER'],_0x54ae8c);}}if(_0x508f0e['_depth']){w['assert'](!this['_glMsaaDep'+'thBuffer']);const _0x472bc6=_0x508f0e['_stencil']?_0x1ab404['DEPTH24_ST'+'ENCIL8']:_0x1ab404['DEPTH_COMP'+'ONENT32F'],_0x536c5a=_0x508f0e['_stencil']?_0x1ab404['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x1ab404['DEPTH_ATTA'+'CHMENT'];let _0xfec0fb;const _0x63d728=_0x508f0e['_depthBuff'+'er'];_0x63d728&&(_0xfec0fb=_0x63d728['id']+':'+_0x508f0e['width']+':'+_0x508f0e['height']+':'+_0x508f0e['_samples']+':'+_0x472bc6+':'+_0x536c5a,this['_glMsaaDep'+'thBuffer']=Fd(_0x46a50f)['get'](_0xfec0fb)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0x1ab404['createRend'+'erbuffer'](),_0x1ab404['bindRender'+'buffer'](_0x1ab404['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0x1ab404['renderbuff'+'erStorageM'+'ultisample'](_0x1ab404['RENDERBUFF'+'ER'],_0x508f0e['_samples'],_0x472bc6,_0x508f0e['width'],_0x508f0e['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0x1ab404['deleteRend'+'erbuffer'](this);},_0x63d728&&Fd(_0x46a50f)['set'](_0xfec0fb,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0xfec0fb,_0x1ab404['framebuffe'+'rRenderbuf'+'fer'](_0x1ab404['FRAMEBUFFE'+'R'],_0x536c5a,_0x1ab404['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}w['call'](()=>this['_checkFbo'](_0x46a50f,_0x508f0e,'MSAA')),_0x1e7d7c>-0x1736*-0x1+-0x16e4+-0x51*0x1&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x46a50f,_0x508f0e,_0x1e7d7c),_0x46a50f['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0x1ab404['drawBuffer'+'s'](_0x5f1075));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0x3e74df,_0x11fb3b,_0x218ce6){const _0x21f778=_0x3e74df['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x216c8f=-0x13ca+-0x6*-0x147+0xc20;_0x216c8f<_0x218ce6;++_0x216c8f){const _0x1c35e3=_0x11fb3b['getColorBu'+'ffer'](_0x216c8f),_0x4a499e=_0x21f778['createFram'+'ebuffer']();_0x3e74df['setFramebu'+'ffer'](_0x4a499e);const _0x143170=this['_glMsaaCol'+'orBuffers'][_0x216c8f];_0x21f778['bindRender'+'buffer'](_0x21f778['RENDERBUFF'+'ER'],_0x143170),_0x21f778['renderbuff'+'erStorageM'+'ultisample'](_0x21f778['RENDERBUFF'+'ER'],_0x11fb3b['_samples'],_0x1c35e3['impl']['_glInterna'+'lFormat'],_0x11fb3b['width'],_0x11fb3b['height']),_0x21f778['framebuffe'+'rRenderbuf'+'fer'](_0x21f778['FRAMEBUFFE'+'R'],_0x21f778['COLOR_ATTA'+'CHMENT0'],_0x21f778['RENDERBUFF'+'ER'],_0x143170),_0x21f778['drawBuffer'+'s']([_0x21f778['COLOR_ATTA'+'CHMENT0']]),w['call'](()=>this['_checkFbo'](_0x3e74df,_0x11fb3b,'MSAA-MRT-s'+'rc'+_0x216c8f));const _0x53436c=_0x21f778['createFram'+'ebuffer']();_0x3e74df['setFramebu'+'ffer'](_0x53436c),_0x21f778['framebuffe'+'rTexture2D'](_0x21f778['FRAMEBUFFE'+'R'],_0x21f778['COLOR_ATTA'+'CHMENT0'],_0x1c35e3['_cubemap']?_0x21f778['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x11fb3b['_face']:_0x21f778['TEXTURE_2D'],_0x1c35e3['impl']['_glTexture'],0x5*-0x745+0x277+-0x10f1*-0x2),this['colorMrtFr'+'amebuffers'][_0x216c8f]=new tw(_0x4a499e,_0x53436c),w['call'](()=>this['_checkFbo'](_0x3e74df,_0x11fb3b,'MSAA-MRT-d'+'st'+_0x216c8f));}}['_checkFbo'](_0x40577a,_0xd458ea,_0x2fe0c0=''){const _0x1d28ed=_0x40577a['gl'],_0x3e0be6=_0x1d28ed['checkFrame'+'bufferStat'+'us'](_0x1d28ed['FRAMEBUFFE'+'R']);let _0x225f5b;switch(_0x3e0be6){case _0x1d28ed['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x225f5b='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x1d28ed['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x225f5b='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x1d28ed['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x225f5b='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x1d28ed['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x225f5b='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}w['assert'](!_0x225f5b,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x225f5b+(',\x20render\x20t'+'arget:\x20')+_0xd458ea['name']+'\x20'+_0x2fe0c0,_0xd458ea);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=-0x1b1e+-0x1*0x173d+0x325b,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(-0x14f3+-0x783+-0xe3b*-0x2),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(0x4*0x634+-0x10b4*-0x2+0x45*-0xd8),this['_isInitial'+'ized']=!(-0x1ca*-0x13+-0x4f*-0x1+-0x224c);}['internalRe'+'solve'](_0x28a078,_0x416f0c,_0x30a3c3,_0x4b9042,_0x56fb4c){w['assert'](_0x416f0c!==_0x30a3c3,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x28a078['setScissor'](-0xc8b+0x1f3*-0x9+0x1e16,-0x260b+-0x105c*-0x2+-0x1*-0x553,_0x4b9042['width'],_0x4b9042['height']);const _0x41b7cf=_0x28a078['gl'];_0x41b7cf['bindFrameb'+'uffer'](_0x41b7cf['READ_FRAME'+'BUFFER'],_0x416f0c),_0x41b7cf['bindFrameb'+'uffer'](_0x41b7cf['DRAW_FRAME'+'BUFFER'],_0x30a3c3),_0x41b7cf['blitFrameb'+'uffer'](0x5*0x5f5+0x1367+-0x10*0x313,-0x93*0x1d+-0xb37+0x1bde,_0x4b9042['width'],_0x4b9042['height'],0x4*0x6dc+0x1c0f+0x377f*-0x1,-0x2448+-0x1a98+0x4*0xfb8,_0x4b9042['width'],_0x4b9042['height'],_0x56fb4c,_0x41b7cf['NEAREST']);}['resolve'](_0x61a925,_0x674d61,_0x24c421,_0x5eabd3){const _0x1a7d80=_0x61a925['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x24c421)for(let _0x178a84=0x1ab9+-0x3e5*-0x5+-0x2e32;_0x178a84<this['colorMrtFr'+'amebuffers']['length'];_0x178a84++){const _0x433009=this['colorMrtFr'+'amebuffers'][_0x178a84];Q['pushGpuMar'+'ker'](_0x61a925,'RESOLVE-MR'+'T'+_0x178a84),this['internalRe'+'solve'](_0x61a925,_0x433009['msaaFB'],_0x433009['resolveFB'],_0x674d61,_0x1a7d80['COLOR_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0x61a925);}_0x5eabd3&&(Q['pushGpuMar'+'ker'](_0x61a925,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x61a925,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x674d61,_0x1a7d80['DEPTH_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0x61a925));}else Q['pushGpuMar'+'ker'](_0x61a925,'RESOLVE'),this['internalRe'+'solve'](_0x61a925,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x674d61,(_0x24c421?_0x1a7d80['COLOR_BUFF'+'ER_BIT']:-0xee+0xdc4+0x3e*-0x35)|(_0x5eabd3?_0x1a7d80['DEPTH_BUFF'+'ER_BIT']:-0x1*-0x15dd+0xe27*0x1+0x4*-0x901)),Q['popGpuMark'+'er'](_0x61a925);_0x1a7d80['bindFrameb'+'uffer'](_0x1a7d80['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class iw{constructor(){h(this,'renderVers'+'ion'),h(this,'queries',[]);}['destroy'](_0x54bf59){this['queries']['forEach'](_0x1766fc=>_0x54bf59['deleteQuer'+'y'](_0x1766fc)),this['queries']=null;}}class rw extends $T{constructor(_0x433b92){super(),h(this,'device'),h(this,'freeQuerie'+'s',[]),h(this,'frameQueri'+'es',[]),h(this,'previousFr'+'ameQueries',[]),h(this,'timings',[]),(this['device']=_0x433b92,this['ext']=_0x433b92['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0xe15cce=>this['device']['gl']['deleteQuer'+'y'](_0xe15cce)),this['frameQueri'+'es']['forEach'](_0x2f95dc=>this['device']['gl']['deleteQuer'+'y'](_0x2f95dc)),this['previousFr'+'ameQueries']['forEach'](_0x275411=>_0x275411['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x2e9afa){if(this['ext']){const _0x13265f=this['getSlot'](_0x2e9afa),_0x4b36c5=this['getQuery']();return this['frameQueri'+'es'][_0x13265f]=_0x4b36c5,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x4b36c5),_0x13265f;}}['end'](_0x4314d9){_0x4314d9!==void(0x12db*-0x2+-0x281*-0x8+0x11ae)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0xc01a54=this['ext'],_0x5a6d56=this['device']['gl'],_0x2ef343=this['device']['renderVers'+'ion'],_0x20d75e=this['frameQueri'+'es'];if(_0x20d75e['length']>0x258d*-0x1+0x6ba*-0x3+0x39bb){this['frameQueri'+'es']=[];const _0x5cd9fd=new iw();_0x5cd9fd['queries']=_0x20d75e,_0x5cd9fd['renderVers'+'ion']=_0x2ef343,this['previousFr'+'ameQueries']['push'](_0x5cd9fd);}if(this['previousFr'+'ameQueries']['length']>-0x223c+-0x1c45+0x3e81){const _0x1d9b48=this['previousFr'+'ameQueries'][-0x1*-0x1424+-0x1ae4+0x4*0x1b0],_0x3fa0a5=_0x1d9b48['queries'],_0x1aecda=_0x3fa0a5[_0x3fa0a5['length']-(0x500+0x2ce*0xa+-0x210b*0x1)],_0xcc48a8=_0x5a6d56['getQueryPa'+'rameter'](_0x1aecda,_0x5a6d56['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x171aea=_0x5a6d56['getParamet'+'er'](_0xc01a54['GPU_DISJOI'+'NT_EXT']);if(_0xcc48a8&&!_0x171aea){this['previousFr'+'ameQueries']['shift']();const _0x496315=this['timings'];_0x496315['length']=0x1*-0x172c+0x2371*0x1+-0xc45;for(let _0x4fee9f=-0x117b*-0x1+0x9cb+-0x1b46;_0x4fee9f<_0x3fa0a5['length'];_0x4fee9f++){const _0x35e1c0=_0x3fa0a5[_0x4fee9f],_0x1fe6ee=_0x5a6d56['getQueryPa'+'rameter'](_0x35e1c0,_0x5a6d56['QUERY_RESU'+'LT']);_0x496315[_0x4fee9f]=_0x1fe6ee*(-0x14f1*0x1+-0x1fe8+0x34d9*0x1+0.000001),this['freeQuerie'+'s']['push'](_0x35e1c0);}this['report'](_0x1d9b48['renderVers'+'ion'],_0x496315);}_0x171aea&&(this['previousFr'+'ameQueries']['forEach'](_0x4987c8=>{this['report'](_0x4987c8['renderVers'+'ion'],null),_0x4987c8['destroy'](_0x5a6d56);}),this['previousFr'+'ameQueries']['length']=-0x2636+-0x2*-0xd09+0xc24);}super['request'](_0x2ef343);}}}const Da=[];class aw extends $e{constructor(_0x9b0478,_0x1878d3={}){super(_0x9b0478,_0x1878d3),h(this,'gl'),h(this,'_defaultFr'+'amebuffer',null),h(this,'_defaultFr'+'amebufferC'+'hanged',!(0x25cb+0x1ab*-0x13+-0x1*0x619)),(_0x1878d3=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(0x7f*-0x21+0x2073+-0x1013),this['_contextLo'+'stHandler']=_0x16c514=>{_0x16c514['preventDef'+'ault'](),this['loseContex'+'t'](),w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x2a4421=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x2a4421&&_0x2a4421['includes']('AppleWebKi'+'t')&&(_0x2a4421['includes']('15.4')||_0x2a4421['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x1878d3['antialias']=!(0xa8*-0x7+0x1*0x1b34+-0x283*0x9),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),Ae['browserNam'+'e']==='firefox'){const _0x54b920=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x43812e=_0x54b920?_0x54b920[0x18ec+-0x1bf*0x9+-0x1f*0x4c]:null;if(_0x43812e){const _0x172d17=parseFloat(_0x43812e);(Ae['name']==='windows'&&(_0x172d17>=-0x1*0x1334+-0x1ffb+0x33a7*0x1||_0x172d17===0x1*0x6fd+-0x2221*-0x1+-0x28ab)||Ae['name']==='android'&&_0x172d17>=0x1361+0x1*0xbe3+0x7b0*-0x4)&&(_0x1878d3['antialias']=!(-0x8e*0x42+-0x149c+0x1313*0x3),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+Ae['name']+('\x20platform\x20'+'version\x20')+_0x43812e));}}this['backBuffer'+'Antialias']=_0x1878d3['antialias']??!(-0x5b9*-0x5+0x745*0x3+0x1*-0x326b),_0x1878d3['antialias']=!(-0x25*-0x5d+-0x2*-0x9a+-0xea4);const _0x2c99ee=_0x1878d3['gl']??_0x9b0478['getContext']('webgl2',_0x1878d3);if(!_0x2c99ee)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x2c99ee,this['isWebGL2']=!(-0x5*0x2c9+0x1*-0xa7+0xe94),this['_deviceTyp'+'e']=aT,this['updateBack'+'bufferForm'+'at'](null);const _0x2a2937=Ae['browserNam'+'e']==='chrome',_0x3149ab=Ae['browserNam'+'e']==='safari',_0xa9e294=Ae['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(0x2440+0xf*-0x17b+-0xe0a);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x3149ab,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0xa9e294&&_0x2a2937&&!_0x1878d3['alpha'],_0x9b0478['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0x496+-0x160a+0x1175)),_0x9b0478['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0x7bb*-0x3+0xe3e+0x1*-0x256e)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x3149ab&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x2c99ee['SAMPLER_2D'],_0x2c99ee['SAMPLER_CU'+'BE'],_0x2c99ee['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x2c99ee['INT_SAMPLE'+'R_2D'],_0x2c99ee['SAMPLER_2D'+'_SHADOW'],_0x2c99ee['SAMPLER_CU'+'BE_SHADOW'],_0x2c99ee['SAMPLER_3D'],_0x2c99ee['INT_SAMPLE'+'R_3D'],_0x2c99ee['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x2c99ee['SAMPLER_2D'+'_ARRAY'],_0x2c99ee['INT_SAMPLE'+'R_2D_ARRAY'],_0x2c99ee['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x2c99ee['REPEAT'],_0x2c99ee['CLAMP_TO_E'+'DGE'],_0x2c99ee['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x2c99ee['FUNC_ADD'],_0x2c99ee['FUNC_SUBTR'+'ACT'],_0x2c99ee['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x2c99ee['MIN'],_0x2c99ee['MAX']],this['glBlendFun'+'ctionColor']=[_0x2c99ee['ZERO'],_0x2c99ee['ONE'],_0x2c99ee['SRC_COLOR'],_0x2c99ee['ONE_MINUS_'+'SRC_COLOR'],_0x2c99ee['DST_COLOR'],_0x2c99ee['ONE_MINUS_'+'DST_COLOR'],_0x2c99ee['SRC_ALPHA'],_0x2c99ee['SRC_ALPHA_'+'SATURATE'],_0x2c99ee['ONE_MINUS_'+'SRC_ALPHA'],_0x2c99ee['DST_ALPHA'],_0x2c99ee['ONE_MINUS_'+'DST_ALPHA'],_0x2c99ee['CONSTANT_C'+'OLOR'],_0x2c99ee['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x2c99ee['ZERO'],_0x2c99ee['ONE'],_0x2c99ee['SRC_COLOR'],_0x2c99ee['ONE_MINUS_'+'SRC_COLOR'],_0x2c99ee['DST_COLOR'],_0x2c99ee['ONE_MINUS_'+'DST_COLOR'],_0x2c99ee['SRC_ALPHA'],_0x2c99ee['SRC_ALPHA_'+'SATURATE'],_0x2c99ee['ONE_MINUS_'+'SRC_ALPHA'],_0x2c99ee['DST_ALPHA'],_0x2c99ee['ONE_MINUS_'+'DST_ALPHA'],_0x2c99ee['CONSTANT_A'+'LPHA'],_0x2c99ee['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x2c99ee['NEVER'],_0x2c99ee['LESS'],_0x2c99ee['EQUAL'],_0x2c99ee['LEQUAL'],_0x2c99ee['GREATER'],_0x2c99ee['NOTEQUAL'],_0x2c99ee['GEQUAL'],_0x2c99ee['ALWAYS']],this['glStencilO'+'p']=[_0x2c99ee['KEEP'],_0x2c99ee['ZERO'],_0x2c99ee['REPLACE'],_0x2c99ee['INCR'],_0x2c99ee['INCR_WRAP'],_0x2c99ee['DECR'],_0x2c99ee['DECR_WRAP'],_0x2c99ee['INVERT']],this['glClearFla'+'g']=[-0x2028+0xa55+0x15d3,_0x2c99ee['COLOR_BUFF'+'ER_BIT'],_0x2c99ee['DEPTH_BUFF'+'ER_BIT'],_0x2c99ee['COLOR_BUFF'+'ER_BIT']|_0x2c99ee['DEPTH_BUFF'+'ER_BIT'],_0x2c99ee['STENCIL_BU'+'FFER_BIT'],_0x2c99ee['STENCIL_BU'+'FFER_BIT']|_0x2c99ee['COLOR_BUFF'+'ER_BIT'],_0x2c99ee['STENCIL_BU'+'FFER_BIT']|_0x2c99ee['DEPTH_BUFF'+'ER_BIT'],_0x2c99ee['STENCIL_BU'+'FFER_BIT']|_0x2c99ee['COLOR_BUFF'+'ER_BIT']|_0x2c99ee['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[-0x1757+0x1f2d+0x2*-0x3eb,_0x2c99ee['BACK'],_0x2c99ee['FRONT'],_0x2c99ee['FRONT_AND_'+'BACK']],this['glFilter']=[_0x2c99ee['NEAREST'],_0x2c99ee['LINEAR'],_0x2c99ee['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x2c99ee['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x2c99ee['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x2c99ee['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x2c99ee['POINTS'],_0x2c99ee['LINES'],_0x2c99ee['LINE_LOOP'],_0x2c99ee['LINE_STRIP'],_0x2c99ee['TRIANGLES'],_0x2c99ee['TRIANGLE_S'+'TRIP'],_0x2c99ee['TRIANGLE_F'+'AN']],this['glType']=[_0x2c99ee['BYTE'],_0x2c99ee['UNSIGNED_B'+'YTE'],_0x2c99ee['SHORT'],_0x2c99ee['UNSIGNED_S'+'HORT'],_0x2c99ee['INT'],_0x2c99ee['UNSIGNED_I'+'NT'],_0x2c99ee['FLOAT'],_0x2c99ee['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x2c99ee['BOOL']]=Tn,this['pcUniformT'+'ype'][_0x2c99ee['INT']]=_a,this['pcUniformT'+'ype'][_0x2c99ee['FLOAT']]=Xs,this['pcUniformT'+'ype'][_0x2c99ee['FLOAT_VEC2']]=ga,this['pcUniformT'+'ype'][_0x2c99ee['FLOAT_VEC3']]=ds,this['pcUniformT'+'ype'][_0x2c99ee['FLOAT_VEC4']]=Rn,this['pcUniformT'+'ype'][_0x2c99ee['INT_VEC2']]=ca,this['pcUniformT'+'ype'][_0x2c99ee['INT_VEC3']]=ha,this['pcUniformT'+'ype'][_0x2c99ee['INT_VEC4']]=da,this['pcUniformT'+'ype'][_0x2c99ee['BOOL_VEC2']]=tl,this['pcUniformT'+'ype'][_0x2c99ee['BOOL_VEC3']]=sl,this['pcUniformT'+'ype'][_0x2c99ee['BOOL_VEC4']]=il,this['pcUniformT'+'ype'][_0x2c99ee['FLOAT_MAT2']]=_h,this['pcUniformT'+'ype'][_0x2c99ee['FLOAT_MAT3']]=On,this['pcUniformT'+'ype'][_0x2c99ee['FLOAT_MAT4']]=li,this['pcUniformT'+'ype'][_0x2c99ee['SAMPLER_2D']]=Hx,this['pcUniformT'+'ype'][_0x2c99ee['SAMPLER_CU'+'BE']]=Wx,this['pcUniformT'+'ype'][_0x2c99ee['UNSIGNED_I'+'NT']]=Fn,this['pcUniformT'+'ype'][_0x2c99ee['UNSIGNED_I'+'NT_VEC2']]=Nn,this['pcUniformT'+'ype'][_0x2c99ee['UNSIGNED_I'+'NT_VEC3']]=kn,this['pcUniformT'+'ype'][_0x2c99ee['UNSIGNED_I'+'NT_VEC4']]=Un,this['pcUniformT'+'ype'][_0x2c99ee['SAMPLER_2D'+'_SHADOW']]=$x,this['pcUniformT'+'ype'][_0x2c99ee['SAMPLER_CU'+'BE_SHADOW']]=Xx,this['pcUniformT'+'ype'][_0x2c99ee['SAMPLER_2D'+'_ARRAY']]=jx,this['pcUniformT'+'ype'][_0x2c99ee['SAMPLER_3D']]=qx,this['pcUniformT'+'ype'][_0x2c99ee['INT_SAMPLE'+'R_2D']]=Yx,this['pcUniformT'+'ype'][_0x2c99ee['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Kx,this['pcUniformT'+'ype'][_0x2c99ee['INT_SAMPLE'+'R_CUBE']]=Zx,this['pcUniformT'+'ype'][_0x2c99ee['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Qx,this['pcUniformT'+'ype'][_0x2c99ee['INT_SAMPLE'+'R_3D']]=Jx,this['pcUniformT'+'ype'][_0x2c99ee['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=eT,this['pcUniformT'+'ype'][_0x2c99ee['INT_SAMPLE'+'R_2D_ARRAY']]=tT,this['pcUniformT'+'ype'][_0x2c99ee['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=sT,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x2c99ee['TEXTURE_2D']]=0x89a*-0x1+-0x2c*0xc+0xaaa,this['targetToSl'+'ot'][_0x2c99ee['TEXTURE_CU'+'BE_MAP']]=0x1*0x71+0x90a+-0x97a,this['targetToSl'+'ot'][_0x2c99ee['TEXTURE_3D']]=-0x1111+-0x135*-0x11+0x2*-0x1b9;let _0x1e7601,_0x7cba4a,_0x50ae15,_0xc9c98f,_0x128850;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][Tn]=function(_0x33a863,_0x4211ad){_0x33a863['value']!==_0x4211ad&&(_0x2c99ee['uniform1i'](_0x33a863['locationId'],_0x4211ad),_0x33a863['value']=_0x4211ad);},this['commitFunc'+'tion'][_a]=this['commitFunc'+'tion'][Tn],this['commitFunc'+'tion'][Xs]=function(_0x3d5bbb,_0x3cfd54){_0x3d5bbb['value']!==_0x3cfd54&&(_0x2c99ee['uniform1f'](_0x3d5bbb['locationId'],_0x3cfd54),_0x3d5bbb['value']=_0x3cfd54);},this['commitFunc'+'tion'][ga]=function(_0x4e0a04,_0x3caa8c){_0x128850=_0x4e0a04['value'],_0x1e7601=_0x3caa8c[0x10f2+0x1edd+-0x2fcf],_0x7cba4a=_0x3caa8c[0x15*0x71+-0x1a21+0x10dd],(_0x128850[-0x27+-0xc62*-0x3+-0x24ff]!==_0x1e7601||_0x128850[-0xbd1+0x1*0x1501+0x1*-0x92f]!==_0x7cba4a)&&(_0x2c99ee['uniform2fv'](_0x4e0a04['locationId'],_0x3caa8c),_0x128850[0x1143*-0x1+-0x15*0x1cd+-0x2f*-0x12c]=_0x1e7601,_0x128850[0x12e0+0x3a2+0x1681*-0x1]=_0x7cba4a);},this['commitFunc'+'tion'][ds]=function(_0x1f24c3,_0x30bf6f){_0x128850=_0x1f24c3['value'],_0x1e7601=_0x30bf6f[0xadf+0x1481+-0x1f60],_0x7cba4a=_0x30bf6f[-0x35c+0x1*-0x1b83+0x1ee0],_0x50ae15=_0x30bf6f[0x45*0x2b+-0x1220+0x1*0x68b],(_0x128850[-0x1690+-0xe27+0xd*0x2d3]!==_0x1e7601||_0x128850[0x5bc*0x1+0x232*0xd+0x11b*-0x1f]!==_0x7cba4a||_0x128850[0x1f*-0xaf+-0x513*0x1+0x2*0xd23]!==_0x50ae15)&&(_0x2c99ee['uniform3fv'](_0x1f24c3['locationId'],_0x30bf6f),_0x128850[0x4*-0x610+0xf74*-0x2+0xdca*0x4]=_0x1e7601,_0x128850[0x1093+0x2564*-0x1+0x14d2]=_0x7cba4a,_0x128850[0x197b+0x25e1+-0x3f5a]=_0x50ae15);},this['commitFunc'+'tion'][Rn]=function(_0x558dbe,_0x1466fb){_0x128850=_0x558dbe['value'],_0x1e7601=_0x1466fb[0xca3+0x1df*0x9+-0x157*0x16],_0x7cba4a=_0x1466fb[-0x3b9*0x2+0x24e3+0xeb8*-0x2],_0x50ae15=_0x1466fb[-0x6*0x558+0x17a9+0x869],_0xc9c98f=_0x1466fb[-0x1*-0x243+0x1*0xca1+0x1*-0xee1],(_0x128850[-0x7*0x7f+0x1e0a+-0x3*0x8db]!==_0x1e7601||_0x128850[0x2*-0x421+-0x14bc*-0x1+0x1f*-0x67]!==_0x7cba4a||_0x128850[-0x2b4+-0xb25+0xddb]!==_0x50ae15||_0x128850[-0x19f6+-0x1134*-0x1+0x8c5]!==_0xc9c98f)&&(_0x2c99ee['uniform4fv'](_0x558dbe['locationId'],_0x1466fb),_0x128850[-0x16*-0x59+0x21ed+-0x2993]=_0x1e7601,_0x128850[-0xc72+-0x849+-0x1*-0x14bc]=_0x7cba4a,_0x128850[0x61*0x5d+0xf33+0xa16*-0x5]=_0x50ae15,_0x128850[0xfa8+0x9d*0x13+0x4*-0x6d3]=_0xc9c98f);},this['commitFunc'+'tion'][ca]=function(_0x371eea,_0x390665){_0x128850=_0x371eea['value'],_0x1e7601=_0x390665[-0x22b2+-0x261e+0x48d0],_0x7cba4a=_0x390665[-0x19*0x149+-0x2628+0x464a],(_0x128850[0xc*0x33c+-0x3f*-0x18+0xc*-0x3ba]!==_0x1e7601||_0x128850[-0x1061+-0x2532+0x3594]!==_0x7cba4a)&&(_0x2c99ee['uniform2iv'](_0x371eea['locationId'],_0x390665),_0x128850[-0x46*0x3b+0x1*-0x1943+0x2965]=_0x1e7601,_0x128850[0x3ec+0x297+-0x682*0x1]=_0x7cba4a);},this['commitFunc'+'tion'][tl]=this['commitFunc'+'tion'][ca],this['commitFunc'+'tion'][ha]=function(_0x19bd6b,_0x4a8ff5){_0x128850=_0x19bd6b['value'],_0x1e7601=_0x4a8ff5[0x1d*0xef+0x1362+-0x6a3*0x7],_0x7cba4a=_0x4a8ff5[-0x431+-0x221*-0x9+-0xef7],_0x50ae15=_0x4a8ff5[-0x52d+-0x1d*-0x17+0x294],(_0x128850[-0x1396+-0x31*0x6d+0x2873]!==_0x1e7601||_0x128850[0xb25+0x19fc+-0x2520]!==_0x7cba4a||_0x128850[0x2308*0x1+0xc1a+-0x2f20]!==_0x50ae15)&&(_0x2c99ee['uniform3iv'](_0x19bd6b['locationId'],_0x4a8ff5),_0x128850[-0x1fd5*0x1+0x1*-0x5+0x1fda]=_0x1e7601,_0x128850[0x170a+-0xcb6+0x1*-0xa53]=_0x7cba4a,_0x128850[0x9b0+-0x12ca+0x91c]=_0x50ae15);},this['commitFunc'+'tion'][sl]=this['commitFunc'+'tion'][ha],this['commitFunc'+'tion'][da]=function(_0x41ff8f,_0x1d0291){_0x128850=_0x41ff8f['value'],_0x1e7601=_0x1d0291[-0x1b*0x32+0x2037+-0x1af1],_0x7cba4a=_0x1d0291[-0x1c4e*0x1+-0x483+0x2*0x1069],_0x50ae15=_0x1d0291[-0x31c+0x55*-0x18+0xb16],_0xc9c98f=_0x1d0291[-0x14de+0x2381+0x9*-0x1a0],(_0x128850[-0x1*-0xc67+-0x1cc5+0x105e]!==_0x1e7601||_0x128850[0x2591*0x1+-0xa67*-0x1+-0x2ff7]!==_0x7cba4a||_0x128850[0xca+-0x11fb*-0x2+-0x24be]!==_0x50ae15||_0x128850[0x16cf*-0x1+-0x120a+0x28dc]!==_0xc9c98f)&&(_0x2c99ee['uniform4iv'](_0x41ff8f['locationId'],_0x1d0291),_0x128850[-0x1*0x77+0x1b91+-0x1b1a]=_0x1e7601,_0x128850[0x58f*-0x7+-0x1*-0x1ee3+0x3*0x2ad]=_0x7cba4a,_0x128850[0x58*0x1d+-0x1*0x1bfb+0x7*0x293]=_0x50ae15,_0x128850[-0xc2e+0x1*-0xa26+0x1657]=_0xc9c98f);},this['commitFunc'+'tion'][il]=this['commitFunc'+'tion'][da],this['commitFunc'+'tion'][_h]=function(_0xf7829f,_0x35db90){_0x2c99ee['uniformMat'+'rix2fv'](_0xf7829f['locationId'],!(-0xfb9+0xa1e+0x167*0x4),_0x35db90);},this['commitFunc'+'tion'][On]=function(_0x1e67d1,_0xa94c6e){_0x2c99ee['uniformMat'+'rix3fv'](_0x1e67d1['locationId'],!(0x1*0xe84+-0x2dc+0x1*-0xba7),_0xa94c6e);},this['commitFunc'+'tion'][li]=function(_0x4de2ab,_0x1e81a0){_0x2c99ee['uniformMat'+'rix4fv'](_0x4de2ab['locationId'],!(0x48d+0x1d98+0x73*-0x4c),_0x1e81a0);},this['commitFunc'+'tion'][ud]=function(_0x379dc7,_0x5858bf){_0x2c99ee['uniform1fv'](_0x379dc7['locationId'],_0x5858bf);},this['commitFunc'+'tion'][pd]=function(_0xe409e6,_0x1c5e11){_0x2c99ee['uniform2fv'](_0xe409e6['locationId'],_0x1c5e11);},this['commitFunc'+'tion'][md]=function(_0x1b6ed5,_0x3cd737){_0x2c99ee['uniform3fv'](_0x1b6ed5['locationId'],_0x3cd737);},this['commitFunc'+'tion'][Lp]=function(_0x2c8df8,_0x2ee577){_0x2c99ee['uniform4fv'](_0x2c8df8['locationId'],_0x2ee577);},this['commitFunc'+'tion'][Fn]=function(_0x2876ee,_0x2ca37b){_0x2876ee['value']!==_0x2ca37b&&(_0x2c99ee['uniform1ui'](_0x2876ee['locationId'],_0x2ca37b),_0x2876ee['value']=_0x2ca37b);},this['commitFunc'+'tion'][Nn]=function(_0x49feca,_0x39bacc){_0x128850=_0x49feca['value'],_0x1e7601=_0x39bacc[0xc*-0x151+0x2b0+0xd1c],_0x7cba4a=_0x39bacc[0x8f6+0x2c3*0x5+-0x1*0x16c4],(_0x128850[0xdf*-0x2+-0x1157+0x1315]!==_0x1e7601||_0x128850[-0x196d+-0x157a*-0x1+0x3f4]!==_0x7cba4a)&&(_0x2c99ee['uniform2ui'+'v'](_0x49feca['locationId'],_0x39bacc),_0x128850[-0x4*0x2fb+0x59b+0x651]=_0x1e7601,_0x128850[0x67f+-0x158c+0xf0e]=_0x7cba4a);},this['commitFunc'+'tion'][kn]=function(_0x1d35fe,_0x57f071){_0x128850=_0x1d35fe['value'],_0x1e7601=_0x57f071[-0xa0d+-0x7*-0x17f+0x12*-0x6],_0x7cba4a=_0x57f071[0x1940+-0x3c1*0x1+-0x6*0x395],_0x50ae15=_0x57f071[-0x2462+0x13d7+0x108d],(_0x128850[-0xd9d+0x1*0x7d3+0x5ca]!==_0x1e7601||_0x128850[0x94c*-0x4+0x1c97+0x1*0x89a]!==_0x7cba4a||_0x128850[-0x12e3+0x1fc9+-0x14*0xa5]!==_0x50ae15)&&(_0x2c99ee['uniform3ui'+'v'](_0x1d35fe['locationId'],_0x57f071),_0x128850[0x1009*0x2+-0x1128+-0x17*0xa6]=_0x1e7601,_0x128850[0x257b+0x27*0x31+-0x2cf1]=_0x7cba4a,_0x128850[-0x1*0x1693+-0x1*-0x713+0xf82]=_0x50ae15);},this['commitFunc'+'tion'][Un]=function(_0x5e0b37,_0x34bf98){_0x128850=_0x5e0b37['value'],_0x1e7601=_0x34bf98[-0x24e8+-0x512*0x3+-0x7*-0x772],_0x7cba4a=_0x34bf98[-0x93c+-0x4*-0x36e+0x47b*-0x1],_0x50ae15=_0x34bf98[0x3*0x9e6+0x1ade+0x39*-0xfe],_0xc9c98f=_0x34bf98[0x6*0x1eb+0x190d+0x923*-0x4],(_0x128850[-0xd75+-0x2300+0x9b1*0x5]!==_0x1e7601||_0x128850[-0x2*-0x937+-0x967+-0x906]!==_0x7cba4a||_0x128850[0x3cb+-0x26f0+0x2327*0x1]!==_0x50ae15||_0x128850[-0x310+0x1*-0x1f76+0x3*0xb83]!==_0xc9c98f)&&(_0x2c99ee['uniform4ui'+'v'](_0x5e0b37['locationId'],_0x34bf98),_0x128850[0x3*0x6a1+0x1ab2+0x2d*-0x109]=_0x1e7601,_0x128850[-0xc78+-0x7*0x427+0x298a]=_0x7cba4a,_0x128850[0x15fd*0x1+0x2*0xc35+-0x2e65]=_0x50ae15,_0x128850[0x73*-0x55+-0x1964+0x3f96*0x1]=_0xc9c98f);},this['commitFunc'+'tion'][Bn]=function(_0x1e07ba,_0x1e6bf2){_0x2c99ee['uniform1iv'](_0x1e07ba['locationId'],_0x1e6bf2);},this['commitFunc'+'tion'][_d]=function(_0x531335,_0x1c72ac){_0x2c99ee['uniform1ui'+'v'](_0x531335['locationId'],_0x1c72ac);},this['commitFunc'+'tion'][gd]=this['commitFunc'+'tion'][Bn],this['commitFunc'+'tion'][zn]=function(_0x5c78c0,_0x3a02fd){_0x2c99ee['uniform2iv'](_0x5c78c0['locationId'],_0x3a02fd);},this['commitFunc'+'tion'][Sd]=function(_0x10caa4,_0x56c854){_0x2c99ee['uniform2ui'+'v'](_0x10caa4['locationId'],_0x56c854);},this['commitFunc'+'tion'][yd]=this['commitFunc'+'tion'][zn],this['commitFunc'+'tion'][Vn]=function(_0x113461,_0x196967){_0x2c99ee['uniform3iv'](_0x113461['locationId'],_0x196967);},this['commitFunc'+'tion'][vd]=function(_0x19aeff,_0x482f78){_0x2c99ee['uniform3ui'+'v'](_0x19aeff['locationId'],_0x482f78);},this['commitFunc'+'tion'][xd]=this['commitFunc'+'tion'][Vn],this['commitFunc'+'tion'][gh]=function(_0x45611f,_0x1353b7){_0x2c99ee['uniform4iv'](_0x45611f['locationId'],_0x1353b7);},this['commitFunc'+'tion'][Rp]=function(_0x1b20ef,_0x3d1cb9){_0x2c99ee['uniform4ui'+'v'](_0x1b20ef['locationId'],_0x3d1cb9);},this['commitFunc'+'tion'][Op]=this['commitFunc'+'tion'][gh],this['commitFunc'+'tion'][wy]=function(_0x226420,_0xbadae3){_0x2c99ee['uniformMat'+'rix4fv'](_0x226420['locationId'],!(0x1f0*-0x1+0x17d*0xc+0x19*-0xa3),_0xbadae3);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new rw(this);}['destroy'](){super['destroy']();const _0x118752=this['gl'];this['feedback']&&_0x118752['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0x2483+0x228d+-0x470f)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0x2*0x7a3+-0x229d+0x31e4)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0xb60751){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new gt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0xb60751;}['updateBack'+'bufferForm'+'at'](_0x22c9b1){const _0x28c8f5=this['gl'];_0x28c8f5['bindFrameb'+'uffer'](_0x28c8f5['FRAMEBUFFE'+'R'],_0x22c9b1);const _0x2994b4=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x2994b4?Ne:Cr;}['updateBack'+'buffer'](){const _0x4756ec=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x4756ec)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(-0xae*0x26+-0x312+0x1ce7),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x3cdad7,_0x8c9f24){return new XT();}['createInde'+'xBufferImp'+'l'](_0x269716){return new qT(_0x269716);}['createShad'+'erImpl'](_0x388a43){return new JT(_0x388a43);}['createText'+'ureImpl'](_0x39a595){return new ew(_0x39a595);}['createRend'+'erTargetIm'+'pl'](_0xde3f7d){return new sw();}['pushMarker'](_0x1bc25a){if(Ae['browser']&&window['spector']){const _0x28f607=Q['toString']();window['spector']['setMarker'](_0x28f607+'\x20#');}}['popMarker'](){if(Ae['browser']&&window['spector']){const _0x29baa1=Q['toString']();_0x29baa1['length']?window['spector']['setMarker'](_0x29baa1+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x8ed8bd=this['gl'];let _0x41ae75='highp';if(_0x8ed8bd['getShaderP'+'recisionFo'+'rmat']){const _0x42fd6e=_0x8ed8bd['getShaderP'+'recisionFo'+'rmat'](_0x8ed8bd['VERTEX_SHA'+'DER'],_0x8ed8bd['HIGH_FLOAT']),_0x52512b=_0x8ed8bd['getShaderP'+'recisionFo'+'rmat'](_0x8ed8bd['VERTEX_SHA'+'DER'],_0x8ed8bd['MEDIUM_FLO'+'AT']),_0x4e8577=_0x8ed8bd['getShaderP'+'recisionFo'+'rmat'](_0x8ed8bd['FRAGMENT_S'+'HADER'],_0x8ed8bd['HIGH_FLOAT']),_0x4a3fc6=_0x8ed8bd['getShaderP'+'recisionFo'+'rmat'](_0x8ed8bd['FRAGMENT_S'+'HADER'],_0x8ed8bd['MEDIUM_FLO'+'AT']);if(_0x42fd6e&&_0x52512b&&_0x4e8577&&_0x4a3fc6){const _0x4165e1=_0x42fd6e['precision']>0xe93+-0x226+-0x1*0xc6d&&_0x4e8577['precision']>-0x1f*0x6b+-0xe98+-0x1b8d*-0x1,_0x24e370=_0x52512b['precision']>-0x94c+0x1*-0x11d9+0x1b25&&_0x4a3fc6['precision']>-0x1757+-0xdf4+0x254b;_0x4165e1||(_0x24e370?(_0x41ae75='mediump',w['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x41ae75='lowp',w['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x41ae75;}['getExtensi'+'on'](){for(let _0x251e71=-0x1d33+-0x2d1+0x556*0x6;_0x251e71<arguments['length'];_0x251e71++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x251e71])!==-(-0x1c32*-0x1+0x7*0x289+-0x2df0))return this['gl']['getExtensi'+'on'](arguments[_0x251e71]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x3870e8=this['gl'];this['supportedE'+'xtensions']=_0x3870e8['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(0xc94+0x1*-0x1f4e+0x12ba),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float'),this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc');}['initialize'+'Capabiliti'+'es'](){const _0x169193=this['gl'];let _0x4e4596;const _0x466c2d=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0x43eaa1=_0x169193['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0x43eaa1==null?void(-0xfce+0x96*-0x7+-0x62*-0x34):_0x43eaa1['antialias'])??!(0xa2a+0x1*0x5c3+0x3fb*-0x4),this['supportsSt'+'encil']=(_0x43eaa1==null?void(0x2560+0x1536+-0x3a96):_0x43eaa1['stencil'])??!(-0x1ab9+0x193*0xd+-0x1*-0x643),this['maxTexture'+'Size']=_0x169193['getParamet'+'er'](_0x169193['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0x169193['getParamet'+'er'](_0x169193['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0x169193['getParamet'+'er'](_0x169193['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0x169193['getParamet'+'er'](_0x169193['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0x169193['getParamet'+'er'](_0x169193['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0x169193['getParamet'+'er'](_0x169193['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0x169193['getParamet'+'er'](_0x169193['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0x169193['getParamet'+'er'](_0x169193['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0x169193['getParamet'+'er'](_0x169193['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0x169193['getParamet'+'er'](_0x169193['MAX_3D_TEX'+'TURE_SIZE']),_0x4e4596=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x4e4596?_0x169193['getParamet'+'er'](_0x4e4596['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x4e4596?_0x169193['getParamet'+'er'](_0x4e4596['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0x1b5796=/\bMali-G52+/,_0xddf06=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0x466c2d['match'](_0xddf06))&&!this['unmaskedRe'+'nderer']['match'](_0x1b5796),_0x4e4596=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x4e4596?_0x169193['getParamet'+'er'](_0x4e4596['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):-0x1*-0xaad+-0x252b+0x1a7f;const _0x251f3d=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x251f3d?_0x169193['getParamet'+'er'](_0x169193['MAX_SAMPLE'+'S']):-0x6f+0x4b4*0x8+-0x2530,this['maxSamples']=Math['min'](this['maxSamples'],-0x1601+-0xbb3+0x21b8),this['samples']=_0x251f3d&&this['backBuffer'+'Antialias']?this['maxSamples']:0x13*-0x169+0x14f7+0x5d5,this['supportsAr'+'eaLights']=!Ae['android'],this['maxTexture'+'s']<=-0x1*0x1951+-0x22b+0xdc2*0x2&&(this['supportsAr'+'eaLights']=!(-0xee9*-0x2+0x43*-0x2+-0x1d4b)),this['initCapsDe'+'fines']();}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x127da4=this['gl'];_0x127da4['disable'](_0x127da4['BLEND']),_0x127da4['blendFunc'](_0x127da4['ONE'],_0x127da4['ZERO']),_0x127da4['blendEquat'+'ion'](_0x127da4['FUNC_ADD']),_0x127da4['colorMask'](!(0x1f15+0x58c*0x5+-0x3ad1),!(-0x1f58+0x1051+0xf07),!(0x1503+-0x915+0x5f7*-0x2),!(-0x6*-0x38b+-0x26ee+-0x15c*-0xd)),_0x127da4['blendColor'](-0x13b5+-0x17a0+0x2b55,-0x1c1e+-0x4*0x4e1+0x2fa2,-0x1*0x23d5+0xb*-0x25c+0x3dc9*0x1,0x4e9+-0x1*-0x147d+-0x1966),_0x127da4['enable'](_0x127da4['CULL_FACE']),this['cullFace']=_0x127da4['BACK'],_0x127da4['cullFace'](_0x127da4['BACK']),_0x127da4['enable'](_0x127da4['DEPTH_TEST']),_0x127da4['depthFunc'](_0x127da4['LEQUAL']),_0x127da4['depthMask'](!(0x1b7*0x11+0xe38*-0x1+-0xeef)),this['stencil']=!(0x23cd+-0x2a2*-0x8+0x97a*-0x6),_0x127da4['disable'](_0x127da4['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Wi,this['stencilRef'+'Front']=this['stencilRef'+'Back']=0x1*0xba2+0x1*0x1e93+-0x2a35,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=-0x39*0x15+0x827+-0x27b*0x1,_0x127da4['stencilFun'+'c'](_0x127da4['ALWAYS'],-0x437+-0x1*-0x13b+0x2*0x17e,-0x63c+-0x115*0x5+0xca4),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=xn,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=xn,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=xn,this['stencilWri'+'teMaskFron'+'t']=0x7*-0x11a+-0x17f4+0x20a9,this['stencilWri'+'teMaskBack']=-0xe48+0x1*-0x173a+-0x1*-0x2681,_0x127da4['stencilOp'](_0x127da4['KEEP'],_0x127da4['KEEP'],_0x127da4['KEEP']),_0x127da4['stencilMas'+'k'](0x443*0x5+-0x1*0x349+-0x1107),this['alphaToCov'+'erage']=!(0xeb9*0x2+0x1ee0+-0x3c51),this['raster']=!(0x2*0x6be+0x26*-0x4+-0x3c*0x37),_0x127da4['disable'](_0x127da4['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x127da4['disable'](_0x127da4['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(-0x17d1+0x1494+0x33e),_0x127da4['disable'](_0x127da4['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=0xc3f+-0x1175+-0x537*-0x1,_0x127da4['clearDepth'](-0x2a*-0x47+-0x1*0x1d80+0x11db),this['clearColor']=new ie(-0x8ac*-0x1+-0x1bc5+0x1319,-0x19f0+-0x1*-0x16bf+0x1*0x331,-0x1246*-0x2+0x1a79+-0x3f05,0x1a15+-0x1*-0x22c+-0x1c41),_0x127da4['clearColor'](-0xa63*0x2+0x1260+-0x2*-0x133,-0x13c5+0x2*0xb84+-0x343,-0x2375*0x1+-0x1ecd+-0x21*-0x202,0x12d0*0x2+-0x3*0xc4f+0xb3*-0x1),this['clearStenc'+'il']=0xb02+-0x1b65+0x1063,_0x127da4['clearStenc'+'il'](0x9b*0x18+0x594+-0x141c),_0x127da4['hint'](_0x127da4['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x127da4['NICEST']),_0x127da4['enable'](_0x127da4['SCISSOR_TE'+'ST']),_0x127da4['pixelStore'+'i'](_0x127da4['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x127da4['NONE']),this['unpackFlip'+'Y']=!(0x70*0x8+0x789+-0xb08),_0x127da4['pixelStore'+'i'](_0x127da4['UNPACK_FLI'+'P_Y_WEBGL'],!(0x94*-0x35+-0x92a*0x3+0x3a23)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(0x1*-0x162f+-0x2074+0x36a4),_0x127da4['pixelStore'+'i'](_0x127da4['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(0x1c70+0x2*0x7c9+-0x2c01)),_0x127da4['pixelStore'+'i'](_0x127da4['UNPACK_ALI'+'GNMENT'],0x2a5+-0x2*-0x50+-0x344);}['initTextur'+'eUnits'](_0x10d95c=0xa1*-0x14+-0x213d+0x2de1){this['textureUni'+'ts']=[];for(let _0x2f86bd=-0x1*0x15e+0x19ad+-0x184f;_0x2f86bd<_0x10d95c;_0x2f86bd++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=0x4e9+-0x3*0xfb+0x8*-0x3f,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x341e1e of this['shaders'])_0x341e1e['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0x1953fc of this['shaders'])_0x1953fc['restoreCon'+'text']();}['setViewpor'+'t'](_0x19da9e,_0x281df7,_0x4fce2b,_0x6712a9){(this['vx']!==_0x19da9e||this['vy']!==_0x281df7||this['vw']!==_0x4fce2b||this['vh']!==_0x6712a9)&&(this['gl']['viewport'](_0x19da9e,_0x281df7,_0x4fce2b,_0x6712a9),this['vx']=_0x19da9e,this['vy']=_0x281df7,this['vw']=_0x4fce2b,this['vh']=_0x6712a9);}['setScissor'](_0x59b135,_0x23306b,_0x203832,_0x39e63c){(this['sx']!==_0x59b135||this['sy']!==_0x23306b||this['sw']!==_0x203832||this['sh']!==_0x39e63c)&&(this['gl']['scissor'](_0x59b135,_0x23306b,_0x203832,_0x39e63c),this['sx']=_0x59b135,this['sy']=_0x23306b,this['sw']=_0x203832,this['sh']=_0x39e63c);}['setFramebu'+'ffer'](_0x1791aa){if(this['activeFram'+'ebuffer']!==_0x1791aa){const _0x49bc0f=this['gl'];_0x49bc0f['bindFrameb'+'uffer'](_0x49bc0f['FRAMEBUFFE'+'R'],_0x1791aa),this['activeFram'+'ebuffer']=_0x1791aa;}}['copyRender'+'Target'](_0x2ad4e6,_0x57e639,_0x46bcab,_0x2a6c21){var _0x240ff0,_0x39ae03;const _0x4899b2=this['gl'];if(_0x2ad4e6===this['backBuffer']&&(_0x2ad4e6=null),_0x46bcab){if(_0x57e639){if(_0x2ad4e6){if(!_0x2ad4e6['_colorBuff'+'er']||!_0x57e639['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0x4*-0x338+0x7*0x134+-0x1*0x154b);if(_0x2ad4e6['_colorBuff'+'er']['_format']!==_0x57e639['_colorBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(-0x949+0x2*0xc9d+-0x14*0xcc);}}else{if(!_0x2ad4e6['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(-0x7*-0x4ae+-0x2*-0xb12+0x2f*-0x12b);}}if(_0x2a6c21&&_0x2ad4e6&&!_0x2ad4e6['_depth']){if(!_0x2ad4e6['_depthBuff'+'er']||!_0x57e639['_depthBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0xf8c+0xe6b+-0x76*0x41);if(_0x2ad4e6['_depthBuff'+'er']['_format']!==_0x57e639['_depthBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(0x1*-0x136f+-0xa*-0x54+0x2*0x814);}Q['pushGpuMar'+'ker'](this,'COPY-RT');const _0x472c06=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x57e639,this['updateBegi'+'n']();const _0x25745b=_0x2ad4e6?_0x2ad4e6['impl']['_glFrameBu'+'ffer']:(_0x240ff0=this['backBuffer'])==null?void(-0xa13*0x3+-0x1*0x489+0x22c2*0x1):_0x240ff0['impl']['_glFrameBu'+'ffer'],_0x29b118=_0x57e639?_0x57e639['impl']['_glFrameBu'+'ffer']:(_0x39ae03=this['backBuffer'])==null?void(-0xb15+-0x4d4+0xfe9):_0x39ae03['impl']['_glFrameBu'+'ffer'];w['assert'](_0x25745b!==_0x29b118,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x4899b2['bindFrameb'+'uffer'](_0x4899b2['READ_FRAME'+'BUFFER'],_0x25745b),_0x4899b2['bindFrameb'+'uffer'](_0x4899b2['DRAW_FRAME'+'BUFFER'],_0x29b118);const _0x1b8ebe=_0x2ad4e6?_0x2ad4e6['width']:_0x57e639?_0x57e639['width']:this['width'],_0x7d4c0a=_0x2ad4e6?_0x2ad4e6['height']:_0x57e639?_0x57e639['height']:this['height'];return _0x4899b2['blitFrameb'+'uffer'](-0x1f*0x135+-0x2fc+0x2867,0x4ac*0x8+0x1af*0xc+0x1*-0x3994,_0x1b8ebe,_0x7d4c0a,-0xab*0x6+0x21c6+0xf*-0x1fc,0x7fd+-0x1158+0x95b,_0x1b8ebe,_0x7d4c0a,(_0x46bcab?_0x4899b2['COLOR_BUFF'+'ER_BIT']:0x5*0x115+-0xf31+0x9c8)|(_0x2a6c21?_0x4899b2['DEPTH_BUFF'+'ER_BIT']:-0x1bf5+0x18f1+-0x182*-0x2),_0x4899b2['NEAREST']),this['renderTarg'+'et']=_0x472c06,_0x4899b2['bindFrameb'+'uffer'](_0x4899b2['FRAMEBUFFE'+'R'],_0x472c06?_0x472c06['impl']['_glFrameBu'+'ffer']:null),Q['popGpuMark'+'er'](this),!(-0x579+-0x2493*-0x1+-0xf8d*0x2);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0x4d0a09){const _0x4b6fcf=_0x4d0a09['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0x4b6fcf,w['assert'](_0x4b6fcf),Q['pushGpuMar'+'ker'](this,'Pass:'+_0x4d0a09['name']+'\x20RT:'+_0x4b6fcf['name']),Q['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x54910a,height:_0x562902}=_0x4b6fcf;this['setViewpor'+'t'](0x1*0x907+0x1*-0x728+-0x1*0x1df,0x412+-0x9*-0x251+-0x18eb,_0x54910a,_0x562902),this['setScissor'](-0x57*0x5e+-0x6*0x23f+0x2d6c,0x4*-0x86c+-0x3*0x40e+0x2dda,_0x54910a,_0x562902);const _0xa038fc=_0x4d0a09['colorOps'],_0x569d8b=_0x4d0a09['depthStenc'+'ilOps'];if(_0xa038fc!=null&&_0xa038fc['clear']||_0x569d8b['clearDepth']||_0x569d8b['clearStenc'+'il']){let _0x1a7b7a=-0xd5*-0x23+-0x47*-0x4f+-0x3308;const _0x173c39={};_0xa038fc!=null&&_0xa038fc['clear']&&(_0x1a7b7a|=jo,_0x173c39['color']=[_0xa038fc['clearValue']['r'],_0xa038fc['clearValue']['g'],_0xa038fc['clearValue']['b'],_0xa038fc['clearValue']['a']]),_0x569d8b['clearDepth']&&(_0x1a7b7a|=Yo,_0x173c39['depth']=_0x569d8b['clearDepth'+'Value']),_0x569d8b['clearStenc'+'il']&&(_0x1a7b7a|=ch,_0x173c39['stencil']=_0x569d8b['clearStenc'+'ilValue']),_0x173c39['flags']=_0x1a7b7a,this['clear'](_0x173c39);}w['call'](()=>{this['insideRend'+'erPass']&&w['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(0x1*-0x19b6+-0x1*0xe74+0x282a),Q['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0x837a19){var _0x2b80f9;Q['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0x367007=this['renderTarg'+'et'],_0xf6e2e3=_0x837a19['colorArray'+'Ops']['length'];if(_0x367007){Da['length']=0x26c*0x1+0x49*0x33+-0x10f7;const _0x2238cb=this['gl'];for(let _0x5efbe8=-0x1fae*-0x1+0x2663+-0x4611;_0x5efbe8<_0xf6e2e3;_0x5efbe8++){const _0x20290f=_0x837a19['colorArray'+'Ops'][_0x5efbe8];_0x20290f['store']||_0x20290f['resolve']||Da['push'](_0x2238cb['COLOR_ATTA'+'CHMENT0']+_0x5efbe8);}_0x367007!==this['backBuffer']&&(_0x837a19['depthStenc'+'ilOps']['storeDepth']||Da['push'](_0x2238cb['DEPTH_ATTA'+'CHMENT']),_0x837a19['depthStenc'+'ilOps']['storeStenc'+'il']||Da['push'](_0x2238cb['STENCIL_AT'+'TACHMENT'])),Da['length']>-0x1279*-0x2+0x19d6+-0x4*0xfb2&&_0x837a19['fullSizeCl'+'earRect']&&_0x2238cb['invalidate'+'Framebuffe'+'r'](_0x2238cb['DRAW_FRAME'+'BUFFER'],Da),_0xf6e2e3&&((_0x2b80f9=_0x837a19['colorOps'])!=null&&_0x2b80f9['resolve'])&&_0x837a19['samples']>0x1ec0+-0x92b+-0x1594&&_0x367007['autoResolv'+'e']&&_0x367007['resolve'](!(-0x581*0x6+0x3b9+0x1d4d),!(0x2*-0xf39+-0x108f+0x2f02)),_0x367007['depthBuffe'+'r']&&_0x837a19['depthStenc'+'ilOps']['resolveDep'+'th']&&_0x837a19['samples']>-0x2185+-0x15+0x7*0x4cd&&_0x367007['autoResolv'+'e']&&_0x367007['resolve'](!(-0x145d+0xaf7+0x1d*0x53),!(0x742*-0x1+-0x2651+0x2d93*0x1));for(let _0x5463a3=-0x17+-0x1d2*0x3+0x31*0x1d;_0x5463a3<_0xf6e2e3;_0x5463a3++)if(_0x837a19['colorArray'+'Ops'][_0x5463a3]['genMipmaps']){const _0x3e6add=_0x367007['_colorBuff'+'ers'][_0x5463a3];_0x3e6add&&_0x3e6add['impl']['_glTexture']&&_0x3e6add['mipmaps']&&(Q['pushGpuMar'+'ker'](this,'MIPS'+_0x5463a3),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0x17f8+-0x4f4*-0x1+0x1305)),this['bindTextur'+'e'](_0x3e6add),this['gl']['generateMi'+'pmap'](_0x3e6add['impl']['_glTarget']),Q['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(-0x1e52+0xb10+0x1343*0x1),Q['popGpuMark'+'er'](this),Q['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x26708d){this['_defaultFr'+'amebuffer']!==_0x26708d&&(this['_defaultFr'+'amebuffer']=_0x26708d,this['_defaultFr'+'amebufferC'+'hanged']=!(0x1c9d+-0x22ae*-0x1+-0x3f4b));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(Q['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x155bcf=0x1*0xe3a+-0x2e*0x4+0x1a*-0x85;_0x155bcf<this['textureUni'+'ts']['length'];++_0x155bcf)for(let _0x53aadf=-0x127b+-0x1289+-0x19c*-0x17;_0x53aadf<-0x1bb1+0x634*-0x6+0x40ec;++_0x53aadf)this['textureUni'+'ts'][_0x155bcf][_0x53aadf]=null;}const _0x57c985=this['renderTarg'+'et']??this['backBuffer'];w['assert'](_0x57c985);const _0x360908=_0x57c985['impl'];_0x360908['initialize'+'d']||this['initRender'+'Target'](_0x57c985),this['setFramebu'+'ffer'](_0x360908['_glFrameBu'+'ffer']),Q['popGpuMark'+'er'](this);}['updateEnd'](){Q['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x209c43=this['renderTarg'+'et'];if(_0x209c43&&_0x209c43!==this['backBuffer']){_0x209c43['_samples']>-0x32b+-0x1af7+0x1e23&&_0x209c43['autoResolv'+'e']&&_0x209c43['resolve']();const _0x261dcc=_0x209c43['_colorBuff'+'er'];_0x261dcc&&_0x261dcc['impl']['_glTexture']&&_0x261dcc['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x5*0x1c+-0x25c*-0x1+-0x2e7)),this['bindTextur'+'e'](_0x261dcc),this['gl']['generateMi'+'pmap'](_0x261dcc['impl']['_glTarget']));}Q['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x1e2b04){if(this['unpackFlip'+'Y']!==_0x1e2b04){this['unpackFlip'+'Y']=_0x1e2b04;const _0x3f8a51=this['gl'];_0x3f8a51['pixelStore'+'i'](_0x3f8a51['UNPACK_FLI'+'P_Y_WEBGL'],_0x1e2b04);}}['setUnpackP'+'remultiply'+'Alpha'](_0x5ccea4){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x5ccea4){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x5ccea4;const _0x1c8b26=this['gl'];_0x1c8b26['pixelStore'+'i'](_0x1c8b26['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x5ccea4);}}['activeText'+'ure'](_0x3ab2f8){this['textureUni'+'t']!==_0x3ab2f8&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x3ab2f8),this['textureUni'+'t']=_0x3ab2f8);}['bindTextur'+'e'](_0x422a24){const _0x200382=_0x422a24['impl'],_0x512fad=_0x200382['_glTarget'],_0x52b7b8=_0x200382['_glTexture'],_0x33e266=this['textureUni'+'t'],_0x1e8453=this['targetToSl'+'ot'][_0x512fad];this['textureUni'+'ts'][_0x33e266][_0x1e8453]!==_0x52b7b8&&(this['gl']['bindTextur'+'e'](_0x512fad,_0x52b7b8),this['textureUni'+'ts'][_0x33e266][_0x1e8453]=_0x52b7b8);}['bindTextur'+'eOnUnit'](_0x519c65,_0x592b06){const _0x36bde9=_0x519c65['impl'],_0xf344e5=_0x36bde9['_glTarget'],_0x4652f9=_0x36bde9['_glTexture'],_0x1dfc22=this['targetToSl'+'ot'][_0xf344e5];this['textureUni'+'ts'][_0x592b06][_0x1dfc22]!==_0x4652f9&&(this['activeText'+'ure'](_0x592b06),this['gl']['bindTextur'+'e'](_0xf344e5,_0x4652f9),this['textureUni'+'ts'][_0x592b06][_0x1dfc22]=_0x4652f9);}['setTexture'+'Parameters'](_0x1c44a3){const _0x357fdd=this['gl'],_0x462e01=_0x1c44a3['impl']['dirtyParam'+'eterFlags'],_0x105d66=_0x1c44a3['impl']['_glTarget'];if(_0x462e01&Ay){let _0x49b06f=_0x1c44a3['_minFilter'];(!_0x1c44a3['_mipmaps']||_0x1c44a3['_compresse'+'d']&&_0x1c44a3['_levels']['length']===-0x183b+-0x1dad+0x35e9*0x1)&&(_0x49b06f===Kh||_0x49b06f===Zh?_0x49b06f=Te:(_0x49b06f===Qh||_0x49b06f===ma)&&(_0x49b06f=vt)),_0x357fdd['texParamet'+'eri'](_0x105d66,_0x357fdd['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x49b06f]);}if(_0x462e01&Cy&&_0x357fdd['texParamet'+'eri'](_0x105d66,_0x357fdd['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x1c44a3['_magFilter']]),_0x462e01&Py&&_0x357fdd['texParamet'+'eri'](_0x105d66,_0x357fdd['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x1c44a3['_addressU']]),_0x462e01&My&&_0x357fdd['texParamet'+'eri'](_0x105d66,_0x357fdd['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x1c44a3['_addressV']]),_0x462e01&Dy&&_0x357fdd['texParamet'+'eri'](_0x105d66,_0x357fdd['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x1c44a3['_addressW']]),_0x462e01&Iy&&_0x357fdd['texParamet'+'eri'](_0x105d66,_0x357fdd['TEXTURE_CO'+'MPARE_MODE'],_0x1c44a3['_compareOn'+'Read']?_0x357fdd['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x357fdd['NONE']),_0x462e01&Ly&&_0x357fdd['texParamet'+'eri'](_0x105d66,_0x357fdd['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x1c44a3['_compareFu'+'nc']]),_0x462e01&Ry){const _0x4bf96c=this['extTexture'+'FilterAnis'+'otropic'];_0x4bf96c&&_0x357fdd['texParamet'+'erf'](_0x105d66,_0x4bf96c['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],Y['clamp'](Math['round'](_0x1c44a3['_anisotrop'+'y']),-0xae1*0x3+0x9d+0x9*0x38f,this['maxAnisotr'+'opy']));}}['setTexture'](_0x41c7e3,_0x43bd80){const _0x2aaa87=_0x41c7e3['impl'];_0x2aaa87['_glTexture']||_0x2aaa87['initialize'](this,_0x41c7e3),_0x2aaa87['dirtyParam'+'eterFlags']>-0x344*-0x8+0x1f7+-0x2f*0x99||_0x41c7e3['_needsUplo'+'ad']||_0x41c7e3['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x43bd80),this['bindTextur'+'e'](_0x41c7e3),_0x2aaa87['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0x41c7e3),_0x2aaa87['dirtyParam'+'eterFlags']=0x1a40+0xb95*0x1+-0x25d5*0x1),(_0x41c7e3['_needsUplo'+'ad']||_0x41c7e3['_needsMipm'+'apsUpload'])&&(_0x2aaa87['upload'](this,_0x41c7e3),_0x41c7e3['_needsUplo'+'ad']=!(0x19b1+0xd18+-0x26c8),_0x41c7e3['_needsMipm'+'apsUpload']=!(0x22cc+-0x79d*0x2+-0x1391))):this['bindTextur'+'eOnUnit'](_0x41c7e3,_0x43bd80);}['createVert'+'exArray'](_0x2f433f){let _0x415880,_0x5f3ce5;const _0x3d4801=_0x2f433f['length']>0xd5*0x2e+-0x1*-0x24b0+-0x4af5;if(_0x3d4801){_0x415880='';for(let _0x4d0498=-0xa3*-0x3a+0x3*-0x5f9+-0x1303;_0x4d0498<_0x2f433f['length'];_0x4d0498++){const _0x453ed4=_0x2f433f[_0x4d0498];_0x415880+=_0x453ed4['id']+_0x453ed4['format']['renderingH'+'ash'];}_0x5f3ce5=this['_vaoMap']['get'](_0x415880);}if(!_0x5f3ce5){const _0x1dbfba=this['gl'];_0x5f3ce5=_0x1dbfba['createVert'+'exArray'](),_0x1dbfba['bindVertex'+'Array'](_0x5f3ce5),_0x1dbfba['bindBuffer'](_0x1dbfba['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x3503d8=!(0x2332+-0x5*-0x51b+0x86*-0x74);for(let _0x18d2d4=-0xf*0x1f9+0xc*-0x14d+0x2d33;_0x18d2d4<_0x2f433f['length'];_0x18d2d4++){const _0x29b488=_0x2f433f[_0x18d2d4];_0x1dbfba['bindBuffer'](_0x1dbfba['ARRAY_BUFF'+'ER'],_0x29b488['impl']['bufferId']);const _0x4277c5=_0x29b488['format']['elements'];for(let _0x1c6662=0x1204+-0x1f36+-0x466*-0x3;_0x1c6662<_0x4277c5['length'];_0x1c6662++){const _0x43a036=_0x4277c5[_0x1c6662],_0x447b99=Le[_0x43a036['name']];_0x447b99===0xb*0x1fc+0x26a5*-0x1+0x3*0x59b&&(_0x3503d8=!(-0x59*-0x32+-0x2196*0x1+0x1034)),_0x43a036['asInt']?_0x1dbfba['vertexAttr'+'ibIPointer'](_0x447b99,_0x43a036['numCompone'+'nts'],this['glType'][_0x43a036['dataType']],_0x43a036['stride'],_0x43a036['offset']):_0x1dbfba['vertexAttr'+'ibPointer'](_0x447b99,_0x43a036['numCompone'+'nts'],this['glType'][_0x43a036['dataType']],_0x43a036['normalize'],_0x43a036['stride'],_0x43a036['offset']),_0x1dbfba['enableVert'+'exAttribAr'+'ray'](_0x447b99),_0x29b488['format']['instancing']&&_0x1dbfba['vertexAttr'+'ibDivisor'](_0x447b99,-0x1*0x1371+0x1558+0x2*-0xf3);}}_0x1dbfba['bindVertex'+'Array'](null),_0x1dbfba['bindBuffer'](_0x1dbfba['ARRAY_BUFF'+'ER'],null),_0x3d4801&&this['_vaoMap']['set'](_0x415880,_0x5f3ce5),_0x3503d8||w['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x5f3ce5;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](_0x5a6027){const _0x560235=this['gl'];let _0x18aa50;if(this['vertexBuff'+'ers']['length']===0x1b01+0x6*-0xc5+0x23d*-0xa){const _0x1db47b=this['vertexBuff'+'ers'][0xa7*0x1f+0x70d+-0x1b46];w['assert'](_0x1db47b['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x1db47b['impl']['vao']||(_0x1db47b['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x18aa50=_0x1db47b['impl']['vao'];}else _0x18aa50=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x18aa50&&(this['boundVao']=_0x18aa50,_0x560235['bindVertex'+'Array'](_0x18aa50));const _0x285349=_0x5a6027?_0x5a6027['impl']['bufferId']:null;_0x560235['bindBuffer'](_0x560235['ELEMENT_AR'+'RAY_BUFFER'],_0x285349);}['draw'](_0x31bc9a,_0x1c1113,_0x5c8085,_0x56466f,_0x2b94e5=!(-0x2f*-0x5b+0x1394+-0x2449),_0x45a6fa=!(-0x1262*-0x2+0x1fe9+-0x44ad)){const _0x33bc6d=this['shader'];if(_0x33bc6d&&(this['activateSh'+'ader'](),this['shaderVali'+'d'])){const _0x492793=this['gl'];_0x2b94e5&&(w['call'](()=>{var _0x3f11fc,_0x1c051f;return this['validateAt'+'tributes'](this['shader'],(_0x3f11fc=this['vertexBuff'+'ers'][0x23bc+-0x1b1+-0x7*0x4dd])==null?void(-0x13*0x48+0x26ba+-0x2162):_0x3f11fc['format'],(_0x1c051f=this['vertexBuff'+'ers'][-0x22f9+-0x558+0x2*0x1429])==null?void(0x1faa+-0x1*-0x4b3+0x3*-0xc1f):_0x1c051f['format']);}),this['setBuffers'](_0x1c1113));let _0xa6f0e1=0x1c56+0x222+-0x1*0x1e78;const _0x2f79b1=_0x33bc6d['impl']['samplers'];for(let _0x218411=0x4*-0x98f+0x1757*-0x1+0x3d93,_0x6764f8=_0x2f79b1['length'];_0x218411<_0x6764f8;_0x218411++){const _0x34cada=_0x2f79b1[_0x218411];let _0x320033=_0x34cada['scopeId']['value'];if(!_0x320033){const _0x19cf3a=_0x34cada['scopeId']['name'];w['assert'](_0x19cf3a!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),w['assert'](_0x19cf3a!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x19cf3a==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x320033=fa(this,'white')),_0x19cf3a==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x320033=fa(this,'pink')),_0x320033||(w['errorOnce']('Shader\x20'+_0x33bc6d['name']+'\x20requires\x20'+_0x19cf3a+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+Q['toString']()+']',_0x33bc6d),_0x320033=fa(this,'pink'));}if(_0x320033 instanceof _e){const _0x3542ef=_0x320033;this['setTexture'](_0x3542ef,_0xa6f0e1),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<-0x2*0xeff+-0x154+0x1f54&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x3542ef?w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x3542ef}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x3542ef&&w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x3542ef})),_0x34cada['slot']!==_0xa6f0e1&&(_0x492793['uniform1i'](_0x34cada['locationId'],_0xa6f0e1),_0x34cada['slot']=_0xa6f0e1),_0xa6f0e1++;}else{_0x34cada['array']['length']=-0x1*0x18df+0x202a+-0x1*0x74b;const _0x425961=_0x320033['length'];for(let _0x46b513=0x1038+0x14a6+-0x24de;_0x46b513<_0x425961;_0x46b513++){const _0x306ea8=_0x320033[_0x46b513];this['setTexture'](_0x306ea8,_0xa6f0e1),_0x34cada['array'][_0x46b513]=_0xa6f0e1,_0xa6f0e1++;}_0x492793['uniform1iv'](_0x34cada['locationId'],_0x34cada['array']);}}const _0x39809c=_0x33bc6d['impl']['uniforms'];for(let _0x15d7c1=-0x24ef+-0x2*-0x985+0x3*0x5f7,_0x162617=_0x39809c['length'];_0x15d7c1<_0x162617;_0x15d7c1++){const _0x2777dc=_0x39809c[_0x15d7c1],_0x8915cd=_0x2777dc['scopeId'],_0xa0ecdd=_0x2777dc['version'],_0x4e0046=_0x8915cd['versionObj'+'ect']['version'];if(_0xa0ecdd['globalId']!==_0x4e0046['globalId']||_0xa0ecdd['revision']!==_0x4e0046['revision']){_0xa0ecdd['globalId']=_0x4e0046['globalId'],_0xa0ecdd['revision']=_0x4e0046['revision'];const _0x552125=_0x8915cd['value'];_0x552125!=null?this['commitFunc'+'tion'][_0x2777dc['dataType']](_0x2777dc,_0x552125):w['warnOnce']('Shader\x20['+_0x33bc6d['label']+(']\x20requires'+'\x20uniform\x20[')+_0x2777dc['scopeId']['name']+(']\x20which\x20ha'+'s\x20not\x20been'+'\x20set,\x20whil'+'e\x20renderin'+'g\x20[')+Q['toString']()+']');}}this['transformF'+'eedbackBuf'+'fer']&&(_0x492793['bindBuffer'+'Base'](_0x492793['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x60*0x1+0x52d+0x7*-0xcb,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x492793['beginTrans'+'formFeedba'+'ck'](_0x492793['POINTS']));const _0x5f2000=this['glPrimitiv'+'e'][_0x31bc9a['type']],_0x16dadb=_0x31bc9a['count'];if(_0x31bc9a['indexed']){w['assert'](_0x1c1113['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x5be90c=_0x1c1113['impl']['glFormat'],_0x3a52a1=_0x31bc9a['base']*_0x1c1113['bytesPerIn'+'dex'];_0x5c8085>0x1387+0xe92+-0x2219?_0x492793['drawElemen'+'tsInstance'+'d'](_0x5f2000,_0x16dadb,_0x5be90c,_0x3a52a1,_0x5c8085):_0x492793['drawElemen'+'ts'](_0x5f2000,_0x16dadb,_0x5be90c,_0x3a52a1);}else{const _0x561796=_0x31bc9a['base'];_0x5c8085>0xb1c+-0x62a+-0x2*0x279?_0x492793['drawArrays'+'Instanced'](_0x5f2000,_0x561796,_0x16dadb,_0x5c8085):_0x492793['drawArrays'](_0x5f2000,_0x561796,_0x16dadb);}this['transformF'+'eedbackBuf'+'fer']&&(_0x492793['endTransfo'+'rmFeedback'](),_0x492793['bindBuffer'+'Base'](_0x492793['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x1aa4+0x591*-0x7+-0x1*-0xc53,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x31bc9a['type']]+=_0x31bc9a['count']*(_0x5c8085>-0x1*-0xca4+-0x27d*-0x2+-0x1*0x119d?_0x5c8085:-0x1e60+0xd*-0x15d+-0x106*-0x2f);}_0x45a6fa&&this['clearVerte'+'xBuffer']();}['clear'](_0x110783){const _0x2c34ee=this['defaultCle'+'arOptions'];_0x110783=_0x110783||_0x2c34ee;const _0x37b8ea=_0x110783['flags']??_0x2c34ee['flags'];if(_0x37b8ea!==-0x1f*-0xa9+-0x5*-0x49+0xc*-0x1d3){const _0x551fa5=this['gl'];if(_0x37b8ea&jo){const _0x1b6504=_0x110783['color']??_0x2c34ee['color'],_0x161aed=_0x1b6504[-0x1a5e+-0x34c+-0xed5*-0x2],_0x45ff21=_0x1b6504[-0xc28+0x847*0x2+-0x465],_0x5419d7=_0x1b6504[0x2*-0x86c+0x1*-0xa9b+0x1b75],_0x41d738=_0x1b6504[0x1a81+0x5f2+-0x2070],_0x23cabd=this['clearColor'];(_0x161aed!==_0x23cabd['r']||_0x45ff21!==_0x23cabd['g']||_0x5419d7!==_0x23cabd['b']||_0x41d738!==_0x23cabd['a'])&&(this['gl']['clearColor'](_0x161aed,_0x45ff21,_0x5419d7,_0x41d738),this['clearColor']['set'](_0x161aed,_0x45ff21,_0x5419d7,_0x41d738)),this['setBlendSt'+'ate'](pt['NOBLEND']);}if(_0x37b8ea&Yo){const _0x291990=_0x110783['depth']??_0x2c34ee['depth'];_0x291990!==this['clearDepth']&&(this['gl']['clearDepth'](_0x291990),this['clearDepth']=_0x291990),this['setDepthSt'+'ate'](Yt['WRITEDEPTH']);}if(_0x37b8ea&ch){const _0x58454c=_0x110783['stencil']??_0x2c34ee['stencil'];_0x58454c!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x58454c),this['clearStenc'+'il']=_0x58454c),_0x551fa5['stencilMas'+'k'](0x2c0+0x17a8+-0x1969),this['stencilWri'+'teMaskFron'+'t']=-0x1*-0x26b3+0x8a9*0x2+-0x3706*0x1,this['stencilWri'+'teMaskBack']=0x1058+-0x3f8+-0x1*0xb61;}_0x551fa5['clear'](this['glClearFla'+'g'][_0x37b8ea]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x188382,_0x413a49,_0x166938,_0x445a66,_0x3fd312){const _0x1bee42=this['gl'];_0x1bee42['readPixels'](_0x188382,_0x413a49,_0x166938,_0x445a66,_0x1bee42['RGBA'],_0x1bee42['UNSIGNED_B'+'YTE'],_0x3fd312);}['clientWait'+'Async'](_0x34a752,_0xc9ddfa){const _0x2d1ead=this['gl'],_0x343fd0=_0x2d1ead['fenceSync'](_0x2d1ead['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],0x37*-0x14+-0x1e9a+0x2*0x1173);return this['submit'](),new Promise((_0x15a5a0,_0x52e972)=>{function _0x1ff9de(){const _0x343dbe=_0x2d1ead['clientWait'+'Sync'](_0x343fd0,_0x34a752,0x186+-0x2*0x185+-0x4*-0x61);_0x343dbe===_0x2d1ead['TIMEOUT_EX'+'PIRED']?setTimeout(_0x1ff9de,_0xc9ddfa):(_0x2d1ead['deleteSync'](_0x343fd0),_0x343dbe===_0x2d1ead['WAIT_FAILE'+'D']?_0x52e972(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed')):_0x15a5a0());}_0x1ff9de();});}async['readPixels'+'Async'](_0x433814,_0x295dcb,_0x2b4c29,_0x3fe295,_0x41aa19){var _0x4adfe6;const _0x5db350=this['gl'],_0x3c28f2=(_0x4adfe6=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(-0x19*-0x75+0x121*-0x12+0x17*0x63):_0x4adfe6['impl'],_0x413ec7=(_0x3c28f2==null?void(-0x81*0x15+0x10fa+-0x665):_0x3c28f2['_glFormat'])??_0x5db350['RGBA'],_0x19f0cf=(_0x3c28f2==null?void(0x2027+-0x1586+-0xaa1):_0x3c28f2['_glPixelTy'+'pe'])??_0x5db350['UNSIGNED_B'+'YTE'],_0x4a83b3=_0x5db350['createBuff'+'er']();return _0x5db350['bindBuffer'](_0x5db350['PIXEL_PACK'+'_BUFFER'],_0x4a83b3),_0x5db350['bufferData'](_0x5db350['PIXEL_PACK'+'_BUFFER'],_0x41aa19['byteLength'],_0x5db350['STREAM_REA'+'D']),_0x5db350['readPixels'](_0x433814,_0x295dcb,_0x2b4c29,_0x3fe295,_0x413ec7,_0x19f0cf,0xf*-0x1c6+0x1*-0xd33+0x1bb*0x17),_0x5db350['bindBuffer'](_0x5db350['PIXEL_PACK'+'_BUFFER'],null),await this['clientWait'+'Async'](0x65*0x13+0x1235*-0x2+0xb*0x2a1,0x46f*-0x5+-0x1591+0x2*0x15e6),_0x5db350['bindBuffer'](_0x5db350['PIXEL_PACK'+'_BUFFER'],_0x4a83b3),_0x5db350['getBufferS'+'ubData'](_0x5db350['PIXEL_PACK'+'_BUFFER'],0x82a+-0x3b5*0x5+0xa5f,_0x41aa19),_0x5db350['bindBuffer'](_0x5db350['PIXEL_PACK'+'_BUFFER'],null),_0x5db350['deleteBuff'+'er'](_0x4a83b3),_0x41aa19;}['readTextur'+'eAsync'](_0x2de9b3,_0x267a33,_0x202906,_0x409d74,_0x56ed68,_0x2716fa){const _0x45981e=_0x2716fa['face']??-0xf52+0x1525+0x1*-0x5d3,_0x61846d=_0x2716fa['renderTarg'+'et']??new gt({'colorBuffer':_0x2de9b3,'depth':!(-0x1*-0x112f+0x892+-0x19c0),'face':_0x45981e});w['assert'](_0x61846d['colorBuffe'+'r']===_0x2de9b3);const _0x33619c=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0x409d74,_0x56ed68,0x824*0x1+0x2583+-0x2da6,_0x2de9b3['_format'])),_0x5c062d=_0x2716fa['data']??new(my(_0x2de9b3['_format']))(_0x33619c);return this['setRenderT'+'arget'](_0x61846d),this['initRender'+'Target'](_0x61846d),new Promise((_0x1640b9,_0x4f965f)=>{this['readPixels'+'Async'](_0x267a33,_0x202906,_0x409d74,_0x56ed68,_0x5c062d)['then'](_0x5b6e50=>{_0x2716fa['renderTarg'+'et']||_0x61846d['destroy'](),_0x1640b9(_0x5b6e50);})['catch'](_0x4f965f);});}async['writeTextu'+'reAsync'](_0x40743c,_0x521250,_0x4e56b4,_0x4162f5,_0x125cde,_0x93103f){const _0x7d174f=this['gl'],_0x15b3d8=_0x40743c['impl'],_0x117f78=(_0x15b3d8==null?void(0x13*-0x10a+-0xe95+0x1d*0x12f):_0x15b3d8['_glFormat'])??_0x7d174f['RGBA'],_0x12ce0c=(_0x15b3d8==null?void(0x5*-0x19d+-0xc16+0x1427):_0x15b3d8['_glPixelTy'+'pe'])??_0x7d174f['UNSIGNED_B'+'YTE'],_0x13fb06=_0x7d174f['createBuff'+'er']();_0x7d174f['bindBuffer'](_0x7d174f['PIXEL_UNPA'+'CK_BUFFER'],_0x13fb06),_0x7d174f['bufferData'](_0x7d174f['PIXEL_UNPA'+'CK_BUFFER'],_0x93103f,_0x7d174f['STREAM_DRA'+'W']),_0x7d174f['bindTextur'+'e'](_0x7d174f['TEXTURE_2D'],_0x15b3d8['_glTexture']),_0x7d174f['texSubImag'+'e2D'](_0x7d174f['TEXTURE_2D'],-0x314*0x6+-0x1299+0x2511*0x1,_0x521250,_0x4e56b4,_0x4162f5,_0x125cde,_0x117f78,_0x12ce0c,0x29+-0x1*0x1982+0x1959),_0x7d174f['bindBuffer'](_0x7d174f['PIXEL_UNPA'+'CK_BUFFER'],null),_0x40743c['_needsUplo'+'ad']=!(0x3*0xb78+-0x20ab*0x1+-0x1bc),_0x40743c['_mipmapsUp'+'loaded']=!(-0x3a*0x29+0xa28+-0xdd),await this['clientWait'+'Async'](-0x905*0x1+0x9f*-0x23+0x3e*0x7f,0xba3+-0x1283+0x6f0);}['setAlphaTo'+'Coverage'](_0x7385fb){this['alphaToCov'+'erage']!==_0x7385fb&&(this['alphaToCov'+'erage']=_0x7385fb,_0x7385fb?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x5dc76b){if(this['transformF'+'eedbackBuf'+'fer']!==_0x5dc76b){this['transformF'+'eedbackBuf'+'fer']=_0x5dc76b;const _0x502e58=this['gl'];_0x5dc76b?(this['feedback']||(this['feedback']=_0x502e58['createTran'+'sformFeedb'+'ack']()),_0x502e58['bindTransf'+'ormFeedbac'+'k'](_0x502e58['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x502e58['bindTransf'+'ormFeedbac'+'k'](_0x502e58['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x35a440){this['raster']!==_0x35a440&&(this['raster']=_0x35a440,_0x35a440?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x272177){if(this['stencil']!==_0x272177){const _0x4f43a8=this['gl'];_0x272177?_0x4f43a8['enable'](_0x4f43a8['STENCIL_TE'+'ST']):_0x4f43a8['disable'](_0x4f43a8['STENCIL_TE'+'ST']),this['stencil']=_0x272177;}}['setStencil'+'Func'](_0x258b62,_0xf04695,_0x3de70b){(this['stencilFun'+'cFront']!==_0x258b62||this['stencilRef'+'Front']!==_0xf04695||this['stencilMas'+'kFront']!==_0x3de70b||this['stencilFun'+'cBack']!==_0x258b62||this['stencilRef'+'Back']!==_0xf04695||this['stencilMas'+'kBack']!==_0x3de70b)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x258b62],_0xf04695,_0x3de70b),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x258b62,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0xf04695,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x3de70b);}['setStencil'+'FuncFront'](_0x48c1f6,_0xc0a58a,_0x3ecca2){if(this['stencilFun'+'cFront']!==_0x48c1f6||this['stencilRef'+'Front']!==_0xc0a58a||this['stencilMas'+'kFront']!==_0x3ecca2){const _0x3d2583=this['gl'];_0x3d2583['stencilFun'+'cSeparate'](_0x3d2583['FRONT'],this['glComparis'+'on'][_0x48c1f6],_0xc0a58a,_0x3ecca2),this['stencilFun'+'cFront']=_0x48c1f6,this['stencilRef'+'Front']=_0xc0a58a,this['stencilMas'+'kFront']=_0x3ecca2;}}['setStencil'+'FuncBack'](_0x2754c6,_0x1526fb,_0xb6861d){if(this['stencilFun'+'cBack']!==_0x2754c6||this['stencilRef'+'Back']!==_0x1526fb||this['stencilMas'+'kBack']!==_0xb6861d){const _0x22cf0f=this['gl'];_0x22cf0f['stencilFun'+'cSeparate'](_0x22cf0f['BACK'],this['glComparis'+'on'][_0x2754c6],_0x1526fb,_0xb6861d),this['stencilFun'+'cBack']=_0x2754c6,this['stencilRef'+'Back']=_0x1526fb,this['stencilMas'+'kBack']=_0xb6861d;}}['setStencil'+'Operation'](_0x3aff1f,_0x1218e3,_0x891c9a,_0x79a1f8){(this['stencilFai'+'lFront']!==_0x3aff1f||this['stencilZfa'+'ilFront']!==_0x1218e3||this['stencilZpa'+'ssFront']!==_0x891c9a||this['stencilFai'+'lBack']!==_0x3aff1f||this['stencilZfa'+'ilBack']!==_0x1218e3||this['stencilZpa'+'ssBack']!==_0x891c9a)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x3aff1f],this['glStencilO'+'p'][_0x1218e3],this['glStencilO'+'p'][_0x891c9a]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x3aff1f,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x1218e3,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x891c9a),(this['stencilWri'+'teMaskFron'+'t']!==_0x79a1f8||this['stencilWri'+'teMaskBack']!==_0x79a1f8)&&(this['gl']['stencilMas'+'k'](_0x79a1f8),this['stencilWri'+'teMaskFron'+'t']=_0x79a1f8,this['stencilWri'+'teMaskBack']=_0x79a1f8);}['setStencil'+'OperationF'+'ront'](_0xbfb8f,_0x48f027,_0x4e50da,_0x5d8abb){(this['stencilFai'+'lFront']!==_0xbfb8f||this['stencilZfa'+'ilFront']!==_0x48f027||this['stencilZpa'+'ssFront']!==_0x4e50da)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0xbfb8f],this['glStencilO'+'p'][_0x48f027],this['glStencilO'+'p'][_0x4e50da]),this['stencilFai'+'lFront']=_0xbfb8f,this['stencilZfa'+'ilFront']=_0x48f027,this['stencilZpa'+'ssFront']=_0x4e50da),this['stencilWri'+'teMaskFron'+'t']!==_0x5d8abb&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x5d8abb),this['stencilWri'+'teMaskFron'+'t']=_0x5d8abb);}['setStencil'+'OperationB'+'ack'](_0x1be6bc,_0x586baf,_0x176ddb,_0x4e4c95){(this['stencilFai'+'lBack']!==_0x1be6bc||this['stencilZfa'+'ilBack']!==_0x586baf||this['stencilZpa'+'ssBack']!==_0x176ddb)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x1be6bc],this['glStencilO'+'p'][_0x586baf],this['glStencilO'+'p'][_0x176ddb]),this['stencilFai'+'lBack']=_0x1be6bc,this['stencilZfa'+'ilBack']=_0x586baf,this['stencilZpa'+'ssBack']=_0x176ddb),this['stencilWri'+'teMaskBack']!==_0x4e4c95&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x4e4c95),this['stencilWri'+'teMaskBack']=_0x4e4c95);}['setBlendSt'+'ate'](_0x406a36){const _0x8d7d78=this['blendState'];if(!_0x8d7d78['equals'](_0x406a36)){const _0x55c31b=this['gl'],{blend:_0x9d3dc7,colorOp:_0x1e7173,alphaOp:_0x459ce3,colorSrcFactor:_0x32b457,colorDstFactor:_0x5273d5,alphaSrcFactor:_0x4ecddd,alphaDstFactor:_0x1691ea}=_0x406a36;if(_0x8d7d78['blend']!==_0x9d3dc7&&(_0x9d3dc7?_0x55c31b['enable'](_0x55c31b['BLEND']):_0x55c31b['disable'](_0x55c31b['BLEND'])),_0x8d7d78['colorOp']!==_0x1e7173||_0x8d7d78['alphaOp']!==_0x459ce3){const _0x4404bc=this['glBlendEqu'+'ation'];_0x55c31b['blendEquat'+'ionSeparat'+'e'](_0x4404bc[_0x1e7173],_0x4404bc[_0x459ce3]);}(_0x8d7d78['colorSrcFa'+'ctor']!==_0x32b457||_0x8d7d78['colorDstFa'+'ctor']!==_0x5273d5||_0x8d7d78['alphaSrcFa'+'ctor']!==_0x4ecddd||_0x8d7d78['alphaDstFa'+'ctor']!==_0x1691ea)&&_0x55c31b['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x32b457],this['glBlendFun'+'ctionColor'][_0x5273d5],this['glBlendFun'+'ctionAlpha'][_0x4ecddd],this['glBlendFun'+'ctionAlpha'][_0x1691ea]),_0x8d7d78['allWrite']!==_0x406a36['allWrite']&&this['gl']['colorMask'](_0x406a36['redWrite'],_0x406a36['greenWrite'],_0x406a36['blueWrite'],_0x406a36['alphaWrite']),_0x8d7d78['copy'](_0x406a36);}}['setBlendCo'+'lor'](_0x15637a,_0x59e8b0,_0xd81b59,_0x345870){const _0x2744f6=this['blendColor'];(_0x15637a!==_0x2744f6['r']||_0x59e8b0!==_0x2744f6['g']||_0xd81b59!==_0x2744f6['b']||_0x345870!==_0x2744f6['a'])&&(this['gl']['blendColor'](_0x15637a,_0x59e8b0,_0xd81b59,_0x345870),_0x2744f6['set'](_0x15637a,_0x59e8b0,_0xd81b59,_0x345870));}['setStencil'+'State'](_0xc41a72,_0x2f6850){_0xc41a72||_0x2f6850?(this['setStencil'+'Test'](!(-0x1978+0x618+0x1360)),_0xc41a72===_0x2f6850?(this['setStencil'+'Func'](_0xc41a72['func'],_0xc41a72['ref'],_0xc41a72['readMask']),this['setStencil'+'Operation'](_0xc41a72['fail'],_0xc41a72['zfail'],_0xc41a72['zpass'],_0xc41a72['writeMask'])):(_0xc41a72??(_0xc41a72=pi['DEFAULT']),this['setStencil'+'FuncFront'](_0xc41a72['func'],_0xc41a72['ref'],_0xc41a72['readMask']),this['setStencil'+'OperationF'+'ront'](_0xc41a72['fail'],_0xc41a72['zfail'],_0xc41a72['zpass'],_0xc41a72['writeMask']),_0x2f6850??(_0x2f6850=pi['DEFAULT']),this['setStencil'+'FuncBack'](_0x2f6850['func'],_0x2f6850['ref'],_0x2f6850['readMask']),this['setStencil'+'OperationB'+'ack'](_0x2f6850['fail'],_0x2f6850['zfail'],_0x2f6850['zpass'],_0x2f6850['writeMask']))):this['setStencil'+'Test'](!(0x170d*0x1+-0x14f5+-0x5*0x6b));}['setDepthSt'+'ate'](_0x1eee36){const _0x277202=this['depthState'];if(!_0x277202['equals'](_0x1eee36)){const _0x3b878d=this['gl'],_0x311944=_0x1eee36['write'];_0x277202['write']!==_0x311944&&_0x3b878d['depthMask'](_0x311944);let {func:_0x48a876,test:_0x25cffe}=_0x1eee36;!_0x25cffe&&_0x311944&&(_0x25cffe=!(0x1a3d+0x770+-0x21ad),_0x48a876=Wi),_0x277202['func']!==_0x48a876&&_0x3b878d['depthFunc'](this['glComparis'+'on'][_0x48a876]),_0x277202['test']!==_0x25cffe&&(_0x25cffe?_0x3b878d['enable'](_0x3b878d['DEPTH_TEST']):_0x3b878d['disable'](_0x3b878d['DEPTH_TEST']));const {depthBias:_0x1eac1f,depthBiasSlope:_0x43ca6f}=_0x1eee36;_0x1eac1f||_0x43ca6f?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(0x2066+-0x174c+0x5*-0x1d2),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x3b878d['polygonOff'+'set'](_0x43ca6f,_0x1eac1f)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(0x1ac0+0x1*0x19d3+-0x3492),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x277202['copy'](_0x1eee36);}}['setCullMod'+'e'](_0x215689){if(this['cullMode']!==_0x215689){if(_0x215689===bt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===bt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x4dc6be=this['glCull'][_0x215689];this['cullFace']!==_0x4dc6be&&(this['gl']['cullFace'](_0x4dc6be),this['cullFace']=_0x4dc6be);}this['cullMode']=_0x215689;}}['setShader'](_0x5410bc,_0x11ba74=!(0x733*0x4+0x89f*-0x2+-0x1*0xb8d)){_0x5410bc!==this['shader']&&(this['shader']=_0x5410bc,this['shaderAsyn'+'cCompile']=_0x11ba74,this['shaderVali'+'d']=void(0x1*0x8c3+-0x1878+-0xfb5*-0x1),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](){const {shader:_0x32062f}=this,{impl:_0x18e0bf}=_0x32062f;this['shaderVali'+'d']===void(0x11c5+-0x3*0x2c7+-0x4b8*0x2)&&(_0x32062f['failed']?this['shaderVali'+'d']=!(0x7*-0x48a+-0x1*-0x19af+-0x18*-0x41):_0x32062f['ready']||(this['shaderAsyn'+'cCompile']?_0x18e0bf['isLinked'](this)?_0x18e0bf['finalize'](this,_0x32062f)||(_0x32062f['failed']=!(-0x1eb3+0x1baf+-0x304*-0x1),this['shaderVali'+'d']=!(-0xc61+0x1dde+-0x117c)):this['shaderVali'+'d']=!(-0x1*0x1798+-0x1*0x1f46+0xb*0x4fd):_0x18e0bf['finalize'](this,_0x32062f)||(_0x32062f['failed']=!(0x7fa*-0x1+-0x34*-0x26+0x42),this['shaderVali'+'d']=!(0x25a0+-0x16d5+0x1*-0xeca)))),this['shaderVali'+'d']===void(-0x1*0x8f5+0x2*0x6ee+-0x4e7)&&(this['gl']['useProgram'](_0x18e0bf['glProgram']),this['shaderVali'+'d']=!(-0x1*0x959+0x17eb+-0xe92));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x3b11c8=this['gl'];this['_vaoMap']['forEach']((_0x5b8730,_0x59c7cd,_0x2465dd)=>{_0x3b11c8['deleteVert'+'exArray'](_0x5b8730);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x18d8e7){_0x18d8e7?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x1d7f5e=-0x27e*0x1+-0x3*0xb5f+0x24ff){const _0x7adfe5=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x7adfe5['loseContex'+'t'](),setTimeout(()=>_0x7adfe5['restoreCon'+'text'](),_0x1d7f5e);}}let nw=0x13bd+-0xb74+-0x65*0x15;class br{constructor(_0x28d6fe,_0x1b6ed1,_0x270043,_0x1ce21d=ms,_0x476855,_0x67c58f){this['device']=_0x28d6fe,this['format']=_0x1b6ed1,this['numIndices']=_0x270043,this['usage']=_0x1ce21d,this['id']=nw++,this['impl']=_0x28d6fe['createInde'+'xBufferImp'+'l'](this,_0x67c58f);const _0x47bf92=hT[_0x1b6ed1];this['bytesPerIn'+'dex']=_0x47bf92,this['numBytes']=this['numIndices']*_0x47bf92,_0x476855?this['setData'](_0x476855):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x28d6fe['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x28fd1f=this['device'],_0x305150=_0x28fd1f['buffers']['indexOf'](this);_0x305150!==-(0x9d*-0x37+-0x14b6+0x3672)&&_0x28fd1f['buffers']['splice'](_0x305150,0x248e+0x1*0x1ca5+-0x4132),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x28fd1f),this['adjustVram'+'SizeTracki'+'ng'](_0x28fd1f['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x3284ee,_0x34d585){w['trace'](j0,this['id']+'\x20size:\x20'+_0x34d585+'\x20vram.ib:\x20'+_0x3284ee['ib']+'\x20=>\x20'+(_0x3284ee['ib']+_0x34d585)),_0x3284ee['ib']+=_0x34d585;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x10ec75){return _0x10ec75['byteLength']!==this['numBytes']?(w['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x10ec75['byteLength']),!(0x1d28+0x14c7*0x1+-0x48a*0xb)):(this['storage']=_0x10ec75,this['unlock'](),!(-0x20bb+0x1886+-0x835*-0x1));}['_lockTyped'+'Array'](){const _0x15f8e4=this['lock']();return this['format']===wr?new Uint32Array(_0x15f8e4):this['format']===Yi?new Uint16Array(_0x15f8e4):new Uint8Array(_0x15f8e4);}['writeData'](_0x3d3389,_0x3d7d75){const _0x34dcd6=this['_lockTyped'+'Array']();if(_0x3d3389['length']>_0x3d7d75){if(ArrayBuffer['isView'](_0x3d3389))_0x3d3389=_0x3d3389['subarray'](0x8*-0x2e0+-0x345+0x1a45,_0x3d7d75),_0x34dcd6['set'](_0x3d3389);else{for(let _0x4a60e0=-0xb*0x2de+0xeff*0x1+0x108b;_0x4a60e0<_0x3d7d75;_0x4a60e0++)_0x34dcd6[_0x4a60e0]=_0x3d3389[_0x4a60e0];}}else _0x34dcd6['set'](_0x3d3389);this['unlock']();}['readData'](_0x1ec743){const _0x1d8a11=this['_lockTyped'+'Array'](),_0x5c1c29=this['numIndices'];if(ArrayBuffer['isView'](_0x1ec743))_0x1ec743['set'](_0x1d8a11);else{_0x1ec743['length']=0x11*0x91+-0x258d+0x1bec;for(let _0x112403=-0x28c+-0x1*-0x14b7+-0x122b;_0x112403<_0x5c1c29;_0x112403++)_0x1ec743[_0x112403]=_0x1d8a11[_0x112403];}return _0x5c1c29;}}class ow{constructor(){h(this,'clearValue',new ie(-0x414+-0x2*-0x664+-0x8b4,0xb26*-0x1+-0x260e+0x3134,-0x21f0+-0xa*-0xc7+0xd15*0x2,0x237d+0x1*-0x1dcf+-0x5ad)),h(this,'clearValue'+'Linear',new ie(-0x1*0x171f+-0x11e8+-0x185*-0x1b,0x1*-0x37c+-0x10f1+-0x9*-0x245,0x1d8e+0x1*0xdd5+-0x2b63,-0xe40+-0x1*0x589+0x2*0x9e5)),h(this,'clear',!(0x4*-0x21e+-0x1871*0x1+0x20ea)),h(this,'store',!(0x25e4+0x1519+-0x3afc)),h(this,'resolve',!(0xa*0x262+0x2678+-0x3e4c)),h(this,'genMipmaps',!(-0xb51+0x1feb+0x1*-0x1499));}}class lw{constructor(){h(this,'clearDepth'+'Value',-0x394+-0xa2a+0xdbf),h(this,'clearStenc'+'ilValue',0x8ef+-0xe7f*0x2+0x140f),h(this,'clearDepth',!(-0x1*-0xabf+-0x5c*0x2+-0xa06)),h(this,'clearStenc'+'il',!(-0x1de*0x14+-0x82a+0x2d83)),h(this,'storeDepth',!(-0x1099+0x2*0x5fd+-0x4a0*-0x1)),h(this,'resolveDep'+'th',!(-0x1d*0x6a+-0x2345+0x2f48)),h(this,'storeStenc'+'il',!(0x13*-0x1fb+-0x1*-0x2f5+0x22ad));}}class ys{constructor(_0x264d97){h(this,'_name'),h(this,'device'),h(this,'_enabled',!(-0x5cb+-0x279*0xd+0x25f0)),h(this,'_skipStart',!(-0xf8d+-0x1*0xd1f+0x1cad*0x1)),h(this,'_skipEnd',!(-0x1b*-0xe9+0x1786+-0x3018)),h(this,'executeEna'+'bled',!(-0xa9e+-0x24ad+0x2f4b)),h(this,'renderTarg'+'et'),h(this,'_options'),h(this,'samples',0x2b*-0xad+-0x3*-0x49e+0xf35),h(this,'colorArray'+'Ops',[]),h(this,'depthStenc'+'ilOps'),h(this,'requiresCu'+'bemaps',!(0x9a1*-0x1+0x1d35+0x2cc*-0x7)),h(this,'fullSizeCl'+'earRect',!(0x2*0x388+-0x189+-0x5*0x11b)),h(this,'beforePass'+'es',[]),h(this,'afterPasse'+'s',[]),(w['assert'](_0x264d97),this['device']=_0x264d97);}get['colorOps'](){return this['colorArray'+'Ops'][0x758+0x6a5+-0xdfd];}set['name'](_0x57b0f9){this['_name']=_0x57b0f9;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0x3277a3){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0x3277a3;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0x598b4a){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0x598b4a;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x48bb5a){this['_options']=_0x48bb5a,_0x48bb5a&&(this['scaleX']=this['scaleX']??0xbed+0x1811+-0x3*0xbff,this['scaleY']=this['scaleY']??0x1ef7*-0x1+0x451+0x1*0x1aa7);}get['options'](){return this['_options'];}['init'](_0x216534=null,_0x1621fb){this['options']=_0x1621fb,this['renderTarg'+'et']=_0x216534,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],0x95*-0x35+0x62b*-0x3+0x315b),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0x556d56,_0x3406d6,_0x18452e,_0x21e772;const _0x49b928=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new lw(),_0x49b928!=null&&_0x49b928['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(-0x1*0x699+0xe0f+-0x776));const _0x5669c6=_0x49b928?((_0x556d56=_0x49b928['_colorBuff'+'ers'])==null?void(-0x35*0x1b+-0x4e9*0x3+0xa29*0x2):_0x556d56['length'])??-0x2024+-0xa1f+-0x1f*-0x15d:0x2b2+-0x198a+-0x1*-0x16d9;this['colorArray'+'Ops']['length']=0x1e39+-0x196f+-0x1*0x4ca;for(let _0x37f580=0xc5*-0x11+0x14fd+0x7e8*-0x1;_0x37f580<_0x5669c6;_0x37f580++){const _0x58efe0=new ow();this['colorArray'+'Ops'][_0x37f580]=_0x58efe0,this['samples']===-0x258a+-0x3f5*0x9+0x4928&&(_0x58efe0['store']=!(0xd93+-0x178a+0x9f7),_0x58efe0['resolve']=!(0x1*-0x893+0x15*-0x38+0xd2c*0x1));const _0x20020c=(_0x18452e=(_0x3406d6=this['renderTarg'+'et'])==null?void(-0x3d*0x46+-0x1c28+0x2cd6):_0x3406d6['_colorBuff'+'ers'])==null?void(-0x1267*0x1+0xd*-0x2f+-0x2*-0xa65):_0x18452e[_0x37f580];if((_0x21e772=this['renderTarg'+'et'])!=null&&_0x21e772['mipmaps']&&(_0x20020c!=null&&_0x20020c['mipmaps'])){const _0x2cd4d1=dn(_0x20020c['_format']);_0x58efe0['genMipmaps']=!_0x2cd4d1;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x251da8=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x1011c4=Math['floor'](_0x251da8['width']*this['scaleX']),_0x476cff=Math['floor'](_0x251da8['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x1011c4,_0x476cff);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x5de24b){this['_enabled']!==_0x5de24b&&(this['_enabled']=_0x5de24b,_0x5de24b?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x13a305){const _0x474bcc=this['colorArray'+'Ops']['length'];for(let _0x295cdf=0x6a2*-0x2+-0x103a+0x2f3*0xa;_0x295cdf<_0x474bcc;_0x295cdf++){const _0x1c1be2=this['colorArray'+'Ops'][_0x295cdf];_0x13a305&&(_0x1c1be2['clearValue']['copy'](_0x13a305),_0x1c1be2['clearValue'+'Linear']['linear'](_0x13a305)),_0x1c1be2['clear']=!!_0x13a305;}}['setClearDe'+'pth'](_0x1d9e49){_0x1d9e49&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x1d9e49),this['depthStenc'+'ilOps']['clearDepth']=_0x1d9e49!==void(0x114a+0x1f2c+0x2*-0x183b);}['setClearSt'+'encil'](_0x460b46){_0x460b46&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x460b46),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x460b46!==void(0x19bc+0x583*-0x3+-0x3*0x311);}['render'](){if(this['enabled']){const _0x10b05e=this['device'],_0x3ab804=this['renderTarg'+'et']!==void(0xb7*-0x29+-0x23cc*-0x1+-0x67d*0x1);w['call'](()=>{this['log'](_0x10b05e,_0x10b05e['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x3ab804&&!this['_skipStart']&&_0x10b05e['startRende'+'rPass'](this),this['execute'](),_0x3ab804&&!this['_skipEnd']&&_0x10b05e['endRenderP'+'ass'](this)),this['after'](),_0x10b05e['renderPass'+'Index']++;}}['log'](_0x26e818,_0xb611c3=0x330+-0x1988+-0xb*-0x208){var _0x15cf1a,_0xa7ca99,_0x293d76;if(mi['get'](Pm)||mi['get'](cn)){const _0x5713ca=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x26e818['backBuffer']:null),_0x4e0494=!!(_0x5713ca!=null&&_0x5713ca['impl']['assignedCo'+'lorTexture'])||(_0x5713ca==null?void(0x2553+0x4d1+0x4*-0xa89):_0x5713ca['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(-0xa6*0x10+-0x1d1f+-0x277f*-0x1),_0x4b1ea5=((_0x15cf1a=_0x5713ca==null?void(-0x2561+0x10*-0x131+0x3871):_0x5713ca['_colorBuff'+'ers'])==null?void(-0xe*0x46+-0x49*-0x4e+-0x2*0x935):_0x15cf1a['length'])??(_0x4e0494?0x9*0x119+-0x6*-0x2a1+-0x2*0xcd3:-0x1c1*0x16+0xaa+0x25ec),_0x226e0d=_0x5713ca==null?void(0x18a7*-0x1+0x90*0x24+0x467):_0x5713ca['depth'],_0x6c5fe4=_0x5713ca==null?void(-0x15b4+-0x2*-0xbb1+-0x1*0x1ae):_0x5713ca['stencil'],_0x19f013=_0x5713ca==null?void(0x335*0x7+0x1706+0x7*-0x67f):_0x5713ca['mipLevel'],_0x745456=_0x5713ca?'\x20RT:\x20'+(_0x5713ca?_0x5713ca['name']:'NULL')+'\x20'+(_0x4b1ea5>0x179c+0x2*-0x859+-0x6ea*0x1?'[Color'+(_0x4b1ea5>0x1e82+-0x9b5*0x1+-0x14cc?'\x20x\x20'+_0x4b1ea5:'')+']':'')+(_0x226e0d?'[Depth]':'')+(_0x6c5fe4?'[Stencil]':'')+'\x20'+_0x5713ca['width']+'\x20x\x20'+_0x5713ca['height']+(this['samples']>-0x879+-0x649*-0x5+0x1a*-0xe2?'\x20samples:\x20'+this['samples']:'')+(_0x19f013>0x16c+0x2*0x20a+0x8*-0xb0?'\x20mipLevel:'+'\x20'+_0x19f013:''):'',_0x2cc6b1=this['_skipStart']?'++':_0xb611c3['toString']()['padEnd'](-0x1*-0xd65+0x162f+-0x2392,'\x20');w['trace'](Pm,_0x2cc6b1+':\x20'+this['name']['padEnd'](-0x1a3d+0x105d+-0x9f4*-0x1,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0x745456['padEnd'](-0x26fd+0x1*0x8bd+0x1e5e));for(let _0x476c47=-0x214a+-0x7*-0x4d+0x1*0x1f2f;_0x476c47<_0x4b1ea5;_0x476c47++){const _0x2c05e0=this['colorArray'+'Ops'][_0x476c47],_0x5262a4=(_0xa7ca99=Nt['get'](_0x4e0494?_0x26e818['backBuffer'+'Format']:_0x5713ca['getColorBu'+'ffer'](_0x476c47)['format']))==null?void(-0x2122+0x1a61*-0x1+0x3b83):_0xa7ca99['name'];w['trace'](cn,'\x20\x20\x20\x20color['+_0x476c47+']:\x20'+(_0x2c05e0['clear']?'clear':'load')+'->'+(_0x2c05e0['store']?'store':'discard')+'\x20'+(_0x2c05e0['resolve']?'resolve\x20':'')+(_0x2c05e0['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x5262a4+']\x20'+(_0x2c05e0['clear']?'[clear:\x20'+_0x2c05e0['clearValue']['toString'](!(0x219e+0x1*0xa85+-0x2c23),!(-0xfb*-0x1+-0x2b4+0x1b9))+']':''));}if(this['depthStenc'+'ilOps']){const _0x1f2ce3=''+(_0x5713ca['depthBuffe'+'r']?'\x20[format:\x20'+((_0x293d76=Nt['get'](_0x5713ca['depthBuffe'+'r']['format']))==null?void(0x1d*-0xb2+0x2368+-0xf3e):_0x293d76['name'])+']':'');_0x226e0d&&w['trace'](cn,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0x1f2ce3+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x6c5fe4&&w['trace'](cn,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0x1f2ce3+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function cw(_0x40f1ba){this['array'][this['index']]=_0x40f1ba;}function hw(_0x46df71,_0x21d8e7){this['array'][this['index']]=_0x46df71,this['array'][this['index']+(0xee5*0x2+0x91f+0x1e*-0x14c)]=_0x21d8e7;}function dw(_0x3b7647,_0x1c8883,_0x1379bb){this['array'][this['index']]=_0x3b7647,this['array'][this['index']+(-0x26fd+0x2a5+0x745*0x5)]=_0x1c8883,this['array'][this['index']+(-0x1279*0x2+-0x1f79+0x446d)]=_0x1379bb;}function fw(_0x1155b5,_0xe580d8,_0x44f586,_0x3d4d1f){this['array'][this['index']]=_0x1155b5,this['array'][this['index']+(-0x13*0x200+-0x1*-0x777+0x1e8a*0x1)]=_0xe580d8,this['array'][this['index']+(-0xbb9*-0x2+-0x2*-0x25f+-0x1c2e)]=_0x44f586,this['array'][this['index']+(-0x1709*0x1+0x1ff7+-0x1*0x8eb)]=_0x3d4d1f;}function uw(_0x40e634,_0x47c83,_0x287d2b){this['array'][_0x40e634]=_0x47c83[_0x287d2b];}function pw(_0x357a28,_0x476c0e,_0x43abfa){this['array'][_0x357a28]=_0x476c0e[_0x43abfa],this['array'][_0x357a28+(-0x1cb0+0x3be*-0x3+0x1*0x27eb)]=_0x476c0e[_0x43abfa+(-0x22ec+-0x29*0x35+0x2b6a)];}function mw(_0x3f8ab4,_0x3e197a,_0x1f7215){this['array'][_0x3f8ab4]=_0x3e197a[_0x1f7215],this['array'][_0x3f8ab4+(0x295*0x7+0x755+0x7*-0x3a1)]=_0x3e197a[_0x1f7215+(0x1*0x7f3+0x14f9*-0x1+-0x5*-0x29b)],this['array'][_0x3f8ab4+(0xa3a+0x33*0x47+-0x185d)]=_0x3e197a[_0x1f7215+(-0x416*0x2+0x2*0xd0d+-0x7c*0x25)];}function _w(_0x160518,_0x113640,_0x12ce26){this['array'][_0x160518]=_0x113640[_0x12ce26],this['array'][_0x160518+(-0xd16+-0x2011+0x2d28)]=_0x113640[_0x12ce26+(0x11b2+0x35*0x9f+-0x329c)],this['array'][_0x160518+(0x12f5+-0x1*0x1852+-0x1*-0x55f)]=_0x113640[_0x12ce26+(0xfa0+-0x186c+-0x2*-0x467)],this['array'][_0x160518+(0x1*-0x2ea+0x16f3+-0x1406)]=_0x113640[_0x12ce26+(-0x73*0x11+0x1459+0xcb3*-0x1)];}function gw(_0x3d5937,_0x359b51,_0xcabe40){_0x359b51[_0xcabe40]=this['array'][_0x3d5937];}function Sw(_0x453948,_0x1000a0,_0x52dff9){_0x1000a0[_0x52dff9]=this['array'][_0x453948],_0x1000a0[_0x52dff9+(0xc9a+-0xb3*0x6+-0x867)]=this['array'][_0x453948+(-0x1cb5+-0xc38*-0x2+-0x223*-0x2)];}function yw(_0x46c566,_0x58b841,_0x409ec8){_0x58b841[_0x409ec8]=this['array'][_0x46c566],_0x58b841[_0x409ec8+(0x6a5+-0x1abf+0x141b)]=this['array'][_0x46c566+(-0x242+-0x581*0x3+0x12c6)],_0x58b841[_0x409ec8+(-0x1e5c+-0x838*0x1+0x2*0x134b)]=this['array'][_0x46c566+(-0x1316+0x1149+-0x1cf*-0x1)];}function vw(_0x79528,_0x5142fc,_0x5966cc){_0x5142fc[_0x5966cc]=this['array'][_0x79528],_0x5142fc[_0x5966cc+(0x5f6+-0x162a+0x1035)]=this['array'][_0x79528+(-0x140d+-0x1*0x78+0x1486)],_0x5142fc[_0x5966cc+(0x642+0x1d0a+-0x2*0x11a5)]=this['array'][_0x79528+(-0x19*0x58+0x18fd*0x1+-0x1063)],_0x5142fc[_0x5966cc+(-0x79*-0x16+-0x1*-0x870+-0x12d3)]=this['array'][_0x79528+(0x23b0+0x3e+-0x72f*0x5)];}class xw{constructor(_0x3adef4,_0x2983f0,_0x2e05b7){switch(this['index']=-0x2631+0x1f3d+0x4*0x1bd,this['numCompone'+'nts']=_0x2983f0['numCompone'+'nts'],_0x2e05b7['interleave'+'d']?this['array']=new wn[_0x2983f0['dataType']](_0x3adef4,_0x2983f0['offset']):this['array']=new wn[_0x2983f0['dataType']](_0x3adef4,_0x2983f0['offset'],_0x2e05b7['vertexCoun'+'t']*_0x2983f0['numCompone'+'nts']),this['stride']=_0x2983f0['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x2983f0['numCompone'+'nts']){case 0x1*0xe3e+-0x8b+0x1*-0xdb2:this['set']=cw,this['getToArray']=gw,this['setFromArr'+'ay']=uw;break;case 0x2633+-0xc7c+-0x19b5:this['set']=hw,this['getToArray']=Sw,this['setFromArr'+'ay']=pw;break;case 0x15d6+0xbab*0x3+-0x38d4:this['set']=dw,this['getToArray']=yw,this['setFromArr'+'ay']=mw;break;case 0x1*0x1c42+-0x7bd*0x5+0x1*0xa73:this['set']=fw,this['getToArray']=vw,this['setFromArr'+'ay']=_w;break;}}['get'](_0xaf92dc){return this['array'][this['index']+_0xaf92dc];}['set'](_0x3c5989,_0x33a05f,_0x548474,_0x145272){}['getToArray'](_0x3ce68b,_0x581c9b,_0x1ce353){}['setFromArr'+'ay'](_0x46760c,_0x53f83f,_0x29038b){}}class Uo{constructor(_0x45269e){this['vertexBuff'+'er']=_0x45269e,this['vertexForm'+'atSize']=_0x45269e['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x4d2fe7=this['vertexBuff'+'er']['getFormat']();for(let _0x40280a=-0x5f7*-0x1+0x11e*0x8+-0xee7;_0x40280a<_0x4d2fe7['elements']['length'];_0x40280a++){const _0x2c271c=_0x4d2fe7['elements'][_0x40280a];this['accessors'][_0x40280a]=new xw(this['buffer'],_0x2c271c,_0x4d2fe7),this['element'][_0x2c271c['name']]=this['accessors'][_0x40280a];}}['next'](_0x2f69c8=-0x6*-0x649+-0x13f7+-0x6*0x2f5){let _0x392821=0x3*-0x89+0x19e8+-0x184d;const _0xebe76=this['accessors'],_0x54a7d4=this['accessors']['length'];for(;_0x392821<_0x54a7d4;){const _0x36bbb1=_0xebe76[_0x392821++];_0x36bbb1['index']+=_0x2f69c8*_0x36bbb1['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0x548f1a,_0x5e68d4,_0x783052){const _0x2e972e=this['element'][_0x548f1a];if(_0x2e972e){_0x783052>this['vertexBuff'+'er']['numVertice'+'s']&&(w['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x783052+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x783052=this['vertexBuff'+'er']['numVertice'+'s']);const _0x3dd77e=_0x2e972e['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x46c78b=-0x265e+0x1c0e+-0x294*-0x4;for(let _0x23aa95=-0x3*0xb3a+0x689+0x1*0x1b25;_0x23aa95<_0x783052;_0x23aa95++)_0x2e972e['setFromArr'+'ay'](_0x46c78b,_0x5e68d4,_0x23aa95*_0x3dd77e),_0x46c78b+=_0x2e972e['stride'];}else{if(_0x5e68d4['length']>_0x783052*_0x3dd77e){const _0x4f9336=_0x783052*_0x3dd77e;if(ArrayBuffer['isView'](_0x5e68d4))_0x5e68d4=_0x5e68d4['subarray'](-0x1aad*0x1+0x1*0x261b+-0xb6e,_0x4f9336),_0x2e972e['array']['set'](_0x5e68d4);else{for(let _0x25cedb=-0x12*-0xc7+-0x112*0x1c+0xffa;_0x25cedb<_0x4f9336;_0x25cedb++)_0x2e972e['array'][_0x25cedb]=_0x5e68d4[_0x25cedb];}}else _0x2e972e['array']['set'](_0x5e68d4);}}}['readData'](_0x4e6c70,_0xadbb7a){const _0x8904e1=this['element'][_0x4e6c70];let _0x4f5736=-0xc87+0xb35+0x152;if(_0x8904e1){_0x4f5736=this['vertexBuff'+'er']['numVertice'+'s'];let _0x1d23f0;const _0x575c42=_0x8904e1['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0xadbb7a)&&(_0xadbb7a['length']=0x26e7+-0x21c+-0x24cb),_0x8904e1['index']=0xd*0x1c9+0xa17+-0x214c;let _0x6a2725=0x13dd+0x265f+-0x3a3c;for(_0x1d23f0=0x1c91+-0x1ded+-0x1*-0x15c;_0x1d23f0<_0x4f5736;_0x1d23f0++)_0x8904e1['getToArray'](_0x6a2725,_0xadbb7a,_0x1d23f0*_0x575c42),_0x6a2725+=_0x8904e1['stride'];}else{if(ArrayBuffer['isView'](_0xadbb7a))_0xadbb7a['set'](_0x8904e1['array']);else{_0xadbb7a['length']=0x26d5+0xe4e*0x2+-0x4371;const _0x262b8f=_0x4f5736*_0x575c42;for(_0x1d23f0=0x5*-0x4ee+-0x1d50+-0x35f6*-0x1;_0x1d23f0<_0x262b8f;_0x1d23f0++)_0xadbb7a[_0x1d23f0]=_0x8904e1['array'][_0x1d23f0];}}}return _0x4f5736;}}const Tw=-(0x1eb*0x2+-0x1f*0x3d+0x38e);class ww{constructor(_0x213dbd,_0xb42751){h(this,'key',null),h(this,'element',null),h(this,'event',null),_0xb42751&&(this['key']=_0xb42751['keyCode'],this['element']=_0xb42751['target'],this['event']=_0xb42751);}}const jl=new ww();function Vd(_0x1f93c0){return jl['key']=_0x1f93c0['keyCode'],jl['element']=_0x1f93c0['target'],jl['event']=_0x1f93c0,jl;}function Yl(_0x3b0d88){return typeof _0x3b0d88=='string'?_0x3b0d88['toUpperCas'+'e']()['charCodeAt'](-0x2513*-0x1+-0x112e+0x1cf*-0xb):_0x3b0d88;}const Ew={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class h_ extends me{constructor(_0x476783,_0x5b7f5f={}){super(),h(this,'_element',null),h(this,'_keymap',{}),h(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x476783&&this['attach'](_0x476783),this['preventDef'+'ault']=_0x5b7f5f['preventDef'+'ault']||!(0x204+-0x1768+0x1565),this['stopPropag'+'ation']=_0x5b7f5f['stopPropag'+'ation']||!(-0x18bd+-0x94f*0x3+0x34ab*0x1));}['attach'](_0x1cfcf8){this['_element']&&this['detach'](),this['_element']=_0x1cfcf8,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(0x6f1+0x1119+-0x1809)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(0xd25+0x28d*0x2+-0x123e)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(0x18d7+-0x6*-0xa+-0x1912)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0xf3+0x1837+-0x1*0x1929)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(-0x61+0x1442+-0x13e0));}['detach'](){if(!this['_element']){w['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x15c5+0x1168*0x2+-0x3894)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(0x310*0x2+0x20c2+-0x26e1));}['toKeyIdent'+'ifier'](_0x425646){_0x425646=Yl(_0x425646);const _0x59f712=Ew[_0x425646['toString']()];if(_0x59f712)return _0x59f712;let _0x230946=_0x425646['toString'](0x107*0xb+0x1*0x1f93+0x10*-0x2ad)['toUpperCas'+'e']();const _0x8bc1f8=_0x230946['length'];for(let _0x26a678=0xfd*-0x4+0x1136+-0xd42;_0x26a678<-0x33*0x4f+0x220e*-0x1+0x31cf-_0x8bc1f8;_0x26a678++)_0x230946='0'+_0x230946;return'U+'+_0x230946;}['_handleKey'+'Down'](_0x3091c5){const _0xf95242=_0x3091c5['keyCode']||_0x3091c5['charCode'];if(_0xf95242===void(-0x1*-0xdf3+0x1082*-0x1+-0x28f*-0x1))return;const _0x2937b7=this['toKeyIdent'+'ifier'](_0xf95242);this['_keymap'][_0x2937b7]=!(0x2451+-0x12af+-0x11a2),this['fire']('keydown',Vd(_0x3091c5)),this['preventDef'+'ault']&&_0x3091c5['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x3091c5['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x108096){const _0x16d1a8=_0x108096['keyCode']||_0x108096['charCode'];if(_0x16d1a8===void(0x3b+0x200f+-0x204a))return;const _0x10ca0b=this['toKeyIdent'+'ifier'](_0x16d1a8);delete this['_keymap'][_0x10ca0b],this['fire']('keyup',Vd(_0x108096)),this['preventDef'+'ault']&&_0x108096['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x108096['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x4fef1b){this['fire']('keypress',Vd(_0x4fef1b)),this['preventDef'+'ault']&&_0x4fef1b['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x4fef1b['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x1ac058 in this['_lastmap'])delete this['_lastmap'][_0x1ac058];for(const _0x58a478 in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0x58a478)&&(this['_lastmap'][_0x58a478]=this['_keymap'][_0x58a478]);}['isPressed'](_0x8f434b){const _0x11135a=Yl(_0x8f434b),_0xfed9eb=this['toKeyIdent'+'ifier'](_0x11135a);return!!this['_keymap'][_0xfed9eb];}['wasPressed'](_0x4c6a77){const _0x97d3ef=Yl(_0x4c6a77),_0x29713d=this['toKeyIdent'+'ifier'](_0x97d3ef);return!!this['_keymap'][_0x29713d]&&!this['_lastmap'][_0x29713d];}['wasRelease'+'d'](_0x4a6dd4){const _0x42d488=Yl(_0x4a6dd4),_0x4f664b=this['toKeyIdent'+'ifier'](_0x42d488);return!this['_keymap'][_0x4f664b]&&!!this['_lastmap'][_0x4f664b];}}h(h_,'EVENT_KEYD'+'OWN','keydown'),h(h_,'EVENT_KEYU'+'P','keyup');function ru(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ta{constructor(_0x436583,_0x5740d5){h(this,'x',-0x9e*0xd+-0x17f3*0x1+0x5*0x665),h(this,'y',-0x2e*-0x9e+-0x1c3c+-0x28),h(this,'dx',-0x134f+0x1b56+0x19b*-0x5),h(this,'dy',0x87f+-0x190b+0x108c),h(this,'button',Tw),h(this,'wheelDelta',0x10ae+0xa4*-0x1a+-0x6),h(this,'element'),h(this,'ctrlKey',!(0xd44+-0xbf0+-0x3*0x71)),h(this,'altKey',!(-0x322+0xb77*-0x1+0xe9a)),h(this,'shiftKey',!(-0x2*-0xa4+0x4e8+-0x62f*0x1)),h(this,'metaKey',!(0x1814+0x1192+-0x29a5)),h(this,'event');let _0x33f4e3={'x':0x0,'y':0x0};if(_0x5740d5){if(_0x5740d5 instanceof ta)throw Error('Expected\x20M'+'ouseEvent');_0x33f4e3=_0x436583['_getTarget'+'Coords'](_0x5740d5);}else _0x5740d5={};if(_0x33f4e3)this['x']=_0x33f4e3['x'],this['y']=_0x33f4e3['y'];else{if(ru())this['x']=0x1ff*0x2+-0x270e+-0x88*-0x42,this['y']=-0x1315+-0x7a*-0x50+-0xf*0x145;else return;}_0x5740d5['type']==='wheel'&&(_0x5740d5['deltaY']>0x118f+-0x65+-0x112a?this['wheelDelta']=0x4*-0x959+-0xa6f+0x2fd4:_0x5740d5['deltaY']<0x1945+-0xc62+-0xce3&&(this['wheelDelta']=-(0x2459*-0x1+-0x1dd4+0x422e))),ru()?(this['dx']=_0x5740d5['movementX']||_0x5740d5['webkitMove'+'mentX']||_0x5740d5['mozMovemen'+'tX']||-0x14c*-0x8+0x26*-0xbb+-0x32*-0x59,this['dy']=_0x5740d5['movementY']||_0x5740d5['webkitMove'+'mentY']||_0x5740d5['mozMovemen'+'tY']||0x5*0x44f+-0x2472*0x1+0xee7):(this['dx']=this['x']-_0x436583['_lastX'],this['dy']=this['y']-_0x436583['_lastY']),(_0x5740d5['type']==='mousedown'||_0x5740d5['type']==='mouseup')&&(this['button']=_0x5740d5['button']),this['buttons']=_0x436583['_buttons']['slice'](0x8c+-0x3fc+0x370),this['element']=_0x5740d5['target'],this['ctrlKey']=_0x5740d5['ctrlKey']??!(-0x33f*-0x3+0x5*-0x4d6+0xe72),this['altKey']=_0x5740d5['altKey']??!(-0x27d*-0x1+-0x199b+-0x171f*-0x1),this['shiftKey']=_0x5740d5['shiftKey']??!(0x18*0x125+0x5*0x767+-0x407a),this['metaKey']=_0x5740d5['metaKey']??!(-0x5c8+-0xd3c+0x1305),this['event']=_0x5740d5;}}class sa extends me{constructor(_0x179bce){super(),h(this,'_lastX',0x2b6*-0x3+-0x1*-0x1609+-0xde7*0x1),h(this,'_lastY',-0xd72+-0x24d0+0x1921*0x2),h(this,'_buttons',[!(-0x40*0x80+0x2043+-0x42),!(-0xcd1+-0x895*-0x3+-0xced),!(-0x7*0x3c3+-0x3f4*0x1+0x2*0xf25)]),h(this,'_lastbutto'+'ns',[!(-0xa*-0x268+0x171a*-0x1+-0xf5),!(0x20e1+-0x2*-0x36f+-0x27be),!(-0x1*0xe6f+-0x10d9+0x1f49)]),h(this,'_target',null),h(this,'_attached',!(-0x1d*-0x38+-0x445*0x8+0x1bd1*0x1)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x265f21=>{_0x265f21['preventDef'+'ault']();},this['attach'](_0x179bce));}static['isPointerL'+'ocked'](){return ru();}['attach'](_0x23aa5f){if(this['_target']=_0x23aa5f,this['_attached'])return;this['_attached']=!(-0x3a2+0x5*0x481+-0x12e3);const _0x32c250={'passive':!(0xad*-0x9+0xc1*-0xb+0xe61)},_0x12950f=Ae['passiveEve'+'nts']?_0x32c250:!(0x1166+-0x17e*-0x1+-0x1*0x12e3);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x12950f),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x12950f),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x12950f),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x12950f);}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0x134e+0x1cae+-0x95f*0x1),this['_target']=null;const _0x53677f={'passive':!(-0x1778+-0x270e+-0x3e87*-0x1)},_0x57f41e=Ae['passiveEve'+'nts']?_0x53677f:!(-0x4d3+0x137d+-0x8b*0x1b);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x57f41e),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x57f41e),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x57f41e),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x57f41e);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x28651b,_0x2d8e0b){if(!document['body']['requestPoi'+'nterLock']){_0x2d8e0b&&_0x2d8e0b();return;}const _0x20aefe=()=>{_0x28651b(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x20aefe);},_0x32528a=()=>{_0x2d8e0b(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x32528a);};_0x28651b&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x20aefe,!(0x9*0xd3+-0x14c6+0xd5c)),_0x2d8e0b&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x32528a,!(-0x5*0x3ce+-0x911+0xe8*0x1f)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0x31910b){if(!document['exitPointe'+'rLock'])return;const _0x14a990=()=>{_0x31910b(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x14a990);};_0x31910b&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x14a990,!(0x1ce0+-0x251f+0x840)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][0x15a*-0xd+0x18f7+-0x765]=this['_buttons'][0x19*0x107+0x1*0x2469+-0x3e18],this['_lastbutto'+'ns'][0x26db+0x1*0x2446+-0x259*0x20]=this['_buttons'][0x3*0x79d+-0x1099+-0x63d*0x1],this['_lastbutto'+'ns'][-0xe4b+-0x1*-0x2273+-0xa13*0x2]=this['_buttons'][0x1dcd*-0x1+-0x1a*0xa7+0x27*0x133];}['isPressed'](_0x4407c8){return this['_buttons'][_0x4407c8];}['wasPressed'](_0x535ab0){return this['_buttons'][_0x535ab0]&&!this['_lastbutto'+'ns'][_0x535ab0];}['wasRelease'+'d'](_0xd0bd79){return!this['_buttons'][_0xd0bd79]&&this['_lastbutto'+'ns'][_0xd0bd79];}['_handleUp'](_0x325bc7){this['_buttons'][_0x325bc7['button']]=!(0x2a5*-0x7+-0x1ef0+0x3174);const _0x25bde2=new ta(this,_0x325bc7);_0x25bde2['event']&&this['fire']('mouseup',_0x25bde2);}['_handleDow'+'n'](_0x1cd3b2){this['_buttons'][_0x1cd3b2['button']]=!(0x9cc+-0x192d+0xf61);const _0x4a19ba=new ta(this,_0x1cd3b2);_0x4a19ba['event']&&this['fire']('mousedown',_0x4a19ba);}['_handleMov'+'e'](_0x184adc){const _0x518aa6=new ta(this,_0x184adc);_0x518aa6['event']&&(this['fire']('mousemove',_0x518aa6),this['_lastX']=_0x518aa6['x'],this['_lastY']=_0x518aa6['y']);}['_handleWhe'+'el'](_0x43d2aa){const _0xe88136=new ta(this,_0x43d2aa);_0xe88136['event']&&this['fire']('mousewheel',_0xe88136);}['_getTarget'+'Coords'](_0x5b145b){const _0x5eb852=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x55783a=Math['floor'](_0x5eb852['left']),_0x4f745d=Math['floor'](_0x5eb852['top']);return _0x5b145b['clientX']<_0x55783a||_0x5b145b['clientX']>=_0x55783a+this['_target']['clientWidt'+'h']||_0x5b145b['clientY']<_0x4f745d||_0x5b145b['clientY']>=_0x4f745d+this['_target']['clientHeig'+'ht']?null:{'x':_0x5b145b['clientX']-_0x55783a,'y':_0x5b145b['clientY']-_0x4f745d};}}h(sa,'EVENT_MOUS'+'EMOVE','mousemove'),h(sa,'EVENT_MOUS'+'EDOWN','mousedown'),h(sa,'EVENT_MOUS'+'EUP','mouseup'),h(sa,'EVENT_MOUS'+'EWHEEL','mousewheel');function Wc(_0x82a7dc){let _0x1d9fb1=0x10b*-0xd+-0x35*-0x1b+0x7f8,_0x4fbd8e=-0x125*0x1f+0x158b+-0x1*-0xdf0,_0x485e2e=_0x82a7dc['target'];for(;!(_0x485e2e instanceof HTMLElement)&&_0x485e2e;)_0x485e2e=_0x485e2e['parentNode'];for(;_0x485e2e;)_0x1d9fb1+=_0x485e2e['offsetLeft']-_0x485e2e['scrollLeft'],_0x4fbd8e+=_0x485e2e['offsetTop']-_0x485e2e['scrollTop'],_0x485e2e=_0x485e2e['offsetPare'+'nt'];return{'x':_0x82a7dc['pageX']-_0x1d9fb1,'y':_0x82a7dc['pageY']-_0x4fbd8e};}class d_{constructor(_0x586a98){h(this,'id'),h(this,'x'),h(this,'y'),h(this,'target'),h(this,'touch');const _0xdd7f67=Wc(_0x586a98);this['id']=_0x586a98['identifier'],this['x']=_0xdd7f67['x'],this['y']=_0xdd7f67['y'],this['target']=_0x586a98['target'],this['touch']=_0x586a98;}}class Kl{constructor(_0x3aa594,_0xc9d22e){h(this,'element'),h(this,'event'),h(this,'touches',[]),h(this,'changedTou'+'ches',[]),(this['element']=_0xc9d22e['target'],this['event']=_0xc9d22e,this['touches']=Array['from'](_0xc9d22e['touches'])['map'](_0x151a05=>new d_(_0x151a05)),this['changedTou'+'ches']=Array['from'](_0xc9d22e['changedTou'+'ches'])['map'](_0x3f9ed7=>new d_(_0x3f9ed7)));}['getTouchBy'+'Id'](_0x9adc0e,_0x17a9e5){return _0x17a9e5['find'](_0x264ff2=>_0x264ff2['id']===_0x9adc0e)||null;}}class Zl extends me{constructor(_0x5b61d3){super(),this['_element']=null,this['_startHand'+'ler']=this['_handleTou'+'chStart']['bind'](this),this['_endHandle'+'r']=this['_handleTou'+'chEnd']['bind'](this),this['_moveHandl'+'er']=this['_handleTou'+'chMove']['bind'](this),this['_cancelHan'+'dler']=this['_handleTou'+'chCancel']['bind'](this),this['attach'](_0x5b61d3);}['attach'](_0x43dacb){this['_element']&&this['detach'](),this['_element']=_0x43dacb,this['_element']['addEventLi'+'stener']('touchstart',this['_startHand'+'ler'],!(-0x11fb+-0x116a+0x2*0x11b3)),this['_element']['addEventLi'+'stener']('touchend',this['_endHandle'+'r'],!(-0x12d9*0x2+-0x10b2+-0x5*-0xae1)),this['_element']['addEventLi'+'stener']('touchmove',this['_moveHandl'+'er'],!(-0x1cd*-0x5+0x6b*-0x31+0xb7b)),this['_element']['addEventLi'+'stener']('touchcance'+'l',this['_cancelHan'+'dler'],!(0x7a*-0x7+-0x1*-0x21d+0x13a));}['detach'](){this['_element']&&(this['_element']['removeEven'+'tListener']('touchstart',this['_startHand'+'ler'],!(-0x151b+-0xde0*-0x1+0x73c)),this['_element']['removeEven'+'tListener']('touchend',this['_endHandle'+'r'],!(-0xb*-0x1+-0x273*-0x7+0x35*-0x53)),this['_element']['removeEven'+'tListener']('touchmove',this['_moveHandl'+'er'],!(0x6ed+0x66*0x3b+0x616*-0x5)),this['_element']['removeEven'+'tListener']('touchcance'+'l',this['_cancelHan'+'dler'],!(-0x8*-0x3d7+0x2d*-0x66+0xcc9*-0x1))),this['_element']=null;}['_handleTou'+'chStart'](_0x4e083d){this['fire']('touchstart',new Kl(this,_0x4e083d));}['_handleTou'+'chEnd'](_0x105b29){this['fire']('touchend',new Kl(this,_0x105b29));}['_handleTou'+'chMove'](_0x2ff0df){_0x2ff0df['preventDef'+'ault'](),this['fire']('touchmove',new Kl(this,_0x2ff0df));}['_handleTou'+'chCancel'](_0x4c884b){this['fire']('touchcance'+'l',new Kl(this,_0x4c884b));}}h(Zl,'EVENT_TOUC'+'HSTART','touchstart'),h(Zl,'EVENT_TOUC'+'HEND','touchend'),h(Zl,'EVENT_TOUC'+'HMOVE','touchmove'),h(Zl,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');const Oe=class Oe{['get'](_0x551769,_0x149968,_0x45eb0d){typeof _0x149968=='function'&&(_0x45eb0d=_0x149968,_0x149968={});const _0x357d67=this['request']('GET',_0x551769,_0x149968,_0x45eb0d),{progress:_0x1a1b4f}=_0x149968;if(_0x1a1b4f){const _0x4a2c4f=_0x1f7dd6=>{_0x1f7dd6['lengthComp'+'utable']&&_0x1a1b4f['fire']('progress',_0x1f7dd6['loaded'],_0x1f7dd6['total']);},_0x32ac29=_0x14c912=>{_0x4a2c4f(_0x14c912),_0x357d67['removeEven'+'tListener']('loadstart',_0x4a2c4f),_0x357d67['removeEven'+'tListener']('progress',_0x4a2c4f),_0x357d67['removeEven'+'tListener']('loadend',_0x32ac29);};_0x357d67['addEventLi'+'stener']('loadstart',_0x4a2c4f),_0x357d67['addEventLi'+'stener']('progress',_0x4a2c4f),_0x357d67['addEventLi'+'stener']('loadend',_0x32ac29);}return _0x357d67;}['post'](_0x55bbad,_0x5b824e,_0x32f5ea,_0x2f4295){return typeof _0x32f5ea=='function'&&(_0x2f4295=_0x32f5ea,_0x32f5ea={}),_0x32f5ea['postdata']=_0x5b824e,this['request']('POST',_0x55bbad,_0x32f5ea,_0x2f4295);}['put'](_0x16ec1e,_0x402b05,_0x37f810,_0x2aabb4){return typeof _0x37f810=='function'&&(_0x2aabb4=_0x37f810,_0x37f810={}),_0x37f810['postdata']=_0x402b05,this['request']('PUT',_0x16ec1e,_0x37f810,_0x2aabb4);}['del'](_0x51eed5,_0x471de6,_0x4e1153){return typeof _0x471de6=='function'&&(_0x4e1153=_0x471de6,_0x471de6={}),this['request']('DELETE',_0x51eed5,_0x471de6,_0x4e1153);}['request'](_0x565f9a,_0x3d9741,_0x4cf6d7,_0xf5ed90){let _0xf9e8e7,_0x4d344d,_0x5f0e1d,_0x50abbb=!(0x1d31+-0xba1+-0x118f);if(typeof _0x4cf6d7=='function'&&(_0xf5ed90=_0x4cf6d7,_0x4cf6d7={}),_0x4cf6d7['retry']&&(_0x4cf6d7=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x4cf6d7)),_0x4cf6d7['callback']=_0xf5ed90,_0x4cf6d7['async']==null&&(_0x4cf6d7['async']=!(-0x135b+0x53b+0xe20)),_0x4cf6d7['headers']==null&&(_0x4cf6d7['headers']={}),_0x4cf6d7['postdata']!=null){if(_0x4cf6d7['postdata']instanceof Document)_0x5f0e1d=_0x4cf6d7['postdata'];else{if(_0x4cf6d7['postdata']instanceof FormData)_0x5f0e1d=_0x4cf6d7['postdata'];else{if(_0x4cf6d7['postdata']instanceof Object){let _0x70ea9b=_0x4cf6d7['headers']['Content-Ty'+'pe'];switch(_0x70ea9b===void(0x134e+-0xe9+-0x1265)&&(_0x4cf6d7['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x70ea9b=_0x4cf6d7['headers']['Content-Ty'+'pe']),_0x70ea9b){case Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x5f0e1d='';let _0x4c08ed=!(-0x22*-0x26+-0x2f*-0x84+-0x1d48);for(const _0x2cd9f9 in _0x4cf6d7['postdata'])if(_0x4cf6d7['postdata']['hasOwnProp'+'erty'](_0x2cd9f9)){_0x4c08ed?_0x4c08ed=!(0x1aad*-0x1+-0xf*-0x209+0x3d9*-0x1):_0x5f0e1d+='&';const _0x56d3b7=encodeURIComponent(_0x2cd9f9),_0x56811f=encodeURIComponent(_0x4cf6d7['postdata'][_0x2cd9f9]);_0x5f0e1d+=_0x56d3b7+'='+_0x56811f;}break;}default:case Oe['ContentTyp'+'e']['JSON']:_0x70ea9b==null&&(_0x4cf6d7['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['JSON']),_0x5f0e1d=JSON['stringify'](_0x4cf6d7['postdata']);break;}}else _0x5f0e1d=_0x4cf6d7['postdata'];}}}if(_0x4cf6d7['cache']===!(0x2517*-0x1+-0x835*-0x1+0x1ce3)){const _0x2ecf35=de();_0xf9e8e7=new Rd(_0x3d9741),_0xf9e8e7['query']?_0xf9e8e7['query']=_0xf9e8e7['query']+'&ts='+_0x2ecf35:_0xf9e8e7['query']='ts='+_0x2ecf35,_0x3d9741=_0xf9e8e7['toString']();}_0x4cf6d7['query']&&(_0xf9e8e7=new Rd(_0x3d9741),_0x4d344d=ah(_0xf9e8e7['getQuery'](),_0x4cf6d7['query']),_0xf9e8e7['setQuery'](_0x4d344d),_0x3d9741=_0xf9e8e7['toString']());const _0x492241=new XMLHttpRequest();_0x492241['open'](_0x565f9a,_0x3d9741,_0x4cf6d7['async']),_0x492241['withCreden'+'tials']=_0x4cf6d7['withCreden'+'tials']!==void(-0xb07+-0xd4f*0x1+0x1856)?_0x4cf6d7['withCreden'+'tials']:!(0x1ba9*-0x1+-0x2191*0x1+0x3d3b),_0x492241['responseTy'+'pe']=_0x4cf6d7['responseTy'+'pe']||this['_guessResp'+'onseType'](_0x3d9741);for(const _0x27684f in _0x4cf6d7['headers'])_0x4cf6d7['headers']['hasOwnProp'+'erty'](_0x27684f)&&_0x492241['setRequest'+'Header'](_0x27684f,_0x4cf6d7['headers'][_0x27684f]);_0x492241['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x565f9a,_0x3d9741,_0x4cf6d7,_0x492241);},_0x492241['onerror']=()=>{this['_onError'](_0x565f9a,_0x3d9741,_0x4cf6d7,_0x492241),_0x50abbb=!(-0x282+-0x13b9+0x7*0x32d);};try{_0x492241['send'](_0x5f0e1d);}catch(_0xe2f580){_0x50abbb||_0x4cf6d7['error'](_0x492241['status'],_0x492241,_0xe2f580);}return _0x492241;}['_guessResp'+'onseType'](_0x589099){const _0x3c2974=new Rd(_0x589099),_0x4caa4c=xe['getExtensi'+'on'](_0x3c2974['path'])['toLowerCas'+'e']();return Oe['binaryExte'+'nsions']['indexOf'](_0x4caa4c)>=-0x160+-0xad*-0xb+-0x60f?Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x4caa4c==='.json'?Oe['ResponseTy'+'pe']['JSON']:_0x4caa4c==='.xml'?Oe['ResponseTy'+'pe']['DOCUMENT']:Oe['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x42eeab){return[Oe['ContentTyp'+'e']['BASIS'],Oe['ContentTyp'+'e']['BIN'],Oe['ContentTyp'+'e']['DDS'],Oe['ContentTyp'+'e']['GLB'],Oe['ContentTyp'+'e']['MP3'],Oe['ContentTyp'+'e']['MP4'],Oe['ContentTyp'+'e']['OGG'],Oe['ContentTyp'+'e']['OPUS'],Oe['ContentTyp'+'e']['WAV']]['indexOf'](_0x42eeab)>=-0x17e6+0x4*0x694+-0x26a;}['_isBinaryR'+'esponseTyp'+'e'](_0x244f85){return _0x244f85===Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x244f85===Oe['ResponseTy'+'pe']['BLOB']||_0x244f85===Oe['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x1ceb1b,_0x1e5480,_0x32f736,_0x46a929){if(_0x46a929['readyState']===-0x1*-0x863+0xa61+-0xf*0x140)switch(_0x46a929['status']){case 0x12e*0x1+-0x8e3+-0x1*-0x7b5:{_0x46a929['responseUR'+'L']&&_0x46a929['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x1ceb1b,_0x1e5480,_0x32f736,_0x46a929):this['_onError'](_0x1ceb1b,_0x1e5480,_0x32f736,_0x46a929);break;}case-0x1*0x12e5+-0x1fd6+-0x3383*-0x1:case-0x1c*0x38+0x2200+-0x1b17:case 0x6*0x1f7+-0x1a*0x151+0x173e:case-0x127*-0x21+-0x3bc+0xf*-0x235:{this['_onSuccess'](_0x1ceb1b,_0x1e5480,_0x32f736,_0x46a929);break;}default:{this['_onError'](_0x1ceb1b,_0x1e5480,_0x32f736,_0x46a929);break;}}}['_onSuccess'](_0x4865e5,_0x36c240,_0x374310,_0x39c356){let _0x2790cf,_0x477658;const _0x4abf6e=_0x39c356['getRespons'+'eHeader']('Content-Ty'+'pe');_0x4abf6e&&(_0x477658=_0x4abf6e['split'](';')[-0x85c*-0x1+-0x7f1+-0x6b]['trim']());try{this['_isBinaryC'+'ontentType'](_0x477658)||this['_isBinaryR'+'esponseTyp'+'e'](_0x39c356['responseTy'+'pe'])?_0x2790cf=_0x39c356['response']:_0x477658===Oe['ContentTyp'+'e']['JSON']||_0x36c240['split']('?')[-0x1*-0x1307+0x1*-0xbe1+0x5*-0x16e]['endsWith']('.json')?_0x2790cf=JSON['parse'](_0x39c356['responseTe'+'xt']):_0x39c356['responseTy'+'pe']===Oe['ResponseTy'+'pe']['DOCUMENT']||_0x477658===Oe['ContentTyp'+'e']['XML']?_0x2790cf=_0x39c356['responseXM'+'L']:_0x2790cf=_0x39c356['responseTe'+'xt'],_0x374310['callback'](null,_0x2790cf);}catch(_0x206574){_0x374310['callback'](_0x206574);}}['_onError'](_0x23dcef,_0xc196aa,_0x45fe7c,_0x1f9f05){if(!_0x45fe7c['retrying']){if(_0x45fe7c['retry']&&_0x45fe7c['retries']<_0x45fe7c['maxRetries']){_0x45fe7c['retries']++,_0x45fe7c['retrying']=!(-0x5e2+-0x17b9+0x2b1*0xb);const _0x265aad=Y['clamp'](Math['pow'](0x104*0x25+-0x2*0x9de+-0x3*0x5f2,_0x45fe7c['retries'])*Oe['retryDelay'],-0x25*-0x70+0x233e+0x1c6*-0x1d,_0x45fe7c['maxRetryDe'+'lay']||-0xe7a*0x2+-0x1*-0x2615+0x1*0xa67);console['log'](_0x23dcef+':\x20'+_0xc196aa+'\x20-\x20Error\x20'+_0x1f9f05['status']+('.\x20Retrying'+'\x20in\x20')+_0x265aad+'\x20ms'),setTimeout(()=>{_0x45fe7c['retrying']=!(-0x1d80+-0x26ae+0x442f),this['request'](_0x23dcef,_0xc196aa,_0x45fe7c,_0x45fe7c['callback']);},_0x265aad);}else _0x45fe7c['callback'](_0x1f9f05['status']===0x1*0x76e+0x189b*-0x1+-0x112d*-0x1?'Network\x20er'+'ror':_0x1f9f05['status'],null);}}};h(Oe,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),h(Oe,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),h(Oe,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),h(Oe,'retryDelay',-0x7a5+-0x50*-0x66+0x17d7*-0x1);let Ls=Oe;const ot=new Ls(),Vp='linear',bw='inverse',Aw='exponentia'+'l';class Cw{constructor(_0x299d8d){h(this,'_manager'),h(this,'position',new D()),h(this,'orientatio'+'n',new te()),this['_manager']=_0x299d8d;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x19d4bf){this['position']['copy'](_0x19d4bf);const _0x42d7bf=this['listener'];_0x42d7bf&&('positionX'in _0x42d7bf?(_0x42d7bf['positionX']['value']=_0x19d4bf['x'],_0x42d7bf['positionY']['value']=_0x19d4bf['y'],_0x42d7bf['positionZ']['value']=_0x19d4bf['z']):_0x42d7bf['setPositio'+'n']&&_0x42d7bf['setPositio'+'n'](_0x19d4bf['x'],_0x19d4bf['y'],_0x19d4bf['z']));}['setOrienta'+'tion'](_0xbeef12){this['orientatio'+'n']['copy'](_0xbeef12);const _0x51846a=this['listener'];if(_0x51846a){const _0x4efce3=_0xbeef12['data'];'forwardX'in _0x51846a?(_0x51846a['forwardX']['value']=-_0x4efce3[0x5*-0x4e5+0x1*0x239b+-0x62*0x1d],_0x51846a['forwardY']['value']=-_0x4efce3[0x264c+-0x1*-0x9ef+-0x3032],_0x51846a['forwardZ']['value']=-_0x4efce3[-0x16*0x107+0xe2f*-0x2+0x3302],_0x51846a['upX']['value']=_0x4efce3[-0x1*0x24f9+0xb55+0x19a8],_0x51846a['upY']['value']=_0x4efce3[-0x337+-0xeb9*0x1+0x11f5],_0x51846a['upZ']['value']=_0x4efce3[0x166+-0x7*-0x3f7+-0x1d21]):_0x51846a['setOrienta'+'tion']&&_0x51846a['setOrienta'+'tion'](-_0x4efce3[0xa6e+-0x1ecf+0x5f*0x37],-_0x4efce3[-0x299+-0x1a3e*0x1+0x1ce0],-_0x4efce3[-0xae1+0x16f6+-0xc0b*0x1],_0x4efce3[-0x2246+0x1*-0x1a3b+0x3c85],_0x4efce3[-0x29+-0x29*0x5b+0x4eb*0x3],_0x4efce3[0x7db+-0x1c3a+0x1*0x1465]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x1140ee=this['_manager']['context'];return _0x1140ee?_0x1140ee['listener']:null;}}const Ql='running',f_=['click','touchstart','mousedown'];class Pw extends me{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||w['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(0xe2c+-0x1478+0x64d),this['listener']=new Cw(this),this['_volume']=0x5ca+-0xd55*-0x1+-0x98f*0x2;}set['volume'](_0x44d5c5){_0x44d5c5=Y['clamp'](_0x44d5c5,0x227b+-0x1*-0x24e8+-0x4763,-0x1acf+0x206b+-0x23*0x29),this['_volume']=_0x44d5c5,this['fire']('volumechan'+'ge',_0x44d5c5);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==Ql&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(0x1017+-0x723+0x23d*-0x4),this['_context']&&this['_context']['state']===Ql&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(-0x1*0x17ba+-0xd*0x1e3+0x3042),this['_context']&&this['_context']['state']!==Ql&&this['_resume']());}['destroy'](){var _0xafb33d;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0xafb33d=this['_context'])==null||_0xafb33d['close'](),this['_context']=null);}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x34054a=this['_context']['createBuff'+'erSource']();_0x34054a['buffer']=this['_context']['createBuff'+'er'](0x2439+0xe3e+-0x3276*0x1,-0x24be+-0x79f*-0x1+-0x4*-0x748,this['_context']['sampleRate']),_0x34054a['connect'](this['_context']['destinatio'+'n']),_0x34054a['start'](0xc5e*-0x3+0x1c7*-0xc+0x3a6e),_0x34054a['onended']=_0x70a85a=>{_0x34054a['disconnect'](0x65*0x19+0x1f3f+-0x291c),this['fire']('resume');};},_0x3566d1=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0x3566d1);})['catch'](_0x244c56=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x244c56);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x7d83d5=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x7d83d5);})['catch'](_0x493fd7=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x493fd7);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==Ql&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){f_['forEach'](_0x2317ee=>{window['addEventLi'+'stener'](_0x2317ee,this['_unlockHan'+'dlerFunc'],!(-0x4*0x93+-0x3cd*-0x1+-0x180));});}['_removeUnl'+'ockListene'+'rs'](){f_['forEach'](_0x3f1ea7=>{window['removeEven'+'tListener'](_0x3f1ea7,this['_unlockHan'+'dlerFunc'],!(-0x1*0x20b3+-0x7*0x4dc+0x42b8));});}}class Mw{constructor(_0x2e9f0b){h(this,'audio'),h(this,'buffer'),_0x2e9f0b instanceof Audio?this['audio']=_0x2e9f0b:this['buffer']=_0x2e9f0b;}get['duration'](){let _0x4948d8=-0x66*0x3+-0x1cf3+0x1e25;return this['buffer']?_0x4948d8=this['buffer']['duration']:this['audio']&&(_0x4948d8=this['audio']['duration']),_0x4948d8||-0x1f3f+0x1*0xcab+0x1294;}}function Dl(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}const Zt=0x815+-0x231+-0x5e4,fn=-0x1869+-0x15ff+0x6d*0x6d,Hs=-0x2cc*0x9+-0x2*-0xefb+0x48*-0x11;function es(_0x165b70,_0x46430c){return _0x165b70%_0x46430c||-0x1c2a+-0x1e96+0x3ac0;}class As extends me{constructor(_0x21e8d0,_0x2b0679,_0x29af4f){super(),h(this,'source',null),(this['_manager']=_0x21e8d0,this['_volume']=_0x29af4f['volume']!==void(-0x107*-0x22+0x1e4e+-0x1*0x413c)?Y['clamp'](Number(_0x29af4f['volume'])||0x2463+-0x1576+-0xeed,-0x1e49+0x1*0x84d+0x15fc,-0x1*-0xf0b+0x1*0x1357+-0x2261):0x115d+0xf86*0x2+0x1834*-0x2,this['_pitch']=_0x29af4f['pitch']!==void(-0xb*0x362+0xaa1+0x1a95)?Math['max'](-0xa52+-0xfcd+0x1a1f+0.01,Number(_0x29af4f['pitch'])||-0x18f9+-0x1de2+0x1f*0x1c5):0x1e6e+0xbdd+-0x2*0x1525,this['_loop']=!!(_0x29af4f['loop']!==void(-0x1*0xab1+-0xe4c+0x18fd)&&_0x29af4f['loop']),this['_sound']=_0x2b0679,this['_state']=Hs,this['_suspended']=!(0x7e2*-0x4+0xb49+0x1*0x1440),this['_suspendEn'+'dEvent']=-0x68e*0x3+-0xf38*0x1+-0x5e*-0x5f,this['_suspendIn'+'stanceEven'+'ts']=!(0x1*-0x1f5c+-0x9*0x307+0x3a9c),this['_playWhenL'+'oaded']=!(-0x1*0x119d+-0xd3a+-0x5*-0x62b),this['_startTime']=Math['max'](0x1cec+-0x4d3*0x1+-0x1819,Number(_0x29af4f['startTime'])||0x1111*0x2+-0x1edd*-0x1+0x1*-0x40ff),this['_duration']=Math['max'](0x1419+-0x15ee+-0x1d5*-0x1,Number(_0x29af4f['duration'])||0x3*-0x684+-0x1a35+0x2dc1),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x29af4f['onPlay'],this['_onPauseCa'+'llback']=_0x29af4f['onPause'],this['_onResumeC'+'allback']=_0x29af4f['onResume'],this['_onStopCal'+'lback']=_0x29af4f['onStop'],this['_onEndCall'+'back']=_0x29af4f['onEnd'],Dl()?(this['_startedAt']=0x271+-0x2519+0x22a8,this['_currentTi'+'me']=-0x19dc+0x1c71*-0x1+0x364d,this['_currentOf'+'fset']=-0x1e8e+0xcf3*0x1+0x119b*0x1,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x1f77+0x17*-0x13f+0x3c21),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(0x21f4*0x1+0x1a5f+-0x3c52),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x3ad172){if(!(_0x3ad172<0x2313+0x44a+-0x275d)){if(this['_state']===Zt){const _0xf5c20f=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(-0x1105*-0x2+-0xfb*0x17+-0xad*0x11),this['stop'](),this['_startOffs'+'et']=_0x3ad172,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0xf5c20f;}else this['_startOffs'+'et']=_0x3ad172,this['_currentTi'+'me']=_0x3ad172;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===fn?this['_currentTi'+'me']:this['_state']===Hs||!this['source']?-0xc48+-0x11b0+0x1df8:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x368124){this['_duration']=Math['max'](-0x2fe*0x4+0x1819+-0xc21,Number(_0x368124)||0x2474+0xe4b+0xb*-0x49d);const _0x82abb4=this['_state']===Zt;this['stop'](),_0x82abb4&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?es(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:-0x70e+-0x1*0xb72+-0x1*-0x1280;}get['isPaused'](){return this['_state']===fn;}get['isPlaying'](){return this['_state']===Zt;}get['isStopped'](){return this['_state']===Hs;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x5d9f05){this['_loop']=!!_0x5d9f05,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x1eec31){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x1eec31)||-0x2409+-0x1ee6+0x42ef,0x1c9e+0x17*-0x44+-0xb41*0x2+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x3fefd4){this['_sound']=_0x3fefd4,this['_state']!==Hs?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x2c51da){this['_startTime']=Math['max'](-0x78e+-0x1f1*0x1+-0x8f*-0x11,Number(_0x2c51da)||-0x20f4+-0x1663+0x3757);const _0x302afa=this['_state']===Zt;this['stop'](),_0x302afa&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x639e82){_0x639e82=Y['clamp'](_0x639e82,0x47*0x25+0x186a+-0x22ad,-0x3b*0x91+0x3bd*-0x9+0x4311),this['_volume']=_0x639e82,this['gain']&&(this['gain']['gain']['value']=_0x639e82*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>0x1d*-0x7f+0x1*-0x14b+0x9*0x1be){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Zt&&!this['_suspended']&&(this['_suspended']=!(-0x664+0x23+0x1*0x641),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(-0x1*0x1b1+-0x9ff+0x1*0xbb1),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==Hs&&this['stop'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(-0x1212+-0x1f3e+-0x1*-0x3151),this['_waitingCo'+'ntextSuspe'+'nsion']?!(0x23cd+-0x5d*-0x59+-0x4421*0x1):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x1*-0x784+-0xe26+0x351*0x2),!(0xc46*0x2+-0x598*-0x5+-0x1181*0x3)):(this['_playAudio'+'Immediate'](),!(-0x10c6+-0x199*-0x3+0x1*0xbfb));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(0xc1*0x16+-0x1*0xa5e+-0x637),this['_state']!==Zt)return;this['source']||this['_createSou'+'rce']();let _0x42ad72=es(this['_startOffs'+'et'],this['duration']);_0x42ad72=es(this['_startTime']+_0x42ad72,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](0x1*-0x22+0x153d+-0x151b*0x1,_0x42ad72,this['_duration']):this['source']['start'](0x241+-0x10*-0xeb+-0x1*0x10f1,_0x42ad72),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=0x2069+0x25a1+0x701*-0xa,this['_currentOf'+'fset']=_0x42ad72,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(0x1f36+-0x1f14+-0x21),this['_state']!==Zt?!(-0x23e6+-0xdfe+-0x1*-0x31e5):(this['_state']=fn,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](0x2*-0x108f+-0xd*0x11+-0x1*-0x21fb),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(0x6*-0x5ce+0x191b+-0x9b9*-0x1));}['resume'](){if(this['_state']!==fn)return!(0x11f0+-0xb28*0x1+-0x6c7);let _0xc5cdf4=this['currentTim'+'e'];return this['_state']=Zt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0xc5cdf4=es(this['_startOffs'+'et'],this['duration']),_0xc5cdf4=es(this['_startTime']+_0xc5cdf4,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](0x7c0+0x1645*0x1+-0x1e05,_0xc5cdf4,this['_duration']):this['source']['start'](0x5*0x604+0x5*0x73d+-0x4245,_0xc5cdf4),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0xc5cdf4,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(0x1*-0x153+-0x8f5+-0x1*-0xa49),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0x2318+-0xe60+-0x1ba*0xc);}['stop'](){if(this['_playWhenL'+'oaded']=!(-0x1b*0xbf+-0x1*0x1b9e+0xfec*0x3),this['_state']===Hs)return!(-0x21e+0x18a6+-0x1687);const _0x48bc9e=this['_state']===Zt;return this['_state']=Hs,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=-0x1*0x18c1+0x1*0x101+-0x4c*-0x50,this['_currentTi'+'me']=0x270a+-0xf95+-0x1775,this['_currentOf'+'fset']=-0x10c8+0x1917+-0x84f,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x48bc9e&&this['source']&&this['source']['stop'](-0x1*-0x13+0xba9+0x1*-0xbbc),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(0x13d6+0x2f*-0x49+0x225*-0x3);}['setExterna'+'lNodes'](_0x5640d3,_0x517de4){if(!_0x5640d3){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x517de4||(_0x517de4=_0x5640d3);const _0x47edc9=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x5640d3&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x47edc9),this['_firstNode']=_0x5640d3,this['_connector'+'Node']['connect'](_0x5640d3)),this['_lastNode']!==_0x517de4&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x47edc9),this['_lastNode']=_0x517de4,this['_lastNode']['connect'](_0x47edc9));}['clearExter'+'nalNodes'](){const _0xe99fd6=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0xe99fd6),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0xe99fd6);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0x156ee2=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0x156ee2['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=es(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],es(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=es((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Zt&&(this['source']['stop'](-0x1f25+0xcd2+0x1253),this['source']=null);}}h(As,'EVENT_PLAY','play'),h(As,'EVENT_PAUS'+'E','pause'),h(As,'EVENT_RESU'+'ME','resume'),h(As,'EVENT_STOP','stop'),h(As,'EVENT_END','end'),Dl()||(Object['assign'](As['prototype'],{'play':function(){return this['_state']!==Hs&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(0x199*0x13+-0x33*0x34+0x355*-0x6):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(0x1241*0x1+-0x12ed+0xad),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(-0x1*0x177e+-0x363+0x1ae1));},'pause':function(){return!this['source']||this['_state']!==Zt?!(-0x2625+-0x10ab+0x36d1):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0x1b86+-0x22f*0x11+0x99a),this['_state']=fn,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(0x1*-0x1bd1+-0x1711+0x32e2));},'resume':function(){return!this['source']||this['_state']!==fn?!(0x1969+0x12b6+-0x2c1e):(this['_state']=Zt,this['_playWhenL'+'oaded']=!(-0x958*0x3+0x62d*-0x6+0x4117),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0x49d+0x1*0x1d95+0x4*-0x63e));},'stop':function(){return!this['source']||this['_state']===Hs?!(-0x121f*-0x1+0x4*0x4c7+0x5*-0x772):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0x1d2*-0xb+-0x1*0x4af+-0xf56),this['_state']=Hs,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(0x22*-0x34+0x1b8c+-0x14a4));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(-0x21bb*0x1+-0x1*0xa93+-0x35*-0xd6);let _0x316190=es(this['_startOffs'+'et'],this['duration']);_0x316190=es(this['_startTime']+_0x316190,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x316190;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(-0x125*0x1e+-0x5*0x22a+0x2d29),this['source']=this['_sound']['audio']['cloneNode'](!(0x1*-0x12bf+0x3b+0x1284)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>es(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=es(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](As['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x24df37){_0x24df37=Y['clamp'](_0x24df37,-0x2*0x9f3+0x6a*0x56+-0x2*0x7db,-0x1*0x2423+-0x2aa+0x26ce),this['_volume']=_0x24df37,this['source']&&(this['source']['volume']=_0x24df37*this['_manager']['volume']);}}),Object['defineProp'+'erty'](As['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x71677e){this['_pitch']=Math['max'](Number(_0x71677e)||0x26b0+-0x678+-0x2038,0x1019*0x2+-0x1*-0x2401+-0x4433+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](As['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x2767cd){this['stop'](),this['_sound']=_0x2767cd;}}),Object['defineProp'+'erty'](As['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===Hs||!this['source']?-0x12e7+0x1a*-0x52+0x1b3b:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0x738d6){_0x738d6<0x18d7*-0x1+0xe13+0xac4||(this['_startOffs'+'et']=_0x738d6,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=es(this['_startTime']+es(_0x738d6,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Dw=0x39d2+0x1d9f+0x5*-0x9ad;class sn extends As{constructor(_0x13b329,_0x4caf99,_0x190f2d={}){super(_0x13b329,_0x4caf99,_0x190f2d),h(this,'_position',new D()),h(this,'_velocity',new D()),(_0x190f2d['position']&&(this['position']=_0x190f2d['position']),this['maxDistanc'+'e']=_0x190f2d['maxDistanc'+'e']!==void(0x1e3a+-0x23a9+0xd*0x6b)?Number(_0x190f2d['maxDistanc'+'e']):Dw,this['refDistanc'+'e']=_0x190f2d['refDistanc'+'e']!==void(-0x14cb*0x1+0xa0c+-0x7*-0x189)?Number(_0x190f2d['refDistanc'+'e']):-0xe00+-0x3a7+0x11a8,this['rollOffFac'+'tor']=_0x190f2d['rollOffFac'+'tor']!==void(0x59*0x18+0xdb7+-0x160f)?Number(_0x190f2d['rollOffFac'+'tor']):-0x2048+-0x17*0x61+0x2900,this['distanceMo'+'del']=_0x190f2d['distanceMo'+'del']!==void(0x126b+-0xe08+-0x463)?_0x190f2d['distanceMo'+'del']:Vp);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0x2485d7){this['_position']['copy'](_0x2485d7);const _0x5983ca=this['panner'];'positionX'in _0x5983ca?(_0x5983ca['positionX']['value']=_0x2485d7['x'],_0x5983ca['positionY']['value']=_0x2485d7['y'],_0x5983ca['positionZ']['value']=_0x2485d7['z']):_0x5983ca['setPositio'+'n']&&_0x5983ca['setPositio'+'n'](_0x2485d7['x'],_0x2485d7['y'],_0x2485d7['z']);}get['position'](){return this['_position'];}set['velocity'](_0x550aba){w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x550aba);}get['velocity'](){return w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x3f13f1){this['panner']['maxDistanc'+'e']=_0x3f13f1;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x412816){this['panner']['refDistanc'+'e']=_0x412816;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x2965c2){this['panner']['rolloffFac'+'tor']=_0x2965c2;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x5d9c90){this['panner']['distanceMo'+'del']=_0x5d9c90;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Dl()){let l=new D();const t=function(_0xc23928,_0x4ad3f2,_0x188e8c,_0x1d6f56,_0x3f52d6,_0x5c8bd5){l=l['sub2'](_0xc23928,_0x4ad3f2);const _0x3aa5ba=l['length']();if(_0x3aa5ba<_0x188e8c)return 0x5*0x436+0x4bd*-0x7+0x3*0x40a;if(_0x3aa5ba>_0x1d6f56)return-0x1a8*-0xa+0x14c3+-0xf*0x27d;let _0x30da9a=-0x1*0x2191+-0x2624+-0x1d*-0x279;return _0x5c8bd5===Vp?_0x30da9a=-0x10f7+-0x1*-0x1655+-0x55d-_0x3f52d6*(_0x3aa5ba-_0x188e8c)/(_0x1d6f56-_0x188e8c):_0x5c8bd5===bw?_0x30da9a=_0x188e8c/(_0x188e8c+_0x3f52d6*(_0x3aa5ba-_0x188e8c)):_0x5c8bd5===Aw&&(_0x30da9a=Math['pow'](_0x3aa5ba/_0x188e8c,-_0x3f52d6)),Y['clamp'](_0x30da9a,0x220c+0x711+-0x291d,0xab7+-0x95e+-0x158);};Object['defineProp'+'erty'](sn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x3f6b08){if(this['_position']['copy'](_0x3f6b08),this['source']){const _0x31dda5=this['_manager']['listener']['getPositio'+'n'](),_0x48c488=t(_0x31dda5,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x594bfa=this['volume'];this['source']['volume']=_0x594bfa*_0x48c488*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](sn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x44ab3d){this['_maxDistan'+'ce']=_0x44ab3d;}}),Object['defineProp'+'erty'](sn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x5da5e6){this['_refDistan'+'ce']=_0x5da5e6;}}),Object['defineProp'+'erty'](sn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x158cb8){this['_rollOffFa'+'ctor']=_0x158cb8;}}),Object['defineProp'+'erty'](sn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x1107ca){this['_distanceM'+'odel']=_0x1107ca;}});}const Gp=0x1670+-0x243e+0xdce,Hp=-0xc8c+-0x87b*-0x1+0x412,Zs=0x1feb+0x12d9+-0x59*0x92,Cs=0xc3e+0x1a97+-0x26d2,Gn=-0x886+0x17cf+-0xf45,Wp=-0x103*-0x13+0x2*-0x3fb+0x2*-0x59f,Ed=-0x1144+0x1993+-0x65*0x15,$p=-0x2469+-0x324+0x2794,Xp=-0x1e26+0x155c+0x8d2,qp=-0x306+-0xd39*0x1+0x1048,jp=0x1fa2+-0x1*-0x248e+-0x4426,Yy={[Gp]:'SUBTRACTIV'+'E',[Hp]:'ADDITIVE',[Zs]:'NORMAL',[Cs]:'NONE',[Gn]:'PREMULTIPL'+'IED',[Wp]:'MULTIPLICA'+'TIVE',[Ed]:'ADDITIVEAL'+'PHA',[$p]:'MULTIPLICA'+'TIVE2X',[Xp]:'SCREEN',[qp]:'MIN',[jp]:'MAX'},Kn='none',Iw='linear',Lw=-0x6*0x529+0x11a5+-0x1e7*-0x7,Yp=-0x2cb+-0xfee+-0x3bf*-0x5,Rw={[Lw]:'NONE',[Yp]:'SCHLICK'},Ow=-0x6b0+-0x11a9+0x17*0x10f,Ky=-0x1*-0x16db+-0x199+-0x51*0x43,er=-0x1*0x17c4+-0x1465+0x2c29,ps=-0x1*0xfd8+0xa63+0x576,Kp=-0x52c*0x1+-0xc1a+0x1148,Zp=-0x6b*0x43+0xab*0x21+-0x8b*-0xb,Il=0x1af*-0x8+0x16f*0x5+-0x651*-0x1,ve=0x96b+0x4cf*0x3+-0x8*0x2fb,Ke=0x29*0xa+-0x11ff*-0x2+-0x2597,Ze=0x2561+0x119d+0x2*-0x1b7e,u_={[ve]:'DIRECTIONA'+'L',[Ke]:'OMNI',[Ze]:'SPOT'},$c=-0x544+0x2131+-0x1b89,Ys=0x3*0x64d+0x41*-0x71+0x4e5*0x2,Zy=-0x342+-0x12b1+0x15f4,Qy=0x1*-0x144b+-0x1e8+0x1635,Jy=0x2*0xa49+-0x6d5+0xfb*-0xe,Fw={[Ys]:'PUNCTUAL',[Zy]:'RECT',[Qy]:'DISK',[Jy]:'SPHERE'},Qp=-0x20f6+-0x960+0x2a56,ev=0x6c*-0x44+-0x1e55+0x3b06,Nw={[Qp]:'LINEAR',[ev]:'INVERSESQU'+'ARED'},$s=-0xb*0x283+-0x1c*0x40+-0x3d9*-0x9,au=-0xd80+0x7e3+0x59f,Jp=-0x1cd*0x8+-0xb*-0x2e1+-0x1140,kw=0x1753+0xb0e+-0x225d,tv=-0x179*0x5+0x1ae+-0x5b4*-0x1,al=0x15aa+0x2*0xb73+0x1645*-0x2,sv=0x1*0xd88+0x29*-0x10+-0xaf1*0x1,iv=-0x218+0x79*0x3+0xb5,Uw=0x16f7*-0x1+0x1*-0x1b8d+0x328d,qi=new Map([[tv,{'name':'PCF1_32F','kind':'PCF1','format':$i,'pcf':!(-0x2b*0x93+-0xa*-0x67+-0xb*-0x1e1)}],[$s,{'name':'PCF3_32F','kind':'PCF3','format':$i,'pcf':!(-0x43*0x53+-0x2b*-0x74+0x23d)}],[kw,{'name':'PCF5_32F','kind':'PCF5','format':$i,'pcf':!(-0x2549+-0x2*-0x6ad+0x17ef)}],[sv,{'name':'PCF1_16F','kind':'PCF1','format':vn,'pcf':!(-0x1407+0x863*0x1+0xba4)}],[iv,{'name':'PCF3_16F','kind':'PCF3','format':vn,'pcf':!(0x14b9+-0xf9e*0x1+-0x51b)}],[Uw,{'name':'PCF5_16F','kind':'PCF5','format':vn,'pcf':!(-0x1*0x18dc+0x5b9+0x1323)}],[au,{'name':'VSM_16F','kind':'VSM','format':nt,'vsm':!(0x3*0xb0f+-0x1676*0x1+-0xab7)}],[Jp,{'name':'VSM_32F','kind':'VSM','format':Xt,'vsm':!(0xa07+0x11*0x1eb+-0x6*0x71b)}],[al,{'name':'PCSS_32F','kind':'PCSS','format':Ji,'pcss':!(0x23b4+0x1ee6+0x226*-0x1f)}]]),Bw=0xf*0x1f7+-0x6d*0x4b+0x375,em=0x3f*0x5d+0x33b+-0x5*0x539,nu=0x1e5+0x47*0x84+-0x2681,rv=-0x2*0x4f7+-0x17f1+0x21df,ai=-0x3*0x9e+-0x19b3+-0x92f*-0x3,zw=-0x1ad*-0x13+0x1e49*0x1+0x117*-0x39,yh=0x57f+-0xfac+0xa2d,Vw=0x5*0x241+0x1*-0x355+-0x7ef,ni=-0x172*0x5+-0x15fa+0x1d34,En=0x2f9+0x9c7+-0xfb*0xd,un=0x496+0x201f+-0x24b5,$r=0x1*0x2296+-0x1fb8+0x1*-0x2dd,Jl=0x751*0x2+-0x20*0x89+0x280,tm=0x1*0x19d9+0xee1*0x1+-0x28ba,av=-0x39*0x57+-0x2406+0x3766,Gw={[tm]:'NONE',[av]:'BOX'},p_='mul',Ll=-0x772+-0x381*-0x1+0x3f1,Xc=0x871*-0x1+0x2018+-0x2*0xbd3,Hw={[Ll]:'NONE',[Xc]:'SRGB'},sm=0x105e+0x11*-0xa1+0x5ad*-0x1,UU=0x25a1+-0xb5*0x2e+-0x51a,BU=-0x2337+-0x21a0+0x7d*0x8d,zU=0x1*-0x945+-0x1847+0x218f,VU=0xe9a+-0xa75*0x1+0x7*-0x97,GU=-0x382*-0x8+0x1075*-0x2+0x4df,nv=-0x1c0b+-0x1e9+-0x3*-0x9fe,ov=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],lv=0x26b*-0x1+-0x1517*0x1+0x3*0x7d6,bd=-0x23b*0x11+0x1*-0x17ec+0x3dd8,cv=-0xca*-0x2d+0x6c5*0x1+0x3*-0xe17,Ww={[lv]:'NONE',[bd]:'AO',[cv]:'GLOSSDEPEN'+'DENT'},vr='none',vh='envAtlas',xh='envAtlasHQ',Th='cubeMap',hv='sphereMap',$w={[vr]:'NONE',[vh]:'ENVATLAS',[xh]:'ENVATLASHQ',[Th]:'CUBEMAP',[hv]:'SPHEREMAP'},im='ambientSH',rm='envAtlas',am='constant',Xw={[im]:'AMBIENTSH',[rm]:'ENVALATLAS',[am]:'CONSTANT'},wh=0x1a54+0x1eec+-0x393f,nl=-0x1*-0xea3+0x479+-0x131a,nm=0x25f2+-0x4e1*-0x7+-0x4815,dv=0x10*-0x21d+-0x1b92+0x3d6a,fv=-0x1d46+-0x1*-0x95+-0x1cc1*-0x1,ol=-0xf6a+-0xd*-0x1c5+-0x777,ou=-0x2132+-0x971*0x1+0x2ae3,uv=-0x124f*-0x1+-0x13e4+0x1*0x215,Eh=-0x1ced+-0x2*-0xf59+0x1*-0xc5,om=-0x32*-0x8c+-0x1b*0x79+-0xc95,ll=-0xc89*0x2+0x2676+0x4b2*-0x2,cl=-0x12a3+-0xde7+-0x288a*-0x1,pv=-0x62b+-0x351+0x197c,hl=-0x1669*0x1+0x1*0xee5+0x2784,qc=0x3c1*-0x5+0x3fb5+-0x2*-0x988,Ps=0x23*-0x32+0x25dd+0x263*-0xd,xr=-0x5e0*-0x2+0x79*-0x2f+0xa78,lm=0x2*-0xb5f+0x8a1*-0x4+0x3944,Ss=0x3d5*0x9+0x1494*-0x1+-0xde8,di=-0x2006*-0x1+-0x1*-0xc2f+-0x1f*0x16d,fi=0x1*-0x593+0x1731*-0x1+0x1cc8,Aa=0x1269+0x5*-0x15d+-0xb98,Rl=-0x57d*0x5+0x1fff+-0xe9*0x5,cm=0x21fb+0x1ed7+-0x40d0,Zn=0x6*0x2e+-0x2c*-0xaa+0x1e49*-0x1,ci=-0xcaf+0x161f*-0x1+0x22ce,Pt=0x1369*0x2+-0x9ab+-0x1d26,Mt=0x101*-0xa+-0x4e+0xa5a,qw={[ci]:'SIMPLE',[Pt]:'SLICED',[Mt]:'TILED'},jc=-0x90b*0x3+-0x1*0x80e+0x2*0x1198,ec=-0x1eaf+-0x1d6d+0x3c1c,Yc=0x25e2+-0x55b*0x5+0x1*-0xb1b,jw=-0x1142+0x1877+-0x734,Yw=0x204e+0x1914+-0x3960,m_=-0x10f7+-0xc8+0x2*0x8e1,Kw=0x31*0x3a+0x6af+-0x11c5*0x1,Zw=-0x1ffb+0x11b5*-0x1+0x31b5,hm=0xdf*-0x1c+0x9df+0xe85,lu=0x11b3+-0xa2d+0x37*-0x23,Ce=0xb5c+-0xe7c+-0x20*-0x19,je=0x1e1b+0x6e5+-0xc55*0x3,Bo='infinite',Qw='box',Jw='dome',Sa='none',eE='bayer8',tE='bluenoise',sE='ignnoise',iE={[Sa]:'NONE',[eE]:'BAYER8',[tE]:'BLUENOISE',[sE]:'IGNNOISE'},rE='prerender',aE='postrender',nE='prerender:'+'layer',oE='postrender'+':layer',mv='precull',_v='postcull',lE='cull:end';class Ad{constructor(_0x1811fe,_0x1c98ac,_0x3be375){h(this,'uniformFor'+'mats',[]),h(this,'bindGroupF'+'ormats',[]),h(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][rl]=_0x1811fe,this['bindGroupF'+'ormats'][rl]=_0x1c98ac,this['vertexForm'+'at']=_0x3be375);}['hasUniform'](_0x3c5ac5){for(let _0x11c3de=-0x25c5*-0x1+-0x83*-0xc+-0x1*0x2be9;_0x11c3de<this['uniformFor'+'mats']['length'];_0x11c3de++){const _0x53f679=this['uniformFor'+'mats'][_0x11c3de];if(_0x53f679!=null&&_0x53f679['get'](_0x3c5ac5))return!(0x1f4+-0x90b+0x717);}return!(-0x21e*0x1+-0x1*0x21f8+0x2417);}['hasTexture'](_0x19b8dc){for(let _0x47d071=0x4a*0x6+-0x37*0x7+-0x1*0x3b;_0x47d071<this['bindGroupF'+'ormats']['length'];_0x47d071++){const _0x594296=this['bindGroupF'+'ormats'][_0x47d071];if(_0x594296!=null&&_0x594296['getTexture'](_0x19b8dc))return!(0x8e*-0x7+0x2*-0x225+0x82c);}return!(0x1bfe*-0x1+-0x1d41*-0x1+-0xa1*0x2);}['getVertexE'+'lement'](_0xc0ca9c){var _0x2eca99;return(_0x2eca99=this['vertexForm'+'at'])==null?void(0x1c61+-0xd4c+-0xf15):_0x2eca99['elements']['find'](_0x36ebca=>_0x36ebca['name']===_0xc0ca9c);}['generateKe'+'y'](_0x13b54d){var _0x4df5f3;let _0x1bf99e=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x13b54d['isWebGPU']&&(_0x1bf99e+=(_0x4df5f3=this['vertexForm'+'at'])==null?void(-0x1fd2+-0x62d*0x4+0x3886):_0x4df5f3['shaderProc'+'essingHash'+'String']),_0x1bf99e;}}const gv=new Kt();function Hn(_0x2600cc){const _0x2bd707=gv['get'](_0x2600cc);return w['assert'](_0x2bd707),_0x2bd707;}function cE(_0x34dee6,_0xd7cb7d){w['assert'](_0xd7cb7d),gv['get'](_0x34dee6,()=>_0xd7cb7d);}class ya{static['definesHas'+'h'](_0x19b7b4){const _0x20af1f=Array['from'](_0x19b7b4)['sort']((_0x3e1ae8,_0x433f33)=>_0x3e1ae8[-0x1380+-0x337*-0x4+0x6a4]>_0x433f33[0x1c2d+0x1*0x148d+0x81f*-0x6]?0x10d2*-0x2+-0x14d2+0x3677:-(0xfd0+-0x21a0+-0x11d1*-0x1));return hi(JSON['stringify'](_0x20af1f));}}const hE=new Kt();class dE{constructor(_0x3c41d7,_0x4e9fec,_0x358b66={}){h(this,'index'),h(this,'name'),h(this,'defines',new Map()),(w['assert'](/^[a-z]\w*$/i['test'](_0x3c41d7),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x3c41d7),this['name']=_0x3c41d7,this['index']=_0x4e9fec,Object['assign'](this,_0x358b66),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x17876b;this['isShadow']?_0x17876b='SHADOW':this['isForward']?_0x17876b='FORWARD':this['index']===Zn&&(_0x17876b='PICK'),this['defines']['set'](_0x17876b+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Si{constructor(){h(this,'passesName'+'d',new Map()),h(this,'passesInde'+'xed',[]),h(this,'nextIndex',-0x5*0x4ef+0x1*-0x937+0x21e2);const _0x215f51=(_0x41dd35,_0x2d5de5,_0x2c6a50)=>{const _0x37f399=this['allocate'](_0x41dd35,_0x2c6a50);w['assert'](_0x37f399['index']===_0x2d5de5);};_0x215f51('forward',Aa,{'isForward':!(0xba6*-0x1+-0x1248+0x1dee)}),_0x215f51('prepass',Rl),_0x215f51('shadow',cm),_0x215f51('pick',Zn);}static['get'](_0x144c63){return w['assert'](_0x144c63),hE['get'](_0x144c63,()=>new Si());}['allocate'](_0x36156b,_0x5772b7){let _0x18b4be=this['passesName'+'d']['get'](_0x36156b);return _0x18b4be===void(-0x19d2+-0x253b+0x3f0d)&&(_0x18b4be=new dE(_0x36156b,this['nextIndex'],_0x5772b7),this['passesName'+'d']['set'](_0x18b4be['name'],_0x18b4be),this['passesInde'+'xed'][_0x18b4be['index']]=_0x18b4be,this['nextIndex']++),_0x18b4be;}['getByIndex'](_0x7a1c74){const _0x244c32=this['passesInde'+'xed'][_0x7a1c74];return w['assert'](_0x244c32),_0x244c32;}['getByName'](_0x1e1f9a){return this['passesName'+'d']['get'](_0x1e1f9a);}}class __ extends Map{constructor(){super(...arguments),h(this,'_keyDirty',!(0x144c+-0xa85+-0x9c6)),h(this,'_key','');}['set'](_0x4b0eb8,_0x18b739){return(!this['has'](_0x4b0eb8)||this['get'](_0x4b0eb8)!==_0x18b739)&&this['markDirty'](),super['set'](_0x4b0eb8,_0x18b739);}['add'](_0x4c3719){for(const [_0x4bccda,_0x3ba89d]of Object['entries'](_0x4c3719))this['set'](_0x4bccda,_0x3ba89d);return this;}['delete'](_0x549cce){const _0x4b6a0f=this['has'](_0x549cce),_0x102ec0=super['delete'](_0x549cce);return _0x4b6a0f&&_0x102ec0&&this['markDirty'](),_0x102ec0;}['clear'](){this['size']>-0x18fa*-0x1+0x88+0x5*-0x51a&&this['markDirty'](),super['clear']();}['markDirty'](){this['_dirty']=!(0xa5*-0x5+0x794+-0x5*0xdf),this['_keyDirty']=!(0x6d*-0x4e+0x18dc*-0x1+-0x2*-0x1d09);}['isDirty'](){return this['_dirty'];}['resetDirty'](){this['_dirty']=!(0x3*-0x52f+0x2285+-0x5*0x3cb);}get['key'](){return this['_keyDirty']&&(this['_keyDirty']=!(-0x2*0xc61+-0x47c*0x7+0x3827),this['_key']=Array['from'](this['entries']())['sort'](([_0x248b1c],[_0x4435fb])=>_0x248b1c<_0x4435fb?-(0x7ad+-0x14f*-0xf+-0xf1*0x1d):_0x248b1c>_0x4435fb?-0x74e+0x9d4+0x285*-0x1:-0xc95*0x1+0xeba+0x3*-0xb7)['map'](([_0x466bcf,_0xec9ca3])=>_0x466bcf+'='+hi(_0xec9ca3))['join'](',')),this['_key'];}['copy'](_0x532db5){this['clear']();for(const [_0x9e0a9c,_0x309a18]of _0x532db5)this['set'](_0x9e0a9c,_0x309a18);return this;}}const fE=new Kt();class Pe{constructor(){h(this,'glsl',new __()),h(this,'wgsl',new __()),h(this,'version','');}static['get'](_0x13ee58,_0x5d0443=Fe){const _0x1e7240=fE['get'](_0x13ee58,()=>new Pe());return _0x5d0443===Fe?_0x1e7240['glsl']:_0x1e7240['wgsl'];}get['useWGSL'](){return this['glsl']['size']===-0x649+-0x241*-0x11+0x28*-0xcd||this['wgsl']['size']>0x1ba9+-0x133b+-0x86e;}get['key'](){return'GLSL:'+this['glsl']['key']+'|WGSL:'+this['wgsl']['key']+'|API:'+this['version'];}['isDirty'](){return this['glsl']['isDirty']()||this['wgsl']['isDirty']();}['resetDirty'](){this['glsl']['resetDirty'](),this['wgsl']['resetDirty']();}['copy'](_0x4cdf0d){return this['version']=_0x4cdf0d['version'],this['glsl']['copy'](_0x4cdf0d['glsl']),this['wgsl']['copy'](_0x4cdf0d['wgsl']),this;}}class bh{static['merge'](..._0x2f6b9e){const _0x4277da=new Map(_0x2f6b9e[-0x250a+0x1741+0xdc9]??[]);for(let _0x137099=0xdc2+-0x1445+0x684;_0x137099<_0x2f6b9e['length'];_0x137099++){const _0x373392=_0x2f6b9e[_0x137099];if(_0x373392){for(const [_0x31e342,_0x5cba61]of _0x373392)_0x4277da['set'](_0x31e342,_0x5cba61);}}return _0x4277da;}}class uE extends ya{constructor(_0xae793f,_0xecdc62){super(),this['key']=_0xae793f,this['shaderDefi'+'nition']=_0xecdc62;}['generateKe'+'y'](_0x24592a){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x1f5eb5,_0x5cd544){return this['shaderDefi'+'nition'];}}class $t{static['createShad'+'er'](_0x1354e3,_0xa93dbe){const _0x4a78bb=Hn(_0x1354e3);let _0x4e5802=_0x4a78bb['getCachedS'+'hader'](_0xa93dbe['uniqueName']);if(!_0x4e5802){const _0x10f694=_0x1354e3['isWebGPU']&&(!!_0xa93dbe['vertexWGSL']||!!_0xa93dbe['vertexChun'+'k'])&&(!!_0xa93dbe['fragmentWG'+'SL']||!!_0xa93dbe['fragmentCh'+'unk']),_0x57bf19=Pe['get'](_0x1354e3,_0x10f694?it:Fe),_0x53a54f=_0xa93dbe['vertexChun'+'k']?_0x57bf19['get'](_0xa93dbe['vertexChun'+'k']):_0x10f694?_0xa93dbe['vertexWGSL']:_0xa93dbe['vertexGLSL'],_0x5e0266=_0xa93dbe['fragmentCh'+'unk']?_0x57bf19['get'](_0xa93dbe['fragmentCh'+'unk']):_0x10f694?_0xa93dbe['fragmentWG'+'SL']:_0xa93dbe['fragmentGL'+'SL'];w['assert'](_0x53a54f,'ShaderUtil'+'s.createSh'+'ader:\x20vert'+'ex\x20shader\x20'+'code\x20not\x20p'+'rovided',_0xa93dbe),w['assert'](_0x5e0266,'ShaderUtil'+'s.createSh'+'ader:\x20frag'+'ment\x20shade'+'r\x20code\x20not'+'\x20provided',_0xa93dbe);const _0x54c28f=bh['merge'](_0x57bf19,_0xa93dbe['fragmentIn'+'cludes']),_0x2cf4eb=bh['merge'](_0x57bf19,_0xa93dbe['vertexIncl'+'udes']);_0x4e5802=new qy(_0x1354e3,Jt['createDefi'+'nition'](_0x1354e3,{'name':_0xa93dbe['uniqueName'],'shaderLanguage':_0x10f694?it:Fe,'attributes':_0xa93dbe['attributes'],'vertexCode':_0x53a54f,'fragmentCode':_0x5e0266,'useTransformFeedback':_0xa93dbe['useTransfo'+'rmFeedback'],'vertexIncludes':_0x2cf4eb,'vertexDefines':_0xa93dbe['vertexDefi'+'nes'],'fragmentIncludes':_0x54c28f,'fragmentDefines':_0xa93dbe['fragmentDe'+'fines'],'fragmentOutputTypes':_0xa93dbe['fragmentOu'+'tputTypes']})),_0x4a78bb['setCachedS'+'hader'](_0xa93dbe['uniqueName'],_0x4e5802);}return _0x4e5802;}static['getCoreDef'+'ines'](_0x24d036,_0x27d6ad){const _0x35542d=new Map(_0x24d036['defines']);return _0x27d6ad['cameraShad'+'erParams']['defines']['forEach']((_0x47d578,_0xbfdc01)=>_0x35542d['set'](_0xbfdc01,_0x47d578)),Si['get'](_0x27d6ad['device'])['getByIndex'](_0x27d6ad['pass'])['defines']['forEach']((_0x447e3b,_0x22a15b)=>_0x35542d['set'](_0x22a15b,_0x447e3b)),_0x35542d;}static['processSha'+'der'](_0x55008d,_0x27deaa){w['assert'](_0x55008d);const _0x570e41=_0x55008d['definition'],_0x13e583=(_0x570e41['name']??'shader')+'-id-'+_0x55008d['id'],_0x571374=new uE(_0x13e583,_0x570e41),_0x3fcba3='shader',_0x239eca=Hn(_0x55008d['device']);w['assert'](!_0x239eca['isRegister'+'ed'](_0x3fcba3)),_0x239eca['register'](_0x3fcba3,_0x571374);const _0x57a6bd=_0x239eca['getProgram'](_0x3fcba3,{},_0x27deaa);return _0x239eca['unregister'](_0x3fcba3),_0x57a6bd;}static['addScreenD'+'epthChunkD'+'efines'](_0x276cc2,_0x437a7d,_0x37df22){_0x437a7d['sceneDepth'+'MapLinear']&&_0x37df22['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',''),_0x276cc2['textureFlo'+'atRenderab'+'le']&&_0x37df22['set']('SCENE_DEPT'+'HMAP_FLOAT','');}}const pE={'type':Er,'base':0x0,'baseVertex':0x0,'count':0x4,'indexed':!(0x165+-0x61c+-0x2*-0x25c)},so=new re(),io=new re(),Gd=new ky();class Ah{constructor(_0x5b58af){h(this,'uniformBuf'+'fer'),h(this,'bindGroup');const _0x5d4da9=_0x5b58af['device'];if(this['shader']=_0x5b58af,w['assert'](_0x5b58af),_0x5d4da9['supportsUn'+'iformBuffe'+'rs']){const _0x5770de=new Ad();this['shader']=$t['processSha'+'der'](_0x5b58af,_0x5770de);const _0x102f56=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0x102f56&&(this['uniformBuf'+'fer']=new zp(_0x5d4da9,_0x102f56,!(0x1ea9*0x1+-0xddc+-0x10cc)));const _0x5132aa=this['shader']['meshBindGr'+'oupFormat'];w['assert'](_0x5132aa),this['bindGroup']=new Up(_0x5d4da9,_0x5132aa),Ea['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x28a4d2,_0x2204b3;(_0x28a4d2=this['uniformBuf'+'fer'])==null||_0x28a4d2['destroy'](),this['uniformBuf'+'fer']=null,(_0x2204b3=this['bindGroup'])==null||_0x2204b3['destroy'](),this['bindGroup']=null;}['render'](_0x4d0db4,_0x33bf4c){const _0x3c80a7=this['shader']['device'];Q['pushGpuMar'+'ker'](_0x3c80a7,'QuadRender'),_0x4d0db4&&(so['set'](_0x3c80a7['vx'],_0x3c80a7['vy'],_0x3c80a7['vw'],_0x3c80a7['vh']),io['set'](_0x3c80a7['sx'],_0x3c80a7['sy'],_0x3c80a7['sw'],_0x3c80a7['sh']),_0x33bf4c=_0x33bf4c??_0x4d0db4,_0x3c80a7['setViewpor'+'t'](_0x4d0db4['x'],_0x4d0db4['y'],_0x4d0db4['z'],_0x4d0db4['w']),_0x3c80a7['setScissor'](_0x33bf4c['x'],_0x33bf4c['y'],_0x33bf4c['z'],_0x33bf4c['w'])),_0x3c80a7['setVertexB'+'uffer'](_0x3c80a7['quadVertex'+'Buffer'],-0x1df*-0x6+-0xc37*0x2+-0x2a4*-0x5);const _0x3ad945=this['shader'];if(_0x3c80a7['setShader'](_0x3ad945),_0x3c80a7['supportsUn'+'iformBuffe'+'rs']){_0x3c80a7['setBindGro'+'up'](rl,_0x3c80a7['emptyBindG'+'roup']);const _0x2cbad3=this['bindGroup'];_0x2cbad3['update'](),_0x3c80a7['setBindGro'+'up'](Oy,_0x2cbad3);const _0x4e293d=this['uniformBuf'+'fer'];_0x4e293d?(_0x4e293d['update'](Gd),_0x3c80a7['setBindGro'+'up'](su,Gd['bindGroup'],Gd['offsets'])):_0x3c80a7['setBindGro'+'up'](su,_0x3c80a7['emptyBindG'+'roup']);}_0x3c80a7['draw'](pE),_0x4d0db4&&(_0x3c80a7['setViewpor'+'t'](so['x'],so['y'],so['z'],so['w']),_0x3c80a7['setScissor'](io['x'],io['y'],io['z'],io['w'])),Q['popGpuMark'+'er'](_0x3c80a7);}}class mE extends ys{constructor(_0x29fa9,_0x2dff88,_0x3c2336,_0x58ea54){super(_0x29fa9),this['quad']=_0x2dff88,this['rect']=_0x3c2336,this['scissorRec'+'t']=_0x58ea54;}['execute'](){const {device:_0x3acc46}=this;Q['pushGpuMar'+'ker'](_0x3acc46,this['name']+':'+this['quad']['shader']['name']),_0x3acc46['setCullMod'+'e'](bt),_0x3acc46['setDepthSt'+'ate'](Yt['NODEPTH']),_0x3acc46['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),Q['popGpuMark'+'er'](_0x3acc46);}}const _E=new re();function Ar(_0x255d99,_0x1a89b2,_0x2608a2,_0x57442e,_0x531ff6){w['assert'](_0x1a89b2!==void(-0x10d1+-0x1807*0x1+0x4*0xa36));const _0x200e16=arguments[0x24*-0x8e+-0x14f1+0x28ee];w['call'](()=>{_0x200e16!==void(-0x17b*-0x5+0x227f*-0x1+0x1b18)&&w['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x2e7869=new Ah(_0x2608a2);_0x57442e||(_0x57442e=_E,_0x57442e['x']=0xd6f+-0x3*-0x45a+-0x1a7d,_0x57442e['y']=-0x22e1*0x1+-0x14cb+0x1fd*0x1c,_0x57442e['z']=_0x1a89b2?_0x1a89b2['width']:_0x255d99['width'],_0x57442e['w']=_0x1a89b2?_0x1a89b2['height']:_0x255d99['height']);const _0x2d1874=new mE(_0x255d99,_0x2e7869,_0x57442e,_0x531ff6);_0x2d1874['init'](_0x1a89b2),_0x2d1874['colorOps']['clear']=!(0x13d6*0x1+0xa22+-0x1df7),_0x2d1874['depthStenc'+'ilOps']['clearDepth']=!(0x4*0x328+-0x3*-0x62f+-0x10a*0x1e),_0x255d99['isWebGPU']&&_0x1a89b2===null&&_0x255d99['samples']>-0x1f06+0x89b*-0x2+0x303d*0x1&&(_0x2d1874['colorOps']['store']=!(-0x114a*-0x1+-0xf7c+0x1ce*-0x1)),_0x2d1874['render'](),_0x2e7869['destroy']();}class g_{constructor(_0x2a23d4,_0x17296f,_0x106e47){h(this,'_aabb',new De()),h(this,'origMeshIn'+'stances'),h(this,'meshInstan'+'ce',null),h(this,'dynamic'),h(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x2a23d4,this['dynamic']=_0x17296f,this['batchGroup'+'Id']=_0x106e47);}['destroy'](_0x349a66,_0x4b8912){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x349a66,_0x4b8912),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0x99b2c5,_0x382118){for(let _0x164195=0x511*0x2+-0xe13*-0x1+-0x1835*0x1;_0x164195<_0x382118['length'];_0x164195++){const _0x50244a=_0x99b2c5['layers']['getLayerBy'+'Id'](_0x382118[_0x164195]);_0x50244a&&_0x50244a['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x3ff1c4,_0x28636f){for(let _0x31fb48=0x8e*-0xc+-0xb*-0x1e+-0x2af*-0x2;_0x31fb48<_0x28636f['length'];_0x31fb48++){const _0x4d353c=_0x3ff1c4['layers']['getLayerBy'+'Id'](_0x28636f[_0x31fb48]);_0x4d353c&&_0x4d353c['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][-0x1c2f+0x1a3e+0x47*0x7]['aabb']);for(let _0x260498=0xb32+-0x1*-0x1bc5+0x26f6*-0x1;_0x260498<this['origMeshIn'+'stances']['length'];_0x260498++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x260498]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=0x16*0xe2+0x1a47+-0x2db3;}get['model'](){w['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class St{constructor(_0x5ead5a,_0x54fdde,_0x2ec053,_0x44a2fb,_0x4e4d6a=[er]){h(this,'_ui',!(0x226a+-0x2a4+-0x1fc5)),h(this,'_sprite',!(-0x1*-0x1a89+-0xce0+-0xda8)),h(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),h(this,'id'),h(this,'name'),h(this,'dynamic'),h(this,'maxAabbSiz'+'e'),h(this,'layers'),(this['id']=_0x5ead5a,this['name']=_0x54fdde,this['dynamic']=_0x2ec053,this['maxAabbSiz'+'e']=_0x44a2fb,this['layers']=_0x4e4d6a);}}h(St,'MODEL','model'),h(St,'ELEMENT','element'),h(St,'SPRITE','sprite'),h(St,'RENDER','render');const S_=new te();class Ol{constructor(_0x4c8997){h(this,'bones'),(this['_dirty']=!(-0x1b9b+-0xb1*-0xd+0x1*0x129e),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(0x1*-0x2121+0x55*0xe+0x4*0x71f),this['_updateBef'+'oreCull']=!(0x45b*-0x1+-0xa99*0x3+-0x52a*-0x7),_0x4c8997&&this['initSkin'](_0x4c8997));}set['rootBone'](_0x566e19){this['_rootBone']=_0x566e19;}get['rootBone'](){return this['_rootBone'];}['init'](_0x671a67,_0x504bd8){const _0x41f616=_0x504bd8*(0x1904*0x1+0x1d5*-0x9+-0x884);let _0x449e1a=Math['ceil'](Math['sqrt'](_0x41f616));_0x449e1a=Y['roundUp'](_0x449e1a,0xc5*0x1a+-0x1ab9*-0x1+-0x2eb8);const _0x19a426=Math['ceil'](_0x41f616/_0x449e1a);this['boneTextur'+'e']=new _e(_0x671a67,{'width':_0x449e1a,'height':_0x19a426,'format':Xt,'mipmaps':!(0x1a1e+0x1119+0x2*-0x159b),'minFilter':Te,'magFilter':Te,'name':'skin'}),this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':yy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x8e9075,_0x65ffe4){this['rootBone']=_0x8e9075;const _0x2170ac=this['skin'],_0x51da11=[];for(let _0x2ed49f=-0x20c9+-0x2097+0x1*0x4160;_0x2ed49f<_0x2170ac['boneNames']['length'];_0x2ed49f++){const _0x41ef57=_0x2170ac['boneNames'][_0x2ed49f];let _0x5ab458=_0x8e9075['findByName'](_0x41ef57);_0x5ab458||(w['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x41ef57+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0x65ffe4['name']+(',\x20rootBone'+':\x20')+_0x8e9075['name']),_0x5ab458=_0x65ffe4),_0x51da11['push'](_0x5ab458);}this['bones']=_0x51da11;}['initSkin'](_0x25d6ba){this['skin']=_0x25d6ba,this['bones']=[];const _0xd00c2=_0x25d6ba['inverseBin'+'dPose']['length'];this['init'](_0x25d6ba['device'],_0xd00c2),this['matrices']=[];for(let _0xeaab46=-0x1f53+-0x4d2+0x13*0x1e7;_0xeaab46<_0xd00c2;_0xeaab46++)this['matrices'][_0xeaab46]=new te();}['uploadBone'+'s'](_0xf76b14){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x33e099,_0x23b05f){if(this['_skinUpdat'+'eIndex']!==_0x23b05f){this['_skinUpdat'+'eIndex']=_0x23b05f,S_['copy'](_0x33e099['getWorldTr'+'ansform']())['invert']();for(let _0x2b6253=this['bones']['length']-(-0x1ec8+0x1*-0xb26+0x29ef);_0x2b6253>=-0x39f*-0x3+0x1c20+-0x26fd;_0x2b6253--)this['matrices'][_0x2b6253]['mulAffine2'](S_,this['bones'][_0x2b6253]['getWorldTr'+'ansform']()),this['matrices'][_0x2b6253]['mulAffine2'](this['matrices'][_0x2b6253],this['skin']['inverseBin'+'dPose'][_0x2b6253]);}}['updateMatr'+'ices'](_0x224e37,_0x574b3c){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x224e37,_0x574b3c);}['updateMatr'+'ixPalette'](_0x2b5fea,_0x387f18){this['_updateMat'+'rices'](_0x2b5fea,_0x387f18);const _0x4b04ce=this['matrixPale'+'tte'],_0x221295=this['bones']['length'];for(let _0xb0a8d2=0x57*0x22+0x6*-0x26d+0x300;_0xb0a8d2<_0x221295;_0xb0a8d2++){const _0x130439=this['matrices'][_0xb0a8d2]['data'],_0x58a61b=_0xb0a8d2*(-0xc25+0x1e*-0x11+0xe2f);_0x4b04ce[_0x58a61b]=_0x130439[0xc89*0x3+-0x13fa+-0x1*0x11a1],_0x4b04ce[_0x58a61b+(-0x3f2+-0x1*-0x1786+-0x1393)]=_0x130439[0x6*0x11b+-0xe61+-0x1*-0x7c3],_0x4b04ce[_0x58a61b+(-0x638+0xd49+-0x70f)]=_0x130439[-0x2333*-0x1+0x6d1*-0x4+0x1*-0x7e7],_0x4b04ce[_0x58a61b+(-0x6*0x477+-0x1*0xb12+0x25df)]=_0x130439[-0x1a71+0x3*-0x368+0x24b5],_0x4b04ce[_0x58a61b+(0x188d+-0x34*-0x82+-0x32f1)]=_0x130439[-0x1543+0x79*-0x3+0x16af],_0x4b04ce[_0x58a61b+(-0xf25+0x222b+0x1301*-0x1)]=_0x130439[-0x1b4d+-0x195*0x6+-0x934*-0x4],_0x4b04ce[_0x58a61b+(0x2*0x1315+-0xec7*0x1+0x175d*-0x1)]=_0x130439[0x1229+0x1d21+-0x2f41],_0x4b04ce[_0x58a61b+(-0xb3f+0x2*-0x8ce+0x1ce2)]=_0x130439[0x5*-0x1ac+0x1415+-0x1f2*0x6],_0x4b04ce[_0x58a61b+(-0x10*0x9d+0x1df8+-0x1420)]=_0x130439[-0xd04+0x184c+-0x5a3*0x2],_0x4b04ce[_0x58a61b+(0x3*-0x4d2+-0xeb2+0x1d31)]=_0x130439[-0x2269+0x1d*0xe3+0x8b8],_0x4b04ce[_0x58a61b+(-0x2*0xee+-0x12d1+-0x1*-0x14b7)]=_0x130439[0x543*-0x2+-0x296*0x1+0xd26],_0x4b04ce[_0x58a61b+(0x1217+0xa*0x190+-0x21ac)]=_0x130439[-0xd95+0x35*0x13+-0xcf*-0xc];}this['uploadBone'+'s'](this['skin']['device']);}}class y_ extends Ol{constructor(_0x554629,_0x3470ab,_0x5be920){super();const _0x17a79b=_0x3470ab['length'];this['init'](_0x554629,_0x17a79b),this['device']=_0x554629,this['rootNode']=_0x5be920,this['bones']=_0x3470ab;}['updateMatr'+'ices'](_0x1f9a51,_0x16b54b){}['updateMatr'+'ixPalette'](_0x3161b1,_0x3ba2a8){const _0xf5a814=this['matrixPale'+'tte'],_0x44e975=this['bones']['length'];for(let _0x4549b5=-0xde4+-0x2f*0xa6+0x2c5e;_0x4549b5<_0x44e975;_0x4549b5++){const _0x2605f6=this['bones'][_0x4549b5]['getWorldTr'+'ansform']()['data'],_0x914f87=_0x4549b5*(0x1*0x1336+0xdbc+-0x20e6);_0xf5a814[_0x914f87]=_0x2605f6[-0x6f*0xe+0x1aa7+-0x1495],_0xf5a814[_0x914f87+(0xc9*0xc+0x2449+-0x2db4)]=_0x2605f6[0x19+0x1*0x737+-0x1d3*0x4],_0xf5a814[_0x914f87+(-0xe17+0x985*-0x2+0x2123)]=_0x2605f6[0x45*0x1b+0x2cb+-0xa0a],_0xf5a814[_0x914f87+(0x2b*-0xd+0xd14+-0x571*0x2)]=_0x2605f6[-0x1*0xcb9+0x107*0x7+-0xc*-0x77],_0xf5a814[_0x914f87+(0x11b8+-0x812*0x3+0x682)]=_0x2605f6[-0xe5f+-0x1ee3+-0x1*-0x2d43],_0xf5a814[_0x914f87+(-0x2682+-0x24c9+0x4b50)]=_0x2605f6[-0x36f*-0x9+-0x2*-0x16c+-0x21ba*0x1],_0xf5a814[_0x914f87+(0x17*0x1f+-0x1d49+-0x2a7*-0xa)]=_0x2605f6[-0x1*-0x2141+0x5c3+0x24b*-0x11],_0xf5a814[_0x914f87+(0x33*-0x3b+0x21*0x43+0x325)]=_0x2605f6[0x191c+0x643*0x1+-0x1*0x1f52],_0xf5a814[_0x914f87+(0x1dbe+-0x27*0x25+-0x1813*0x1)]=_0x2605f6[-0x25f5+0x1939+0xcbe*0x1],_0xf5a814[_0x914f87+(0xabd*-0x1+0x1989+0xec3*-0x1)]=_0x2605f6[0x48f+-0x54f+0xc6],_0xf5a814[_0x914f87+(-0x2bf*-0xd+0xe*0xb2+-0x1*0x2d65)]=_0x2605f6[0x81*0x3d+-0x4c2+-0x1d*0xe5],_0xf5a814[_0x914f87+(-0x9d8+-0x1493+0x7*0x45a)]=_0x2605f6[-0x5*0x289+0x1df5+-0x113a];}this['uploadBone'+'s'](this['device']);}}let gE=-0xa*0xd+-0x6*-0x29d+-0xf2c;class oi{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(-0x1995+-0xda*-0x3+-0x16*-0x10c),this['verticesUs'+'age']=ms,this['indicesUsa'+'ge']=ms,this['maxVertice'+'s']=-0x20ba+-0x247a+-0x2b*-0x19c,this['maxIndices']=-0x19ba+0x1139*0x2+-0x8b8,this['vertexCoun'+'t']=0x1e08+-0x192f+-0x4d9,this['indexCount']=0x1*-0x55d+0x16f*0x1+-0x2*-0x1f7,this['vertexStre'+'amsUpdated']=!(-0x166d+-0x1fae+-0xd87*-0x4),this['indexStrea'+'mUpdated']=!(-0x1cf7+0x1b07+-0x1*-0x1f1),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0x12eece,_0x1220b2){this['vertexCoun'+'t']?w['assert'](this['vertexCoun'+'t']===_0x12eece,'Vertex\x20str'+'eam\x20'+_0x1220b2+'\x20has\x20'+_0x12eece+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0x12eece;}}h(oi,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',-0x7b*0x1+0x3fc+-0x37e),h(oi,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',0x1e5d+-0x126b+-0xbef),h(oi,'DEFAULT_CO'+'MPONENTS_U'+'V',0x7d6+0x57d+-0xd51),h(oi,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',0x3f0+0x691*-0x1+-0x1*-0x2a5);class SE{constructor(_0x3ac3b4,_0x1a1268,_0x1200a0,_0x5dd14f,_0x5f599d){this['data']=_0x3ac3b4,this['componentC'+'ount']=_0x1a1268,this['dataType']=_0x1200a0,this['dataTypeNo'+'rmalize']=_0x5dd14f,this['asInt']=_0x5f599d;}}class Ge extends wd{constructor(_0x490b7f,_0x3b4f33){super(),h(this,'indexBuffe'+'r',[null]),h(this,'vertexBuff'+'er',null),h(this,'primitive',[{'type':0x0,'base':0x0,'baseVertex':0x0,'count':0x0}]),h(this,'skin',null),h(this,'boneAabb',null),h(this,'_aabbVer',0x2b1*-0x4+0x2078+-0x2*0xada),h(this,'_aabb',new De()),h(this,'_geometryD'+'ata',null),h(this,'_morph',null),h(this,'_storageIn'+'dex',!(-0xea2+0x1ea7+-0x1004)),h(this,'_storageVe'+'rtex',!(-0x2001+0x1*-0x1f73+0x3f75)),(this['id']=gE++,w['assert'](_0x490b7f,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x490b7f,this['_storageIn'+'dex']=(_0x3b4f33==null?void(0x39c+0x25b7+-0x1*0x2953):_0x3b4f33['storageInd'+'ex'])||!(-0x5*-0x26f+-0xa*0x235+-0x1*-0x9e8),this['_storageVe'+'rtex']=(_0x3b4f33==null?void(-0x1*0x1ba8+-0x1cf5+-0x389d*-0x1):_0x3b4f33['storageVer'+'tex'])||!(-0x1b78+-0x3ef+0x1f68));}static['fromGeomet'+'ry'](_0x57eb55,_0x391930,_0x3718ea={}){const _0x373495=new Ge(_0x57eb55,_0x3718ea),{positions:_0x151309,normals:_0x51fd33,tangents:_0x37a21a,colors:_0x356bc3,uvs:_0x44d4ed,uvs1:_0x53222c,blendIndices:_0x31a8fb,blendWeights:_0xec6b02,indices:_0xe6ba1b}=_0x391930;return _0x151309&&_0x373495['setPositio'+'ns'](_0x151309),_0x51fd33&&_0x373495['setNormals'](_0x51fd33),_0x37a21a&&_0x373495['setVertexS'+'tream'](yi,_0x37a21a,0x3*-0x8a7+0x6*0x3f0+0x259),_0x356bc3&&_0x373495['setColors3'+'2'](_0x356bc3),_0x44d4ed&&_0x373495['setUvs'](0xd+0x5*-0x147+0x656,_0x44d4ed),_0x53222c&&_0x373495['setUvs'](0x21*-0xb5+-0xd*0x1fb+0x7*0x703,_0x53222c),_0x31a8fb&&_0x373495['setVertexS'+'tream'](us,_0x31a8fb,-0x18e7+-0x1*0x8c5+0x21b0,_0x31a8fb['length']/(0x24ae+0x18f2+0xf67*-0x4),la),_0xec6b02&&_0x373495['setVertexS'+'tream'](gi,_0xec6b02,-0xab6+0x2454+0x3a*-0x71),_0xe6ba1b&&_0x373495['setIndices'](_0xe6ba1b),_0x373495['update'](),_0x373495;}set['morph'](_0x30eeaa){_0x30eeaa!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x30eeaa,_0x30eeaa&&_0x30eeaa['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x256117){this['_aabb']=_0x256117,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x26799f=this['morph'];_0x26799f&&(this['morph']=null,_0x26799f['refCount']<0x78b*0x2+-0x2460+0x719*0x3&&_0x26799f['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0x4b7d5e=-0xb0b+-0xa9e+-0x15a9*-0x1;_0x4b7d5e<this['indexBuffe'+'r']['length'];_0x4b7d5e++)this['_destroyIn'+'dexBuffer'](_0x4b7d5e);this['indexBuffe'+'r']['length']=-0x1473+-0x18f9+-0xf24*-0x3,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x28db89){this['indexBuffe'+'r'][_0x28db89]&&(this['indexBuffe'+'r'][_0x28db89]['destroy'](),this['indexBuffe'+'r'][_0x28db89]=null);}['_initBoneA'+'abbs'](_0x114ba5){this['boneAabb']=[],this['boneUsed']=[];let _0x357135,_0x581de6,_0x1eac74,_0x21a112,_0x22834e;const _0x30985d=[],_0x4565ec=[],_0x3fc29f=this['boneUsed'],_0x145afb=this['skin']['boneNames']['length'];let _0x2fe596,_0x1edd43,_0x27ca09;for(let _0x313dbe=-0x1*-0x1963+0x1e83+-0x37e6;_0x313dbe<_0x145afb;_0x313dbe++)_0x30985d[_0x313dbe]=new D(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x4565ec[_0x313dbe]=new D(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x320a08=new Uo(this['vertexBuff'+'er']),_0x1e89a7=_0x320a08['element'][Me],_0x1d27ec=_0x320a08['element'][gi],_0xad38d9=_0x320a08['element'][us],_0x3a4645=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0xffa958=0x16*0xa3+0x1*0x10ad+-0x1eaf;_0xffa958<_0x3a4645;_0xffa958++){for(let _0x477f5e=-0xa*-0x203+-0x114d*0x2+-0x9*-0x19c;_0x477f5e<0x9f*-0x5+-0x2*-0x1323+-0x2327;_0x477f5e++)if(_0x1d27ec['array'][_0x1d27ec['index']+_0x477f5e]>0x1f93*0x1+0xd5c+-0x2cef){const _0x5c6e28=_0xad38d9['array'][_0xad38d9['index']+_0x477f5e];if(_0x3fc29f[_0x5c6e28]=!(-0xb*-0xac+0x1c33+-0x2397),_0x357135=_0x1e89a7['array'][_0x1e89a7['index']],_0x581de6=_0x1e89a7['array'][_0x1e89a7['index']+(0x241*-0x6+-0x7*0xe9+0x9f3*0x2)],_0x1eac74=_0x1e89a7['array'][_0x1e89a7['index']+(-0x1a5f+0x2354+0x4f*-0x1d)],_0x21a112=_0x4565ec[_0x5c6e28],_0x22834e=_0x30985d[_0x5c6e28],_0x22834e['x']>_0x357135&&(_0x22834e['x']=_0x357135),_0x22834e['y']>_0x581de6&&(_0x22834e['y']=_0x581de6),_0x22834e['z']>_0x1eac74&&(_0x22834e['z']=_0x1eac74),_0x21a112['x']<_0x357135&&(_0x21a112['x']=_0x357135),_0x21a112['y']<_0x581de6&&(_0x21a112['y']=_0x581de6),_0x21a112['z']<_0x1eac74&&(_0x21a112['z']=_0x1eac74),_0x114ba5){let _0x28cf83=_0x2fe596=_0x357135,_0x5af973=_0x1edd43=_0x581de6,_0x39f452=_0x27ca09=_0x1eac74;for(let _0x4a51c2=-0x1ebc+-0x9be+-0x6*-0x6bf;_0x4a51c2<_0x114ba5['length'];_0x4a51c2++){const _0xbb0e64=_0x114ba5[_0x4a51c2],_0x4adf6f=_0xbb0e64['deltaPosit'+'ions'][_0xffa958*(0x222b*-0x1+0x46*0x6d+0x460)],_0x45ffce=_0xbb0e64['deltaPosit'+'ions'][_0xffa958*(-0x1f0f+-0x1*-0x3c8+0x1b4a)+(-0x4f1*-0x6+0x1999+-0x373e)],_0x43e455=_0xbb0e64['deltaPosit'+'ions'][_0xffa958*(0x72c+-0xccb+0x5a2)+(0xdc1*-0x2+-0xcc*-0xe+0x105c)];_0x4adf6f<0x1af6+-0x987+0x1*-0x116f?_0x28cf83+=_0x4adf6f:_0x2fe596+=_0x4adf6f,_0x45ffce<0x50*0x79+-0x1*-0x42c+-0x29fc?_0x5af973+=_0x45ffce:_0x1edd43+=_0x45ffce,_0x43e455<-0x616*-0x3+-0x1f*-0x92+-0x23f0?_0x39f452+=_0x43e455:_0x27ca09+=_0x43e455;}_0x22834e['x']>_0x28cf83&&(_0x22834e['x']=_0x28cf83),_0x22834e['y']>_0x5af973&&(_0x22834e['y']=_0x5af973),_0x22834e['z']>_0x39f452&&(_0x22834e['z']=_0x39f452),_0x21a112['x']<_0x2fe596&&(_0x21a112['x']=_0x2fe596),_0x21a112['y']<_0x1edd43&&(_0x21a112['y']=_0x1edd43),_0x21a112['z']<_0x27ca09&&(_0x21a112['z']=_0x27ca09);}}_0x320a08['next']();}const _0x38fc55=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x36513b=>_0x36513b['name']===Me);if(_0x38fc55&&_0x38fc55['normalize']){const _0x467ed1=((()=>{switch(_0x38fc55['dataType']){case dd:return _0x403d11=>Math['max'](_0x403d11/(-0x1ce1+0x1f2f+-0x1cf),-(-0x51*0x1b+-0x5*0x734+-0xb8*-0x3e));case la:return _0x1fc122=>_0x1fc122/(0x1f47*0x1+0x7*0x283+-0x2fdd);case fd:return _0x5f133d=>Math['max'](_0x5f133d/(-0xa24f+-0xceee+0x1f13c),-(-0x137c+0xf49+0x434));case Ml:return _0x12c50=>_0x12c50/(0x1cfc2+-0x1313f+-0x44*-0x16f);default:return _0x1c150d=>_0x1c150d;}})());for(let _0x4c4d66=-0x234f+-0xb1b+-0x1a*-0x1c9;_0x4c4d66<_0x145afb;_0x4c4d66++)if(_0x3fc29f[_0x4c4d66]){const _0x1bcf28=_0x30985d[_0x4c4d66],_0x5b684d=_0x4565ec[_0x4c4d66];_0x1bcf28['set'](_0x467ed1(_0x1bcf28['x']),_0x467ed1(_0x1bcf28['y']),_0x467ed1(_0x1bcf28['z'])),_0x5b684d['set'](_0x467ed1(_0x5b684d['x']),_0x467ed1(_0x5b684d['y']),_0x467ed1(_0x5b684d['z']));}}for(let _0x3305bb=0x5d2+-0xb0a*-0x1+-0x10dc;_0x3305bb<_0x145afb;_0x3305bb++){const _0x5cafbe=new De();_0x5cafbe['setMinMax'](_0x30985d[_0x3305bb],_0x4565ec[_0x3305bb]),this['boneAabb']['push'](_0x5cafbe);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new oi(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>-0x2146+0x1a00+0x62*0x13&&this['indexBuffe'+'r'][0x4d*-0x77+-0x85a*-0x4+0x263]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][-0x1b4d+-0x1c1*0x11+0x391e]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][0x6*0x165+0x21a3+0x1*-0x2a01]['numIndices']));}['clear'](_0x430c18,_0x20bbbc,_0x2e433f=-0xdeb+-0x1*-0x1f3+0xbf8,_0x25e5b9=-0x2*-0x745+-0x2204+-0x9*-0x22a){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(0x1*-0x9bb+-0x1*0x1147+0x1b02),this['_geometryD'+'ata']['maxVertice'+'s']=_0x2e433f,this['_geometryD'+'ata']['maxIndices']=_0x25e5b9,this['_geometryD'+'ata']['verticesUs'+'age']=_0x430c18?ms:lh,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0x20bbbc?ms:lh;}['setVertexS'+'tream'](_0x5525ff,_0x275a34,_0x1a7bf2,_0x14437c,_0x4480ff=Ve,_0x44fa74=!(0x1c59+-0x1*-0x74d+-0x23a5),_0x2d5632=!(0x1b2+0x1*0x1934+-0x1ae5)){this['_initGeome'+'tryData']();const _0x3bc8a8=_0x14437c||_0x275a34['length']/_0x1a7bf2;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x3bc8a8,_0x5525ff),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0x15a8+0x19fd*-0x1+-0x455*-0x1),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x5525ff]=new SE(_0x275a34,_0x1a7bf2,_0x4480ff,_0x44fa74,_0x2d5632);}['getVertexS'+'tream'](_0x1a99d2,_0x4aab91){let _0x5b6017=-0x1208*0x1+0x6a1*0x1+0xb67,_0x55f7ed=!(0x25*0x11+-0x21c5*-0x1+0xb*-0x34b);if(this['_geometryD'+'ata']){const _0x5a65f9=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x1a99d2];_0x5a65f9&&(_0x55f7ed=!(0x8a9*0x3+0x1b5c+-0x5*0xaab),_0x5b6017=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x4aab91)?_0x4aab91['set'](_0x5a65f9['data']):(_0x4aab91['length']=0x3*-0x704+-0x1a*-0x125+-0x8b6,_0x4aab91['push'](_0x5a65f9['data'])));}return _0x55f7ed||this['vertexBuff'+'er']&&(_0x5b6017=new Uo(this['vertexBuff'+'er'])['readData'](_0x1a99d2,_0x4aab91)),_0x5b6017;}['setPositio'+'ns'](_0x518fbf,_0x228850=oi['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x36d303){this['setVertexS'+'tream'](Me,_0x518fbf,_0x228850,_0x36d303,Ve,!(-0x25*-0x15+-0x1*-0x186d+-0x1*0x1b75));}['setNormals'](_0x4553a0,_0x5620c3=oi['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x3f6bea){this['setVertexS'+'tream'](gs,_0x4553a0,_0x5620c3,_0x3f6bea,Ve,!(-0x1e3c+-0xeb7*-0x1+0xf86));}['setUvs'](_0x5e581f,_0x5e19ff,_0x4d4d89=oi['DEFAULT_CO'+'MPONENTS_U'+'V'],_0x661fed){this['setVertexS'+'tream'](zm+_0x5e581f,_0x5e19ff,_0x4d4d89,_0x661fed,Ve,!(0x3b*-0x92+-0x951+-0x19*-0x1b8));}['setColors'](_0x3f0ba0,_0x57f96e=oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0xe1b659){this['setVertexS'+'tream'](Wt,_0x3f0ba0,_0x57f96e,_0xe1b659,Ve,!(0xcd8+0x1*0xe2f+0x902*-0x3));}['setColors3'+'2'](_0x19bbc4,_0x4d0533){this['setVertexS'+'tream'](Wt,_0x19bbc4,oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x4d0533,la,!(0x7*-0x375+-0x16a7+-0x2*-0x176d));}['setIndices'](_0x22b306,_0x2aabca){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x4f*-0xd+-0x8*-0x32b+-0x1555),this['_geometryD'+'ata']['indices']=_0x22b306,this['_geometryD'+'ata']['indexCount']=_0x2aabca||_0x22b306['length'];}['getPositio'+'ns'](_0x96e2bf){return this['getVertexS'+'tream'](Me,_0x96e2bf);}['getNormals'](_0x1165e2){return this['getVertexS'+'tream'](gs,_0x1165e2);}['getUvs'](_0x45a090,_0xcf9818){return this['getVertexS'+'tream'](zm+_0x45a090,_0xcf9818);}['getColors'](_0x30fa3a){return this['getVertexS'+'tream'](Wt,_0x30fa3a);}['getIndices'](_0x1e888a){let _0x161e6b=0x222b+-0x1*-0xf66+-0x3191;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x444292=this['_geometryD'+'ata']['indices'];if(_0x161e6b=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x1e888a))_0x1e888a['set'](_0x444292);else{_0x1e888a['length']=0x1*-0x145d+-0xe7c+0x22d9;for(let _0x508bba=0x273+-0x18c4+0x1d*0xc5,_0x215464=_0x444292['length'];_0x508bba<_0x215464;_0x508bba++)_0x1e888a['push'](_0x444292[_0x508bba]);}}else this['indexBuffe'+'r']['length']>0x1577+0xd11+-0xaa*0x34&&this['indexBuffe'+'r'][0x8b6+-0x7*0x265+-0x80d*-0x1]&&(_0x161e6b=this['indexBuffe'+'r'][0x25c8+-0x65a*-0x3+0x6*-0x979]['readData'](_0x1e888a));return _0x161e6b;}['update'](_0x472e46=js,_0x548044=!(0x1293*0x2+-0x1cf+-0x2357)){if(this['_geometryD'+'ata']){if(_0x548044){const _0x4453a5=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][Me];_0x4453a5&&_0x4453a5['componentC'+'ount']===0x1*-0x1bbd+0x1db5+-0x1f5&&(this['_aabb']['compute'](_0x4453a5['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x151ebf=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x151ebf=!(-0x5*-0x4ee+-0xe21*0x1+-0xa85),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x151ebf&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x514c29=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x514c29=!(-0x1405+-0x6*-0x4d9+-0x911),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x514c29&&this['indexBuffe'+'r']['length']>0x2cc*0x2+-0x1*-0x11ba+-0x1752&&this['indexBuffe'+'r'][-0x21d*0xd+-0x8e9*-0x2+0x9a7]&&(this['indexBuffe'+'r'][-0x1858+-0xa96+-0x22ee*-0x1]['destroy'](),this['indexBuffe'+'r'][0x1ac1+-0x1*0x16cd+0x1fa*-0x2]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][-0x2*0xa49+-0x21de+0x86*0x68]['type']=_0x472e46,this['indexBuffe'+'r']['length']>-0xd8d+-0xc7d*-0x1+-0x8*-0x22&&this['indexBuffe'+'r'][-0x2165+-0x221b+0x180*0x2d]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][0xb50+0x1fcf+-0x2b1f]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][0x191*-0x1+-0x318+0x4a9]['indexed']=!(-0x1d2a+0x1f5c+-0x119*0x2)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][-0xe6c+-0x11*-0xaa+0x322]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][0x1*-0xb12+-0x2*0xb4f+0x21b0]['indexed']=!(-0x25*0xed+-0xdb*-0x1+0x2167)),this['_geometryD'+'ata']['vertexCoun'+'t']=-0x1*0x1703+0x2585+-0xe82,this['_geometryD'+'ata']['indexCount']=0x1a40+-0x1d5*-0x15+0x7*-0x93f,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0x2078+0x7*0x4a9+-0x13*0x2),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x208b+-0x7cd*-0x3+0x37f1*-0x1),this['_geometryD'+'ata']['recreate']=!(-0x33*0x75+-0x2256+0x39a6),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x3279f4){const _0x3e65df=[];for(const _0x285b18 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x3d9ac2=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x285b18];_0x3e65df['push']({'semantic':_0x285b18,'components':_0x3d9ac2['componentC'+'ount'],'type':_0x3d9ac2['dataType'],'normalize':_0x3d9ac2['dataTypeNo'+'rmalize'],'asInt':_0x3d9ac2['asInt']});}return new kt(this['device'],_0x3e65df,_0x3279f4);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x101bb0=this['_geometryD'+'ata']['maxVertice'+'s'],_0x167158=this['_buildVert'+'exFormat'](_0x101bb0);this['vertexBuff'+'er']=new Is(this['device'],_0x167158,_0x101bb0,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x5adbf5=new Uo(this['vertexBuff'+'er']),_0x2df791=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x5b76d8 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x578b33=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x5b76d8];_0x5adbf5['writeData'](_0x5b76d8,_0x578b33['data'],_0x2df791),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x5b76d8];}_0x5adbf5['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=-0xc9*0x1+0x11*0x179+-0x4*0x610||!this['indexBuffe'+'r'][-0x1f83*0x1+0x1*0x97a+-0x1*-0x1609]){const _0xce77b0=this['_geometryD'+'ata']['maxVertice'+'s'],_0x4810d0=_0xce77b0>0xa6ae+-0x1e3c+0x778d||_0xce77b0===-0x1d85+0x140c+0x979?wr:Yi,_0x6f201d=this['_storageIn'+'dex']?{'storage':!(0x1d92+-0x1*0x53d+-0x1855)}:void(0x2332+-0x1*-0x185a+-0xee3*0x4);this['indexBuffe'+'r'][-0x25d1+0x1c98+0x1*0x939]=new br(this['device'],_0x4810d0,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(-0x1905*-0x1+0x1a*0x112+-0xa3*0x53),_0x6f201d);}const _0x18ced4=this['_geometryD'+'ata']['indices'];_0x18ced4&&(this['indexBuffe'+'r'][0xd5e+0x146+-0xea4]['writeData'](_0x18ced4,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x44270b){_0x44270b===$r?this['generateWi'+'reframe']():_0x44270b===Jl&&(this['primitive'][Jl]={'type':cd,'base':0x0,'baseVertex':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:-0x226c+-0xc2*-0x17+0x10fe,'indexed':!(0x7bb+-0x550+-0x26a)});}['updateRend'+'erStates'](){this['primitive'][Jl]&&this['prepareRen'+'derState'](Jl),this['primitive'][$r]&&this['prepareRen'+'derState']($r);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer']($r);const _0x5c50b4=this['vertexBuff'+'er']['numVertice'+'s'],_0x475932=[];let _0x3aa33e;if(this['indexBuffe'+'r']['length']>-0xb*0x34d+-0x1*0x23b4+0x4803&&this['indexBuffe'+'r'][0x161a+-0x7*0x32+-0x14bc*0x1]){const _0x2fc3ae=[[-0x2*0xae8+-0x229*0x1+0x17f9,0x14be+-0x2*-0x51+-0x155f],[0xb6*-0x22+-0x2*-0xae7+-0x1*-0x25f,-0x15b+-0xb*-0x152+-0xd29],[0x1*-0x1277+0x120*0x6+0x1*0xbb9,-0x1840+-0x8b8+-0xa*-0x34c]],_0x34a28b=this['primitive'][un]['base'],_0x39ae64=this['primitive'][un]['count'],_0x4aa04f=this['primitive'][un]['baseVertex']||0x21*0xb+-0x6f*0x56+0x23df,_0x3fec75=this['indexBuffe'+'r'][un],_0x475e63=new Sh[_0x3fec75['format']](_0x3fec75['storage']),_0x48f073=new Set();for(let _0x494b10=_0x34a28b;_0x494b10<_0x34a28b+_0x39ae64;_0x494b10+=-0x11c3*-0x1+-0x1*0xefd+0x65*-0x7)for(let _0x3dd05a=-0x25aa+0x17ba+0xdf0;_0x3dd05a<0x63a*0x1+-0x47*-0x1+-0x1*0x67e;_0x3dd05a++){const _0x43b136=_0x475e63[_0x494b10+_0x2fc3ae[_0x3dd05a][-0x218+-0x3*-0xc83+-0x2371*0x1]]+_0x4aa04f,_0x146d98=_0x475e63[_0x494b10+_0x2fc3ae[_0x3dd05a][-0xdbd*0x2+-0x1ed6+0x3a51]]+_0x4aa04f,_0x3a65d1=_0x43b136>_0x146d98?_0x146d98*_0x5c50b4+_0x43b136:_0x43b136*_0x5c50b4+_0x146d98;_0x48f073['has'](_0x3a65d1)||(_0x48f073['add'](_0x3a65d1),_0x475932['push'](_0x43b136,_0x146d98));}_0x3aa33e=_0x3fec75['format'];}else{for(let _0x4aa4f4=-0x4eb*-0x2+0x8*-0x321+-0x30a*-0x5;_0x4aa4f4<_0x5c50b4;_0x4aa4f4+=0x949*-0x1+0x6f7*0x3+-0xb99)_0x475932['push'](_0x4aa4f4,_0x4aa4f4+(0x1fe4+-0x372+-0x1c71),_0x4aa4f4+(0x1235*0x2+-0x1da+-0x228f),_0x4aa4f4+(0x1e5+0x10*-0x24a+0x22bd*0x1),_0x4aa4f4+(-0x1c8a+0xdb5+0xed7),_0x4aa4f4);_0x3aa33e=_0x475932['length']>-0x2b2e*-0x8+0xf4*-0x92+0x31b7?wr:Yi;}const _0x525369=new br(this['vertexBuff'+'er']['device'],_0x3aa33e,_0x475932['length']);new Sh[_0x525369['format']](_0x525369['storage'])['set'](_0x475932),_0x525369['unlock'](),this['primitive'][$r]={'type':hd,'base':0x0,'baseVertex':0x0,'count':_0x475932['length'],'indexed':!(-0x1*-0xf67+-0x13*0x1af+0x2*0x84b)},this['indexBuffe'+'r'][$r]=_0x525369;}}const v_=new te(),Hd=new D(),x_=new le(),Wd=new le(),T_=new D(),w_=new D(),yE=new te(),vE=new le(),rs=new D(),ro=new te(),as=new le(),Ia=new le(),E_=new te(),$d=new D(),tc=new D();function b_(_0x331236,_0x54517b){return _0x331236 instanceof Function?_0x331236:_0x344f49=>{let _0x77b224=_0x344f49[_0x331236];return _0x77b224 instanceof Function&&(_0x77b224=_0x77b224()),_0x77b224===_0x54517b;};}function Sv(_0x4ccc86,_0x372b1d){if(_0x372b1d(_0x4ccc86))return _0x4ccc86;const _0x47b174=_0x4ccc86['_children'],_0x4d9a3f=_0x47b174['length'];for(let _0x102ddc=-0x1*-0xdab+-0x14cf+0x724;_0x102ddc<_0x4d9a3f;++_0x102ddc){const _0x2281c8=Sv(_0x47b174[_0x102ddc],_0x372b1d);if(_0x2281c8)return _0x2281c8;}return null;}class Ie extends me{constructor(_0x5c0a9f='Untitled'){super(),h(this,'name'),h(this,'tags',new Oo(this)),h(this,'localPosit'+'ion',new D()),h(this,'localRotat'+'ion',new le()),h(this,'localScale',new D(-0x151*-0x3+-0xae*0x6+-0x11*-0x2,0x5c*0x3+0x1925+-0x347*0x8,0x719+0xb*-0x1d4+-0xe*-0xee)),h(this,'localEuler'+'Angles',new D()),h(this,'position',new D()),h(this,'rotation',new le()),h(this,'eulerAngle'+'s',new D()),h(this,'_scale',null),h(this,'localTrans'+'form',new te()),h(this,'_dirtyLoca'+'l',!(0xca0+-0x7fd*-0x1+-0x149c)),h(this,'_aabbVer',0x2cf*0x7+-0x830+0x59*-0x21),h(this,'_frozen',!(0x1c36+-0x1e20+0x1*0x1eb)),h(this,'worldTrans'+'form',new te()),h(this,'_dirtyWorl'+'d',!(0x83*0x16+0x337*-0x8+-0xe77*-0x1)),h(this,'_worldScal'+'eSign',0x7b9*-0x2+0xe5e+0x114),h(this,'_normalMat'+'rix',new _i()),h(this,'_dirtyNorm'+'al',!(0x146c*0x1+-0xf75+-0x4f7)),h(this,'_right',null),h(this,'_up',null),h(this,'_forward',null),h(this,'_parent',null),h(this,'_children',[]),h(this,'_graphDept'+'h',-0x520*0x1+0x1537*-0x1+0x1a57),h(this,'_enabled',!(-0x1fe8+-0x132a+-0x883*-0x6)),h(this,'_enabledIn'+'Hierarchy',!(-0x1*-0x1e46+-0x1*0xb7d+-0x12c8)),h(this,'scaleCompe'+'nsation',!(-0x217e+-0xad*0x17+0x310a)),this['name']=_0x5c0a9f;}get['right'](){return this['_right']||(this['_right']=new D()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new D()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new D()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(-0x2e6+-0x241e+-0x1*-0x2705));}get['normalMatr'+'ix'](){const _0x1f2ebb=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x1f2ebb['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(-0x15c5+-0x168f*0x1+0x2c55)),_0x1f2ebb;}set['enabled'](_0x39e6a3){var _0x367455;this['_enabled']!==_0x39e6a3&&(this['_enabled']=_0x39e6a3,(_0x39e6a3&&((_0x367455=this['_parent'])!=null&&_0x367455['enabled'])||!_0x39e6a3)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x39e6a3));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x43e2a1=this['_parent'];if(!_0x43e2a1)return'';let _0x4c7132=this['name'];for(;_0x43e2a1&&_0x43e2a1['_parent'];)_0x4c7132=_0x43e2a1['name']+'/'+_0x4c7132,_0x43e2a1=_0x43e2a1['_parent'];return _0x4c7132;}get['root'](){let _0x92e42c=this;for(;_0x92e42c['_parent'];)_0x92e42c=_0x92e42c['_parent'];return _0x92e42c;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x1e3de5,_0x3bb9d2){_0x1e3de5['_onHierarc'+'hyStateCha'+'nged'](_0x3bb9d2);const _0x5a7966=_0x1e3de5['_children'];for(let _0x1edd98=0x2584*-0x1+0x1*-0x1c79+-0x15ff*-0x3,_0x4b28d9=_0x5a7966['length'];_0x1edd98<_0x4b28d9;_0x1edd98++)_0x5a7966[_0x1edd98]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x5a7966[_0x1edd98],_0x3bb9d2);}['_onHierarc'+'hyStateCha'+'nged'](_0x36e4e0){this['_enabledIn'+'Hierarchy']=_0x36e4e0,_0x36e4e0&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x56a20e){_0x56a20e['name']=this['name'];const _0x45d890=this['tags']['_list'];_0x56a20e['tags']['clear']();for(let _0x2c822f=-0x2*0x51b+-0x157c+0x1fb2;_0x2c822f<_0x45d890['length'];_0x2c822f++)_0x56a20e['tags']['add'](_0x45d890[_0x2c822f]);_0x56a20e['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x56a20e['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x56a20e['localScale']['copy'](this['localScale']),_0x56a20e['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x56a20e['position']['copy'](this['position']),_0x56a20e['rotation']['copy'](this['rotation']),_0x56a20e['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x56a20e['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x56a20e['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x56a20e['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x56a20e['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x56a20e['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x56a20e['_aabbVer']=this['_aabbVer']+(-0x1c00+0x2*0xde4+-0x39*-0x1),_0x56a20e['_enabled']=this['_enabled'],_0x56a20e['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x56a20e['_enabledIn'+'Hierarchy']=!(-0x5*-0xa2+0x18f2+-0x1c1b);}['clone'](){const _0x3254bc=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x3254bc),_0x3254bc;}['copy'](_0x3c0c8f){return _0x3c0c8f['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0xf600d=this['_children'];for(;_0xf600d['length'];){const _0x2dec7a=_0xf600d['pop']();_0x2dec7a['_parent']=null,_0x2dec7a['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x2cbdd3,_0x413bf1){const _0x5d1108=[],_0x1fbddf=b_(_0x2cbdd3,_0x413bf1);return this['forEach'](_0x3e95a7=>{_0x1fbddf(_0x3e95a7)&&_0x5d1108['push'](_0x3e95a7);}),_0x5d1108;}['findOne'](_0xf53345,_0x59c8a6){const _0x592bb4=b_(_0xf53345,_0x59c8a6);return Sv(this,_0x592bb4);}['findByTag'](..._0x4b046d){const _0x49b8cf=[],_0x697cb0=(_0x59e07b,_0x4d1be4)=>{_0x4d1be4&&_0x59e07b['tags']['has'](..._0x4b046d)&&_0x49b8cf['push'](_0x59e07b);for(let _0x3a0413=0x1fe8+0x30*-0x4+0xf94*-0x2;_0x3a0413<_0x59e07b['_children']['length'];_0x3a0413++)_0x697cb0(_0x59e07b['_children'][_0x3a0413],!(0x11*0x3d+-0x182f+0x1422));};return _0x697cb0(this,!(0x1*-0x1703+0x3*0x507+-0x7ef*-0x1)),_0x49b8cf;}['findByName'](_0x163bc2){return this['findOne']('name',_0x163bc2);}['findByPath'](_0x20cc41){const _0x2d6362=Array['isArray'](_0x20cc41)?_0x20cc41:_0x20cc41['split']('/');let _0x3fae8d=this;for(let _0x7251ee=0x23f6+0x5*-0x5c9+0x709*-0x1,_0x5c5752=_0x2d6362['length'];_0x7251ee<_0x5c5752;++_0x7251ee)if(_0x3fae8d=_0x3fae8d['children']['find'](_0xfbf0bf=>_0xfbf0bf['name']===_0x2d6362[_0x7251ee]),!_0x3fae8d)return null;return _0x3fae8d;}['forEach'](_0x544fab,_0x5bd527){_0x544fab['call'](_0x5bd527,this);const _0x55d67e=this['_children'],_0x416c33=_0x55d67e['length'];for(let _0x2cf22e=-0x1ac6+-0x9a0+0x3*0xc22;_0x2cf22e<_0x416c33;++_0x2cf22e)_0x55d67e[_0x2cf22e]['forEach'](_0x544fab,_0x5bd527);}['isDescenda'+'ntOf'](_0x2ab56b){let _0x19d45e=this['_parent'];for(;_0x19d45e;){if(_0x19d45e===_0x2ab56b)return!(-0x25*0x107+-0x1f5b+0x455e);_0x19d45e=_0x19d45e['_parent'];}return!(-0x24a5+-0x41b*0x1+0x28c1);}['isAncestor'+'Of'](_0x465c00){return _0x465c00['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x1*-0x2143+0x7*-0x4cc+-0x17*-0x2e8)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new D()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===-0x3d*-0x76+0x25ae+0x20e6*-0x2&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x2c118c;(_0x2c118c=this['_parent'])==null||_0x2c118c['removeChil'+'d'](this);}['reparent'](_0x187a27,_0x592ab4){this['remove'](),_0x187a27&&(_0x592ab4>=0x6b6+-0x1a64*-0x1+-0x211a?_0x187a27['insertChil'+'d'](this,_0x592ab4):_0x187a27['addChild'](this));}['setLocalEu'+'lerAngles'](_0xada394,_0x138d57,_0x1f53fb){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0xada394,_0x138d57,_0x1f53fb),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x38b371,_0x4912ce,_0x1afd91){_0x38b371 instanceof D?this['localPosit'+'ion']['copy'](_0x38b371):this['localPosit'+'ion']['set'](_0x38b371,_0x4912ce,_0x1afd91),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x358141,_0x516385,_0x10d729,_0x26ef6f){_0x358141 instanceof le?this['localRotat'+'ion']['copy'](_0x358141):this['localRotat'+'ion']['set'](_0x358141,_0x516385,_0x10d729,_0x26ef6f),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x544f4a,_0x13cc58,_0x3fec2b){_0x544f4a instanceof D?this['localScale']['copy'](_0x544f4a):this['localScale']['set'](_0x544f4a,_0x13cc58,_0x3fec2b),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(0x625+0x315*0x2+-0xc4f),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x431cbe=this['_parent'];for(;_0x431cbe;)_0x431cbe['_frozen']=!(0x15d6+-0x121f*-0x1+-0x27f4),_0x431cbe=_0x431cbe['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(-0x2652+0xf1*-0x15+0x3a18),this['_dirtyWorl'+'d']=!(0x158f+-0x117+-0x8*0x28f);for(let _0x94aae2=-0x2071+0xe41*-0x1+0x2eb2;_0x94aae2<this['_children']['length'];_0x94aae2++)this['_children'][_0x94aae2]['_dirtyWorl'+'d']||this['_children'][_0x94aae2]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(0x6*0xa7+-0x1f0a+-0x38*-0x7c),this['_worldScal'+'eSign']=-0x1*-0x217+0xb2*0x1d+-0xd3*0x1b,this['_aabbVer']++;}['setPositio'+'n'](_0x2fd5a8,_0x1b09bc,_0x49f598){_0x2fd5a8 instanceof D?rs['copy'](_0x2fd5a8):rs['set'](_0x2fd5a8,_0x1b09bc,_0x49f598),this['_parent']===null?this['localPosit'+'ion']['copy'](rs):(ro['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),ro['transformP'+'oint'](rs,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x562bfd,_0x11f62f,_0x2a5dc4,_0x56de5c){if(_0x562bfd instanceof le?as['copy'](_0x562bfd):as['set'](_0x562bfd,_0x11f62f,_0x2a5dc4,_0x56de5c),this['_parent']===null)this['localRotat'+'ion']['copy'](as);else{const _0x758339=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x758339)['invert'](),this['localRotat'+'ion']['copy'](Ia)['mul'](as);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x41db4d,_0x18ee9a){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x41db4d),this['localRotat'+'ion']['copy'](_0x18ee9a);else{const _0x3894ba=this['_parent']['getWorldTr'+'ansform']();ro['copy'](_0x3894ba)['invert'](),ro['transformP'+'oint'](_0x41db4d,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](ro)['mul'](_0x18ee9a);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x57f856,_0x140497,_0x1fb3cd){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x57f856,_0x140497,_0x1fb3cd),this['_parent']!==null){const _0x23427c=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x23427c)['invert'](),this['localRotat'+'ion']['mul2'](Ia,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x3e8912){this['_prepareIn'+'sertChild'](_0x3e8912),this['_children']['push'](_0x3e8912),this['_onInsertC'+'hild'](_0x3e8912);}['addChildAn'+'dSaveTrans'+'form'](_0x53f0c1){const _0x4f5d71=_0x53f0c1['getPositio'+'n'](),_0x123aa6=_0x53f0c1['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x53f0c1),_0x53f0c1['setPositio'+'n'](yE['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x4f5d71)),_0x53f0c1['setRotatio'+'n'](vE['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x123aa6)),this['_children']['push'](_0x53f0c1),this['_onInsertC'+'hild'](_0x53f0c1);}['insertChil'+'d'](_0x1fc3cb,_0x33aa86){this['_prepareIn'+'sertChild'](_0x1fc3cb),this['_children']['splice'](_0x33aa86,-0x179*0x16+0x1*-0x5a3+-0x2ed*-0xd,_0x1fc3cb),this['_onInsertC'+'hild'](_0x1fc3cb);}['_prepareIn'+'sertChild'](_0x46d8a5){_0x46d8a5['remove'](),w['assert'](_0x46d8a5!==this,'GraphNode\x20'+(_0x46d8a5==null?void(0x1406+0x26e*0x5+0x3a*-0x8e):_0x46d8a5['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),w['assert'](!this['isDescenda'+'ntOf'](_0x46d8a5),'GraphNode\x20'+(_0x46d8a5==null?void(0x2*0xa6+-0xb2*0x9+0x4f6*0x1):_0x46d8a5['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x1a9e84,_0x2c0912,_0x42ea19){this['fire'](_0x1a9e84,_0x42ea19);for(let _0x47c150=-0x1*0x18a1+0x1188+0x1*0x719;_0x47c150<this['_children']['length'];_0x47c150++)this['_children'][_0x47c150]['_fireOnHie'+'rarchy'](_0x2c0912,_0x2c0912,_0x42ea19);}['_onInsertC'+'hild'](_0x2f4558){_0x2f4558['_parent']=this;const _0x17a6bd=_0x2f4558['_enabled']&&this['enabled'];_0x2f4558['_enabledIn'+'Hierarchy']!==_0x17a6bd&&(_0x2f4558['_enabledIn'+'Hierarchy']=_0x17a6bd,_0x2f4558['_notifyHie'+'rarchyStat'+'eChanged'](_0x2f4558,_0x17a6bd)),_0x2f4558['_updateGra'+'phDepth'](),_0x2f4558['_dirtifyWo'+'rld'](),this['_frozen']&&_0x2f4558['_unfreezeP'+'arentToRoo'+'t'](),_0x2f4558['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x2f4558);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(-0x4b*-0x51+-0xbf*-0x31+-0x3c49):-0xd3f*0x1+-0x12b*0x3+0x10c0;for(let _0x28eeee=-0x1d0e+0x16c4*-0x1+0x33d2,_0x2aefd1=this['_children']['length'];_0x28eeee<_0x2aefd1;_0x28eeee++)this['_children'][_0x28eeee]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0x2a3c81){const _0x1bab8c=this['_children']['indexOf'](_0x2a3c81);_0x1bab8c!==-(-0x88a*-0x4+0x1*0x2469+0x10*-0x469)&&(this['_children']['splice'](_0x1bab8c,0x1b91*-0x1+-0x1ac7+-0x1*-0x3659),_0x2a3c81['_parent']=null,_0x2a3c81['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0x2a3c81));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x1f87*-0x1+0x1d*-0xb5+-0xad*-0x4d)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x7ebaf4;const _0x2136be=this['_parent'];let _0x536ac9=this['localScale'],_0x46fbb5=_0x2136be;if(_0x46fbb5){for(;_0x46fbb5&&_0x46fbb5['scaleCompe'+'nsation'];)_0x46fbb5=_0x46fbb5['_parent'];_0x46fbb5&&(_0x46fbb5=_0x46fbb5['_parent'],_0x46fbb5&&(_0x7ebaf4=_0x46fbb5['worldTrans'+'form']['getScale'](),T_['mul2'](_0x7ebaf4,this['localScale']),_0x536ac9=T_));}Wd['setFromMat'+'4'](_0x2136be['worldTrans'+'form']),x_['mul2'](Wd,this['localRotat'+'ion']);let _0x1e51c7=_0x2136be['worldTrans'+'form'];_0x2136be['scaleCompe'+'nsation']&&(w_['mul2'](_0x7ebaf4,_0x2136be['getLocalSc'+'ale']()),v_['setTRS'](_0x2136be['worldTrans'+'form']['getTransla'+'tion'](Hd),Wd,w_),_0x1e51c7=v_),_0x1e51c7['transformP'+'oint'](this['localPosit'+'ion'],Hd),this['worldTrans'+'form']['setTRS'](Hd,x_,_0x536ac9);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(0xba8*-0x2+0x20d3+-0x4c1*0x2);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(-0x70d*0x1+-0xf6e+0x5*0x47f),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x42dc09=this['_children'];for(let _0x30c8c6=0x7b1*-0x1+0x2*-0x12c+0x1*0xa09,_0x3fd7b6=_0x42dc09['length'];_0x30c8c6<_0x3fd7b6;_0x30c8c6++)_0x42dc09[_0x30c8c6]['syncHierar'+'chy']();}['lookAt'](_0x37d064,_0x6b1a31,_0xa85dae,_0x4d7967=-0x126a+-0x787+0x19f1,_0x26f5a8=-0x2a1*0x8+-0x1*0xaae+0x161*0x17,_0x3da3a1=-0x2350+0x17cf+-0x9b*-0x13){if(_0x37d064 instanceof D)$d['copy'](_0x37d064),_0x6b1a31 instanceof D?tc['copy'](_0x6b1a31):tc['copy'](D['UP']);else{if(_0xa85dae===void(0x1072*-0x1+-0x1208+0x227a))return;$d['set'](_0x37d064,_0x6b1a31,_0xa85dae),tc['set'](_0x4d7967,_0x26f5a8,_0x3da3a1);}E_['setLookAt'](this['getPositio'+'n'](),$d,tc),as['setFromMat'+'4'](E_),this['setRotatio'+'n'](as);}['translate'](_0x496a7f,_0x1f6c4a,_0xb1c376){_0x496a7f instanceof D?rs['copy'](_0x496a7f):rs['set'](_0x496a7f,_0x1f6c4a,_0xb1c376),rs['add'](this['getPositio'+'n']()),this['setPositio'+'n'](rs);}['translateL'+'ocal'](_0x46f68c,_0x27a137,_0x28935a){_0x46f68c instanceof D?rs['copy'](_0x46f68c):rs['set'](_0x46f68c,_0x27a137,_0x28935a),this['localRotat'+'ion']['transformV'+'ector'](rs,rs),this['localPosit'+'ion']['add'](rs),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x446551,_0x28ed0f,_0x4eb04e){if(as['setFromEul'+'erAngles'](_0x446551,_0x28ed0f,_0x4eb04e),this['_parent']===null)this['localRotat'+'ion']['mul2'](as,this['localRotat'+'ion']);else{const _0x44dcf0=this['getRotatio'+'n'](),_0x1a6dfd=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x1a6dfd)['invert'](),as['mul2'](Ia,as),this['localRotat'+'ion']['mul2'](as,_0x44dcf0);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x282af,_0x5b6bce,_0x23baab){as['setFromEul'+'erAngles'](_0x282af,_0x5b6bce,_0x23baab),this['localRotat'+'ion']['mul'](as),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const yv=new Kt();function Qn(_0x455441){const _0xeca529=yv['get'](_0x455441);return w['assert'](_0xeca529),_0xeca529;}function xE(_0x291604,_0x29236a){w['assert'](_0x29236a),yv['get'](_0x291604,()=>_0x29236a);}class TE{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x448a67,_0x3a562f)=>{_0x3a562f['destroy']();}),this['cache']['clear']();}['incRef'](_0x1e2f3e){const _0x3de0b6=(this['cache']['get'](_0x1e2f3e)||0x1619*-0x1+0x21ff+-0xbe6)+(0x26d9+-0x1*0x13b4+-0x1324);this['cache']['set'](_0x1e2f3e,_0x3de0b6);}['decRef'](_0x1ef70a){if(_0x1ef70a){let _0x1edea0=this['cache']['get'](_0x1ef70a);_0x1edea0&&(_0x1edea0--,_0x1edea0===-0x794+0xa39+0x1*-0x2a5?(this['cache']['delete'](_0x1ef70a),_0x1ef70a['destroy']()):this['cache']['set'](_0x1ef70a,_0x1edea0));}}}class zi{static['incRef'](_0xeff760){this['cache']['incRef'](_0xeff760);}static['decRef'](_0x4e37d9){this['cache']['decRef'](_0x4e37d9);}static['destroy'](){this['cache']['destroy']();}}h(zi,'cache',new TE());let wE=-0x64d+-0x931+0xf7e;const EE=new De(),sc=new De(),Xd=new sp(),qd=new Set(),Rr=new Uint32Array(0x269b*0x1+0x1bcd+-0x25f*0x1c);class bE{constructor(_0x10232e){h(this,'vertexBuff'+'er',null),h(this,'_destroyVe'+'rtexBuffer',!(0x1f9b+0x1864+-0x37fe)),this['count']=_0x10232e;}['destroy'](){var _0x23b8c6;this['_destroyVe'+'rtexBuffer']&&((_0x23b8c6=this['vertexBuff'+'er'])==null||_0x23b8c6['destroy']()),this['vertexBuff'+'er']=null;}}class AE{constructor(){h(this,'map',new Map()),h(this,'meshMetaDa'+'ta',new Int32Array(-0x873*0x1+-0x12*-0xe9+-0x1*0x7eb));}['get'](_0x1fb831){return this['map']['get'](_0x1fb831)??this['map']['get'](null);}}class CE{constructor(){h(this,'shader'),h(this,'bindGroup',null),h(this,'uniformBuf'+'fer',null),h(this,'hashes');}['getBindGro'+'up'](_0x3a7136){if(!this['bindGroup']){const _0x476faf=this['shader'];w['assert'](_0x476faf);const _0x57a770=_0x476faf['meshBindGr'+'oupFormat'];w['assert'](_0x57a770),this['bindGroup']=new Up(_0x3a7136,_0x57a770),Ea['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x41bb95){if(!this['uniformBuf'+'fer']){const _0x2a79bf=this['shader'];w['assert'](_0x2a79bf);const _0x7182e=_0x2a79bf['meshUnifor'+'mBufferFor'+'mat'];w['assert'](_0x7182e),this['uniformBuf'+'fer']=new zp(_0x41bb95,_0x7182e,!(0xd85*-0x1+-0x171d+0x24a3));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x40470b,_0x53852c;(_0x40470b=this['bindGroup'])==null||_0x40470b['destroy'](),this['bindGroup']=null,(_0x53852c=this['uniformBuf'+'fer'])==null||_0x53852c['destroy'](),this['uniformBuf'+'fer']=null;}}const Jr=class Jr{constructor(_0x26200a,_0x261b0e,_0x5eb4a1=null){h(this,'castShadow',!(0x593+0x36a*-0x8+-0xfd*-0x16)),h(this,'shadowCasc'+'adeMask',Bw),h(this,'cull',!(-0x186*0x1+-0xd4f+0xed5)),h(this,'drawOrder',0x2*-0x88d+0x1f5d+-0xe43),h(this,'_drawBucke'+'t',0x1*-0x1fd5+-0x7b0+0x2804),h(this,'node'),h(this,'visible',!(-0x6dc*-0x2+0xd47+-0x1aff)),h(this,'visibleThi'+'sFrame',!(-0x2243+0x11d8+0x106c)),h(this,'flipFacesF'+'actor',0xe2*-0x18+-0xf2*-0x7+0xe93),h(this,'gsplatInst'+'ance',null),h(this,'id',wE++),h(this,'isVisibleF'+'unc',null),h(this,'instancing'+'Data',null),h(this,'indirectDa'+'ta',null),h(this,'parameters',{}),h(this,'pick',!(0x3b*-0x61+0x1db5+-0x75a)),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'transparen'+'t',!(-0x39b*0x1+0x1253+-0xeb7)),h(this,'_aabb',new De()),h(this,'_aabbVer',-(-0x18cd+-0xa1*0x35+0x3a23)),h(this,'_aabbMeshV'+'er',-(-0x3*0x7ee+-0xb*-0x251+-0x1b0)),h(this,'_customAab'+'b',null),h(this,'_updateAab'+'b',!(0xf8b+0xe9e+-0x1e29)),h(this,'_updateAab'+'bFunc',null),h(this,'_sortKeySh'+'adow',0x534+0x1982+-0x1eb6),h(this,'_sortKeyFo'+'rward',-0xf47+0x18d1+-0x98a),h(this,'_sortKeyDy'+'namic',-0x2ed*0x7+0x1*0x12df+0x19c),h(this,'_layer',Ky),h(this,'_material',null),h(this,'_skinInsta'+'nce',null),h(this,'_morphInst'+'ance',null),h(this,'_receiveSh'+'adow',!(-0x370*0xb+-0x1987+0x8d*0x73)),h(this,'_renderSty'+'le',un),h(this,'_screenSpa'+'ce',!(0x1*0x6ad+-0x25bd+0x2d3*0xb)),h(this,'_shaderCac'+'he',new Map()),h(this,'_shaderDef'+'s',Ss<<-0x515+0xc77+-0x752),h(this,'_calculate'+'SortDistan'+'ce',null);if(w['assert'](!(_0x26200a instanceof Ie),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x5eb4a1,this['_mesh']=_0x26200a,_0x26200a['incRefCoun'+'t'](),this['material']=_0x261b0e,_0x26200a['vertexBuff'+'er']){const _0x24552b=_0x26200a['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x24552b['hasUv0']?nm:-0xf2+0x45*-0x17+0x725,this['_shaderDef'+'s']|=_0x24552b['hasUv1']?dv:-0x941*0x2+0x41*0x3d+-0x305*-0x1,this['_shaderDef'+'s']|=_0x24552b['hasColor']?fv:-0x1208*-0x2+0x15e7*0x1+-0x39f7,this['_shaderDef'+'s']|=_0x24552b['hasTangent'+'s']?om:0x2*0x2+-0x3f8*-0x2+0x4*-0x1fd;}this['updateKey']();}set['drawBucket'](_0x599a80){this['_drawBucke'+'t']=Math['floor'](_0x599a80)&-0x20e1+-0x1*-0x987+0x1859,this['updateKey']();}get['drawBucket'](){return this['_drawBucke'+'t'];}set['renderStyl'+'e'](_0x2c2102){this['_renderSty'+'le']=_0x2c2102,this['mesh']['prepareRen'+'derState'](_0x2c2102);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x341a36){_0x341a36!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x341a36,_0x341a36&&_0x341a36['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0x20d1bd){this['_aabb']=_0x20d1bd;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x4a832f=this['_customAab'+'b'],_0x3ddc01=!!_0x4a832f;if(!_0x4a832f){if(_0x4a832f=EE,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x5facc4=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x5facc4);}const _0x1ed40d=this['mesh']['boneUsed'];let _0x5e90cc=!(0x3*0x1a7+0x2106*-0x1+-0x3*-0x95b);for(let _0x5ca012=-0x45*-0x8a+-0x1a65+-0xacd;_0x5ca012<this['mesh']['boneAabb']['length'];_0x5ca012++)_0x1ed40d[_0x5ca012]&&(sc['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0x5ca012],this['skinInstan'+'ce']['matrices'][_0x5ca012]),_0x5e90cc?(_0x5e90cc=!(0x61*0x3d+-0x571*0x1+-0x11ab),_0x4a832f['center']['copy'](sc['center']),_0x4a832f['halfExtent'+'s']['copy'](sc['halfExtent'+'s'])):_0x4a832f['add'](sc));_0x3ddc01=!(0x1b82*0x1+0x17ef+-0x3371);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x4a832f['center']['copy'](this['mesh']['aabb']['center']),_0x4a832f['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x4a832f['center']['set'](-0xf5a+0x24b7+-0x155d,0x2381+-0xa0b+0x2*-0xcbb,-0xeed+0x228a+-0x139d),_0x4a832f['halfExtent'+'s']['set'](-0x1cc*-0xd+-0x2412+0xcb6,0xdd*0x26+0x218a*0x1+0x8*-0x84b,-0x1009+0x1e*-0x5a+0x5*0x551)),this['mesh']&&this['mesh']['morph']){const _0x197044=this['mesh']['morph']['aabb'];_0x4a832f['_expand'](_0x197044['getMin'](),_0x197044['getMax']());}_0x3ddc01=!(-0x1315+-0xb*0x25+0x15*0xfc),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0x3ddc01&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x4a832f,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x234c5d=>{_0x234c5d['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x277e66,_0x29cfd0,_0xf9d661,_0x5ed3df,_0x439c3a,_0x29a321,_0xd3af64){var _0x5a6c76;const _0x14c2a5=this['_shaderDef'+'s'];Rr[-0x33f*0xa+-0x1c77*0x1+-0x144f*-0x3]=_0x277e66,Rr[-0x9b8+0x234f+0xccb*-0x2]=_0x29cfd0,Rr[0x1*-0x1e12+0x15d*0x4+-0x628*-0x4]=_0x14c2a5,Rr[0x1d03+-0xcf1+-0x100f*0x1]=_0x5ed3df['hash'];const _0x4ead75=By(Rr);let _0x3b5876=this['_shaderCac'+'he']['get'](_0x4ead75);if(!_0x3b5876){const _0x552f49=this['_material'];if(_0x3b5876=new CE(),_0x3b5876['shader']=_0x552f49['variants']['get'](_0x4ead75),_0x3b5876['hashes']=new Uint32Array(Rr),!_0x3b5876['shader']){Q['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x1ee506=_0x552f49['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0xf9d661,'objDefs':_0x14c2a5,'cameraShaderParams':_0x5ed3df,'pass':_0x277e66,'sortedLights':_0xd3af64,'viewUniformFormat':_0x439c3a,'viewBindGroupFormat':_0x29a321,'vertexFormat':(_0x5a6c76=this['mesh']['vertexBuff'+'er'])==null?void(-0x437+0x220b+-0x1dd4):_0x5a6c76['format']});Q['popGpuMark'+'er'](this['mesh']['device']),_0x552f49['variants']['set'](_0x4ead75,_0x1ee506),_0x3b5876['shader']=_0x1ee506;}this['_shaderCac'+'he']['set'](_0x4ead75,_0x3b5876);}return w['call'](()=>{IT['equals'](_0x3b5876['hashes'],Rr)||w['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x3b5876;}set['material'](_0x43d226){this['clearShade'+'rs']();const _0x47b735=this['_material'];_0x47b735&&_0x47b735['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x43d226,_0x43d226&&(_0x43d226['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x43d226['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}['_updateSha'+'derDefs'](_0x3141b4){_0x3141b4!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x3141b4,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x37436d){this['_calculate'+'SortDistan'+'ce']=_0x37436d;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0x2f7323){this['_receiveSh'+'adow']!==_0x2f7323&&(this['_receiveSh'+'adow']=_0x2f7323,this['_updateSha'+'derDefs'](_0x2f7323?this['_shaderDef'+'s']&~wh:this['_shaderDef'+'s']|wh));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x4793b9){this['_updateSha'+'derDefs'](_0x4793b9?this['_shaderDef'+'s']|qc:this['_shaderDef'+'s']&~qc);}get['batching'](){return(this['_shaderDef'+'s']&qc)!==0x1369+0x2*0xe6d+-0x3043;}set['skinInstan'+'ce'](_0x105a23){this['_skinInsta'+'nce']=_0x105a23,this['_updateSha'+'derDefs'](_0x105a23?this['_shaderDef'+'s']|nl:this['_shaderDef'+'s']&~nl),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x4e2319){var _0x208cef;(_0x208cef=this['_morphInst'+'ance'])==null||_0x208cef['destroy'](),this['_morphInst'+'ance']=_0x4e2319;let _0x3e326b=this['_shaderDef'+'s'];_0x3e326b=_0x4e2319&&_0x4e2319['morph']['morphPosit'+'ions']?_0x3e326b|ll:_0x3e326b&~ll,_0x3e326b=_0x4e2319&&_0x4e2319['morph']['morphNorma'+'ls']?_0x3e326b|cl:_0x3e326b&~cl,_0x3e326b=_0x4e2319&&_0x4e2319['morph']['intRenderF'+'ormat']?_0x3e326b|hl:_0x3e326b&~hl,this['_updateSha'+'derDefs'](_0x3e326b);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x1350ef){this['_screenSpa'+'ce']!==_0x1350ef&&(this['_screenSpa'+'ce']=_0x1350ef,this['_updateSha'+'derDefs'](_0x1350ef?this['_shaderDef'+'s']|Eh:this['_shaderDef'+'s']&~Eh));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x229216){this['_sortKeyFo'+'rward']=_0x229216;}get['key'](){return this['_sortKeyFo'+'rward'];}set['mask'](_0x35e222){const _0x4048fb=this['_shaderDef'+'s']&0x17795*-0x1+-0x1*-0x6376+0x2141e;this['_updateSha'+'derDefs'](_0x4048fb|_0x35e222<<0x176*-0x12+-0x25de+0x1*0x403a);}get['mask'](){return this['_shaderDef'+'s']>>-0x2*0x286+-0x748+0xc64;}set['instancing'+'Count'](_0x3d9a4b){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x3d9a4b);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:-0x399+-0x445+0x26*0x35;}['destroy'](){var _0x328d82,_0x4f6026,_0x21fa84;const _0x403b05=this['mesh'];_0x403b05&&(this['mesh']=null,_0x403b05['refCount']<0x1c5*-0xa+-0x2704+-0x1*-0x38b7&&_0x403b05['destroy']()),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0x147c+0x2*0x83b+-0x24f2],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0x3*-0x5b3+0x541+0xbd9],null),(_0x328d82=this['_skinInsta'+'nce'])==null||_0x328d82['destroy'](),this['_skinInsta'+'nce']=null,(_0x4f6026=this['morphInsta'+'nce'])==null||_0x4f6026['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0x21fa84=this['instancing'+'Data'])==null||_0x21fa84['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x32dd35,_0x21b6cc){if(_0x32dd35){for(let _0x28658f=-0xe7+0x22a1+0x2*-0x10dd;_0x28658f<_0x32dd35['length'];_0x28658f++){_0x32dd35[_0x28658f]['_renderSty'+'le']=_0x21b6cc;const _0x5a9517=_0x32dd35[_0x28658f]['mesh'];qd['has'](_0x5a9517)||(qd['add'](_0x5a9517),_0x5a9517['prepareRen'+'derState'](_0x21b6cc));}qd['clear']();}}['_isVisible'](_0x4f1b3f){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x4f1b3f):(Xd['center']=this['aabb']['center'],Xd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x4f1b3f['frustum']['containsSp'+'here'](Xd)>0x83*0x22+-0x1*0x158f+-0x3*-0x163):!(-0xda*0x1+0x6*0x161+-0x76b);}['updateKey'](){const {material:_0xb0b613}=this;this['_sortKeyFo'+'rward']=this['_drawBucke'+'t']<<0x1*0x1520+0x1786*0x1+0x11*-0x29f|(_0xb0b613['alphaToCov'+'erage']||_0xb0b613['alphaTest']?-0x6*0x5e36+0x37c2d1+-0x29*-0x413b:-0x1a9e+0x1c1c+-0x17e)|_0xb0b613['id']&0x5754db+0x5*0x46a51+0x1*-0x2d6871;}['setInstanc'+'ing'](_0xa60c29,_0x3d445f=!(0x1*0x467+-0xc2*-0x6+-0x8f2)){_0xa60c29?(this['instancing'+'Data']=new bE(_0xa60c29['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0xa60c29,_0xa60c29['format']['instancing']=!(-0x609+0x2*0x18e+0x1*0x2ed),this['cull']=_0x3d445f):(this['instancing'+'Data']=null,this['cull']=!(-0xeef+0x26f5+0x7b*-0x32)),this['_updateSha'+'derDefs'](_0xa60c29?this['_shaderDef'+'s']|ol:this['_shaderDef'+'s']&~ol);}['setIndirec'+'t'](_0x52a331,_0x2b64f2){this['_allocIndi'+'rectData'](),this['indirectDa'+'ta']['map']['set']((_0x52a331==null?void(0x7ef+-0x33e+-0x4b1*0x1):_0x52a331['camera'])??null,_0x2b64f2),this['mesh']['device']['mapsToClea'+'r']['add'](this['indirectDa'+'ta']['map']);}['getIndirec'+'tMetaData'](){var _0x1b164f;this['_allocIndi'+'rectData']();const _0x456ba6=(_0x1b164f=this['mesh'])==null?void(-0x1*0x313+-0x1*0x353+0x7*0xea):_0x1b164f['primitive'][this['renderStyl'+'e']],_0x529c07=this['indirectDa'+'ta']['meshMetaDa'+'ta'];return _0x529c07[-0x1*0xd3d+0x1b56+-0x9*0x191]=_0x456ba6['count'],_0x529c07[-0x8*0xd0+0x3bd*-0x9+-0x23b*-0x12]=_0x456ba6['base'],_0x529c07[0x5*0x50e+-0x106b+-0x8d9]=_0x456ba6['baseVertex'],_0x529c07;}['_allocIndi'+'rectData'](){this['indirectDa'+'ta']||(this['indirectDa'+'ta']=new AE());}['ensureMate'+'rial'](_0x281a12){this['material']||(w['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=Qn(_0x281a12));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x574f1c){return this['parameters'][_0x574f1c];}['setParamet'+'er'](_0x3c2369,_0x1a01bb,_0x4c0d78=0x1914b42c*-0x5+0x2b4bd*-0x97cb+0x3182851ba){const _0x4b4e3f=this['parameters'][_0x3c2369];_0x4b4e3f?(_0x4b4e3f['data']=_0x1a01bb,_0x4b4e3f['passFlags']=_0x4c0d78):this['parameters'][_0x3c2369]={'scopeId':null,'data':_0x1a01bb,'passFlags':_0x4c0d78};}['setRealtim'+'eLightmap'](_0x2d9260,_0x44e8e5){const _0x46a2df=this['getParamet'+'er'](_0x2d9260);_0x46a2df!==_0x44e8e5&&(_0x46a2df&&zi['decRef'](_0x46a2df['data']),_0x44e8e5?(zi['incRef'](_0x44e8e5),this['setParamet'+'er'](_0x2d9260,_0x44e8e5)):this['deletePara'+'meter'](_0x2d9260));}['deletePara'+'meter'](_0x316ba7){this['parameters'][_0x316ba7]&&delete this['parameters'][_0x316ba7];}['setParamet'+'ers'](_0x77e106,_0x3e7da6){const _0x362499=this['parameters'];for(const _0x52c156 in _0x362499){const _0x1e36fd=_0x362499[_0x52c156];_0x1e36fd['passFlags']&_0x3e7da6&&(_0x1e36fd['scopeId']||(_0x1e36fd['scopeId']=_0x77e106['scope']['resolve'](_0x52c156)),_0x1e36fd['scopeId']['setValue'](_0x1e36fd['data']));}}['setLightma'+'pped'](_0x415ec0){_0x415ec0?this['mask']=(this['mask']|di)&-(0x4e5+0x10*-0xe5+-0x1*-0x971):(this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0xdb*0x15+0x1e5d+-0x8a*0x17],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0x260e+0x1e3b+0x29c*0x3],null),this['_shaderDef'+'s']&=-(-0x9b0+0x17fb+0x5*0x7e),this['mask']=(this['mask']|Ss)&-(0x13ad+-0x851*-0x3+-0x2c99));}['setCustomA'+'abb'](_0x28678f){_0x28678f?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0x28678f):this['_customAab'+'b']=_0x28678f['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(-0x1397+-0x1435+0x27cd)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};h(Jr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let He=Jr;const PE=[-0x1*0x94f+-0x2*0x11e+0x3d9*0x3,0x610*0x2+0x10*0x19d+-0x53*0x75,-0xd*-0x1ae+-0x1eaa+0x8d7,0x26c2+0xe3+-0x49*0x8b,-0xddd+-0xbac*0x1+0x198c,0xa*-0x243+-0x7c6*0x3+0x2df1],ME=[-0x1*-0xe3a+-0xcb5+-0x185*0x1,-0x2*-0x42d+-0x1*-0x114a+-0x1*0x19a3,-0x2682+0x3ad*0x2+0x1f2b,0x1df5+-0x207*-0x9+-0x3034,0x603+0x171*0x1+-0x771,0x1de1*-0x1+0x1e2e+-0x4b],A_=new _i();function C_(_0x42e66d,_0x1e884e){if(_0x42e66d&&!_0x1e884e||!_0x42e66d&&_0x1e884e)return!(-0xeef+0x177b+0x9*-0xf3);if(_0x42e66d=_0x42e66d['data'],_0x1e884e=_0x1e884e['data'],_0x42e66d===_0x1e884e)return!(-0x1*-0x161+0x2e*-0xa0+0x31*0x8f);if(_0x42e66d instanceof Float32Array&&_0x1e884e instanceof Float32Array){if(_0x42e66d['length']!==_0x1e884e['length'])return!(-0x117*-0x21+0x1241*-0x1+0x3*-0x5e7);for(let _0x418359=0xcf2+-0x15*0xd6+0x49c;_0x418359<_0x42e66d['length'];_0x418359++)if(_0x42e66d[_0x418359]!==_0x1e884e[_0x418359])return!(-0x777*-0x1+-0x235*-0xe+-0x1*0x265c);return!(-0x48d+0x1e09+-0x197c);}return!(0x2608+-0x6ee*-0x1+-0x1*0x2cf5);}function DE(_0x210784,_0x41c720){for(const _0x3d852b in _0x210784)if(_0x210784['hasOwnProp'+'erty'](_0x3d852b)&&!C_(_0x210784[_0x3d852b],_0x41c720[_0x3d852b]))return!(-0xb67+-0x91*-0x10+0x14*0x1e);for(const _0x2827f3 in _0x41c720)if(_0x41c720['hasOwnProp'+'erty'](_0x2827f3)&&!C_(_0x41c720[_0x2827f3],_0x210784[_0x2827f3]))return!(0x1*0x6ff+0xe4*-0x1d+0x12d6);return!(0xfc*0x1+-0x97*-0x35+0x1*-0x203f);}function jd(_0x888224){return _0x888224['node']['worldTrans'+'form']['scaleSign'];}class IE{constructor(_0x211315,_0x10d3d8,_0x54a0f2){this['device']=_0x211315,this['rootNode']=_0x10d3d8,this['scene']=_0x54a0f2,this['_init']=!(0x1fa6+0x152f+-0x34d4),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=0x5c1*-0x2+-0x91e+0x30*0x6e,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x42aea9,_0x4edcad,_0x339094,_0x26b0d7,_0x357eec){if(_0x26b0d7===void(0x12c*0x4+-0x95c*0x4+0x20c0)&&(_0x26b0d7=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0x26b0d7]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x26b0d7+('\x20already\x20e'+'xists.'));return;}const _0x11faca=new St(_0x26b0d7,_0x42aea9,_0x4edcad,_0x339094,_0x357eec);return this['_batchGrou'+'ps'][_0x26b0d7]=_0x11faca,_0x11faca;}['removeGrou'+'p'](_0x32e81c){if(!this['_batchGrou'+'ps'][_0x32e81c]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x32e81c+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x4d5d3c=[];for(let _0x47b94c=-0x1d28+-0x25bf+0x42e7;_0x47b94c<this['_batchList']['length'];_0x47b94c++)this['_batchList'][_0x47b94c]['batchGroup'+'Id']===_0x32e81c?this['destroyBat'+'ch'](this['_batchList'][_0x47b94c]):_0x4d5d3c['push'](this['_batchList'][_0x47b94c]);this['_batchList']=_0x4d5d3c,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x32e81c),delete this['_batchGrou'+'ps'][_0x32e81c];}['markGroupD'+'irty'](_0x3b08e5){this['_dirtyGrou'+'ps']['indexOf'](_0x3b08e5)<0x76e*-0x4+-0x1*-0x33f+0x1a79&&this['_dirtyGrou'+'ps']['push'](_0x3b08e5);}['getGroupBy'+'Name'](_0x1327fc){const _0x420f3e=this['_batchGrou'+'ps'];for(const _0x3eb0a8 in _0x420f3e)if(_0x420f3e['hasOwnProp'+'erty'](_0x3eb0a8)&&_0x420f3e[_0x3eb0a8]['name']===_0x1327fc)return _0x420f3e[_0x3eb0a8];return null;}['getBatches'](_0x374ca6){const _0x1ce227=[],_0x39a5a3=this['_batchList']['length'];for(let _0xe85c73=0x1*-0x525+-0x26b3*0x1+0x2bd8;_0xe85c73<_0x39a5a3;_0xe85c73++){const _0x3a239d=this['_batchList'][_0xe85c73];_0x3a239d['batchGroup'+'Id']===_0x374ca6&&_0x1ce227['push'](_0x3a239d);}return _0x1ce227;}['_removeMod'+'elsFromBat'+'chGroup'](_0x30054a,_0x5a1a43){if(_0x30054a['enabled']){_0x30054a['model']&&_0x30054a['model']['batchGroup'+'Id']===_0x5a1a43&&(_0x30054a['model']['batchGroup'+'Id']=-(-0x195f+0x11*0x198+-0x1b8)),_0x30054a['render']&&_0x30054a['render']['batchGroup'+'Id']===_0x5a1a43&&(_0x30054a['render']['batchGroup'+'Id']=-(-0x39*-0x56+0x1*-0x1cc9+-0x9a4*-0x1)),_0x30054a['element']&&_0x30054a['element']['batchGroup'+'Id']===_0x5a1a43&&(_0x30054a['element']['batchGroup'+'Id']=-(-0x10c*-0x1d+0x25d7+0x7*-0x9be)),_0x30054a['sprite']&&_0x30054a['sprite']['batchGroup'+'Id']===_0x5a1a43&&(_0x30054a['sprite']['batchGroup'+'Id']=-(-0x21a*0x3+0x187c+-0x122d));for(let _0x2fa825=-0x995*-0x1+-0x1*-0x1da2+-0x1*0x2737;_0x2fa825<_0x30054a['_children']['length'];_0x2fa825++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x30054a['_children'][_0x2fa825],_0x5a1a43);}}['insert'](_0x4bdf02,_0x4ba06f,_0x37f2f8){const _0x2a3743=this['_batchGrou'+'ps'][_0x4ba06f];w['assert'](_0x2a3743,'Invalid\x20ba'+'tch\x20'+_0x4ba06f+'\x20insertion'),_0x2a3743&&_0x2a3743['_obj'][_0x4bdf02]['indexOf'](_0x37f2f8)<0x36*-0x45+0x238a+-0x14fc&&(_0x2a3743['_obj'][_0x4bdf02]['push'](_0x37f2f8),this['markGroupD'+'irty'](_0x4ba06f));}['remove'](_0x5ebb80,_0x53ded5,_0x2c83f4){const _0x48515f=this['_batchGrou'+'ps'][_0x53ded5];if(w['assert'](_0x48515f,'Invalid\x20ba'+'tch\x20'+_0x53ded5+'\x20insertion'),_0x48515f){const _0x4bef87=_0x48515f['_obj'][_0x5ebb80]['indexOf'](_0x2c83f4);_0x4bef87>=0x1f76+0x1*-0x2623+0x6ad&&(_0x48515f['_obj'][_0x5ebb80]['splice'](_0x4bef87,-0xf7f*-0x1+0x2336+0x76*-0x6e),this['markGroupD'+'irty'](_0x53ded5));}}['_extractRe'+'nder'](_0x57356b,_0x3dfc02,_0x32b2f3,_0x221c1c){return _0x57356b['render']&&(_0x3dfc02=_0x221c1c[_0x57356b['render']['batchGroup'+'Id']]=_0x3dfc02['concat'](_0x57356b['render']['meshInstan'+'ces']),_0x57356b['render']['removeFrom'+'Layers']()),_0x3dfc02;}['_extractMo'+'del'](_0x333100,_0x2a0e1f,_0xf6313,_0xa10f71){return _0x333100['model']&&_0x333100['model']['model']&&(_0x2a0e1f=_0xa10f71[_0x333100['model']['batchGroup'+'Id']]=_0x2a0e1f['concat'](_0x333100['model']['meshInstan'+'ces']),_0x333100['model']['removeMode'+'lFromLayer'+'s'](),_0x333100['model']['_batchGrou'+'p']=_0xf6313),_0x2a0e1f;}['_extractEl'+'ement'](_0x459855,_0x23514c,_0x4a73ec){if(!_0x459855['element'])return;let _0x212906=!(0x80b*0x1+0x3*0x8ad+-0x2211);_0x459855['element']['_text']&&_0x459855['element']['_text']['_model']['meshInstan'+'ces']['length']>-0x1212+-0x37*-0x7b+-0x85b?(_0x23514c['push'](_0x459855['element']['_text']['_model']['meshInstan'+'ces'][0x909+0x5cf*0x1+-0x1db*0x8]),_0x459855['element']['removeMode'+'lFromLayer'+'s'](_0x459855['element']['_text']['_model']),_0x212906=!(0x579+-0x1a3d+0x14c4)):_0x459855['element']['_image']&&(_0x23514c['push'](_0x459855['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x459855['element']['removeMode'+'lFromLayer'+'s'](_0x459855['element']['_image']['_renderabl'+'e']['model']),_0x459855['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x23514c['push'](_0x459855['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x459855['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x459855['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x459855['element']['_dirtifyMa'+'sk'](),_0x459855['element']['_onPrerend'+'er']())),_0x212906=!(0x56+-0xe98*0x2+0x1cda)),_0x212906&&(_0x4a73ec['_ui']=!(-0x1ef1*-0x1+-0xe5e+0x1093*-0x1),_0x459855['element']['_batchGrou'+'p']=_0x4a73ec);}['_collectAn'+'dRemoveMes'+'hInstances'](_0xdcecc9,_0x1016c7){for(let _0x463e48=-0x1*0x1687+0x48d*-0x4+0x28bb;_0x463e48<_0x1016c7['length'];_0x463e48++){const _0x25b100=_0x1016c7[_0x463e48],_0x2b33e0=this['_batchGrou'+'ps'][_0x25b100];if(!_0x2b33e0)continue;let _0x5a2c68=_0xdcecc9[_0x25b100];_0x5a2c68||(_0x5a2c68=_0xdcecc9[_0x25b100]=[]);for(let _0x4988ce=-0x24e3+-0x1ae9+0x3fcc;_0x4988ce<_0x2b33e0['_obj']['model']['length'];_0x4988ce++)_0x5a2c68=this['_extractMo'+'del'](_0x2b33e0['_obj']['model'][_0x4988ce],_0x5a2c68,_0x2b33e0,_0xdcecc9);for(let _0x21f67c=-0x13*-0x1b+0x1*0x73f+0x8*-0x128;_0x21f67c<_0x2b33e0['_obj']['render']['length'];_0x21f67c++)_0x5a2c68=this['_extractRe'+'nder'](_0x2b33e0['_obj']['render'][_0x21f67c],_0x5a2c68,_0x2b33e0,_0xdcecc9);for(let _0x42fd1d=-0x112a+-0x1*-0x1997+0x3*-0x2cf;_0x42fd1d<_0x2b33e0['_obj']['element']['length'];_0x42fd1d++)this['_extractEl'+'ement'](_0x2b33e0['_obj']['element'][_0x42fd1d],_0x5a2c68,_0x2b33e0);for(let _0xe9b67f=-0x1a64*0x1+-0x1b95+0x1*0x35f9;_0xe9b67f<_0x2b33e0['_obj']['sprite']['length'];_0xe9b67f++){const _0x38d848=_0x2b33e0['_obj']['sprite'][_0xe9b67f];_0x38d848['sprite']&&_0x38d848['sprite']['_meshInsta'+'nce']&&(_0x2b33e0['dynamic']||_0x38d848['sprite']['sprite']['_renderMod'+'e']===ci)&&(_0x5a2c68['push'](_0x38d848['sprite']['_meshInsta'+'nce']),_0x38d848['sprite']['removeMode'+'lFromLayer'+'s'](),_0x2b33e0['_sprite']=!(-0x229e+-0x17af+0x1*0x3a4d),_0x38d848['sprite']['_batchGrou'+'p']=_0x2b33e0);}}}['generate'](_0x513564){const _0xba07f8={};_0x513564||(_0x513564=Object['keys'](this['_batchGrou'+'ps']));const _0x47b445=[];for(let _0x4baa3b=-0x214*-0x2+-0xf2c*0x1+-0x3*-0x3ac;_0x4baa3b<this['_batchList']['length'];_0x4baa3b++){if(_0x513564['indexOf'](this['_batchList'][_0x4baa3b]['batchGroup'+'Id'])<0x125*0x3+0x35*0x45+-0x11b8){_0x47b445['push'](this['_batchList'][_0x4baa3b]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x4baa3b]);}if(this['_batchList']=_0x47b445,this['_collectAn'+'dRemoveMes'+'hInstances'](_0xba07f8,_0x513564),_0x513564===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=-0x26cb*0x1+-0x1b83+0x424e;else{const _0x3f8579=[];for(let _0x27b288=0x1ebf+-0x26f+-0x38a*0x8;_0x27b288<this['_dirtyGrou'+'ps']['length'];_0x27b288++)_0x513564['indexOf'](this['_dirtyGrou'+'ps'][_0x27b288])<0x1*-0xcad+0xe89+-0x1dc&&_0x3f8579['push'](this['_dirtyGrou'+'ps'][_0x27b288]);this['_dirtyGrou'+'ps']=_0x3f8579;}let _0x6087dc,_0x459680,_0x16d72a,_0x23a7c7;for(const _0x185c3c in _0xba07f8)if(_0xba07f8['hasOwnProp'+'erty'](_0x185c3c)){if(_0x6087dc=_0xba07f8[_0x185c3c],_0x16d72a=this['_batchGrou'+'ps'][_0x185c3c],!_0x16d72a){w['error']('batch\x20grou'+'p\x20'+_0x185c3c+'\x20not\x20found');continue;}_0x459680=this['prepare'](_0x6087dc,_0x16d72a['dynamic'],_0x16d72a['maxAabbSiz'+'e'],_0x16d72a['_ui']||_0x16d72a['_sprite']);for(let _0x217a7a=-0x11*0xb+0x1660+0x1*-0x15a5;_0x217a7a<_0x459680['length'];_0x217a7a++)_0x23a7c7=this['create'](_0x459680[_0x217a7a],_0x16d72a['dynamic'],parseInt(_0x185c3c,-0x317*0x5+0x1a1*-0xd+-0x1255*-0x2)),_0x23a7c7&&_0x23a7c7['addToLayer'+'s'](this['scene'],_0x16d72a['layers']);}}['prepare'](_0x454fca,_0x3b1171,_0x544a64=Number['POSITIVE_I'+'NFINITY'],_0x4bb0ee){if(_0x454fca['length']===-0x1*-0x6a1+0x1c37+0x116c*-0x2)return[];const _0x385799=_0x544a64*(-0x19c8+0xe+0x19ba+0.5),_0x50dcbe=-0x1*-0xa0f+0xe62*-0x2+0x16b5,_0x3ff01a=-0x1ae768cdf+0xa59e22a4+-0x1*-0x208d86a3a,_0x5298f7=new De(),_0x128994=new De();let _0x4c1246=null,_0x1a6f5d;const _0x2fd089=[];let _0x2cafd7=0xab3*-0x1+0x2228*0x1+0x5*-0x4b1;_0x4bb0ee&&_0x454fca['sort']((_0x34f1c3,_0x4f14bb)=>_0x34f1c3['drawOrder']-_0x4f14bb['drawOrder']);let _0x594670=_0x454fca,_0x186178;const _0x4d180d=_0x4bb0ee?function(_0x5aae65){_0x4c1246?_0x4c1246['add'](_0x5aae65['aabb']):_0x4c1246=_0x5aae65['aabb']['clone'](),_0x186178['push'](_0x5aae65);}:function(_0x438d6d){_0x186178['push'](_0x438d6d);};for(;_0x594670['length']>-0x2*-0xdbe+0x7cd+-0x2349;){_0x2fd089[_0x2cafd7]=[_0x594670[-0x1ddf+0x1e5c+-0x7d]],_0x186178=[];const _0xbd0f90=_0x594670[0x2464+0x315*-0x6+-0x11e6]['material'],_0x37c6f1=_0x594670[-0x1*-0x2519+-0x1*0x449+-0x7*0x4b0]['layer'],_0x35d34e=_0x594670[-0x18c8+-0x3f1+-0xab*-0x2b]['_shaderDef'+'s'],_0x4c5424=_0x594670[-0xdfb+-0x1*0x53+-0x727*-0x2]['parameters'],_0x3a18b8=_0x594670[-0x105a+-0x43*0x25+-0xd7*-0x1f]['stencilFro'+'nt'];let _0x582d5c=_0x594670[-0x20bb+0x2*0x30a+-0x1aa7*-0x1]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x4a1cc0=_0x594670[0x30c+-0x1*0x24cd+0x21c1]['drawOrder'];_0x5298f7['copy'](_0x594670[0x4*-0x73b+-0x2546+0x2*0x2119]['aabb']);const _0xd99ee=jd(_0x594670[-0x1e94+0x11*-0xa3+0x2967]),_0x5b003e=_0x594670[-0x2dd+-0x9bb*-0x3+0x14*-0x151]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x46f134=_0x594670[0x93*-0xe+0x1cc9*-0x1+-0x24d3*-0x1]['mesh']['primitive'][-0x1001+0x118e+-0x18d*0x1]['indexed'];_0x4c1246=null;for(let _0x24769c=0x25d2+0x148f*0x1+-0x3a60;_0x24769c<_0x594670['length'];_0x24769c++){const _0x215c73=_0x594670[_0x24769c];if(_0x3b1171&&_0x2fd089[_0x2cafd7]['length']>=_0x50dcbe){_0x186178=_0x186178['concat'](_0x594670['slice'](_0x24769c));break;}if(_0xbd0f90!==_0x215c73['material']||_0x37c6f1!==_0x215c73['layer']||_0x5b003e!==_0x215c73['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x46f134!==_0x215c73['mesh']['primitive'][-0x18de+0x22f4+-0x50b*0x2]['indexed']||_0x35d34e!==_0x215c73['_shaderDef'+'s']||_0x582d5c+_0x215c73['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x3ff01a){_0x4d180d(_0x215c73);continue;}if(_0x128994['copy'](_0x5298f7),_0x128994['add'](_0x215c73['aabb']),_0x128994['halfExtent'+'s']['x']>_0x385799||_0x128994['halfExtent'+'s']['y']>_0x385799||_0x128994['halfExtent'+'s']['z']>_0x385799){_0x4d180d(_0x215c73);continue;}if(_0x3a18b8&&(!(_0x1a6f5d=_0x215c73['stencilFro'+'nt'])||_0x3a18b8['func']!==_0x1a6f5d['func']||_0x3a18b8['zpass']!==_0x1a6f5d['zpass'])){_0x4d180d(_0x215c73);continue;}if(_0xd99ee!==jd(_0x215c73)){_0x4d180d(_0x215c73);continue;}if(!DE(_0x4c5424,_0x215c73['parameters'])){_0x4d180d(_0x215c73);continue;}if(_0x4bb0ee&&_0x4c1246&&_0x4c1246['intersects'](_0x215c73['aabb'])&&_0x215c73['drawOrder']!==_0x4a1cc0){_0x4d180d(_0x215c73);continue;}_0x5298f7['add'](_0x215c73['aabb']),_0x582d5c+=_0x215c73['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0x2fd089[_0x2cafd7]['push'](_0x215c73);}_0x2cafd7++,_0x594670=_0x186178;}return _0x2fd089;}['collectBat'+'chedMeshDa'+'ta'](_0x4d5338,_0x5cf312){let _0x45b4f9=null,_0x199531=0x220d+0x2169*0x1+-0x5*0xd7e,_0x2ff288=-0x7f9*0x2+0x12f3+-0x301*0x1,_0x9bd880=null;for(let _0x534b77=-0x423*0x5+0x51a*0x1+0x1*0xf95;_0x534b77<_0x4d5338['length'];_0x534b77++)if(_0x4d5338[_0x534b77]['visible']){const _0x15d18a=_0x4d5338[_0x534b77]['mesh'],_0x5aab25=_0x15d18a['vertexBuff'+'er']['numVertice'+'s'];if(_0x199531+=_0x5aab25,_0x15d18a['primitive'][0x1268+0x1bf0+-0x4*0xb96]['indexed'])_0x2ff288+=_0x15d18a['primitive'][0x1d80+0x24d6+-0x4256]['count'];else{const _0x2472b4=_0x15d18a['primitive'][-0x1*-0x25c9+-0x1*0x226d+-0x35c]['type'];(_0x2472b4===oa||_0x2472b4===Er)&&_0x15d18a['primitive'][0xf90+0xb*-0x9d+0x8d1*-0x1]['count']===-0x1a43+-0x252c+0x3f73&&(_0x2ff288+=0x233b+0x15*-0xb3+0x2*-0xa43);}if(!_0x45b4f9){_0x9bd880=_0x4d5338[_0x534b77]['material'],_0x45b4f9={};const _0x2df93e=_0x15d18a['vertexBuff'+'er']['format']['elements'];for(let _0x326677=0x3b*-0xb+-0x21ae+0x2437*0x1;_0x326677<_0x2df93e['length'];_0x326677++){const _0x4af605=_0x2df93e[_0x326677]['name'];_0x45b4f9[_0x4af605]={'numComponents':_0x2df93e[_0x326677]['numCompone'+'nts'],'dataType':_0x2df93e[_0x326677]['dataType'],'normalize':_0x2df93e[_0x326677]['normalize'],'count':0x0};}_0x5cf312&&(_0x45b4f9[us]={'numComponents':0x1,'dataType':Ve,'normalize':!(-0x227f+0xe80+0x1400),'count':0x0});}}return{'streams':_0x45b4f9,'batchNumVerts':_0x199531,'batchNumIndices':_0x2ff288,'material':_0x9bd880};}['create'](_0x1fcb2e,_0x5b12bb,_0x5a27fa){const _0x40803d=de();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(0xe22+0x1*0x1241+-0x2063*0x1));let _0x5bb4bb=null,_0x52b26b,_0x518083,_0x39badf,_0x49446d=null;const _0x12ad7a=this['collectBat'+'chedMeshDa'+'ta'](_0x1fcb2e,_0x5b12bb);if(_0x12ad7a['streams']){const _0x4673ea=_0x12ad7a['streams'];let _0x56ac7f=_0x12ad7a['material'];const _0x49e03b=_0x12ad7a['batchNumVe'+'rts'],_0x49c58d=_0x12ad7a['batchNumIn'+'dices'];_0x49446d=new g_(_0x1fcb2e,_0x5b12bb,_0x5a27fa),this['_batchList']['push'](_0x49446d);let _0x2dcdcc,_0xe1777d,_0x5740f1,_0x267bd5,_0x4b6e8b=0x5*0x37c+-0x44*-0xb+-0x15*0xf8,_0xce62c4=0x107*-0x11+0x2b*0x58+0x2af,_0x46617b;const _0x322d24=_0x49e03b<=-0xc797*0x1+0xadac+0x119ea?Uint16Array:Uint32Array,_0x42cb88=new _0x322d24(_0x49c58d);for(_0x52b26b in _0x4673ea)_0x5bb4bb=_0x4673ea[_0x52b26b],_0x5bb4bb['typeArrayT'+'ype']=wn[_0x5bb4bb['dataType']],_0x5bb4bb['elementByt'+'eSize']=No[_0x5bb4bb['dataType']],_0x5bb4bb['buffer']=new _0x5bb4bb['typeArrayT'+'ype'](_0x49e03b*_0x5bb4bb['numCompone'+'nts']);for(let _0x55ecc0=-0x18b6+0x5*-0x115+0xb*0x2bd;_0x55ecc0<_0x1fcb2e['length'];_0x55ecc0++)if(_0x1fcb2e[_0x55ecc0]['visible']){_0x518083=_0x1fcb2e[_0x55ecc0]['mesh'],_0x39badf=_0x518083['vertexBuff'+'er']['numVertice'+'s'],_0x5b12bb||(_0x46617b=_0x1fcb2e[_0x55ecc0]['node']['getWorldTr'+'ansform']());for(_0x52b26b in _0x4673ea)if(_0x52b26b!==us){_0x5bb4bb=_0x4673ea[_0x52b26b];const _0x2766d6=new _0x5bb4bb['typeArrayT'+'ype'](_0x5bb4bb['buffer']['buffer'],_0x5bb4bb['elementByt'+'eSize']*_0x5bb4bb['count']),_0x1097c4=_0x518083['getVertexS'+'tream'](_0x52b26b,_0x2766d6)*_0x5bb4bb['numCompone'+'nts'];if(_0x5bb4bb['count']+=_0x1097c4,!_0x5b12bb&&_0x5bb4bb['numCompone'+'nts']>=0x37*0x79+0x1*-0x1e5+-0x1817){if(_0x52b26b===Me){const _0x3628b6=_0x46617b['data'],_0x231e0a=_0x3628b6[-0x1*0xe81+-0x8d0+-0x1*-0x1751],_0x34c5a0=_0x3628b6[-0x9d1+0x1a4a+-0x1*0x1078],_0xb0add7=_0x3628b6[0x8*0x439+0x1a69*0x1+0x3c2f*-0x1],_0x5aa9ad=_0x3628b6[-0xe01+0xa4e+0x1*0x3b7],_0x5ce007=_0x3628b6[-0xf*0x59+-0x94b+0xe87],_0x421523=_0x3628b6[-0x315*-0xc+-0x157*-0x7+-0x2e57],_0x31457f=_0x3628b6[-0x1a60+0x168e*0x1+-0x1ed*-0x2],_0x1aa7e6=_0x3628b6[0x1c09+-0xa01*-0x1+-0x2601],_0x338711=_0x3628b6[0x2*0x830+-0x11eb+-0x195*-0x1],_0x26bdf2=_0x3628b6[-0x214*-0x7+0x24a8+-0x3328],_0x1dce4c=_0x3628b6[0x2b3*0x2+-0x5a8+0x4f],_0x530476=_0x3628b6[-0x305*-0x5+0x204b+-0x2f56];let _0x5ee5b5,_0x8bf8c3,_0x48dcdb;for(let _0x5eb10f=0x1*-0x1e4d+-0x1399+0x6*0x851;_0x5eb10f<_0x1097c4;_0x5eb10f+=_0x5bb4bb['numCompone'+'nts'])_0x5ee5b5=_0x2766d6[_0x5eb10f],_0x8bf8c3=_0x2766d6[_0x5eb10f+(-0x1*-0x1a50+-0x24a9+0xa5a*0x1)],_0x48dcdb=_0x2766d6[_0x5eb10f+(0x2362+0x4*-0x6e9+-0x2d*0x2c)],_0x2766d6[_0x5eb10f]=_0x5ee5b5*_0x231e0a+_0x8bf8c3*_0x5aa9ad+_0x48dcdb*_0x31457f+_0x26bdf2,_0x2766d6[_0x5eb10f+(0xd3*-0x25+-0x2394+-0x1085*-0x4)]=_0x5ee5b5*_0x34c5a0+_0x8bf8c3*_0x5ce007+_0x48dcdb*_0x1aa7e6+_0x1dce4c,_0x2766d6[_0x5eb10f+(0x1*0x26a9+-0x1aba+-0x2b*0x47)]=_0x5ee5b5*_0xb0add7+_0x8bf8c3*_0x421523+_0x48dcdb*_0x338711+_0x530476;}else{if(_0x52b26b===gs||_0x52b26b===yi){A_['invertMat4'](_0x46617b)['transpose']();const [_0x145073,_0x12b25c,_0x36f225,_0x46dea7,_0x1a4bce,_0x5be81b,_0x4eeff3,_0x100c3f,_0x214d9c]=A_['data'];let _0x27ad14,_0x4293f9,_0x523f86;for(let _0x2d5380=-0x23aa+-0x2*-0xd5d+0x8f0;_0x2d5380<_0x1097c4;_0x2d5380+=_0x5bb4bb['numCompone'+'nts'])_0x27ad14=_0x2766d6[_0x2d5380],_0x4293f9=_0x2766d6[_0x2d5380+(-0x1768+0x1e7f+-0x716)],_0x523f86=_0x2766d6[_0x2d5380+(-0x2050+0x12d+0x1f25)],_0x2766d6[_0x2d5380]=_0x27ad14*_0x145073+_0x4293f9*_0x46dea7+_0x523f86*_0x4eeff3,_0x2766d6[_0x2d5380+(-0x8de+0xc1*0x11+-0x2*0x1f9)]=_0x27ad14*_0x12b25c+_0x4293f9*_0x1a4bce+_0x523f86*_0x100c3f,_0x2766d6[_0x2d5380+(-0x12fe+-0x2dd*-0x1+0x1b*0x99)]=_0x27ad14*_0x36f225+_0x4293f9*_0x5be81b+_0x523f86*_0x214d9c;}}}}if(_0x5b12bb){_0x5bb4bb=_0x4673ea[us];for(let _0x2f86a2=-0x1a87+-0x29*0x5+0x1b54;_0x2f86a2<_0x39badf;_0x2f86a2++)_0x5bb4bb['buffer'][_0x5bb4bb['count']++]=_0x55ecc0;}if(_0x518083['primitive'][-0x1bda+-0x72*-0x31+0x8*0xc1]['indexed']){_0x2dcdcc=_0x518083['primitive'][0x1e98+-0x43c+-0x1a5c]['base'],_0xe1777d=_0x518083['primitive'][0x130*-0x8+-0x2497+-0x45*-0xab]['baseVertex']||-0x1439+-0x1563+0x299c,_0x5740f1=_0x518083['primitive'][-0xe98*-0x2+0x2*-0x535+-0x36*0x59]['count'];const _0x1fe7ae=_0x518083['indexBuffe'+'r'][0x1*-0xf4+-0x1*0x655+-0x1*-0x749]['getFormat']();_0x267bd5=new Sh[_0x1fe7ae](_0x518083['indexBuffe'+'r'][0xa11+-0x1*-0x1631+-0x2042]['storage']);}else{_0xe1777d=-0xb2*-0x31+0xd51+-0x2f63;const _0x59df89=_0x518083['primitive'][-0x1dd5+-0xd*0x101+-0xb*-0x3e6]['type'];if(_0x59df89===oa||_0x59df89===Er){if(_0x518083['primitive'][-0x1*-0x1e76+-0x1809+-0x66d]['count']===-0x20c+-0x10*0x1de+-0x124*-0x1c)_0x2dcdcc=0x7*-0x4af+0x11a2+0xf27,_0x5740f1=0xb*0xaf+0x1*-0x1e55+0x16d6*0x1,_0x267bd5=_0x59df89===oa?PE:ME;else{_0x5740f1=-0x434*-0x2+0x59*0x1+0xf9*-0x9;continue;}}}for(let _0x165059=-0xad1+0x3*-0x7c9+0xa2*0x36;_0x165059<_0x5740f1;_0x165059++)_0x42cb88[_0x165059+_0xce62c4]=_0x267bd5[_0x2dcdcc+_0x165059]+_0xe1777d+_0x4b6e8b;_0xce62c4+=_0x5740f1,_0x4b6e8b+=_0x39badf;}_0x518083=new Ge(this['device']);for(_0x52b26b in _0x4673ea)_0x5bb4bb=_0x4673ea[_0x52b26b],_0x518083['setVertexS'+'tream'](_0x52b26b,_0x5bb4bb['buffer'],_0x5bb4bb['numCompone'+'nts'],void(0xab7+0x1c61+0x342*-0xc),_0x5bb4bb['dataType'],_0x5bb4bb['normalize']);_0x42cb88['length']>-0x1c7c+-0xf9+-0x1*-0x1d75&&_0x518083['setIndices'](_0x42cb88),_0x518083['update'](js,!(-0x602+0x14*0x172+-0x16e5)),_0x5b12bb&&(_0x56ac7f=_0x56ac7f['clone'](),_0x56ac7f['update']());const _0x3e9418=new He(_0x518083,_0x56ac7f,this['rootNode']);_0x3e9418['castShadow']=_0x49446d['origMeshIn'+'stances'][-0x8f*-0x21+0x2573+-0x2*0x1bf1]['castShadow'],_0x3e9418['parameters']=_0x49446d['origMeshIn'+'stances'][-0x114c+-0x1e75+0x2fc1]['parameters'],_0x3e9418['layer']=_0x49446d['origMeshIn'+'stances'][-0x1ef2+-0x1*-0x2400+0x2*-0x287]['layer'],_0x3e9418['_shaderDef'+'s']=_0x49446d['origMeshIn'+'stances'][0x25*-0x1+-0xbf*0x1d+0x572*0x4]['_shaderDef'+'s'],_0x3e9418['batching']=!(0x21ed+0x4e9+-0x26d6),_0x3e9418['cull']=_0x49446d['origMeshIn'+'stances'][-0x138f+-0x186e+0x2bfd*0x1]['cull'];const _0x551dbb=this['_batchGrou'+'ps'][_0x5a27fa];if(_0x551dbb&&_0x551dbb['_ui']&&(_0x3e9418['cull']=!(0xac1+0x50f+-0xfcf*0x1)),_0x5b12bb){const _0x2405af=[];for(let _0x595509=-0x1df2+0x1b*0x127+0x1*-0x12b;_0x595509<_0x49446d['origMeshIn'+'stances']['length'];_0x595509++)_0x2405af['push'](_0x49446d['origMeshIn'+'stances'][_0x595509]['node']);_0x3e9418['skinInstan'+'ce']=new y_(this['device'],_0x2405af,this['rootNode']);}_0x3e9418['_updateAab'+'b']=!(-0x5*-0x5f+-0x80*0x47+0x21a6),_0x3e9418['drawOrder']=_0x49446d['origMeshIn'+'stances'][-0xc9*-0x5+-0x2239+-0x454*-0x7]['drawOrder'],_0x3e9418['stencilFro'+'nt']=_0x49446d['origMeshIn'+'stances'][0x4*-0x6ba+0x1069+0xa7f*0x1]['stencilFro'+'nt'],_0x3e9418['stencilBac'+'k']=_0x49446d['origMeshIn'+'stances'][0x16*-0x139+-0x35*0x5e+0x2e5c*0x1]['stencilBac'+'k'],_0x3e9418['flipFacesF'+'actor']=jd(_0x49446d['origMeshIn'+'stances'][-0xf52+-0xe*-0xce+0x40e]),_0x3e9418['castShadow']=_0x49446d['origMeshIn'+'stances'][0x2280+0x14c0+-0x3740]['castShadow'],_0x49446d['meshInstan'+'ce']=_0x3e9418,_0x49446d['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=de()-_0x40803d,_0x49446d;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>0x8c7+-0xfb1+-0x6ea*-0x1&&this['generate'](this['_dirtyGrou'+'ps']);const _0x532233=de();for(let _0x3aa4f5=-0x17*-0x4f+0x2*0x89e+-0x1855;_0x3aa4f5<this['_batchList']['length'];_0x3aa4f5++)this['_batchList'][_0x3aa4f5]['dynamic']&&this['_batchList'][_0x3aa4f5]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=de()-_0x532233;}['clone'](_0x33e000,_0x4cd054){const _0x37c25f=new g_(_0x4cd054,_0x33e000['dynamic'],_0x33e000['batchGroup'+'Id']);this['_batchList']['push'](_0x37c25f);const _0x33c073=[];for(let _0x5f1c02=0x17fd+0x13e6+0xf*-0x2ed;_0x5f1c02<_0x4cd054['length'];_0x5f1c02++)_0x33c073['push'](_0x4cd054[_0x5f1c02]['node']);return _0x37c25f['meshInstan'+'ce']=new He(_0x33e000['meshInstan'+'ce']['mesh'],_0x33e000['meshInstan'+'ce']['material'],_0x33e000['meshInstan'+'ce']['node']),_0x37c25f['meshInstan'+'ce']['_updateAab'+'b']=!(0x76c+0x1a7c+-0xb4d*0x3),_0x37c25f['meshInstan'+'ce']['parameters']=_0x4cd054[-0xf94+-0x1*0xdea+0x1d7e]['parameters'],_0x37c25f['meshInstan'+'ce']['cull']=_0x4cd054[0xede+-0xe5+-0x49*0x31]['cull'],_0x37c25f['meshInstan'+'ce']['layer']=_0x4cd054[-0x1286+0x4ef+0xd97]['layer'],_0x33e000['dynamic']&&(_0x37c25f['meshInstan'+'ce']['skinInstan'+'ce']=new y_(this['device'],_0x33c073,this['rootNode'])),_0x37c25f['meshInstan'+'ce']['castShadow']=_0x33e000['meshInstan'+'ce']['castShadow'],_0x37c25f;}['destroyBat'+'ch'](_0x2426e1){_0x2426e1['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x2426e1['batchGroup'+'Id']]['layers']);}}const P_='uSceneColo'+'rMap';class LE extends ys{constructor(){super(...arguments),h(this,'colorRende'+'rTarget',null),h(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0x1f7d21,_0x35e87b,_0x274e4d){if((_0x1f7d21==null?void(-0x1*0xc47+-0x1f76+0x2bbd*0x1):_0x1f7d21['colorBuffe'+'r']['format'])!==_0x274e4d)return!(-0xe*0x46+-0x11*0x207+0x1*0x264b);const _0x22c88c=(_0x35e87b==null?void(-0x1*-0x12b9+0x1*-0x921+-0x998):_0x35e87b['width'])||this['device']['width'],_0x4dded5=(_0x35e87b==null?void(-0x1fd3*0x1+-0x9c*-0x1f+0xcef):_0x35e87b['height'])||this['device']['height'];return!_0x1f7d21||_0x22c88c!==_0x1f7d21['width']||_0x4dded5!==_0x1f7d21['height'];}['allocateRe'+'nderTarget'](_0x1d461f,_0x7a2e3f,_0x4c148d,_0x17feda){const _0x23793c=new _e(_0x4c148d,{'name':P_,'format':_0x17feda,'width':_0x7a2e3f?_0x7a2e3f['colorBuffe'+'r']['width']:_0x4c148d['width'],'height':_0x7a2e3f?_0x7a2e3f['colorBuffe'+'r']['height']:_0x4c148d['height'],'mipmaps':!(-0x123f+-0x1336+0x2575),'minFilter':ma,'magFilter':vt,'addressU':ue,'addressV':ue});return _0x1d461f?(_0x1d461f['destroyFra'+'meBuffers'](),_0x1d461f['_colorBuff'+'er']=_0x23793c,_0x1d461f['_colorBuff'+'ers']=[_0x23793c]):_0x1d461f=new gt({'name':'ColorGrabR'+'T','colorBuffer':_0x23793c,'depth':!(0x56*0x42+-0x1*0x843+0x5*-0x2c8),'stencil':!(0x1cd*-0x2+0x1655+-0x66*0x2f),'autoResolve':!(-0x216b*0x1+0xfd2+0x119a)}),_0x1d461f;}['releaseRen'+'derTarget'](_0x4ab060){_0x4ab060&&(_0x4ab060['destroyTex'+'tureBuffer'+'s'](),_0x4ab060['destroy']());}['frameUpdat'+'e'](){const _0x561e4b=this['device'],_0x6ee03a=this['source'],_0x3413d7=(_0x6ee03a==null?void(-0x1*0x21a7+-0x1*-0xbdf+-0x2b9*-0x8):_0x6ee03a['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x6ee03a==null?void(0x2614+0x22f2+-0x2cf*0x1a):_0x6ee03a['colorBuffe'+'r'],_0x3413d7)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x6ee03a,_0x561e4b,_0x3413d7));const _0x21ee53=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x561e4b['scope']['resolve'](P_)['setValue'](_0x21ee53);}['execute'](){const _0x5683a6=this['device'];Q['pushGpuMar'+'ker'](_0x5683a6,'GRAB-COLOR');const _0x3590a1=this['source'],_0x3bc1b5=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x5683a6['isWebGPU']?(_0x5683a6['copyRender'+'Target'](_0x3590a1,this['colorRende'+'rTarget'],!(0xe6e+-0x357+-0xb17),!(-0x1*-0x250c+-0x1f*0xb7+-0xee2)),_0x5683a6['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x5683a6['copyRender'+'Target'](_0x3590a1,this['colorRende'+'rTarget'],!(-0x1*0xe59+-0xc78+0x1ad1),!(0x1*0x2196+0x1a05+-0x3b9a*0x1)),_0x5683a6['activeText'+'ure'](_0x5683a6['maxCombine'+'dTextures']-(-0x944+-0xa*-0x35b+-0x1849)),_0x5683a6['bindTextur'+'e'](_0x3bc1b5),_0x5683a6['gl']['generateMi'+'pmap'](_0x3bc1b5['impl']['_glTarget'])),Q['popGpuMark'+'er'](_0x5683a6);}}const M_='uSceneDept'+'hMap';class RE extends ys{constructor(_0x15d3e9,_0x55063b){super(_0x15d3e9),h(this,'depthRende'+'rTarget',null),h(this,'camera',null),this['camera']=_0x55063b;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x5ed3d5,_0x44d4f2){const _0x1c2039=(_0x44d4f2==null?void(0x1091+-0x2*-0x8a2+-0x21d5):_0x44d4f2['width'])||this['device']['width'],_0x2c14b1=(_0x44d4f2==null?void(0xf2b+0x8*-0x125+-0x1*0x603):_0x44d4f2['height'])||this['device']['height'];return!_0x5ed3d5||_0x1c2039!==_0x5ed3d5['width']||_0x2c14b1!==_0x5ed3d5['height'];}['allocateRe'+'nderTarget'](_0x3f77aa,_0x81cdac,_0x1e7065,_0x1905d1,_0x1db0f2){const _0x3cd457=new _e(_0x1e7065,{'name':M_,'format':_0x1905d1,'width':_0x81cdac?_0x81cdac['colorBuffe'+'r']['width']:_0x1e7065['width'],'height':_0x81cdac?_0x81cdac['colorBuffe'+'r']['height']:_0x1e7065['height'],'mipmaps':!(-0x947+0x4*-0x329+0x7a*0x2e),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});return _0x3f77aa?(_0x3f77aa['destroyFra'+'meBuffers'](),_0x1db0f2?_0x3f77aa['_depthBuff'+'er']=_0x3cd457:(_0x3f77aa['_colorBuff'+'er']=_0x3cd457,_0x3f77aa['_colorBuff'+'ers']=[_0x3cd457])):_0x3f77aa=new gt({'name':'DepthGrabR'+'T','colorBuffer':_0x1db0f2?null:_0x3cd457,'depthBuffer':_0x1db0f2?_0x3cd457:null,'depth':!_0x1db0f2,'stencil':_0x1e7065['supportsSt'+'encil'],'autoResolve':!(0x392+-0x8a6+-0x515*-0x1)}),_0x3f77aa;}['releaseRen'+'derTarget'](_0x28f2bf){_0x28f2bf&&(_0x28f2bf['destroyTex'+'tureBuffer'+'s'](),_0x28f2bf['destroy']());}['before'](){var _0x24b336,_0x410d4d;const _0x4411af=this['camera'],_0x27dc52=this['device'],_0x34e53c=(_0x4411af==null?void(0x97b+0x24a3+0x170f*-0x2):_0x4411af['renderTarg'+'et'])??_0x27dc52['backBuffer'];let _0x33068f=!(-0x1591*0x1+-0x6f3*0x4+0x315d),_0x256670=_0x34e53c['stencil']?sd:$i;_0x27dc52['isWebGPU']&&_0x34e53c['samples']>0xce*-0x30+-0xa09+0x30aa&&(_0x256670=Ji,_0x33068f=!(-0x2222+-0x2*0x593+0x2d49));const _0x216a5d=((_0x24b336=_0x4411af['renderTarg'+'et'])==null?void(-0x1747+0x2*0x756+0x89b*0x1):_0x24b336['depthBuffe'+'r'])??((_0x410d4d=_0x4411af['renderTarg'+'et'])==null?void(-0x2*0xceb+0x516+0x14c0):_0x410d4d['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x216a5d)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x4411af['renderTarg'+'et'],_0x27dc52,_0x256670,_0x33068f));const _0xde1523=_0x33068f?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x27dc52['scope']['resolve'](M_)['setValue'](_0xde1523);}['execute'](){const _0x164834=this['device'];if(Q['pushGpuMar'+'ker'](_0x164834,'GRAB-DEPTH'),_0x164834['isWebGL2']&&_0x164834['renderTarg'+'et']['samples']>-0x42c+0x1b12+-0x16e5){const _0x2d74a7=_0x164834['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0x223d0b=this['depthRende'+'rTarget'];_0x164834['renderTarg'+'et']=_0x223d0b,_0x164834['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x164834,_0x2d74a7,_0x223d0b['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x164834['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x164834['copyRender'+'Target'](_0x164834['renderTarg'+'et'],this['depthRende'+'rTarget'],!(0x2*-0x22a+0xe51*0x1+-0x9fc),!(-0x8cb*0x1+-0xaac*-0x1+-0x1e1));Q['popGpuMark'+'er'](_0x164834);}}class vv{constructor(){h(this,'_gammaCorr'+'ection',Xc),h(this,'_toneMappi'+'ng',sm),h(this,'_srgbRende'+'rTarget',!(0x5cb*0x1+-0x1b*0xbf+0xe5b)),h(this,'_ssaoEnabl'+'ed',!(0x17*-0x46+-0x1334*-0x2+-0x201d)),h(this,'_fog',Kn),h(this,'_sceneDept'+'hMapLinear',!(0x2*-0xdd3+-0x3+-0x1*-0x1baa)),h(this,'_hash'),h(this,'_defines',new Map()),h(this,'_definesDi'+'rty',!(-0x5*0x16b+0x1d7b*-0x1+0x2492));}get['hash'](){if(this['_hash']===void(-0x18f*0xd+-0x128b+0x1*0x26ce)){const _0x316ac4=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hi(_0x316ac4);}return this['_hash'];}get['defines'](){const _0x5d5418=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(0x5bf*-0x4+0xb*0x273+-0x3f4),_0x5d5418['clear'](),this['_sceneDept'+'hMapLinear']&&_0x5d5418['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(-0x80+0x2521*-0x1+-0x25a1*-0x1)),_0x5d5418['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x5d5418['set']('TONEMAP',ov[this['_toneMappi'+'ng']]),_0x5d5418['set']('GAMMA',Hw[this['shaderOutp'+'utGamma']])),_0x5d5418;}['markDirty'](){this['_hash']=void(0x2f*0x95+0x1b*0x35+-0x1*0x20f2),this['_definesDi'+'rty']=!(-0x246+-0x2183+0x23c9);}set['fog'](_0x4463d6){this['_fog']!==_0x4463d6&&(this['_fog']=_0x4463d6,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0x445a3a){this['_ssaoEnabl'+'ed']!==_0x445a3a&&(this['_ssaoEnabl'+'ed']=_0x445a3a,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x1f185d){this['_gammaCorr'+'ectionAssi'+'gned']=!(-0x1*-0x9ee+-0x1c1+-0x82d),this['_gammaCorr'+'ection']!==_0x1f185d&&(this['_gammaCorr'+'ection']=_0x1f185d,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x8f562e){this['_toneMappi'+'ng']!==_0x8f562e&&(this['_toneMappi'+'ng']=_0x8f562e,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0x203957){this['_srgbRende'+'rTarget']!==_0x203957&&(this['_srgbRende'+'rTarget']=_0x203957,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x4eb0c0){this['_sceneDept'+'hMapLinear']!==_0x4eb0c0&&(this['_sceneDept'+'hMapLinear']=_0x4eb0c0,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===Xc&&!this['_srgbRende'+'rTarget']?Xc:Ll;}}const La=new D(),ao=new D(),D_=new D(),I_=new te(),OE=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()];class Fl{constructor(){h(this,'shaderPass'+'Info',null),h(this,'renderPass'+'ColorGrab',null),h(this,'renderPass'+'DepthGrab',null),h(this,'fogParams',null),h(this,'shaderPara'+'ms',new vv()),h(this,'renderPass'+'es',[]),h(this,'jitter',0x138b+-0x266f+0x12e4),(this['_aspectRat'+'io']=(0x1*-0x96b+-0x209*-0x3+0x1b*0x20)/(-0x55b+-0x233+0x797),this['_aspectRat'+'ioMode']=hm,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new ie(0x101+-0xb0e+0xa0d+0.75,-0x105c+0xcfc+0x120*0x3+0.75,0x2*0x99b+-0x1f17+-0x1*-0xbe1+0.75,-0x1*0x3f+0x1f8a*0x1+0x59*-0x5a),this['_clearColo'+'rBuffer']=!(0x1c2b*-0x1+0x36*0x3d+0x1*0xf4d),this['_clearDept'+'h']=0x6aa+0x21*-0x33+-0x16,this['_clearDept'+'hBuffer']=!(-0x10d*0x1d+-0x130*-0xd+0xf09),this['_clearSten'+'cil']=0x12ac*0x2+-0x1*0x1993+-0x1*0xbc5,this['_clearSten'+'cilBuffer']=!(0xfb4+-0x1*0x1f4c+0x4*0x3e6),this['_cullFaces']=!(-0x1696+0x1*-0x845+0x1edb),this['_farClip']=-0x458+0x213f*-0x1+0x3*0xdd5,this['_flipFaces']=!(-0x6f3+-0x5d6*0x4+-0x2*-0xf26),this['_fov']=-0x1d9*0x1+-0x60c+-0x2*-0x409,this['_frustumCu'+'lling']=!(0x12d7*-0x1+0x3*0xd04+0x1435*-0x1),this['_horizonta'+'lFov']=!(-0x1f00+-0x1e14+0x3d15),this['_layers']=[er,ps,Kp,Il,Zp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=0x43d+0x11*0x22+-0x67f+0.1,this['_node']=null,this['_orthoHeig'+'ht']=-0x1*-0x258d+-0x3a9+0x26b*-0xe,this['_projectio'+'n']=ni,this['_rect']=new re(0x14c4+0x2*-0x1139+-0x67*-0x22,0x15fd+0xce*0x26+-0x3491,0x18*0x97+0xf45*0x1+-0x1d6c,0x2686+-0x2dd*-0x3+-0x2f1c),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new re(0x59c+-0x7*0x3a4+-0x350*-0x6,0x75+-0x11f6+0x1181,0x125e+0x1*0x148d+0x2*-0x1375,-0x2328+-0xe3b*-0x1+0x14ee),this['_scissorRe'+'ctClear']=!(-0x1235+-0x1e1d+-0x59*-0x8b),this['_aperture']=0x1fc3+-0x1b5*-0x3+-0x24d2,this['_shutter']=(-0x6d9*0x1+0x18c0+-0x1d*0x9e)/(0x2*-0x9de+0x2*-0xd8e+-0x10*-0x32c),this['_sensitivi'+'ty']=0x2688+0x18ae+0x2*-0x1da7,this['_projMat']=new te(),this['_projMatDi'+'rty']=!(-0x25fc+-0x1726+0xc3a*0x5),this['_projMatSk'+'ybox']=new te(),this['_viewMat']=new te(),this['_viewMatDi'+'rty']=!(0xb23+0x170b+-0x222e),this['_viewProjM'+'at']=new te(),this['_viewProjM'+'atDirty']=!(-0x41d*0x1+-0x78e+0xbab),this['_shaderMat'+'ricesVersi'+'on']=-0xea5*0x2+-0x198*0x2+0x207a,this['_viewProjI'+'nverse']=new te(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new te(),this['_jitters']=[0x1d8*0x7+-0x797+-0x1*0x551,0x2048+-0x15a+-0x25*0xd6,-0x25*-0xe8+0x1*0x1394+-0x351c,0x74*0x3e+-0x1791*-0x1+-0x33a9],this['frustum']=new yx(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0x3e2a7b,_0x407add;(_0x3e2a7b=this['renderPass'+'ColorGrab'])==null||_0x3e2a7b['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x407add=this['renderPass'+'DepthGrab'])==null||_0x407add['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=0x1562+0x2*0x81e+-0x259e;}['_storeShad'+'erMatrices'](_0x122faf,_0x3bccb7,_0x365f02,_0x28bf97){this['_shaderMat'+'ricesVersi'+'on']!==_0x28bf97&&(this['_shaderMat'+'ricesVersi'+'on']=_0x28bf97,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x122faf),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new te()),this['_viewProjC'+'urrent']['copy'](_0x122faf),this['_viewProjI'+'nverse']['invert'](_0x122faf),this['_jitters'][0x2*0x6e3+-0x113c+0x378]=this['_jitters'][0x2*0x115+0x2*0x111a+0x3a3*-0xa],this['_jitters'][-0x1ad1+-0x1b8+-0xcb*-0x24]=this['_jitters'][-0xd4f+0x10b0+-0x360],this['_jitters'][0x12c1*0x1+-0x844+-0xa7d]=_0x3bccb7,this['_jitters'][0x299+0x12bf+-0x9*0x25f]=_0x365f02);}get['fullSizeCl'+'earRect'](){const _0x47d1aa=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x47d1aa['x']===-0x1*0x24e5+-0x1*-0x1006+-0x19b*-0xd&&_0x47d1aa['y']===-0x22d4+-0x2fe+0x25d2&&_0x47d1aa['z']===-0x156+0xb1f+-0x2*0x4e4&&_0x47d1aa['w']===0xa2+-0xa24+0x983;}set['aspectRati'+'o'](_0x5493b5){this['_aspectRat'+'io']!==_0x5493b5&&(this['_aspectRat'+'io']=_0x5493b5,this['_projMatDi'+'rty']=!(0x1487+0x132f*-0x1+-0x158));}get['aspectRati'+'o'](){var _0x1572eb;return(_0x1572eb=this['xr'])!=null&&_0x1572eb['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x19a35f){this['_aspectRat'+'ioMode']!==_0x19a35f&&(this['_aspectRat'+'ioMode']=_0x19a35f,this['_projMatDi'+'rty']=!(-0x602*0x4+0x2383+-0xb7b));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x1c8d69){this['_calculate'+'Projection']=_0x1c8d69,this['_projMatDi'+'rty']=!(-0x1600+-0x1a*0x64+-0xab8*-0x3);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x4b5bb5){this['_calculate'+'Transform']=_0x4b5bb5;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x38724c){this['_clearColo'+'r']['copy'](_0x38724c);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0x37b9a6){this['_clearColo'+'rBuffer']=_0x37b9a6;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x2b4c20){this['_clearDept'+'h']=_0x2b4c20;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x22c3bf){this['_clearDept'+'hBuffer']=_0x22c3bf;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x5ca1b8){this['_clearSten'+'cil']=_0x5ca1b8;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x2d71d9){this['_clearSten'+'cilBuffer']=_0x2d71d9;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x13b1a3){this['_cullFaces']=_0x13b1a3;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x294e57){this['_farClip']!==_0x294e57&&(this['_farClip']=_0x294e57,this['_projMatDi'+'rty']=!(0x424*-0x1+0x3a6*-0x5+0x1662));}get['farClip'](){var _0x50b266;return(_0x50b266=this['xr'])!=null&&_0x50b266['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0xcd69fd){this['_flipFaces']=_0xcd69fd;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x12c65a){this['_fov']!==_0x12c65a&&(this['_fov']=_0x12c65a,this['_projMatDi'+'rty']=!(0x5*0x4b8+-0x1e*0xff+0x64a));}get['fov'](){var _0x2a44f3;return(_0x2a44f3=this['xr'])!=null&&_0x2a44f3['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x8450af){this['_frustumCu'+'lling']=_0x8450af;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x55b65e){this['_horizonta'+'lFov']!==_0x55b65e&&(this['_horizonta'+'lFov']=_0x55b65e,this['_projMatDi'+'rty']=!(-0xa41+-0x2f5+0xd36*0x1));}get['horizontal'+'Fov'](){var _0x521fff;return(_0x521fff=this['xr'])!=null&&_0x521fff['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x41988d){this['_layers']=_0x41988d['slice'](-0x12*0x1d+-0x46*-0x46+-0x111a),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x2956d3){this['_nearClip']!==_0x2956d3&&(this['_nearClip']=_0x2956d3,this['_projMatDi'+'rty']=!(-0x5*-0x146+-0x83*0x3d+0x1*0x18d9));}get['nearClip'](){var _0x48960e;return(_0x48960e=this['xr'])!=null&&_0x48960e['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x1997d2){this['_node']=_0x1997d2;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0x52d7db){this['_orthoHeig'+'ht']!==_0x52d7db&&(this['_orthoHeig'+'ht']=_0x52d7db,this['_projMatDi'+'rty']=!(0x1487+-0x1*0x10ed+-0x39a));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x41de72){this['_projectio'+'n']!==_0x41de72&&(this['_projectio'+'n']=_0x41de72,this['_projMatDi'+'rty']=!(-0x1da5*0x1+-0x2275*0x1+-0xcd2*-0x5));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x57ed38){this['_rect']['copy'](_0x57ed38);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x22fd33){this['_renderTar'+'get']=_0x22fd33;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x9e5b8c){this['_scissorRe'+'ct']['copy'](_0x9e5b8c);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0xdf0b18=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0xdf0b18)['invert'](),this['_viewMatDi'+'rty']=!(-0x1724+0x3*-0xcdf+0x3dc2);}return this['_viewMat'];}set['aperture'](_0x3eae63){this['_aperture']=_0x3eae63;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x18ad67){this['_sensitivi'+'ty']=_0x18ad67;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0xde20a3){this['_shutter']=_0xde20a3;}get['shutter'](){return this['_shutter'];}set['xr'](_0x4972aa){this['_xr']!==_0x4972aa&&(this['_xr']=_0x4972aa,this['_projMatDi'+'rty']=!(0x11bc+0x59*0x31+-0x22c5));}get['xr'](){return this['_xr'];}['clone'](){return new Fl()['copy'](this);}['copy'](_0x48a3f3){return this['_aspectRat'+'io']=_0x48a3f3['_aspectRat'+'io'],this['_farClip']=_0x48a3f3['_farClip'],this['_fov']=_0x48a3f3['_fov'],this['_horizonta'+'lFov']=_0x48a3f3['_horizonta'+'lFov'],this['_nearClip']=_0x48a3f3['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x48a3f3['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x48a3f3['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x48a3f3['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x48a3f3['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x48a3f3['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x48a3f3['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x48a3f3['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x48a3f3['calculateT'+'ransform'],this['clearColor']=_0x48a3f3['clearColor'],this['clearColor'+'Buffer']=_0x48a3f3['clearColor'+'Buffer'],this['clearDepth']=_0x48a3f3['clearDepth'],this['clearDepth'+'Buffer']=_0x48a3f3['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x48a3f3['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x48a3f3['clearStenc'+'ilBuffer'],this['cullFaces']=_0x48a3f3['cullFaces'],this['flipFaces']=_0x48a3f3['flipFaces'],this['frustumCul'+'ling']=_0x48a3f3['frustumCul'+'ling'],this['layers']=_0x48a3f3['layers'],this['orthoHeigh'+'t']=_0x48a3f3['orthoHeigh'+'t'],this['projection']=_0x48a3f3['projection'],this['rect']=_0x48a3f3['rect'],this['renderTarg'+'et']=_0x48a3f3['renderTarg'+'et'],this['scissorRec'+'t']=_0x48a3f3['scissorRec'+'t'],this['aperture']=_0x48a3f3['aperture'],this['shutter']=_0x48a3f3['shutter'],this['sensitivit'+'y']=_0x48a3f3['sensitivit'+'y'],this['shaderPass'+'Info']=_0x48a3f3['shaderPass'+'Info'],this['jitter']=_0x48a3f3['jitter'],this['_projMatDi'+'rty']=!(-0x6e*0x37+0x2604+-0xe62),this;}['_enableRen'+'derPassCol'+'orGrab'](_0x254a19,_0x321662){var _0x367a50;_0x321662?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new LE(_0x254a19)):((_0x367a50=this['renderPass'+'ColorGrab'])==null||_0x367a50['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x4c779b,_0x5258c3,_0x244639){var _0x2ea928;_0x244639?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new RE(_0x4c779b,this)):((_0x2ea928=this['renderPass'+'DepthGrab'])==null||_0x2ea928['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(-0x7ad+-0x1eee+0x269c));}['worldToScr'+'een'](_0x9a7451,_0x38a3f9,_0x34bd12,_0x248fc4=new D()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x9a7451,_0x248fc4);const _0x473d99=this['_viewProjM'+'at']['data'],_0x295275=_0x9a7451['x']*_0x473d99[0x796*0x1+-0x24f+-0x544]+_0x9a7451['y']*_0x473d99[-0x2*-0x2d8+-0x1d67*0x1+0x17be]+_0x9a7451['z']*_0x473d99[0x1982+0x31d*-0x6+-0x6c9]+(0x1*-0xef8+0x2*0x10bb+-0x127d)*_0x473d99[-0x209+-0x7*-0x3c1+-0x182f];_0x248fc4['x']=(_0x248fc4['x']/_0x295275+(-0x34*-0x29+-0xd*0x51+-0x436))*(-0x23e*-0x2+0x1015+-0x1491+0.5),_0x248fc4['y']=(0x135d+0x375+-0x16d1-_0x248fc4['y']/_0x295275)*(0x3a3*-0x1+-0x1*-0x1f10+-0x3b*0x77+0.5);const {x:_0x124700,y:_0x138d70,z:_0x14f263,w:_0x5b0ce5}=this['_rect'];return _0x248fc4['x']=_0x248fc4['x']*_0x14f263*_0x38a3f9+_0x124700*_0x38a3f9,_0x248fc4['y']=_0x248fc4['y']*_0x5b0ce5*_0x34bd12+(-0x2fd+-0x9*0x24f+-0x4c1*-0x5-_0x138d70-_0x5b0ce5)*_0x34bd12,_0x248fc4;}['screenToWo'+'rld'](_0x1f715c,_0x54608e,_0x564232,_0x197a4a,_0x257bd4,_0x4bbfeb=new D()){const {x:_0x2e2dce,y:_0x3ceef7,z:_0xbfbd8d,w:_0x5eb4cb}=this['_rect'],_0x462d9a=this['farClip']-this['nearClip'];if(La['set']((_0x1f715c-_0x2e2dce*_0x197a4a)/(_0xbfbd8d*_0x197a4a),0xa8*0x15+0x24aa+-0x25*0x15d-(_0x54608e-(0xf7f+-0x8ae*-0x3+0x14c4*-0x2-_0x3ceef7-_0x5eb4cb)*_0x257bd4)/(_0x5eb4cb*_0x257bd4),_0x564232/_0x462d9a),La['mulScalar'](0xcca*0x3+-0x1*-0x21e9+0x3*-0x1817),La['sub'](D['ONE']),this['_projectio'+'n']===ni){te['_getPerspe'+'ctiveHalfS'+'ize'](ao,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),ao['x']*=La['x'],ao['y']*=La['y'];const _0xa242b4=this['_node']['getWorldTr'+'ansform']();ao['z']=-this['nearClip'],_0xa242b4['transformP'+'oint'](ao,D_);const _0x5d9274=this['_node']['getPositio'+'n']();_0x4bbfeb['sub2'](D_,_0x5d9274),_0x4bbfeb['normalize'](),_0x4bbfeb['mulScalar'](_0x564232),_0x4bbfeb['add'](_0x5d9274);}else this['_updateVie'+'wProjMat'](),I_['copy'](this['_viewProjM'+'at'])['invert'](),I_['transformP'+'oint'](La,_0x4bbfeb);return _0x4bbfeb;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===ni)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x556417=this['_orthoHeig'+'ht'],_0x430d91=_0x556417*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x430d91,_0x430d91,-_0x556417,_0x556417,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(-0xa3*0x20+-0x969*0x1+0x3e*0x7b);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x184b8b=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(0x6ff+-0x16a0+-0x1005*-0x1)/this['_sensitivi'+'ty']);return(-0x4*0x940+-0x1*-0x22de+0x223)/(Math['pow'](-0x1b52+-0xbbc+0x2710,_0x184b8b)*(-0x1*-0x5cd+0x91f+-0xeeb+0.19999999999999996));}['getScreenS'+'ize'](_0x2a4f00){if(this['_projectio'+'n']===ni){const _0x17ddcc=this['_node']['getPositio'+'n']()['distance'](_0x2a4f00['center']);if(_0x17ddcc<_0x2a4f00['radius'])return-0x5b*-0x1f+0x1ee1+-0x29e5;const _0x449de8=Math['asin'](_0x2a4f00['radius']/_0x17ddcc),_0x5e7c90=Math['tan'](_0x449de8),_0x2e47c3=Math['tan'](this['fov']/(0x3*0x445+0x289*-0xf+0x193a)*Y['DEG_TO_RAD']);return Math['min'](_0x5e7c90/_0x2e47c3,0x1843+-0x1*0x2b3+-0x158f*0x1);}return Y['clamp'](_0x2a4f00['radius']/this['_orthoHeig'+'ht'],-0x1*-0x1a4d+0x7d*-0x1+-0x19d0,-0x50f*-0x5+-0x2311+0x9c7);}['getFrustum'+'Corners'](_0x521acb=this['nearClip'],_0x5366e=this['farClip']){const _0x2a237a=this['fov']*Math['PI']/(-0x18e5+-0x1756+0x30ef);let _0x4e9778,_0x594772;this['projection']===ni?this['horizontal'+'Fov']?(_0x4e9778=_0x521acb*Math['tan'](_0x2a237a/(-0x4e1*0x3+0x8c4+0x23*0x2b)),_0x594772=_0x4e9778/this['aspectRati'+'o']):(_0x594772=_0x521acb*Math['tan'](_0x2a237a/(-0x972+-0x23ed+0x2d61)),_0x4e9778=_0x594772*this['aspectRati'+'o']):(_0x594772=this['_orthoHeig'+'ht'],_0x4e9778=_0x594772*this['aspectRati'+'o']);const _0x4a3675=OE;return _0x4a3675[-0x24d*0x2+0x1486+-0x7f6*0x2]['x']=_0x4e9778,_0x4a3675[-0x15*0x85+0x130*-0x11+0x1f19]['y']=-_0x594772,_0x4a3675[-0x230f+0x4*-0x337+0x2feb]['z']=-_0x521acb,_0x4a3675[0x13d1+0x171*0xb+0x17*-0x18d]['x']=_0x4e9778,_0x4a3675[0x1*0x4c4+0x2fa*-0x8+0x130d]['y']=_0x594772,_0x4a3675[0xade+0x18a3+-0x2380]['z']=-_0x521acb,_0x4a3675[0xc*0x1ba+0x60*-0x33+-0x196]['x']=-_0x4e9778,_0x4a3675[-0x1056+-0xa3c+0x12*0x17a]['y']=_0x594772,_0x4a3675[0x147*0x2+0x1181*-0x1+0xef5]['z']=-_0x521acb,_0x4a3675[-0x2b*0xca+-0x36c+0x255d]['x']=-_0x4e9778,_0x4a3675[0x21b8+-0x34*0x1f+-0x923*0x3]['y']=-_0x594772,_0x4a3675[0x1*0x26aa+-0x53*-0x72+-0x4b9d]['z']=-_0x521acb,this['_projectio'+'n']===ni&&(this['horizontal'+'Fov']?(_0x4e9778=_0x5366e*Math['tan'](_0x2a237a/(-0x20c2+-0x1c42+0x3d06)),_0x594772=_0x4e9778/this['aspectRati'+'o']):(_0x594772=_0x5366e*Math['tan'](_0x2a237a/(0x10*-0xe2+-0x133d+-0x215f*-0x1)),_0x4e9778=_0x594772*this['aspectRati'+'o'])),_0x4a3675[-0x4*0x59d+0x3b0+0x12c8]['x']=_0x4e9778,_0x4a3675[0x37c*-0x4+-0x1*0xf71+0x1d65]['y']=-_0x594772,_0x4a3675[0x1845+-0xc98+0x5*-0x255]['z']=-_0x5366e,_0x4a3675[-0x24f*0x3+0x151e+-0xe2c]['x']=_0x4e9778,_0x4a3675[-0x6*0x443+-0x1741+0x30d8]['y']=_0x594772,_0x4a3675[-0x1*-0x21ce+0x5d5*-0x5+0x1*-0x4a0]['z']=-_0x5366e,_0x4a3675[0x1e6c+0x212a+0x10*-0x3f9]['x']=-_0x4e9778,_0x4a3675[-0x218d+-0x1cd*0x11+0x2*0x2018]['y']=_0x594772,_0x4a3675[0x22da+0xb*-0x19d+-0x1*0x1115]['z']=-_0x5366e,_0x4a3675[-0xa85+-0x21*0xc1+0x1*0x236d]['x']=-_0x4e9778,_0x4a3675[0x15af+-0x2fe*-0xd+-0x3c8e]['y']=-_0x594772,_0x4a3675[0x600*0x4+0x1*-0xe9+0x48*-0x52]['z']=-_0x5366e,_0x4a3675;}['setXrPrope'+'rties'](_0x1c7f29){Object['assign'](this['_xrPropert'+'ies'],_0x1c7f29),this['_projMatDi'+'rty']=!(-0x1c9e+0x1668+-0x1*-0x636);}}const L_=new te(),R_=new te(),O_=new te(),gr=class gr{static['create'](_0x232585,_0x576b55,_0x209b52){const _0x284e4f=new Fl();switch(_0x284e4f['node']=new Ie(_0x232585),_0x284e4f['aspectRati'+'o']=-0x16*0x49+-0x130e+0x1955,_0x284e4f['aspectRati'+'oMode']=lu,_0x284e4f['_scissorRe'+'ctClear']=!(-0x1a79+-0xc69+0x26e2),_0x576b55){case Ke:_0x284e4f['node']['setRotatio'+'n'](gr['pointLight'+'Rotations'][_0x209b52]),_0x284e4f['fov']=0x143c+0x324*-0x2+-0xd9a,_0x284e4f['projection']=ni;break;case Ze:_0x284e4f['projection']=ni;break;case ve:_0x284e4f['projection']=En;break;}return _0x284e4f;}static['evalSpotCo'+'okieMatrix'](_0x12f917){let _0x167f9e=gr['_spotCooki'+'eCamera'];_0x167f9e||(_0x167f9e=gr['create']('SpotCookie'+'Camera',Ze),gr['_spotCooki'+'eCamera']=_0x167f9e),_0x167f9e['fov']=_0x12f917['_outerCone'+'Angle']*(0x198+-0x421*-0x2+-0x9d8);const _0x538eb4=_0x167f9e['_node'];_0x538eb4['setPositio'+'n'](_0x12f917['_node']['getPositio'+'n']()),_0x538eb4['setRotatio'+'n'](_0x12f917['_node']['getRotatio'+'n']()),_0x538eb4['rotateLoca'+'l'](-(0x2080+0x1f1*0xf+0x5*-0xc41),-0x75*0x1+-0x1610+0x1685,-0xa0a+0x15e+0x8ac),L_['setTRS'](_0x538eb4['getPositio'+'n'](),_0x538eb4['getRotatio'+'n'](),D['ONE'])['invert'](),R_['mul2'](_0x167f9e['projection'+'Matrix'],L_);const _0x23c4cb=_0x12f917['cookieMatr'+'ix'],_0x4f157a=_0x12f917['atlasViewp'+'ort'];return O_['setViewpor'+'t'](_0x4f157a['x'],_0x4f157a['y'],_0x4f157a['z'],_0x4f157a['w']),_0x23c4cb['mul2'](O_,R_),_0x23c4cb;}};h(gr,'pointLight'+'Rotations',[new le()['setFromEul'+'erAngles'](0xd72+-0x262+-0xb10,0x125*0x7+0x23fc+-0x2ba5,0xe14+-0xfb9*0x2+-0x1*-0x1212),new le()['setFromEul'+'erAngles'](-0x905+-0xb*0x1a5+0x56c*0x5,-(-0x267d*0x1+-0x3b*0x65+0x3e1e),0xb59+0x1c45*0x1+-0x26ea),new le()['setFromEul'+'erAngles'](-0x1*0x1b5f+-0xa6*-0x21+0x653,-0x1e6c+-0x14c4+0x138*0x2a,0x4*-0x8d1+-0x149e+0x26e*0x17),new le()['setFromEul'+'erAngles'](-(0x8d*-0x9+0x92a+-0x3db),0x3*-0x425+0x359*-0x5+0x1d2c,0xbe9*-0x1+-0x125*-0x8+0x5*0x8d),new le()['setFromEul'+'erAngles'](0x247a+0x6f6+-0x2b70,0x16f8+-0x1*0x255b+0xf17,0x1fd9+0x33d*-0xb+0x47a),new le()['setFromEul'+'erAngles'](-0x169d*-0x1+0x265f+-0x2*0x1e7e,-0x244e+-0xa1c*0x1+-0x392*-0xd,-0xd10+0x2457*0x1+-0x1693)]),h(gr,'_spotCooki'+'eCamera',null);let Wn=gr;const vs=new D(),Or=new Float32Array(0x1*0x6eb+0x469*0x8+-0x2a2d),FE=new D(-(-0x371*-0x1+0x6*-0x301+0xe95+0.5),0x107*-0x1a+-0x1028+-0x5d*-0x76,0x1edc+-0x74e+-0x178e),NE=new D(0x1faa+0x1*-0xe9f+-0x110b,0x319+0x1*0xd49+0xe9*-0x12,0x15e7+0xcb5+-0x376*0xa+0.5),at={'POSITION_RANGE':0x0,'DIRECTION_FLAGS':0x1,'COLOR_ANGLES_BIAS':0x2,'PROJ_MAT_0':0x3,'ATLAS_VIEWPORT':0x3,'PROJ_MAT_1':0x4,'PROJ_MAT_2':0x5,'PROJ_MAT_3':0x6,'AREA_DATA_WIDTH':0x7,'AREA_DATA_HEIGHT':0x8,'COUNT':0x9},kE={'LIGHTSHAPE_PUNCTUAL':Ys+'u','LIGHTSHAPE_RECT':Zy+'u','LIGHTSHAPE_DISK':Qy+'u','LIGHTSHAPE_SPHERE':Jy+'u','LIGHT_COLOR_DIVIDER':$c+'.0'},F_=(_0x4d1009,_0x3fe19d)=>Object['keys'](_0x4d1009)['map'](_0x48933a=>'#define\x20{'+_0x3fe19d+_0x48933a+'}\x20'+_0x4d1009[_0x48933a])['join']('\x0a'),N_='\x0a\x0a\x20\x20\x20\x20'+F_(at,'CLUSTER_TE'+'XTURE_')+'\x0a\x20\x20\x20\x20'+F_(kE,'')+'\x0a';class UE{constructor(_0x4c9076){h(this,'areaLights'+'Enabled',!(-0x13d4+0x4ff+0x4f2*0x3)),(this['device']=_0x4c9076,Pe['get'](_0x4c9076,Fe)['set']('lightBuffe'+'rDefinesPS',N_),Pe['get'](_0x4c9076,it)['set']('lightBuffe'+'rDefinesPS',N_),this['cookiesEna'+'bled']=!(-0x23*0x2+-0x6bb*-0x3+-0x13ea*0x1),this['shadowsEna'+'bled']=!(0x1eb8+-0x19b0+-0xd*0x63),this['areaLights'+'Enabled']=!(-0x5dd*-0x3+-0x1a6b+0x8d5),this['maxLights']=-0x4*-0x6e1+-0x1cfb+0x276);const _0x2ea0bc=at['COUNT'];this['lightsFloa'+'t']=new Float32Array((-0xb6c+-0x1157+0x1cc7)*_0x2ea0bc*this['maxLights']),this['lightsUint']=new Uint32Array(this['lightsFloa'+'t']['buffer']),this['lightsText'+'ure']=this['createText'+'ure'](this['device'],_0x2ea0bc,this['maxLights'],Xt,'LightsText'+'ure'),this['_lightsTex'+'tureId']=this['device']['scope']['resolve']('lightsText'+'ure'),this['invMaxColo'+'rValue']=-0x1cad*-0x1+0xb60*-0x3+0x573,this['invMaxAtte'+'nuation']=-0x5da+-0x266+0x40*0x21,this['boundsMin']=new D(),this['boundsDelt'+'a']=new D();}['destroy'](){var _0x3b3d84;(_0x3b3d84=this['lightsText'+'ure'])==null||_0x3b3d84['destroy'](),this['lightsText'+'ure']=null;}['createText'+'ure'](_0x25dd2c,_0x5674c8,_0x1d0fd6,_0x56b391,_0x70b00c){return new _e(_0x25dd2c,{'name':_0x70b00c,'width':_0x5674c8,'height':_0x1d0fd6,'mipmaps':!(0x15f0+-0x218a+0x1*0xb9b),'format':_0x56b391,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1});}['setBounds'](_0x1b0e47,_0x3338bc){this['boundsMin']['copy'](_0x1b0e47),this['boundsDelt'+'a']['copy'](_0x3338bc);}['uploadText'+'ures'](){this['lightsText'+'ure']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ure']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'tureId']['setValue'](this['lightsText'+'ure']);}['getSpotDir'+'ection'](_0x5f456e,_0x417e49){_0x417e49['_node']['getWorldTr'+'ansform']()['getY'](_0x5f456e)['mulScalar'](-(-0xb80+-0x1693+-0x5ae*-0x6)),_0x5f456e['normalize']();}['getLightAr'+'eaSizes'](_0x57516f){const _0x19fefb=_0x57516f['_node']['getWorldTr'+'ansform']();return _0x19fefb['transformV'+'ector'](FE,vs),Or[0x6*-0x1b+0xa9b+-0x9f9]=vs['x'],Or[0x4d6+-0x1*-0x9b9+-0x19e*0x9]=vs['y'],Or[-0x1d06+0x235*-0x1+-0x2d7*-0xb]=vs['z'],_0x19fefb['transformV'+'ector'](NE,vs),Or[-0x1f81+0x358+-0x1c2c*-0x1]=vs['x'],Or[0x5*0xad+0x739*0x1+-0xa96]=vs['y'],Or[-0xe*0x96+0x1f91*-0x1+0x27ca]=vs['z'],Or;}['addLightDa'+'ta'](_0x52df51,_0x34d104){const _0x230a96=_0x52df51['_type']===Ze,_0x37ac3a=_0x52df51['atlasViewp'+'ortAllocat'+'ed'],_0x269aa3=this['cookiesEna'+'bled']&&!!_0x52df51['_cookie']&&_0x37ac3a,_0x10757e=this['areaLights'+'Enabled']&&_0x52df51['shape']!==Ys,_0x13d76a=this['shadowsEna'+'bled']&&_0x52df51['castShadow'+'s']&&_0x37ac3a,_0xe5970a=_0x52df51['_node']['getPositio'+'n']();let _0x4f6c2c=null,_0x3f8602=null;_0x230a96?_0x13d76a?_0x4f6c2c=_0x52df51['getRenderD'+'ata'](null,-0x1*0x2bf+0x192d+-0x166e)['shadowMatr'+'ix']:_0x269aa3&&(_0x4f6c2c=Wn['evalSpotCo'+'okieMatrix'](_0x52df51)):(_0x13d76a||_0x269aa3)&&(_0x3f8602=_0x52df51['atlasViewp'+'ort']);const _0x1fd60d=this['lightsFloa'+'t'],_0x59e2e7=this['lightsUint'],_0x561b10=_0x34d104*this['lightsText'+'ure']['width']*(0x10f*-0x12+-0x1857+0x2b69);_0x1fd60d[_0x561b10+(0xd61+-0x373*-0x4+-0x1b29)*at['POSITION_R'+'ANGE']+(0x1a*0x9c+-0x21cf+-0x5fd*-0x3)]=_0xe5970a['x'],_0x1fd60d[_0x561b10+(0x346+0x2270+-0x25b2)*at['POSITION_R'+'ANGE']+(0x10d4+-0x142e+0x35b*0x1)]=_0xe5970a['y'],_0x1fd60d[_0x561b10+(0x127+0x57*0x4c+-0x1af7)*at['POSITION_R'+'ANGE']+(-0xd79*0x1+-0x3f2+0x116d)]=_0xe5970a['z'],_0x1fd60d[_0x561b10+(-0x37*0xd+-0x1b14+0x1de3)*at['POSITION_R'+'ANGE']+(-0x1442+-0x8dd*0x1+0x1d22)]=_0x52df51['attenuatio'+'nEnd'];const _0x5f4887=_0x52df51['clusteredD'+'ata'];if(_0x59e2e7[_0x561b10+(0x1*-0x8ac+0x1fb5*0x1+-0x1*0x1705)*at['COLOR_ANGL'+'ES_BIAS']+(-0x1337*0x2+-0x1b59*0x1+-0x15ed*-0x3)]=_0x5f4887[-0xebc+-0x3*0x89+0x1057*0x1],_0x59e2e7[_0x561b10+(-0x184*-0x7+0x7*0x1f4+0x611*-0x4)*at['COLOR_ANGL'+'ES_BIAS']+(-0xb*0x147+-0x961+0x176f)]=_0x5f4887[-0x21d1+0x1eea+0xf8*0x3],_0x59e2e7[_0x561b10+(-0xf89+-0x1826+-0x1*-0x27b3)*at['COLOR_ANGL'+'ES_BIAS']+(0x105f*0x1+-0x1b7f+0xb22)]=_0x5f4887[-0xa*-0x22f+0x18b*0x6+0x2*-0xf8b],_0x52df51['castShadow'+'s']){const _0x1cd028=_0x52df51['getRenderD'+'ata'](null,-0x1*0x201b+0x1a2*-0xa+-0x1025*-0x3),_0x2d356b=_0x52df51['_getUnifor'+'mBiasValue'+'s'](_0x1cd028),_0xdbc6a2=Mn['float2Half'](_0x2d356b['bias']),_0x2f4dc5=Mn['float2Half'](_0x2d356b['normalBias']);_0x59e2e7[_0x561b10+(-0x174c+0x2287*-0x1+0x39d7)*at['COLOR_ANGL'+'ES_BIAS']+(-0x6*-0x248+0x14fd+0x132*-0x1d)]=_0xdbc6a2|_0x2f4dc5<<0x1927+0xf*0x40+-0x1cd7;}if(_0x230a96&&(this['getSpotDir'+'ection'](vs,_0x52df51),_0x1fd60d[_0x561b10+(-0x89e+0xe45+-0x5a3)*at['DIRECTION_'+'FLAGS']+(0xd7f*-0x1+0x2585*0x1+0x4b*-0x52)]=vs['x'],_0x1fd60d[_0x561b10+(0x1c03+-0x1*0x1832+-0x3cd)*at['DIRECTION_'+'FLAGS']+(-0x1992+-0xf*-0xd4+-0x5b*-0x25)]=vs['y'],_0x1fd60d[_0x561b10+(-0x5b2+-0x1*-0x176e+-0x11b8)*at['DIRECTION_'+'FLAGS']+(-0xbe*-0x31+0x2231+-0x1*0x468d)]=vs['z']),_0x59e2e7[_0x561b10+(0x2676+-0x7a*-0x2a+-0x3a76)*at['DIRECTION_'+'FLAGS']+(0x26*-0x75+0x2*0x398+0xa31)]=_0x52df51['getCluster'+'edFlags'](_0x13d76a,_0x269aa3),_0x4f6c2c){const _0x2ea0dd=_0x4f6c2c['data'];for(let _0x5df9f5=0x320*0x2+-0x28d*0xf+0x2003;_0x5df9f5<0x242e+-0x2*-0x326+-0x2*0x1535;_0x5df9f5++)_0x1fd60d[_0x561b10+(-0xd08+-0x16cb+0x1*0x23d7)*at['PROJ_MAT_0']+_0x5df9f5]=_0x2ea0dd[_0x5df9f5];}if(_0x3f8602&&(_0x1fd60d[_0x561b10+(-0x643*-0x1+0x23f6*-0x1+0x1db7*0x1)*at['ATLAS_VIEW'+'PORT']+(0x13df+0x1fb0+-0x338f)]=_0x3f8602['x'],_0x1fd60d[_0x561b10+(-0x1372*-0x2+0x979+-0x3059)*at['ATLAS_VIEW'+'PORT']+(-0x6e6*0x4+0x41*0x18+0x1*0x1581)]=_0x3f8602['y'],_0x1fd60d[_0x561b10+(-0x25ba+-0x10fc+0xaf2*0x5)*at['ATLAS_VIEW'+'PORT']+(0x2582+-0x1127+0x1*-0x1459)]=_0x3f8602['z']/(0xae4+-0x6df*-0x5+0x3*-0xf14)),_0x10757e){const _0x63819f=this['getLightAr'+'eaSizes'](_0x52df51);_0x1fd60d[_0x561b10+(0x3*0xbf2+-0x6*0x5db+-0x2*0x58)*at['AREA_DATA_'+'WIDTH']+(-0x21e3+-0x102+-0x22e5*-0x1)]=_0x63819f[0xf*-0x295+-0x1be*-0xe+0xe57],_0x1fd60d[_0x561b10+(0x431*-0x3+-0x7*0x487+0x2c48*0x1)*at['AREA_DATA_'+'WIDTH']+(0x865*0x3+-0x40e+-0x1520)]=_0x63819f[-0xa6f*-0x2+-0x1352+-0x18b],_0x1fd60d[_0x561b10+(0x1916+0x1*0x181d+-0x312f)*at['AREA_DATA_'+'WIDTH']+(-0x1ae3*0x1+-0x18e2+-0x4b5*-0xb)]=_0x63819f[-0x8dd*0x1+0xa30+-0x151],_0x1fd60d[_0x561b10+(-0x1431*0x1+0x2034+-0x1*0xbff)*at['AREA_DATA_'+'HEIGHT']+(0x3*0x33b+-0x13f2+0xa41)]=_0x63819f[0x166*-0xe+0x135*0x5+0x15b*0xa],_0x1fd60d[_0x561b10+(0xe3*0x20+0xca4+-0x2900*0x1)*at['AREA_DATA_'+'HEIGHT']+(-0x80d+-0x5*0x7c9+0x2efb)]=_0x63819f[-0xfbe+0x19ef+-0xa2d],_0x1fd60d[_0x561b10+(-0x2612+0x2*-0x121f+0x4a54)*at['AREA_DATA_'+'HEIGHT']+(-0x2260+0x2*-0x413+0x2a88)]=_0x63819f[-0x22a1+0xc4a+0x6c*0x35];}}}const ic=new D(),rc=new D(),ac=new D(),Yd=new De(),k_=-0x146f+0x187f+0xbf0;class U_{constructor(){this['light']=null,this['min']=new D(),this['max']=new D();}}class cu{constructor(_0x1a615e){h(this,'clusterTex'+'ture'),(this['device']=_0x1a615e,this['name']='Untitled',this['reportCoun'+'t']=-0xc4e+0x167+0xae7,this['boundsMin']=new D(),this['boundsMax']=new D(),this['boundsDelt'+'a']=new D(),this['_cells']=new D(-0x13b*0x7+-0x135*0xf+-0x1ab9*-0x1,-0xbb9+-0x2f4+0xeae*0x1,0x2*-0x92f+0x12e6+-0x87),this['_cellsLimi'+'t']=new D(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=-0xc*0x2e7+0x534+-0x21e*-0xe,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new U_()),this['lightsBuff'+'er']=new UE(_0x1a615e),this['registerUn'+'iforms'](_0x1a615e));}set['maxCellLig'+'htCount'](_0x386b24){_0x386b24!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x386b24,this['_cellsDirt'+'y']=!(0x1f+0x1c55*0x1+0x4be*-0x6));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x4f20ba){ic['copy'](_0x4f20ba)['floor'](),this['_cells']['equals'](ic)||(this['_cells']['copy'](ic),this['_cellsLimi'+'t']['copy'](ic)['sub'](D['ONE']),this['_cellsDirt'+'y']=!(0x16b5+-0x2a9*-0x2+-0x1c07));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x30c6e1){this['_clusterSk'+'ipId']=_0x30c6e1['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x30c6e1['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x30c6e1['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x30c6e1['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(0x7*-0x185+0x97c+0x12a),this['_clusterBo'+'undsMinId']=_0x30c6e1['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(0x1d*0xe5+-0x1cb9+0x1*0x2cb),this['_clusterBo'+'undsDeltaI'+'d']=_0x30c6e1['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(-0x836+-0x24e9+-0x35*-0xda),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x30c6e1['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(-0xad0+-0x27*-0xd+0x4*0x236),this['_clusterCe'+'llsDotId']=_0x30c6e1['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(0x1ddb+-0x19fc+0xd*-0x4c),this['_clusterCe'+'llsMaxId']=_0x30c6e1['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(0xf*-0x271+-0xddf+0x3281);}['updatePara'+'ms'](_0x5c0fc2){_0x5c0fc2&&(this['cells']=_0x5c0fc2['cells'],this['maxCellLig'+'htCount']=_0x5c0fc2['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x5c0fc2['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x5c0fc2['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x5c0fc2['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(-0xde0+0x332+0xaaf);const _0x2f8ce8=this['_cells']['x'],_0x42f5da=this['_cells']['y'],_0x253a86=this['_cells']['z'],_0x428d75=_0x2f8ce8*_0x42f5da*_0x253a86,_0x3e72ba=this['maxCellLig'+'htCount']*_0x428d75;let _0x276d8d=Math['ceil'](Math['sqrt'](_0x3e72ba));_0x276d8d=Y['roundUp'](_0x276d8d,this['maxCellLig'+'htCount']);const _0x2b41a3=Math['ceil'](_0x3e72ba/_0x276d8d);w['assert'](_0x276d8d<=k_&&_0x2b41a3<=k_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][0x21ea+0xf1f*-0x1+-0x1*0x12cb]=_0x2f8ce8,this['_clusterCe'+'llsMaxData'][-0x1f5f+-0xd*-0xcd+-0x3*-0x6fd]=_0x42f5da,this['_clusterCe'+'llsMaxData'][-0x17a1+-0x145f*0x1+0x2*0x1601]=_0x253a86,this['_clusterCe'+'llsDotData'][0x2de+0x1*0x10ab+-0x1389]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0x7cb*-0x5+0x1*-0x13fa+-0x12fc]=_0x2f8ce8*_0x253a86*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0x209+-0x1766*-0x1+0x1*-0x196d]=_0x2f8ce8*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x3e72ba),this['counts']=new Int32Array(_0x428d75),this['_clusterTe'+'xtureSizeD'+'ata'][-0xd6*0x2a+0x796+0x1b86]=_0x276d8d,this['_clusterTe'+'xtureSizeD'+'ata'][-0x2277+-0x609+0x1*0x2881]=(-0xd6a*0x2+-0x1*-0x667+-0xa37*-0x2)/_0x276d8d,this['_clusterTe'+'xtureSizeD'+'ata'][0x313*-0x1+0x1*0xda7+-0xa92]=(0xf*-0x94+-0x2a6*0xc+0x2875)/_0x2b41a3,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x276d8d,_0x2b41a3,Ep,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>0x1fa1+0x2c1+-0xd*0x2a5?-0x21c2+0x147c+0xd46:0x9f7*-0x3+-0x1*0x1581+0x3367*0x1),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x572211=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x25ea+-0x1*0x6f7+0x2ce1]=this['_cells']['x']/_0x572211['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x248b+-0x13de+-0x3*-0x12ce]=this['_cells']['y']/_0x572211['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x2*0x124c+-0x4f4+0x3*0xdda]=this['_cells']['z']/_0x572211['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][-0x1aa6+0x1dd6+-0x330]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][-0x13*-0xf9+-0x33*0x67+0x20b]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][0x1*-0x2ea+0x2449+0xd*-0x291]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][0x1a3*0xb+0xe6c+-0x206d]=_0x572211['x'],this['_clusterBo'+'undsDeltaD'+'ata'][0x6b*0xa+0x1a9f+-0x1ecc]=_0x572211['y'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x1*-0xd8d+0x7c7+-0x1552]=_0x572211['z'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']);}['evalLightC'+'ellMinMax'](_0x221d9c,_0x731f16,_0x53d5a9){_0x731f16['copy'](_0x221d9c['min']),_0x731f16['sub'](this['boundsMin']),_0x731f16['div'](this['boundsDelt'+'a']),_0x731f16['mul2'](_0x731f16,this['cells']),_0x731f16['floor'](),_0x53d5a9['copy'](_0x221d9c['max']),_0x53d5a9['sub'](this['boundsMin']),_0x53d5a9['div'](this['boundsDelt'+'a']),_0x53d5a9['mul2'](_0x53d5a9,this['cells']),_0x53d5a9['ceil'](),_0x731f16['max'](D['ZERO']),_0x53d5a9['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0x5e79fc){const _0x872429=this['lightsBuff'+'er']['maxLights'],_0x1efaea=this['_usedLight'+'s'];let _0x2ac76e=0xca9*-0x1+-0x3e9*-0x4+0x2fa*-0x1;_0x5e79fc['forEach'](_0xc960c1=>{const _0x2889e0=!!(_0xc960c1['mask']&(Ss|di)),_0x164ef8=_0xc960c1['type']===Ze&&_0xc960c1['_outerCone'+'Angle']===-0x21d9+0x136f+-0x9*-0x19a;if(_0xc960c1['enabled']&&_0xc960c1['type']!==ve&&_0xc960c1['visibleThi'+'sFrame']&&_0xc960c1['intensity']>-0x125d+0x1a42*-0x1+0x2c9f*0x1&&_0x2889e0&&!_0x164ef8){if(_0x2ac76e<_0x872429){let _0x4891cd;_0x2ac76e<_0x1efaea['length']?_0x4891cd=_0x1efaea[_0x2ac76e]:(_0x4891cd=new U_(),_0x1efaea['push'](_0x4891cd)),_0x4891cd['light']=_0xc960c1,_0xc960c1['getBoundin'+'gBox'](Yd),_0x4891cd['min']['copy'](Yd['getMin']()),_0x4891cd['max']['copy'](Yd['getMax']()),_0x2ac76e++;}else w['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x872429-(0xd*-0x83+-0x95f+-0x175*-0xb))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x1efaea['length']=_0x2ac76e;}['evaluateBo'+'unds'](){const _0x137e9c=this['_usedLight'+'s'],_0x49aabd=this['boundsMin'],_0x23ebc2=this['boundsMax'];if(_0x137e9c['length']>0x14e+0xb6d+-0xcba){_0x49aabd['copy'](_0x137e9c[-0x5a0+0x18ff+-0x4a*0x43]['min']),_0x23ebc2['copy'](_0x137e9c[0x22*-0xf1+-0x38*0xc+0x22a3]['max']);for(let _0x4d5260=0x4*0x3d6+0x3*0x72c+-0x35*0xb2;_0x4d5260<_0x137e9c['length'];_0x4d5260++)_0x49aabd['min'](_0x137e9c[_0x4d5260]['min']),_0x23ebc2['max'](_0x137e9c[_0x4d5260]['max']);}else _0x49aabd['set'](0x73b*-0x2+-0x709*0x1+0x1*0x157f,-0x9ed+0x2340+0x1*-0x1953,0x2229+-0x786*-0x1+-0x3*0xde5),_0x23ebc2['set'](-0xd22*0x2+-0x142+0x9*0x30f,0xc6e+0x1e7f+0x29*-0x10c,0x21e9+0x1d66*-0x1+-0x482);this['boundsDelt'+'a']['sub2'](_0x23ebc2,_0x49aabd),this['lightsBuff'+'er']['setBounds'](_0x49aabd,this['boundsDelt'+'a']);}['updateClus'+'ters'](_0x5a9bcf){this['counts']['fill'](0x20ba+0x96a+-0x2a24),this['clusters']['fill'](0x1815*0x1+0x1*-0xd1f+-0xaf6),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x5a9bcf?_0x5a9bcf['areaLights'+'Enabled']:!(-0x22a6+0xc62+-0x1*-0x1645);const _0x447611=this['_cells']['x'],_0x53b154=this['_cells']['z'],_0x2b2cab=this['counts'],_0x299848=this['_maxCellLi'+'ghtCount'],_0x39380b=this['clusters'],_0x2cad0d=this['maxCellLig'+'htCount'];let _0x166c61=!(0xb83+0x1369+-0x1*0x1eeb);const _0x22c613=this['_usedLight'+'s'];for(let _0xc4ff18=-0x1eb7+0x143+0x1d75;_0xc4ff18<_0x22c613['length'];_0xc4ff18++){const _0x1cbdaa=_0x22c613[_0xc4ff18],_0x15b1dd=_0x1cbdaa['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x15b1dd,_0xc4ff18),this['evalLightC'+'ellMinMax'](_0x1cbdaa,rc,ac);const _0x5a32b1=rc['x'],_0x3d4ae3=ac['x'],_0x4d1665=rc['y'],_0x57b9e7=ac['y'],_0x201129=rc['z'],_0x344c89=ac['z'];for(let _0x1b26df=_0x5a32b1;_0x1b26df<=_0x3d4ae3;_0x1b26df++)for(let _0x230c7c=_0x201129;_0x230c7c<=_0x344c89;_0x230c7c++)for(let _0x6dc5dd=_0x4d1665;_0x6dc5dd<=_0x57b9e7;_0x6dc5dd++){const _0xfdb637=_0x1b26df+_0x447611*(_0x230c7c+_0x6dc5dd*_0x53b154),_0x56f0ce=_0x2b2cab[_0xfdb637];_0x56f0ce<_0x299848?(_0x39380b[_0x2cad0d*_0xfdb637+_0x56f0ce]=_0xc4ff18,_0x2b2cab[_0xfdb637]=_0x56f0ce+(-0xec6+0x92d+0x59a)):_0x166c61=!(0x2306+0x9*0x247+0x3d*-0xe9);}}_0x166c61&&this['reportCoun'+'t']<-0x1f*-0x89+-0x135d*-0x1+0x1*-0x23ef&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===0x1e0a+-0x500+-0x1906*0x1?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x2e8688,_0xbf06da=null){this['updatePara'+'ms'](_0xbf06da),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x2e8688),this['evaluateBo'+'unds'](),this['updateClus'+'ters'](_0xbf06da),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const B_=0x1b12*0x1+0x1be*-0x2+-0x1794+0.39996322972865306,Nl={'circlePoint'(_0x5db8d3){const _0x460073=Math['sqrt'](Math['random']()),_0x49af67=Math['random']()*(-0x1806+0x119*-0x1c+0x36c4*0x1)*Math['PI'];_0x5db8d3['x']=_0x460073*Math['cos'](_0x49af67),_0x5db8d3['y']=_0x460073*Math['sin'](_0x49af67);},'circlePointDeterministic'(_0x464c06,_0x5793f1,_0x4fb62c){const _0x44175b=_0x5793f1*B_,_0x3e63e4=Math['sqrt'](_0x5793f1)/Math['sqrt'](_0x4fb62c);_0x464c06['x']=_0x3e63e4*Math['cos'](_0x44175b),_0x464c06['y']=_0x3e63e4*Math['sin'](_0x44175b);},'spherePointDeterministic'(_0x511951,_0x762ea9,_0x332ceb,_0x240706=0x356+-0x47*-0x60+0x1df6*-0x1,_0x272141=0x89*-0x45+0x9e3*0x1+0x1b0b){_0x240706=0x3*0x9d+0x77f+0x1*-0x955-(0x42a*0x4+0x12c7+-0x236d)*_0x240706,_0x272141=-0x2668+0x1335+0x1334-(0x470*-0x3+0x144e+-0x6fc)*_0x272141;const _0x2cb5c3=Y['lerp'](_0x240706,_0x272141,_0x762ea9/_0x332ceb),_0x3f59cd=Math['sqrt'](-0x1037+0x30d+0xd2b-_0x2cb5c3*_0x2cb5c3),_0x5c1cc9=B_*_0x762ea9;_0x511951['x']=Math['cos'](_0x5c1cc9)*_0x3f59cd,_0x511951['y']=_0x2cb5c3,_0x511951['z']=Math['sin'](_0x5c1cc9)*_0x3f59cd;},'radicalInverse'(_0x48b4a3){let _0x35233b=(_0x48b4a3<<0x1bb7+-0x21d*-0x5+-0x2638|_0x48b4a3>>>-0x1f11+0x7*-0x479+-0x4a*-0xd8)>>>-0x1c*-0x53+-0x11*0xd5+0x511;return _0x35233b=((_0x35233b&0x477abd8b+0xc61c2d1+-0x3*-0x7d9c53)<<0x1*0x39b+-0xe3*0x16+0xfe8|(_0x35233b&0x3659*-0x38de5+0x151c55bf2+0x1a0ff155*0x1)>>>0xe25+0x11*0x1bd+-0x2bb1)>>>-0x1cdf+0x1e1f+-0x140,_0x35233b=((_0x35233b&-0x176accbb+0x7119462+0x438c6b8c)<<0xe62*0x2+0x4b1*0x8+-0x424a|(_0x35233b&0x2479*-0x2d175+0xa4437*0x1e5f+-0x4378150)>>>-0x3*0x3cb+0x18ee+-0xd8b)>>>-0x1ab*-0x9+-0x3*-0x3ef+-0x108*0x1a,_0x35233b=((_0x35233b&0xc2b44f0+-0x3da20f7+0x6bdeb16)<<-0x1c2d+-0x1*0x1bad+0x37de*0x1|(_0x35233b&-0x25*-0x10604b+-0xd6b7faa5*-0x1+-0x2*-0xbed85ba)>>>-0xdbd*-0x1+-0x4*-0xa3+0x1045*-0x1)>>>-0x198d*0x1+0x2444+-0xab7,_0x35233b=((_0x35233b&-0x6bd6*0x25a+0x15807c3+0xa48e78)<<-0x1e20+0x17b+0x1cad|(_0x35233b&0x10879dff3+0x114c5fbe7*-0x1+0x10b4d1af4)>>>-0x1*-0x6fa+0x10cc+-0x17be)>>>-0x191*-0x14+0xa2*-0x35+0x236*0x1,_0x35233b*(0x209c+0xa5f+-0x2afb+2.3283064365386963e-10);}},BE={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP','xy':'unpackNorm'+'alXY','xyz':'unpackNorm'+'alXYZ'},zE={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Tr{static['decodeFunc'](_0x2cddb3){return BE[_0x2cddb3]??'decodeGamm'+'a';}static['encodeFunc'](_0x3e9739){return zE[_0x3e9739]??'encodeGamm'+'a';}}const z_=_0x3212bf=>{switch(_0x3212bf){case tu:return'Cubemap';case Gx:return'Octahedral';default:return'Equirect';}},nc=(_0x12d746,_0x57ff87,_0x117bc8)=>{if(_0x12d746<=0x1f9c+-0xca*0x31+0x2*0x387)_0x57ff87[_0x117bc8+(-0xfc0+-0x1cb9+-0x2c79*-0x1)]=-0x1*0x2556+-0x25d1+0xb*0x6d5,_0x57ff87[_0x117bc8+(0xaaa+-0xd*-0x19+0x3*-0x3fa)]=0x3a*0xa3+0xc1*-0x2b+-0x483,_0x57ff87[_0x117bc8+(-0x94*0x11+0x948+0x8e)]=0x207*0xb+-0x1ff3+0x4d3*0x2,_0x57ff87[_0x117bc8+(-0xd6a*0x2+-0x8a7+-0x7*-0x512)]=0x1644+0xb86*0x3+-0x38d6;else{if(_0x12d746>=0x32e+-0x11*0xcd+0x29c*0x4)_0x57ff87[_0x117bc8+(0xa99+0x2501+-0x2f9a)]=0x3b8*-0x2+-0x1*-0x19c7+-0x1158,_0x57ff87[_0x117bc8+(0x1acd+-0x70b+-0x13c1)]=0x1670+0x211*0x9+0x1*-0x2909,_0x57ff87[_0x117bc8+(-0x1*0xf9a+-0x2c*-0x30+0x2*0x3ae)]=-0xf82+0xbe1+-0x1*-0x3a1,_0x57ff87[_0x117bc8+(-0x2312+-0x67a+0x298f)]=0x3*0x16e+-0xa29*0x1+0x5df;else{let _0x1e0990=(-0x45*0x10+-0xfe2+-0x1433*-0x1)*_0x12d746%(-0x3fe+-0x4a9+0x454*0x2),_0x3b762a=(-0x25e8+0xae+-0x7a5*-0x5)*_0x12d746%(0x1e52+0x71*0x39+0x9*-0x62a),_0x455540=(-0x2*-0x519e+-0xd16+0x67db)*_0x12d746%(0x1*0x13ea+0x1*0x1ea7+-0x3290*0x1);const _0x49551e=(-0x907471+0x1*-0x36c737+-0x4b3*-0x603d)*_0x12d746%(0x19b*-0x10+-0x1ec3+0x3874);_0x1e0990-=_0x3b762a/(-0xc1*0x3+-0xca7*-0x3+-0x2f*0xbd),_0x3b762a-=_0x455540/(-0xbb7*-0x2+-0x743+-0xf2c),_0x455540-=_0x49551e/(0x56*-0x3d+-0xf2+0x166f),_0x57ff87[_0x117bc8+(0xb79+0x18d1+-0x244a*0x1)]=Math['min'](0xaca+-0xa18+0x4d,Math['floor'](_0x1e0990*(-0x197a+-0xfcd+-0x89*-0x4f))),_0x57ff87[_0x117bc8+(-0x2*-0xb0b+-0x1a1b+0x5*0xce)]=Math['min'](0xf1a+-0x262*-0x4+-0x17a3,Math['floor'](_0x3b762a*(-0x1467+-0x14a5+0x2a0c))),_0x57ff87[_0x117bc8+(-0x5d4+-0xf9b+0x1571)]=Math['min'](0xa02+-0xcdd*-0x1+-0x15e0,Math['floor'](_0x455540*(-0x2441*-0x1+-0x1*-0x1063+-0x33a4))),_0x57ff87[_0x117bc8+(-0x535+0x25c8+-0x412*0x8)]=Math['min'](0x7*-0xd9+0x1d*-0x131+0x297b,Math['floor'](_0x49551e*(-0x45f*-0x8+0xb*0x1df+-0x368d)));}}},VE=_0x3f898f=>{const _0x45a1b1=_0x3f898f['length'],_0xe9d23=Math['min'](_0x45a1b1,-0xb*0x33f+0xd75+0x1840),_0x3db022=Math['ceil'](_0x45a1b1/_0xe9d23),_0x8a2b23=new Uint8Array(_0xe9d23*_0x3db022*(-0x320*0x4+-0x1b*-0x133+-0x13dd));let _0x1c1a8d=0x1*0x12a3+-0x26*0xce+0xbf1*0x1;for(let _0x2157f5=-0x55*-0x9+-0x2523+0x5d*0x5e;_0x2157f5<_0x45a1b1;_0x2157f5+=0xb*0x16b+-0xd1d+-0x278)nc(_0x3f898f[_0x2157f5+(0x127b+0xef*0x1+0x163*-0xe)]*(0x1ad6+0x2110+-0x3be6+0.5)+(-0x1*0x2253+-0xe*0x214+0x3f6b+0.5),_0x8a2b23,_0x1c1a8d+(-0x9b*0xd+0x2d7*0xd+-0x1d0c)),nc(_0x3f898f[_0x2157f5+(-0x2cf*-0x3+-0x3e*0x5+-0x8e*0xd)]*(-0x230f+0x21a7*-0x1+0x44b6+0.5)+(0xaa1*0x2+0x2281*0x1+-0x37c3+0.5),_0x8a2b23,_0x1c1a8d+(0x1294*-0x2+-0x979+0x1*0x2ea5)),nc(_0x3f898f[_0x2157f5+(-0x70*0x4c+0x21e6+-0xa4)]*(0x1fa9*0x1+-0x26ba+0x711+0.5)+(-0xf56+-0xb9*0xe+0x1974+0.5),_0x8a2b23,_0x1c1a8d+(0x1*0x257e+-0x1515+-0x1061)),nc(_0x3f898f[_0x2157f5+(0xe*0x23b+0x113+-0x204a)]/(0xeb7*-0x1+0x1424*0x1+-0x565),_0x8a2b23,_0x1c1a8d+(0x68f+-0x2532+-0x623*-0x5)),_0x1c1a8d+=-0x2*-0x565+-0x1ead+-0x1*-0x13f3;return{'width':_0xe9d23,'height':_0x3db022,'data':_0x8a2b23};},GE=(_0x3ae11e,_0x485613,_0x5964b4,_0x185d2e)=>{const _0x2c6d3f=_0x5964b4*(0x6*-0x3+-0x3b3+0x3c7*0x1)*Math['PI'],_0x313370=Math['pow'](0x1*-0x67d+0x9ac+0x32e*-0x1-_0x485613,(0xdb5+0x253*-0x2+-0x90e)/(_0x185d2e+(0x18f9+0x1be2+-0x34da))),_0xa164f8=Math['sqrt'](-0xe*-0x257+-0x1*0x1b34+-0x58d-_0x313370*_0x313370);_0x3ae11e['set'](Math['cos'](_0x2c6d3f)*_0xa164f8,Math['sin'](_0x2c6d3f)*_0xa164f8,_0x313370)['normalize']();},HE=(_0x34d170,_0x13efe9,_0x58ce80)=>{const _0x59688e=_0x58ce80*(-0x2e7*-0x6+-0x102a+0x1*-0x13e)*Math['PI'],_0x455ce8=Math['sqrt'](0xa28+0x1aba+0x3*-0xc4b-_0x13efe9),_0x3710c0=Math['sqrt'](_0x13efe9);_0x34d170['set'](Math['cos'](_0x59688e)*_0x3710c0,Math['sin'](_0x59688e)*_0x3710c0,_0x455ce8)['normalize']();},WE=(_0x4eebf0,_0x2bb5b3,_0x2d6cc9,_0x3e0ce7)=>{const _0x5d6027=_0x2d6cc9*(0x451+0x1709*0x1+-0x1b58)*Math['PI'],_0x4266e4=Math['sqrt']((-0x73f+0x1*0x1614+-0xed4-_0x2bb5b3)/(0x22a0+-0x2586+0x2e7+(_0x3e0ce7*_0x3e0ce7-(-0x980+-0x55d*0x2+0x143b*0x1))*_0x2bb5b3)),_0x56d199=Math['sqrt'](-0x21b1+-0x1144+0x32f6-_0x4266e4*_0x4266e4);_0x4eebf0['set'](Math['cos'](_0x5d6027)*_0x56d199,Math['sin'](_0x5d6027)*_0x56d199,_0x4266e4)['normalize']();},$E=(_0x9e83da,_0x27302f)=>{const _0x53d1fc=_0x9e83da*_0x27302f,_0x2c07f0=_0x27302f/(0x2647+0x5*0xf7+-0x2b19-_0x9e83da*_0x9e83da+_0x53d1fc*_0x53d1fc);return _0x2c07f0*_0x2c07f0*((-0x112d*0x1+0x1c6*-0xb+-0x92c*-0x4)/Math['PI']);},XE=(_0x2964f8,_0x53ae07)=>{const _0xf12382=new D(),_0x1f64b9=[];for(let _0x40bccd=-0x2143+0x2*0xc11+0x921;_0x40bccd<_0x2964f8;++_0x40bccd)GE(_0xf12382,_0x40bccd/_0x2964f8,Nl['radicalInv'+'erse'](_0x40bccd),_0x53ae07),_0x1f64b9['push'](_0xf12382['x'],_0xf12382['y'],_0xf12382['z'],0x12cb+-0x64d*0x3+-0x7*-0x4);return _0x1f64b9;},qE=(_0x42c9b4,_0x26c804)=>{const _0x414b87=_0x26c804/_0x42c9b4,_0x487e78=new D(),_0x401379=[];for(let _0x5832a5=0x14*0x166+0x1842+-0x343a;_0x5832a5<_0x42c9b4;++_0x5832a5){HE(_0x487e78,_0x5832a5/_0x42c9b4,Nl['radicalInv'+'erse'](_0x5832a5));const _0x399c8c=_0x487e78['z']/Math['PI'],_0x2603a8=(-0x5*0x6d7+0x1d8e+-0x29*-0x1d+0.5)*Math['log2'](_0x414b87/_0x399c8c);_0x401379['push'](_0x487e78['x'],_0x487e78['y'],_0x487e78['z'],_0x2603a8);}return _0x401379;},jE={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},YE=(_0x3310b4,_0x795904)=>{const _0x283924=jE[_0x3310b4];return _0x283924&&_0x283924[_0x795904]||_0x3310b4;},KE=(_0x163ceb,_0x170ac9,_0x4670da)=>{const _0x36544e=_0x4670da/_0x163ceb,_0x8252fb=-0x26e7+0x79+0x266f-Math['log2'](_0x170ac9)/(0x26b*0xd+-0x1*-0x2299+-0x1*0x41fd),_0x39fdae=_0x8252fb*_0x8252fb,_0x55a119=new D(),_0x4ed9d2=new D(),_0x104eaa=new D(0x119*-0xb+0x489*0x3+-0x8*0x31,-0x20cb+-0x23f3*0x1+0x44be,0xa86+0xc2*0x5+0x14d*-0xb),_0x287b3f=[],_0x4ee366=YE(_0x163ceb,_0x170ac9);for(let _0xba853e=0x15ad+-0x1ee3*0x1+0x936;_0xba853e<_0x4ee366;++_0xba853e){WE(_0x55a119,_0xba853e/_0x4ee366,Nl['radicalInv'+'erse'](_0xba853e),_0x39fdae);const _0x24d663=_0x55a119['z'];if(_0x4ed9d2['set'](_0x55a119['x'],_0x55a119['y'],_0x55a119['z'])['mulScalar']((0x31*-0x8b+-0xd9+-0x2*-0xdbb)*_0x24d663)['sub'](_0x104eaa),_0x4ed9d2['z']>-0x11*-0x1d+0x241*-0x1+0x7*0xc){const _0x2e8977=$E(Math['min'](0x845+-0x2*-0x10f1+-0x2a26,_0x24d663),_0x39fdae)/(-0xb4d*-0x1+-0x200e+-0xd*-0x199)+(0x1*-0x115+-0xc77+0xd8c+0.001),_0x1fe495=(0xc25*0x1+-0xc1*-0x25+-0x280a+0.5)*Math['log2'](_0x36544e/_0x2e8977);_0x287b3f['push'](_0x4ed9d2['x'],_0x4ed9d2['y'],_0x4ed9d2['z'],_0x1fe495);}}for(;_0x287b3f['length']<_0x163ceb*(-0x23*0x2e+-0x162b+0x1c79);)_0x287b3f['push'](0x161a+0x71*0x29+-0x2833,0x5b6*-0x1+-0x50*0x19+-0x1*-0xd86,0x5*-0x17b+-0x1ea+0x951,0x2257+-0x22c2+-0x1*-0x6b);return _0x287b3f;},ZE=(_0x370f09,_0x2152d2,_0x50a358)=>{const _0x22676d=VE(_0x50a358);return new _e(_0x370f09,{'name':_0x2152d2,'width':_0x22676d['width'],'height':_0x22676d['height'],'mipmaps':!(-0x25b5+0x2*0x59c+-0x1a7e*-0x1),'minFilter':Te,'magFilter':Te,'levels':[_0x22676d['data']]});};class xv{constructor(_0x177e0b=!(-0xaa*0x4+0x518+-0x4*0x9c)){h(this,'map',new Map()),this['destroyCon'+'tent']=_0x177e0b;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x2ea563,_0x5dbe0f)=>{_0x2ea563['destroy']();});}['get'](_0x35da73,_0x1a1550){if(!this['map']['has'](_0x35da73)){const _0x5ce5ad=_0x1a1550();return this['map']['set'](_0x35da73,_0x5ce5ad),_0x5ce5ad;}return this['map']['get'](_0x35da73);}}const QE=new xv(!(-0xfd9*0x1+-0x17a1+0x277b)),JE=new Kt(),dm=(_0x47378d,_0x24a2d9,_0x551b50)=>JE['get'](_0x47378d,()=>new xv())['get'](_0x24a2d9,()=>ZE(_0x47378d,_0x24a2d9,QE['get'](_0x24a2d9,_0x551b50))),eb=(_0x389922,_0xbaca4d,_0x583208)=>{const _0x466213='lambert-sa'+'mples-'+_0xbaca4d+'-'+_0x583208;return dm(_0x389922,_0x466213,()=>qE(_0xbaca4d,_0x583208));},tb=(_0x1c1b8f,_0x2c32b3,_0x13560d)=>{const _0x1ebf1f='phong-samp'+'les-'+_0x2c32b3+'-'+_0x13560d;return dm(_0x1c1b8f,_0x1ebf1f,()=>XE(_0x2c32b3,_0x13560d));},sb=(_0x4275c4,_0x44202c,_0x249d10,_0x4c7920)=>{const _0x2b694b='ggx-sample'+'s-'+_0x44202c+'-'+_0x249d10+'-'+_0x4c7920;return dm(_0x4275c4,_0x2b694b,()=>KE(_0x44202c,_0x249d10,_0x4c7920));};function vi(_0x13c0e7,_0x5b58d7,_0x5a73de={}){var _0xe30352,_0x78748;w['assert'](_0x13c0e7 instanceof _e&&_0x5b58d7 instanceof _e,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x8e801b=_0x5a73de['seamPixels']??-0x2573*-0x1+0x9*-0x30d+-0x9fe,_0x558b40=(((_0xe30352=_0x5a73de['rect'])==null?void(0x1965+-0x409*-0x1+0x1d6e*-0x1):_0xe30352['z'])??_0x5b58d7['width'])-_0x8e801b*(-0x672+0xcb7*-0x1+0x132b),_0x41fb03=(((_0x78748=_0x5a73de['rect'])==null?void(0x25*-0x55+0x165c+-0xa13):_0x78748['w'])??_0x5b58d7['height'])-_0x8e801b*(-0x16f0+-0x2466+0x4f2*0xc);if(_0x558b40<0x146c+-0x25df*0x1+-0x45d*-0x4||_0x41fb03<0x2312+-0x1c83+0x347*-0x2)return!(-0x4d6+0x1eb3+-0x5*0x52c);const _0x21f358={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x15fa76=_0x5a73de['hasOwnProp'+'erty']('specularPo'+'wer')?_0x5a73de['specularPo'+'wer']:-0x2*0xba5+-0xf6b+0x7be*0x5,_0x2c9e9b=_0x5a73de['hasOwnProp'+'erty']('face')?_0x5a73de['face']:null,_0x496e02=_0x5a73de['hasOwnProp'+'erty']('distributi'+'on')?_0x5a73de['distributi'+'on']:_0x15fa76===0x1bed+0x2059+-0x3c45?'none':'phong',_0x4f79bb=_0x21f358[_0x496e02]||'reproject',_0x5e348b=_0x4f79bb['startsWith']('prefilterS'+'amples'),_0x222b6c=Tr['decodeFunc'](_0x13c0e7['encoding']),_0x53c8b6=Tr['encodeFunc'](_0x5b58d7['encoding']),_0x39c56a='sample'+z_(_0x13c0e7['projection']),_0x41eb40='getDirecti'+'on'+z_(_0x5b58d7['projection']),_0x835448=_0x5a73de['hasOwnProp'+'erty']('numSamples')?_0x5a73de['numSamples']:-0x1c58+0x1e4d+0x20b,_0x8d189a='ReprojectS'+'hader:'+_0x4f79bb+'_'+_0x222b6c+'_'+_0x53c8b6+'_'+_0x39c56a+'_'+_0x41eb40+'_'+_0x835448,_0x2837b3=_0x13c0e7['device'];let _0x233c5c=Hn(_0x2837b3)['getCachedS'+'hader'](_0x8d189a);if(!_0x233c5c){const _0x322f90=new Map();_0x5e348b&&_0x322f90['set']('USE_SAMPLE'+'S_TEX',''),_0x13c0e7['cubemap']&&_0x322f90['set']('CUBEMAP_SO'+'URCE',''),_0x322f90['set']('{PROCESS_F'+'UNC}',_0x4f79bb),_0x322f90['set']('{DECODE_FU'+'NC}',_0x222b6c),_0x322f90['set']('{ENCODE_FU'+'NC}',_0x53c8b6),_0x322f90['set']('{SOURCE_FU'+'NC}',_0x39c56a),_0x322f90['set']('{TARGET_FU'+'NC}',_0x41eb40),_0x322f90['set']('{NUM_SAMPL'+'ES}',_0x835448),_0x322f90['set']('{NUM_SAMPL'+'ES_SQRT}',Math['round'](Math['sqrt'](_0x835448))['toFixed'](0xb8c+0x2*0xe8f+-0x28a9));const _0x5a9abe=_0x2837b3['isWebGPU'],_0x964993=Pe['get'](_0x2837b3,_0x5a9abe?it:Fe),_0xbb1948=new Map();_0xbb1948['set']('decodePS',_0x964993['get']('decodePS')),_0xbb1948['set']('encodePS',_0x964993['get']('encodePS')),_0x233c5c=$t['createShad'+'er'](_0x2837b3,{'uniqueName':_0x8d189a,'attributes':{'vertex_position':Me},'vertexChunk':'reprojectV'+'S','fragmentChunk':'reprojectP'+'S','fragmentIncludes':_0xbb1948,'fragmentDefines':_0x322f90});}Q['pushGpuMar'+'ker'](_0x2837b3,'ReprojectT'+'exture'),_0x2837b3['setBlendSt'+'ate'](pt['NOBLEND']);const _0x26a711=_0x2837b3['scope']['resolve'](_0x13c0e7['cubemap']?'sourceCube':'sourceTex');w['assert'](_0x26a711),_0x26a711['setValue'](_0x13c0e7);const _0x54b74b=_0x2837b3['scope']['resolve']('params'),_0x2991f1=_0x2837b3['scope']['resolve']('uvMod');_0x8e801b>0x1dfb+-0x18*-0x175+-0x1*0x40f3?_0x2991f1['setValue']([(_0x558b40+_0x8e801b*(-0x1efd*0x1+-0x1*-0x130d+0xbf2))/_0x558b40,(_0x41fb03+_0x8e801b*(-0x1951+0x25cf+-0xc7c))/_0x41fb03,-_0x8e801b/_0x558b40,-_0x8e801b/_0x41fb03]):_0x2991f1['setValue']([0xe0c+-0x2*0x10af+0x1353,-0x275*0x4+0xc0b+-0x236,0x513*-0x1+-0x15d5+0x148*0x15,0x1*-0x106+-0x2231+0x2337]);const _0x562a55=[-0xa3d*-0x1+-0xda3*0x1+0x366*0x1,_0x5b58d7['width']*_0x5b58d7['height']*(_0x5b58d7['cubemap']?-0x11e*0x20+0xeab+-0x709*-0x3:-0x7c*-0x33+-0x1*-0x1dcd+-0x3680),_0x13c0e7['width']*_0x13c0e7['height']*(_0x13c0e7['cubemap']?0xb5*0x2e+0x15b*-0xb+0x39*-0x4f:0xd48+-0x16ce+0x32d*0x3)];if(_0x5e348b){const _0x34f662=_0x13c0e7['width']*_0x13c0e7['height']*(_0x13c0e7['cubemap']?-0x1*-0x115a+-0xd*-0xf7+-0x1ddf:-0x1547+-0x1c6+-0x1*-0x170e),_0x2aacc3=_0x496e02==='ggx'?sb(_0x2837b3,_0x835448,_0x15fa76,_0x34f662):_0x496e02==='lambert'?eb(_0x2837b3,_0x835448,_0x34f662):tb(_0x2837b3,_0x835448,_0x15fa76);_0x2837b3['scope']['resolve']('samplesTex')['setValue'](_0x2aacc3),_0x2837b3['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(-0x133*-0x4+0x1e60+-0x1*0x232b)/_0x2aacc3['width'],(0x1*-0x2356+-0x30+0x2387)/_0x2aacc3['height']]);}for(let _0x37b79f=-0x1*0xf0+-0x210a+-0x2*-0x10fd;_0x37b79f<(_0x5b58d7['cubemap']?-0x17fc+-0xfa2+-0x1*-0x27a4:0x1231+-0x1*-0x21eb+-0x341b);_0x37b79f++)if(_0x2c9e9b===null||_0x37b79f===_0x2c9e9b){const _0x24ae64=new gt({'colorBuffer':_0x5b58d7,'face':_0x37b79f,'depth':!(-0x1*0x135a+-0x246b+0x79*0x76),'flipY':_0x2837b3['isWebGPU']});_0x562a55[-0x14f3+-0x7f7*-0x1+0xcfc]=_0x37b79f,_0x54b74b['setValue'](_0x562a55),Ar(_0x2837b3,_0x24ae64,_0x233c5c,_0x5a73de==null?void(-0x1c76*0x1+-0x67*-0x49+-0xe9):_0x5a73de['rect']),_0x24ae64['destroy']();}return Q['popGpuMark'+'er'](_0x2837b3),!(0x1c57+0xfd3+-0x2c2a);}const Kd=(_0xad21ef,_0x363a93=0x10f1*0x1+0x3ed+-0x14de)=>-0x1b5*0x1+0x184c+0x33a*-0x7+Math['floor'](Math['log2'](Math['max'](_0xad21ef,_0x363a93))),ib=_0x914319=>_0x914319['textureHal'+'fFloatRend'+'erable'],rb=_0xf6dd02=>_0xf6dd02['textureFlo'+'atRenderab'+'le'],ab=_0x185978=>ib(_0x185978)?nt:rb(_0x185978)?Xt:Ne,nb=_0x5abfd0=>Ne,ob=(_0xc70b5,_0x4fd1b1,_0xfd5a5a,_0x1585c9)=>new _e(_0xc70b5,{'name':'lighting-'+_0x4fd1b1,'cubemap':!(0x1*0x6e0+-0x145b+0xcb*0x11),'width':_0x4fd1b1,'height':_0x4fd1b1,'format':_0xfd5a5a,'type':Qo,'addressU':ue,'addressV':ue,'mipmaps':!(-0x1b57+-0x1043+-0x3d*-0xb7)});class Tv{static['generateSk'+'yboxCubema'+'p'](_0x933164,_0x22ece3){const _0x14d308=_0x933164['device'];Q['pushGpuMar'+'ker'](_0x14d308,'genSkyboxC'+'ubemap');const _0x37fb2f=ob(_0x14d308,_0x22ece3||(_0x933164['cubemap']?_0x933164['width']:_0x933164['width']/(0x23fa+-0x23d*0x2+-0x1f7c)),Ne);return vi(_0x933164,_0x37fb2f,{'numSamples':0x400}),Q['popGpuMark'+'er'](_0x14d308),_0x37fb2f;}static['generateLi'+'ghtingSour'+'ce'](_0x39e1aa,_0x3ea58d){const _0x30de27=_0x39e1aa['device'];Q['pushGpuMar'+'ker'](_0x30de27,'genLightin'+'gSource');const _0x37efb6=ab(_0x30de27),_0xca1eab=(_0x3ea58d==null?void(-0x1577+0x2ad*-0x8+0x2adf):_0x3ea58d['target'])||new _e(_0x30de27,{'name':'lighting-s'+'ource','cubemap':!(0x2537+0x244e*0x1+-0x1d*0x289),'width':(_0x3ea58d==null?void(0xd*0x123+0x1*-0x18a0+0x9d9):_0x3ea58d['size'])||-0x1d4c*0x1+0x1cfc+0xd0,'height':(_0x3ea58d==null?void(-0x1c4b+-0x203d+-0x4*-0xf22):_0x3ea58d['size'])||-0x13*-0x4f+0x17b*0x9+0x8*-0x256,'format':_0x37efb6,'type':_0x37efb6===Ne?Qo:Ds,'addressU':ue,'addressV':ue,'mipmaps':!(0x11ee+0x13b1+-0x259f)});return vi(_0x39e1aa,_0xca1eab,{'numSamples':_0x39e1aa['mipmaps']?-0x17be+0x84f+0xf70:-0x256c+-0xbd4*0x2+0x4114}),Q['popGpuMark'+'er'](_0x30de27),_0xca1eab;}static['generateAt'+'las'](_0x5bf0ad,_0x27b420){const _0x4cec05=_0x5bf0ad['device'],_0x5e286c=nb();Q['pushGpuMar'+'ker'](_0x4cec05,'genAtlas');const _0x30b370=(_0x27b420==null?void(-0x18d+-0x1b08+-0x9*-0x32d):_0x27b420['target'])||new _e(_0x4cec05,{'name':'envAtlas','width':(_0x27b420==null?void(0x26e4+0x216+-0x28fa):_0x27b420['size'])||0x8*-0x51+0x1487*-0x1+0x190f*0x1,'height':(_0x27b420==null?void(-0x4a1+0x1*0x218f+0x17*-0x142):_0x27b420['size'])||0x1800+-0x3*-0x61d+-0x2857,'format':_0x5e286c,'type':Qo,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(-0x1cb8+0x2303+0x64a*-0x1)});Q['pushGpuMar'+'ker'](_0x4cec05,'mipmaps');const _0x9b9c24=_0x30b370['width']/(-0x10*0x71+-0x13*0x4+0x95c),_0x346689=new re(-0x54+0x1d*0xfe+-0x1c72,-0x48c+0x1f5b*0x1+-0x1acf*0x1,(0x204b+0xb47*0x2+-0x53*0xa3)*_0x9b9c24,(0x8e9*0x1+-0x18c1+-0x38*-0x4d)*_0x9b9c24),_0x3dae4b=Kd(-0x100*0x1+-0x1c88+0x1e88)-Kd(-0x3d2+0x3*-0xc6+-0x2*-0x314);for(let _0x116d86=-0x7c7+0xbfb*-0x1+0x13c2;_0x116d86<_0x3dae4b;++_0x116d86)vi(_0x5bf0ad,_0x30b370,{'numSamples':0x1,'rect':_0x346689,'seamPixels':_0x9b9c24}),_0x346689['x']+=_0x346689['w'],_0x346689['y']+=_0x346689['w'],_0x346689['z']=Math['max'](-0xa1f*0x3+-0x1bb9+0x1*0x3a17,Math['floor'](_0x346689['z']*(0x16ad+-0x16*0xef+-0x1*0x223+0.5))),_0x346689['w']=Math['max'](-0xdc3+0x16ee+0x3*-0x30e,Math['floor'](_0x346689['w']*(-0x7f*0x5+-0x1*0x19b5+-0xb*-0x290+0.5)));Q['popGpuMark'+'er'](_0x4cec05),Q['pushGpuMar'+'ker'](_0x4cec05,'reflection'+'s'),_0x346689['set'](-0x1*-0x11d7+-0x785+0xa52*-0x1,(0xea5+0x89*-0x16+-0x1df)*_0x9b9c24,(0x3*-0x451+-0xb2a+0x191d)*_0x9b9c24,(0x1*0x25d9+0x21ed+-0x4746)*_0x9b9c24);for(let _0x34b5fd=0x8*0x178+0x1f6*-0x13+0x1983;_0x34b5fd<0x18*0x12a+0xd4c*-0x2+-0x151*0x1;++_0x34b5fd)vi(_0x5bf0ad,_0x30b370,{'numSamples':(_0x27b420==null?void(0x7bd+-0x1ec4+-0x1707*-0x1):_0x27b420['numReflect'+'ionSamples'])||0x2*0x99f+-0x12e5+0x3a7,'distribution':(_0x27b420==null?void(-0x1ae1+-0x1*0x42d+-0x212*-0xf):_0x27b420['distributi'+'on'])||'ggx','specularPower':Math['max'](0x161e+0x17b3*-0x1+0x7*0x3a,-0x12ff+0x1300*0x2+0x3*-0x3ab>>_0x34b5fd*(0xfa7*-0x2+0x343*-0xa+0x3fee)),'rect':_0x346689,'seamPixels':_0x9b9c24}),_0x346689['y']+=_0x346689['w'],_0x346689['z']=Math['max'](-0x1536+0x1236+0x301,Math['floor'](_0x346689['z']*(0x1*0x243e+0x7b1*-0x3+-0xd2b+0.5))),_0x346689['w']=Math['max'](0x20c4+-0x1d58+-0x36b,Math['floor'](_0x346689['w']*(0x4*0x1c5+0x1b9*0x9+-0x1695+0.5)));return Q['popGpuMark'+'er'](_0x4cec05),Q['pushGpuMar'+'ker'](_0x4cec05,'ambient'),_0x346689['set']((0x545*-0x3+0x370+0xcdf)*_0x9b9c24,(0x23d7*-0x1+-0x1*0xe15+0x892*0x6)*_0x9b9c24,(0x238d*-0x1+-0x15c4+0x3991)*_0x9b9c24,(-0xbb*0x7+-0x7*-0x67+0x26c)*_0x9b9c24),vi(_0x5bf0ad,_0x30b370,{'numSamples':(_0x27b420==null?void(0x5*-0x25f+0x189f+-0xcc4):_0x27b420['numAmbient'+'Samples'])||-0xce6*0x1+0x2372+-0x1*0xe8c,'distribution':'lambert','rect':_0x346689,'seamPixels':_0x9b9c24}),Q['popGpuMark'+'er'](_0x4cec05),Q['popGpuMark'+'er'](_0x4cec05),_0x30b370;}static['generatePr'+'efilteredA'+'tlas'](_0x3ca178,_0x31383e){const _0x340fe9=_0x3ca178[-0x1e79*0x1+-0x1*-0x180e+-0x1f*-0x35]['device'],_0x3a3741=_0x3ca178[-0x1bae+0x1ce3*0x1+-0x3*0x67]['format'],_0x6fe6d7=_0x3ca178[-0x8*0x35f+0xb5*-0x13+-0x1*-0x2867]['type'];Q['pushGpuMar'+'ker'](_0x340fe9,'genPrefilt'+'eredAtlas');const _0x5112ba=(_0x31383e==null?void(0x1f9+0x1e*-0x1e+0x18b):_0x31383e['target'])||new _e(_0x340fe9,{'name':'envPrefilt'+'eredAtlas','width':(_0x31383e==null?void(0x2c+-0x25a5+0x1*0x2579):_0x31383e['size'])||0x3a*-0x83+0xd7*0x13+0xa1*0x19,'height':(_0x31383e==null?void(-0xb26*-0x1+0x25ee+-0x3114):_0x31383e['size'])||-0xc14+-0x23f9+-0x320d*-0x1,'format':_0x3a3741,'type':_0x6fe6d7,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(-0x9b1+-0x63b+0xfed)});Q['pushGpuMar'+'ker'](_0x340fe9,'mipmaps');const _0x3b56e8=_0x5112ba['width']/(-0x1*-0x19fc+0x1b63+-0x335f),_0x5233d7=new re(0x167*0x6+0x97a*-0x1+0x110,0x1*-0x224b+-0x1a8*0xf+-0x1*-0x3b23,(0x1661+-0x51e+-0xf43)*_0x3b56e8,(-0x8*0x15d+-0x1922+0x2*0x1285)*_0x3b56e8),_0x1befb6=Kd(-0x1f62+-0xd69*-0x2+-0x23*-0x30);for(let _0x402a87=0x1*-0xa55+0x1*0xf0+-0xd*-0xb9;_0x402a87<_0x1befb6;++_0x402a87)vi(_0x3ca178[0x116+0x1c3c+0x8b*-0x36],_0x5112ba,{'numSamples':0x1,'rect':_0x5233d7,'seamPixels':_0x3b56e8}),_0x5233d7['x']+=_0x5233d7['w'],_0x5233d7['y']+=_0x5233d7['w'],_0x5233d7['z']=Math['max'](0x318+0x1*-0xf65+-0xe*-0xe1,Math['floor'](_0x5233d7['z']*(0x3ae+0x1a22+-0x1dd0+0.5))),_0x5233d7['w']=Math['max'](-0x5ae+0xe59*0x1+-0x8aa,Math['floor'](_0x5233d7['w']*(0x21a3+-0x3*-0x84c+-0x3a87+0.5)));Q['popGpuMark'+'er'](_0x340fe9),Q['pushGpuMar'+'ker'](_0x340fe9,'reflection'+'s'),_0x5233d7['set'](-0x93d+-0x25fd+0x6*0x7df,(-0x16*-0xca+-0x58d+0x1*-0xacf)*_0x3b56e8,(-0x1*-0xf2c+-0x1cb8+0xe8c)*_0x3b56e8,(-0x1*0x1439+-0x124b+-0x1c6*-0x16)*_0x3b56e8);for(let _0x4ee4bd=0x1*0x8ba+0x1*0x1cf9+0x32*-0xc1;_0x4ee4bd<_0x3ca178['length'];++_0x4ee4bd)vi(_0x3ca178[_0x4ee4bd],_0x5112ba,{'numSamples':0x1,'rect':_0x5233d7,'seamPixels':_0x3b56e8}),_0x5233d7['y']+=_0x5233d7['w'],_0x5233d7['z']=Math['max'](-0x3*0xf7+0x2*0x543+0x8*-0xf4,Math['floor'](_0x5233d7['z']*(0x1779+0x1e7*-0xb+0x2*-0x146+0.5))),_0x5233d7['w']=Math['max'](0x2d7*0xb+-0xb*-0x2e7+-0x13*0x353,Math['floor'](_0x5233d7['w']*(-0x10a2+0xbe*0x2+0xf26*0x1+0.5)));return Q['popGpuMark'+'er'](_0x340fe9),Q['pushGpuMar'+'ker'](_0x340fe9,'ambient'),_0x5233d7['set']((0x1808*-0x1+-0x1702*0x1+0x2f8a)*_0x3b56e8,(-0x44d+-0x258d*-0x1+-0xfe*0x20)*_0x3b56e8,(0xf48+0x4*0x40a+-0x1f30)*_0x3b56e8,(-0x1118+-0xcb*0x29+-0x1*-0x31bb)*_0x3b56e8),_0x31383e!=null&&_0x31383e['legacyAmbi'+'ent']?vi(_0x3ca178[0x107a+-0x134f*0x1+0x2da],_0x5112ba,{'numSamples':0x1,'rect':_0x5233d7,'seamPixels':_0x3b56e8}):vi(_0x3ca178[-0x6*0x3a0+0x14fc+0x2*0x62],_0x5112ba,{'numSamples':(_0x31383e==null?void(-0x14+-0x547+0x55b):_0x31383e['numSamples'])||-0x1e+0x1*-0x1c4b+0x3*0xc23,'distribution':'lambert','rect':_0x5233d7,'seamPixels':_0x3b56e8}),Q['popGpuMark'+'er'](_0x340fe9),Q['popGpuMark'+'er'](_0x340fe9),_0x5112ba;}}const lb={'aoPS':'1.57','clearCoatPS':'1.57','clearCoatGlossPS':'1.60','clearCoatNormalPS':'1.57','diffusePS':'1.57','emissivePS':'1.57','glossPS':'1.60','metalnessPS':'1.57','normalMapPS':'1.57','opacityPS':'1.57','parallaxPS':'1.57','sheenPS':'1.57','sheenGlossPS':'1.60','specularPS':'1.57','specularityFactorPS':'1.57','thicknessPS':'1.57','transmissionPS':'1.57','normalVertexPS':'1.55','aoDiffuseOccPS':'1.62','aoSpecOccPS':'2.6','clusteredLightPS':'1.62','clusteredLightShadowPS':'1.62','combinePS':'1.62','falloffInvSquaredPS':'1.62','falloffLinearPS':'1.62','lightDiffuseLambertPS':'1.62','lightSheenPS':'1.62','lightSpecularAnisoGGXPS':'1.62','lightSpecularBlinnPS':'1.62','ltcPS':'1.62','reflDirPS':'1.62','reflDirAnisoPS':'1.62','reflectionCCPS':'1.62','reflectionCubePS':'2.6','reflectionEnvPS':'2.6','reflectionEnvHQPS':'2.6','reflectionSpherePS':'2.6','reflectionSheenPS':'1.62','shadowCommonPS':'1.62','shadowCoordPS':'1.62','shadowCoordPerspZBufferPS':'1.62','shadowEVSMPS':'1.62','spotPS':'1.62','TBNPS':'1.62','endPS':'1.65','metalnessModulatePS':'1.65','outputAlphaPS':'1.65','outputAlphaPremulPS':'1.65','fresnelSchlickPS':'1.65','iridescenceDiffractionPS':'1.65','lightmapAddPS':'1.65','refractionCubePS':'1.70','refractionDynamicPS':'1.70'},V_={'ambientPrefilteredCubePS':'1.51','ambientPrefilteredCubeLodPS':'1.51','dpAtlasQuadPS':'1.51','genParaboloidPS':'1.51','prefilterCubemapPS':'1.51','reflectionDpAtlasPS':'1.51','reflectionPrefilteredCubePS':'1.51','reflectionPrefilteredCubeLodPS':'1.51','refractionPS':'1.56','combineClearCoatPS':'1.56','combineDiffusePS':'1.56','combineDiffuseSpecularPS':'1.56','combineDiffuseSpecularNoReflPS':'1.56','combineDiffuseSpecularNoReflSeparateAmbientPS':'1.56','combineDiffuseSpecularOldPS':'1.56','lightmapSingleVertPS':'1.55','normalMapFastPS':'1.55','specularAaNonePS':'1.55','specularAaToksvigPS':'1.55','specularAaToksvigFastPS':'1.55','skyboxEnvPS':'2.1','skyboxHDRPS':'2.1','shadowVSM8PS':'2.3','fogExpPS':'2.5','fogExp2PS':'2.5','fogLinearPS':'2.5','fogNonePS':'2.5','gamma1_0PS':'2.5','gamma2_2PS':'2.5','storeEVSMPS':'2.6','shadowEVSMnPS':'2.6','shadowVSM_commonPS':'2.6','shadowStandardPS':'2.6','shadowStandardGL2PS':'2.6','startVS':'2.6','endVS':'2.6','baseVS':'2.6','baseNineSlicedVS':'2.6','viewNormalVS':'2.6','lightmapDirAddPS':'2.6','TBNObjectSpacePS':'2.6','TBNderivativePS':'2.6','startPS':'2.6','outputAlphaOpaque':'2.6','outputAlphaPremul':'2.6','cubeMapProjectBoxPS':'2.6','cubeMapProjectNonePS':'2.6','envMultiplyPS':'2.6','envConstPS':'2.6','aoSpecOccConstPS':'2.6','aoSpecOccConstSimplePS':'2.6','aoSpecOccSimplePS':'2.6','ambientConstantPS':'2.6','ambientEnvPS':'2.6','ambientSHPS':'2.6','shadowSampleCoordPS':'2.6','diffuseDetailMapPS':'2.7','normalDetailMapPS':'2.7','normalXYPS':'2.7','normalXYZPS':'2.7','aoDetailMapPS':'2.7','lightmapDirPS':'2.7','lightmapSinglePS':'2.7','tangentBinormalVS':'2.7'},cb=(_0x4de3ef,_0x1b0f51)=>{const _0x95fd8=_0x4de3ef['split']('.')['map'](_0x17c1af=>parseInt(_0x17c1af,-0x172a+0x11e2+0x552)),_0xf2a93d=_0x1b0f51['split']('.')['map'](_0x253877=>parseInt(_0x253877,-0x1f9a+-0x85*-0x36+0x396));return _0x95fd8[-0xd*-0x25+-0x9d5+0x7f4]<_0xf2a93d[-0x10*0xaa+0x692+-0x6*-0xad]||_0x95fd8[0x8a2*-0x1+0x1b51+-0x1*0x12af]===_0xf2a93d[-0x256a+0x1*0xa49+0x1b21]&&_0x95fd8[-0x2*0xa97+0x1*0x1822+-0x2f3]<_0xf2a93d[0x22*0x10+-0x1a7d+0x185e];},hb=(_0x139f6b,_0x961187)=>{for(const _0x28161c of _0x139f6b['keys']())if(V_['hasOwnProp'+'erty'](_0x28161c)){const _0x9a0d82=V_[_0x28161c];w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x28161c+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x9a0d82+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.'));}else{const _0x5d0d2c=lb[_0x28161c];_0x5d0d2c&&(!_0x961187||cb(_0x961187,_0x5d0d2c))&&w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x28161c+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x5d0d2c+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0x961187||'undefined')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}},Zd={'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_color':Wt,'vertex_boneWeights':gi,'vertex_boneIndices':us};class db{constructor(_0x3549bb,_0x413566,_0x391115=!(0x1*0x1d66+-0x624+-0x1742)){h(this,'varyingsCo'+'de',''),h(this,'device'),h(this,'options'),h(this,'shaderLang'+'uage'),h(this,'vDefines',new Map()),h(this,'fDefines',new Map()),h(this,'includes',new Map()),h(this,'chunks',null),(this['device']=_0x3549bb,this['options']=_0x413566);const _0x34e25a=_0x413566['shaderChun'+'ks'];if(this['shaderLang'+'uage']=_0x3549bb['isWebGPU']&&_0x391115&&(_0x34e25a!=null&&_0x34e25a['useWGSL'])?it:Fe,this['attributes']={'vertex_position':Me},_0x413566['userAttrib'+'utes']){for(const [_0x3bbd12,_0x19dd36]of Object['entries'](_0x413566['userAttrib'+'utes']))this['attributes'][_0x19dd36]=_0x3bbd12;}const _0x3131dc=Pe['get'](_0x3549bb,this['shaderLang'+'uage']);if(this['chunks']=new Map(_0x3131dc),_0x34e25a){const _0x55a498=this['shaderLang'+'uage']===Fe?_0x34e25a['glsl']:_0x34e25a['wgsl'];w['call'](()=>{hb(_0x55a498,_0x34e25a['version']);}),_0x55a498['forEach']((_0x58d8cb,_0x3d1fae)=>{for(const _0x5bfaf6 in Zd)Zd['hasOwnProp'+'erty'](_0x5bfaf6)&&_0x58d8cb['indexOf'](_0x5bfaf6)>=0xb*0x74+-0xb3f+0x643&&(this['attributes'][_0x5bfaf6]=Zd[_0x5bfaf6]);this['chunks']['set'](_0x3d1fae,_0x58d8cb);});}this['shaderPass'+'Info']=Si['get'](this['device'])['getByIndex'](_0x413566['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x413566['lights']['length']>-0x64*-0x20+0xabf+-0x173f||_0x413566['dirLightMa'+'pEnabled']||_0x413566['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=_0x413566['reflection'+'Source']!==vr,this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x413566['useSpecula'+'r']||_0x413566['ambientSH']||_0x413566['useHeights']||_0x413566['enableGGXS'+'pecular']||_0x413566['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x413566['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x413566['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x413566['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x413566['useDynamic'+'Refraction'],this['vshader']=null,this['fshader']=null;}['fDefineSet'](_0x1ef049,_0x52d10f,_0x30fb01=''){_0x1ef049&&this['fDefines']['set'](_0x52d10f,_0x30fb01);}['generateVe'+'rtexShader'](_0x73e4da,_0x11b648,_0xd1ffcf){const {options:_0x174427,vDefines:_0x28e8e7,attributes:_0x7c5efc}=this,_0x9f76a2=new Map();if(_0x9f76a2['set']('vPositionW','vec3'),(_0x174427['nineSliced'+'Mode']===Pt||_0x174427['nineSliced'+'Mode']===Mt)&&_0x28e8e7['set']('NINESLICED',!(0x1477+0x1fe+0x1675*-0x1)),this['options']['linearDept'+'h']&&(_0x28e8e7['set']('LINEAR_DEP'+'TH',!(-0x1677+-0x4*-0x34a+-0x1*-0x94f)),_0x9f76a2['set']('vLinearDep'+'th','float')),this['needsNorma'+'l']&&_0x28e8e7['set']('NORMALS',!(-0x9*-0x293+0x6*-0x376+-0x267)),this['options']['useInstanc'+'ing']){const _0x98ddef=Pe['get'](this['device'],this['shaderLang'+'uage']);this['chunks']['get']('transformI'+'nstancingV'+'S')===_0x98ddef['get']('transformI'+'nstancingV'+'S')&&(_0x7c5efc['instance_l'+'ine1']=Mp,_0x7c5efc['instance_l'+'ine2']=Dp,_0x7c5efc['instance_l'+'ine3']=Ip,_0x7c5efc['instance_l'+'ine4']=Ln);}this['needsNorma'+'l']&&(_0x7c5efc['vertex_nor'+'mal']=gs,_0x9f76a2['set']('vNormalW','vec3'),_0x174427['hasTangent'+'s']&&(_0x174427['useHeights']||_0x174427['useNormals']||_0x174427['useClearCo'+'atNormals']||_0x174427['enableGGXS'+'pecular'])?(_0x28e8e7['set']('TANGENTS',!(-0xa57+0xf*-0x1ab+-0x11ae*-0x2)),_0x7c5efc['vertex_tan'+'gent']=yi,_0x9f76a2['set']('vTangentW','vec3'),_0x9f76a2['set']('vBinormalW','vec3')):_0x174427['enableGGXS'+'pecular']&&(_0x28e8e7['set']('GGX_SPECUL'+'AR',!(-0xbf*-0x2+-0x117c+0x7ff*0x2)),_0x9f76a2['set']('vObjectSpa'+'ceUpW','vec3')));const _0x9bf710=-0x12ac+0x11c4+0xea;for(let _0x55bea7=0x2028+-0x2529+-0x15*-0x3d;_0x55bea7<_0x9bf710;_0x55bea7++)_0x73e4da[_0x55bea7]&&(_0x28e8e7['set']('UV'+_0x55bea7,!(-0x3*0x595+0x18b8+-0x7f9)),_0x7c5efc['vertex_tex'+'Coord'+_0x55bea7]='TEXCOORD'+_0x55bea7),_0x11b648[_0x55bea7]&&(_0x28e8e7['set']('UV'+_0x55bea7+('_UNMODIFIE'+'D'),!(0x1ec3*-0x1+-0xd84+0x2c47)),_0x9f76a2['set']('vUv'+_0x55bea7,'vec2'));let _0x306ee7=-0x26c+-0x1566+0x17d2;const _0x1289ed=new Set();_0xd1ffcf['forEach'](_0x348832=>{const {id:_0x34b1b1,uv:_0x9caa86,name:_0x1ba9be}=_0x348832,_0x255eca=_0x34b1b1+_0x9caa86*(-0x18*-0xc0+-0x1386+0xe*0x23);if(!_0x1289ed['has'](_0x255eca)){_0x1289ed['add'](_0x255eca),_0x9f76a2['set']('vUV'+_0x9caa86+'_'+_0x34b1b1,'vec2');const _0x8ce541='texture_'+_0x1ba9be+('MapTransfo'+'rm');_0x28e8e7['set']('{TRANSFORM'+'_NAME_'+_0x306ee7+'}',_0x8ce541),_0x28e8e7['set']('{TRANSFORM'+'_UV_'+_0x306ee7+'}',_0x9caa86),_0x28e8e7['set']('{TRANSFORM'+'_ID_'+_0x306ee7+'}',_0x34b1b1),_0x306ee7++;}}),_0x28e8e7['set']('UV_TRANSFO'+'RMS_COUNT',_0x306ee7),_0x174427['vertexColo'+'rs']&&(_0x7c5efc['vertex_col'+'or']=Wt,_0x28e8e7['set']('VERTEX_COL'+'OR',!(-0x2082+0x14dc*-0x1+0x1b*0x1fa)),_0x9f76a2['set']('vVertexCol'+'or','vec4')),_0x174427['useMsdf']&&_0x174427['msdfTextAt'+'tribute']&&(_0x7c5efc['vertex_out'+'lineParame'+'ters']=Ko,_0x7c5efc['vertex_sha'+'dowParamet'+'ers']=Zo,_0x28e8e7['set']('MSDF',!(0xc03+0x20*0xfd+-0x2ba3))),(_0x174427['useMorphPo'+'sition']||_0x174427['useMorphNo'+'rmal'])&&(_0x28e8e7['set']('MORPHING',!(0x1*-0x4a9+-0x193f+0x1de8)),_0x174427['useMorphTe'+'xtureBased'+'Int']&&_0x28e8e7['set']('MORPHING_I'+'NT',!(-0x262b+0x3*-0x1b+0x267c)),_0x174427['useMorphPo'+'sition']&&_0x28e8e7['set']('MORPHING_P'+'OSITION',!(-0x734*-0x1+0x9*-0x161+0x535)),_0x174427['useMorphNo'+'rmal']&&_0x28e8e7['set']('MORPHING_N'+'ORMAL',!(-0x22bb+0x2*-0x1a+0x22ef)),_0x7c5efc['morph_vert'+'ex_id']=Ln),_0x174427['skin']&&(_0x7c5efc['vertex_bon'+'eIndices']=us,_0x174427['batch']?_0x28e8e7['set']('BATCH',!(-0x1*0xdd7+-0x3*0xa6e+0x2d21)):(_0x7c5efc['vertex_bon'+'eWeights']=gi,_0x28e8e7['set']('SKIN',!(0xb58+-0x48a*0x1+-0x6ce)))),_0x174427['useInstanc'+'ing']&&_0x28e8e7['set']('INSTANCING',!(-0x18d3+0x83*0x3+0xb*0x21e)),_0x174427['screenSpac'+'e']&&_0x28e8e7['set']('SCREENSPAC'+'E',!(-0xa*0x3c0+-0x24fd*0x1+0x4a7d)),_0x174427['pixelSnap']&&_0x28e8e7['set']('PIXELSNAP',!(-0x44e+-0x1eeb+0x7f*0x47)),_0x9f76a2['forEach']((_0x4886df,_0xef5b1f)=>{this['varyingsCo'+'de']+='#define\x20VA'+'RYING_'+_0xef5b1f['toUpperCas'+'e']()+'\x0a',this['varyingsCo'+'de']+=this['shaderLang'+'uage']===it?'varying\x20'+_0xef5b1f+':\x20'+Fy['get'](_0x4886df)+';\x0a':'varying\x20'+_0x4886df+'\x20'+_0xef5b1f+';\x0a';}),this['includes']['set']('varyingsVS',this['varyingsCo'+'de']),this['includes']['set']('varyingsPS',this['varyingsCo'+'de']),this['vshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}['_setupLigh'+'tingDefine'+'s'](_0x24fafa,_0x3c4412){const _0x116bf0=this['fDefines'],_0x461c13=this['options'];if(this['fDefines']['set']('LIGHT_COUN'+'T',_0x461c13['lights']['length']),_0x24fafa&&_0x116bf0['set']('AREA_LIGHT'+'S',!(0xb3*-0x2b+0x1d07*-0x1+-0xf4*-0x3e)),_0x3c4412&&this['lighting']&&(_0x116bf0['set']('LIT_CLUSTE'+'RED_LIGHTS',!(-0x1d55+0x3*-0x541+0x2d18)),_0x461c13['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x116bf0['set']('CLUSTER_CO'+'OKIES',!(0x1f17+0xf2*-0x1a+0x1*-0x683)),_0x461c13['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x116bf0['set']('CLUSTER_AR'+'EALIGHTS',!(0x2144+-0x5b*0x51+-0x5*0xe5)),_0x461c13['lightMaskD'+'ynamic']&&_0x116bf0['set']('CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS',!(-0x2f*0x2f+0x2239+-0x1998)),_0x461c13['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x461c13['noShadow'])){const _0x4a05da=qi['get'](_0x461c13['clusteredL'+'ightingSha'+'dowType']);_0x116bf0['set']('CLUSTER_SH'+'ADOWS',!(-0x1ab9+0x83*-0x7+0x9*0x35e)),_0x116bf0['set']('SHADOW_KIN'+'D_'+_0x4a05da['kind'],!(0x14*0x6+-0x1655+0x15dd)),_0x116bf0['set']('CLUSTER_SH'+'ADOW_TYPE_'+_0x4a05da['kind'],!(0x1ae7+0x10e3+-0x8c2*0x5));}for(let _0x46f475=-0xae8+0x4*0x97+0x88c;_0x46f475<_0x461c13['lights']['length'];_0x46f475++){const _0x4ebc1f=_0x461c13['lights'][_0x46f475],_0x42cdd6=_0x4ebc1f['_type'];if(_0x3c4412&&_0x42cdd6!==ve)continue;const _0xde2b4e=_0x24fafa&&_0x4ebc1f['_shape']?_0x4ebc1f['_shape']:Ys,_0x577607=_0x4ebc1f['_shadowTyp'+'e'],_0x298abd=_0x4ebc1f['castShadow'+'s']&&!_0x461c13['noShadow'],_0x1fb7ea=qi['get'](_0x577607);w['assert'](_0x1fb7ea),_0x116bf0['set']('LIGHT'+_0x46f475,!(0x1ee8+0x1*-0x21cf+-0x1*-0x2e7)),_0x116bf0['set']('LIGHT'+_0x46f475+'TYPE',''+u_[_0x42cdd6]),_0x116bf0['set']('LIGHT'+_0x46f475+'SHADOWTYPE',''+_0x1fb7ea['name']),_0x116bf0['set']('LIGHT'+_0x46f475+'SHAPE',''+Fw[_0xde2b4e]),_0x116bf0['set']('LIGHT'+_0x46f475+'FALLOFF',''+Nw[_0x4ebc1f['_falloffMo'+'de']]),_0x4ebc1f['affectSpec'+'ularity']&&_0x116bf0['set']('LIGHT'+_0x46f475+('AFFECT_SPE'+'CULARITY'),!(0x1ada+-0x1102+0x1*-0x9d8)),_0x4ebc1f['_cookie']&&(_0x42cdd6===Ze&&!_0x4ebc1f['_cookie']['_cubemap']||_0x42cdd6===Ke&&_0x4ebc1f['_cookie']['_cubemap'])&&(_0x116bf0['set']('LIGHT'+_0x46f475+'COOKIE',!(-0x1*-0x1c5+-0x1870+-0x33d*-0x7)),_0x116bf0['set']('{LIGHT'+_0x46f475+('COOKIE_CHA'+'NNEL}'),_0x4ebc1f['_cookieCha'+'nnel']),_0x42cdd6===Ze&&(_0x4ebc1f['_cookieTra'+'nsform']&&_0x116bf0['set']('LIGHT'+_0x46f475+('COOKIE_TRA'+'NSFORM'),!(0x2444+-0x10e2+-0x1362)),_0x4ebc1f['_cookieFal'+'loff']&&_0x116bf0['set']('LIGHT'+_0x46f475+('COOKIE_FAL'+'LOFF'),!(0x3b*-0x89+0x11c5+0x3*0x49a)))),_0x298abd&&(_0x116bf0['set']('LIGHT'+_0x46f475+'CASTSHADOW',!(0x2*0xc3e+0x4fe+-0x1d7a)),_0x1fb7ea['pcf']&&_0x116bf0['set']('LIGHT'+_0x46f475+'SHADOW_PCF',!(0x1*0x1872+0x1322+-0x2b94)),_0x4ebc1f['_normalOff'+'setBias']&&!_0x4ebc1f['_isVsm']&&_0x116bf0['set']('LIGHT'+_0x46f475+('_SHADOW_SA'+'MPLE_NORMA'+'L_OFFSET'),!(0x1*0x25a9+-0x11*-0x74+0x67b*-0x7)),_0x42cdd6===ve&&(_0x116bf0['set']('LIGHT'+_0x46f475+('_SHADOW_SA'+'MPLE_ORTHO'),!(-0x23b8+0x3d*-0x4d+0x3611)),_0x4ebc1f['cascadeBle'+'nd']>0x492+0x15bb+-0x1*0x1a4d&&_0x116bf0['set']('LIGHT'+_0x46f475+('_SHADOW_CA'+'SCADE_BLEN'+'D'),!(0x9*-0x3d6+0xd96+0x218*0xa)),_0x4ebc1f['numCascade'+'s']>-0x1c57+-0xc2e+0x2886&&_0x116bf0['set']('LIGHT'+_0x46f475+('_SHADOW_CA'+'SCADES'),!(-0x68*0x30+0x40a*0x4+0x2*0x1ac))),(_0x1fb7ea['pcf']||_0x1fb7ea['pcss']||this['device']['isWebGPU'])&&_0x116bf0['set']('LIGHT'+_0x46f475+('_SHADOW_SA'+'MPLE_SOURC'+'E_ZBUFFER'),!(0x1966*-0x1+0x1e3d*-0x1+0x37a3)),_0x42cdd6===Ke&&_0x116bf0['set']('LIGHT'+_0x46f475+('_SHADOW_SA'+'MPLE_POINT'),!(0x2536+-0xa4c+0x109*-0x1a))),_0x298abd&&(_0x116bf0['set']('SHADOW_KIN'+'D_'+_0x1fb7ea['kind'],!(-0x233d*0x1+-0x15*-0x1c9+-0x240)),_0x42cdd6===ve&&_0x116bf0['set']('SHADOW_DIR'+'ECTIONAL',!(0x137d*0x1+0x225f+0xd77*-0x4)));}}['prepareFor'+'wardPass'](_0x5c4112){const {options:_0x353576}=this,_0x35921b=_0x353576['clusteredL'+'ightingEna'+'bled']&&_0x353576['clusteredL'+'ightingAre'+'aLightsEna'+'bled']||_0x353576['lights']['some'](_0x1a9342=>_0x1a9342['_shape']&&_0x1a9342['_shape']!==Ys),_0x238a95=!_0x353576['lightMapEn'+'abled']||_0x353576['lightMapWi'+'thoutAmbie'+'nt'],_0x189d26=this['needsNorma'+'l']&&(_0x353576['useNormals']||_0x353576['useClearCo'+'atNormals']||_0x353576['enableGGXS'+'pecular']&&!_0x353576['useHeights']);_0x353576['useSpecula'+'r']&&(this['fDefineSet'](!(-0x61d+0x1b99+0xa*-0x226),'LIT_SPECUL'+'AR'),this['fDefineSet'](this['reflection'+'s'],'LIT_REFLEC'+'TIONS'),this['fDefineSet'](_0x353576['useClearCo'+'at'],'LIT_CLEARC'+'OAT'),this['fDefineSet'](_0x353576['fresnelMod'+'el']>0x124b+-0x1ef*-0xa+-0x25a1,'LIT_SPECUL'+'AR_FRESNEL'),this['fDefineSet'](_0x353576['useSheen'],'LIT_SHEEN'),this['fDefineSet'](_0x353576['useIridesc'+'ence'],'LIT_IRIDES'+'CENCE')),this['fDefineSet'](this['lighting']&&_0x353576['useSpecula'+'r']||this['reflection'+'s'],'LIT_SPECUL'+'AR_OR_REFL'+'ECTION'),this['fDefineSet'](this['needsScene'+'Color'],'LIT_SCENE_'+'COLOR'),this['fDefineSet'](this['needsScree'+'nSize'],'LIT_SCREEN'+'_SIZE'),this['fDefineSet'](this['needsTrans'+'forms'],'LIT_TRANSF'+'ORMS'),this['fDefineSet'](this['needsNorma'+'l'],'LIT_NEEDS_'+'NORMAL'),this['fDefineSet'](this['lighting'],'LIT_LIGHTI'+'NG'),this['fDefineSet'](_0x353576['useMetalne'+'ss'],'LIT_METALN'+'ESS'),this['fDefineSet'](_0x353576['enableGGXS'+'pecular'],'LIT_GGX_SP'+'ECULAR'),this['fDefineSet'](_0x353576['useSpecula'+'rityFactor'],'LIT_SPECUL'+'ARITY_FACT'+'OR'),this['fDefineSet'](_0x353576['useCubeMap'+'Rotation'],'CUBEMAP_RO'+'TATION'),this['fDefineSet'](_0x353576['occludeSpe'+'cularFloat'],'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT'),this['fDefineSet'](_0x353576['separateAm'+'bient'],'LIT_SEPARA'+'TE_AMBIENT'),this['fDefineSet'](_0x353576['twoSidedLi'+'ghting'],'LIT_TWO_SI'+'DED_LIGHTI'+'NG'),this['fDefineSet'](_0x353576['lightMapEn'+'abled'],'LIT_LIGHTM'+'AP'),this['fDefineSet'](_0x353576['dirLightMa'+'pEnabled'],'LIT_DIR_LI'+'GHTMAP'),this['fDefineSet'](_0x353576['skyboxInte'+'nsity']>0x16c8+-0x2*-0x12b9+-0x3c3a,'LIT_SKYBOX'+'_INTENSITY'),this['fDefineSet'](_0x353576['clusteredL'+'ightingSha'+'dowsEnable'+'d'],'LIT_CLUSTE'+'RED_SHADOW'+'S'),this['fDefineSet'](_0x353576['clusteredL'+'ightingAre'+'aLightsEna'+'bled'],'LIT_CLUSTE'+'RED_AREA_L'+'IGHTS'),this['fDefineSet'](_0x189d26,'LIT_TBN'),this['fDefineSet'](_0x238a95,'LIT_ADD_AM'+'BIENT'),this['fDefineSet'](_0x353576['hasTangent'+'s'],'LIT_TANGEN'+'TS'),this['fDefineSet'](_0x353576['useNormals'],'LIT_USE_NO'+'RMALS'),this['fDefineSet'](_0x353576['useClearCo'+'atNormals'],'LIT_USE_CL'+'EARCOAT_NO'+'RMALS'),this['fDefineSet'](_0x353576['useRefract'+'ion'],'LIT_REFRAC'+'TION'),this['fDefineSet'](_0x353576['useDynamic'+'Refraction'],'LIT_DYNAMI'+'C_REFRACTI'+'ON'),this['fDefineSet'](_0x353576['dispersion'],'LIT_DISPER'+'SION'),this['fDefineSet'](_0x353576['useHeights'],'LIT_HEIGHT'+'S'),this['fDefineSet'](_0x353576['opacityFad'+'esSpecular'],'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR'),this['fDefineSet'](_0x353576['alphaToCov'+'erage'],'LIT_ALPHA_'+'TO_COVERAG'+'E'),this['fDefineSet'](_0x353576['alphaTest'],'LIT_ALPHA_'+'TEST'),this['fDefineSet'](_0x353576['useMsdf'],'LIT_MSDF'),this['fDefineSet'](_0x353576['ssao'],'LIT_SSAO'),this['fDefineSet'](_0x353576['useAo'],'LIT_AO'),this['fDefineSet'](_0x353576['occludeDir'+'ect'],'LIT_OCCLUD'+'E_DIRECT'),this['fDefineSet'](_0x353576['msdfTextAt'+'tribute'],'LIT_MSDF_T'+'EXT_ATTRIB'+'UTE'),this['fDefineSet'](_0x353576['diffuseMap'+'Enabled'],'LIT_DIFFUS'+'E_MAP'),this['fDefineSet'](_0x353576['shadowCatc'+'her'],'LIT_SHADOW'+'_CATCHER'),this['fDefineSet'](!(-0xbe6+0x10e9+0x503*-0x1),'LIT_FRESNE'+'L_MODEL',Rw[_0x353576['fresnelMod'+'el']]),this['fDefineSet'](!(-0x622+0x7db*0x2+-0x4*0x265),'LIT_NONE_S'+'LICE_MODE',qw[_0x353576['nineSliced'+'Mode']]),this['fDefineSet'](!(-0x33d*-0x2+-0x1660+0xfe6*0x1),'LIT_BLEND_'+'TYPE',Yy[_0x353576['blendType']]),this['fDefineSet'](!(0x1269*0x1+-0x17a*-0x14+-0xffb*0x3),'LIT_CUBEMA'+'P_PROJECTI'+'ON',Gw[_0x353576['cubeMapPro'+'jection']]),this['fDefineSet'](!(0x204c+-0x1be0+-0x46c),'LIT_OCCLUD'+'E_SPECULAR',Ww[_0x353576['occludeSpe'+'cular']]),this['fDefineSet'](!(-0x9a7+0x1*-0xa7+0xa4e),'LIT_REFLEC'+'TION_SOURC'+'E',$w[_0x353576['reflection'+'Source']]),this['fDefineSet'](!(0x1333+0xcf4*-0x1+-0x63f),'LIT_AMBIEN'+'T_SOURCE',Xw[_0x353576['ambientSou'+'rce']]),this['fDefineSet'](!(-0x24f4+-0x1adc+0x3fd0),'{lightingU'+'v}',_0x5c4112??''),this['fDefineSet'](!(-0x7*0x466+0x169f*0x1+0x82b),'{reflectio'+'nDecode}',Tr['decodeFunc'](_0x353576['reflection'+'Encoding'])),this['fDefineSet'](!(-0x57*-0xc+-0x90*0x1b+0xb1c),'{reflectio'+'nCubemapDe'+'code}',Tr['decodeFunc'](_0x353576['reflection'+'CubemapEnc'+'oding'])),this['fDefineSet'](!(-0x14*0x30+-0x4eb*-0x5+-0x14d7),'{ambientDe'+'code}',Tr['decodeFunc'](_0x353576['ambientEnc'+'oding'])),this['_setupLigh'+'tingDefine'+'s'](_0x35921b,_0x353576['clusteredL'+'ightingEna'+'bled']);}['prepareSha'+'dowPass'](){const {options:_0x2777a4}=this,_0x1ef54e=this['shaderPass'+'Info']['lightType'],_0x4b3bbb=this['shaderPass'+'Info']['shadowType'],_0x1e9a55=qi['get'](_0x4b3bbb);w['assert'](_0x1e9a55);const _0xb70b51=_0x1ef54e===ve||!_0x1e9a55['vsm']&&_0x1ef54e===Ze;this['fDefineSet'](_0xb70b51,'PERSPECTIV'+'E_DEPTH'),this['fDefineSet'](!(-0x376*-0xb+0x1602+-0x3c14),'LIGHT_TYPE',''+u_[_0x1ef54e]),this['fDefineSet'](!(-0x6c1+-0x1acd+-0x2*-0x10c7),'SHADOW_TYP'+'E',''+_0x1e9a55['name']),this['fDefineSet'](_0x2777a4['alphaTest'],'LIT_ALPHA_'+'TEST');}['generateFr'+'agmentShad'+'er'](_0x22e46d,_0x23cd37,_0x105021){const _0x5a6872=this['options'];this['includes']['set']('frontendDe'+'clPS',_0x22e46d??''),this['includes']['set']('frontendCo'+'dePS',_0x23cd37??''),_0x5a6872['pass']===Zn||_0x5a6872['pass']===Rl||(this['shadowPass']?this['prepareSha'+'dowPass']():this['prepareFor'+'wardPass'](_0x105021)),this['fshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}}class wv{constructor(){h(this,'hasTangent'+'s',!(-0x5e*0xa+0x55c+-0x1af)),h(this,'shaderChun'+'ks',null),h(this,'pass',0x3*0x2b9+0xe7*0x21+0x6*-0x653),h(this,'alphaTest',!(-0x67*0x53+-0x3*-0x1a9+0x1c6b)),h(this,'blendType',Cs),h(this,'separateAm'+'bient',!(-0x176f+0x443*-0x2+0x1ff6)),h(this,'screenSpac'+'e',!(0x2f1*0xa+0xf7*0x4+-0x2145)),h(this,'skin',!(0x1*-0x1ded+0xa88+0x1366)),h(this,'batch',!(-0xabc*-0x1+0xa19+-0x14d4)),h(this,'useInstanc'+'ing',!(-0x1e4*0x7+0x26*-0xa3+0x256f)),h(this,'useMorphPo'+'sition',!(-0x1*-0x14b9+-0x118f+-0x329*0x1)),h(this,'useMorphNo'+'rmal',!(0x1*-0xed7+0x1081+-0x1a9)),h(this,'useMorphTe'+'xtureBased'+'Int',!(0xb2f*-0x1+-0x1946+0x2476)),h(this,'nineSliced'+'Mode',-0x1b91*0x1+-0x346*0x2+0x221d),h(this,'clusteredL'+'ightingEna'+'bled',!(0x3*-0x2b0+0x19a7+0x1197*-0x1)),h(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(0xbd4+0x1387+-0x1f5a)),h(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(-0x1a10+0x2*0xb34+0x3a9)),h(this,'clusteredL'+'ightingSha'+'dowType',-0x1f*-0x1+0x14f6+-0x1515),h(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(-0x1c86+0x2*0xec2+-0x17*0xb)),h(this,'vertexColo'+'rs',!(-0x15e3+0xd1*-0x21+-0x1b*-0x1cf)),h(this,'lightMapEn'+'abled',!(-0x5b*0x53+0x184*-0x1+-0x1f06*-0x1)),h(this,'dirLightMa'+'pEnabled',!(0x12*-0xc2+0x35*-0x91+0x2baa)),h(this,'useHeights',!(0x16ae+0xd99+0x1223*-0x2)),h(this,'useNormals',!(0x2d3+-0x684*-0x1+-0x956)),h(this,'useClearCo'+'atNormals',!(0x21*-0xd4+-0x1aad*-0x1+0xa8)),h(this,'useAo',!(-0x99*0x41+-0x9*-0x449+0x49*0x1)),h(this,'diffuseMap'+'Enabled',!(0x13a*-0xa+-0x22fe+-0x6f*-0x6d)),h(this,'pixelSnap',!(0x1125+-0x2*-0xbdd+-0x28de)),h(this,'ambientSH',!(-0x1*-0x2285+0x1e64+-0x40e8)),h(this,'ssao',!(-0x9d9*-0x1+-0x17e0+0x704*0x2)),h(this,'twoSidedLi'+'ghting',!(-0x1d54*-0x1+-0x22e4+0x1*0x591)),h(this,'occludeDir'+'ect',!(0x1*-0x1208+0x487*0x3+0x2*0x23a)),h(this,'occludeSpe'+'cular',-0x12ea+0x1f7d+-0x3*0x431),h(this,'occludeSpe'+'cularFloat',!(-0x1c76+-0xff6*0x2+0x1*0x3c63)),h(this,'useMsdf',!(-0x1*-0x9b3+-0x19cd+0x101b)),h(this,'msdfTextAt'+'tribute',!(0x2031+0x1381*0x1+-0x33b1)),h(this,'alphaToCov'+'erage',!(0x2221+0x2b*0x5f+0x1*-0x3215)),h(this,'opacityFad'+'esSpecular',!(-0x15a0+-0x1*-0x1e5+0x13bc)),h(this,'opacityDit'+'her',Sa),h(this,'opacitySha'+'dowDither',Sa),h(this,'cubeMapPro'+'jection',0xda*-0x20+0x983+0x11bd*0x1),h(this,'useSpecula'+'r',!(0x595+-0x38*0x97+0x1c*0xfb)),h(this,'useSpecula'+'rityFactor',!(0xacf+0x2*-0x1a8+-0x89*0xe)),h(this,'enableGGXS'+'pecular',!(-0x22c0+0x1ce+-0x23*-0xf1)),h(this,'fresnelMod'+'el',-0xd93+0x1db6+-0x1023),h(this,'useRefract'+'ion',!(0xd5*-0x2e+-0x2*-0xc1d+0xe0d)),h(this,'useClearCo'+'at',!(0x2502+-0x1e28+-0x1*0x6d9)),h(this,'useSheen',!(0x3*0xb8d+0x8f3*0x1+-0x2b99)),h(this,'useIridesc'+'ence',!(0x9*0x3c0+-0x26dd+0x51e)),h(this,'useMetalne'+'ss',!(0x1be*-0x9+0x169b+-0x6ec*0x1)),h(this,'useDynamic'+'Refraction',!(-0x128c+-0x1f2f+0x31bc)),h(this,'dispersion',!(0xdce+-0x33a+-0xa93)),h(this,'fog',Kn),h(this,'gamma',Ll),h(this,'toneMap',-(-0x2357+-0x26e7+0x4a3f*0x1)),h(this,'reflection'+'Source',vr),h(this,'reflection'+'Encoding',null),h(this,'reflection'+'CubemapEnc'+'oding',null),h(this,'ambientSou'+'rce','constant'),h(this,'ambientEnc'+'oding',null),h(this,'skyboxInte'+'nsity',0x201c+-0x17f4+0x827*-0x1),h(this,'useCubeMap'+'Rotation',!(-0x1fb+0x34c*0x5+-0x1d*0x80)),h(this,'lightMapWi'+'thoutAmbie'+'nt',!(-0x9d9+0x7b5+0x3*0xb7)),h(this,'lights',[]),h(this,'noShadow',!(0x77*-0x1+0x1*0x1101+0x1089*-0x1)),h(this,'lightMaskD'+'ynamic',-0x5c0*-0x1+0x1*0x1102+-0x16c2),h(this,'userAttrib'+'utes',{}),h(this,'linearDept'+'h',!(-0x77a*0x4+0x24*-0x33+0x2515)),h(this,'shadowCatc'+'her',!(0xc89+-0x526+-0x36*0x23));}}class dl{constructor(){h(this,'defines',new Map()),h(this,'forceUv1',!(-0xca2+-0xc12*0x2+0x23*0x10d)),h(this,'specularTi'+'nt',!(0x2049+0x19f*-0xa+-0x1012)),h(this,'metalnessT'+'int',!(-0x9d3*0x2+0x38*-0x5b+0x278f)),h(this,'glossTint',!(0x1b64*0x1+0x4dc*-0x5+-0x317)),h(this,'emissiveEn'+'coding','linear'),h(this,'lightMapEn'+'coding','linear'),h(this,'packedNorm'+'al',!(0x115f+0x57+-0x11b5*0x1)),h(this,'normalDeta'+'ilPackedNo'+'rmal',!(0x13*-0x1bb+0x52f*-0x7+-0x452b*-0x1)),h(this,'clearCoatP'+'ackedNorma'+'l',!(-0x35e*0xb+0x1*0x2563+-0x58)),h(this,'glossInver'+'t',!(0xf87+-0x4a7*-0x6+0x4*-0xadc)),h(this,'sheenGloss'+'Invert',!(-0x1bf9+0xd*-0x22a+0x18f*0x24)),h(this,'clearCoatG'+'lossInvert',!(-0x259d+-0x59*-0x5+0x72d*0x5)),h(this,'useAO',!(0x15e4+0x3*0xc5+-0x26*0xa3)),h(this,'litOptions',new wv());}get['pass'](){return this['litOptions']['pass'];}}const Ev={'generateKey'(_0x2f5c0a){return'lit'+Object['keys'](_0x2f5c0a)['sort']()['map'](_0x465a15=>{var _0xd8b4d6;return _0x465a15==='shaderChun'+'ks'?((_0xd8b4d6=_0x2f5c0a['shaderChun'+'ks'])==null?void(-0x1dba+0x19df+0x3db):_0xd8b4d6['key'])??'':_0x465a15==='lights'?Ev['generateLi'+'ghtsKey'](_0x2f5c0a):_0x465a15+_0x2f5c0a[_0x465a15];})['join']('\x0a');},'generateLightsKey'(_0x364c95){return'lights:'+_0x364c95['lights']['map'](_0x4df5b0=>!_0x364c95['clusteredL'+'ightingEna'+'bled']||_0x4df5b0['_type']===ve?_0x4df5b0['key']+',':'')['join']('');}},bn=[],Qd=_0x1f220e=>Object['keys'](_0x1f220e)['filter'](_0xe3db2c=>_0xe3db2c!=='litOptions')['sort']();class fb extends ya{constructor(){super(...arguments),h(this,'optionsCon'+'text',new dl()),h(this,'optionsCon'+'textMin',new dl());}['generateKe'+'y'](_0x42cf17){let _0x4c0931;return _0x42cf17===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Qd(_0x42cf17)),_0x4c0931=this['propsMin']):_0x42cf17===this['optionsCon'+'text']?(this['props']||(this['props']=Qd(_0x42cf17)),_0x4c0931=this['props']):_0x4c0931=Qd(_0x42cf17),'standard:\x0a'+ya['definesHas'+'h'](_0x42cf17['defines'])+'\x0a'+_0x4c0931['map'](_0x591014=>_0x591014+_0x42cf17[_0x591014])['join']('\x0a')+Ev['generateKe'+'y'](_0x42cf17['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0x8c9894,_0x431251,_0x1dcca2){const _0x18edc1=_0x1dcca2[_0x8c9894],_0x311978=_0x1dcca2[_0x431251],_0x2e6e3e=_0x1dcca2['litOptions']['pass']===Aa;let _0x30f2db;return _0x2e6e3e&&_0x1dcca2['litOptions']['nineSliced'+'Mode']===Pt||_0x2e6e3e&&_0x1dcca2['litOptions']['nineSliced'+'Mode']===Mt?_0x30f2db='nineSliced'+'Uv':(_0x18edc1===0x1a13+-0x1a32+0x1f?_0x30f2db='vUv'+_0x311978:_0x30f2db='vUV'+_0x311978+'_'+_0x18edc1,_0x1dcca2['heightMap']&&_0x8c9894!=='heightMapT'+'ransform'&&(_0x30f2db+='\x20+\x20dUvOffs'+'et')),_0x30f2db;}['_validateM'+'apChunk'](_0x54eeeb,_0x341f20,_0x459839){w['call'](()=>{const _0x5d39e3=_0x459839['get'](_0x341f20)['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1'),_0xface69=[],_0x3f2cc8=(_0x4a1a3b,_0x437e84)=>{_0x5d39e3['includes'](_0x4a1a3b)&&_0xface69['push']('\x20\x20'+_0x4a1a3b+'\x20->\x20'+_0x437e84);};[['$UV','{STD_'+_0x54eeeb+('_TEXTURE_U'+'V}')],['$CH','{STD_'+_0x54eeeb+('_TEXTURE_C'+'HANNEL}')],['$SAMPLER','{STD_'+_0x54eeeb+('_TEXTURE_N'+'AME}')],['$DECODE','{STD_'+_0x54eeeb+('_TEXTURE_D'+'ECODE}')],['$VC','{STD_'+_0x54eeeb+('_VERTEX_CH'+'ANNEL}')],['$DETAILMOD'+'E','{STD_'+_0x54eeeb+('_DETAILMOD'+'E}')],['unpackNorm'+'al(','{STD_'+_0x54eeeb+('_TEXTURE_D'+'ECODE}(')]]['forEach'](([_0x2dff27,_0x43cc31])=>_0x3f2cc8(_0x2dff27,_0x43cc31)),[['MAPFLOAT','STD_'+_0x54eeeb+'_CONSTANT'],['MAPCOLOR','STD_'+_0x54eeeb+'_CONSTANT'],['MAPVERTEX','STD_'+_0x54eeeb+'_VERTEX'],['MAPTEXTURE','STD_'+_0x54eeeb+'_TEXTURE'],['MAPINVERT','STD_'+_0x54eeeb+'_INVERT']]['forEach'](([_0x1e05d8,_0x333c5c])=>_0x3f2cc8(_0x1e05d8,_0x333c5c)),_0x5d39e3['includes']('$texture2D'+'SAMPLE')&&_0x3f2cc8('$texture2D'+'SAMPLE','(Macro\x20no\x20'+'longer\x20sup'+'ported\x20-\x20r'+'emove/refa'+'ctor)'),_0xface69['length']>-0x21f8+0x18d*0x1+-0x1*-0x206b&&w['errorOnce']('Shader\x20chu'+'nk\x20'+_0x341f20+('\x20is\x20in\x20no\x20'+'longer\x20com'+'patible\x20fo'+'rmat.\x20Plea'+'se\x20make\x20th'+'ese\x20replac'+'ements\x20to\x20'+'bring\x20it\x20t'+'o\x20the\x20curr'+'ent\x20versio'+'n:\x0a')+_0xface69['join']('\x0a'),{'code':_0x5d39e3});});}['_addMapDef'+'ines'](_0x21636a,_0x4e9f00,_0x2b4af4,_0x2ed5c2,_0xd186b9,_0x1962e6,_0x428901=null){const _0x2a252c=_0x4e9f00+'Map',_0x1c15bb=_0x4e9f00['toUpperCas'+'e'](),_0x3e8a4b=_0x2a252c+'Uv',_0x482a05=_0x2a252c+'Identifier',_0x37b57c=_0x2a252c+'Transform',_0xc63fd4=_0x2a252c+'Channel',_0x3bba77=_0x4e9f00+('VertexColo'+'rChannel'),_0x38b48f=_0x4e9f00+'Tint',_0x4c8b69=_0x4e9f00+('VertexColo'+'r'),_0x572e0d=_0x4e9f00+'Mode',_0xc8c176=_0x4e9f00+'Invert',_0x237890=_0x2ed5c2[_0x38b48f],_0xd66722=_0x2ed5c2[_0x4c8b69],_0x12c522=_0x2ed5c2[_0x2a252c],_0x30d7f5=_0x2ed5c2[_0x482a05],_0x191d9e=_0x2ed5c2[_0x572e0d],_0xdd2d72=_0xd186b9['get'](_0x2b4af4);if(w['assert'](_0xdd2d72,'Shader\x20chu'+'nk\x20'+_0x2b4af4+('\x20not\x20found'+'.')),w['call'](()=>{_0xdd2d72&&this['_validateM'+'apChunk'](_0x1c15bb,_0x2b4af4,_0xd186b9);}),_0x12c522){_0x21636a['set']('STD_'+_0x1c15bb+'_TEXTURE','');const _0x45bc96=this['_getUvSour'+'ceExpressi'+'on'](_0x37b57c,_0x3e8a4b,_0x2ed5c2);_0x21636a['set']('{STD_'+_0x1c15bb+('_TEXTURE_U'+'V}'),_0x45bc96),_0x21636a['set']('{STD_'+_0x1c15bb+('_TEXTURE_C'+'HANNEL}'),_0x2ed5c2[_0xc63fd4]);const _0xd58085='{STD_'+_0x1c15bb+('_TEXTURE_N'+'AME}');if(_0xdd2d72['includes'](_0xd58085)){let _0x577f5a='texture_'+_0x2a252c;const _0xafb0fc=_0x1962e6[_0x30d7f5];_0xafb0fc?_0x577f5a=_0xafb0fc:(_0x1962e6[_0x30d7f5]=_0x577f5a,_0x21636a['set']('STD_'+_0x1c15bb+('_TEXTURE_A'+'LLOCATE'),'')),_0x21636a['set'](_0xd58085,_0x577f5a);}if(_0x428901){const _0x383dd1=_0x2ed5c2[_0xc63fd4]==='aaa'?'passThroug'+'h':Tr['decodeFunc'](_0x428901);_0x21636a['set']('{STD_'+_0x1c15bb+('_TEXTURE_D'+'ECODE}'),_0x383dd1);}}_0xd66722&&(_0x21636a['set']('STD_'+_0x1c15bb+'_VERTEX',''),_0x21636a['set']('{STD_'+_0x1c15bb+('_VERTEX_CH'+'ANNEL}'),_0x2ed5c2[_0x3bba77])),_0x191d9e&&_0x21636a['set']('{STD_'+_0x1c15bb+('_DETAILMOD'+'E}'),_0x191d9e),_0x237890&&_0x21636a['set']('STD_'+_0x1c15bb+'_CONSTANT',''),_0x2ed5c2[_0xc8c176]&&_0x21636a['set']('STD_'+_0x1c15bb+'_INVERT','');}['_correctCh'+'annel'](_0x2a5936,_0x186e31,_0x2bfda5){if(_0x2bfda5[_0x2a5936]>-0x500*0x2+0x5*0x695+-0x33*0x73){if(_0x2bfda5[_0x2a5936]<_0x186e31['length'])return _0x186e31['substring'](-0x1769+-0x4*-0x538+0x289,_0x2bfda5[_0x2a5936]);if(_0x2bfda5[_0x2a5936]>_0x186e31['length']){let _0x5e471f=_0x186e31;const _0x2fc732=_0x5e471f['charAt'](_0x5e471f['length']-(0xa22*-0x1+0x1*-0x21c4+-0x2be7*-0x1)),_0x35d9e6=_0x2bfda5[_0x2a5936]-_0x5e471f['length'];for(let _0x4144d5=0x4*0x5df+-0x1*-0x1481+-0x2bfd;_0x4144d5<_0x35d9e6;_0x4144d5++)_0x5e471f+=_0x2fc732;return _0x5e471f;}return _0x186e31;}}['createVert'+'exShader'](_0x82f727,_0x3cbea5){const _0x5b25e2=[],_0x3b7309=[],_0x2c51a0=[];for(const _0x39bd4a in bn){const _0xce58f0=_0x39bd4a+'Map';if(_0x3cbea5[_0x39bd4a+('VertexColo'+'r')]){const _0x1227f9=_0x39bd4a+('VertexColo'+'rChannel');_0x3cbea5[_0x1227f9]=this['_correctCh'+'annel'](_0x39bd4a,_0x3cbea5[_0x1227f9],bn);}if(_0x3cbea5[_0xce58f0]){const _0x4ca251=_0xce58f0+'Channel',_0xd1a72=_0xce58f0+'Transform',_0xeaeff3=_0xce58f0+'Uv';_0x3cbea5[_0xeaeff3]=Math['min'](_0x3cbea5[_0xeaeff3],-0x45f*-0x5+0xab1+-0x208b),_0x3cbea5[_0x4ca251]=this['_correctCh'+'annel'](_0x39bd4a,_0x3cbea5[_0x4ca251],bn);const _0x3ba4e6=_0x3cbea5[_0xeaeff3];_0x5b25e2[_0x3ba4e6]=!(0x212f+-0x224e*0x1+0x11f),_0x3b7309[_0x3ba4e6]=_0x3b7309[_0x3ba4e6]||_0x3cbea5[_0xce58f0]&&!_0x3cbea5[_0xd1a72],_0x3cbea5[_0xd1a72]&&_0x2c51a0['push']({'name':_0x39bd4a,'id':_0x3cbea5[_0xd1a72],'uv':_0x3cbea5[_0xeaeff3]});}}_0x3cbea5['forceUv1']&&(_0x5b25e2[-0x1975+0x4*0x7ff+-0x686]=!(-0x205d+0x2317+-0x2ba),_0x3b7309[0x1ae8+0x1bac+-0x3693]=_0x3b7309[0x2*-0xdfb+-0x239c+0x7*0x915]!==void(0x29*-0x5d+0x10fe+-0x219)?_0x3b7309[-0x1970+-0x12f9*0x2+-0x3f63*-0x1]:!(0x1e07+0x7ce+-0x25d5*0x1)),_0x82f727['generateVe'+'rtexShader'](_0x5b25e2,_0x3b7309,_0x2c51a0);}['prepareFra'+'gmentDefin'+'es'](_0x1356de,_0x167046,_0x18e2b5){const _0x4fd86a=(_0x198e17,_0x3d2377,_0xd1bc9f='')=>{_0x198e17&&_0x167046['set'](_0x3d2377,_0xd1bc9f);};_0x4fd86a(_0x1356de['lightMap'],'STD_LIGHTM'+'AP',''),_0x4fd86a(_0x1356de['lightVerte'+'xColor'],'STD_LIGHT_'+'VERTEX_COL'+'OR',''),_0x4fd86a(_0x1356de['dirLightMa'+'p']&&_0x1356de['litOptions']['useSpecula'+'r'],'STD_LIGHTM'+'AP_DIR',''),_0x4fd86a(_0x1356de['heightMap'],'STD_HEIGHT'+'_MAP',''),_0x4fd86a(_0x1356de['useSpecula'+'rColor'],'STD_SPECUL'+'AR_COLOR',''),_0x4fd86a(_0x1356de['aoMap']||_0x1356de['aoVertexCo'+'lor']||_0x1356de['useAO'],'STD_AO',''),_0x4fd86a(!(-0x1*0x10c3+0x2ea*-0x5+0x1f55),'STD_OPACIT'+'Y_DITHER',iE[_0x18e2b5['isForward']?_0x1356de['litOptions']['opacityDit'+'her']:_0x1356de['litOptions']['opacitySha'+'dowDither']]);}['createShad'+'erDefiniti'+'on'](_0x3dd02c,_0x3e9241){const _0x55beaf=Si['get'](_0x3dd02c)['getByIndex'](_0x3e9241['litOptions']['pass']),_0x4711d2=_0x55beaf['isForward'],_0x677059=new db(_0x3dd02c,_0x3e9241['litOptions']);this['createVert'+'exShader'](_0x677059,_0x3e9241);const _0x16ea8f={};_0x3e9241['litOptions']['fresnelMod'+'el']=_0x3e9241['litOptions']['fresnelMod'+'el']===0x1*0xa+0xf0d*0x1+0x1*-0xf17?Yp:_0x3e9241['litOptions']['fresnelMod'+'el'];const _0x4fd7b9=_0x677059['fDefines'];this['prepareFra'+'gmentDefin'+'es'](_0x3e9241,_0x4fd7b9,_0x55beaf);let _0x2166f3='';if(_0x4711d2){if(_0x3e9241['heightMap']&&this['_addMapDef'+'ines'](_0x4fd7b9,'height','parallaxPS',_0x3e9241,_0x677059['chunks'],_0x16ea8f),(_0x3e9241['litOptions']['blendType']!==Cs||_0x3e9241['litOptions']['alphaTest']||_0x3e9241['litOptions']['alphaToCov'+'erage']||_0x3e9241['litOptions']['opacityDit'+'her']!==Sa)&&this['_addMapDef'+'ines'](_0x4fd7b9,'opacity','opacityPS',_0x3e9241,_0x677059['chunks'],_0x16ea8f),_0x677059['needsNorma'+'l']){if((_0x3e9241['normalMap']||_0x3e9241['clearCoatN'+'ormalMap'])&&!_0x3e9241['litOptions']['hasTangent'+'s']){const _0x3cf555=_0x3e9241['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x2166f3=this['_getUvSour'+'ceExpressi'+'on'](_0x3cf555+'Transform',_0x3cf555+'Uv',_0x3e9241);}this['_addMapDef'+'ines'](_0x4fd7b9,'normalDeta'+'il','normalMapP'+'S',_0x3e9241,_0x677059['chunks'],_0x16ea8f,_0x3e9241['normalDeta'+'ilPackedNo'+'rmal']?'xy':'xyz'),this['_addMapDef'+'ines'](_0x4fd7b9,'normal','normalMapP'+'S',_0x3e9241,_0x677059['chunks'],_0x16ea8f,_0x3e9241['packedNorm'+'al']?'xy':'xyz');}_0x3e9241['diffuseDet'+'ail']&&this['_addMapDef'+'ines'](_0x4fd7b9,'diffuseDet'+'ail','diffusePS',_0x3e9241,_0x677059['chunks'],_0x16ea8f,_0x3e9241['diffuseDet'+'ailEncodin'+'g']),this['_addMapDef'+'ines'](_0x4fd7b9,'diffuse','diffusePS',_0x3e9241,_0x677059['chunks'],_0x16ea8f,_0x3e9241['diffuseEnc'+'oding']),_0x3e9241['litOptions']['useRefract'+'ion']&&(this['_addMapDef'+'ines'](_0x4fd7b9,'refraction','transmissi'+'onPS',_0x3e9241,_0x677059['chunks'],_0x16ea8f),this['_addMapDef'+'ines'](_0x4fd7b9,'thickness','thicknessP'+'S',_0x3e9241,_0x677059['chunks'],_0x16ea8f)),_0x3e9241['litOptions']['useIridesc'+'ence']&&(this['_addMapDef'+'ines'](_0x4fd7b9,'iridescenc'+'e','iridescenc'+'ePS',_0x3e9241,_0x677059['chunks'],_0x16ea8f),this['_addMapDef'+'ines'](_0x4fd7b9,'iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x3e9241,_0x677059['chunks'],_0x16ea8f)),(_0x677059['lighting']&&_0x3e9241['litOptions']['useSpecula'+'r']||_0x677059['reflection'+'s'])&&(_0x3e9241['litOptions']['useSheen']&&(this['_addMapDef'+'ines'](_0x4fd7b9,'sheen','sheenPS',_0x3e9241,_0x677059['chunks'],_0x16ea8f,_0x3e9241['sheenEncod'+'ing']),this['_addMapDef'+'ines'](_0x4fd7b9,'sheenGloss','sheenGloss'+'PS',_0x3e9241,_0x677059['chunks'],_0x16ea8f)),_0x3e9241['litOptions']['useMetalne'+'ss']&&(this['_addMapDef'+'ines'](_0x4fd7b9,'metalness','metalnessP'+'S',_0x3e9241,_0x677059['chunks'],_0x16ea8f),this['_addMapDef'+'ines'](_0x4fd7b9,'ior','iorPS',_0x3e9241,_0x677059['chunks'],_0x16ea8f)),_0x3e9241['litOptions']['useSpecula'+'rityFactor']&&this['_addMapDef'+'ines'](_0x4fd7b9,'specularit'+'yFactor','specularit'+'yFactorPS',_0x3e9241,_0x677059['chunks'],_0x16ea8f),_0x3e9241['useSpecula'+'rColor']&&this['_addMapDef'+'ines'](_0x4fd7b9,'specular','specularPS',_0x3e9241,_0x677059['chunks'],_0x16ea8f,_0x3e9241['specularEn'+'coding']),this['_addMapDef'+'ines'](_0x4fd7b9,'gloss','glossPS',_0x3e9241,_0x677059['chunks'],_0x16ea8f)),_0x3e9241['aoDetail']&&this['_addMapDef'+'ines'](_0x4fd7b9,'aoDetail','aoPS',_0x3e9241,_0x677059['chunks'],_0x16ea8f),(_0x3e9241['aoMap']||_0x3e9241['aoVertexCo'+'lor']||_0x3e9241['useAO'])&&this['_addMapDef'+'ines'](_0x4fd7b9,'ao','aoPS',_0x3e9241,_0x677059['chunks'],_0x16ea8f),this['_addMapDef'+'ines'](_0x4fd7b9,'emissive','emissivePS',_0x3e9241,_0x677059['chunks'],_0x16ea8f,_0x3e9241['emissiveEn'+'coding']),_0x3e9241['litOptions']['useClearCo'+'at']&&(this['_addMapDef'+'ines'](_0x4fd7b9,'clearCoat','clearCoatP'+'S',_0x3e9241,_0x677059['chunks'],_0x16ea8f),this['_addMapDef'+'ines'](_0x4fd7b9,'clearCoatG'+'loss','clearCoatG'+'lossPS',_0x3e9241,_0x677059['chunks'],_0x16ea8f),this['_addMapDef'+'ines'](_0x4fd7b9,'clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x3e9241,_0x677059['chunks'],_0x16ea8f,_0x3e9241['clearCoatP'+'ackedNorma'+'l']?'xy':'xyz')),_0x3e9241['litOptions']['enableGGXS'+'pecular']&&this['_addMapDef'+'ines'](_0x4fd7b9,'anisotropy','anisotropy'+'PS',_0x3e9241,_0x677059['chunks'],_0x16ea8f),(_0x3e9241['lightMap']||_0x3e9241['lightVerte'+'xColor'])&&this['_addMapDef'+'ines'](_0x4fd7b9,'light','lightmapPS',_0x3e9241,_0x677059['chunks'],_0x16ea8f,_0x3e9241['lightMapEn'+'coding']);}else{const _0x3ccd37=_0x3e9241['litOptions']['opacitySha'+'dowDither'];(_0x3e9241['litOptions']['alphaTest']||_0x3ccd37)&&this['_addMapDef'+'ines'](_0x4fd7b9,'opacity','opacityPS',_0x3e9241,_0x677059['chunks'],_0x16ea8f);}_0x677059['generateFr'+'agmentShad'+'er'](_0x677059['chunks']['get']('stdDeclara'+'tionPS'),_0x677059['chunks']['get']('stdFrontEn'+'dPS'),_0x2166f3);const _0x4441d2=bh['merge'](_0x677059['chunks'],_0x677059['includes']),_0x734721=_0x677059['vDefines'];_0x3e9241['defines']['forEach']((_0x2b6c04,_0x6dd315)=>_0x734721['set'](_0x6dd315,_0x2b6c04)),_0x3e9241['defines']['forEach']((_0x37823d,_0x2d5e8b)=>_0x4fd7b9['set'](_0x2d5e8b,_0x37823d));const _0x3524b4=Jt['createDefi'+'nition'](_0x3dd02c,{'name':'StandardSh'+'ader','attributes':_0x677059['attributes'],'shaderLanguage':_0x677059['shaderLang'+'uage'],'vertexCode':_0x677059['vshader'],'fragmentCode':_0x677059['fshader'],'vertexIncludes':_0x4441d2,'fragmentIncludes':_0x4441d2,'fragmentDefines':_0x4fd7b9,'vertexDefines':_0x734721});return _0x677059['shaderPass'+'Info']['isForward']&&(_0x3524b4['tag']=Sy),_0x3524b4;}}const Jd=new fb(),ss=[];ss[Gp]={'src':Ft,'dst':Ft,'op':Tx},ss[Cs]={'src':Ft,'dst':rp,'op':fs},ss[Zs]={'src':jh,'dst':Yh,'op':fs,'alphaSrc':Ft},ss[Gn]={'src':Ft,'dst':Yh,'op':fs},ss[Hp]={'src':Ft,'dst':Ft,'op':fs},ss[Ed]={'src':jh,'dst':Ft,'op':fs},ss[$p]={'src':JS,'dst':vx,'op':fs},ss[Xp]={'src':xx,'dst':Ft,'op':fs},ss[Wp]={'src':JS,'dst':rp,'op':fs},ss[qp]={'src':Ft,'dst':Ft,'op':wx},ss[jp]={'src':Ft,'dst':Ft,'op':Ex};let ub=0x326+0x9*0x169+0x1*-0xfd7;class tr{constructor(){h(this,'meshInstan'+'ces',[]),h(this,'name','Untitled'),h(this,'userId',''),h(this,'id',ub++),h(this,'variants',new Map()),h(this,'defines',new Map()),h(this,'_definesDi'+'rty',!(-0x1c3+0x9*0x419+0x59*-0x65)),h(this,'parameters',{}),h(this,'alphaTest',-0xcec*0x1+-0x1*0x1f13+0x2bff),h(this,'alphaToCov'+'erage',!(0x503*-0x3+0xa7*0x2+0xdbc)),h(this,'_blendStat'+'e',new pt()),h(this,'_depthStat'+'e',new Yt()),h(this,'cull',pa),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'_shaderChu'+'nks',null),h(this,'_oldChunks',{}),h(this,'_dirtyShad'+'er',!(0x2395+-0x15*-0xf5+-0x37ae)),h(this,'_shaderVer'+'sion',-0x1*0x189d+0xb79+0xd24),h(this,'_scene',null),h(this,'dirty',!(0x629*0x5+-0x1*0x6b3+0xc0d*-0x2)),new.target===tr&&w['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}get['hasShaderC'+'hunks'](){return this['_shaderChu'+'nks']!=null;}get['shaderChun'+'ks'](){return this['_shaderChu'+'nks']||(this['_shaderChu'+'nks']=new Pe()),this['_shaderChu'+'nks'];}['getShaderC'+'hunks'](_0x331a11=Fe){const _0x4a6723=this['shaderChun'+'ks'];return _0x331a11===Fe?_0x4a6723['glsl']:_0x4a6723['wgsl'];}set['shaderChun'+'ksVersion'](_0xe387e7){this['shaderChun'+'ks']['version']=_0xe387e7;}get['shaderChun'+'ksVersion'](){return this['shaderChun'+'ks']['version'];}set['chunks'](_0x135f28){w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),this['_oldChunks']=_0x135f28;}get['chunks'](){return w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),Object['assign'](this['_oldChunks'],Object['fromEntrie'+'s'](this['shaderChun'+'ks']['glsl'])),this['_oldChunks'];}set['depthBias'](_0x1a370e){this['_depthStat'+'e']['depthBias']=_0x1a370e;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0x2da438){this['_depthStat'+'e']['depthBiasS'+'lope']=_0x2da438;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x3b45aa){this['_blendStat'+'e']['redWrite']=_0x3b45aa;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x1f6f2c){this['_blendStat'+'e']['greenWrite']=_0x1f6f2c;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x3abf35){this['_blendStat'+'e']['blueWrite']=_0x3abf35;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0xf6be4f){this['_blendStat'+'e']['alphaWrite']=_0xf6be4f;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x179fac=this['transparen'+'t'],_0xba095e=this['meshInstan'+'ces'];for(let _0x595ab4=-0x2f3+-0x17*-0xd5+-0x250*0x7;_0x595ab4<_0xba095e['length'];_0x595ab4++)_0xba095e[_0x595ab4]['transparen'+'t']=_0x179fac;}set['blendState'](_0x114764){this['_blendStat'+'e']['copy'](_0x114764),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x46b569){const _0x5c2ff3=ss[_0x46b569];w['assert'](_0x5c2ff3,'Unknown\x20bl'+'end\x20mode\x20'+_0x46b569),this['_blendStat'+'e']['setColorBl'+'end'](_0x5c2ff3['op'],_0x5c2ff3['src'],_0x5c2ff3['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x5c2ff3['alphaOp']??_0x5c2ff3['op'],_0x5c2ff3['alphaSrc']??_0x5c2ff3['src'],_0x5c2ff3['alphaDst']??_0x5c2ff3['dst']);const _0x5e41e9=_0x46b569!==Cs;this['_blendStat'+'e']['blend']!==_0x5e41e9&&(this['_blendStat'+'e']['blend']=_0x5e41e9,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return Cs;const {colorOp:_0xfc64ea,colorSrcFactor:_0x5714d1,colorDstFactor:_0x5e1bef,alphaOp:_0xc1ad45,alphaSrcFactor:_0x5d7913,alphaDstFactor:_0x213a70}=this['_blendStat'+'e'];for(let _0x471802=-0xa*0x2bd+0x176c+0x3f6;_0x471802<ss['length'];_0x471802++){const _0x637a5a=ss[_0x471802];if(_0x637a5a['src']===_0x5714d1&&_0x637a5a['dst']===_0x5e1bef&&_0x637a5a['op']===_0xfc64ea&&_0x637a5a['src']===_0x5d7913&&_0x637a5a['dst']===_0x213a70&&_0x637a5a['op']===_0xc1ad45)return _0x471802;}return Zs;}set['depthState'](_0x249a88){this['_depthStat'+'e']['copy'](_0x249a88);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x406b84){this['_depthStat'+'e']['test']=_0x406b84;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x45786f){this['_depthStat'+'e']['func']=_0x45786f;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x3b51be){this['_depthStat'+'e']['write']=_0x3b51be;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x3420b2){var _0x43d6fe,_0x2fc4a9;this['name']=_0x3420b2['name'],this['alphaTest']=_0x3420b2['alphaTest'],this['alphaToCov'+'erage']=_0x3420b2['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x3420b2['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x3420b2['_depthStat'+'e']),this['cull']=_0x3420b2['cull'],this['stencilFro'+'nt']=(_0x43d6fe=_0x3420b2['stencilFro'+'nt'])==null?void(0x264d+-0xbec+-0x1a61):_0x43d6fe['clone'](),_0x3420b2['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x3420b2['stencilFro'+'nt']===_0x3420b2['stencilBac'+'k']?this['stencilFro'+'nt']:_0x3420b2['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x330313 in _0x3420b2['parameters'])_0x3420b2['parameters']['hasOwnProp'+'erty'](_0x330313)&&this['_setParame'+'terSimple'](_0x330313,_0x3420b2['parameters'][_0x330313]['data']);return this['defines']['clear'](),_0x3420b2['defines']['forEach']((_0x3c2871,_0x2d554f)=>this['defines']['set'](_0x2d554f,_0x3c2871)),this['_shaderChu'+'nks']=_0x3420b2['hasShaderC'+'hunks']?new Pe():null,(_0x2fc4a9=this['_shaderChu'+'nks'])==null||_0x2fc4a9['copy'](_0x3420b2['_shaderChu'+'nks']),this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x39ba41=this['meshInstan'+'ces'];for(let _0x52ccfc=-0xa1d+-0xf5*-0x26+-0x1a41;_0x52ccfc<_0x39ba41['length'];_0x52ccfc++)_0x39ba41[_0x52ccfc]['updateKey']();}['updateUnif'+'orms'](_0x20b6ac,_0x15ede5){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x441251){w['assert'](!(-0x14fd+-0x40f*0x1+0x190d),'Not\x20implem'+'ented');}['update'](){var _0x145087,_0x47c3ed;if(Object['keys'](this['_oldChunks'])['length']>-0x5f8+-0x4*0x71f+-0x7e*-0x46){for(const [_0x29ea6e,_0x3f039f]of Object['entries'](this['_oldChunks']))this['shaderChun'+'ks']['glsl']['set'](_0x29ea6e,_0x3f039f),delete this['_oldChunks'][_0x29ea6e];}(this['_definesDi'+'rty']||(_0x145087=this['_shaderChu'+'nks'])!=null&&_0x145087['isDirty']())&&(this['_definesDi'+'rty']=!(-0x1a71+-0x19c3+0x5*0xa71),(_0x47c3ed=this['_shaderChu'+'nks'])==null||_0x47c3ed['resetDirty'](),this['clearVaria'+'nts']()),this['dirty']=!(-0x7dc*0x1+0x1665+-0xe89*0x1);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x4634fd=this['meshInstan'+'ces'],_0x59e47e=_0x4634fd['length'];for(let _0x37dd54=-0x1cd+0x989*0x3+0x49*-0x5e;_0x37dd54<_0x59e47e;_0x37dd54++)_0x4634fd[_0x37dd54]['clearShade'+'rs']();}['getParamet'+'er'](_0x26016e){return this['parameters'][_0x26016e];}['_setParame'+'terSimple'](_0xea3e13,_0x56fcbd){w['call'](()=>{_0x56fcbd===void(-0xf62*-0x1+-0x95+0x1a5*-0x9)&&w['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0xea3e13+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'),this);});const _0xe0dac8=this['parameters'][_0xea3e13];_0xe0dac8?_0xe0dac8['data']=_0x56fcbd:this['parameters'][_0xea3e13]={'scopeId':null,'data':_0x56fcbd};}['setParamet'+'er'](_0x8d5405,_0x403b02){if(_0x403b02===void(0x1*0x1375+0x17e0+-0x1*0x2b55)&&typeof _0x8d5405=='object'){const _0x2b38d8=_0x8d5405;if(_0x2b38d8['length']){for(let _0x1e725e=-0x2411*-0x1+0x1*0x53d+0x1*-0x294e;_0x1e725e<_0x2b38d8['length'];_0x1e725e++)this['setParamet'+'er'](_0x2b38d8[_0x1e725e]);return;}_0x8d5405=_0x2b38d8['name'],_0x403b02=_0x2b38d8['value'];}this['_setParame'+'terSimple'](_0x8d5405,_0x403b02);}['deletePara'+'meter'](_0x33c837){this['parameters'][_0x33c837]&&delete this['parameters'][_0x33c837];}['setParamet'+'ers'](_0x5aea68,_0x5d3c15){const _0x52d55c=this['parameters'];_0x5d3c15===void(-0x959+0x35c*0xb+-0x1b9b)&&(_0x5d3c15=_0x52d55c);for(const _0x36fb97 in _0x5d3c15){const _0x5b93d9=_0x52d55c[_0x36fb97];_0x5b93d9&&(_0x5b93d9['scopeId']||(_0x5b93d9['scopeId']=_0x5aea68['scope']['resolve'](_0x36fb97)),_0x5b93d9['scopeId']['setValue'](_0x5b93d9['data']));}}['setDefine'](_0x5efdd2,_0x7a7ae8){let _0xb27fad=!(0xb*0x11c+0x232*0x7+-0x1*0x1b91);const {defines:_0x249883}=this;_0x7a7ae8!==void(0x6f1*-0x5+0x5*-0x40d+-0x192*-0x23)&&_0x7a7ae8!==!(-0x2*-0xcd5+-0x1*0x1c34+0x5d*0x7)?(_0xb27fad=!_0x249883['has'](_0x5efdd2)||_0x249883['get'](_0x5efdd2)!==_0x7a7ae8,_0x249883['set'](_0x5efdd2,_0x7a7ae8)):(_0xb27fad=_0x249883['has'](_0x5efdd2),_0x249883['delete'](_0x5efdd2)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0xb27fad);}['getDefine'](_0x472ae1){return this['defines']['has'](_0x472ae1);}['destroy'](){this['variants']['clear']();for(let _0x1dc6a5=-0xe1e+0x249*0xa+0x34*-0x2b;_0x1dc6a5<this['meshInstan'+'ces']['length'];_0x1dc6a5++){const _0x230a44=this['meshInstan'+'ces'][_0x1dc6a5];if(_0x230a44['clearShade'+'rs'](),_0x230a44['_material']=null,_0x230a44['mesh']){const _0x1e70ca=Qn(_0x230a44['mesh']['device']);this!==_0x1e70ca&&(_0x230a44['material']=_0x1e70ca);}else w['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=0x1b4+0xb09+-0x43f*0x3;}['addMeshIns'+'tanceRef'](_0x187ab6){this['meshInstan'+'ces']['push'](_0x187ab6);}['removeMesh'+'InstanceRe'+'f'](_0x565903){const _0x43d5c4=this['meshInstan'+'ces'],_0x122a2c=_0x43d5c4['indexOf'](_0x565903);_0x122a2c!==-(-0x1*-0x2491+-0x3*0x254+-0x1d94)&&_0x43d5c4['splice'](_0x122a2c,-0x5a1*-0x3+-0x2084+0xfa2);}}class Ws{static['update'](_0x486d2a,_0x19e69f,_0x51cd67,_0x4495f8,_0x198e2d,_0x317546,_0x31e18f){Ws['updateShar'+'edOptions'](_0x486d2a,_0x19e69f,_0x51cd67,_0x198e2d,_0x317546),Ws['updateMate'+'rialOption'+'s'](_0x486d2a,_0x19e69f),Ws['updateEnvO'+'ptions'](_0x486d2a,_0x19e69f,_0x51cd67,_0x4495f8),Ws['updateLigh'+'tingOption'+'s'](_0x486d2a,_0x19e69f,_0x51cd67,_0x198e2d,_0x31e18f);}static['updateShar'+'edOptions'](_0x286c50,_0x3bd785,_0x55185c,_0x144e4e,_0x504820){_0x286c50['shaderChun'+'ks']=_0x3bd785['shaderChun'+'ks'],_0x286c50['pass']=_0x504820,_0x286c50['alphaTest']=_0x3bd785['alphaTest']>-0x20d3+-0x1*0x1107+-0x58a*-0x9,_0x286c50['blendType']=_0x3bd785['blendType'],_0x286c50['screenSpac'+'e']=_0x144e4e&&(_0x144e4e&Eh)!==0x41f*0x1+0x1*-0x2023+-0x2*-0xe02,_0x286c50['skin']=_0x144e4e&&(_0x144e4e&nl)!==0x1e97*-0x1+0xdcf+-0x598*-0x3,_0x286c50['useInstanc'+'ing']=_0x144e4e&&(_0x144e4e&ol)!==-0x1acc+-0x12f9+-0x1*-0x2dc5,_0x286c50['useMorphPo'+'sition']=_0x144e4e&&(_0x144e4e&ll)!==-0x19a0+0x8cb*0x2+0x80a,_0x286c50['useMorphNo'+'rmal']=_0x144e4e&&(_0x144e4e&cl)!==-0x824+-0x141b+-0x409*-0x7,_0x286c50['useMorphTe'+'xtureBased'+'Int']=_0x144e4e&&(_0x144e4e&hl)!==0x2*0xbf+-0x26b0+0x2532,_0x286c50['hasTangent'+'s']=_0x144e4e&&(_0x144e4e&om)!==-0x26*0x79+0x1391*-0x1+0x2587,_0x286c50['nineSliced'+'Mode']=_0x3bd785['nineSliced'+'Mode']||ci,_0x3bd785['useLightin'+'g']&&_0x55185c['clusteredL'+'ightingEna'+'bled']?(_0x286c50['clusteredL'+'ightingEna'+'bled']=!(-0xe99+-0xb3a+0xb*0x259),_0x286c50['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x55185c['lighting']['cookiesEna'+'bled'],_0x286c50['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x55185c['lighting']['shadowsEna'+'bled'],_0x286c50['clusteredL'+'ightingSha'+'dowType']=_0x55185c['lighting']['shadowType'],_0x286c50['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x55185c['lighting']['areaLights'+'Enabled']):(_0x286c50['clusteredL'+'ightingEna'+'bled']=!(0x864+0x11*-0x15b+0x7*0x218),_0x286c50['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x1946+-0x1*-0x208d+-0x746),_0x286c50['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0xb*0xa5+-0x1c47+-0x9b*-0x23),_0x286c50['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x10aa+-0x1d*-0x10b+0x4*-0xbba));}static['updateMate'+'rialOption'+'s'](_0x52d935,_0x376cfc){_0x52d935['separateAm'+'bient']=!(-0x8b*0x2b+-0xcff+-0x5*-0x745),_0x52d935['pixelSnap']=_0x376cfc['pixelSnap'],_0x52d935['ambientSH']=_0x376cfc['ambientSH'],_0x52d935['twoSidedLi'+'ghting']=_0x376cfc['twoSidedLi'+'ghting'],_0x52d935['occludeDir'+'ect']=_0x376cfc['occludeDir'+'ect'],_0x52d935['occludeSpe'+'cular']=_0x376cfc['occludeSpe'+'cular'],_0x52d935['occludeSpe'+'cularFloat']=_0x376cfc['occludeSpe'+'cularInten'+'sity']!==0x1*0x12cf+0x228+-0x14f6,_0x52d935['useMsdf']=!(0x24fb+-0x1*-0x233+0x1*-0x272d),_0x52d935['msdfTextAt'+'tribute']=!(0x1662+-0x174e+0xed),_0x52d935['alphaToCov'+'erage']=_0x376cfc['alphaToCov'+'erage'],_0x52d935['opacityFad'+'esSpecular']=_0x376cfc['opacityFad'+'esSpecular'],_0x52d935['opacityDit'+'her']=_0x376cfc['opacityDit'+'her'],_0x52d935['cubeMapPro'+'jection']=tm,_0x52d935['useSpecula'+'r']=_0x376cfc['hasSpecula'+'r'],_0x52d935['useSpecula'+'rityFactor']=_0x376cfc['hasSpecula'+'rityFactor'],_0x52d935['enableGGXS'+'pecular']=_0x376cfc['ggxSpecula'+'r'],_0x52d935['fresnelMod'+'el']=_0x376cfc['fresnelMod'+'el'],_0x52d935['useRefract'+'ion']=_0x376cfc['hasRefract'+'ion'],_0x52d935['useClearCo'+'at']=_0x376cfc['hasClearCo'+'at'],_0x52d935['useSheen']=_0x376cfc['hasSheen'],_0x52d935['useIridesc'+'ence']=_0x376cfc['hasIrrides'+'cence'],_0x52d935['useMetalne'+'ss']=_0x376cfc['hasMetalne'+'ss'],_0x52d935['useDynamic'+'Refraction']=_0x376cfc['dynamicRef'+'raction'],_0x52d935['dispersion']=_0x376cfc['dispersion']>0x1d4c+-0xdb0+-0xf9c,_0x52d935['vertexColo'+'rs']=!(-0x25ad+0x1615+0xf99),_0x52d935['lightMapEn'+'abled']=_0x376cfc['hasLightin'+'g'],_0x52d935['dirLightMa'+'pEnabled']=_0x376cfc['dirLightMa'+'p'],_0x52d935['useHeights']=_0x376cfc['hasHeights'],_0x52d935['useNormals']=_0x376cfc['hasNormals'],_0x52d935['useClearCo'+'atNormals']=_0x376cfc['hasClearCo'+'atNormals'],_0x52d935['useAo']=_0x376cfc['hasAo'],_0x52d935['diffuseMap'+'Enabled']=_0x376cfc['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x1ba18d,_0x561fee,_0x66aeb1,_0x341799){_0x1ba18d['fog']=_0x561fee['useFog']?_0x341799['fog']:Kn,_0x1ba18d['gamma']=_0x341799['shaderOutp'+'utGamma'],_0x1ba18d['toneMap']=_0x561fee['useTonemap']?_0x341799['toneMappin'+'g']:nv,_0x561fee['useSkybox']&&_0x66aeb1['envAtlas']&&_0x66aeb1['skybox']?(_0x1ba18d['reflection'+'Source']=xh,_0x1ba18d['reflection'+'Encoding']=_0x66aeb1['envAtlas']['encoding'],_0x1ba18d['reflection'+'CubemapEnc'+'oding']=_0x66aeb1['skybox']['encoding']):_0x561fee['useSkybox']&&_0x66aeb1['envAtlas']?(_0x1ba18d['reflection'+'Source']=vh,_0x1ba18d['reflection'+'Encoding']=_0x66aeb1['envAtlas']['encoding']):_0x561fee['useSkybox']&&_0x66aeb1['skybox']?(_0x1ba18d['reflection'+'Source']=Th,_0x1ba18d['reflection'+'Encoding']=_0x66aeb1['skybox']['encoding']):(_0x1ba18d['reflection'+'Source']=vr,_0x1ba18d['reflection'+'Encoding']=null),_0x561fee['ambientSH']?(_0x1ba18d['ambientSou'+'rce']=im,_0x1ba18d['ambientEnc'+'oding']=null):_0x1ba18d['reflection'+'Source']!==vr&&_0x66aeb1['envAtlas']?(_0x1ba18d['ambientSou'+'rce']=rm,_0x1ba18d['ambientEnc'+'oding']=_0x66aeb1['envAtlas']['encoding']):(_0x1ba18d['ambientSou'+'rce']=am,_0x1ba18d['ambientEnc'+'oding']=null);const _0x273b68=_0x1ba18d['reflection'+'Source']!==vr;_0x1ba18d['skyboxInte'+'nsity']=_0x273b68,_0x1ba18d['useCubeMap'+'Rotation']=_0x273b68&&_0x66aeb1['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0xa4b032,_0x4635fa,_0x2adffe,_0x135cf1,_0x174adc){if(_0xa4b032['lightMapWi'+'thoutAmbie'+'nt']=!(-0x1*-0x4d5+0xe80+-0x4*0x4d5),_0x4635fa['useLightin'+'g']){const _0x499cf6=[],_0x1c5937=_0x135cf1?_0x135cf1>>-0x2458*0x1+0xc78+0x17f0:Ss;_0xa4b032['lightMaskD'+'ynamic']=!!(_0x1c5937&Ss),_0xa4b032['lightMapWi'+'thoutAmbie'+'nt']=!(-0x149d+0x23ef+-0x51b*0x3),_0x174adc&&(Ws['collectLig'+'hts'](ve,_0x174adc[ve],_0x499cf6,_0x1c5937),_0x2adffe['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0x174adc[Ke],_0x499cf6,_0x1c5937),Ws['collectLig'+'hts'](Ze,_0x174adc[Ze],_0x499cf6,_0x1c5937))),_0xa4b032['lights']=_0x499cf6;}else _0xa4b032['lights']=[];(_0xa4b032['lights']['length']===-0x23*-0x10d+0xf06+-0x33cd&&!_0x2adffe['clusteredL'+'ightingEna'+'bled']||(_0x135cf1&wh)!==-0x1f5a*-0x1+-0x1*0x1d3b+-0x21f)&&(_0xa4b032['noShadow']=!(0x1*-0x2311+-0xc3b*-0x1+0x16d6));}static['collectLig'+'hts'](_0x12cb8a,_0x3043d0,_0x4fe0fa,_0x1ec6cb){for(let _0x5c3baa=0xf5+-0x23d0+-0x1*-0x22db;_0x5c3baa<_0x3043d0['length'];_0x5c3baa++){const _0x3d31b1=_0x3043d0[_0x5c3baa];_0x3d31b1['enabled']&&_0x3d31b1['mask']&_0x1ec6cb&&_0x4fe0fa['push'](_0x3d31b1);}}}const G_=(_0xfd5da6,_0x98b25f)=>{if(_0xfd5da6['length']!==_0x98b25f['length'])return!(0x246e+0x1118+-0x3585);for(let _0x37951d=0xb3*0xb+0x139+-0x8ea;_0x37951d<_0xfd5da6['length'];++_0x37951d)if(_0xfd5da6[_0x37951d]!==_0x98b25f[_0x37951d])return!(0x222*-0x1+0x4ea+0x2c7*-0x1);return!(-0x279*-0x1+-0xb2*0x25+-0x1*-0x1741);},pb=_0x51c59e=>_0x51c59e['r']!==-0x1f*-0xc1+0x5*-0x5fb+0x689||_0x51c59e['g']!==-0x442*-0x1+-0x1bd*0x7+0x7ea*0x1||_0x51c59e['b']!==-0x23e4+-0x652+0x2a37,mb=_0x3d6601=>_0x3d6601['r']!==0x1ef5+-0x23b9+0x5*0xf4||_0x3d6601['g']!==-0x10dd*0x1+-0x1163+0x2240||_0x3d6601['b']!==-0x1999+0x1d64+-0x3cb*0x1;class _b{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x4de4b1,_0x15b778,_0x44b048,_0x7fafa1,_0x3141f9,_0x3a7832){this['_updateSha'+'redOptions'](_0x4de4b1,_0x15b778,_0x44b048,_0x7fafa1,_0x3141f9),this['_updateMin'+'Options'](_0x4de4b1,_0x44b048,_0x3141f9),this['_updateUVO'+'ptions'](_0x4de4b1,_0x44b048,_0x7fafa1,!(-0x107*-0x7+0x14e1+-0x1c12));}['updateRef'](_0x5cc226,_0x18639e,_0x4baba8,_0x5661fa,_0x182263,_0x116cee,_0xbb24cf){this['_updateSha'+'redOptions'](_0x5cc226,_0x18639e,_0x5661fa,_0x182263,_0x116cee),this['_updateEnv'+'Options'](_0x5cc226,_0x5661fa,_0x18639e,_0x4baba8),this['_updateMat'+'erialOptio'+'ns'](_0x5cc226,_0x5661fa,_0x18639e),_0x5cc226['litOptions']['hasTangent'+'s']=_0x182263&&(_0x182263&om)!==0x1728+0xf+-0x1737,this['_updateLig'+'htOptions'](_0x5cc226,_0x18639e,_0x5661fa,_0x182263,_0xbb24cf),this['_updateUVO'+'ptions'](_0x5cc226,_0x5661fa,_0x182263,!(-0xb*-0x13c+-0x169b*-0x1+-0x34a*0xb),_0x4baba8);}['_updateSha'+'redOptions'](_0x32ffee,_0x571455,_0x40a7de,_0x270fe8,_0x12e086){_0x32ffee['forceUv1']=_0x40a7de['forceUv1'],_0x40a7de['userAttrib'+'utes']&&(_0x32ffee['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x40a7de['userAttrib'+'utes']['entries']())),_0x32ffee['litOptions']['shaderChun'+'ks']=_0x40a7de['shaderChun'+'ks'],_0x32ffee['litOptions']['pass']=_0x12e086,_0x32ffee['litOptions']['alphaTest']=_0x40a7de['alphaTest']>0x2*-0xd65+0xf79+0x1*0xb51,_0x32ffee['litOptions']['blendType']=_0x40a7de['blendType'],_0x32ffee['litOptions']['screenSpac'+'e']=_0x270fe8&&(_0x270fe8&Eh)!==-0x1aba+-0x4f*-0x39+-0x923*-0x1,_0x32ffee['litOptions']['skin']=_0x270fe8&&(_0x270fe8&nl)!==-0x8e9+-0x11e+-0x1*-0xa07,_0x32ffee['litOptions']['batch']=_0x270fe8&&(_0x270fe8&qc)!==-0x2363+0x5fd+0x1d66,_0x32ffee['litOptions']['useInstanc'+'ing']=_0x270fe8&&(_0x270fe8&ol)!==0x1345+0x82a+-0x3*0x925,_0x32ffee['litOptions']['useMorphPo'+'sition']=_0x270fe8&&(_0x270fe8&ll)!==0x138*0xb+0x1311*-0x1+0xa1*0x9,_0x32ffee['litOptions']['useMorphNo'+'rmal']=_0x270fe8&&(_0x270fe8&cl)!==-0x1*0x2173+-0x8c3+-0x1*-0x2a36,_0x32ffee['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x270fe8&&(_0x270fe8&hl)!==0x2429+0x1*0x5b5+-0xe9*0x2e,_0x32ffee['litOptions']['nineSliced'+'Mode']=_0x40a7de['nineSliced'+'Mode']||0x45d*-0x1+0x160a+-0x11ad,_0x571455['clusteredL'+'ightingEna'+'bled']&&_0x40a7de['useLightin'+'g']?(_0x32ffee['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x19b5*-0x1+0x7*0x557+0xf9*-0xc),_0x32ffee['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x571455['lighting']['cookiesEna'+'bled'],_0x32ffee['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x571455['lighting']['shadowsEna'+'bled'],_0x32ffee['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x571455['lighting']['shadowType'],_0x32ffee['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x571455['lighting']['areaLights'+'Enabled']):(_0x32ffee['litOptions']['clusteredL'+'ightingEna'+'bled']=!(-0x1*-0x1ebf+0x2181+0x1*-0x403f),_0x32ffee['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(0x208c+0x169*-0x7+0x4*-0x5ab),_0x32ffee['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x2510+-0x7fb+-0x1686*-0x2),_0x32ffee['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(-0xcf7*-0x3+-0xb39+0x1*-0x1bab));}['_updateUVO'+'ptions'](_0x10cd4d,_0x2037df,_0x5bb11a,_0x2afc1d,_0x837584){let _0x1843f3=!(0x2138+0x7d*0x28+-0x34bf),_0x26e13b=!(0x1d30+0x1081+-0x2db0),_0x17ba0e=!(-0x1c85+0xa3d*0x2+0x80c);_0x5bb11a&&(_0x1843f3=(_0x5bb11a&nm)!==-0x1ae9+-0x2060+-0x13c3*-0x3,_0x26e13b=(_0x5bb11a&dv)!==0x255*-0x1+0x6*0x272+0xd*-0xf3,_0x17ba0e=(_0x5bb11a&fv)!==-0x183f*-0x1+-0x2383+-0xe*-0xce),_0x10cd4d['litOptions']['vertexColo'+'rs']=!(-0x2563+-0x41f+0x2983),this['_mapXForms']=[];const _0x4fe81d={};for(const _0x5e36fe in bn)this['_updateTex'+'Options'](_0x10cd4d,_0x2037df,_0x5e36fe,_0x1843f3,_0x26e13b,_0x17ba0e,_0x2afc1d,_0x4fe81d);this['_mapXForms']=null,_0x10cd4d['litOptions']['ssao']=_0x837584==null?void(0xdd1*0x1+0x1f7f+0x50*-0x91):_0x837584['ssaoEnable'+'d'],_0x10cd4d['useAO']=_0x10cd4d['litOptions']['ssao'],_0x10cd4d['litOptions']['lightMapEn'+'abled']=_0x10cd4d['lightMap'],_0x10cd4d['litOptions']['dirLightMa'+'pEnabled']=_0x10cd4d['dirLightMa'+'p'],_0x10cd4d['litOptions']['useHeights']=_0x10cd4d['heightMap'],_0x10cd4d['litOptions']['useNormals']=_0x10cd4d['normalMap'],_0x10cd4d['litOptions']['useClearCo'+'atNormals']=_0x10cd4d['clearCoatN'+'ormalMap'],_0x10cd4d['litOptions']['useAo']=_0x10cd4d['aoMap']||_0x10cd4d['aoVertexCo'+'lor']||_0x10cd4d['litOptions']['ssao'],_0x10cd4d['litOptions']['diffuseMap'+'Enabled']=_0x10cd4d['diffuseMap'];}['_updateTex'+'Options'](_0x5ef889,_0x392b6a,_0x24cdce,_0x375e36,_0x1f4e36,_0x25f427,_0x307ab8,_0x1d9c31){const _0x164f89=_0x24cdce==='opacity';if(!_0x307ab8||_0x164f89){const _0x443c1d=_0x24cdce+'Map',_0x355452=_0x24cdce+('VertexColo'+'r'),_0x2a55eb=_0x24cdce+('VertexColo'+'rChannel'),_0xd8eb0e=_0x443c1d+'Channel',_0x3a7fa3=_0x443c1d+'Transform',_0xc90f41=_0x443c1d+'Uv',_0x2348c4=_0x443c1d+'Identifier';if(_0x24cdce!=='light'&&(_0x5ef889[_0x443c1d]=!(0x187b+-0x907+0x235*-0x7),_0x5ef889[_0x2348c4]=void(0x1499*0x1+0x22ed*-0x1+0xe54),_0x5ef889[_0xd8eb0e]='',_0x5ef889[_0x3a7fa3]=-0x254b+-0xa7*-0x7+-0x8e*-0x3b,_0x5ef889[_0xc90f41]=0x2*-0x139+-0x1*-0x19f6+-0x23*0xac),_0x5ef889[_0x355452]=!(0x38f+0xbf6+0x296*-0x6),_0x5ef889[_0x2a55eb]='',_0x164f89&&_0x392b6a['blendType']===Cs&&_0x392b6a['alphaTest']===-0x1*-0x1607+-0x9e3*-0x2+-0x29cd&&!_0x392b6a['alphaToCov'+'erage']&&_0x392b6a['opacityDit'+'her']===Sa)return;if(_0x24cdce!=='height'&&_0x392b6a[_0x355452]&&_0x25f427&&(_0x5ef889[_0x355452]=_0x392b6a[_0x355452],_0x5ef889[_0x2a55eb]=_0x392b6a[_0x2a55eb],_0x5ef889['litOptions']['vertexColo'+'rs']=!(-0x2120+0x1*0x250b+0x1*-0x3eb)),_0x392b6a[_0x443c1d]){let _0x27a341=!(0x15*0xf8+0x1*0x253e+-0x3996);if(_0x392b6a[_0xc90f41]===0x22e3+0x83*0x19+-0x2*0x17d7&&!_0x375e36&&(_0x27a341=!(-0x16f*0x2+0xde6+0x1*-0xb07)),_0x392b6a[_0xc90f41]===0x1*0x16a7+0xc35+-0x22db&&!_0x1f4e36&&(_0x27a341=!(-0x6c8+-0x8*0x20b+0x1721)),_0x27a341){const _0x122adf=_0x392b6a[_0x443c1d]['id'];let _0x3c8ec2=_0x1d9c31[_0x122adf];_0x3c8ec2===void(0x959*-0x4+-0x1e0f+0x22d*0x1f)&&(_0x1d9c31[_0x122adf]=_0x24cdce,_0x3c8ec2=_0x24cdce),_0x5ef889[_0x443c1d]=!!_0x392b6a[_0x443c1d],_0x5ef889[_0x2348c4]=_0x3c8ec2,_0x5ef889[_0x3a7fa3]=this['_getMapTra'+'nsformID'](_0x392b6a['getUniform'](_0x3a7fa3),_0x392b6a[_0xc90f41]),_0x5ef889[_0xd8eb0e]=_0x392b6a[_0xd8eb0e],_0x5ef889[_0xc90f41]=_0x392b6a[_0xc90f41];}}}}['_updateMin'+'Options'](_0x2870a9,_0x10065d,_0x1fd204){const _0x434fab=_0x1fd204===Rl;_0x2870a9['litOptions']['opacitySha'+'dowDither']=_0x434fab?_0x10065d['opacityDit'+'her']:_0x10065d['opacitySha'+'dowDither'],_0x2870a9['litOptions']['linearDept'+'h']=_0x434fab,_0x2870a9['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x5313bc,_0x3195b6,_0x7d4915){var _0x274b4e,_0x27d182,_0x49c718,_0x1c1a52,_0xe74921,_0x46c74b;const _0x19c9c2=!!(_0x3195b6['useMetalne'+'ss']||_0x3195b6['specularMa'+'p']||_0x3195b6['sphereMap']||_0x3195b6['cubeMap']||mb(_0x3195b6['specular'])||_0x3195b6['specularit'+'yFactor']>-0x7d1*0x2+-0x13d*-0x7+-0x1*-0x6f7&&_0x3195b6['useMetalne'+'ss']||_0x3195b6['enableGGXS'+'pecular']||_0x3195b6['clearCoat']>-0x35*-0x1+-0x7*-0xa+0x29*-0x3),_0x1a8f44=!_0x3195b6['useMetalne'+'ss']||_0x3195b6['useMetalne'+'ssSpecular'+'Color'],_0xa51347=_0x19c9c2&&(_0x3195b6['specularTi'+'nt']||!_0x3195b6['specularMa'+'p']&&!_0x3195b6['specularVe'+'rtexColor'])&&pb(_0x3195b6['specular']),_0x225c26=_0x19c9c2&&_0x3195b6['useMetalne'+'ssSpecular'+'Color']&&(_0x3195b6['specularit'+'yFactorTin'+'t']||_0x3195b6['specularit'+'yFactor']<-0x1*0x1474+0xa56*-0x1+0x1*0x1ecb&&!_0x3195b6['specularit'+'yFactorMap']),_0x15fadf=_0x54fc86=>_0x54fc86?_0x54fc86['format']===vl||_0x54fc86['type']===Jo:!(0x2*-0xd03+0x1ef0+-0x4e9),_0x270190=(_0x4754be,_0x42bbd4)=>Math['abs'](_0x4754be-_0x42bbd4)<-0x10fb+-0x4b4*0x8+0x7cd*0x7+0.0001;_0x5313bc['specularTi'+'nt']=_0xa51347,_0x5313bc['specularit'+'yFactorTin'+'t']=_0x225c26,_0x5313bc['metalnessT'+'int']=_0x3195b6['useMetalne'+'ss']&&_0x3195b6['metalness']<0x24bb+0xc86+-0x3140,_0x5313bc['glossTint']=!(-0x5b*-0xf+-0xdc6+-0x1*-0x871),_0x5313bc['diffuseEnc'+'oding']=(_0x274b4e=_0x3195b6['diffuseMap'])==null?void(-0xb4d+0x4*0x54b+-0x9df):_0x274b4e['encoding'],_0x5313bc['diffuseDet'+'ailEncodin'+'g']=(_0x27d182=_0x3195b6['diffuseDet'+'ailMap'])==null?void(0xe*0x3b+0x58*0x60+-0x243a):_0x27d182['encoding'],_0x5313bc['emissiveEn'+'coding']=(_0x49c718=_0x3195b6['emissiveMa'+'p'])==null?void(0x7*0x3f1+-0x1634+0xc5*-0x7):_0x49c718['encoding'],_0x5313bc['lightMapEn'+'coding']=(_0x1c1a52=_0x3195b6['lightMap'])==null?void(0x2*0x167+-0x1a9f+0x367*0x7):_0x1c1a52['encoding'],_0x5313bc['packedNorm'+'al']=_0x15fadf(_0x3195b6['normalMap']),_0x5313bc['refraction'+'Tint']=_0x270190(_0x3195b6['refraction'],0x25b3+-0x1b4+-0x23fe),_0x5313bc['refraction'+'IndexTint']=_0x270190(_0x3195b6['refraction'+'Index'],(0x2312*-0x1+-0xb2f*-0x1+0x17e4)/(-0x2*-0xccd+-0x1fc8+-0x62f*-0x1+0.5)),_0x5313bc['thicknessT'+'int']=_0x3195b6['useDynamic'+'Refraction']&&_0x3195b6['thickness']!==0xca*-0x6+-0x2113+0xb*0x370,_0x5313bc['specularEn'+'coding']=(_0xe74921=_0x3195b6['specularMa'+'p'])==null?void(0x39b*0x6+-0x1c5*0x11+0x873):_0xe74921['encoding'],_0x5313bc['sheenEncod'+'ing']=(_0x46c74b=_0x3195b6['sheenMap'])==null?void(-0x16af*-0x1+-0x6df+-0xfd0):_0x46c74b['encoding'],_0x5313bc['aoMapUv']=_0x3195b6['aoUvSet'],_0x5313bc['aoDetail']=!!_0x3195b6['aoDetailMa'+'p'],_0x5313bc['diffuseDet'+'ail']=!!_0x3195b6['diffuseDet'+'ailMap'],_0x5313bc['normalDeta'+'il']=!!_0x3195b6['normalMap'],_0x5313bc['normalDeta'+'ilPackedNo'+'rmal']=_0x15fadf(_0x3195b6['normalDeta'+'ilMap']),_0x5313bc['diffuseDet'+'ailMode']=_0x3195b6['diffuseDet'+'ailMode'],_0x5313bc['aoDetailMo'+'de']=_0x3195b6['aoDetailMo'+'de'],_0x5313bc['clearCoatG'+'loss']=!!_0x3195b6['clearCoatG'+'loss'],_0x5313bc['clearCoatP'+'ackedNorma'+'l']=_0x15fadf(_0x3195b6['clearCoatN'+'ormalMap']),_0x5313bc['iorTint']=_0x270190(_0x3195b6['refraction'+'Index'],(0x1*-0x1abd+-0xacf*-0x1+-0xfef*-0x1)/(-0x202*-0x5+-0x10a3*-0x1+0x1*-0x1aac+0.5)),_0x7d4915['forcePassT'+'hroughSpec'+'ular']&&(_0x5313bc['specularEn'+'coding']='linear',_0x5313bc['sheenEncod'+'ing']='linear'),_0x5313bc['iridescenc'+'eTint']=_0x3195b6['iridescenc'+'e']!==-0x1*-0x1e13+-0x1895+-0x57d,_0x5313bc['glossInver'+'t']=_0x3195b6['glossInver'+'t'],_0x5313bc['sheenGloss'+'Invert']=_0x3195b6['sheenGloss'+'Invert'],_0x5313bc['clearCoatG'+'lossInvert']=_0x3195b6['clearCoatG'+'lossInvert'],_0x5313bc['useSpecula'+'rColor']=_0x1a8f44,_0x5313bc['litOptions']['separateAm'+'bient']=!(0x2*0x925+0x255*-0xf+0x10b2),_0x5313bc['litOptions']['pixelSnap']=_0x3195b6['pixelSnap'],_0x5313bc['litOptions']['ambientSH']=!!_0x3195b6['ambientSH'],_0x5313bc['litOptions']['twoSidedLi'+'ghting']=_0x3195b6['twoSidedLi'+'ghting'],_0x5313bc['litOptions']['occludeSpe'+'cular']=_0x3195b6['occludeSpe'+'cular'],_0x5313bc['litOptions']['occludeSpe'+'cularFloat']=_0x3195b6['occludeSpe'+'cularInten'+'sity']!==0x1bd7+0x3*0x5ae+0x2*-0x1670,_0x5313bc['litOptions']['useMsdf']=!!_0x3195b6['msdfMap'],_0x5313bc['litOptions']['msdfTextAt'+'tribute']=!!_0x3195b6['msdfTextAt'+'tribute'],_0x5313bc['litOptions']['alphaToCov'+'erage']=_0x3195b6['alphaToCov'+'erage'],_0x5313bc['litOptions']['opacityFad'+'esSpecular']=_0x3195b6['opacityFad'+'esSpecular'],_0x5313bc['litOptions']['opacityDit'+'her']=_0x3195b6['opacityDit'+'her'],_0x5313bc['litOptions']['cubeMapPro'+'jection']=_0x3195b6['cubeMapPro'+'jection'],_0x5313bc['litOptions']['occludeDir'+'ect']=_0x3195b6['occludeDir'+'ect'],_0x5313bc['litOptions']['useSpecula'+'r']=_0x19c9c2,_0x5313bc['litOptions']['useSpecula'+'rityFactor']=(_0x225c26||!!_0x3195b6['specularit'+'yFactorMap'])&&_0x3195b6['useMetalne'+'ssSpecular'+'Color'],_0x5313bc['litOptions']['enableGGXS'+'pecular']=_0x3195b6['enableGGXS'+'pecular'],_0x5313bc['litOptions']['fresnelMod'+'el']=_0x3195b6['fresnelMod'+'el'],_0x5313bc['litOptions']['useRefract'+'ion']=(_0x3195b6['refraction']||!!_0x3195b6['refraction'+'Map'])&&(_0x3195b6['useDynamic'+'Refraction']||_0x5313bc['litOptions']['reflection'+'Source']!==vr),_0x5313bc['litOptions']['useClearCo'+'at']=!!_0x3195b6['clearCoat'],_0x5313bc['litOptions']['useSheen']=_0x3195b6['useSheen'],_0x5313bc['litOptions']['useIridesc'+'ence']=_0x3195b6['useIridesc'+'ence']&&_0x3195b6['iridescenc'+'e']!==-0x1617+0x1*-0x1c37+0x324e,_0x5313bc['litOptions']['useMetalne'+'ss']=_0x3195b6['useMetalne'+'ss'],_0x5313bc['litOptions']['useDynamic'+'Refraction']=_0x3195b6['useDynamic'+'Refraction'],_0x5313bc['litOptions']['dispersion']=_0x3195b6['dispersion']>-0x1bfd+-0x1fd1+0x1de7*0x2,_0x5313bc['litOptions']['shadowCatc'+'her']=_0x3195b6['shadowCatc'+'her'];}['_updateEnv'+'Options'](_0x4a9eb3,_0x3755ca,_0x11a966,_0x565667){_0x4a9eb3['litOptions']['fog']=_0x3755ca['useFog']?_0x565667['fog']:Kn,_0x4a9eb3['litOptions']['gamma']=_0x565667['shaderOutp'+'utGamma'],_0x4a9eb3['litOptions']['toneMap']=_0x3755ca['useTonemap']?_0x565667['toneMappin'+'g']:nv;let _0xf33cb1=!(-0x7d*0x6+0x153f+-0x2*0x928);if(_0x3755ca['envAtlas']&&_0x3755ca['cubeMap']?(_0x4a9eb3['litOptions']['reflection'+'Source']=xh,_0x4a9eb3['litOptions']['reflection'+'Encoding']=_0x3755ca['envAtlas']['encoding'],_0x4a9eb3['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x3755ca['cubeMap']['encoding']):_0x3755ca['envAtlas']?(_0x4a9eb3['litOptions']['reflection'+'Source']=vh,_0x4a9eb3['litOptions']['reflection'+'Encoding']=_0x3755ca['envAtlas']['encoding']):_0x3755ca['cubeMap']?(_0x4a9eb3['litOptions']['reflection'+'Source']=Th,_0x4a9eb3['litOptions']['reflection'+'Encoding']=_0x3755ca['cubeMap']['encoding']):_0x3755ca['sphereMap']?(_0x4a9eb3['litOptions']['reflection'+'Source']=hv,_0x4a9eb3['litOptions']['reflection'+'Encoding']=_0x3755ca['sphereMap']['encoding']):_0x3755ca['useSkybox']&&_0x11a966['envAtlas']&&_0x11a966['skybox']?(_0x4a9eb3['litOptions']['reflection'+'Source']=xh,_0x4a9eb3['litOptions']['reflection'+'Encoding']=_0x11a966['envAtlas']['encoding'],_0x4a9eb3['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x11a966['skybox']['encoding'],_0xf33cb1=!(-0xd92+-0x23f4+0x3186)):_0x3755ca['useSkybox']&&_0x11a966['envAtlas']?(_0x4a9eb3['litOptions']['reflection'+'Source']=vh,_0x4a9eb3['litOptions']['reflection'+'Encoding']=_0x11a966['envAtlas']['encoding'],_0xf33cb1=!(-0x52f+-0x196c+-0x61f*-0x5)):_0x3755ca['useSkybox']&&_0x11a966['skybox']?(_0x4a9eb3['litOptions']['reflection'+'Source']=Th,_0x4a9eb3['litOptions']['reflection'+'Encoding']=_0x11a966['skybox']['encoding'],_0xf33cb1=!(0x1a31+0x706+-0x2137)):(_0x4a9eb3['litOptions']['reflection'+'Source']=vr,_0x4a9eb3['litOptions']['reflection'+'Encoding']=null),_0x3755ca['ambientSH'])_0x4a9eb3['litOptions']['ambientSou'+'rce']=im,_0x4a9eb3['litOptions']['ambientEnc'+'oding']=null;else{const _0x188e4c=_0x3755ca['envAtlas']||(_0x3755ca['useSkybox']&&_0x11a966['envAtlas']?_0x11a966['envAtlas']:null);_0x188e4c&&!_0x3755ca['sphereMap']?(_0x4a9eb3['litOptions']['ambientSou'+'rce']=rm,_0x4a9eb3['litOptions']['ambientEnc'+'oding']=_0x188e4c['encoding']):(_0x4a9eb3['litOptions']['ambientSou'+'rce']=am,_0x4a9eb3['litOptions']['ambientEnc'+'oding']=null);}_0x4a9eb3['litOptions']['skyboxInte'+'nsity']=_0xf33cb1,_0x4a9eb3['litOptions']['useCubeMap'+'Rotation']=_0xf33cb1&&_0x11a966['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x59495f,_0x3cc794,_0x1309b6,_0x170e55,_0x3f88e9){if(_0x59495f['lightMap']=!(-0x21eb+0xd03+0x1*0x14e9),_0x59495f['lightMapCh'+'annel']='',_0x59495f['lightMapUv']=0x10a7+0x10*0x248+0x1*-0x3527,_0x59495f['lightMapTr'+'ansform']=0x3*-0x419+0x34*-0x40+0x194b,_0x59495f['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x1df5+0x1c7a+0x5f*0x4),_0x59495f['dirLightMa'+'p']=!(0x1d9b*0x1+-0x1*0x673+-0x1727),_0x170e55&&(_0x59495f['litOptions']['noShadow']=(_0x170e55&wh)!==-0x1*0x269b+0x256e+-0x7*-0x2b,(_0x170e55&ou)!==-0x3*-0x981+-0xf3*0x11+-0xc60&&(_0x59495f['lightMapEn'+'coding']=_0x3cc794['lightmapPi'+'xelFormat']===Ne?'rgbm':'linear',_0x59495f['lightMap']=!(-0x1*-0x51d+-0x2f6*0x1+-0x227),_0x59495f['lightMapCh'+'annel']='rgb',_0x59495f['lightMapUv']=0x6*0x652+-0x1cba+-0xd*0xb5,_0x59495f['lightMapTr'+'ansform']=0x244*-0xd+0x1cb6+0xbe,_0x59495f['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x1309b6['lightMap'],(_0x170e55&uv)!==-0x1be*-0x9+-0x2283+0x12d5&&(_0x59495f['dirLightMa'+'p']=!(0xb*0x47+0xbe7+0x84*-0x1d)),(_0x170e55&pv)!==0x102b+0x1*-0x1e9f+-0x2*-0x73a&&(_0x59495f['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x7f3+0x19fb+-0x1*0x1207)))),_0x1309b6['useLightin'+'g']){const _0x16abcc=[],_0x151ac1=_0x170e55?_0x170e55>>-0x1543+-0x2263+0x37b6:Ss;_0x59495f['litOptions']['lightMaskD'+'ynamic']=!!(_0x151ac1&Ss),_0x3f88e9&&(Ws['collectLig'+'hts'](ve,_0x3f88e9[ve],_0x16abcc,_0x151ac1),_0x3cc794['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0x3f88e9[Ke],_0x16abcc,_0x151ac1),Ws['collectLig'+'hts'](Ze,_0x3f88e9[Ze],_0x16abcc,_0x151ac1))),_0x59495f['litOptions']['lights']=_0x16abcc;}else _0x59495f['litOptions']['lights']=[];_0x59495f['litOptions']['lights']['length']===0x1*-0x346+0x13*0x39+0xf5*-0x1&&!_0x3cc794['clusteredL'+'ightingEna'+'bled']&&(_0x59495f['litOptions']['noShadow']=!(-0x1730+-0xbf*-0xd+0xd7d));}['_getMapTra'+'nsformID'](_0x423b2c,_0x25d5c6){if(!_0x423b2c)return-0x6a8+0xf8d+-0x8e5;let _0x4aa35f=this['_mapXForms'][_0x25d5c6];_0x4aa35f||(_0x4aa35f=[],this['_mapXForms'][_0x25d5c6]=_0x4aa35f);for(let _0x3a138a=-0x2b*-0x53+0x24a1+-0x2*0x1949;_0x3a138a<_0x4aa35f['length'];_0x3a138a++)if(G_(_0x4aa35f[_0x3a138a][-0xae*-0x20+-0xc23+-0x99d]['value'],_0x423b2c[0x1f*0x52+-0x1464+0xa76]['value'])&&G_(_0x4aa35f[_0x3a138a][0xd4a+-0x5fa+0x1*-0x74f]['value'],_0x423b2c[0x6e5+0x535+0xc19*-0x1]['value']))return _0x3a138a+(0x9*0x49+-0x1*0x301+0x71);return _0x4aa35f['push'](_0x423b2c);}}function rt(_0x3be555,_0xd60df5=!(0x426+0x18af+-0x29f*0xb),_0x3432a7=!(0x605*-0x1+0x1a55+-0x1450)){const _0x8b1230={};return _0x8b1230[_0x3be555+'Map']='texture',_0x8b1230[_0x3be555+'MapTiling']='vec2',_0x8b1230[_0x3be555+'MapOffset']='vec2',_0x8b1230[_0x3be555+('MapRotatio'+'n')]='number',_0x8b1230[_0x3be555+'MapUv']='number',_0xd60df5&&(_0x8b1230[_0x3be555+'MapChannel']='string',_0x3432a7&&(_0x8b1230[_0x3be555+('VertexColo'+'r')]='boolean',_0x8b1230[_0x3be555+('VertexColo'+'rChannel')]='string')),_0x8b1230;}const $n={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...rt('ao'),...rt('aoDetail',!(0x8*0x2fb+-0x18ad*-0x1+-0x1*0x3085),!(-0xd5*0xd+0x41*0x2+-0xb0*-0xf)),'aoDetailMode':'string','aoIntensity':'number','diffuse':'rgb',...rt('diffuse'),...rt('diffuseDet'+'ail',!(-0x26ca+0x1150+0x157a),!(-0x43b+-0x315*-0x3+0x503*-0x1)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...rt('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...rt('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','metalnessTint':'boolean',...rt('metalness'),'useMetalnessSpecularColor':'boolean','anisotropyIntensity':'number','anisotropyRotation':'number',...rt('anisotropy'),'shininess':'number','gloss':'number','glossInvert':'boolean',...rt('gloss'),'clearCoat':'number',...rt('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...rt('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...rt('clearCoatN'+'ormal',!(0x2*0xa3+-0x47e+0x19*0x21)),'useSheen':'boolean','sheen':'rgb',...rt('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...rt('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...rt('emissive'),'emissiveIntensity':'number',...rt('normal',!(-0x13*0xa4+-0x1*0x200+0xe2d)),'bumpiness':'number',...rt('normalDeta'+'il',!(-0xb*-0x26b+0x6a+-0x2*0xd81)),'normalDetailMapBumpiness':'number',...rt('height',!(-0x1*0x269f+0x20f4+0x1*0x5ab),!(0x21f*0x4+0x40f*-0x1+0x2*-0x236)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...rt('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...rt('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...rt('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...rt('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...rt('iridescenc'+'eThickness'),...rt('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean','shadowCatcher':'boolean'},Cd=[];for(const l in $n)$n[l]==='texture'&&Cd['push'](l);const fm=[];for(const l in $n)$n[l]==='cubemap'&&fm['push'](l);const gb={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean','anisotropy':'boolean'},Kc={},bv={};let no=new Set();const oc=new ie();class Ut extends tr{constructor(){super(),h(this,'userAttrib'+'utes',new Map()),h(this,'onUpdateSh'+'ader'),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new _b(),this['reset']());}['reset'](){Object['keys'](Kc)['forEach'](_0x168f16=>{this['_'+_0x168f16]=Kc[_0x168f16]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x494e53){return super['copy'](_0x494e53),Object['keys'](Kc)['forEach'](_0x193273=>{this[_0x193273]=_0x494e53[_0x193273];}),this['userAttrib'+'utes']=new Map(_0x494e53['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0x553bcd,_0x584869){this['userAttrib'+'utes']['set'](_0x584869,_0x553bcd);}['_setParame'+'ter'](_0x8dad4e,_0x1861d2){no['add'](_0x8dad4e),this['setParamet'+'er'](_0x8dad4e,_0x1861d2);}['_setParame'+'ters'](_0x2ded49){_0x2ded49['forEach'](_0x436b56=>{this['_setParame'+'ter'](_0x436b56['name'],_0x436b56['value']);});}['_processPa'+'rameters'](_0x1341c0){const _0x299188=this[_0x1341c0];_0x299188['forEach'](_0xe20720=>{no['has'](_0xe20720)||delete this['parameters'][_0xe20720];}),this[_0x1341c0]=no,no=_0x299188,no['clear']();}['_updateMap'](_0x1e0f75){const _0x55353d=_0x1e0f75+'Map',_0xb82c5f=this[_0x55353d];if(_0xb82c5f){this['_setParame'+'ter']('texture_'+_0x55353d,_0xb82c5f);const _0x371d01=_0x55353d+'Transform',_0x1e572e=this['getUniform'](_0x371d01);_0x1e572e&&this['_setParame'+'ters'](_0x1e572e);}}['_allocUnif'+'orm'](_0x5c319e,_0x4c601b){let _0x104e7c=this['_uniformCa'+'che'][_0x5c319e];return _0x104e7c||(_0x104e7c=_0x4c601b(),this['_uniformCa'+'che'][_0x5c319e]=_0x104e7c),_0x104e7c;}['getUniform'](_0x10308f,_0x332f03,_0x1e3109){return bv[_0x10308f](this,_0x332f03,_0x1e3109);}['updateUnif'+'orms'](_0x3df406,_0x31997f){const _0x2e8310=_0x3c15ea=>this['getUniform'](_0x3c15ea,_0x3df406,_0x31997f);this['_setParame'+'ter']('material_a'+'mbient',_0x2e8310('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x2e8310('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<0x1*0xd23+0xd09+-0x1a2b)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x2e8310('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x2e8310('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x2e8310('specular')),this['enableGGXS'+'pecular']&&(this['_setParame'+'ter']('material_a'+'nisotropyI'+'ntensity',this['anisotropy'+'Intensity']),this['_setParame'+'ter']('material_a'+'nisotropyR'+'otation',[Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']),Math['sin'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD'])])),this['clearCoat']>0xfa5+0x1*0x1567+-0x250c&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),w['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===0xd2e*-0x1+0xc09+-0x1*-0x125&&this['emissive']['g']===-0x122+-0x1aba+0x1*0x1bdc&&this['emissive']['b']===-0x1560+0x1f8+0x1368&&w['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+Q['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x2e8310('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>0x209d+0x17*0x19f+-0x45e6&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>-0x21b*0x7+-0x138*0x1+-0x331*-0x5&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x2e8310('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===0xd*0x95+0x1*0x11e1+-0x1972?0x7*-0x44e+-0x49*-0x1f+0x154b:(0x1f92+-0xff3+-0xf9e)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(0x70a+-0x3*-0x239+-0xdb4)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===av&&this['_setParame'+'ter'](_0x2e8310('cubeMapPro'+'jectionBox'));for(const _0xfb73e3 in bn)this['_updateMap'](_0xfb73e3);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x2e8310('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x3df406,_0x31997f);}['updateEnvU'+'niforms'](_0x2284d1,_0x3bf06b){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x3bf06b['envAtlas']&&_0x3bf06b['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x3bf06b['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x3bf06b['skybox'])):_0x3bf06b['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x3bf06b['envAtlas']):_0x3bf06b['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x3bf06b['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0x4b618d){const {device:_0x3dd3a2,scene:_0x3fafd7,pass:_0x56886d,objDefs:_0x4e6dda,sortedLights:_0x1e3a60,cameraShaderParams:_0x1b6978}=_0x4b618d;this['updateEnvU'+'niforms'](_0x3dd3a2,_0x3fafd7);const _0x58e4ac=Si['get'](_0x3dd3a2)['getByIndex'](_0x56886d),_0xdaed85=_0x56886d===Zn||_0x56886d===Rl||_0x58e4ac['isShadow'];let _0x314cf3=_0xdaed85?Jd['optionsCon'+'textMin']:Jd['optionsCon'+'text'];_0x314cf3['defines']=$t['getCoreDef'+'ines'](this,_0x4b618d),_0xdaed85?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x314cf3,_0x3fafd7,this,_0x4e6dda,_0x56886d,_0x1e3a60):this['shaderOptB'+'uilder']['updateRef'](_0x314cf3,_0x3fafd7,_0x1b6978,this,_0x4e6dda,_0x56886d,_0x1e3a60),this['useFog']||_0x314cf3['defines']['set']('FOG','NONE'),_0x314cf3['defines']['set']('TONEMAP',ov[_0x314cf3['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x314cf3=this['onUpdateSh'+'ader'](_0x314cf3));const _0xefbf66=new Ad(_0x4b618d['viewUnifor'+'mFormat'],_0x4b618d['viewBindGr'+'oupFormat'],_0x4b618d['vertexForm'+'at']),_0x5ada87=Hn(_0x3dd3a2);_0x5ada87['register']('standard',Jd);const _0x3b37ac=_0x5ada87['getProgram']('standard',_0x314cf3,_0xefbf66,this['userId']);return this['_dirtyShad'+'er']=!(-0x76*-0x11+-0x20*0xac+-0xdab*-0x1),_0x3b37ac;}['destroy'](){for(const _0x4d8a4a in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x4d8a4a]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}h(Ut,'TEXTURE_PA'+'RAMETERS',Cd),h(Ut,'CUBEMAP_PA'+'RAMETERS',fm);const Pd=(_0x552533,_0x37f3e7)=>{bv[_0x552533]=_0x37f3e7;},um=(_0x29728e,_0x575d45,_0x2e370e,_0x4254db)=>{Object['defineProp'+'erty'](Ut['prototype'],_0x29728e,{'get':_0x4254db||function(){return this['_'+_0x29728e];},'set':_0x2e370e}),Kc[_0x29728e]={'value':_0x575d45};},Sb=_0x18c9f3=>{const _0x574c92='_'+_0x18c9f3['name'],_0x432b4c=_0x18c9f3['dirtyShade'+'rFunc']||(()=>!(-0x8c*0x3+-0x21e6+0x238a)),_0x4752df=function(_0x7d218f){const _0x5e34a3=this[_0x574c92];_0x5e34a3!==_0x7d218f&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x432b4c(_0x5e34a3,_0x7d218f),this[_0x574c92]=_0x7d218f);};um(_0x18c9f3['name'],()=>_0x18c9f3['defaultVal'+'ue'],_0x4752df,_0x18c9f3['getterFunc']);},yb=_0x41822e=>{const _0x3a94e='_'+_0x41822e['name'],_0x5b994c=_0x41822e['dirtyShade'+'rFunc']||(()=>!(0x16c4+-0x1f6+-0x14ce)),_0x4440df=function(_0x55a979){const _0x1c5d66=this[_0x3a94e];_0x1c5d66['equals'](_0x55a979)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x5b994c(_0x1c5d66,_0x55a979),this[_0x3a94e]=_0x1c5d66['copy'](_0x55a979));};um(_0x41822e['name'],()=>_0x41822e['defaultVal'+'ue']['clone'](),_0x4440df,_0x41822e['getterFunc']);},Es=_0xafc89d=>_0xafc89d['defaultVal'+'ue']&&_0xafc89d['defaultVal'+'ue']['clone']?yb(_0xafc89d):Sb(_0xafc89d);function et(_0x5a41e1,_0x30d92c='rgb',_0x2f6482=!(-0x1*0x12d3+0xc*-0x2f9+0x367f),_0x5e0fd9=-0xdb8+0x2*0x1222+-0x168c){bn[_0x5a41e1]=_0x30d92c['length']||-(0x2*-0x232+-0x583+0x9e8),Es({'name':_0x5a41e1+'Map','defaultValue':null,'dirtyShaderFunc':(_0x1d2b50,_0x1048d1)=>!!_0x1d2b50!=!!_0x1048d1||_0x1d2b50&&(_0x1d2b50['type']!==_0x1048d1['type']||_0x1d2b50['format']!==_0x1048d1['format'])}),Es({'name':_0x5a41e1+'MapTiling','defaultValue':new J(0xadb+-0x1d9e+0x1*0x12c4,0x3*-0x3b5+0x9a8+0x178*0x1)}),Es({'name':_0x5a41e1+'MapOffset','defaultValue':new J(0x1f8a+-0x16fd+-0x88d,-0x1aad+0x1d00+-0x253)}),Es({'name':_0x5a41e1+('MapRotatio'+'n'),'defaultValue':0x0}),Es({'name':_0x5a41e1+'MapUv','defaultValue':_0x5e0fd9}),_0x30d92c&&(Es({'name':_0x5a41e1+'MapChannel','defaultValue':_0x30d92c}),_0x2f6482&&(Es({'name':_0x5a41e1+('VertexColo'+'r'),'defaultValue':!(0x1c6f+-0xa84*-0x3+-0x3bfa)}),Es({'name':_0x5a41e1+('VertexColo'+'rChannel'),'defaultValue':_0x30d92c})));const _0x309ede=_0x5a41e1+'MapTiling',_0x3f0399=_0x5a41e1+'MapOffset',_0x2ec09a=_0x5a41e1+('MapRotatio'+'n'),_0x3f4a67=_0x5a41e1+('MapTransfo'+'rm');Pd(_0x3f4a67,(_0xc75885,_0x222ace,_0xd09ad3)=>{const _0x3b38d1=_0xc75885[_0x309ede],_0x472ef2=_0xc75885[_0x3f0399],_0xf4fa36=_0xc75885[_0x2ec09a];if(_0x3b38d1['x']===0xda0+-0x307*0xb+-0xb*-0x1ca&&_0x3b38d1['y']===0x86f+0x5*-0xfb+-0x387&&_0x472ef2['x']===0x22db*-0x1+-0x1f43+0x421e&&_0x472ef2['y']===0x132a*0x1+0x29*0xad+-0xd*0x39b&&_0xf4fa36===-0x1*0x2309+0x550+0x43f*0x7)return null;const _0x3989ae=_0xc75885['_allocUnif'+'orm'](_0x3f4a67,()=>[{'name':'texture_'+_0x3f4a67+'0','value':new Float32Array(0x875*-0x1+-0x4cd*-0x1+0x3ab)},{'name':'texture_'+_0x3f4a67+'1','value':new Float32Array(-0x3*0x97e+-0x3*0x6ab+0x6*0x815)}]),_0x38bb2c=Math['cos'](_0xf4fa36*Y['DEG_TO_RAD']),_0x2e6b3c=Math['sin'](_0xf4fa36*Y['DEG_TO_RAD']),_0x52aea0=_0x3989ae[-0x7*0x323+0x39*-0x7a+-0x1f7*-0x19]['value'];_0x52aea0[0x1ccd+-0x2263*-0x1+-0x6*0xa88]=_0x38bb2c*_0x3b38d1['x'],_0x52aea0[-0x193f+-0x1256*0x2+0xa52*0x6]=-_0x2e6b3c*_0x3b38d1['y'],_0x52aea0[0x1b07+0x940*-0x1+-0x11c5]=_0x472ef2['x'];const _0x7dfbff=_0x3989ae[0x325+0x2469+0x3*-0xd2f]['value'];return _0x7dfbff[0xc5*0x11+0xe*-0x3b+0x3*-0x349]=_0x2e6b3c*_0x3b38d1['x'],_0x7dfbff[0x9e5*0x3+0x25fa*-0x1+0x84c]=_0x38bb2c*_0x3b38d1['y'],_0x7dfbff[-0x1bbf+0x2*-0x727+0x3*0xe05]=-0x753+-0x17f7+0x1f4b*0x1-_0x3b38d1['y']-_0x472ef2['y'],_0x3989ae;});}function Ra(_0x4c961d,_0x17c1eb){Es({'name':_0x4c961d,'defaultValue':_0x17c1eb,'getterFunc':function(){return this['_dirtyShad'+'er']=!(-0x6cf+0x201b+-0xca6*0x2),this['_'+_0x4c961d];}}),Pd(_0x4c961d,(_0x2f1947,_0x4454b7,_0x5dc0f7)=>{const _0x469459=_0x2f1947['_allocUnif'+'orm'](_0x4c961d,()=>new Float32Array(-0x17e4+-0x1e12+0x1*0x35f9)),_0x5534de=_0x2f1947[_0x4c961d];return oc['linear'](_0x5534de),_0x469459[-0x18fa+0xc*0x17b+0x736]=oc['r'],_0x469459[0xc77*-0x1+-0x2123*0x1+0x2d9b]=oc['g'],_0x469459[-0x485+-0xaf3*-0x1+-0x66c]=oc['b'],_0x469459;});}function ze(_0x23f2e9,_0x3c65df,_0x342717){Es({'name':_0x23f2e9,'defaultValue':_0x3c65df,'dirtyShaderFunc':(_0x394a8a,_0x325e1d)=>(_0x394a8a===-0x2d5*-0xd+0x13*-0x61+-0x11*0x1be||_0x394a8a===0x5c6*0x3+-0xf52+0x1*-0x1ff)!=(_0x325e1d===0x2379+-0x1ec2+-0x4b7||_0x325e1d===-0x1f55+0x234a+-0x3f4)}),Pd(_0x23f2e9,_0x342717);}function oo(_0x31283c,_0x168f08){Es({'name':_0x31283c,'defaultValue':null,'dirtyShaderFunc':(_0x5cff46,_0x41aa5a)=>!!_0x5cff46==!!_0x41aa5a}),Pd(_0x31283c,_0x168f08);}function ke(_0x12ea29,_0x2e3003){Es({'name':_0x12ea29,'defaultValue':_0x2e3003});}function vb(){Ra('ambient',new ie(0x252b+-0x42c+0xce*-0x29,0x1*0x1532+-0x322*0x2+0x1*-0xeed,0x295*-0x5+-0xd*0x5e+0x8*0x236)),Ra('diffuse',new ie(0x34b*0x1+0x6*0x3dd+-0x1a78,0x1f15+0x1692+0x3f*-0xda,-0x268f+0x179+0x2517)),Ra('specular',new ie(0xea5+0x1f*-0x2e+-0x913,0x1*0xe3+-0x2*0x133d+-0x2597*-0x1,0xa41+0xf4d*0x1+0x2*-0xcc7)),Ra('emissive',new ie(0x4c1*-0x5+0x2*-0x6e6+-0x2591*-0x1,0x110b*0x2+0x79d+-0x5f5*0x7,0x4*0x14b+-0x26a0+0x2174)),Ra('sheen',new ie(0x1d7b+-0x3*0x153+-0x1981,0x1f07+0x1766+-0x1224*0x3,-0x218d+0x2fb+-0x1e93*-0x1)),Ra('attenuatio'+'n',new ie(0x1f9*0x1+-0x735+0x3*0x1bf,0x27d+-0x89*-0x1+0x305*-0x1,-0xe4+-0x7*-0x136+-0x795)),ze('emissiveIn'+'tensity',-0xe*-0xad+0x1172+-0x61*0x47),ze('specularit'+'yFactor',0x6e3*-0x1+-0x7c1*-0x5+0x1*-0x1fe1),ze('sheenGloss',-0x7bb*0x3+0x1a64+-0x333),ze('gloss',0xcda*-0x2+-0xc76+-0x3d1*-0xa+0.25),ze('aoIntensit'+'y',-0x1*0x20d4+0x7*-0x176+0x2b0f),ze('heightMapF'+'actor',-0x1156*0x1+-0x60a+-0x69*-0x39,(_0x1b3ddc,_0x31582d,_0x15a11e)=>_0x1b3ddc['heightMapF'+'actor']*(0x467*0x8+0xeb2+-0x31ea+0.025)),ze('opacity',0x1450+-0x1*-0x1c7f+-0x30ce*0x1),ze('alphaFade',-0x1*-0x2335+-0x1*-0x19f1+-0xb*0x58f),ze('alphaTest',0x14c3+-0x529*-0x3+-0x243e*0x1),ze('bumpiness',-0x7*-0x38f+-0xd27+0x1*-0xbc1),ze('normalDeta'+'ilMapBumpi'+'ness',0x25d5+-0xbcb+-0x1a09),ze('reflectivi'+'ty',-0x15bb+-0x65*0x10+0x1c0c),ze('occludeSpe'+'cularInten'+'sity',0x12*-0xe3+-0x2b6+-0x1*-0x12ad),ze('refraction',-0x49a*-0x8+-0x1e*-0x65+0x2*-0x1853),ze('refraction'+'Index',(0x32f+0x25ef+-0x291d)/(-0x2*0x1349+-0xb*0xbd+0x2eb2+0.5)),ze('dispersion',0x1b94+0x16d*-0xa+-0xd52),ze('thickness',0xa01+0x25df+-0x4*0xbf8),ze('attenuatio'+'nDistance',-0xd2c+-0x1*-0xe75+0x2f*-0x7),ze('metalness',-0xe9*-0x18+0x1db4+-0x41*0xcb),ze('anisotropy'+'Intensity',-0xca7*-0x1+-0x73+-0xc34),ze('anisotropy'+'Rotation',0xf30+0x1bb*0x1+-0x10eb),ze('clearCoat',-0xdc*-0x17+-0x45a+0x7b5*-0x2),ze('clearCoatG'+'loss',0x2*0xaba+-0x1*0xf07+0x4*-0x19b),ze('clearCoatB'+'umpiness',0x1*-0x104b+-0x1*-0x21d1+-0x1185),ze('aoUvSet',-0x4e*-0x45+0x853*-0x2+-0x460,null),ze('iridescenc'+'e',0x8*-0x2bc+0xd7b+-0x1*-0x865),ze('iridescenc'+'eRefractio'+'nIndex',(-0x1031+0xb77*-0x1+0x1ba9)/(0x1*-0x10d3+-0x18ed+-0xdeb*-0x3+0.5)),ze('iridescenc'+'eThickness'+'Min',0x4c1+0x1*0x1025+-0xa*0x217),ze('iridescenc'+'eThickness'+'Max',-0x1e7*0x1+-0x1*0x26c9+0x28b0),oo('ambientSH'),oo('cubeMapPro'+'jectionBox',(_0x3cee8d,_0x43f978,_0x2eeb23)=>{const _0x37cb8f=_0x3cee8d['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(0x1bd2+-0xe*0x8+-0x1b5f)},{'name':'envBoxMax','value':new Float32Array(-0x1d17+-0x1*-0x695+0x1685)}]),_0x674785=_0x3cee8d['cubeMapPro'+'jectionBox']['getMin'](),_0x5e52f2=_0x37cb8f[-0xc*-0xf3+-0x24f5*0x1+0x1991]['value'];_0x5e52f2[-0x421+0xe14+-0x9f3]=_0x674785['x'],_0x5e52f2[0xa*-0x2e0+-0x14*0x11a+0x32c9]=_0x674785['y'],_0x5e52f2[0x1387*0x1+0x1*-0x1b56+0x7d1]=_0x674785['z'];const _0x31b656=_0x3cee8d['cubeMapPro'+'jectionBox']['getMax'](),_0x10bd0f=_0x37cb8f[0x51d+-0x25cf*0x1+0x20b3]['value'];return _0x10bd0f[0x92a*0x4+-0x949+-0x1b5f]=_0x31b656['x'],_0x10bd0f[-0xdd9+0x4cd*-0x1+0x12a7]=_0x31b656['y'],_0x10bd0f[-0x13c9+0x1f9+-0x11d2*-0x1]=_0x31b656['z'],_0x37cb8f;}),ke('specularTi'+'nt',!(0xda4+-0x1*-0x141a+-0x3*0xb3f)),ke('specularit'+'yFactorTin'+'t',!(-0x1*0xd10+0x77a+0x597)),ke('useMetalne'+'ss',!(-0x100f+0x3f+0x1*0xfd1)),ke('useMetalne'+'ssSpecular'+'Color',!(-0x3*0x637+-0x1a00+0x2ca6)),ke('useSheen',!(-0x19d+-0x1*-0x15cf+-0x1431)),ke('enableGGXS'+'pecular',!(-0xdda+0x19fd+0x2*-0x611)),ke('occludeDir'+'ect',!(0x9ca+0x1a90+0x2459*-0x1)),ke('opacityFad'+'esSpecular',!(0x8cc+-0x9cb+0xff)),ke('occludeSpe'+'cular',bd),ke('fresnelMod'+'el',Yp),ke('useDynamic'+'Refraction',!(-0x1868+0x20d7*0x1+0x53*-0x1a)),ke('cubeMapPro'+'jection',tm),ke('useFog',!(0x395*0x1+-0x1*0x15ad+0x1218)),ke('useLightin'+'g',!(0x63f+-0x2*-0x8d7+0x7*-0x36b)),ke('useTonemap',!(0x417*-0x4+-0xdbf+0x1e1b)),ke('useSkybox',!(0x18d9+0x1*-0x1f81+0x6a8)),ke('forceUv1',!(-0x1ccd*-0x1+-0x89*-0x35+0x3929*-0x1)),ke('pixelSnap',!(-0x1*0x84+0x2302+0x1*-0x227d)),ke('twoSidedLi'+'ghting',!(-0x1070*0x1+-0x313+0x1384)),ke('nineSliced'+'Mode',void(0x318+0xc1f+-0xf37)),ke('msdfTextAt'+'tribute',!(-0x3*-0xbcb+-0x7*0x8+0x177*-0x18)),ke('useIridesc'+'ence',!(0x22*0x4c+-0x1c0e+0x11f7)),ke('glossInver'+'t',!(0x143f+0x129+0x1567*-0x1)),ke('sheenGloss'+'Invert',!(0xd97+0x1dd7+-0x2b6d)),ke('clearCoatG'+'lossInvert',!(0x2230+0x14c*-0x1+-0x20e3)),ke('opacityDit'+'her',Sa),ke('opacitySha'+'dowDither',Sa),ke('shadowCatc'+'her',!(0x1*0x11e3+0x37d*0x1+-0x155f)),et('diffuse'),et('specular'),et('emissive'),et('thickness','g'),et('specularit'+'yFactor','g'),et('normal',''),et('metalness','g'),et('gloss','g'),et('opacity','a'),et('refraction','g'),et('height','g',!(0x13a*0x19+0x4f+0x8*-0x3df)),et('ao','g'),et('light','rgb',!(-0x5e0+0x2*0xc4c+0x4ae*-0x4),0x1*0x623+0x1c45+0x1*-0x2267),et('msdf',''),et('diffuseDet'+'ail','rgb',!(-0x204b+-0xd7f*0x2+0x3b4a)),et('normalDeta'+'il',''),et('aoDetail','g',!(0x61d*0x3+-0x1*0x58d+-0x1*0xcc9)),et('clearCoat','g'),et('clearCoatG'+'loss','g'),et('clearCoatN'+'ormal',''),et('sheen','rgb'),et('sheenGloss','g'),et('iridescenc'+'e','g'),et('iridescenc'+'eThickness','g'),et('anisotropy',''),ke('diffuseDet'+'ailMode',p_),ke('aoDetailMo'+'de',p_),oo('cubeMap'),oo('sphereMap'),oo('envAtlas');const _0x4b8007=function(){return this['_prefilter'+'edCubemaps'];},_0x17e5ff=function(_0x139b9a){const _0x17fbbb=this['_prefilter'+'edCubemaps'];_0x139b9a=_0x139b9a||[];let _0x29c935=!(0x29d+0x147*-0x1e+0x23b6),_0x585c06=!(-0xcd7*0x1+0x1*0x1d75+-0x109e);for(let _0xe4edca=0x1*0xf1b+0x3*-0x33e+-0x561;_0xe4edca<-0x18*-0x4c+-0xc29*0x3+0x1*0x1d61;++_0xe4edca){const _0x39ba9f=_0x139b9a[_0xe4edca]||null;_0x17fbbb[_0xe4edca]!==_0x39ba9f&&(_0x17fbbb[_0xe4edca]=_0x39ba9f,_0x29c935=!(-0x187+0x1d87*0x1+-0x400*0x7)),_0x585c06=_0x585c06&&!!_0x17fbbb[_0xe4edca];}_0x29c935&&(_0x585c06?this['envAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0x17fbbb,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(0xb*-0x71+-0x955+0xe30));},_0x5dfa74=[null,null,null,null,null,null];um('prefiltere'+'dCubemaps',()=>_0x5dfa74['slice'](),_0x17e5ff,_0x4b8007);}vb();const Rt=class Rt{static['render'](_0x1cfd41,_0x2680ab){const _0x2061a3=_0x2680ab['device'],_0x896382=_0x1cfd41['cells'],_0x2d1d87=_0x1cfd41['lightsBuff'+'er'],_0x5c457d=_0x2d1d87['boundsMin'],_0x39f9aa=_0x2d1d87['boundsDelt'+'a'],_0x1f60fc=_0x5c457d['clone']()['add'](_0x39f9aa),_0x2ad515=_0x2d1d87['boundsDelt'+'a']['clone']()['div'](_0x896382),_0x41696e=Rt['gridPositi'+'ons'],_0x154101=Rt['gridColors'],_0x141e16=new ie(-0x22da+0xcc*-0x2f+0x484e+0.3,0x1bb*0x1+-0x4*0x155+0x133*0x3+0.3,0x319+0x514+-0x17*0x5b+0.3),_0x280ee3=(_0x529a2d,_0x12b7ac,_0x5c4d6d,_0x18812c,_0x13756d,_0x56542a,_0x108e6a,_0x13bc26,_0x51181b)=>{for(let _0x58957b=0x1cd6+0x1da3+-0x3a79;_0x58957b<=_0x529a2d;_0x58957b++)for(let _0x4cac9c=-0x3e*0x4c+0x2411+-0x11a9*0x1;_0x4cac9c<=_0x12b7ac;_0x4cac9c++){const _0x2e4dc7=_0x5c4d6d+_0x58957b*_0x18812c,_0x206dad=_0x13756d+_0x4cac9c*_0x56542a;_0x51181b===0x50c+-0x173f*-0x1+-0x1c4b?_0x41696e['push'](_0x2e4dc7,_0x108e6a,_0x206dad,_0x2e4dc7,_0x13bc26,_0x206dad):_0x51181b===0x22b2+0x1*0x137+-0x2fe*0xc?_0x41696e['push'](_0x2e4dc7,_0x206dad,_0x108e6a,_0x2e4dc7,_0x206dad,_0x13bc26):_0x51181b===0x173c+-0x29*-0x65+-0x2767&&_0x41696e['push'](_0x108e6a,_0x2e4dc7,_0x206dad,_0x13bc26,_0x2e4dc7,_0x206dad);}};if(_0x280ee3(_0x896382['x'],_0x896382['z'],_0x5c457d['x'],_0x2ad515['x'],_0x5c457d['z'],_0x2ad515['z'],_0x5c457d['y'],_0x1f60fc['y'],0x237c+-0x2574+-0x18*-0x15),_0x280ee3(_0x896382['x'],_0x896382['y'],_0x5c457d['x'],_0x2ad515['x'],_0x5c457d['y'],_0x2ad515['y'],_0x5c457d['z'],_0x1f60fc['z'],0x1*-0x1a47+0x1a*-0xbf+0x2dae),_0x280ee3(_0x896382['y'],_0x896382['z'],_0x5c457d['y'],_0x2ad515['y'],_0x5c457d['z'],_0x2ad515['z'],_0x5c457d['x'],_0x1f60fc['x'],0x15a*-0x10+-0x8dd+0x25*0xd3),_0x41696e['length']){const _0x4cf81a=_0x41696e['length']/(0x1*0x2db+-0x24b*0xa+0x1416);if(_0x4cf81a!==_0x154101['length']/(0x2*0x819+0x2d+0x105b*-0x1)){_0x154101['length']=-0x258d*0x1+-0x5*0x15f+0x2*0x1634;for(let _0x43e510=-0x119*0x3+0x63*-0x33+0x1704;_0x43e510<_0x4cf81a;_0x43e510++)_0x154101['push'](_0x141e16['r'],_0x141e16['g'],_0x141e16['b'],_0x141e16['a']);}_0x2680ab['drawLineAr'+'rays'](_0x41696e,_0x154101),_0x41696e['length']=0x177*-0x1+-0x2*-0x8f6+0x17f*-0xb;}let _0x5ddfe6=Rt['mesh'];_0x5ddfe6||(_0x5ddfe6=new Ge(_0x2061a3),_0x5ddfe6['clear'](!(0x1b*-0x67+-0x5*-0xb3+0x29*0x2e),!(-0x1*-0xa5e+0x361*-0xb+0x1acd)),Rt['mesh']=_0x5ddfe6);const _0x1c7d56=[],_0x421a50=[],_0x125784=[],_0x305714=_0x1cfd41['_cells']['x'],_0x151933=_0x1cfd41['_cells']['z'],_0x473bd0=_0x1cfd41['counts'],_0x5a269b=_0x1cfd41['_maxCellLi'+'ghtCount'],_0x38161a=new D(),_0x5768be=new D(),_0x4086e0=new D(),_0x35aba7=_0x39f9aa['clone']()['div'](_0x896382);let _0x4a6c0c=0x1fe1+0x7be*0x3+-0x371b;for(let _0x5506b5=0x1*-0x2488+-0x1b4+-0x1*-0x263c;_0x5506b5<_0x896382['x'];_0x5506b5++)for(let _0x52d424=0xa98+0x827*0x3+0x1*-0x230d;_0x52d424<_0x896382['z'];_0x52d424++)for(let _0x640d0=-0x4*-0x552+0x2030+0x76*-0x74;_0x640d0<_0x896382['y'];_0x640d0++){const _0x24837b=_0x5506b5+_0x305714*(_0x52d424+_0x640d0*_0x151933),_0x15ab6a=_0x473bd0[_0x24837b];if(_0x15ab6a>-0x18e5+0x1*-0xed7+0x27bc){_0x38161a['x']=_0x5c457d['x']+_0x35aba7['x']*_0x5506b5,_0x38161a['y']=_0x5c457d['y']+_0x35aba7['y']*_0x640d0,_0x38161a['z']=_0x5c457d['z']+_0x35aba7['z']*_0x52d424,_0x5768be['add2'](_0x38161a,_0x35aba7),_0x1c7d56['push'](_0x38161a['x'],_0x38161a['y'],_0x5768be['z']),_0x1c7d56['push'](_0x5768be['x'],_0x38161a['y'],_0x5768be['z']),_0x1c7d56['push'](_0x5768be['x'],_0x5768be['y'],_0x5768be['z']),_0x1c7d56['push'](_0x38161a['x'],_0x5768be['y'],_0x5768be['z']),_0x1c7d56['push'](_0x5768be['x'],_0x38161a['y'],_0x38161a['z']),_0x1c7d56['push'](_0x38161a['x'],_0x38161a['y'],_0x38161a['z']),_0x1c7d56['push'](_0x38161a['x'],_0x5768be['y'],_0x38161a['z']),_0x1c7d56['push'](_0x5768be['x'],_0x5768be['y'],_0x38161a['z']),_0x4086e0['lerp'](Rt['colorLow'],Rt['colorHigh'],_0x15ab6a/_0x5a269b)['round']();for(let _0x20db2f=-0x1*0x3df+0x87+0x358*0x1;_0x20db2f<0x1*-0x3b3+-0x2*0x971+-0x169d*-0x1;_0x20db2f++)_0x421a50['push'](_0x4086e0['x'],_0x4086e0['y'],_0x4086e0['z'],-0x21d4+0x11a6+-0x102f*-0x1);_0x125784['push'](_0x4a6c0c*(-0xb15*-0x2+0x4*-0x8db+0xd4a)+(-0x108+0x14e*0x10+-0x7f*0x28),_0x4a6c0c*(0xcc7*-0x3+-0x1d46+-0x5*-0xd87)+(-0x50e*-0x1+0x466*0x1+-0x973),_0x4a6c0c*(0x20d9+-0x1*0x6b2+0x1a1f*-0x1)+(0x4dc+-0xeb*0x5+-0x2*0x21)),_0x125784['push'](_0x4a6c0c*(0x1b25+0x156b*-0x1+-0x5b2)+(-0xbf3+0x1*-0xc88+0x415*0x6),_0x4a6c0c*(-0x22ff+-0x2456+-0x475d*-0x1)+(0x1f2*0x5+-0x1b7a+0x11c1),_0x4a6c0c*(0x29f*-0x5+0xae0+0x243)+(-0x2c5*-0x9+0x109+-0x19f4)),_0x125784['push'](_0x4a6c0c*(-0x1c1d+0x1280+-0x9a5*-0x1)+(-0x1*0x11da+-0x15f5*-0x1+-0x417),_0x4a6c0c*(-0x1c78+0x17c4+0x4bc)+(-0xe82+0x2585+-0x16fe),_0x4a6c0c*(-0x340*-0xc+-0x9cd+-0x1*0x1d2b)+(0x1e5a+0x1f*-0xd7+-0x6*0xb7)),_0x125784['push'](_0x4a6c0c*(-0x262c+0xc*0x10f+0x1980)+(-0x9a3+0x6d9+-0x67*-0x7),_0x4a6c0c*(0x1*0x1349+-0x574+-0xdcd)+(-0x1441+-0x129f+-0x1*-0x26e5),_0x4a6c0c*(0x1*0x19f+-0x125*-0x1+0x8c*-0x5)+(0x1fd*0x11+0x613+-0x27da)),_0x125784['push'](_0x4a6c0c*(0x1e83*0x1+-0x1999*-0x1+-0x61*0x94)+(-0xac6+-0xdf5*0x1+0x18be),_0x4a6c0c*(-0x1213*-0x2+-0x81*0x21+-0x137d)+(-0x1cd1+-0x164*0x10+-0x1*-0x3313),_0x4a6c0c*(0x24da+0x1ebf+-0x4391)+(-0x2b*-0x65+0x184a+0x5*-0x83f)),_0x125784['push'](_0x4a6c0c*(-0x8ad*0x1+-0x1c*-0xdd+-0xf77)+(0x38c+-0x2442+-0x82e*-0x4),_0x4a6c0c*(-0x3d7*0xa+-0x24f3+-0x1*-0x4b61)+(0x3*0x3e6+0x88*0x7+-0x65*0x27),_0x4a6c0c*(-0x1*-0x1b37+0x460+-0x1f8f)+(-0xd4*-0x17+-0x156c+-0x2*-0x133)),_0x125784['push'](_0x4a6c0c*(-0x12f5+-0x1cb+-0x118*-0x13)+(0x120f+-0x1a40+0x832),_0x4a6c0c*(0x229f+0x258d*0x1+0xc*-0x603)+(-0xb33+0x31*-0x5d+-0x40*-0x74),_0x4a6c0c*(-0x43f*0x1+0x2150+-0x1d09)+(0x952+-0x3*-0x729+0x47*-0x6f)),_0x125784['push'](_0x4a6c0c*(0x1*-0x79b+-0x21c0+0x847*0x5)+(0x1*0x18ca+0x1*-0x1842+-0x1*0x88),_0x4a6c0c*(0x1f4a+-0x156a*-0x1+-0x34ac*0x1)+(0x1b3c+0x3*0xcb7+-0x2f*0x164),_0x4a6c0c*(-0x1c31+0x1*0x1849+0x3f0)+(0x82*-0x49+0xfb+0x241b)),_0x125784['push'](_0x4a6c0c*(0x193f*-0x1+-0xbc1+0x2508)+(-0x4b7+0x6*-0x4eb+0x151*0x1a),_0x4a6c0c*(0x2f1*0x5+-0x7*0x286+-0x3*-0xff)+(-0xdc1+-0xbcc+0x77*0x37),_0x4a6c0c*(-0x1775+-0x18b4+0x3031)+(-0x4ea+-0x47c+0xe*0xac)),_0x125784['push'](_0x4a6c0c*(0x24b0+-0x263d+0x195)+(-0x223+0x144*-0x1d+0x26db),_0x4a6c0c*(-0xce*-0x26+0x202b+-0x3eb7)+(-0x43+0x15de+-0x4*0x565),_0x4a6c0c*(0x1*-0x80f+-0x1a15+0x222c)+(0xf48+-0x36*0x9+0x6b*-0x20)),_0x125784['push'](_0x4a6c0c*(-0x2*0xbf9+0x36d*0x1+0x148d*0x1)+(0x141+0x179f+-0x18db),_0x4a6c0c*(0x1*-0x142f+0x1*-0x23d3+0x1c05*0x2)+(-0x85f+-0x143e+0x125*0x19),_0x4a6c0c*(0x7*-0x3c5+0xe42*0x2+-0x1*0x219)+(-0x2cd*-0x8+-0x15ec+-0x76*0x1)),_0x125784['push'](_0x4a6c0c*(-0x19*-0x31+-0x1c46*0x1+-0x1*-0x1785)+(-0x1de+0x131e+-0x1140),_0x4a6c0c*(0x119*-0x14+-0x1*0x219f+0x379b)+(-0x931+-0x29*-0x5e+0x2*-0x2ed),_0x4a6c0c*(0xb12+-0xd*-0xda+-0x161c)+(0x148a+-0x6d*-0x1+0x14f1*-0x1)),_0x4a6c0c++;}}if(_0x4a6c0c){if(_0x5ddfe6['setPositio'+'ns'](_0x1c7d56),_0x5ddfe6['setNormals'](new Float32Array(_0x1c7d56['length'])),_0x5ddfe6['setColors3'+'2'](_0x421a50),_0x5ddfe6['setIndices'](_0x125784),_0x5ddfe6['update'](js,!(-0x29b*0x2+-0xdbc+0x7*0x2b5)),!Rt['meshInstan'+'ce']){const _0x3a479e=new Ut();_0x3a479e['useLightin'+'g']=!(-0x207b*0x1+-0x275*-0x3+0x191d),_0x3a479e['emissive']=new ie(0xb4+0x12a4+-0x1*0x1357,-0x3*0x89a+0x13be+0x611,0x1b8b*-0x1+-0x262*-0x3+0x1466),_0x3a479e['emissiveVe'+'rtexColor']=!(-0x2540+0x1*0x1bcd+0x973),_0x3a479e['blendType']=Ed,_0x3a479e['depthWrite']=!(-0x24e4+-0x1c*0x8f+-0x3489*-0x1),_0x3a479e['update']();const _0x1f12de=new Ie('WorldClust'+'ersDebug');_0x1f12de['worldTrans'+'form']=te['IDENTITY'],_0x1f12de['_dirtyWorl'+'d']=_0x1f12de['_dirtyNorm'+'al']=!(0x43*0x12+-0xafd+0x1*0x648),Rt['meshInstan'+'ce']=new He(_0x5ddfe6,_0x3a479e,_0x1f12de),Rt['meshInstan'+'ce']['cull']=!(0x8*-0x38+0x25e3+-0x73a*0x5);}const _0x367c7b=Rt['meshInstan'+'ce'];_0x2680ab['immediate']['drawMesh'](_0x367c7b['material'],_0x367c7b['node']['worldTrans'+'form'],null,_0x367c7b,_0x2680ab['defaultDra'+'wLayer']);}}};h(Rt,'gridPositi'+'ons',[]),h(Rt,'gridColors',[]),h(Rt,'mesh',null),h(Rt,'meshInstan'+'ce',null),h(Rt,'colorLow',new D(-0xc*-0x217+-0xcb9*0x2+0x13*0x5,0x1c19+0xb*0x2a5+0x1*-0x392f,0x2f*-0xb5+0x1bb4+0xec*0x6)),h(Rt,'colorHigh',new D(-0x1b28+0x8c0*0x1+0x36*0x58,-0x1f9c+0xf4d+-0x5*-0x343,0x1389+-0x1e36+0x1*0xaad));let hu=Rt;const xb='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let Vi=null;const Av=()=>{if(!Vi){const _0x35398f=atob(xb);Vi=Uint8Array['from'](_0x35398f,_0x223f13=>_0x223f13['charCodeAt'](-0x5cc+0x4*-0x5ce+0x1d04));}},Tb=()=>(Av(),Vi);class wb{constructor(_0x2c6422=0x1394+-0x5a7*0x2+-0x1*0x846){h(this,'seed',0x1870+-0x1fd*0x13+0xd57),(this['seed']=_0x2c6422*(0x4*-0x66+-0x72f*-0x1+-0x593),Av());}['_next'](){this['seed']=(this['seed']+(0x1*-0xe39+-0x1*0xd4+0xf11))%Vi['length'];}['value'](){return this['_next'](),Vi[this['seed']]/(-0x2*0x527+0x13*0x1c+-0x1*-0x939);}['vec4'](_0x119149=new re()){return this['_next'](),_0x119149['set'](Vi[this['seed']],Vi[this['seed']+(-0x3*-0x8de+0x861+-0x22fa)],Vi[this['seed']+(-0x4*-0x16f+-0x1106+0xb4c*0x1)],Vi[this['seed']+(-0x257f+0x1*-0xa09+0x3*0xfd9)])['mulScalar']((-0x25b4+0x9ce+0x1be7)/(0x988+0xc47*0x1+-0x14d0));}}const Eb=[new D(-(-0x44d*0x1+0x119*0x1+0x335),0x61d*-0x6+-0x1b*-0x15a+0x8*0x6,-0x932+-0x19*-0xdb+-0xc31),new D(0x1f60+0x6be+0x1*-0x261d,0xaf8+0x1504+-0x1ffc,0x1a11+-0x8ee+0x6b*-0x29),new D(-0x19a8+0x1*0x2665+0x43f*-0x3,-(-0x17fe+-0xbb*-0x35+0x9d*-0x18),0xe3a+0x1296+-0x20d0),new D(0xff0+0x8a9+-0x1899,0x13*-0x14b+-0x24ab+0x3d3d,-0x99a+0x16c2+-0xd28*0x1),new D(-0x5e5+-0x3*-0x470+0x76b*-0x1,0x1e77+-0x1bda+-0x1*0x29d,-(-0x328*0x4+0xfb5+-0x2*0x18a)),new D(-0xe*0x59+0x1df8+-0x191a,0x10a0+0x1b6b+-0x2c0b*0x1,-0x1*0x270e+-0x1af6+-0x1*-0x4205)];class bb{constructor(){h(this,'colors',new Float32Array(0x14ae+0x1a9*0x13+0xa9*-0x4f));}['update'](_0x20e5fd,_0x32ea6a){const _0x5d76c8=this['colors'],{r:_0x69e089,g:_0x2bbb6c,b:_0x1043dd}=_0x20e5fd;for(let _0x1d6288=-0x124f+-0x2*-0xa11+-0x1d3;_0x1d6288<0x1884+-0x22ec+0xa6e;_0x1d6288++)_0x5d76c8[_0x1d6288*(-0x1aeb+0xd93*-0x1+-0x1*-0x2881)]=_0x69e089,_0x5d76c8[_0x1d6288*(-0x1689*0x1+0xe*-0xb4+-0x3*-0xacc)+(-0x226f+0x265b+-0x3eb)]=_0x2bbb6c,_0x5d76c8[_0x1d6288*(0x4f*-0x40+0xff2*0x2+-0xc21)+(-0x49d*0x1+-0x4*-0x287+-0x57d)]=_0x1043dd;for(let _0x12083f=-0x16d*-0x7+-0x1*-0x1031+-0x1a2c;_0x12083f<_0x32ea6a['length'];_0x12083f++){const _0x4a8a42=_0x32ea6a[_0x12083f];if(_0x4a8a42['_type']===ve)for(let _0x53e023=0x6d7*-0x1+-0x5*0xd+0x718;_0x53e023<-0x3*-0x4cc+-0x16dc+-0x2*-0x43f;_0x53e023++){const _0x1c6dd9=Math['max'](Eb[_0x53e023]['dot'](_0x4a8a42['_direction']),0xd1e+0x121b+-0x1f39)*_0x4a8a42['_intensity'],_0x4c2dcd=_0x4a8a42['_color'];_0x5d76c8[_0x53e023*(0x1dbb+-0x1*0x2263+0x4ab)]+=_0x4c2dcd['r']*_0x1c6dd9,_0x5d76c8[_0x53e023*(0x1*0x56b+-0x259d+-0x55*-0x61)+(0x23bc*0x1+0x4e9+0x99*-0x44)]+=_0x4c2dcd['g']*_0x1c6dd9,_0x5d76c8[_0x53e023*(-0x1ea1+-0x31a*0x8+0x3774)+(-0x117a+0x1*-0x485+0x2b*0x83)]+=_0x4c2dcd['b']*_0x1c6dd9;}}}}const Ab=(_0x269ff6,_0x3d8807,_0x531406,_0x408468)=>{const _0x3e3b63=new _e(_0x269ff6,{'name':''+_0x3d8807+_0x531406,'width':_0x531406,'height':_0x531406,'format':Ne,'addressU':yt,'addressV':yt,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(0x1747+0x3*-0x3da+-0xbb8)});return _0x3e3b63['lock']()['set'](_0x408468),_0x3e3b63['unlock'](),_0x3e3b63;},Cb=new Kt(),Pb=_0x5534fb=>Cb['get'](_0x5534fb,()=>{const _0x1113fc=Tb(),_0x5711c7=Math['sqrt'](_0x1113fc['length']/(-0x246*-0x5+0xf81+-0x1adb));return Ab(_0x5534fb,'BlueNoise',_0x5711c7,_0x1113fc);});class va{constructor(_0x31b0ab,_0xda6af4){this['texture']=_0x31b0ab,this['cached']=!(0x3*0x9a3+-0x809+-0x14df),this['renderTarg'+'ets']=_0xda6af4;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x353ad6=this['renderTarg'+'ets'];for(let _0x539012=-0x1d82+0x2007+-0x285;_0x539012<_0x353ad6['length'];_0x539012++)_0x353ad6[_0x539012]['destroy']();this['renderTarg'+'ets']['length']=-0x6*-0x435+-0x1fb0+0x672;}static['create'](_0x413fe2,_0xd76d40){let _0x4ae99c=null;return _0xd76d40['_type']===Ke?_0x4ae99c=this['createCube'+'map'](_0x413fe2,_0xd76d40['_shadowRes'+'olution'],_0xd76d40['_shadowTyp'+'e']):_0x4ae99c=this['create2dMa'+'p'](_0x413fe2,_0xd76d40['_shadowRes'+'olution'],_0xd76d40['_shadowTyp'+'e']),_0x4ae99c;}static['createAtla'+'s'](_0x20da02,_0x79a706,_0x350ecb){const _0xb91fa4=this['create2dMa'+'p'](_0x20da02,_0x79a706,_0x350ecb),_0x12bbc8=_0xb91fa4['renderTarg'+'ets'],_0x2a700c=_0x12bbc8[-0x16dc+-0xd3*0x5+0x1afb*0x1];for(let _0xfe2b3d=0x1796+-0x11*0x1e1+-0x1f*-0x45;_0xfe2b3d<-0xc2*-0x4+-0x2f*-0x41+-0xef2;_0xfe2b3d++)_0x12bbc8['push'](_0x2a700c);return _0xb91fa4;}static['create2dMa'+'p'](_0x3333c7,_0x78a61d,_0xd1693a){var _0x288976;const _0x48a4e0=qi['get'](_0xd1693a);w['assert'](_0x48a4e0);let _0x14e6c4=_0x48a4e0['format'];_0x14e6c4===Ji&&!_0x3333c7['textureFlo'+'atRenderab'+'le']&&_0x3333c7['textureHal'+'fFloatRend'+'erable']&&(_0x14e6c4=od);const _0x5667fb=(_0x288976=Nt['get'](_0x14e6c4))==null?void(-0x1792+-0x2161+-0x1*-0x38f3):_0x288976['name'];let _0x3389d7=vt;_0xd1693a===Jp&&(_0x3389d7=_0x3333c7['extTexture'+'FloatLinea'+'r']?vt:Te),_0xd1693a===al&&(_0x3389d7=Te);const _0x535208=new _e(_0x3333c7,{'profilerHint':eu,'format':_0x14e6c4,'width':_0x78a61d,'height':_0x78a61d,'mipmaps':!(0x90d+0xb*0x215+-0x1ff3),'minFilter':_0x3389d7,'magFilter':_0x3389d7,'addressU':ue,'addressV':ue,'name':'ShadowMap2'+'D_'+_0x5667fb});let _0x5b39f0=null;return _0x48a4e0!=null&&_0x48a4e0['pcf']?(_0x535208['compareOnR'+'ead']=!(-0x219e*-0x1+-0x359*-0x2+-0xa*0x408),_0x535208['compareFun'+'c']=hh,_0x5b39f0=new gt({'depthBuffer':_0x535208})):_0x5b39f0=new gt({'colorBuffer':_0x535208,'depth':!(-0xbf8+0x1984+0x22*-0x66)}),_0x3333c7['isWebGPU']&&(_0x5b39f0['flipY']=!(0x996+-0x1*-0xe1b+-0x17b1*0x1)),new va(_0x535208,[_0x5b39f0]);}static['createCube'+'map'](_0x371ecb,_0x59365b,_0x372020){var _0x2cc4fd;const _0x4122bd=qi['get'](_0x372020);w['assert'](_0x4122bd);const _0x3ad44c=(_0x2cc4fd=Nt['get'](_0x4122bd['format']))==null?void(-0x85a+-0x13*-0x1c+0x646):_0x2cc4fd['name'],_0x4ac6c0=_0x372020===al,_0x2d7223=_0x4ac6c0?Te:vt,_0x14c50a=new _e(_0x371ecb,{'profilerHint':eu,'format':_0x4122bd==null?void(-0xafd+-0x32f+0xe2c):_0x4122bd['format'],'width':_0x59365b,'height':_0x59365b,'cubemap':!(0x511*0x1+-0x11*0x8+0x183*-0x3),'mipmaps':!(-0xfd*-0x5+0x1*0x6de+-0x5e7*0x2),'minFilter':_0x2d7223,'magFilter':_0x2d7223,'addressU':ue,'addressV':ue,'name':'ShadowMapC'+'ube_'+_0x3ad44c});_0x4ac6c0||(_0x14c50a['compareOnR'+'ead']=!(-0x22*-0x51+0x8a*-0x45+0x1a70),_0x14c50a['compareFun'+'c']=hh);const _0x1fc8cf=[];for(let _0x138e5a=-0x5b*0x4f+0x4c*-0x5+0x1d91;_0x138e5a<-0x251d+-0xec+0x260f;_0x138e5a++)_0x4ac6c0?_0x1fc8cf['push'](new gt({'colorBuffer':_0x14c50a,'face':_0x138e5a,'depth':!(0xcf5*-0x3+-0x1685+0x3d64)})):_0x1fc8cf['push'](new gt({'depthBuffer':_0x14c50a,'face':_0x138e5a}));return new va(_0x14c50a,_0x1fc8cf);}}const Mb=[],Db=[],xi=new re(),ef=new re();class tf{constructor(_0x259c2a){this['size']=Math['floor'](_0x259c2a['w']*(-0x8f9*0x3+-0xd3*-0x22+0x2e5)),this['used']=!(0x117f+0xd73+0x1*-0x1ef1),this['lightId']=-(-0x13*-0x2e+0x1fcd+0x2336*-0x1),this['rect']=_0x259c2a;}}class Ib{constructor(_0xee38e6){this['device']=_0xee38e6,this['version']=0x23f1+0x1a6a+-0x3e5a*0x1,this['shadowAtla'+'sResolutio'+'n']=-0x17d5+-0xece+0x2ea3,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=-0x39e*0xa+-0x59b*-0x5+0x15c*0x6,this['cookieAtla'+'sResolutio'+'n']=0x22a9+-0x3d*-0x47+-0x44c*0xc,this['cookieAtla'+'s']=new _e(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':_s,'cubemap':!(0x1*-0x26f5+-0x1f1f+0x4615),'mipmaps':!(0x51b*-0x2+-0xdd3+0x180a),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue}),this['cookieRend'+'erTarget']=new gt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(0x43*-0x1f+-0x287*-0x8+0xc1a*-0x1),'flipY':!(0x149b+-0x869*0x2+-0x3c9*0x1)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new J(-0x1*-0x433+0x1f0+-0x623,-0x5*0x71d+-0x2158+0x44e9),new J(0x1fc*-0xe+-0x74a*-0x5+-0x8aa,0x1*0x29b+-0x8*0x251+-0x1*-0xfee),new J(-0x1424+-0x927+0xf*0x1f4,-0x2427+0x673+-0x1db4*-0x1),new J(0x1*0x1e13+0x1*0x6ad+-0x24bf,0x3eb*-0x3+-0x1a21+0xb7*0x35),new J(-0x193c+-0x234*0xa+0x2f46,0x3*0x673+0xaa3*0x1+-0x4c*0x65),new J(0x1eca+0x2089+0x1*-0x3f51,0x9*-0x9d+0x2*-0xad5+0x1b30)],this['scissorVec']=new re(),this['allocateSh'+'adowAtlas'](0xa1*-0x3d+-0x3a4*-0x5+-0xb2*-0x1d),this['allocateCo'+'okieAtlas'](-0x15*0xd3+0xa61+0x163*0x5),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x417071;(_0x417071=this['shadowAtla'+'s'])==null||_0x417071['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x934f80,_0x50a533;(_0x934f80=this['cookieAtla'+'s'])==null||_0x934f80['destroy'](),this['cookieAtla'+'s']=null,(_0x50a533=this['cookieRend'+'erTarget'])==null||_0x50a533['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0x253601,_0x1f7ef0=$s){var _0x135741;const _0x8429fb=(_0x135741=this['shadowAtla'+'s'])==null?void(-0x22bd+0xd57+0xf9*0x16):_0x135741['texture']['format'],_0x1a9d3c=qi['get'](_0x1f7ef0)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0x253601||_0x8429fb!==_0x1a9d3c){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=va['createAtla'+'s'](this['device'],_0x253601,_0x1f7ef0),this['shadowAtla'+'s']['cached']=!(-0xd*-0x48+-0x154b+0x11a3);const _0x2d4e88=(-0x14*0x105+-0xa5*0x19+0x2485)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x2d4e88,_0x2d4e88,-(-0x6d*0x25+0xbd8*-0x3+0x334b)*_0x2d4e88,-(-0x57d*-0x7+-0x2165*-0x1+-0x47ce)*_0x2d4e88);}}['allocateCo'+'okieAtlas'](_0x793f27){this['cookieAtla'+'s']['width']!==_0x793f27&&(this['cookieRend'+'erTarget']['resize'](_0x793f27,_0x793f27),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(-0x2665+-0x47a*0x3+0x33d5*0x1),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0x7f82a0=this['shadowAtla'+'s']['renderTarg'+'ets'][0x6*0x32b+0xe3f+-0x2141]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0x7f82a0),this['_shadowAtl'+'asParams'][-0x23ab+-0x1b78+-0x1*-0x3f23]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][0x1*-0x228e+0x1140+0x114f]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x2d1a1f,_0x5b6d7a){let _0x479da0=_0x5b6d7a['atlasSplit'];if(!_0x479da0){const _0x376851=Math['ceil'](Math['sqrt'](_0x2d1a1f));_0x479da0=Db,_0x479da0[-0x153d+0x11db+-0x2*-0x1b1]=_0x376851,_0x479da0['length']=-0x12ec*0x2+-0x11b6+0x378f;}if(!((_0xe6587a,_0x27315b)=>_0xe6587a['length']===_0x27315b['length']&&_0xe6587a['every']((_0x2f61c3,_0x4d92d3)=>_0x2f61c3===_0x27315b[_0x4d92d3]))(_0x479da0,this['atlasSplit'])){this['version']++,this['slots']['length']=-0x19a5+-0x33*-0x93+0x1d2*-0x2,this['atlasSplit']['length']=-0x1*0xaab+0x7*-0x4b3+0xae4*0x4,this['atlasSplit']['push'](..._0x479da0);const _0x539459=this['atlasSplit'][-0x6f3+0x665*0x5+0x1906*-0x1];if(_0x539459>0x2*0x1f7+0x259d+-0x298a){const _0x25c9ac=(-0x880+-0x105*-0x23+-0x1b2e)/_0x539459;for(let _0x5c2280=0x3a*-0x2c+0xa3+0x955;_0x5c2280<_0x539459;_0x5c2280++)for(let _0x2a4b53=-0x1c85+0x3*-0x4a3+-0x2*-0x1537;_0x2a4b53<_0x539459;_0x2a4b53++){const _0x36c390=new re(_0x5c2280*_0x25c9ac,_0x2a4b53*_0x25c9ac,_0x25c9ac,_0x25c9ac),_0x3aeffd=this['atlasSplit'][-0x17cd+-0x13e5+-0x71*-0x63+_0x5c2280*_0x539459+_0x2a4b53];if(_0x3aeffd>-0x353+0x9b*-0x31+0x20ff){for(let _0x47d89c=0x18d*0x1+-0x2429*-0x1+-0x25b6;_0x47d89c<_0x3aeffd;_0x47d89c++)for(let _0x410370=-0x181a+0x5b*-0x48+0x31b2;_0x410370<_0x3aeffd;_0x410370++){const _0x25f5ec=_0x25c9ac/_0x3aeffd,_0x388e9d=new re(_0x36c390['x']+_0x47d89c*_0x25f5ec,_0x36c390['y']+_0x410370*_0x25f5ec,_0x25f5ec,_0x25f5ec);this['slots']['push'](new tf(_0x388e9d));}}else this['slots']['push'](new tf(_0x36c390));}}else this['slots']['push'](new tf(new re(0xe51*0x1+-0x2*0x56e+0xf*-0x3b,0xd36+-0x9*0x102+0x109*-0x4,-0x7cc*-0x4+0x25d8+-0x4507,0x46f+-0x585+0x117)));this['slots']['sort']((_0x495ee4,_0x46a4f1)=>_0x46a4f1['size']-_0x495ee4['size']);}}['collectLig'+'hts'](_0x157c6a,_0x3e1033){const _0x5329ac=_0x3e1033['cookiesEna'+'bled'],_0x361c99=_0x3e1033['shadowsEna'+'bled'];let _0x2481c7=!(0x90f*-0x3+-0x75*0xa+0x1fc0),_0xade1c2=!(0x2*-0x747+0x13b4+-0x525);const _0x478d85=Mb;return _0x478d85['length']=-0x2045+0x1562+0xae3,(_0x5329ac||_0x361c99)&&(_0x5c1d1c=>{for(let _0x182d7a=-0x1823+0x10*0x100+0x823;_0x182d7a<_0x5c1d1c['length'];_0x182d7a++){const _0x4107cc=_0x5c1d1c[_0x182d7a];if(_0x4107cc['visibleThi'+'sFrame']){const _0x406184=_0x361c99&&_0x4107cc['castShadow'+'s'],_0xecd41e=_0x5329ac&&!!_0x4107cc['cookie'];_0x2481c7||(_0x2481c7=_0x406184),_0xade1c2||(_0xade1c2=_0xecd41e),(_0x406184||_0xecd41e)&&_0x478d85['push'](_0x4107cc);}}})(_0x157c6a),_0x478d85['sort']((_0x120563,_0x3f1613)=>_0x3f1613['maxScreenS'+'ize']-_0x120563['maxScreenS'+'ize']),_0x2481c7&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x3e1033['shadowType']),_0xade1c2&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x2481c7||_0xade1c2)&&this['subdivide'](_0x478d85['length'],_0x3e1033),_0x478d85;}['setupSlot'](_0x575104,_0x316649){_0x575104['atlasViewp'+'ort']['copy'](_0x316649);const _0x768f26=_0x575104['numShadowF'+'aces'];for(let _0x1a3468=-0xb79+-0x3c2+0xf3b;_0x1a3468<_0x768f26;_0x1a3468++)if(_0x575104['castShadow'+'s']||_0x575104['_cookie']){if(xi['copy'](_0x316649),ef['copy'](_0x316649),_0x575104['_type']===Ze&&xi['add'](this['scissorVec']),_0x575104['_type']===Ke){const _0x4c3200=xi['z']/(-0x20*0x101+0xbd*0x6+0xad*0x29),_0x1c3d0f=this['cubeSlotsO'+'ffsets'][_0x1a3468];xi['x']+=_0x4c3200*_0x1c3d0f['x'],xi['y']+=_0x4c3200*_0x1c3d0f['y'],xi['z']=_0x4c3200,xi['w']=_0x4c3200,ef['copy'](xi);}if(_0x575104['castShadow'+'s']){const _0x1aab14=_0x575104['getRenderD'+'ata'](null,_0x1a3468);_0x1aab14['shadowView'+'port']['copy'](xi),_0x1aab14['shadowScis'+'sor']['copy'](ef);}}}['assignSlot'](_0x496170,_0x1c7b81,_0x570b37){_0x496170['atlasViewp'+'ortAllocat'+'ed']=!(0x1f19+-0x5a2*-0x3+0x1*-0x2fff);const _0x1055c2=this['slots'][_0x1c7b81];_0x1055c2['lightId']=_0x496170['id'],_0x1055c2['used']=!(0x1c22+0x25*-0x4b+-0x1*0x114b),_0x570b37&&(_0x496170['atlasSlotU'+'pdated']=!(-0x3d*-0x48+-0x127*0x20+0x2*0x9dc),_0x496170['atlasVersi'+'on']=this['version'],_0x496170['atlasSlotI'+'ndex']=_0x1c7b81);}['update'](_0x1a6317,_0x28a1f8){this['shadowAtla'+'sResolutio'+'n']=_0x28a1f8['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x28a1f8['cookieAtla'+'sResolutio'+'n'];const _0x27b07c=this['collectLig'+'hts'](_0x1a6317,_0x28a1f8);if(_0x27b07c['length']>-0x4d0+-0x1e91+0x2361){const _0x35b6af=this['slots'];for(let _0x3733e9=0x7*0x54c+0x448*0x2+-0x1fc*0x17;_0x3733e9<_0x35b6af['length'];_0x3733e9++)_0x35b6af[_0x3733e9]['used']=!(-0x1*0x7ed+0x1*0x370+0x32*0x17);const _0x247af1=Math['min'](_0x27b07c['length'],_0x35b6af['length']);for(let _0x1af45a=-0x1c8c+0x5*-0x648+0x2*0x1dfa;_0x1af45a<_0x247af1;_0x1af45a++){const _0x15d4c2=_0x27b07c[_0x1af45a];_0x15d4c2['castShadow'+'s']&&(_0x15d4c2['_shadowMap']=this['shadowAtla'+'s']);const _0x4cde8b=_0x35b6af[_0x15d4c2['atlasSlotI'+'ndex']];if(_0x15d4c2['atlasVersi'+'on']===this['version']&&_0x15d4c2['id']===(_0x4cde8b==null?void(-0x3*-0x6d7+-0x1ee9+0xa64):_0x4cde8b['lightId'])){const _0x283c90=_0x35b6af[_0x15d4c2['atlasSlotI'+'ndex']];_0x283c90['size']===_0x35b6af[_0x1af45a]['size']&&!_0x283c90['used']&&this['assignSlot'](_0x15d4c2,_0x15d4c2['atlasSlotI'+'ndex'],!(-0x2523+0x148+0x3*0xbf4));}}let _0x26e292=-0x3e*0x36+0x1*0xfad+-0x5f*0x7;for(let _0x13dbdc=0x123b*-0x1+0xaff*0x1+0x1cf*0x4;_0x13dbdc<_0x247af1;_0x13dbdc++){for(;_0x26e292<_0x35b6af['length']&&_0x35b6af[_0x26e292]['used'];)_0x26e292++;const _0xcb6393=_0x27b07c[_0x13dbdc];_0xcb6393['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0xcb6393,_0x26e292,!(-0xe*0x1c9+-0x146a*0x1+0x8*0x5ad));const _0x4ec033=_0x35b6af[_0xcb6393['atlasSlotI'+'ndex']];this['setupSlot'](_0xcb6393,_0x4ec033['rect']);}}this['updateUnif'+'orms']();}}class Lb{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x54fa64=>{_0x54fa64['forEach'](_0x379d18=>{_0x379d18['destroy']();});}),this['cache']['clear']();}['getKey'](_0x386768){const _0x44544e=_0x386768['_type']===Ke,_0x5510d7=_0x386768['_shadowTyp'+'e'],_0x289901=_0x386768['_shadowRes'+'olution'];return _0x44544e+'-'+_0x5510d7+'-'+_0x289901;}['get'](_0x1dae84,_0x1d6e2f){const _0x12561b=this['getKey'](_0x1d6e2f),_0xbf41b0=this['cache']['get'](_0x12561b);if(_0xbf41b0&&_0xbf41b0['length'])return _0xbf41b0['pop']();const _0x57cf03=va['create'](_0x1dae84,_0x1d6e2f);return _0x57cf03['cached']=!(-0x14ef+-0xd0d+-0x3a*-0x96),_0x57cf03;}['add'](_0x2d817f,_0x5b542c){const _0x46e794=this['getKey'](_0x2d817f),_0x44a726=this['cache']['get'](_0x46e794);_0x44a726?_0x44a726['push'](_0x5b542c):this['cache']['set'](_0x46e794,[_0x5b542c]);}}class Rb extends ys{constructor(_0x46e159,_0x58e400,_0x415104,_0xe574b2,_0x2afa05){super(_0x46e159),Ea['setName'](this,this['name']+'-'+_0x415104['_node']['name']),this['requiresCu'+'bemaps']=!(0x20a6*0x1+-0x14d6+-0xbcf),this['shadowRend'+'erer']=_0x58e400,this['light']=_0x415104,this['face']=_0xe574b2,this['applyVsm']=_0x2afa05,this['shadowCame'+'ra']=_0x58e400['prepareFac'+'e'](_0x415104,null,_0xe574b2),_0x58e400['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(-0x1929+0x8b4+0x1075));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(0x1*0xddf+-0x1803+0xa25));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class Ob{constructor(_0x21813d,_0x3a17cc){h(this,'shadowLigh'+'ts',[]),h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0x21813d,this['shadowRend'+'erer']=_0x3a17cc,this['device']=_0x21813d['device']);}['cull'](_0x3582eb,_0x40a3a9,_0x49a7ae=null){const _0x48c300=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x3582eb['visibleThi'+'sFrame']=!(-0xb*0x2a1+0xa22+-0x15*-0xe5),_0x48c300||_0x3582eb['_shadowMap']||(_0x3582eb['_shadowMap']=va['create'](this['device'],_0x3582eb));const _0x1c0e72=_0x3582eb['_type'],_0x385190=_0x1c0e72===Ze?-0x1*0x1aba+-0x1d*-0xd5+-0x14d*-0x2:0x199e+0x6*0x13+0x42*-0x65;for(let _0x5472e7=-0x12*-0x18+-0xf31+0xd81;_0x5472e7<_0x385190;_0x5472e7++){const _0x31eec3=_0x3582eb['getRenderD'+'ata'](null,_0x5472e7),_0x50973b=_0x31eec3['shadowCame'+'ra'];_0x50973b['nearClip']=_0x3582eb['attenuatio'+'nEnd']/(-0x1905*0x1+-0x1402+0x30ef*0x1),_0x50973b['farClip']=_0x3582eb['attenuatio'+'nEnd'];const _0xa56638=_0x50973b['_node'],_0x195e74=_0x3582eb['_node'];if(_0xa56638['setPositio'+'n'](_0x195e74['getPositio'+'n']()),_0x1c0e72===Ze)_0x50973b['fov']=_0x3582eb['_outerCone'+'Angle']*(0x823+-0x2180+0x195f),_0xa56638['setRotatio'+'n'](_0x195e74['getRotatio'+'n']()),_0xa56638['rotateLoca'+'l'](-(0x3b0*0x4+0x21c1+-0x3027),-0x750+0x2*0xae3+-0xe76,-0x6b2+-0x1*0x15bf+0x1c71);else{if(_0x1c0e72===Ke){if(_0x48c300){const _0x1d52d5=(-0x1*0xcdd+-0xf6a+0x1c49)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x3582eb['atlasViewp'+'ort']['z']/(-0x1d95*-0x1+-0x2069+0x2d7))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x50973b['fov']=Math['atan'](0xc4*-0x23+0x12fd+0x10*0x7d+_0x1d52d5)*Y['RAD_TO_DEG']*(-0xeb*-0x3+0x1*0xb1e+0x1*-0xddd);}else _0x50973b['fov']=-0xd21+-0x1204*-0x2+-0x168d;}}this['renderer']['updateCame'+'raFrustum'](_0x50973b),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x40a3a9,_0x3582eb,_0x31eec3['visibleCas'+'ters'],_0x50973b,_0x49a7ae);}}['prepareLig'+'hts'](_0x5f33e1,_0x489a2e){let _0x2f73a7;for(let _0x1e75b1=-0x107c+-0x9bc*0x1+0x1a38;_0x1e75b1<_0x489a2e['length'];_0x1e75b1++){const _0x40d833=_0x489a2e[_0x1e75b1];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x40d833)&&_0x40d833['atlasViewp'+'ortAllocat'+'ed']){_0x5f33e1['push'](_0x40d833);for(let _0xd70daf=0xfcb+0x2638*-0x1+0x166d;_0xd70daf<_0x40d833['numShadowF'+'aces'];_0xd70daf++)_0x2f73a7=this['shadowRend'+'erer']['prepareFac'+'e'](_0x40d833,null,_0xd70daf);}}return _0x2f73a7;}['buildNonCl'+'usteredRen'+'derPasses'](_0x173415,_0x5f1381){for(let _0x500d53=-0x19*0x135+0x7*0x577+-0x814;_0x500d53<_0x5f1381['length'];_0x500d53++){const _0x2bc185=_0x5f1381[_0x500d53];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x2bc185)){const _0x5852aa=_0x2bc185['_type']===Ze,_0xd0cbed=_0x2bc185['numShadowF'+'aces'];for(let _0x8edda5=0x67*-0x5c+0x2*0x3fd+0x76*0x3f;_0x8edda5<_0xd0cbed;_0x8edda5++){const _0x54e067=new Rb(this['device'],this['shadowRend'+'erer'],_0x2bc185,_0x8edda5,_0x5852aa);_0x173415['addRenderP'+'ass'](_0x54e067);}}}}}class Fb extends ys{constructor(_0x4cbc9c,_0x3f6472,_0x5281f8,_0x97ef6e,_0x14c4b4){super(_0x4cbc9c),Ea['setName'](this,this['name']+'-'+_0x5281f8['_node']['name']),this['shadowRend'+'erer']=_0x3f6472,this['light']=_0x5281f8,this['camera']=_0x97ef6e,this['allCascade'+'sRendering']=_0x14c4b4;}['execute'](){const {light:_0x403fd9,camera:_0x23b849,shadowRenderer:_0x449683,allCascadesRendering:_0x4f992a}=this,_0x253c53=_0x403fd9['numShadowF'+'aces'],_0x3a2a1e=_0x403fd9['shadowUpda'+'teOverride'+'s'];for(let _0xf5ff4d=0x1f95+-0x41e+-0x1b77;_0xf5ff4d<_0x253c53;_0xf5ff4d++)(_0x3a2a1e==null?void(-0x786+0x699*0x4+-0x12de):_0x3a2a1e[_0xf5ff4d])!==Ps&&_0x449683['renderFace'](_0x403fd9,_0x23b849,_0xf5ff4d,!_0x4f992a),(_0x3a2a1e==null?void(0x2*0x355+-0x233c+0x1c92):_0x3a2a1e[_0xf5ff4d])===xr&&(_0x3a2a1e[_0xf5ff4d]=Ps);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const lc=new De(),Ti=new D(),H_=new te(),Xe=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()],sf={'min':0x0,'max':0x0};function Nb(_0x30a430,_0x5cc384,_0x3653c8){Xe[-0x81*0x1b+0xb26+0x275]['x']=Xe[-0x1*-0x2099+-0x2df+0x1*-0x1db9]['x']=Xe[0x22a6+-0xc6f+-0x1*0x1635]['x']=Xe[0x1*0x26dc+-0x5e*0x53+0x85f*-0x1]['x']=_0x5cc384['x'],Xe[-0x283*0xd+-0x1*-0x26e7+0x3*-0x215]['y']=Xe[0x1c17+-0xcd3*-0x1+-0x11b*0x25]['y']=Xe[0x11*-0x18a+-0x61*-0x5e+-0x7f*0x13]['y']=Xe[0x31*-0x3b+-0x26cb+0x321b]['y']=_0x5cc384['y'],Xe[-0xc6f+-0xca*0xc+0x15e9]['z']=Xe[0xdfe*0x1+-0x5*-0x362+0x1*-0x1ee5]['z']=Xe[0xae5*0x2+-0x192e+-0x36a*-0x1]['z']=Xe[-0x1*0x2e6+0x1*-0xc4c+0xf39]['z']=_0x5cc384['z'],Xe[-0x3f6+-0x6fb*0x1+0x11*0xa5]['x']=Xe[0x1*-0x26a5+-0x83*0x29+0x3ba5]['x']=Xe[0x989*-0x1+-0x740+0xd*0x14b]['x']=Xe[0x14c*0x9+-0x1b*0x69+-0x1*0x92]['x']=_0x3653c8['x'],Xe[-0x189*0x1+0x82*-0x16+-0x1*-0xcb5]['y']=Xe[-0x187+0xb61+0x2*-0x4ec]['y']=Xe[0x748*-0x2+-0xd3d+0x1bd1*0x1]['y']=Xe[-0x2646+-0x31*-0x2b+0x2b*0xb3]['y']=_0x3653c8['y'],Xe[-0x31*0x33+-0xb*-0x1d7+-0xa7a]['z']=Xe[0x14b3+0x4*0x8f5+0x5*-0xb4e]['z']=Xe[0x1a9e+0xc7+-0x1b61]['z']=Xe[0x32*-0x19+0x8*0x63+-0x1*-0x1cf]['z']=_0x3653c8['z'];let _0x2b3b80=0x1b50dac*-0x205+-0x2bf1c5535*-0x1+0x307942b26,_0x4bc577=-(0x20d8b1e5d+-0x2d2767c40+0x318f741e2);for(let _0x4ad250=-0xc76+-0x2*-0xdfd+-0x3e1*0x4;_0x4ad250<0x15ca+-0x12c9+-0x2f9*0x1;++_0x4ad250){_0x30a430['transformP'+'oint'](Xe[_0x4ad250],Xe[_0x4ad250]);const _0x41e311=Xe[_0x4ad250]['z'];_0x41e311<_0x2b3b80&&(_0x2b3b80=_0x41e311),_0x41e311>_0x4bc577&&(_0x4bc577=_0x41e311);}return sf['min']=_0x2b3b80,sf['max']=_0x4bc577,sf;}class kb{constructor(_0x3de960,_0x52fe80){h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0x3de960,this['shadowRend'+'erer']=_0x52fe80,this['device']=_0x3de960['device']);}['cull'](_0x451564,_0x253e1c,_0xbce55b,_0x2972fa=null){_0x451564['visibleThi'+'sFrame']=!(-0x117b+0x92*0xf+-0x1c9*-0x5),_0x451564['_shadowMap']||(_0x451564['_shadowMap']=va['create'](this['device'],_0x451564));const _0x34efad=_0xbce55b['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x451564,_0x34efad,Math['min'](_0xbce55b['_farClip'],_0x451564['shadowDist'+'ance']));const _0x19855a=_0x451564['shadowUpda'+'teOverride'+'s'];for(let _0x5b0d32=-0x1*-0x22cd+0xc2e+-0x2efb;_0x5b0d32<_0x451564['numCascade'+'s']&&(_0x19855a==null?void(0x1935+0x163*-0x9+-0x3*0x43e):_0x19855a[_0x5b0d32])!==Ps;_0x5b0d32++){const _0x531544=_0x451564['getRenderD'+'ata'](_0xbce55b,_0x5b0d32),_0x4b6c23=_0x531544['shadowCame'+'ra'];_0x4b6c23['renderTarg'+'et']=_0x451564['_shadowMap']['renderTarg'+'ets'][0x5da+0x1fc2+-0xa6*0x3a],_0x531544['shadowView'+'port']['copy'](_0x451564['cascades'][_0x5b0d32]),_0x531544['shadowScis'+'sor']['copy'](_0x451564['cascades'][_0x5b0d32]);const _0x33b5dc=_0x4b6c23['_node'],_0x207fc0=_0x451564['_node'];_0x33b5dc['setPositio'+'n'](_0x207fc0['getPositio'+'n']()),_0x33b5dc['setRotatio'+'n'](_0x207fc0['getRotatio'+'n']()),_0x33b5dc['rotateLoca'+'l'](-(0x6c6+-0x2*0x1f3+0x11*-0x26),0x1*-0x2d1+0x9db+-0x70a,-0x10f8+0x1ed5+-0x1*0xddd);const _0x5f02c3=_0x5b0d32===0x14*0x27+-0x7*0x7+-0x2b*0x11?_0x34efad:_0x451564['_shadowCas'+'cadeDistan'+'ces'][_0x5b0d32-(0x7*0x27b+0x1fd9+-0xd*0x3c9)],_0x3bd935=_0x451564['_shadowCas'+'cadeDistan'+'ces'][_0x5b0d32],_0x466b64=_0xbce55b['getFrustum'+'Corners'](_0x5f02c3,_0x3bd935);Ti['set'](0x16*0x58+0xad*-0xa+-0x1*0xce,0x18bc+0x1e52+-0x30f*0x12,0x476*-0x7+0xb*0x2bb+0x131);const _0x286f54=_0xbce55b['node']['getWorldTr'+'ansform']();for(let _0x3dfbc5=-0x14*-0x35+-0x115*0xd+0x1*0x9ed;_0x3dfbc5<0x1*-0x386+-0x812*0x4+-0x8b*-0x42;_0x3dfbc5++)_0x286f54['transformP'+'oint'](_0x466b64[_0x3dfbc5],_0x466b64[_0x3dfbc5]),Ti['add'](_0x466b64[_0x3dfbc5]);Ti['mulScalar']((0x2*0x5a7+-0x92f*0x4+0x196f)/(0x1*0x200b+0x1d7b*0x1+0x1ebf*-0x2));let _0x2b53ae=-0x62a+-0x2321+-0xb*-0x3c1;for(let _0x1cd34a=-0x4*0x446+0x1996+-0x87e;_0x1cd34a<-0x2*-0xf07+0x9*0x3df+-0x40dd;_0x1cd34a++){const _0x470df4=_0x466b64[_0x1cd34a]['sub'](Ti)['length']();_0x470df4>_0x2b53ae&&(_0x2b53ae=_0x470df4);}const _0x3964d7=_0x33b5dc['right'],_0x115cbb=_0x33b5dc['up'],_0x1053fe=_0x33b5dc['forward'],_0x4d3d88=(-0x8bd*-0x1+-0x18a2+0xfe5+0.25)*_0x451564['_shadowRes'+'olution']/_0x2b53ae,_0x58e7ae=Math['ceil'](Ti['dot'](_0x115cbb)*_0x4d3d88)/_0x4d3d88,_0x509852=Math['ceil'](Ti['dot'](_0x3964d7)*_0x4d3d88)/_0x4d3d88,_0x40e33b=_0x115cbb['mulScalar'](_0x58e7ae),_0x43aad9=_0x3964d7['mulScalar'](_0x509852),_0x3376c9=Ti['dot'](_0x1053fe),_0x401c52=_0x1053fe['mulScalar'](_0x3376c9);Ti['add2'](_0x40e33b,_0x43aad9)['add'](_0x401c52),_0x33b5dc['setPositio'+'n'](Ti),_0x33b5dc['translateL'+'ocal'](-0x240+0x22d3+-0x2093,0x5e*-0x2+0x1*-0x1b3d+0x1bf9,0x1*-0x45841+-0x4c*0x1951+0x1b1e8d),_0x4b6c23['nearClip']=0xcf*0x1a+0xd71*-0x1+0x1*-0x795+0.01,_0x4b6c23['farClip']=-0x17c943*0x1+0x2a1824+-0x1*-0xc359f,_0x4b6c23['orthoHeigh'+'t']=_0x2b53ae,this['renderer']['updateCame'+'raFrustum'](_0x4b6c23),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x253e1c,_0x451564,_0x531544['visibleCas'+'ters'],_0x4b6c23,_0x2972fa);const _0x5874a0=0x1756+-0x3*-0x14b+-0x102*0x1b<<_0x5b0d32,_0x5bd235=_0x531544['visibleCas'+'ters'],_0x5c7664=_0x5bd235['length'];let _0x7159e=0xbe4+0x1*0xd5+-0xcb9;for(let _0x3a0643=-0xbd7+0x2329*-0x1+0xbc*0x40;_0x3a0643<_0x5c7664;_0x3a0643++){const _0x2c258d=_0x5bd235[_0x3a0643];_0x2c258d['shadowCasc'+'adeMask']&_0x5874a0&&(_0x5bd235[_0x7159e++]=_0x2c258d,_0x7159e===0x2*-0x7fd+-0xd04+0x1cff?lc['copy'](_0x2c258d['aabb']):lc['add'](_0x2c258d['aabb']));}_0x5c7664!==_0x7159e&&(_0x5bd235['length']=_0x7159e),H_['copy'](_0x33b5dc['getWorldTr'+'ansform']())['invert']();const _0x465269=Nb(H_,lc['getMin'](),lc['getMax']());_0x33b5dc['translateL'+'ocal'](0x24c3*-0x1+0x1cf1+0x7d2,0x12bd+-0x3b*-0x1d+-0x4*0x65b,_0x465269['max']+(0x49f+-0x1*-0x1b59+-0xaa8*0x3+0.1)),_0x4b6c23['farClip']=_0x465269['max']-_0x465269['min']+(-0xf0f+-0xf2b+0x1e3a+0.2),_0x531544['projection'+'Compensati'+'on']=_0x2b53ae;}}['generateSp'+'litDistanc'+'es'](_0x3c6347,_0x3a4432,_0x18634d){_0x3c6347['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x18634d);for(let _0x258da7=-0x1540+0x1*0x2017+-0xad6;_0x258da7<_0x3c6347['numCascade'+'s'];_0x258da7++){const _0x1eb8d7=_0x258da7/_0x3c6347['numCascade'+'s'],_0x44e96c=_0x3a4432+(_0x18634d-_0x3a4432)*_0x1eb8d7,_0x348075=_0x3a4432*(_0x18634d/_0x3a4432)**_0x1eb8d7,_0x3e6b88=Y['lerp'](_0x44e96c,_0x348075,_0x3c6347['cascadeDis'+'tribution']);_0x3c6347['_shadowCas'+'cadeDistan'+'ces'][_0x258da7-(0x1*-0xf39+0x1*0x9c2+0x578)]=_0x3e6b88;}}['getLightRe'+'nderPass'](_0x8db51c,_0x4aee13){w['assert'](_0x8db51c&&_0x8db51c['_type']===ve);let _0x269f7b=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x8db51c)){const _0x37c726=_0x8db51c['numShadowF'+'aces'],_0x317ddc=_0x8db51c['shadowUpda'+'teOverride'+'s'];let _0x4c0bee=!(0x1ab7+-0x1*0x1609+-0x4ae),_0x1481f7;for(let _0x38c0f1=-0x6b4+-0x2547+0x2bfb;_0x38c0f1<_0x37c726;_0x38c0f1++)(_0x317ddc==null?void(-0xcb7+0x18c+0x3*0x3b9):_0x317ddc[_0x38c0f1])===Ps&&(_0x4c0bee=!(0xf1a+0x1a74+-0x298d)),_0x1481f7=this['shadowRend'+'erer']['prepareFac'+'e'](_0x8db51c,_0x4aee13,_0x38c0f1);_0x269f7b=new Fb(this['device'],this['shadowRend'+'erer'],_0x8db51c,_0x4aee13,_0x4c0bee),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x269f7b,_0x1481f7,_0x4c0bee);}return _0x269f7b;}}const rf=new Set(),W_=new te(),$_=new te(),Fr=new Float32Array(0x29*0x7b+0x1*-0x10c3+-0x3*0xfa),lo=new re(0x11e*-0x13+-0x62b+0x1b66,-0xc77+0x1a71*-0x1+-0x26e9*-0x1,-0x5*0x28d+0x1c*0x40+0x5c1,0xf96+0xdb1+-0x1*0x1d47),X_=new te();function Ub(_0x37cf8b,_0x45a993){return Math['exp'](-(_0x37cf8b*_0x37cf8b)/((0x2*-0x3c4+0x1*-0x42d+0xbb7)*_0x45a993*_0x45a993));}function Bb(_0x2cde45){const _0xab24d7=(_0x2cde45-(0x67+0x9f*-0xd+0x7ad))/(0xb14*-0x2+0xada+0xb54),_0xc261d0=(_0x2cde45-(-0x3bb+0xb31+-0x775))*(0x131b+-0x12f4+-0xd*0x3+0.5),_0x199c33=new Array(_0x2cde45);let _0x30213c=0x2570+0x1079+-0x35e9;for(let _0x460082=-0x1402+0x2af*0x3+0xbf5;_0x460082<_0x2cde45;++_0x460082)_0x199c33[_0x460082]=Ub(_0x460082-_0xc261d0,_0xab24d7),_0x30213c+=_0x199c33[_0x460082];for(let _0x5634f5=0x5f*-0x44+0x8f5+0x1cf*0x9;_0x5634f5<_0x2cde45;++_0x5634f5)_0x199c33[_0x5634f5]/=_0x30213c;return _0x199c33;}class Cv{constructor(_0x5a42f9,_0x216e8d){h(this,'shadowPass'+'Cache',[]),(this['device']=_0x5a42f9['device'],this['renderer']=_0x5a42f9,this['lightTextu'+'reAtlas']=_0x216e8d);const _0x473286=this['device']['scope'];this['sourceId']=_0x473286['resolve']('source'),this['pixelOffse'+'tId']=_0x473286['resolve']('pixelOffse'+'t'),this['weightId']=_0x473286['resolve']('weight[0]'),this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x473286['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new pt(),this['blendState'+'NoWrite']=new pt(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(0x1b2+0x1*0x1d92+-0x1f43),!(0x4*0x9a3+0x9*-0xad+0x115*-0x1e),!(-0x1446+-0xb*0x59+-0x181a*-0x1),!(-0x7*-0x1cf+0x1*0x1ff7+-0x2c9f*0x1));}static['createShad'+'owCamera'](_0x3ecb71,_0x132625,_0x537ba0){const _0x5d66c8=Wn['create']('ShadowCame'+'ra',_0x132625,_0x537ba0),_0x22a031=qi['get'](_0x3ecb71);w['assert'](_0x22a031);const _0x44efd3=(_0x22a031==null?void(-0x1603+-0x13ea+0x29ed*0x1):_0x22a031['vsm'])??!(0x4*0x335+-0x989+-0x34a*0x1),_0x3bf04c=(_0x22a031==null?void(-0x12a4+-0x1*-0x881+0x361*0x3):_0x22a031['pcf'])??!(0x1a25+-0x6*0x29+-0xc97*0x2);return _0x44efd3?_0x5d66c8['clearColor']=new ie(-0x1bd3+-0x602*-0x3+0x9cd,0x251e+-0xd*-0x1e8+-0x3de6,-0x8*-0x3c7+-0x1146*-0x1+-0x2f7e,-0x5c0+0x13*0x1c2+0x1ba6*-0x1):_0x5d66c8['clearColor']=new ie(-0xe76+0x18e*-0xa+-0xd*-0x24f,0x1*0x1769+-0x8d*0x3d+0xa31,0x13d*0xa+0x4e4*-0x2+-0x299,0xc7*-0x2b+0x953+0x181b),_0x5d66c8['clearDepth'+'Buffer']=!(0x24e1+0x270+0x7dd*-0x5),_0x5d66c8['clearStenc'+'ilBuffer']=!(0x22a7*-0x1+-0x11f*0xe+-0x5*-0xa12),_0x5d66c8['clearColor'+'Buffer']=!_0x3bf04c,_0x5d66c8;}['_cullShado'+'wCastersIn'+'ternal'](_0x361ed8,_0x43cd0b,_0x54ca10){const _0x3e005f=_0x361ed8['length'];for(let _0x45c19d=-0x2*0x99e+0x265e+-0x991*0x2;_0x45c19d<_0x3e005f;_0x45c19d++){const _0x3227fe=_0x361ed8[_0x45c19d];_0x3227fe['castShadow']&&(!_0x3227fe['cull']||_0x3227fe['_isVisible'](_0x54ca10))&&(_0x3227fe['visibleThi'+'sFrame']=!(0x424*-0x7+0xe*0x6c+-0xd3*-0x1c),_0x43cd0b['push'](_0x3227fe));}}['cullShadow'+'Casters'](_0x46b88f,_0x57a2d2,_0x3d49c7,_0x39edba,_0x2a0731){var _0x122568,_0x5030bf;if((_0x122568=this['renderer']['scene'])==null||_0x122568['fire'](mv,_0x39edba),_0x3d49c7['length']=0x2283+0x257a+-0x17ff*0x3,_0x2a0731)this['_cullShado'+'wCastersIn'+'ternal'](_0x2a0731,_0x3d49c7,_0x39edba);else{const _0x3c8a9d=_0x46b88f['layerList'],_0x548894=_0x3c8a9d['length'];for(let _0x420000=-0x35d+-0x1edc+0x2239*0x1;_0x420000<_0x548894;_0x420000++){const _0x39b0ba=_0x3c8a9d[_0x420000];_0x39b0ba['_lightsSet']['has'](_0x57a2d2)&&(rf['has'](_0x39b0ba)||(rf['add'](_0x39b0ba),this['_cullShado'+'wCastersIn'+'ternal'](_0x39b0ba['shadowCast'+'ers'],_0x3d49c7,_0x39edba)));}rf['clear']();}_0x3d49c7['sort'](this['sortCompar'+'eShader']),(_0x5030bf=this['renderer']['scene'])==null||_0x5030bf['fire'](_v,_0x39edba);}['sortCompar'+'eShader'](_0x15f75f,_0x382b80){const _0x5a8da7=_0x15f75f['_sortKeySh'+'adow'],_0x48de46=_0x382b80['_sortKeySh'+'adow'];return _0x5a8da7===_0x48de46?_0x382b80['mesh']['id']-_0x15f75f['mesh']['id']:_0x48de46-_0x5a8da7;}['setupRende'+'rState'](_0x545e89,_0x34a8f5){const _0x4cbca2=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x34a8f5['_isPcf']:_0x34a8f5['_isPcf']&&_0x34a8f5['_type']!==Ke;_0x545e89['setBlendSt'+'ate'](_0x4cbca2?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x545e89['setDepthSt'+'ate'](_0x34a8f5['shadowDept'+'hState']),_0x545e89['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x1a600b,_0x2f5037,_0x379e0e,_0x51a488){const _0x96fac0=_0x2f5037['_node'];_0x1a600b['_type']!==ve&&(this['renderer']['dispatchVi'+'ewPos'](_0x96fac0['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x1a600b['attenuatio'+'nEnd'])),W_['setTRS'](_0x96fac0['getPositio'+'n'](),_0x96fac0['getRotatio'+'n'](),D['ONE'])['invert'](),$_['mul2'](_0x2f5037['projection'+'Matrix'],W_);const _0x27271f=_0x379e0e['shadowView'+'port'];_0x2f5037['rect']=_0x27271f,_0x2f5037['scissorRec'+'t']=_0x379e0e['shadowScis'+'sor'],X_['setViewpor'+'t'](_0x27271f['x'],_0x27271f['y'],_0x27271f['z'],_0x27271f['w']),_0x379e0e['shadowMatr'+'ix']['mul2'](X_,$_),_0x1a600b['_type']===ve&&_0x1a600b['_shadowMat'+'rixPalette']['set'](_0x379e0e['shadowMatr'+'ix']['data'],_0x51a488*(-0xb4c*0x1+-0xfd*0x23+-0xf51*-0x3));}['getShadowP'+'ass'](_0x4eb140){var _0x2e5426;const _0x4a08fe=_0x4eb140['_type'],_0x1d95e1=_0x4eb140['_shadowTyp'+'e'];let _0x575006=(_0x2e5426=this['shadowPass'+'Cache'][_0x4a08fe])==null?void(-0x19d2+0x41a+0xa*0x22c):_0x2e5426[_0x1d95e1];if(!_0x575006){const _0x2763b0='ShadowPass'+'_'+_0x4a08fe+'_'+_0x1d95e1;_0x575006=Si['get'](this['device'])['allocate'](_0x2763b0,{'isShadow':!(-0x2de+0x1d92*0x1+-0x1ab4),'lightType':_0x4a08fe,'shadowType':_0x1d95e1}),this['shadowPass'+'Cache'][_0x4a08fe]||(this['shadowPass'+'Cache'][_0x4a08fe]=[]),this['shadowPass'+'Cache'][_0x4a08fe][_0x1d95e1]=_0x575006;}return _0x575006['index'];}['submitCast'+'ers'](_0xa050be,_0x27b89d,_0x1039f4){var _0x9c1ab1;const _0x59be8e=this['device'],_0x1d860a=this['renderer'],_0x111cb6=_0x1d860a['scene'],_0x2ef50c=-0x17*0x199+-0x12f0+0x1*0x37b0<<cm,_0x39e74c=this['getShadowP'+'ass'](_0x27b89d),_0x127ac8=_0x1039f4['shaderPara'+'ms'],_0x5cbd8d=_0x1039f4['renderTarg'+'et']['flipY']?-(-0xdc7+0xcc6+-0x1*-0x102):0x1143*-0x2+0x11c1+0x10c6,_0x58e9bd=_0xa050be['length'];for(let _0x256491=0x1391*0x1+-0x1e2e+0xa9d;_0x256491<_0x58e9bd;_0x256491++){const _0x1efde1=_0xa050be[_0x256491],_0x59df50=_0x1efde1['mesh'],_0x32f553=_0x1efde1['instancing'+'Data'];if(_0x32f553&&_0x32f553['count']<=-0x2*0x9f9+0x2*0xec9+0xb*-0xe0)continue;_0x1efde1['ensureMate'+'rial'](_0x59be8e);const _0x12d59e=_0x1efde1['material'];Q['pushGpuMar'+'ker'](_0x59be8e,'Node:\x20'+_0x1efde1['node']['name']+(',\x20Material'+':\x20')+_0x12d59e['name']),_0x1d860a['setBaseCon'+'stants'](_0x59be8e,_0x12d59e),_0x1d860a['setSkinnin'+'g'](_0x59be8e,_0x1efde1),_0x12d59e['dirty']&&(_0x12d59e['updateUnif'+'orms'](_0x59be8e,_0x111cb6),_0x12d59e['dirty']=!(-0x23b7+-0x19d2+0x1*0x3d8a)),_0x1d860a['setupCullM'+'ode'](!(0x570*-0x2+0x25e*0x10+-0x1b00),_0x5cbd8d,_0x1efde1),_0x12d59e['setParamet'+'ers'](_0x59be8e),_0x1efde1['setParamet'+'ers'](_0x59be8e,_0x2ef50c);const _0x5cd803=_0x1efde1['getShaderI'+'nstance'](_0x39e74c,0x139f*0x1+-0x7db+-0x3ec*0x3,_0x111cb6,_0x127ac8,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x46503d=_0x5cd803['shader'];if(w['assert'](_0x46503d,'no\x20shader\x20'+'for\x20pass\x20'+_0x39e74c,_0x12d59e),_0x46503d['failed'])continue;_0x1efde1['_sortKeySh'+'adow']=_0x46503d['id'],_0x59be8e['setShader'](_0x46503d),_0x1d860a['setVertexB'+'uffers'](_0x59be8e,_0x59df50),_0x1d860a['setMorphin'+'g'](_0x59be8e,_0x1efde1['morphInsta'+'nce']),_0x32f553&&_0x59be8e['setVertexB'+'uffer'](_0x32f553['vertexBuff'+'er']),_0x1d860a['setMeshIns'+'tanceMatri'+'ces'](_0x1efde1),_0x1d860a['setupMeshU'+'niformBuff'+'ers'](_0x5cd803);const _0x135081=_0x1efde1['renderStyl'+'e'],_0x3a3a27=(_0x9c1ab1=_0x1efde1['indirectDa'+'ta'])==null?void(0x395*0xa+-0x41*0x89+0x35*-0x5):_0x9c1ab1['get'](_0x1039f4);_0x59be8e['draw'](_0x59df50['primitive'][_0x135081],_0x59df50['indexBuffe'+'r'][_0x135081],_0x32f553==null?void(0x21d5+0x24ca+-0x1*0x469f):_0x32f553['count'],_0x3a3a27),_0x1d860a['_shadowDra'+'wCalls']++,_0x32f553&&_0x1d860a['_instanced'+'DrawCalls']++,Q['popGpuMark'+'er'](_0x59be8e);}}['needsShado'+'wRendering'](_0x5b5167){const _0x424e25=_0x5b5167['enabled']&&_0x5b5167['castShadow'+'s']&&_0x5b5167['shadowUpda'+'teMode']!==Ps&&_0x5b5167['visibleThi'+'sFrame'];return _0x5b5167['shadowUpda'+'teMode']===xr&&(_0x5b5167['shadowUpda'+'teMode']=Ps),_0x424e25&&(this['renderer']['_shadowMap'+'Updates']+=_0x5b5167['numShadowF'+'aces']),_0x424e25;}['getLightRe'+'nderData'](_0x5dafe9,_0x5abbb0,_0x340d92){return _0x5dafe9['getRenderD'+'ata'](_0x5dafe9['_type']===ve?_0x5abbb0:null,_0x340d92);}['setupRende'+'rPass'](_0x103628,_0x3eeea3,_0x51cd6a){const _0x37852f=_0x3eeea3['renderTarg'+'et'];_0x103628['init'](_0x37852f),_0x103628['depthStenc'+'ilOps']['clearDepth'+'Value']=0x1*-0x1bce+0xf41+0xc8e,_0x103628['depthStenc'+'ilOps']['clearDepth']=_0x51cd6a,_0x37852f['depthBuffe'+'r']?_0x103628['depthStenc'+'ilOps']['storeDepth']=!(-0x2656+-0xd2a+0x3380):(_0x103628['colorOps']['clearValue']['copy'](_0x3eeea3['clearColor']),_0x103628['colorOps']['clear']=_0x51cd6a,_0x103628['depthStenc'+'ilOps']['storeDepth']=!(0xc39+-0xb*0x1f+0x1*-0xae3)),_0x103628['requiresCu'+'bemaps']=!(0x47d+0xb*0x1ac+-0x16e0);}['prepareFac'+'e'](_0x24da0e,_0x18e9a0,_0x2378f4){const _0x1d3d72=_0x24da0e['_type'],_0x555311=this['getLightRe'+'nderData'](_0x24da0e,_0x18e9a0,_0x2378f4)['shadowCame'+'ra'],_0x4c6faf=_0x1d3d72===ve?-0x2308+0x2523+-0x21b:_0x2378f4;return _0x555311['renderTarg'+'et']=_0x24da0e['_shadowMap']['renderTarg'+'ets'][_0x4c6faf],_0x555311;}['renderFace'](_0x1705b2,_0x2839ba,_0x1c5990,_0x29f55e,_0x5a287f=!(-0x1f11+0x5*0x68e+-0x1b5)){const _0x3bd124=this['device'],_0x12073e=de();Q['pushGpuMar'+'ker'](_0x3bd124,'SHADOW\x20'+_0x1705b2['_node']['name']+'\x20FACE\x20'+_0x1c5990);const _0x3af7a8=this['getLightRe'+'nderData'](_0x1705b2,_0x2839ba,_0x1c5990),_0x52d92f=_0x3af7a8['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x1705b2,_0x52d92f,_0x3af7a8,_0x1c5990);const _0x1a5582=_0x52d92f['renderTarg'+'et'],_0x3ab02c=this['renderer'];_0x3ab02c['setCameraU'+'niforms'](_0x52d92f,_0x1a5582),_0x3bd124['supportsUn'+'iformBuffe'+'rs']&&_0x3ab02c['setupViewU'+'niformBuff'+'ers'](_0x3af7a8['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],null),_0x5a287f?(_0x3ab02c['setupViewp'+'ort'](_0x52d92f,_0x1a5582),_0x29f55e&&_0x3ab02c['clear'](_0x52d92f)):_0x3ab02c['clearView'](_0x52d92f,_0x1a5582,!(0x5*-0x235+0x1c7c+-0x1173),!(-0x1743+-0x3*0x469+-0x247f*-0x1)),this['setupRende'+'rState'](_0x3bd124,_0x1705b2),this['submitCast'+'ers'](_0x3af7a8['visibleCas'+'ters'],_0x1705b2,_0x52d92f),Q['popGpuMark'+'er'](_0x3bd124),_0x3ab02c['_shadowMap'+'Time']+=de()-_0x12073e;}['render'](_0x527bfc,_0x5d3f53,_0x5cfa95=!(-0x155f+0x2334+-0xdd5)){if(this['needsShado'+'wRendering'](_0x527bfc)){const _0x54ba74=_0x527bfc['numShadowF'+'aces'];for(let _0x40f987=0x2477+-0x2270+-0x1*0x207;_0x40f987<_0x54ba74;_0x40f987++)this['prepareFac'+'e'](_0x527bfc,_0x5d3f53,_0x40f987),this['renderFace'](_0x527bfc,_0x5d3f53,_0x40f987,!(-0x1d*-0x1+0x11a2*0x1+-0x11bf),_0x5cfa95);this['renderVsm'](_0x527bfc,_0x5d3f53);}}['renderVsm'](_0x41e7dd,_0x37e6ca){_0x41e7dd['_isVsm']&&_0x41e7dd['_vsmBlurSi'+'ze']>-0x1925+-0x25c*0x4+0xe9*0x26&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x41e7dd['_type']===ve)&&this['applyVsmBl'+'ur'](_0x41e7dd,_0x37e6ca);}['getVsmBlur'+'Shader'](_0x28df0a,_0x59eb9f){const _0x53eac7=this['blurVsmSha'+'der'];let _0x4125f4=_0x53eac7[_0x28df0a][_0x59eb9f];if(!_0x4125f4){this['blurVsmWei'+'ghts'][_0x59eb9f]=Bb(_0x59eb9f);const _0x5f0ab3=new Map();_0x5f0ab3['set']('{SAMPLES}',_0x59eb9f),_0x28df0a===-0x19f0+-0x1*0x23ad+0x2*0x1ecf&&_0x5f0ab3['set']('GAUSS',''),_0x4125f4=$t['createShad'+'er'](this['device'],{'uniqueName':'blurVsm'+_0x28df0a+_0x59eb9f,'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'blurVSMPS','fragmentDefines':_0x5f0ab3}),_0x53eac7[_0x28df0a][_0x59eb9f]=_0x4125f4;}return _0x4125f4;}['applyVsmBl'+'ur'](_0x181ff4,_0x4e1822){const _0x517090=this['device'];Q['pushGpuMar'+'ker'](_0x517090,'VSM\x20'+_0x181ff4['_node']['name']),_0x517090['setBlendSt'+'ate'](pt['NOBLEND']);const _0x15f666=_0x181ff4['getRenderD'+'ata'](_0x181ff4['_type']===ve?_0x4e1822:null,0x19*0x2e+-0x143+-0x33b)['shadowCame'+'ra']['renderTarg'+'et'],_0x110e37=this['renderer']['shadowMapC'+'ache']['get'](_0x517090,_0x181ff4),_0x270129=_0x110e37['renderTarg'+'ets'][0x1a00+-0x18e5+-0x11b],_0x734f64=_0x181ff4['vsmBlurMod'+'e'],_0x587e76=_0x181ff4['_vsmBlurSi'+'ze'],_0x247144=this['getVsmBlur'+'Shader'](_0x734f64,_0x587e76);lo['z']=_0x181ff4['_shadowRes'+'olution']-(0x17ee+-0x1*0xc73+-0x10b*0xb),lo['w']=lo['z'],this['sourceId']['setValue'](_0x15f666['colorBuffe'+'r']),Fr[0x7*0x47f+0x1db8+-0x3d31]=(-0xbc4+-0x13d7+0x1f9c)/_0x181ff4['_shadowRes'+'olution'],Fr[-0x1a1e+-0x13d0+0x2def]=-0x255c+-0x1407+-0xb1*-0x53,this['pixelOffse'+'tId']['setValue'](Fr),_0x734f64===em&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x587e76]),Ar(_0x517090,_0x270129,_0x247144,null,lo),this['sourceId']['setValue'](_0x270129['colorBuffe'+'r']),Fr[0x1251*0x1+0x1*-0x4e7+0xd69*-0x1]=Fr[-0x16*0x9e+-0xa*0x235+0x3*0xbe2],Fr[0x1977+0x11*-0x7c+-0x113b]=-0x5a1*0x5+-0x33*0xd+0x1ebc,this['pixelOffse'+'tId']['setValue'](Fr),Ar(_0x517090,_0x15f666,_0x247144,null,lo),this['renderer']['shadowMapC'+'ache']['add'](_0x181ff4,_0x110e37),Q['popGpuMark'+'er'](_0x517090);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new zy(this['device'],[new dt('matrix_vie'+'wProjectio'+'n',li)]),this['viewBindGr'+'oupFormat']=new Ny(this['device'],[new kp(Np,Fp|by)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const cc=[];class zb{constructor(_0x457576){h(this,'_empty',null),h(this,'_allocated',[]),h(this,'_clusters',new Map()),this['device']=_0x457576;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x39beda=>{_0x39beda['destroy']();}),this['_allocated']['length']=-0x14ce+-0xf69+0x2437*0x1;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x1a9b92=new cu(this['device']);_0x1a9b92['name']='ClusterEmp'+'ty',_0x1a9b92['update']([]),this['_empty']=_0x1a9b92;}return this['_empty'];}['assign'](_0x182494){const _0x3dbb37=this['empty'];cc['push'](...this['_allocated']),this['_allocated']['length']=0x6a7+-0x7*-0x183+0x2*-0x89e,this['_clusters']['clear']();const _0x2e0e7e=_0x182494['length'];for(let _0x45cf82=0x13*-0xe5+-0x7a2+0x18a1;_0x45cf82<_0x2e0e7e;_0x45cf82++){const _0x19ab7a=_0x182494[_0x45cf82]['renderActi'+'ons'];if(_0x19ab7a){const _0x189aa6=_0x19ab7a['length'];for(let _0x331395=0x1b+0x861*-0x1+0x846;_0x331395<_0x189aa6;_0x331395++){const _0x176cc1=_0x19ab7a[_0x331395];_0x176cc1['lightClust'+'ers']=null;const _0x561db9=_0x176cc1['layer'];if(_0x561db9['hasCluster'+'edLights']&&_0x561db9['meshInstan'+'ces']['length']){const _0x279ea9=_0x561db9['getLightId'+'Hash'](),_0x243626=this['_clusters']['get'](_0x279ea9);let _0x2af1db=_0x243626==null?void(-0x311*-0x2+0x23f9+-0x1*0x2a1b):_0x243626['lightClust'+'ers'];_0x2af1db||(_0x2af1db=cc['pop']()??new cu(this['device']),Ea['setName'](_0x2af1db,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x2af1db),this['_clusters']['set'](_0x279ea9,_0x176cc1)),_0x176cc1['lightClust'+'ers']=_0x2af1db;}_0x176cc1['lightClust'+'ers']||(_0x176cc1['lightClust'+'ers']=_0x3dbb37);}}}cc['forEach'](_0x55c856=>_0x55c856['destroy']()),cc['length']=-0x2131+-0x1ae2+0x3c13;}['update'](_0x5442b5,_0x2c22c7){this['assign'](_0x5442b5),this['_clusters']['forEach'](_0x1c61e7=>{const _0x196999=_0x1c61e7['layer'];_0x1c61e7['lightClust'+'ers']['update'](_0x196999['clusteredL'+'ightsSet'],_0x2c22c7);});}}const rr=new re(),af=[];class pm extends ys{constructor(_0x3e6d49,_0x5e2e32){super(_0x3e6d49),h(this,'_quadRende'+'rer2D',null),h(this,'_quadRende'+'rerCube',null),h(this,'_filteredL'+'ights',[]),h(this,'_forceCopy',!(-0x1895+0x5f5*-0x1+0x1e8b*0x1)),h(this,'_evtDevice'+'Restored',null),(this['_cubeSlots'+'Offsets']=_0x5e2e32,this['requiresCu'+'bemaps']=!(0x4a+0x2656+-0x269f),this['blitTextur'+'eId']=_0x3e6d49['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0x3e6d49['scope']['resolve']('invViewPro'+'j'),this['_evtDevice'+'Restored']=_0x3e6d49['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this));}['destroy'](){var _0x2c9167,_0x47f959,_0x54d0c3;(_0x2c9167=this['_quadRende'+'rer2D'])==null||_0x2c9167['destroy'](),this['_quadRende'+'rer2D']=null,(_0x47f959=this['_quadRende'+'rerCube'])==null||_0x47f959['destroy'](),this['_quadRende'+'rerCube']=null,(_0x54d0c3=this['_evtDevice'+'Restored'])==null||_0x54d0c3['off'](),this['_evtDevice'+'Restored']=null;}static['create'](_0x4ada7b,_0x5e906c){w['assert'](_0x4ada7b);const _0x228f69=new pm(_0x4ada7b['device'],_0x5e906c);return _0x228f69['init'](_0x4ada7b),_0x228f69['colorOps']['clear']=!(-0x18b*-0x17+-0x1225*0x2+0xce),_0x228f69['depthStenc'+'ilOps']['clearDepth']=!(0x9*-0x370+0x5f*-0x13+-0x2*-0x12ff),_0x228f69;}['onDeviceRe'+'stored'](){this['_forceCopy']=!(-0xb*0x218+0x223a+0x599*-0x2);}['update'](_0x1f2dfa){const _0x418083=this['_filteredL'+'ights'];this['filter'](_0x1f2dfa,_0x418083),this['executeEna'+'bled']=_0x418083['length']>-0x1aad+0xf7*0x1+0x19b6;}['filter'](_0x59e7ab,_0x1ea6c3){for(let _0x565d54=-0x47*-0x67+0x51d*0x1+-0x21ae;_0x565d54<_0x59e7ab['length'];_0x565d54++){const _0x5b8321=_0x59e7ab[_0x565d54];_0x5b8321['_type']!==ve&&_0x5b8321['atlasViewp'+'ortAllocat'+'ed']&&(!_0x5b8321['atlasSlotU'+'pdated']&&!this['_forceCopy']||_0x5b8321['enabled']&&_0x5b8321['cookie']&&_0x5b8321['visibleThi'+'sFrame']&&_0x1ea6c3['push'](_0x5b8321));}this['_forceCopy']=!(-0x2120+0x2680+-0x55f);}['initInvVie'+'wProjMatri'+'ces'](){if(!af['length'])for(let _0x1cb01d=-0xc7*-0x29+-0x1946+-0x233*0x3;_0x1cb01d<0x1dfa+-0x19bd+-0x437;_0x1cb01d++){const _0x131747=Wn['create'](null,Ke,_0x1cb01d),_0x1e7a11=_0x131747['projection'+'Matrix'],_0x46f251=_0x131747['node']['getLocalTr'+'ansform']()['clone']()['invert']();af[_0x1cb01d]=new te()['mul2'](_0x1e7a11,_0x46f251)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x51d790=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'erer2d','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'2DPS'});this['_quadRende'+'rer2D']=new Ah(_0x51d790);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x251722=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'ererCube','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'CubePS'});this['_quadRende'+'rerCube']=new Ah(_0x251722);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x213274=this['device'];_0x213274['setBlendSt'+'ate'](pt['NOBLEND']),_0x213274['setCullMod'+'e'](bt),_0x213274['setDepthSt'+'ate'](Yt['NODEPTH']),_0x213274['setStencil'+'State']();const _0xe231b5=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x24fe4e=this['_cubeSlots'+'Offsets'],_0xdd0b83=this['_filteredL'+'ights'];for(let _0x5093db=-0xfe*0x1e+0x11a1*-0x1+0x1*0x2f65;_0x5093db<_0xdd0b83['length'];_0x5093db++){const _0x4bf07e=_0xdd0b83[_0x5093db];Q['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x4bf07e['_node']['name']);const _0x3a08ba=_0x4bf07e['numShadowF'+'aces'],_0xf7cb44=_0x3a08ba>-0x1*-0x26ed+0x3*-0xc53+0x1*-0x1f3?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x3a08ba>0x7aa+0xc7d*0x2+-0x20a3*0x1&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x4bf07e['cookie']);for(let _0x29cf66=0x47*0x49+0xc9e+-0x20dd;_0x29cf66<_0x3a08ba;_0x29cf66++){if(rr['copy'](_0x4bf07e['atlasViewp'+'ort']),_0x3a08ba>0x13c5+0x1*-0x1fa9+0x3f7*0x3){const _0x38968f=rr['z']/(-0x56f*0x5+-0x2*-0x1065+-0x59c),_0x46b9eb=_0x24fe4e[_0x29cf66];rr['x']+=_0x38968f*_0x46b9eb['x'],rr['y']+=_0x38968f*_0x46b9eb['y'],rr['z']=_0x38968f,rr['w']=_0x38968f,this['invViewPro'+'jId']['setValue'](af[_0x29cf66]['data']);}rr['mulScalar'](_0xe231b5),_0xf7cb44['render'](rr);}Q['popGpuMark'+'er'](_0x213274);}_0xdd0b83['length']=0x1ee8*-0x1+-0x49a*0x4+-0x6*-0x838;}}class Vb extends ys{constructor(_0x1a292e,_0x18e36e,_0x3cece7){super(_0x1a292e),this['requiresCu'+'bemaps']=!(0x210a+-0x1c2c+0x3*-0x19f),this['shadowRend'+'erer']=_0x18e36e,this['shadowRend'+'ererLocal']=_0x3cece7;}['update'](_0x90f8d9){const _0x5a8c3b=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x2ef2e8=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x5a8c3b,_0x90f8d9),_0x1dc044=_0x5a8c3b['length'];this['enabled']=_0x1dc044>-0x1a40+-0x45d*0x1+-0x11*-0x1cd,_0x1dc044&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0x2ef2e8,!(-0x18*-0xfd+-0xce*-0xd+-0x222d));}['execute'](){const _0xe0cba7=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x1ced5d=_0xe0cba7['length'];for(let _0x21d283=0x1*-0x1ecd+-0x13*0x1bd+0x3fd4;_0x21d283<_0x1ced5d;_0x21d283++){const _0x4948dd=_0xe0cba7[_0x21d283];for(let _0xba993a=-0x1*0x12f7+0x1e66+-0xb6f*0x1;_0xba993a<_0x4948dd['numShadowF'+'aces'];_0xba993a++)this['shadowRend'+'erer']['renderFace'](_0x4948dd,null,_0xba993a,!(-0x645+0x1bf7+0xad9*-0x2));}_0xe0cba7['length']=-0x1483+-0x8c3*-0x2+0x2fd;}}class Gb extends ys{constructor(_0x414b39,_0x106355,_0x45dd6d,_0x5d6266,_0x6b2eb0){super(_0x414b39),this['renderer']=_0x106355,this['frameGraph']=null,this['cookiesRen'+'derPass']=pm['create'](_0x6b2eb0['cookieRend'+'erTarget'],_0x6b2eb0['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new Vb(_0x414b39,_0x45dd6d,_0x5d6266),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x55c765,_0x91fe47,_0x1a1465,_0xe4766a,_0x432716){this['frameGraph']=_0x55c765,this['cookiesRen'+'derPass']['enabled']=_0x1a1465,_0x1a1465&&this['cookiesRen'+'derPass']['update'](_0xe4766a),this['shadowRend'+'erPass']['enabled']=_0x91fe47,_0x91fe47&&this['shadowRend'+'erPass']['update'](_0x432716);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x2eeb5e=de(),{renderer:_0xb55f3}=this,{scene:_0x567593}=_0xb55f3;_0xb55f3['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x567593['lighting']),_0xb55f3['_lightClus'+'tersTime']+=de()-_0x2eeb5e,_0xb55f3['_lightClus'+'ters']=_0xb55f3['worldClust'+'ersAllocat'+'or']['count'];}}let nf=-0x81*-0x48+-0x2*0x1060+-0x388;const ar=new te(),nr=new te(),Oa=new te(),q_=new _i(),of=new sp(),j_=new te()['setScale'](0x2*-0x84+0x359*0x9+-0x1d18,-(0xa3e+0xc*0x32d+-0x3059),0xa76+-0x1f4b+0x17d*0xe),lf=new Set(),cf=new Set(),hf=new ky(),Y_=new te()['set']([0x16bf+-0x2695+0xfd7,0x18f5+-0x191+-0x1764*0x1,-0x1*-0xec3+-0x4ea*0x3+-0x5,-0xc23+0x1*0x89f+-0x19*-0x24,0x543+0x831+0x4*-0x35d,0x23e3+-0x24bb+-0xd9*-0x1,-0x20f4+-0x779+0x286d,0xd8b*0x1+-0x13*-0x101+-0x209e,-0xe66+-0x5*0x1f3+0x7*0x373,0x2*0xf9+-0x7*-0x3e7+-0x1d43,0x23ba+0x18e7+0x583*-0xb+0.5,0x2101+0x730*0x1+-0x1*0x2831,-0x1*0x1b37+-0x2e*-0x71+0x6e9,-0xa7*-0x5+0x2*0x80f+-0xb*0x1c3,0x1b90+0x955*-0x1+-0x123b+0.5,0x1*0xf0b+-0x1cac+0x2*0x6d1]),K_=[new J(0x1bd*-0x8+0x755+0x231*0x3+0.5,-0x1*0x1aed+0x15fd*0x1+0x4f0+0.333333),new J(0x3*0x4cf+0x1818+-0x2685+0.25,0x2*-0x24c+0xb*-0x56+0x84a+0.666667),new J(-0x1ae*0x5+0x11*-0x29+0xb1f+0.75,-0xbef*-0x2+0x11*-0x167+0x7*-0x1+0.111111),new J(-0x2*-0x27c+0x1*-0x305+-0x1f3+0.125,-0x1231+-0x1185+-0x1*-0x23b6+0.444444),new J(-0x23e+0x23f0+-0x21b2+0.625,-0x10f5*-0x1+0x20d8+-0x31cd+0.777778),new J(0xed7+-0x144c+0x1*0x575+0.375,-0x40+-0x1649+0x1689+0.222222),new J(0xb*-0x2dd+-0x283*0x2+-0x2485*-0x1+0.875,0xbb4+0x4cf*-0x1+-0x6e5+0.555556),new J(0xf04+-0x296+-0xc6e+0.0625,0x35f*-0xb+-0x1364+0x12d3*0x3+0.888889),new J(0x1a+-0x2605+0x25eb+0.5625,0xef*0x24+0x3ed*-0x5+-0xdfb+0.037037),new J(-0x22e0+-0x48d+0x276d+0.3125,0x579+-0x16af*-0x1+-0x4*0x70a+0.37037),new J(-0x21c7+0xefc+0x12cb+0.8125,-0x6*0xb+0xfe5+-0xfa3+0.703704),new J(0x3d*-0x1c+-0x1d2d+0x23d9+0.1875,-0x1*-0x1f5a+0x1*-0x235+0x1*-0x1d25+0.148148),new J(-0x1062+-0x488*0x1+0x14ea+0.6875,0x108f+-0x7e6+0x3*-0x2e3+0.481481),new J(-0xd*0x2f5+0x14d9*0x1+0x8cc*0x2+0.4375,0x23*0x6d+0x25cf*-0x1+-0x2*-0xb74+0.814815),new J(-0x18b1+0x1d22+-0x471+0.9375,-0x1*-0xd2d+0xb99+-0x18c6+0.259259),new J(0x1*-0x17a5+0x131d+-0xe8*-0x5+0.03125,0x6*0x1e3+0x1ac7+-0x2619+0.592593)],Hb=new te(),Wb=new te(),$b=new te(),Xb=new te(),qb=new te(),jb=new te(),Fa=new Set(),df=[],ff=[];class Yb{constructor(_0x43a636){h(this,'clustersDe'+'bugRendere'+'d',!(-0x1*-0x11f4+-0x1d12*-0x1+-0x2f05*0x1)),h(this,'processing'+'MeshInstan'+'ces',new Set()),h(this,'worldClust'+'ersAllocat'+'or'),h(this,'lights',[]),h(this,'localLight'+'s',[]),h(this,'cameraDirS'+'hadowLight'+'s',new Map()),h(this,'dirLightSh'+'adows',new Map()),h(this,'blueNoise',new wb(-0x253a+0x23a3+-0xa*-0x35)),(this['device']=_0x43a636,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new zb(_0x43a636),this['lightTextu'+'reAtlas']=new Ib(_0x43a636),this['shadowMapC'+'ache']=new Lb(),this['shadowRend'+'erer']=new Cv(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new Ob(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new kb(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new Gb(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=0x210d+0x1909+-0x3a16,this['_morphTime']=0xa24+0x311*0x1+-0xd35,this['_cullTime']=-0x1493+-0x2d3+-0x1766*-0x1,this['_shadowMap'+'Time']=-0x2149*0x1+-0xf72+0x30bb,this['_lightClus'+'tersTime']=0x2d4*0x2+-0x1f30+0x1988,this['_layerComp'+'ositionUpd'+'ateTime']=0x7c0+-0x1*-0x1f69+-0x2729*0x1,this['_shadowDra'+'wCalls']=0x54*0x1d+-0x2616+0x1c92,this['_skinDrawC'+'alls']=0xad2+0x11b3*0x1+-0x413*0x7,this['_instanced'+'DrawCalls']=-0x171f*-0x1+0x1*0x54b+-0x1c6a*0x1,this['_shadowMap'+'Updates']=0xbc4+0x2061+-0x2c25,this['_numDrawCa'+'llsCulled']=0x52*0x7+0x25d*0xa+0x60*-0x45,this['_camerasRe'+'ndered']=0x25db*-0x1+-0x23e9+0x49c4,this['_lightClus'+'ters']=0x2*0x8d+-0x10f*0x8+0x75e);const _0x3484a5=_0x43a636['scope'];this['boneTextur'+'eId']=_0x3484a5['resolve']('texture_po'+'seMap'),this['modelMatri'+'xId']=_0x3484a5['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0x3484a5['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0x3484a5['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(-0x2268+0x22b+0x158*0x18),this['viewPosId']=_0x3484a5['resolve']('view_posit'+'ion'),this['projId']=_0x3484a5['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0x3484a5['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0x3484a5['resolve']('matrix_vie'+'w'),this['viewId3']=_0x3484a5['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0x3484a5['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0x3484a5['resolve']('projection'+'FlipY'),this['tbnBasis']=_0x3484a5['resolve']('tbnBasis'),this['nearClipId']=_0x3484a5['resolve']('camera_nea'+'r'),this['farClipId']=_0x3484a5['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(0x36e+0x1e6e+-0x21d8),this['cameraPara'+'msId']=_0x3484a5['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0x3484a5['resolve']('view_index'),this['viewIndexI'+'d']['setValue'](0x575+0xd75+-0x12ea),this['blueNoiseJ'+'itterVersi'+'on']=0x25a+-0x1961+0x1707,this['blueNoiseJ'+'itterVec']=new re(),this['blueNoiseJ'+'itterData']=new Float32Array(-0x1*0x56d+0xf*-0x1e9+0x886*0x4),this['blueNoiseJ'+'itterId']=_0x3484a5['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0x3484a5['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0x3484a5['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0x3484a5['resolve']('texture_op'+'acityMap'),this['exposureId']=_0x3484a5['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0x3484a5['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](0xd16+-0xd66+0x50),this['morphPosit'+'ionTex']=_0x3484a5['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0x3484a5['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0x3484a5['resolve']('morph_tex_'+'params'),this['lightCube']=new bb(),this['constantLi'+'ghtCube']=_0x3484a5['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['setupViewp'+'ort'](_0x40baab,_0xeb0988){const _0xc85fdc=this['device'],_0x495795=_0xeb0988?_0xeb0988['width']:_0xc85fdc['width'],_0x2fa91f=_0xeb0988?_0xeb0988['height']:_0xc85fdc['height'],_0x17add8=_0x40baab['rect'];let _0x57b546=Math['floor'](_0x17add8['x']*_0x495795),_0xd770ba=Math['floor'](_0x17add8['y']*_0x2fa91f),_0x3122ea=Math['floor'](_0x17add8['z']*_0x495795),_0x2f3007=Math['floor'](_0x17add8['w']*_0x2fa91f);if(_0xc85fdc['setViewpor'+'t'](_0x57b546,_0xd770ba,_0x3122ea,_0x2f3007),_0x40baab['_scissorRe'+'ctClear']){const _0x3f424a=_0x40baab['scissorRec'+'t'];_0x57b546=Math['floor'](_0x3f424a['x']*_0x495795),_0xd770ba=Math['floor'](_0x3f424a['y']*_0x2fa91f),_0x3122ea=Math['floor'](_0x3f424a['z']*_0x495795),_0x2f3007=Math['floor'](_0x3f424a['w']*_0x2fa91f);}_0xc85fdc['setScissor'](_0x57b546,_0xd770ba,_0x3122ea,_0x2f3007);}['setCameraU'+'niforms'](_0x1fa976,_0x6fdc60){var _0x17bf60,_0x9c5df7;const _0x586e25=_0x6fdc60==null?void(0x9a9+0x2175+-0x1*0x2b1e):_0x6fdc60['flipY'];let _0xa31833=null;if(_0x1fa976['xr']&&_0x1fa976['xr']['session']){const _0x17093f=((_0x9c5df7=(_0x17bf60=_0x1fa976['_node'])==null?void(-0x1f12+-0x1a2a+0xc6*0x4a):_0x17bf60['parent'])==null?void(0x1c3*-0xf+0x22ec+0x4b*-0x1d):_0x9c5df7['getWorldTr'+'ansform']())||null;_0xa31833=_0x1fa976['xr']['views']['list'];for(let _0x423485=0xbaf+-0x1f*0x89+-0x9d*-0x8;_0x423485<_0xa31833['length'];_0x423485++){const _0x36fde4=_0xa31833[_0x423485];_0x36fde4['updateTran'+'sforms'](_0x17093f),_0x1fa976['frustum']['setFromMat'+'4'](_0x36fde4['projViewOf'+'fMat']);}}else{let _0xa0b08a=_0x1fa976['projection'+'Matrix'];_0x1fa976['calculateP'+'rojection']&&_0x1fa976['calculateP'+'rojection'](_0xa0b08a,ec);let _0xba1a85=_0x1fa976['getProject'+'ionMatrixS'+'kybox']();_0x586e25&&(_0xa0b08a=Hb['mul2'](j_,_0xa0b08a),_0xba1a85=Wb['mul2'](j_,_0xba1a85)),this['device']['isWebGPU']&&(_0xa0b08a=$b['mul2'](Y_,_0xa0b08a),_0xba1a85=Xb['mul2'](Y_,_0xba1a85));const {jitter:_0x4e9da6}=_0x1fa976;let _0xc281f4=0x8fb+0x1a0a+-0x2305,_0x4f1cae=0x5cf+-0x21d7+0x228*0xd;if(_0x4e9da6>0x19*0x17+0x140c+-0x1b7*0xd){const _0x2d5bbd=_0x6fdc60?_0x6fdc60['width']:this['device']['width'],_0x5e4781=_0x6fdc60?_0x6fdc60['height']:this['device']['height'],_0x408ad9=K_[this['device']['renderVers'+'ion']%K_['length']];_0xc281f4=_0x4e9da6*(_0x408ad9['x']*(-0x3*0xaab+-0x1fdf+0x3fe2*0x1)-(0x11d5+-0x17b6+0x5e2))/_0x2d5bbd,_0x4f1cae=_0x4e9da6*(_0x408ad9['y']*(-0x1697+0x1817+-0x17e)-(-0x2467+0x112e+0x133a))/_0x5e4781,_0xa0b08a=qb['copy'](_0xa0b08a),_0xa0b08a['data'][-0x1c75+0xea5*0x1+-0x4*-0x376]=_0xc281f4,_0xa0b08a['data'][-0x127b*0x2+0x13f*-0x7+0x2db8]=_0x4f1cae,_0xba1a85=jb['copy'](_0xba1a85),_0xba1a85['data'][-0x1ed+0xa*-0x219+-0x39*-0x67]=_0xc281f4,_0xba1a85['data'][-0xa*0x2e3+-0x7b*0x3b+0x3940]=_0x4f1cae,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x1d5d70=_0x4e9da6>0x1f47+0x93+-0x1fda?this['blueNoiseJ'+'itterVec']:re['ZERO'];if(this['blueNoiseJ'+'itterData'][-0x21*-0x4e+-0x1279+0x86b]=_0x1d5d70['x'],this['blueNoiseJ'+'itterData'][0x2125+-0x694+-0x1a90]=_0x1d5d70['y'],this['blueNoiseJ'+'itterData'][0x1*0x172d+0x92d*-0x1+-0x6*0x255]=_0x1d5d70['z'],this['blueNoiseJ'+'itterData'][0xd*0x164+0xead+-0x575*0x6]=_0x1d5d70['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0xa0b08a['data']),this['projSkybox'+'Id']['setValue'](_0xba1a85['data']),_0x1fa976['calculateT'+'ransform'])_0x1fa976['calculateT'+'ransform'](nr,ec);else{const _0x4ed2df=_0x1fa976['_node']['getPositio'+'n'](),_0x482e48=_0x1fa976['_node']['getRotatio'+'n']();nr['setTRS'](_0x4ed2df,_0x482e48,D['ONE']);}this['viewInvId']['setValue'](nr['data']),Oa['copy'](nr)['invert'](),this['viewId']['setValue'](Oa['data']),q_['setFromMat'+'4'](Oa),this['viewId3']['setValue'](q_['data']),ar['mul2'](_0xa0b08a,Oa),this['viewProjId']['setValue'](ar['data']),_0x1fa976['_storeShad'+'erMatrices'](ar,_0xc281f4,_0x4f1cae,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x586e25?-(0x1*0x1769+0x4df+0x1*-0x1c47):0x24bf+0x1a06+-0x3ec4),this['dispatchVi'+'ewPos'](_0x1fa976['_node']['getPositio'+'n']()),_0x1fa976['frustum']['setFromMat'+'4'](ar);}this['tbnBasis']['setValue'](_0x586e25?-(0x7d3*-0x3+0x1*-0x269+0x19e3):-0xf57*-0x2+0x188+-0x2035);const _0x34cf31=_0x1fa976['_nearClip'],_0x129b8a=_0x1fa976['_farClip'];return this['nearClipId']['setValue'](_0x34cf31),this['farClipId']['setValue'](_0x129b8a),this['cameraPara'+'ms'][0xa63+0x20fb+-0x2b5e]=(0x529*0x4+0x47*-0x76+0xc17)/_0x129b8a,this['cameraPara'+'ms'][-0x6f4*-0x1+0x14d*0x3+-0x6*0x1cf]=_0x129b8a,this['cameraPara'+'ms'][-0x13f4+0x2*-0x815+0x2420]=_0x34cf31,this['cameraPara'+'ms'][-0x8*0xc7+0x773+-0x138]=_0x1fa976['projection']===En?-0x27*-0xb5+-0x13c3*0x1+-0x7cf:0x19f*0xc+0x16*-0xf6+0x1b0,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x1fa976['getExposur'+'e']():this['scene']['exposure']),_0xa31833;}['clear'](_0x42c0a2,_0xe59713,_0x5851d0,_0x398691){const _0x29fb3f=(_0xe59713??_0x42c0a2['_clearColo'+'rBuffer']?jo:-0x4*0x3a+0x1df8+-0x1d10)|(_0x5851d0??_0x42c0a2['_clearDept'+'hBuffer']?Yo:-0x46c+0x6*-0x13+0x4de)|(_0x398691??_0x42c0a2['_clearSten'+'cilBuffer']?ch:-0x534+-0x7*-0x413+-0x1751);if(_0x29fb3f){const _0x5531c7=this['device'];Q['pushGpuMar'+'ker'](_0x5531c7,'CLEAR'),_0x5531c7['clear']({'color':[_0x42c0a2['_clearColo'+'r']['r'],_0x42c0a2['_clearColo'+'r']['g'],_0x42c0a2['_clearColo'+'r']['b'],_0x42c0a2['_clearColo'+'r']['a']],'depth':_0x42c0a2['_clearDept'+'h'],'stencil':_0x42c0a2['_clearSten'+'cil'],'flags':_0x29fb3f}),Q['popGpuMark'+'er'](_0x5531c7);}}['setCamera'](_0x8512c0,_0x3015eb,_0x4ef04a,_0x5dca96=null){this['setCameraU'+'niforms'](_0x8512c0,_0x3015eb),this['clearView'](_0x8512c0,_0x3015eb,_0x4ef04a,!(-0x3ba+0x212*-0xd+0x1ea5));}['clearView'](_0x552e4c,_0x211984,_0x197d96,_0xf3c132){const _0xba6c8d=this['device'];if(Q['pushGpuMar'+'ker'](_0xba6c8d,'CLEAR-VIEW'),_0xba6c8d['setRenderT'+'arget'](_0x211984),_0xba6c8d['updateBegi'+'n'](),_0xf3c132&&(_0xba6c8d['setColorWr'+'ite'](!(-0x26a9+-0x184e+0x3ef7),!(-0x1*-0x727+0x27b*0x7+-0x1884),!(-0x9*0x40b+-0x1*-0xbdb+0x1888),!(0x9c+-0x89*0x3e+0x2092)),_0xba6c8d['setDepthWr'+'ite'](!(-0x117a+-0x1c8b+0x21*0x165))),this['setupViewp'+'ort'](_0x552e4c,_0x211984),_0x197d96){const _0x35d762=_0x552e4c['_clearOpti'+'ons'];_0xba6c8d['clear'](_0x35d762||{'color':[_0x552e4c['_clearColo'+'r']['r'],_0x552e4c['_clearColo'+'r']['g'],_0x552e4c['_clearColo'+'r']['b'],_0x552e4c['_clearColo'+'r']['a']],'depth':_0x552e4c['_clearDept'+'h'],'flags':(_0x552e4c['_clearColo'+'rBuffer']?jo:-0x1fb6*-0x1+-0xd*-0x2f1+0x3*-0x1751)|(_0x552e4c['_clearDept'+'hBuffer']?Yo:-0x202c+0x5b9+0x1*0x1a73)|(_0x552e4c['_clearSten'+'cilBuffer']?ch:0x1c9f+-0x561*0x1+-0x173e),'stencil':_0x552e4c['_clearSten'+'cil']});}Q['popGpuMark'+'er'](_0xba6c8d);}['setupCullM'+'ode'](_0x3a5a50,_0x45ae6e,_0xbe7a62){const _0x4635e0=_0xbe7a62['material'];let _0x41e466=bt;if(_0x3a5a50){let _0x3c60b7=-0x48*-0x6d+0x14e4+-0x5*0xa4f;(_0x4635e0['cull']===Fo||_0x4635e0['cull']===pa)&&(_0x3c60b7=_0x45ae6e*_0xbe7a62['flipFacesF'+'actor']*_0xbe7a62['node']['worldScale'+'Sign']),_0x3c60b7<-0x94+-0xc46*-0x2+0x17f8*-0x1?_0x41e466=_0x4635e0['cull']===Fo?pa:Fo:_0x41e466=_0x4635e0['cull'];}this['device']['setCullMod'+'e'](_0x41e466),_0x41e466===bt&&_0x4635e0['cull']===bt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0xbe7a62['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x2dea55){if(_0x2dea55['xr']&&_0x2dea55['xr']['views']['list']['length']){const _0x3ebc78=_0x2dea55['xr']['views']['list'][-0x15cd+-0x7*-0xe5+0xf8a];ar['mul2'](_0x3ebc78['projMat'],_0x3ebc78['viewOffMat']),_0x2dea55['frustum']['setFromMat'+'4'](ar);return;}const _0x2f5300=_0x2dea55['projection'+'Matrix'];if(_0x2dea55['calculateP'+'rojection']&&_0x2dea55['calculateP'+'rojection'](_0x2f5300,ec),_0x2dea55['calculateT'+'ransform'])_0x2dea55['calculateT'+'ransform'](nr,ec);else{const _0x4435f3=_0x2dea55['_node']['getPositio'+'n'](),_0x3e5f42=_0x2dea55['_node']['getRotatio'+'n']();nr['setTRS'](_0x4435f3,_0x3e5f42,D['ONE']),this['viewInvId']['setValue'](nr['data']);}Oa['copy'](nr)['invert'](),ar['mul2'](_0x2f5300,Oa),_0x2dea55['frustum']['setFromMat'+'4'](ar);}['setBaseCon'+'stants'](_0x30e597,_0x5bdbdb){_0x30e597['setCullMod'+'e'](_0x5bdbdb['cull']),_0x5bdbdb['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x5bdbdb['opacityMap']),(_0x5bdbdb['opacityMap']||_0x5bdbdb['alphaTest']>-0x1681*-0x1+-0x1a51*0x1+0x3d0)&&this['alphaTestI'+'d']['setValue'](_0x5bdbdb['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x21b92e){nf++;const _0x4135e1=_0x21b92e['length'];if(_0x4135e1===0x18b2+-0x13*0xe3+-0x7d9)return;const _0x288478=de();for(let _0x473b5b=-0x1*0x11c5+0x1db1+-0xbec*0x1;_0x473b5b<_0x4135e1;_0x473b5b++){const _0x519920=_0x21b92e[_0x473b5b]['skinInstan'+'ce'];_0x519920&&(_0x519920['updateMatr'+'ices'](_0x21b92e[_0x473b5b]['node'],nf),_0x519920['_dirty']=!(0x1*-0x977+0x12f3+-0x97c));}this['_skinTime']+=de()-_0x288478;}['updateGpuS'+'kinMatrice'+'s'](_0x460b04){const _0x3ebbfa=de();for(const _0xf1d1e4 of _0x460b04){const _0x26406a=_0xf1d1e4['skinInstan'+'ce'];_0x26406a&&_0x26406a['_dirty']&&(_0x26406a['updateMatr'+'ixPalette'](_0xf1d1e4['node'],nf),_0x26406a['_dirty']=!(-0x2330+0x9a7+-0x198a*-0x1));}this['_skinTime']+=de()-_0x3ebbfa;}['updateMorp'+'hing'](_0x4213d0){const _0x454668=de();for(const _0x2ad9df of _0x4213d0){const _0x125070=_0x2ad9df['morphInsta'+'nce'];_0x125070&&_0x125070['_dirty']&&_0x125070['update']();}this['_morphTime']+=de()-_0x454668;}['updateGSpl'+'ats'](_0x25ce9c){var _0x594a01;for(const _0x2fcc9c of _0x25ce9c)(_0x594a01=_0x2fcc9c['gsplatInst'+'ance'])==null||_0x594a01['update']();}['gpuUpdate'](_0x5b547a){this['updateGpuS'+'kinMatrice'+'s'](_0x5b547a),this['updateMorp'+'hing'](_0x5b547a),this['updateGSpl'+'ats'](_0x5b547a);}['setVertexB'+'uffers'](_0x1ac849,_0x11ffaf){_0x1ac849['setVertexB'+'uffer'](_0x11ffaf['vertexBuff'+'er']);}['setMorphin'+'g'](_0x4d99ca,_0x5b0b9b){_0x5b0b9b&&(_0x5b0b9b['prepareRen'+'dering'](_0x4d99ca),_0x4d99ca['setVertexB'+'uffer'](_0x5b0b9b['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0x5b0b9b['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0x5b0b9b['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0x5b0b9b['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x1d787f,_0x16752b){const _0x28e566=_0x16752b['skinInstan'+'ce'];if(_0x28e566){this['_skinDrawC'+'alls']++;const _0x2b6077=_0x28e566['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x2b6077);}}['dispatchVi'+'ewPos'](_0x400e6e){const _0x541152=this['viewPos'];_0x541152[-0xe59+0x1045+0x52*-0x6]=_0x400e6e['x'],_0x541152[-0x7ab*-0x2+0x2*-0xca1+0x9ed]=_0x400e6e['y'],_0x541152[0x409*-0x5+0x1250+-0x1df*-0x1]=_0x400e6e['z'],this['viewPosId']['setValue'](_0x541152);}['initViewBi'+'ndGroupFor'+'mat'](_0x3a396e){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x2d78c6=[new dt('matrix_vie'+'w',li),new dt('matrix_vie'+'wInverse',li),new dt('matrix_pro'+'jection',li),new dt('matrix_pro'+'jectionSky'+'box',li),new dt('matrix_vie'+'wProjectio'+'n',li),new dt('matrix_vie'+'w3',On),new dt('cubeMapRot'+'ationMatri'+'x',On),new dt('view_posit'+'ion',ds),new dt('skyboxInte'+'nsity',Xs),new dt('exposure',Xs),new dt('textureBia'+'s',Xs),new dt('view_index',Xs)];_0x3a396e&&_0x2d78c6['push'](new dt('clusterCel'+'lsCountByB'+'oundsSize',ds),new dt('clusterTex'+'tureSize',ds),new dt('clusterBou'+'ndsMin',ds),new dt('clusterBou'+'ndsDelta',ds),new dt('clusterCel'+'lsDot',ds),new dt('clusterCel'+'lsMax',ds),new dt('shadowAtla'+'sParams',ga),new dt('clusterMax'+'Cells',_a),new dt('clusterSki'+'p',Xs)),this['viewUnifor'+'mFormat']=new zy(this['device'],_0x2d78c6);const _0x267552=[new kp(Np,Fp|by)];this['viewBindGr'+'oupFormat']=new Ny(this['device'],_0x267552);}}['setupViewU'+'niforms'](_0xa627a6,_0x10efea){this['projId']['setValue'](_0xa627a6['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0xa627a6['projMat']['data']),this['viewId']['setValue'](_0xa627a6['viewOffMat']['data']),this['viewInvId']['setValue'](_0xa627a6['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0xa627a6['viewMat3']['data']),this['viewProjId']['setValue'](_0xa627a6['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0xa627a6['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x10efea);}['setupViewU'+'niformBuff'+'ers'](_0x249f74,_0x428812,_0x442a9,_0x2e288e){w['assert'](Array['isArray'](_0x249f74),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const {device:_0x405153}=this,_0x1558c3=(_0x2e288e==null?void(0x1*-0x1da5+0x2572+0x7cd*-0x1):_0x2e288e['length'])??-0x1c7*0x1+-0x39*-0x8+0x0;for(;_0x249f74['length']<_0x1558c3;){const _0x196ed9=new zp(_0x405153,_0x428812,!(-0x176c+-0x24fc+-0x1423*-0x3)),_0x4cbf01=new Up(_0x405153,_0x442a9,_0x196ed9);Ea['setName'](_0x4cbf01,'ViewBindGr'+'oup_'+_0x4cbf01['id']),_0x249f74['push'](_0x4cbf01);}if(_0x2e288e)for(let _0x2924e6=0x47c+-0x5*-0x15d+0xb*-0x107;_0x2924e6<_0x1558c3;_0x2924e6++){const _0xb3fd1c=_0x2e288e[_0x2924e6];this['setupViewU'+'niforms'](_0xb3fd1c,_0x2924e6);const _0x1736f9=_0x249f74[_0x2924e6];_0x1736f9['defaultUni'+'formBuffer']['update'](),_0x1736f9['update']();}else{const _0x244875=_0x249f74[-0x1*-0x1669+-0x1*0x1b1c+0x1*0x4b3];_0x244875['defaultUni'+'formBuffer']['update'](),_0x244875['update']();}_0x2e288e||_0x405153['setBindGro'+'up'](rl,_0x249f74[-0x184*0x7+0x166d+-0xbd1]);}['setupMeshU'+'niformBuff'+'ers'](_0x50bf26){const _0x328a1e=this['device'];if(_0x328a1e['supportsUn'+'iformBuffe'+'rs']){const _0x178d41=_0x50bf26['getBindGro'+'up'](_0x328a1e);_0x178d41['update'](),_0x328a1e['setBindGro'+'up'](Oy,_0x178d41),_0x50bf26['getUniform'+'Buffer'](_0x328a1e)['update'](hf),_0x328a1e['setBindGro'+'up'](su,hf['bindGroup'],hf['offsets']);}}['setMeshIns'+'tanceMatri'+'ces'](_0xcde98c,_0x414233=!(0x2346+-0x6d*0x39+-0xb00)){const _0x9ad202=_0xcde98c['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x9ad202['data']),_0x414233&&this['normalMatr'+'ixId']['setValue'](_0xcde98c['node']['normalMatr'+'ix']['data']);}['cull'](_0x2a8d8c,_0x579820,_0x5afb0e){const _0x14100d=de(),_0x2e9059=_0x5afb0e['opaque'];_0x2e9059['length']=-0x2d8+0x1ed9*0x1+-0x1c01;const _0x526dea=_0x5afb0e['transparen'+'t'];_0x526dea['length']=-0x2635+0x18ef*0x1+0xd46;const _0x3561b1=_0x2a8d8c['frustumCul'+'ling'],_0x4e80e2=_0x579820['length'];for(let _0x53da2a=-0x20b+0x1cc+0x9*0x7;_0x53da2a<_0x4e80e2;_0x53da2a++){const _0x5021a2=_0x579820[_0x53da2a];_0x5021a2['visible']&&(!_0x3561b1||!_0x5021a2['cull']||_0x5021a2['_isVisible'](_0x2a8d8c))&&(_0x5021a2['visibleThi'+'sFrame']=!(0x33e+0x111*-0x19+-0x221*-0xb),(_0x5021a2['transparen'+'t']?_0x526dea:_0x2e9059)['push'](_0x5021a2),(_0x5021a2['skinInstan'+'ce']||_0x5021a2['morphInsta'+'nce']||_0x5021a2['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x5021a2),_0x5021a2['gsplatInst'+'ance']&&_0x5021a2['gsplatInst'+'ance']['cameras']['push'](_0x2a8d8c)));}this['_cullTime']+=de()-_0x14100d,this['_numDrawCa'+'llsCulled']+=_0x3561b1?_0x4e80e2:-0x13*0x66+0x16*0x2c+0x3ca;}['collectLig'+'hts'](_0x2e50b9){this['lights']['length']=0xc*0x244+0x2ba*0xb+0x2*-0x1c97,this['localLight'+'s']['length']=0x2076+-0x1612+0x26*-0x46;const _0x292c98=this['scene']['_stats'];_0x292c98['dynamicLig'+'hts']=-0x1726+-0x1a1a+0x3140,_0x292c98['bakedLight'+'s']=-0x25c*0x2+-0x242d+0x28e5;const _0x3d5178=_0x2e50b9['layerList']['length'];for(let _0x5881db=-0x51b*0x1+0x2c5+0x2*0x12b;_0x5881db<_0x3d5178;_0x5881db++){const _0x5505e4=_0x2e50b9['layerList'][_0x5881db];if(!cf['has'](_0x5505e4)){cf['add'](_0x5505e4);const _0x47f4a1=_0x5505e4['_lights'];for(let _0x7bbfb4=-0x17da+-0x1478+0x2c52;_0x7bbfb4<_0x47f4a1['length'];_0x7bbfb4++){const _0x2b3f06=_0x47f4a1[_0x7bbfb4];lf['has'](_0x2b3f06)||(lf['add'](_0x2b3f06),this['lights']['push'](_0x2b3f06),_0x2b3f06['_type']!==ve&&this['localLight'+'s']['push'](_0x2b3f06),(_0x2b3f06['mask']&Ss||_0x2b3f06['mask']&di)&&_0x292c98['dynamicLig'+'hts']++,_0x2b3f06['mask']&fi&&_0x292c98['bakedLight'+'s']++);}}}_0x292c98['lights']=this['lights']['length'],lf['clear'](),cf['clear']();}['cullLights'](_0x158370,_0x222dc4){const _0x4596cd=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x1cdf53=this['scene']['physicalUn'+'its'];for(let _0x46be23=0x2b6*-0x6+0x144d*-0x1+0x2491;_0x46be23<_0x222dc4['length'];_0x46be23++){const _0x2b60d5=_0x222dc4[_0x46be23];if(_0x2b60d5['enabled']){if(_0x2b60d5['_type']!==ve){if(_0x2b60d5['getBoundin'+'gSphere'](of),_0x158370['frustum']['containsSp'+'here'](of)){_0x2b60d5['visibleThi'+'sFrame']=!(0x817+0x208e+0x1*-0x28a5),_0x2b60d5['usePhysica'+'lUnits']=_0x1cdf53;const _0x4daa41=_0x158370['getScreenS'+'ize'](of);_0x2b60d5['maxScreenS'+'ize']=Math['max'](_0x2b60d5['maxScreenS'+'ize'],_0x4daa41);}else _0x4596cd||_0x2b60d5['castShadow'+'s']&&!_0x2b60d5['shadowMap']&&(_0x2b60d5['visibleThi'+'sFrame']=!(-0x1993+-0x8b1+0x1*0x2244));}else _0x2b60d5['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x2149eb){const _0x143142=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0xb957cf=-0xf1d+-0x30*-0x48+0x19d*0x1;_0xb957cf<this['localLight'+'s']['length'];_0xb957cf++){const _0x4feff1=this['localLight'+'s'][_0xb957cf];_0x4feff1['_type']!==ve&&(_0x143142?_0x4feff1['atlasSlotU'+'pdated']&&_0x4feff1['shadowUpda'+'teMode']===Ps&&(_0x4feff1['shadowUpda'+'teMode']=xr):_0x4feff1['shadowUpda'+'teMode']===Ps&&_0x4feff1['castShadow'+'s']&&(_0x4feff1['getRenderD'+'ata'](null,-0x1108+0x5*-0x485+0x27a1)['shadowCame'+'ra']['renderTarg'+'et']||(_0x4feff1['shadowUpda'+'teMode']=xr)),_0x4feff1['visibleThi'+'sFrame']&&_0x4feff1['castShadow'+'s']&&_0x4feff1['shadowUpda'+'teMode']!==Ps&&this['_shadowRen'+'dererLocal']['cull'](_0x4feff1,_0x2149eb));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x4e8d04=_0x2149eb['cameras'];for(let _0x4b11c3=0x532+0x2419+-0x1*0x294b;_0x4b11c3<_0x4e8d04['length'];_0x4b11c3++){const _0x31f787=_0x4e8d04[_0x4b11c3];if(_0x31f787['enabled']){const _0x15378f=_0x31f787['camera'];let _0x106008;const _0x322cce=_0x15378f['layers'];for(let _0x1e540c=0xa9b+-0x1f8c+0x14f1*0x1;_0x1e540c<_0x322cce['length'];_0x1e540c++){const _0x4d361e=_0x2149eb['getLayerBy'+'Id'](_0x322cce[_0x1e540c]);if(_0x4d361e){const _0x20b624=_0x4d361e['splitLight'+'s'][ve];for(let _0x54b550=0x253+-0x6cf*0x3+-0x7*-0x296;_0x54b550<_0x20b624['length'];_0x54b550++){const _0x5cce6d=_0x20b624[_0x54b550];_0x5cce6d['castShadow'+'s']&&!Fa['has'](_0x5cce6d)&&(Fa['add'](_0x5cce6d),_0x106008=_0x106008??[],_0x106008['push'](_0x5cce6d),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0x5cce6d,_0x2149eb,_0x15378f));}}}_0x106008&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x15378f,_0x106008),Fa['clear']();}}}['cullCompos'+'ition'](_0x42d1c9){const _0x5da599=de(),{scene:_0x146019}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0xae1268=_0x42d1c9['cameras']['length'];this['_camerasRe'+'ndered']+=_0xae1268;for(let _0xb5e857=-0x115*0x23+0x1*-0x1ded+-0x1*-0x43cc;_0xb5e857<_0xae1268;_0xb5e857++){const _0xd06674=_0x42d1c9['cameras'][_0xb5e857];_0x146019==null||_0x146019['fire'](mv,_0xd06674);const _0x90094d=_0xd06674['renderTarg'+'et'];_0xd06674['frameUpdat'+'e'](_0x90094d),this['updateCame'+'raFrustum'](_0xd06674['camera']);const _0x23c291=_0xd06674['layers'];for(let _0x2555ba=0x180d+0x2*-0xaea+0x1*-0x239;_0x2555ba<_0x23c291['length'];_0x2555ba++){const _0x1ccb60=_0x42d1c9['getLayerBy'+'Id'](_0x23c291[_0x2555ba]);if(_0x1ccb60&&_0x1ccb60['enabled']){this['cullLights'](_0xd06674['camera'],_0x1ccb60['_lights']);const _0x2e04ce=_0x1ccb60['getCulledI'+'nstances'](_0xd06674['camera']);this['cull'](_0xd06674['camera'],_0x1ccb60['meshInstan'+'ces'],_0x2e04ce);}}_0x146019==null||_0x146019['fire'](_v,_0xd06674);}_0x146019['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x42d1c9),_0x146019==null||_0x146019['fire'](lE),this['_cullTime']+=de()-_0x5da599;}['updateShad'+'ers'](_0x7f5691,_0x51ab72){const _0x52c953=_0x7f5691['length'];for(let _0x481d72=-0xa8+0x1ed5+0xa0f*-0x3;_0x481d72<_0x52c953;_0x481d72++){const _0x45ec51=_0x7f5691[_0x481d72]['material'];if(_0x45ec51&&!Fa['has'](_0x45ec51)&&(Fa['add'](_0x45ec51),_0x45ec51['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant'])){if(_0x51ab72&&(!_0x45ec51['useLightin'+'g']||_0x45ec51['emitter']&&!_0x45ec51['emitter']['lighting']))continue;_0x45ec51['clearVaria'+'nts']();}}Fa['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](Pb(this['device']));}['beginFrame'](_0x153c9b){const _0x309ec6=this['scene'],_0x38d881=_0x309ec6['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0xb25480=-0x2375+0x2442+0x5*-0x29;const _0x2169de=_0x153c9b['layerList'],_0x422253=_0x2169de['length'];for(let _0xd07575=-0x8*0x49+-0x162e+0x3e*0x65;_0xd07575<_0x422253;_0xd07575++){const _0x398671=_0x2169de[_0xd07575]['meshInstan'+'ces'],_0x554ee0=_0x398671['length'];_0xb25480+=_0x554ee0;for(let _0x36b62c=-0xfc+-0x1*-0x2165+-0x2069;_0x36b62c<_0x554ee0;_0x36b62c++){const _0x13eed1=_0x398671[_0x36b62c];_0x13eed1['visibleThi'+'sFrame']=!(-0x9e*0x16+0x2b*0x30+0x9*0x9d),_0x38d881&&df['push'](_0x13eed1),_0x13eed1['skinInstan'+'ce']&&ff['push'](_0x13eed1);}}if(_0x309ec6['_stats']['meshInstan'+'ces']=_0xb25480,_0x38d881){const _0x4050b0=!_0x309ec6['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](df,_0x4050b0),_0x309ec6['updateShad'+'ers']=!(-0x1899+-0x1*0xd87+-0x2b*-0xe3),this['device']['_shadersDi'+'rty']=!(0x246+-0xbd7+0x992),_0x309ec6['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](ff),df['length']=0x87d+-0x1f*0xc7+0xc*0x14d,ff['length']=0x223d+-0x17f*-0xe+-0x372f;const _0x3f3316=this['lights'],_0x3cafa5=_0x3f3316['length'];for(let _0x18dc25=0xb7b*0x1+0x853+0x6*-0x34d;_0x18dc25<_0x3cafa5;_0x18dc25++)_0x3f3316[_0x18dc25]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x1d9a4b){const _0x311720=de(),_0x1a9a6e=_0x1d9a4b['layerList']['length'],_0x3ba515=this['scene']['_shaderVer'+'sion'];for(let _0x4b2b88=0x2*0x54+-0x1acd+0x1a25;_0x4b2b88<_0x1a9a6e;_0x4b2b88++){const _0x505252=_0x1d9a4b['layerList'][_0x4b2b88];_0x505252['_shaderVer'+'sion']=_0x3ba515,_0x505252['_skipRende'+'rCounter']=-0x1b5*0x2+-0xc35+-0x5d*-0x2b,_0x505252['_forwardDr'+'awCalls']=0x1*0x409+-0x1649+0x1240,_0x505252['_shadowDra'+'wCalls']=0x3ab*-0x9+-0x173d+-0x384*-0x10,_0x505252['_renderTim'+'e']=-0x1*0x130d+0x1*-0x95f+0x6b*0x44;}_0x1d9a4b['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=de()-_0x311720;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(0x1cd0+0x126+-0x1df5),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class Pv{constructor(){h(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(-0x5ae*-0x1+0x301*0xa+0x1*-0x23b7),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(-0x1ff*-0x2+0xb83*-0x2+-0xb*-0x1bb),this['clearDepth']=!(-0xb3*0x5+0xef1+-0xb71*0x1),this['clearStenc'+'il']=!(0x1f12+-0x90b+0x2*-0xb03),this['triggerPos'+'tprocess']=!(-0xc20+0x1df8+-0x11d7),this['firstCamer'+'aUse']=!(-0x1e60+-0x15e1+0x3442),this['lastCamera'+'Use']=!(0x2*-0x4e5+0x14cd+-0xb02*0x1),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(0x1059+0x250f+-0xd9*0x3f));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x2c0dd0=>{_0x2c0dd0['defaultUni'+'formBuffer']['destroy'](),_0x2c0dd0['destroy']();}),this['viewBindGr'+'oups']['length']=0x3c7*-0x9+0x5*0x78b+0x22*-0x1c;}['setupClear'+'s'](_0x301052,_0x39d343){this['clearColor']=(_0x301052==null?void(0xab2*0x3+-0xe9*0x19+0x1*-0x955):_0x301052['clearColor'+'Buffer'])||_0x39d343['clearColor'+'Buffer'],this['clearDepth']=(_0x301052==null?void(0x720+0x3d*-0x53+0xca7):_0x301052['clearDepth'+'Buffer'])||_0x39d343['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x301052==null?void(-0x1bff+0x1*0x883+-0x3a*-0x56):_0x301052['clearStenc'+'ilBuffer'])||_0x39d343['clearStenc'+'ilBuffer'];}}class Kb extends ys{constructor(_0x4c880e,_0x632a1a,_0x3d1328,_0x143837){super(_0x4c880e),h(this,'layerCompo'+'sition'),h(this,'scene'),h(this,'renderer'),h(this,'renderActi'+'ons',[]),h(this,'gammaCorre'+'ction'),h(this,'toneMappin'+'g'),h(this,'noDepthCle'+'ar',!(-0x1*0x16d6+-0x11de*0x2+0x3a93)),(this['layerCompo'+'sition']=_0x632a1a,this['scene']=_0x3d1328,this['renderer']=_0x143837);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>-0x22b4*0x1+0xfa*0x1d+-0x1*-0x662;}['addRenderA'+'ction'](_0x29f8c9){this['renderActi'+'ons']['push'](_0x29f8c9);}['addLayer'](_0x4aa2a3,_0x531d30,_0x39c5e0,_0x4c62f0=!(-0xaeb+-0x2527+0x3012)){w['assert'](_0x4aa2a3),w['assert'](this['renderTarg'+'et']!==void(-0x35*0x9b+0x199a+0x67d),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),w['assert'](_0x4aa2a3['camera']['layersSet']['has'](_0x531d30['id']),'Camera\x20'+_0x4aa2a3['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x531d30['name']+'.');const _0x355f56=new Pv();if(_0x355f56['renderTarg'+'et']=this['renderTarg'+'et'],_0x355f56['camera']=_0x4aa2a3,_0x355f56['layer']=_0x531d30,_0x355f56['transparen'+'t']=_0x39c5e0,_0x4c62f0){const _0x312c3c=this['renderActi'+'ons']['length']===0x1*-0xa2f+0x664*-0x2+0x16f7;_0x355f56['setupClear'+'s'](_0x312c3c?_0x4aa2a3:void(0xfe4+-0x1241*-0x1+-0x2225*0x1),_0x531d30);}this['addRenderA'+'ction'](_0x355f56);}['addLayers'](_0x159c90,_0x129712,_0x4aaf63,_0x15fd4b,_0x49afab,_0x4b8f32=!(-0x7db*-0x3+-0x1a3*-0x3+-0x10e*0x1b)){const {layerList:_0x5c17d5,subLayerList:_0x205eab}=_0x159c90;let _0x1559f4=_0x15fd4b,_0x471cb7=_0x4aaf63;for(;_0x471cb7<_0x5c17d5['length'];){const _0x1cd0d0=_0x5c17d5[_0x471cb7],_0x590330=_0x205eab[_0x471cb7];if(_0x129712['camera']['layersSet']['has'](_0x1cd0d0['id'])&&(this['addLayer'](_0x129712,_0x1cd0d0,_0x590330,_0x1559f4),_0x1559f4=!(-0x23fe+-0x1835+0x3c34)),_0x471cb7++,_0x1cd0d0['id']===_0x49afab&&_0x590330===_0x4b8f32)break;}return _0x471cb7;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0x12db93,renderActions:_0x384ee6}=this;for(let _0xdaa8a3=0x6e3*-0x3+-0x884*-0x4+-0x1*0xd67;_0xdaa8a3<_0x384ee6['length'];_0xdaa8a3++){const _0x45d9ee=_0x384ee6[_0xdaa8a3]['camera']['camera'],_0x1f038f=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x45d9ee);if(_0x1f038f)for(let _0x490e0b=0x1943+-0x244a+0xb07*0x1;_0x490e0b<_0x1f038f['length'];_0x490e0b++){const _0x128754=_0x1f038f[_0x490e0b];if(_0x12db93['dirLightSh'+'adows']['get'](_0x128754)!==_0x45d9ee){_0x12db93['dirLightSh'+'adows']['set'](_0x128754,_0x45d9ee);const _0x4b3ee8=_0x12db93['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x128754,_0x45d9ee);_0x4b3ee8&&this['beforePass'+'es']['push'](_0x4b3ee8);}}}}['updateClea'+'rs'](){const _0x2919dc=this['renderActi'+'ons'][-0xb37+0x5*0x2e1+-0x1*0x32e];if(_0x2919dc){const _0x7e7b6a=_0x2919dc['camera']['camera'],_0x5d8f04=_0x7e7b6a['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x5d8f04&&_0x2919dc['clearColor']?_0x7e7b6a['clearColor']:void(0x2*0x70a+-0x243c+0x1628)),this['setClearDe'+'pth'](_0x5d8f04&&_0x2919dc['clearDepth']&&!this['noDepthCle'+'ar']?_0x7e7b6a['clearDepth']:void(-0xac9+-0x15*-0x199+-0x16c4)),this['setClearSt'+'encil'](_0x5d8f04&&_0x2919dc['clearStenc'+'il']?_0x7e7b6a['clearStenc'+'il']:void(-0x688+-0x256a+0x2bf2));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x177346}=this;for(let _0x388fda=-0x5b*0x32+0x972+0x854;_0x388fda<_0x177346['length'];_0x388fda++){const _0x1f9815=_0x177346[_0x388fda];_0x1f9815['firstCamer'+'aUse']&&this['scene']['fire'](rE,_0x1f9815['camera']);}}['execute'](){const {layerComposition:_0x513bb5,renderActions:_0xc760cb}=this;for(let _0x5168de=-0x11*-0x84+-0x2113*-0x1+-0x29d7;_0x5168de<_0xc760cb['length'];_0x5168de++){const _0x551f18=_0xc760cb[_0x5168de],_0x2b306e=_0x551f18['layer'];w['call'](()=>{_0x513bb5['getLayerBy'+'Name'](_0x2b306e['name'])||w['warnOnce']('Layer\x20'+_0x2b306e['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x513bb5['isEnabled'](_0x2b306e,_0x551f18['transparen'+'t'])&&this['renderRend'+'erAction'](_0x551f18,_0x5168de===0x67*0x3b+-0x5ac*0x3+0x6b9*-0x1);}}['after'](){for(let _0x331821=0x2146+0x4f*0x59+-0x3cbd;_0x331821<this['renderActi'+'ons']['length'];_0x331821++){const _0x2422fc=this['renderActi'+'ons'][_0x331821];_0x2422fc['lastCamera'+'Use']&&this['scene']['fire'](aE,_0x2422fc['camera']);}this['beforePass'+'es']['length']=-0x2*-0x2e9+0x196+-0x768;}['renderRend'+'erAction'](_0x45870d,_0x207e66){var _0x56712c;const {renderer:_0x13ad32,scene:_0xa7600a}=this,_0x33415d=_0x13ad32['device'],{layer:_0x578155,transparent:_0x4bb0a4,camera:_0x1fa2ec}=_0x45870d;Q['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x1fa2ec?_0x1fa2ec['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0x578155['name']+'('+(_0x4bb0a4?'TRANSP':'OPAQUE')+')');const _0x314431=de();if(_0x1fa2ec){const _0x44ab0a=_0x1fa2ec['gammaCorre'+'ction'],_0x35e137=_0x1fa2ec['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(-0xaa9*-0x1+-0x35*-0x53+-0x1bd8)&&(_0x1fa2ec['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(0x115*-0x1+-0xa72*-0x2+-0x13cf)&&(_0x1fa2ec['toneMappin'+'g']=this['toneMappin'+'g']),_0xa7600a['fire'](nE,_0x1fa2ec,_0x578155,_0x4bb0a4);const _0x4bb3f2={'lightClusters':_0x45870d['lightClust'+'ers']},_0x13c539=((_0x56712c=_0x1fa2ec['camera']['shaderPass'+'Info'])==null?void(0x5*0x174+-0x1a1b+0x7*0x2b1):_0x56712c['index'])??Aa;(!_0x207e66||!_0x1fa2ec['camera']['fullSizeCl'+'earRect'])&&(_0x4bb3f2['clearColor']=_0x45870d['clearColor'],_0x4bb3f2['clearDepth']=_0x45870d['clearDepth'],_0x4bb3f2['clearStenc'+'il']=_0x45870d['clearStenc'+'il']);const _0x57e195=_0x45870d['renderTarg'+'et']??_0x33415d['backBuffer'];_0x13ad32['renderForw'+'ardLayer'](_0x1fa2ec['camera'],_0x57e195,_0x578155,_0x4bb0a4,_0x13c539,_0x45870d['viewBindGr'+'oups'],_0x4bb3f2),_0x33415d['setBlendSt'+'ate'](pt['NOBLEND']),_0x33415d['setStencil'+'State'](null,null),_0x33415d['setAlphaTo'+'Coverage'](!(-0x25b8+-0x1c80+0x4239)),_0xa7600a['fire'](oE,_0x1fa2ec,_0x578155,_0x4bb0a4),this['gammaCorre'+'ction']!==void(0x30f*-0xb+0x207*0xa+0xd5f)&&(_0x1fa2ec['gammaCorre'+'ction']=_0x44ab0a),this['toneMappin'+'g']!==void(0x1*0x2314+0x52f+-0xb*0x3a9)&&(_0x1fa2ec['toneMappin'+'g']=_0x35e137);}Q['popGpuMark'+'er'](this['device']),_0x578155['_renderTim'+'e']+=de()-_0x314431;}['log'](_0x4cb255,_0x5e028c){if(super['log'](_0x4cb255,_0x5e028c),mi['get'](cn)){const {layerComposition:_0x4de973}=this;this['renderActi'+'ons']['forEach']((_0x3f020e,_0x5f3ada)=>{const _0x3746ce=_0x3f020e['layer'],_0x3de8e0=_0x3746ce['enabled']&&_0x4de973['isEnabled'](_0x3746ce,_0x3f020e['transparen'+'t']),_0x5375b7=_0x3f020e['camera'];w['trace'](cn,'\x20\x20\x20\x20'+_0x5f3ada+':'+('\x20Cam:\x20'+(_0x5375b7?_0x5375b7['entity']['name']:'-'))['padEnd'](-0x205a+-0x3*-0x531+-0x59f*-0x3,'\x20')+('\x20Lay:\x20'+_0x3746ce['name'])['padEnd'](0x38b*0x5+-0x1e9e*-0x1+-0x303f,'\x20')+(_0x3f020e['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x3de8e0?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x3746ce['meshInstan'+'ces']['length'])['padEnd'](-0x14da+0x5c*0x53+-0x8f5,'\x20'));});}}}class Zb extends ys{constructor(_0x48e3fe,_0x3ca28c,_0x27dda9){super(_0x48e3fe),this['renderer']=_0x3ca28c,this['renderActi'+'on']=_0x27dda9,this['requiresCu'+'bemaps']=!(-0x1189*0x2+-0x9bc*0x2+0x368b);}['execute'](){const _0x16d52d=this['renderActi'+'on'],_0x18ca19=_0x16d52d['camera'];w['assert'](_0x16d52d['triggerPos'+'tprocess']&&_0x18ca19['onPostproc'+'essing']),_0x18ca19['onPostproc'+'essing']();}}const Qb=[[],[],[]],or=new ie(),Nr={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=0x1473+0x1e5*0x4+0xaf*-0x29,this['shaderInst'+'ances']['length']=0x1b25+0x1a8d+0x3a*-0xed,this['isNewMater'+'ial']['length']=-0xff*0x22+-0x33*-0x2f+0x1881,this['lightMaskC'+'hanged']['length']=-0x1208+0x15fb+0x151*-0x3;}};function Jb(_0x3d06ed){const _0x5c65c1=[];for(let _0x3c0c25=0x2c8+0x11*0x91+-0xc69;_0x3c0c25<_0x3d06ed;++_0x3c0c25){const _0x56b71d=Math['sqrt'](_0x3c0c25+(0xf0d*-0x2+-0x1989*-0x1+0x491+0.5))/Math['sqrt'](_0x3d06ed);_0x5c65c1['push'](_0x56b71d);}return _0x5c65c1;}function eA(_0x5de591){const _0xc62553=[];for(let _0x5d42f6=0x2f*0xb2+0x4a9*-0x7+-0xf;_0x5d42f6<_0x5de591;_0x5d42f6++){const _0x2bef36=_0x5d42f6/_0x5de591,_0x27e513=Math['sqrt'](_0x2bef36*_0x2bef36);_0xc62553['push'](_0x27e513);}return _0xc62553;}const Ni=class Ni extends Yb{constructor(_0x5d89e9){super(_0x5d89e9);const _0x438d0e=this['device'];this['_forwardDr'+'awCalls']=-0x5*0x328+-0x25*-0x3e+-0x6d2*-0x1,this['_materialS'+'witches']=0xf2+0x1*0x25c+-0x2f*0x12,this['_depthMapT'+'ime']=-0x9*0x87+-0x1d*-0xc7+-0x11*0x10c,this['_forwardTi'+'me']=-0x4*0x5e3+-0x3d*0x8+-0x1974*-0x1,this['_sortTime']=0x25af+0x4d*0x37+0x363a*-0x1;const _0x69ade0=_0x438d0e['scope'];this['fogColorId']=_0x69ade0['resolve']('fog_color'),this['fogStartId']=_0x69ade0['resolve']('fog_start'),this['fogEndId']=_0x69ade0['resolve']('fog_end'),this['fogDensity'+'Id']=_0x69ade0['resolve']('fog_densit'+'y'),this['ambientId']=_0x69ade0['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0x69ade0['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0x69ade0['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0x69ade0['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0x69ade0['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0x69ade0['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(0x1*0x244a+-0x12a9+-0x119d),this['fogColor']=new Float32Array(0x1*-0xd4f+-0x186a+-0xf*-0x284),this['ambientCol'+'or']=new Float32Array(0x164e+-0x15b8+0x7*-0x15),this['pcssDiskSa'+'mples']=Jb(0x19c*-0xa+0x1*0x269f+-0x1677),this['pcssSphere'+'Samples']=eA(0x1*0x6a1+-0x1016+0x985);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0xfd0ca4){const _0x2f42ba=this['ambientCol'+'or'];if(or['linear'](_0xfd0ca4['ambientLig'+'ht']),_0x2f42ba[-0x7c*0x43+-0x20e7+-0x21*-0x1fb]=or['r'],_0x2f42ba[-0x1*0x176e+0x351+0x141e]=or['g'],_0x2f42ba[0xf52+0x1dc*-0x1+-0xd74]=or['b'],_0xfd0ca4['physicalUn'+'its']){for(let _0x6b89c6=0x1*-0x1369+0x880+-0x15*-0x85;_0x6b89c6<-0x1ea3+-0x19dc+0x3882;_0x6b89c6++)_0x2f42ba[_0x6b89c6]*=_0xfd0ca4['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x2f42ba),this['skyboxInte'+'nsityId']['setValue'](_0xfd0ca4['physicalUn'+'its']?_0xfd0ca4['skyboxLumi'+'nance']:_0xfd0ca4['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0xfd0ca4['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x5d3919,_0x480535){const _0x17feb8='light'+_0x480535;this['lightColor'+'Id'][_0x480535]=_0x5d3919['resolve'](_0x17feb8+'_color'),this['lightDir'][_0x480535]=new Float32Array(0x1*0x25eb+-0xc4*-0x11+-0x32ec),this['lightDirId'][_0x480535]=_0x5d3919['resolve'](_0x17feb8+'_direction'),this['lightShado'+'wMapId'][_0x480535]=_0x5d3919['resolve'](_0x17feb8+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x480535]=_0x5d3919['resolve'](_0x17feb8+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x480535]=_0x5d3919['resolve'](_0x17feb8+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x480535]=_0x5d3919['resolve'](_0x17feb8+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x480535]=_0x5d3919['resolve'](_0x17feb8+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x480535]=_0x5d3919['resolve'](_0x17feb8+'_radius'),this['lightPos'][_0x480535]=new Float32Array(0x1d*-0xd3+0xa8f*-0x3+-0x13*-0x2ed),this['lightPosId'][_0x480535]=_0x5d3919['resolve'](_0x17feb8+'_position'),this['lightWidth'][_0x480535]=new Float32Array(-0x2*0x775+-0x1*0x1926+-0x1*-0x2813),this['lightWidth'+'Id'][_0x480535]=_0x5d3919['resolve'](_0x17feb8+'_halfWidth'),this['lightHeigh'+'t'][_0x480535]=new Float32Array(0x2689+-0x337*-0x5+0x1*-0x3699),this['lightHeigh'+'tId'][_0x480535]=_0x5d3919['resolve'](_0x17feb8+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x480535]=_0x5d3919['resolve'](_0x17feb8+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x480535]=_0x5d3919['resolve'](_0x17feb8+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x480535]=_0x5d3919['resolve'](_0x17feb8+'_cookie'),this['lightCooki'+'eIntId'][_0x480535]=_0x5d3919['resolve'](_0x17feb8+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x480535]=_0x5d3919['resolve'](_0x17feb8+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x480535]=_0x5d3919['resolve'](_0x17feb8+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x480535]=_0x5d3919['resolve'](_0x17feb8+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x480535]=_0x5d3919['resolve'](_0x17feb8+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x480535]=_0x5d3919['resolve'](_0x17feb8+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x480535]=_0x5d3919['resolve'](_0x17feb8+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x480535]=_0x5d3919['resolve'](_0x17feb8+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x480535]=_0x5d3919['resolve'](_0x17feb8+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x5cef45,_0x202888,_0x3305fe,_0x4131fb,_0x66603b){this['lightPos'][_0x202888][0x1fca+0x1116+0x30e*-0x10]=_0x4131fb['x']-_0x3305fe['x']*_0x66603b,this['lightPos'][_0x202888][-0x1*-0x5d7+-0x28*0xa3+-0x9d1*-0x2]=_0x4131fb['y']-_0x3305fe['y']*_0x66603b,this['lightPos'][_0x202888][0x15+-0x11*0x9f+-0xf4*-0xb]=_0x4131fb['z']-_0x3305fe['z']*_0x66603b,this['lightPosId'][_0x202888]['setValue'](this['lightPos'][_0x202888]);const _0x4c972f=_0x5cef45['transformV'+'ector'](new D(-(0x1778+0x52*0x40+-0x38*0xc9+0.5),0xce0+-0x24d9+0x143*0x13,0x1fa7+-0x1*0xc23+-0x1384));this['lightWidth'][_0x202888][0x1157*-0x2+-0x21f4+0x44a2]=_0x4c972f['x']*_0x66603b,this['lightWidth'][_0x202888][0x1a4a+0x5*0x12a+-0x1*0x201b]=_0x4c972f['y']*_0x66603b,this['lightWidth'][_0x202888][0x1407+-0x1*-0x25bd+-0x39c2]=_0x4c972f['z']*_0x66603b,this['lightWidth'+'Id'][_0x202888]['setValue'](this['lightWidth'][_0x202888]);const _0x203c9e=_0x5cef45['transformV'+'ector'](new D(0x1ead+-0x18c1+-0x5ec,-0x1*-0x6b+0xd10+-0xd7b,-0x416*0x9+0x1017+0x14af+0.5));this['lightHeigh'+'t'][_0x202888][-0x88c+-0x215*-0x1+0x677]=_0x203c9e['x']*_0x66603b,this['lightHeigh'+'t'][_0x202888][-0x1fed*-0x1+0x1cea+-0x3cd6]=_0x203c9e['y']*_0x66603b,this['lightHeigh'+'t'][_0x202888][0x1d*-0x1d+0x9*-0x121+0xd74]=_0x203c9e['z']*_0x66603b,this['lightHeigh'+'tId'][_0x202888]['setValue'](this['lightHeigh'+'t'][_0x202888]);}['dispatchDi'+'rectLights'](_0x5eee84,_0x26de13,_0x5c2030){let _0x4c420f=0x1f29+0x3*-0x1b5+-0x1a0a;const _0x2c2b6e=this['device']['scope'];for(let _0x4983e1=0x2*0x63+-0x11a9+0x10e3;_0x4983e1<_0x5eee84['length'];_0x4983e1++){if(!(_0x5eee84[_0x4983e1]['mask']&_0x26de13))continue;const _0x21caa9=_0x5eee84[_0x4983e1],_0x33a71e=_0x21caa9['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x4c420f]||this['_resolveLi'+'ght'](_0x2c2b6e,_0x4c420f),this['lightColor'+'Id'][_0x4c420f]['setValue'](_0x21caa9['_colorLine'+'ar']),_0x33a71e['getY'](_0x21caa9['_direction'])['mulScalar'](-(-0x2*0xb35+-0x22e6+0x3951)),_0x21caa9['_direction']['normalize'](),this['lightDir'][_0x4c420f][-0x1f92+0x1c0d+0x35*0x11]=_0x21caa9['_direction']['x'],this['lightDir'][_0x4c420f][0x1*0x95c+0x1d*0x50+-0x126b]=_0x21caa9['_direction']['y'],this['lightDir'][_0x4c420f][-0x44*-0x37+-0x1251+0x13d*0x3]=_0x21caa9['_direction']['z'],this['lightDirId'][_0x4c420f]['setValue'](this['lightDir'][_0x4c420f]),_0x21caa9['shape']!==Ys&&this['setLTCDire'+'ctionalLig'+'ht'](_0x33a71e,_0x4c420f,_0x21caa9['_direction'],_0x5c2030['_node']['getPositio'+'n'](),_0x5c2030['farClip']),_0x21caa9['castShadow'+'s']){const _0x573e77=_0x21caa9['getRenderD'+'ata'](_0x5c2030,-0x2513+0xf80+0x1593),_0x5d941a=_0x21caa9['_getUnifor'+'mBiasValue'+'s'](_0x573e77);this['lightShado'+'wMapId'][_0x4c420f]['setValue'](_0x573e77['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x4c420f]['setValue'](_0x573e77['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x4c420f]['setValue'](_0x21caa9['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x4c420f]['setValue'](_0x21caa9['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x4c420f]['setValue'](_0x21caa9['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x4c420f]['setValue'](0x1f07+0x210b+-0x4011-_0x21caa9['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x4c420f]['setValue'](_0x21caa9['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x4c420f]['setValue'](_0x21caa9['_softShado'+'wParams']),_0x573e77['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x4c420f]['setValue'](_0x21caa9['penumbraSi'+'ze']/_0x573e77['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x573e77['projection'+'Compensati'+'on']);const _0x371cb0=_0x21caa9['_shadowCam'+'eraParams'];_0x371cb0['length']=0x814+0x2026*0x1+0x141b*-0x2,_0x371cb0[-0x5bb+-0x83*0x2f+0x1dc8]=-0x2144+0x527+-0x95f*-0x3,_0x371cb0[0x2207+-0x6*-0x41b+0x1*-0x3aa8]=_0x573e77['shadowCame'+'ra']['_farClip'],_0x371cb0[-0x730+-0x7*0x2f7+-0x1bf3*-0x1]=_0x573e77['shadowCame'+'ra']['_nearClip'],_0x371cb0[-0x3aa*-0x8+0x1306+-0x3053]=0x41*-0x33+0x14e1+-0x7ed*0x1,this['lightCamer'+'aParamsId'][_0x4c420f]['setValue'](_0x371cb0);const _0x4c5339=_0x21caa9['_shadowRen'+'derParams'];_0x4c5339['length']=-0x100+0x2*-0x128f+0x2622,_0x4c5339[-0x136b+0x2557+-0x4a*0x3e]=_0x21caa9['_shadowRes'+'olution'],_0x4c5339[-0x1307*0x2+-0x18aa+-0x1*-0x3eb9]=_0x5d941a['normalBias'],_0x4c5339[-0x12*0x169+0x5e5+0x137f]=_0x5d941a['bias'],_0x4c5339[-0xc*0x2a1+0x1*-0xa6+0x2035]=-0x4bb+-0x51f+-0x1*-0x9da,this['lightShado'+'wParamsId'][_0x4c420f]['setValue'](_0x4c5339);}_0x4c420f++;}return _0x4c420f;}['setLTCPosi'+'tionalLigh'+'t'](_0xdff863,_0x29fcd7){const _0x46e9b1=_0xdff863['transformV'+'ector'](new D(-(0x2258+0x1*-0x25c4+0x36c+0.5),0x1486+-0x1*0xb44+0x18b*-0x6,0xc3d*0x1+-0xcbb+0xe*0x9));this['lightWidth'][_0x29fcd7][-0x125+-0xb7b*0x2+0x181b]=_0x46e9b1['x'],this['lightWidth'][_0x29fcd7][-0xa6*0x36+0xabc+0x1849]=_0x46e9b1['y'],this['lightWidth'][_0x29fcd7][-0x267f+0xe58+0x1*0x1829]=_0x46e9b1['z'],this['lightWidth'+'Id'][_0x29fcd7]['setValue'](this['lightWidth'][_0x29fcd7]);const _0x4b51bb=_0xdff863['transformV'+'ector'](new D(-0x9a8+-0x8*0x98+0xe68,-0x27*0xca+0x94*-0x3+0x6*0x56b,0x2*0x9cd+-0x1254+-0x146+0.5));this['lightHeigh'+'t'][_0x29fcd7][0x36d*-0xa+0x14ba+-0x4*-0x362]=_0x4b51bb['x'],this['lightHeigh'+'t'][_0x29fcd7][0x1*0x7ed+0x8*0x65+-0xb14]=_0x4b51bb['y'],this['lightHeigh'+'t'][_0x29fcd7][-0x18fe+-0x4ee+-0x4fd*-0x6]=_0x4b51bb['z'],this['lightHeigh'+'tId'][_0x29fcd7]['setValue'](this['lightHeigh'+'t'][_0x29fcd7]);}['dispatchOm'+'niLight'](_0x52fc44,_0x2ba410,_0x37d81e){const _0x4ddc8d=_0x2ba410['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x37d81e]||this['_resolveLi'+'ght'](_0x52fc44,_0x37d81e),this['lightRadiu'+'sId'][_0x37d81e]['setValue'](_0x2ba410['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x37d81e]['setValue'](_0x2ba410['_colorLine'+'ar']),_0x4ddc8d['getTransla'+'tion'](_0x2ba410['_position']),this['lightPos'][_0x37d81e][0x1*-0x26c9+0x15*-0xb3+0x8*0x6af]=_0x2ba410['_position']['x'],this['lightPos'][_0x37d81e][0x3*0x905+-0x3*0x4+0x1*-0x1b02]=_0x2ba410['_position']['y'],this['lightPos'][_0x37d81e][-0x2e8+0x1010+-0xd26]=_0x2ba410['_position']['z'],this['lightPosId'][_0x37d81e]['setValue'](this['lightPos'][_0x37d81e]),_0x2ba410['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0x4ddc8d,_0x37d81e),_0x2ba410['castShadow'+'s']){const _0x1d0fad=_0x2ba410['getRenderD'+'ata'](null,0x1688+0x1*-0x10c9+0x1*-0x5bf);this['lightShado'+'wMapId'][_0x37d81e]['setValue'](_0x1d0fad['shadowBuff'+'er']);const _0x3240ec=_0x2ba410['_getUnifor'+'mBiasValue'+'s'](_0x1d0fad),_0xe857d9=_0x2ba410['_shadowRen'+'derParams'];_0xe857d9['length']=0x8d1+-0x1285+0x9b8,_0xe857d9[-0x267b+-0x2*0xfcd+0x4615]=_0x2ba410['_shadowRes'+'olution'],_0xe857d9[0x212f*-0x1+0x993*0x4+-0x51c]=_0x3240ec['normalBias'],_0xe857d9[0x1aa7*-0x1+-0xa9*0x29+0x35ba]=_0x3240ec['bias'],_0xe857d9[0x21e3*-0x1+-0x5cd*-0x2+-0xb26*-0x2]=(-0x61*0x45+0x1*0xdeb+0x1f*0x65)/_0x2ba410['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x37d81e]['setValue'](_0xe857d9),this['lightShado'+'wIntensity'][_0x37d81e]['setValue'](_0x2ba410['shadowInte'+'nsity']);const _0x45be86=_0x2ba410['penumbraSi'+'ze']/_0x1d0fad['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x37d81e]['setValue'](_0x45be86);const _0x4c7289=_0x2ba410['_shadowCam'+'eraParams'];_0x4c7289['length']=-0x1*-0x18be+0x14e3+-0x2d9d,_0x4c7289[0xaf4+-0x10c1*0x2+0x2*0xb47]=0x1dd9+0x1716+0x34ef*-0x1,_0x4c7289[-0x151b+0x2*-0x4ab+0x1e72]=_0x1d0fad['shadowCame'+'ra']['_farClip'],_0x4c7289[-0x1170+-0x27*0xd+0x136d]=_0x1d0fad['shadowCame'+'ra']['_nearClip'],_0x4c7289[0x746+-0x17e1+0x84f*0x2]=-0x1ce9+0x13d7+0x489*0x2,this['lightCamer'+'aParamsId'][_0x37d81e]['setValue'](_0x4c7289);}_0x2ba410['_cookie']&&(this['lightCooki'+'eId'][_0x37d81e]['setValue'](_0x2ba410['_cookie']),this['lightShado'+'wMatrixId'][_0x37d81e]['setValue'](_0x4ddc8d['data']),this['lightCooki'+'eIntId'][_0x37d81e]['setValue'](_0x2ba410['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x3bbb16,_0x4fc78a,_0x47dfbd){const _0x3f3160=_0x4fc78a['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x47dfbd]||this['_resolveLi'+'ght'](_0x3bbb16,_0x47dfbd),this['lightInAng'+'leId'][_0x47dfbd]['setValue'](_0x4fc78a['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x47dfbd]['setValue'](_0x4fc78a['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x47dfbd]['setValue'](_0x4fc78a['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x47dfbd]['setValue'](_0x4fc78a['_colorLine'+'ar']),_0x3f3160['getTransla'+'tion'](_0x4fc78a['_position']),this['lightPos'][_0x47dfbd][-0x1493+-0x37*0x27+0x1cf4]=_0x4fc78a['_position']['x'],this['lightPos'][_0x47dfbd][0x15c5+-0x25ae+0xfea]=_0x4fc78a['_position']['y'],this['lightPos'][_0x47dfbd][0x1*-0x7c3+0x1*-0x23c5+-0x2b8a*-0x1]=_0x4fc78a['_position']['z'],this['lightPosId'][_0x47dfbd]['setValue'](this['lightPos'][_0x47dfbd]),_0x4fc78a['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0x3f3160,_0x47dfbd),_0x3f3160['getY'](_0x4fc78a['_direction'])['mulScalar'](-(-0x1867+-0xe6b+0x26d3)),_0x4fc78a['_direction']['normalize'](),this['lightDir'][_0x47dfbd][0xffb+-0xd1e+0x2dd*-0x1]=_0x4fc78a['_direction']['x'],this['lightDir'][_0x47dfbd][-0x1434+-0x39c+0x17d1]=_0x4fc78a['_direction']['y'],this['lightDir'][_0x47dfbd][0x2389+0x827+-0x2*0x15d7]=_0x4fc78a['_direction']['z'],this['lightDirId'][_0x47dfbd]['setValue'](this['lightDir'][_0x47dfbd]),_0x4fc78a['castShadow'+'s']){const _0x2f9a2f=_0x4fc78a['getRenderD'+'ata'](null,-0x24f4+0x1*-0x1f5+0x26e9);this['lightShado'+'wMapId'][_0x47dfbd]['setValue'](_0x2f9a2f['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x47dfbd]['setValue'](_0x2f9a2f['shadowMatr'+'ix']['data']);const _0x2fd647=_0x4fc78a['_getUnifor'+'mBiasValue'+'s'](_0x2f9a2f),_0x13919b=_0x4fc78a['_shadowRen'+'derParams'];_0x13919b['length']=0x1956*-0x1+-0x23a2+0xf3f*0x4,_0x13919b[-0x19e1+-0x2*0x5e9+0xc91*0x3]=_0x4fc78a['_shadowRes'+'olution'],_0x13919b[0x1aff+0x469*-0x8+0x2*0x425]=_0x2fd647['normalBias'],_0x13919b[0x1171+-0x3d*0x1+-0x1132]=_0x2fd647['bias'],_0x13919b[0x9a5*-0x3+-0x42*0x1+0x1d34]=(-0x275*0x7+0x8*0x310+-0x1*0x74c)/_0x4fc78a['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x47dfbd]['setValue'](_0x13919b),this['lightShado'+'wIntensity'][_0x47dfbd]['setValue'](_0x4fc78a['shadowInte'+'nsity']);const _0xe72ab8=_0x4fc78a['penumbraSi'+'ze']/_0x2f9a2f['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x662e63=_0x2f9a2f['shadowCame'+'ra']['_fov']*Math['PI']/(0x1f*-0x26+-0x1672+0x1bc0),_0x15f2e0=(0x11b7+-0x1*0x2479+-0x1*-0x12c3)/Math['tan'](_0x662e63/(0x1c5d*0x1+0x12ef+-0x2f4a));this['lightShado'+'wSearchAre'+'aId'][_0x47dfbd]['setValue'](_0xe72ab8*_0x15f2e0);const _0x4428d1=_0x4fc78a['_shadowCam'+'eraParams'];_0x4428d1['length']=0x1ffe+0xd08+0x2d02*-0x1,_0x4428d1[-0x4*0x2fe+-0x1e6b+0x2a63]=0x1*0x17f5+-0x3*-0x4c1+-0x4c7*0x8,_0x4428d1[-0x259b*0x1+0xbb6*-0x1+0xd6*0x3b]=_0x2f9a2f['shadowCame'+'ra']['_farClip'],_0x4428d1[0x1*0x7f7+0x256+-0xa4b]=_0x2f9a2f['shadowCame'+'ra']['_nearClip'],_0x4428d1[-0x637*-0x3+0x14f0+-0x2792]=-0x85f+-0x3*0x729+0x1dda,this['lightCamer'+'aParamsId'][_0x47dfbd]['setValue'](_0x4428d1);}if(_0x4fc78a['_cookie']){if(!_0x4fc78a['castShadow'+'s']){const _0x217f1b=Wn['evalSpotCo'+'okieMatrix'](_0x4fc78a);this['lightShado'+'wMatrixId'][_0x47dfbd]['setValue'](_0x217f1b['data']);}this['lightCooki'+'eId'][_0x47dfbd]['setValue'](_0x4fc78a['_cookie']),this['lightCooki'+'eIntId'][_0x47dfbd]['setValue'](_0x4fc78a['cookieInte'+'nsity']),_0x4fc78a['_cookieTra'+'nsform']&&(_0x4fc78a['_cookieTra'+'nsformUnif'+'orm'][-0x561+0x14dd+-0xf7c]=_0x4fc78a['_cookieTra'+'nsform']['x'],_0x4fc78a['_cookieTra'+'nsformUnif'+'orm'][-0x307+0x1aeb+-0x17e3*0x1]=_0x4fc78a['_cookieTra'+'nsform']['y'],_0x4fc78a['_cookieTra'+'nsformUnif'+'orm'][-0x3f9*-0x2+-0x1*-0x1f39+-0x19*0x191]=_0x4fc78a['_cookieTra'+'nsform']['z'],_0x4fc78a['_cookieTra'+'nsformUnif'+'orm'][0x778+0x864+-0xfd9]=_0x4fc78a['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x47dfbd]['setValue'](_0x4fc78a['_cookieTra'+'nsformUnif'+'orm']),_0x4fc78a['_cookieOff'+'setUniform'][0x76a+0x19b2+-0xa3*0x34]=_0x4fc78a['_cookieOff'+'set']['x'],_0x4fc78a['_cookieOff'+'setUniform'][0x1eb+-0x15b5*0x1+-0x3*-0x699]=_0x4fc78a['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x47dfbd]['setValue'](_0x4fc78a['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x1e91ca,_0x2eb326,_0x20edf9){let _0x121d4e=_0x20edf9;const _0x54d388=this['device']['scope'],_0x1feaef=_0x1e91ca[Ke],_0x8ca42f=_0x1feaef['length'];for(let _0x1f7cc8=0x271*-0x9+0x757*0x2+0x74b;_0x1f7cc8<_0x8ca42f;_0x1f7cc8++){const _0x3a2fbf=_0x1feaef[_0x1f7cc8];_0x3a2fbf['mask']&_0x2eb326&&(this['dispatchOm'+'niLight'](_0x54d388,_0x3a2fbf,_0x121d4e),_0x121d4e++);}const _0x22d42f=_0x1e91ca[Ze],_0x2b9983=_0x22d42f['length'];for(let _0x44c4e1=-0xca2+0x1*0x7b5+0x4ed;_0x44c4e1<_0x2b9983;_0x44c4e1++){const _0x1fdd88=_0x22d42f[_0x44c4e1];_0x1fdd88['mask']&_0x2eb326&&(this['dispatchSp'+'otLight'](_0x54d388,_0x1fdd88,_0x121d4e),_0x121d4e++);}}['renderForw'+'ardPrepare'+'Materials'](_0x1915a4,_0x237c5d,_0x58d06f,_0x390790,_0x5d5960,_0x16f175){const _0x49dd09=_0x1915a4['fogParams']??this['scene']['fog'],_0x39f1b9=_0x1915a4['shaderPara'+'ms'];_0x39f1b9['fog']=_0x49dd09['type'],_0x39f1b9['srgbRender'+'Target']=(_0x237c5d==null?void(0x2*-0x12ca+-0x32e+-0x11a*-0x25):_0x237c5d['isColorBuf'+'ferSrgb'](-0x89b*0x3+-0xa0f*0x2+0x2def))??!(-0x1842+-0x21dd+0x3a20);const _0x406318=(_0x38b579,_0xbf6bee,_0x4cad5f,_0x23a62b)=>{Nr['drawCalls']['push'](_0x38b579),Nr['shaderInst'+'ances']['push'](_0xbf6bee),Nr['isNewMater'+'ial']['push'](_0x4cad5f),Nr['lightMaskC'+'hanged']['push'](_0x23a62b);};Nr['clear']();const _0x4398fb=this['device'],_0xac3b36=this['scene'],_0x2239a5=_0xac3b36['clusteredL'+'ightingEna'+'bled'],_0x1f3143=(_0x5d5960==null?void(-0x219d+0x873*0x2+0x1*0x10b7):_0x5d5960['getLightHa'+'sh'](_0x2239a5))??0x24bc+0x15e*0x18+-0x458c;let _0x3e2b71=null,_0x16cf9c,_0x375b2a;const _0xef90d2=_0x58d06f['length'];for(let _0x185550=0x17d6+-0x1*-0x2686+-0x3e5c;_0x185550<_0xef90d2;_0x185550++){const _0x158b93=_0x58d06f[_0x185550];if(_0x1915a4===Ni['skipRender'+'Camera']){if(Ni['_skipRende'+'rCounter']>=Ni['skipRender'+'After'])continue;Ni['_skipRende'+'rCounter']++;}if(_0x5d5960){if(_0x5d5960['_skipRende'+'rCounter']>=_0x5d5960['skipRender'+'After'])continue;_0x5d5960['_skipRende'+'rCounter']++;}const _0x5948fe=_0x158b93['instancing'+'Data'];if(_0x5948fe&&_0x5948fe['count']<=-0x1e95+0x71*-0x13+-0x137c*-0x2)continue;_0x158b93['ensureMate'+'rial'](_0x4398fb);const _0x1a4d62=_0x158b93['material'],_0x46581e=_0x158b93['_shaderDef'+'s'],_0x5990b1=_0x158b93['mask'];_0x1a4d62&&_0x1a4d62===_0x3e2b71&&_0x46581e!==_0x16cf9c&&(_0x3e2b71=null),_0x1a4d62!==_0x3e2b71&&(this['_materialS'+'witches']++,_0x1a4d62['_scene']=_0xac3b36,_0x1a4d62['dirty']&&(Q['pushGpuMar'+'ker'](_0x4398fb,'Node:\x20'+_0x158b93['node']['name']+(',\x20Material'+':\x20')+_0x1a4d62['name']),_0x1a4d62['updateUnif'+'orms'](_0x4398fb,_0xac3b36),_0x1a4d62['dirty']=!(0x11*-0xc9+-0x1de3+0x1*0x2b3d),Q['popGpuMark'+'er'](_0x4398fb)));const _0x148b3e=_0x158b93['getShaderI'+'nstance'](_0x16f175,_0x1f3143,_0xac3b36,_0x39f1b9,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x390790);_0x406318(_0x158b93,_0x148b3e,_0x1a4d62!==_0x3e2b71,!_0x3e2b71||_0x5990b1!==_0x375b2a),_0x3e2b71=_0x1a4d62,_0x16cf9c=_0x46581e,_0x375b2a=_0x5990b1;}return Nr;}['renderForw'+'ardInterna'+'l'](_0x23b338,_0x2935fa,_0x571ffb,_0x2a9faa,_0x3a346e,_0x49ce67,_0x63b2b3){var _0x23c52f,_0x16bd88;const _0x147573=this['device'],_0xc0fe0=this['scene'],_0xbb9266=0x10d5+0x8c8+0x95*-0x2c<<_0x2a9faa,_0x5c0c13=_0x49ce67?-(0x3d6+-0x1ed0+0x1afb):0xad9+0x99d*0x1+-0x1475,_0x2f0910=_0xc0fe0['clusteredL'+'ightingEna'+'bled'],_0x50ee4a=(_0x23c52f=_0x23b338['xr'])!=null&&_0x23c52f['session']&&_0x23b338['xr']['views']['list']['length']?_0x23b338['xr']['views']['list']:null,_0x3a015f=_0x2935fa['drawCalls']['length'];for(let _0x4dbebd=0x723+-0x1d5b+0x1*0x1638;_0x4dbebd<_0x3a015f;_0x4dbebd++){const _0x50c651=_0x2935fa['drawCalls'][_0x4dbebd],_0x5b6b4b=_0x2935fa['isNewMater'+'ial'][_0x4dbebd],_0x5c8b37=_0x2935fa['lightMaskC'+'hanged'][_0x4dbebd],_0x23c21b=_0x2935fa['shaderInst'+'ances'][_0x4dbebd],_0x11f08a=_0x50c651['material'],_0xb1c26=_0x50c651['mask'];if(_0x23c21b['shader']['failed'])continue;if(_0x5b6b4b){if(_0x147573['setShader'](_0x23c21b['shader'],!(-0x1345+0x48*0x75+0xa*-0x15d)),_0x11f08a['setParamet'+'ers'](_0x147573),_0x5c8b37){const _0x4a2957=this['dispatchDi'+'rectLights'](_0x571ffb[ve],_0xb1c26,_0x23b338);_0x2f0910||this['dispatchLo'+'calLights'](_0x571ffb,_0xb1c26,_0x4a2957);}this['alphaTestI'+'d']['setValue'](_0x11f08a['alphaTest']),_0x147573['setBlendSt'+'ate'](_0x11f08a['blendState']),_0x147573['setDepthSt'+'ate'](_0x11f08a['depthState']),_0x147573['setAlphaTo'+'Coverage'](_0x11f08a['alphaToCov'+'erage']);}Q['pushGpuMar'+'ker'](_0x147573,'Node:\x20'+_0x50c651['node']['name']+(',\x20Material'+':\x20')+_0x11f08a['name']),this['setupCullM'+'ode'](_0x23b338['_cullFaces'],_0x5c0c13,_0x50c651);const _0xcdda2b=_0x50c651['stencilFro'+'nt']??_0x11f08a['stencilFro'+'nt'],_0x2e8c6c=_0x50c651['stencilBac'+'k']??_0x11f08a['stencilBac'+'k'];_0x147573['setStencil'+'State'](_0xcdda2b,_0x2e8c6c),_0x50c651['setParamet'+'ers'](_0x147573,_0xbb9266),_0x147573['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0x50c651['id']);const _0x43a23f=_0x50c651['mesh'];this['setVertexB'+'uffers'](_0x147573,_0x43a23f),this['setMorphin'+'g'](_0x147573,_0x50c651['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x147573,_0x50c651);const _0x2acbfe=_0x50c651['instancing'+'Data'];_0x2acbfe&&_0x147573['setVertexB'+'uffer'](_0x2acbfe['vertexBuff'+'er']),this['setMeshIns'+'tanceMatri'+'ces'](_0x50c651,!(-0x1*-0x25cc+-0x3d*-0x9a+-0x4a7e)),this['setupMeshU'+'niformBuff'+'ers'](_0x23c21b);const _0xb2960e=_0x50c651['renderStyl'+'e'],_0x3e17ee=_0x43a23f['indexBuffe'+'r'][_0xb2960e];_0x3a346e==null||_0x3a346e(_0x50c651,_0x4dbebd);const _0x5cbddb=(_0x16bd88=_0x50c651['indirectDa'+'ta'])==null?void(0x598+0x3*0x31d+-0xeef*0x1):_0x16bd88['get'](_0x23b338);if(_0x50ee4a)for(let _0x556686=-0x25b1+0x1480+0x1131;_0x556686<_0x50ee4a['length'];_0x556686++){const _0x3c5947=_0x50ee4a[_0x556686];if(_0x147573['setViewpor'+'t'](_0x3c5947['viewport']['x'],_0x3c5947['viewport']['y'],_0x3c5947['viewport']['z'],_0x3c5947['viewport']['w']),_0x147573['supportsUn'+'iformBuffe'+'rs']){const _0x2712de=_0x63b2b3[_0x556686];_0x147573['setBindGro'+'up'](rl,_0x2712de);}else this['setupViewU'+'niforms'](_0x3c5947,_0x556686);const _0xcad487=_0x556686===-0x1*0x173+0xf4a+-0xdd7,_0x7d2d9f=_0x556686===_0x50ee4a['length']-(0x25a5+-0xa38+0x1a*-0x10e);_0x147573['draw'](_0x43a23f['primitive'][_0xb2960e],_0x3e17ee,_0x2acbfe==null?void(0x1e0c+-0x3b*-0x2f+-0x28e1):_0x2acbfe['count'],_0x5cbddb,_0xcad487,_0x7d2d9f),this['_forwardDr'+'awCalls']++,_0x50c651['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;}else _0x147573['draw'](_0x43a23f['primitive'][_0xb2960e],_0x3e17ee,_0x2acbfe==null?void(-0x22b0+-0x513+0x179*0x1b):_0x2acbfe['count'],_0x5cbddb),this['_forwardDr'+'awCalls']++,_0x50c651['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;_0x4dbebd<_0x3a015f-(0x18*0xfb+-0x230f*0x1+-0xb88*-0x1)&&!_0x2935fa['isNewMater'+'ial'][_0x4dbebd+(-0x1a0d+0x89*0x3b+-0x585)]&&_0x11f08a['setParamet'+'ers'](_0x147573,_0x50c651['parameters']),Q['popGpuMark'+'er'](_0x147573);}}['renderForw'+'ard'](_0x49fa8d,_0x3f93cb,_0x27d4ce,_0x59cf12,_0x27453f,_0x9688b2,_0x587ed9,_0x57d672,_0x526808){const _0x8ab822=de(),_0x4f0217=this['renderForw'+'ardPrepare'+'Materials'](_0x49fa8d,_0x3f93cb,_0x27d4ce,_0x59cf12,_0x587ed9,_0x27453f);this['renderForw'+'ardInterna'+'l'](_0x49fa8d,_0x4f0217,_0x59cf12,_0x27453f,_0x9688b2,_0x57d672,_0x526808),Nr['clear'](),this['_forwardTi'+'me']+=de()-_0x8ab822;}['renderForw'+'ardLayer'](_0x42995a,_0x491299,_0x4f3a91,_0x990159,_0x2ffe13,_0x4ebc6b,_0x44bd73={}){const {scene:_0x15e1ba,device:_0x237184}=this,_0x213c92=_0x15e1ba['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x42995a,_0x491299);let _0x190732,_0x4bdb3b;if(_0x4f3a91){const _0x165972=de();_0x4f3a91['sortVisibl'+'e'](_0x42995a,_0x990159),this['_sortTime']+=de()-_0x165972;const _0x1f11c7=_0x4f3a91['getCulledI'+'nstances'](_0x42995a);_0x190732=_0x990159?_0x1f11c7['transparen'+'t']:_0x1f11c7['opaque'],_0x15e1ba['immediate']['onPreRende'+'rLayer'](_0x4f3a91,_0x190732,_0x990159),_0x4f3a91['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x15e1ba['ambientLig'+'ht'],_0x4f3a91['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x4bdb3b=_0x4f3a91['splitLight'+'s'];}else _0x190732=_0x44bd73['meshInstan'+'ces'],_0x4bdb3b=_0x44bd73['splitLight'+'s']??Qb;if(w['assert'](_0x190732,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0x213c92){const _0xf5253b=_0x44bd73['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0xf5253b['activate'](),_0x4f3a91&&!this['clustersDe'+'bugRendere'+'d']&&_0x15e1ba['lighting']['debugLayer']===_0x4f3a91['id']&&(this['clustersDe'+'bugRendere'+'d']=!(-0x15c*-0x6+-0x13d2+0xbaa),hu['render'](_0xf5253b,this['scene']));}_0x15e1ba['_activeCam'+'era']=_0x42995a;const _0x3a2062=_0x42995a['fogParams']??this['scene']['fog'];this['setFogCons'+'tants'](_0x3a2062);const _0x22cee2=this['setCameraU'+'niforms'](_0x42995a,_0x491299);_0x237184['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x4ebc6b,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x22cee2);const _0xb2f55c=_0x44bd73['clearColor']??!(0x315+0x9*-0x1f0+0xe5c),_0x4c3494=_0x44bd73['clearDepth']??!(-0x314*-0x2+-0x10c7+-0x220*-0x5),_0x23e3d1=_0x44bd73['clearStenc'+'il']??!(-0x1*0x1a7b+-0x1*-0x19d5+0xa7);(_0xb2f55c||_0x4c3494||_0x23e3d1)&&this['clear'](_0x42995a,_0xb2f55c,_0x4c3494,_0x23e3d1);const _0x240f34=!!(_0x42995a['_flipFaces']^(_0x491299==null?void(-0x54*0x34+-0x2*-0x226+0x4c*0x2b):_0x491299['flipY'])),_0x3fcc86=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x42995a,_0x491299,_0x190732,_0x4bdb3b,_0x2ffe13,null,_0x4f3a91,_0x240f34,_0x4ebc6b),_0x4f3a91&&(_0x4f3a91['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x3fcc86);}['setFogCons'+'tants'](_0x293629){if(_0x293629['type']!==Kn){or['linear'](_0x293629['color']);const _0xf08cbd=this['fogColor'];_0xf08cbd[0x1fa2+0x1*0x1b11+-0x1391*0x3]=or['r'],_0xf08cbd[0x2396+-0x7b*-0x7+0x1379*-0x2]=or['g'],_0xf08cbd[0xf*-0x178+-0x2de*0x2+0x1bc6]=or['b'],this['fogColorId']['setValue'](_0xf08cbd),_0x293629['type']===Iw?(this['fogStartId']['setValue'](_0x293629['start']),this['fogEndId']['setValue'](_0x293629['end'])):this['fogDensity'+'Id']['setValue'](_0x293629['density']);}}['setSceneCo'+'nstants'](){const _0x54b6e4=this['scene'];this['dispatchGl'+'obalLights'](_0x54b6e4);const _0x1c543f=this['device'];this['_screenSiz'+'e'][-0x1*-0x809+0x117b+-0x1984]=_0x1c543f['width'],this['_screenSiz'+'e'][-0x1d+0x38d*-0x6+0x156c]=_0x1c543f['height'],this['_screenSiz'+'e'][-0xaf2*0x3+-0x2349*-0x1+-0x271]=(0x1c32+-0x1d9e+-0x5*-0x49)/_0x1c543f['width'],this['_screenSiz'+'e'][-0x20f8+-0xd1*-0x2d+-0x25*0x1a]=(0xa+-0x1d15+0x1d0c)/_0x1c543f['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x4ee8aa,_0x4c8c51){const _0x2a6022=this['scene'];if(_0x4ee8aa['reset'](),_0x2a6022['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x3e3c24,cookiesEnabled:_0x31f06b}=_0x2a6022['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x4ee8aa,_0x3e3c24,_0x31f06b,this['lights'],this['localLight'+'s']),_0x4ee8aa['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x4ee8aa,this['localLight'+'s']);let _0x5730aa=0x1df0+0x466*-0x7+-0x2*-0x6d,_0xcfc6fb=!(0xd3*0x19+0xec3*-0x1+-0x5d8),_0x5e2695=null;const _0x58ee83=_0x4c8c51['_renderAct'+'ions'];for(let _0x547b36=_0x5730aa;_0x547b36<_0x58ee83['length'];_0x547b36++){const _0x49baf8=_0x58ee83[_0x547b36],{layer:_0x15faba,camera:_0xddb5ae}=_0x49baf8;if(_0x49baf8['useCameraP'+'asses'])w['call'](()=>{_0xddb5ae['postEffect'+'s']['effects']['length']>0x1*0xcf2+-0x185*0x9+0xbb&&w['warnOnce']('Camera\x20\x27'+_0xddb5ae['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0xddb5ae['camera']['renderPass'+'es']['forEach'](_0x2f88ae=>{_0x4ee8aa['addRenderP'+'ass'](_0x2f88ae);});else{const _0x3d7123=_0x15faba['id']===ps,_0x487469=_0x3d7123&&(_0xddb5ae['renderScen'+'eColorMap']||_0xddb5ae['renderScen'+'eDepthMap']);_0xcfc6fb&&(_0xcfc6fb=!(-0x12b*0x12+-0x1899+0x2da0),_0x5730aa=_0x547b36,_0x5e2695=_0x49baf8['renderTarg'+'et']);const _0x11bc55=_0x58ee83[_0x547b36+(0x2348+-0xad*0x11+0x196*-0xf)],_0xa0063e=(_0x11bc55?!_0x11bc55['useCameraP'+'asses']&&_0x11bc55['layer']['id']===ps:!(0x18d8+-0xe42*0x1+-0xa95))&&(_0xddb5ae['renderScen'+'eColorMap']||_0xddb5ae['renderScen'+'eDepthMap']),_0x2512af=_0x11bc55?_0x11bc55['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x11bc55['camera']['camera']):!(-0x1307*0x1+0x10*-0x4c+-0x2f9*-0x8);if(!_0x11bc55||_0x11bc55['renderTarg'+'et']!==_0x5e2695||_0x2512af||_0xa0063e||_0x487469){if(_0x3d7123&&_0x5730aa===_0x547b36||this['addMainRen'+'derPass'](_0x4ee8aa,_0x4c8c51,_0x5e2695,_0x5730aa,_0x547b36),_0x3d7123){if(_0xddb5ae['renderScen'+'eColorMap']){const _0x13adae=_0xddb5ae['camera']['renderPass'+'ColorGrab'];_0x13adae['source']=_0xddb5ae['renderTarg'+'et'],_0x4ee8aa['addRenderP'+'ass'](_0x13adae);}_0xddb5ae['renderScen'+'eDepthMap']&&_0x4ee8aa['addRenderP'+'ass'](_0xddb5ae['camera']['renderPass'+'DepthGrab']);}if(_0x49baf8['triggerPos'+'tprocess']&&(_0xddb5ae!=null&&_0xddb5ae['onPostproc'+'essing'])){const _0x1bbd25=new Zb(this['device'],this,_0x49baf8);_0x4ee8aa['addRenderP'+'ass'](_0x1bbd25);}_0xcfc6fb=!(-0xcc+0x6*-0x389+0x1602);}}}}['addMainRen'+'derPass'](_0x5a3cea,_0x38fc73,_0x1d4c46,_0x58c486,_0x3769de){const _0x11fa00=new Kb(this['device'],_0x38fc73,this['scene'],this);_0x11fa00['init'](_0x1d4c46);const _0x435f15=_0x38fc73['_renderAct'+'ions'];for(let _0x2ac390=_0x58c486;_0x2ac390<=_0x3769de;_0x2ac390++)_0x11fa00['addRenderA'+'ction'](_0x435f15[_0x2ac390]);_0x5a3cea['addRenderP'+'ass'](_0x11fa00);}['update'](_0x1c8142){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x1c8142),this['collectLig'+'hts'](_0x1c8142),this['beginFrame'](_0x1c8142),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x1c8142),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};h(Ni,'skipRender'+'Camera',null),h(Ni,'_skipRende'+'rCounter',0xf89+-0x3*0x18f+-0xadc),h(Ni,'skipRender'+'After',0x2340+0x2*0xe6c+0x803*-0x8);let fl=Ni,uf=-0x613*-0x3+0xda*0x1f+-0x1*0x2c9f;const co=[],hc=new Set();function tA(_0x40e0e6,_0x4c549d){return _0x40e0e6['drawOrder']-_0x4c549d['drawOrder'];}function sA(_0x3c53e4,_0x58dca8){const _0x213f25=_0x3c53e4['_sortKeyFo'+'rward'],_0x587491=_0x58dca8['_sortKeyFo'+'rward'];return _0x213f25===_0x587491?_0x58dca8['mesh']['id']-_0x3c53e4['mesh']['id']:_0x587491-_0x213f25;}function iA(_0x37efa9,_0x37aa66){return _0x37aa66['_sortKeyDy'+'namic']-_0x37efa9['_sortKeyDy'+'namic'];}function rA(_0x1664e4,_0x11f0fb){return _0x1664e4['_sortKeyDy'+'namic']-_0x11f0fb['_sortKeyDy'+'namic'];}const aA=[null,tA,sA,iA,rA];class nA{constructor(){h(this,'opaque',[]),h(this,'transparen'+'t',[]);}}class Ot{constructor(_0x4a85f9={}){h(this,'meshInstan'+'ces',[]),h(this,'meshInstan'+'cesSet',new Set()),h(this,'shadowCast'+'ers',[]),h(this,'shadowCast'+'ersSet',new Set()),h(this,'_visibleIn'+'stances',new WeakMap()),h(this,'_lights',[]),h(this,'_lightsSet',new Set()),h(this,'_clustered'+'LightsSet',new Set()),h(this,'_splitLigh'+'ts',[[],[],[]]),h(this,'_splitLigh'+'tsDirty',!(-0xe4b+0x163d+-0x7f2)),h(this,'requiresLi'+'ghtCube',!(-0x7*-0x3af+0x811+-0x21d9)),h(this,'cameras',[]),h(this,'camerasSet',new Set()),h(this,'_dirtyComp'+'osition',!(-0x869+-0x1fb2+0x281c)),(_0x4a85f9['id']!==void(-0x916+-0x57a*0x7+0x2f6c)?(this['id']=_0x4a85f9['id'],uf=Math['max'](this['id']+(-0x1d8a+0x3*-0x1a7+0x2280),uf)):this['id']=uf++,this['name']=_0x4a85f9['name'],this['_enabled']=_0x4a85f9['enabled']??!(-0x2153+-0x1004+0x11*0x2e7),this['_refCounte'+'r']=this['_enabled']?-0x61*-0x67+0x4eb+-0x2bf1:-0x1ca5*0x1+-0x5*0x2fb+0x2b8c,this['opaqueSort'+'Mode']=_0x4a85f9['opaqueSort'+'Mode']??Yw,this['transparen'+'tSortMode']=_0x4a85f9['transparen'+'tSortMode']??m_,_0x4a85f9['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x4a85f9['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x4a85f9['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x4a85f9['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x4a85f9['clearStenc'+'ilBuffer'],this['onEnable']=_0x4a85f9['onEnable'],this['onDisable']=_0x4a85f9['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=-0x5dd+-0x85f*0x3+-0x1efa*-0x1,this['_lightHash'+'Dirty']=!(-0x1*0x14b+0x6f*-0x5+0x377),this['_lightIdHa'+'sh']=0x158d+-0xdc*-0x29+-0x38c9,this['_lightIdHa'+'shDirty']=!(0x1*-0x9b6+-0x31*-0x13+-0x4*-0x185),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=-0x6d7*0x3+-0x1*0x653+0x1ad8,this['_renderTim'+'e']=0x1aa2+-0xc5b*0x2+-0x1ec,this['_forwardDr'+'awCalls']=-0x49*0x6d+-0xb7d*-0x1+0x1398,this['_shadowDra'+'wCalls']=0x9d2*0x1+0x23ef*0x1+-0x2dc1,this['_shaderVer'+'sion']=-(0x52*0x49+-0x5*0x15f+-0x1086));}set['enabled'](_0x4d3446){_0x4d3446!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(-0x11*-0x39+-0x4*0x733+0x1903),this['_enabled']=_0x4d3446,_0x4d3446?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x33e56a){this['_clearColo'+'rBuffer']=_0x33e56a,this['_dirtyComp'+'osition']=!(0x1*0x431+0x3*-0x979+0x7*0x376);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x857027){this['_clearDept'+'hBuffer']=_0x857027,this['_dirtyComp'+'osition']=!(-0x2490+0xc01+0x1*0x188f);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x14eed8){this['_clearSten'+'cilBuffer']=_0x14eed8,this['_dirtyComp'+'osition']=!(0x5*-0x594+-0x4*-0x9c4+-0xb2c);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>0x20ac*0x1+0x72d*0x2+-0x2f06;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===0x119f*0x1+-0x126*0xb+-0x4fd&&(this['_enabled']=!(-0x2*0x902+0x1*0x449+0xdbb),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===-0x1*0x32a+0x1*0x1e7e+-0x5*0x577)this['_enabled']=!(-0xc10+0x44*0x68+-0xf8f),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===0x1b47+-0x3*0x4de+-0xcad){w['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x3ba0e7,_0x219ef3){const _0x854150=this['meshInstan'+'ces'],_0x2504b9=this['meshInstan'+'cesSet'];for(let _0xd9fc5b=-0x1243+-0x1b56*0x1+0x2d99;_0xd9fc5b<_0x3ba0e7['length'];_0xd9fc5b++){const _0x5d5dd7=_0x3ba0e7[_0xd9fc5b];_0x2504b9['has'](_0x5d5dd7)||(_0x854150['push'](_0x5d5dd7),_0x2504b9['add'](_0x5d5dd7),hc['add'](_0x5d5dd7['material']));}if(_0x219ef3||this['addShadowC'+'asters'](_0x3ba0e7),hc['size']>0x5a8+0x1cff+-0x22a7*0x1){const _0x214da7=this['_shaderVer'+'sion'];hc['forEach'](_0x4a3034=>{_0x214da7>=-0x7f7+0x5*-0x33b+0x181e&&_0x4a3034['_shaderVer'+'sion']!==_0x214da7&&(_0x4a3034['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant']&&_0x4a3034['clearVaria'+'nts'](),_0x4a3034['_shaderVer'+'sion']=_0x214da7);}),hc['clear']();}}['removeMesh'+'Instances'](_0x14adb5,_0x1cda2f){const _0x7dc094=this['meshInstan'+'ces'],_0x2ba35d=this['meshInstan'+'cesSet'];for(let _0x21ccdb=-0x133*-0x12+-0x2*0xd13+0x490;_0x21ccdb<_0x14adb5['length'];_0x21ccdb++){const _0x38ec87=_0x14adb5[_0x21ccdb];if(_0x2ba35d['has'](_0x38ec87)){_0x2ba35d['delete'](_0x38ec87);const _0x458932=_0x7dc094['indexOf'](_0x38ec87);_0x458932>=0x116f*0x1+0x1276*0x2+-0x365b&&_0x7dc094['splice'](_0x458932,0x1c49*-0x1+0x366+0x18e4);}}_0x1cda2f||this['removeShad'+'owCasters'](_0x14adb5);}['addShadowC'+'asters'](_0x1d57cf){const _0x1d109a=this['shadowCast'+'ers'],_0x413417=this['shadowCast'+'ersSet'];for(let _0x4ba08a=-0x5*-0x2cd+-0x9*-0xe6+-0x1617;_0x4ba08a<_0x1d57cf['length'];_0x4ba08a++){const _0x1ee984=_0x1d57cf[_0x4ba08a];_0x1ee984['castShadow']&&!_0x413417['has'](_0x1ee984)&&(_0x413417['add'](_0x1ee984),_0x1d109a['push'](_0x1ee984));}}['removeShad'+'owCasters'](_0x17d87c){const _0x52206e=this['shadowCast'+'ers'],_0x30783b=this['shadowCast'+'ersSet'];for(let _0x4aa1e5=-0x1f9*0x13+0x1*-0xec3+-0x343e*-0x1;_0x4aa1e5<_0x17d87c['length'];_0x4aa1e5++){const _0xd4b9e3=_0x17d87c[_0x4aa1e5];if(_0x30783b['has'](_0xd4b9e3)){_0x30783b['delete'](_0xd4b9e3);const _0x1020fc=_0x52206e['indexOf'](_0xd4b9e3);_0x1020fc>=-0x1a59*-0x1+-0x75b*0x1+-0x12fe&&_0x52206e['splice'](_0x1020fc,0x5a4+0x7*0xa7+0x1*-0xa34);}}}['clearMeshI'+'nstances'](_0x40ae66=!(-0x11b9+-0x1*-0xf7f+0x1*0x23b)){this['meshInstan'+'ces']['length']=-0x1*-0xb89+0x1*-0x2495+-0x1ca*-0xe,this['meshInstan'+'cesSet']['clear'](),_0x40ae66||(this['shadowCast'+'ers']['length']=0x25db+0x2*0xf9c+-0x4513,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(-0x1718+-0x773*0x4+0x34e4),this['_lightIdHa'+'shDirty']=!(-0x1bde+-0x17a5*0x1+-0x3383*-0x1),this['_splitLigh'+'tsDirty']=!(0x1*-0x230f+0x1b5+0x1*0x215a);}['hasLight'](_0x36e0c3){return this['_lightsSet']['has'](_0x36e0c3);}['addLight'](_0x9dec59){const _0x3b5ef8=_0x9dec59['light'];this['_lightsSet']['has'](_0x3b5ef8)||(this['_lightsSet']['add'](_0x3b5ef8),this['_lights']['push'](_0x3b5ef8),this['markLights'+'Dirty']()),_0x3b5ef8['type']!==ve&&this['_clustered'+'LightsSet']['add'](_0x3b5ef8);}['removeLigh'+'t'](_0x50cdf9){const _0x7e9012=_0x50cdf9['light'];this['_lightsSet']['has'](_0x7e9012)&&(this['_lightsSet']['delete'](_0x7e9012),this['_lights']['splice'](this['_lights']['indexOf'](_0x7e9012),-0x1*0xddc+-0x59*0x2f+0x1e34),this['markLights'+'Dirty']()),_0x7e9012['type']!==ve&&this['_clustered'+'LightsSet']['delete'](_0x7e9012);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x5f4849=>_0x5f4849['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=0xe5*0x2b+0x1a4+0x1*-0x281b,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(0x1*-0xe6f+-0xc*-0x335+-0x180c);const _0x315d03=this['_splitLigh'+'ts'];for(let _0x5e4c8c=0x1916+0x1*0x1ff3+-0x3909;_0x5e4c8c<_0x315d03['length'];_0x5e4c8c++)_0x315d03[_0x5e4c8c]['length']=0x37*0x69+-0xfeb+-0x6a4;const _0x45cc7f=this['_lights'];for(let _0x43feec=0x1517+-0x5*0x4cf+0x2f4;_0x43feec<_0x45cc7f['length'];_0x43feec++){const _0x2e3a27=_0x45cc7f[_0x43feec];_0x2e3a27['enabled']&&_0x315d03[_0x2e3a27['_type']]['push'](_0x2e3a27);}for(let _0x2bd144=0x205e*-0x1+0x3*-0x4ca+0x175e*0x2;_0x2bd144<_0x315d03['length'];_0x2bd144++)_0x315d03[_0x2bd144]['sort']((_0xf4b24d,_0x3b5bb6)=>_0xf4b24d['key']-_0x3b5bb6['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x1b2e07,_0x4fe61e,_0x5952bd){let _0x3a55c2=-0x3b0+0x15c1+-0x1211;const _0x506abf=this['_lights'];for(let _0x4d94c6=-0xcfe+-0x1615+0x2313;_0x4d94c6<_0x506abf['length'];_0x4d94c6++){const _0xe6f30e=_0x506abf[_0x4d94c6]['type']!==ve;(_0x1b2e07&&_0xe6f30e||_0x4fe61e&&!_0xe6f30e)&&co['push'](_0x5952bd?_0x506abf[_0x4d94c6]['id']:_0x506abf[_0x4d94c6]['key']);}return co['length']>-0x4a*0x6b+-0x79*-0xb+0x3ad*0x7&&(co['sort'](),_0x3a55c2=By(co),co['length']=0x1644+0x5b*-0x17+-0xe17),_0x3a55c2;}['getLightHa'+'sh'](_0x3a6cf2){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(0x61f*-0x2+-0x131a+-0x645*-0x5),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x3a6cf2,!(0x1*-0x20c3+-0x3*-0x71+0x1f70),!(-0xc9*-0x2b+-0x1*-0x7a5+-0x2967))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(-0x4*0xdb+0x200b+-0x4a*0x63),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(-0x1*0x13f5+0x1dd8+-0x9e3*0x1),!(0x20da+-0x22c1*-0x1+-0x1fd*0x22),!(-0x13ce+0x1e7*-0xb+0x28bb))),this['_lightIdHa'+'sh'];}['addCamera'](_0x3f435f){this['camerasSet']['has'](_0x3f435f['camera'])||(this['camerasSet']['add'](_0x3f435f['camera']),this['cameras']['push'](_0x3f435f),this['_dirtyComp'+'osition']=!(0x7d8+0x16d6+-0x231*0xe));}['removeCame'+'ra'](_0x2cbbdf){if(this['camerasSet']['has'](_0x2cbbdf['camera'])){this['camerasSet']['delete'](_0x2cbbdf['camera']);const _0x1709fc=this['cameras']['indexOf'](_0x2cbbdf);this['cameras']['splice'](_0x1709fc,0x109*-0x6+-0x388+0x9bf),this['_dirtyComp'+'osition']=!(0x1ced+0x1733*0x1+0x8b0*-0x6);}}['clearCamer'+'as'](){this['cameras']['length']=0x7*0x298+0x2029*0x1+-0x3251,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(-0x9*0x409+0x13d6+0x107b);}['_calculate'+'SortDistan'+'ces'](_0x2eb59b,_0x19a54a,_0xe0dfe3){const _0xca1095=_0x2eb59b['length'],{x:_0x10db08,y:_0xf47e76,z:_0x4bfa3e}=_0x19a54a,{x:_0x3a8976,y:_0x2a3105,z:_0x265da0}=_0xe0dfe3;for(let _0x5b3b38=0x1*-0x229b+0x194c+0x94f;_0x5b3b38<_0xca1095;_0x5b3b38++){const _0x355176=_0x2eb59b[_0x5b3b38];let _0xf7f6d7;if(_0x355176['calculateS'+'ortDistanc'+'e'])_0xf7f6d7=_0x355176['calculateS'+'ortDistanc'+'e'](_0x355176,_0x19a54a,_0xe0dfe3);else{const _0x36e45d=_0x355176['aabb']['center'];_0xf7f6d7=(_0x36e45d['x']-_0x10db08)*_0x3a8976+(_0x36e45d['y']-_0xf47e76)*_0x2a3105+(_0x36e45d['z']-_0x4bfa3e)*_0x265da0;}const _0xa8a266=_0x355176['_drawBucke'+'t']*(0x6300*-0x25c+0x460f7*-0x28b+0x47a6f21d);_0x355176['_sortKeyDy'+'namic']=_0xa8a266+_0xf7f6d7;}}['getCulledI'+'nstances'](_0x3f3954){let _0x2cb683=this['_visibleIn'+'stances']['get'](_0x3f3954);return _0x2cb683||(_0x2cb683=new nA(),this['_visibleIn'+'stances']['set'](_0x3f3954,_0x2cb683)),_0x2cb683;}['sortVisibl'+'e'](_0x50ac63,_0xda9876){const _0x13157e=_0xda9876?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x13157e===Yc)return;const _0x3376d6=this['getCulledI'+'nstances'](_0x50ac63),_0xb9fd15=_0xda9876?_0x3376d6['transparen'+'t']:_0x3376d6['opaque'],_0x488509=_0x50ac63['node'];if(_0x13157e===Zw){const _0x738b9=_0x488509['getPositio'+'n'](),_0xdd57f5=_0x488509['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0xb9fd15,_0xb9fd15['length'],_0x738b9,_0xdd57f5),this['customSort'+'Callback']&&_0xb9fd15['sort'](this['customSort'+'Callback']);}else{if(_0x13157e===m_||_0x13157e===Kw){const _0x27f396=_0x488509['getPositio'+'n'](),_0x5a5f1f=_0x488509['forward'];this['_calculate'+'SortDistan'+'ces'](_0xb9fd15,_0x27f396,_0x5a5f1f);}_0xb9fd15['sort'](aA[_0x13157e]);}}}const oA=(_0x4ca7eb,_0x52adfa)=>_0x4ca7eb['priority']-_0x52adfa['priority'],ul=_0x54fab1=>_0x54fab1['sort'](oA);class du extends me{constructor(_0x20281f='Untitled'){super(),h(this,'layerList',[]),h(this,'layerIdMap',new Map()),h(this,'layerNameM'+'ap',new Map()),h(this,'layerOpaqu'+'eIndexMap',new Map()),h(this,'layerTrans'+'parentInde'+'xMap',new Map()),h(this,'subLayerLi'+'st',[]),h(this,'subLayerEn'+'abled',[]),h(this,'cameras',[]),h(this,'_renderAct'+'ions',[]),h(this,'_dirty',!(0x664+0x109*0xd+-0x13d8)),(this['name']=_0x20281f,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0x24b3b6=>_0x24b3b6['destroy']()),this['_renderAct'+'ions']['length']=0x13*-0x1a3+0x1ecf+0x4a;}['markDirty'](){this['_dirty']=!(0x5ba*0x4+-0x3*0x4ff+0x7eb*-0x1);}['_update'](){const _0x2ec19b=this['layerList']['length'];if(!this['_dirty']){for(let _0x53bd95=-0x1d91+-0x1efd+-0x2e*-0x151;_0x53bd95<_0x2ec19b;_0x53bd95++)if(this['layerList'][_0x53bd95]['_dirtyComp'+'osition']){this['_dirty']=!(0x2290+0x1939+-0x3bc9);break;}}if(this['_dirty']){this['_dirty']=!(-0x115f+0x20b1+-0xf51),this['cameras']['length']=-0x5*-0x677+-0x332+-0x1d21;for(let _0x13f11c=-0x2685*-0x1+0x1576+-0x3bfb;_0x13f11c<_0x2ec19b;_0x13f11c++){const _0x1eb3a7=this['layerList'][_0x13f11c];_0x1eb3a7['_dirtyComp'+'osition']=!(0x1*0x34f+0x93+0x14b*-0x3);for(let _0x86283=0x26db+0xa39*0x2+-0x3b4d*0x1;_0x86283<_0x1eb3a7['cameras']['length'];_0x86283++){const _0x3d6979=_0x1eb3a7['cameras'][_0x86283];this['cameras']['indexOf'](_0x3d6979)<-0xa*-0x101+-0x2376+0x196c&&this['cameras']['push'](_0x3d6979);}}this['cameras']['length']>-0x29*-0x5d+0x1ce9*0x1+-0x2bcd&&ul(this['cameras']);let _0x169875=0x255+-0x2214+0x1fbf;this['destroyRen'+'derActions']();for(let _0x5030c6=-0x183e+0x1*-0x2047+0x3*0x12d7;_0x5030c6<this['cameras']['length'];_0x5030c6++){const _0x4e8d6e=this['cameras'][_0x5030c6];if(_0x4e8d6e['camera']['renderPass'+'es']['length']>-0x1323+-0x604+0x1927){this['addDummyRe'+'nderAction'](_0x169875,_0x4e8d6e),_0x169875++;continue;}let _0x40afca=!(-0x7*0x46f+-0x6d*-0x1f+-0x1*-0x11d6);const _0x3d201a=_0x169875;let _0x91e3e0=null,_0x4b8172=!(-0x653+0x32a+0x32a);for(let _0x2eebf2=0x151+-0x19*-0x53+0xc*-0xc9;_0x2eebf2<_0x2ec19b;_0x2eebf2++){const _0x3f7ef7=this['layerList'][_0x2eebf2];if(_0x3f7ef7['enabled']&&this['subLayerEn'+'abled'][_0x2eebf2]&&_0x3f7ef7['cameras']['length']>0x9c3*0x1+0x1*-0x1ec5+-0x2*-0xa81&&_0x4e8d6e['layers']['indexOf'](_0x3f7ef7['id'])>=-0x386+-0xee+0xe4*0x5){!_0x4b8172&&_0x3f7ef7['id']===_0x4e8d6e['disablePos'+'tEffectsLa'+'yer']&&(_0x4b8172=!(-0x20c8+0x15c1+-0x3*-0x3ad),_0x91e3e0&&(_0x91e3e0['triggerPos'+'tprocess']=!(0x5*0x3b3+0x1922+-0x2ba1)));const _0xe0dad6=this['subLayerLi'+'st'][_0x2eebf2];_0x91e3e0=this['addRenderA'+'ction'](_0x169875,_0x3f7ef7,_0xe0dad6,_0x4e8d6e,_0x40afca,_0x4b8172),_0x169875++,_0x40afca=!(0x6f*0xb+-0x167b+0x11b7);}}_0x3d201a<_0x169875&&(_0x91e3e0['lastCamera'+'Use']=!(-0x1bc1+0x9c6+0x11fb)),!_0x4b8172&&_0x91e3e0&&(_0x91e3e0['triggerPos'+'tprocess']=!(0x207*0xd+0x1a70+-0x34cb)),_0x4e8d6e['renderTarg'+'et']&&_0x4e8d6e['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x3d201a-(0xc0e+0xd88+0xb1*-0x25),_0x4e8d6e);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0xc0578){w['assert'](this['_renderAct'+'ions']['length']===_0xc0578);const _0x4ba3fa=new Pv();return this['_renderAct'+'ions']['push'](_0x4ba3fa),_0x4ba3fa;}['addDummyRe'+'nderAction'](_0xa623,_0x1c3644){const _0x2a6893=this['getNextRen'+'derAction'](_0xa623);_0x2a6893['camera']=_0x1c3644,_0x2a6893['useCameraP'+'asses']=!(0xe3*0x6+0xa*0xf9+-0x12*0xd6);}['addRenderA'+'ction'](_0x1a4f2b,_0x2f06b1,_0x2efc0d,_0x2c2f1f,_0x45fc81,_0x506bf4){let _0x311fa7=_0x2f06b1['id']!==ps?_0x2c2f1f['renderTarg'+'et']:null,_0x231ec9=!(0x2166+-0x19fb+0x1*-0x76a);const _0x1cbeda=this['_renderAct'+'ions'];for(let _0x376ef3=_0x1a4f2b-(-0x2*-0x290+-0x4*-0x11e+-0x997*0x1);_0x376ef3>=-0x1b5+0x8a0+-0x6eb;_0x376ef3--)if(_0x1cbeda[_0x376ef3]['camera']===_0x2c2f1f&&_0x1cbeda[_0x376ef3]['renderTarg'+'et']===_0x311fa7){_0x231ec9=!(0x561+0x1b23+-0x2084);break;}_0x506bf4&&_0x2c2f1f['postEffect'+'sEnabled']&&(_0x311fa7=null);const _0x3f49a9=this['getNextRen'+'derAction'](_0x1a4f2b);_0x3f49a9['triggerPos'+'tprocess']=!(-0x114e+0x1bb*-0x6+-0x8b*-0x33),_0x3f49a9['layer']=_0x2f06b1,_0x3f49a9['transparen'+'t']=_0x2efc0d,_0x3f49a9['camera']=_0x2c2f1f,_0x3f49a9['renderTarg'+'et']=_0x311fa7,_0x3f49a9['firstCamer'+'aUse']=_0x45fc81,_0x3f49a9['lastCamera'+'Use']=!(-0xe6f+-0xdf*0x13+-0x1efd*-0x1);const _0x553233=_0x45fc81||!_0x231ec9,_0x30126e=_0x2f06b1['clearColor'+'Buffer']||_0x2f06b1['clearDepth'+'Buffer']||_0x2f06b1['clearStenc'+'ilBuffer'];return(_0x553233||_0x30126e)&&_0x3f49a9['setupClear'+'s'](_0x553233?_0x2c2f1f:void(0x23e*0x7+0x18*0x16+0x2*-0x8e1),_0x2f06b1),_0x3f49a9;}['propagateR'+'enderTarge'+'t'](_0x3f66ca,_0x150812){for(let _0x3c7747=_0x3f66ca;_0x3c7747>=-0x2511+0x1a44+0xacd;_0x3c7747--){const _0x5815b9=this['_renderAct'+'ions'][_0x3c7747],_0x37079e=_0x5815b9['layer'];if(_0x5815b9['renderTarg'+'et']&&_0x37079e['id']!==ps)break;if(_0x37079e['id']===ps)continue;if(_0x5815b9['useCameraP'+'asses'])break;const _0x3a878d=_0x5815b9==null?void(0x1*0x23d5+-0x12*0x1ac+-0x71*0xd):_0x5815b9['camera']['camera'];if(_0x3a878d&&(!_0x150812['camera']['rect']['equals'](_0x3a878d['rect'])||!_0x150812['camera']['scissorRec'+'t']['equals'](_0x3a878d['scissorRec'+'t'])))break;_0x5815b9['renderTarg'+'et']=_0x150812['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(mi['get'](Vl)){w['trace'](Vl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x343820=-0x1f52+0x20b2+0x8*-0x2c;_0x343820<this['_renderAct'+'ions']['length'];_0x343820++){const _0x5b3180=this['_renderAct'+'ions'][_0x343820],_0x3680d6=_0x5b3180['camera'];if(_0x5b3180['useCameraP'+'asses'])w['trace'](Vl,_0x343820+('CustomPass'+'es\x20Cam:\x20')+(_0x3680d6?_0x3680d6['entity']['name']:'-'));else{const _0x5026da=_0x5b3180['layer'],_0x2f8f0b=_0x5026da['enabled']&&this['isEnabled'](_0x5026da,_0x5b3180['transparen'+'t']),_0x54cd55=(_0x5b3180['clearColor']?'Color\x20':'.....\x20')+(_0x5b3180['clearDepth']?'Depth\x20':'.....\x20')+(_0x5b3180['clearStenc'+'il']?'Stencil':'.......');w['trace'](Vl,_0x343820+('\x20Cam:\x20'+(_0x3680d6?_0x3680d6['entity']['name']:'-'))['padEnd'](0x184f+0xac6+-0x22ff,'\x20')+('\x20Lay:\x20'+_0x5026da['name'])['padEnd'](-0x1*0x1f3+0x14c3+0x1*-0x12ba,'\x20')+(_0x5b3180['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x2f8f0b?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x5b3180['renderTarg'+'et']?_0x5b3180['renderTarg'+'et']['name']:'-'))['padEnd'](0x31*-0x55+0x16d6+-0x673,'\x20')+'\x20Clear:\x20'+_0x54cd55+(_0x5b3180['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x5b3180['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x5b3180['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x11cbb8){const _0xa4663b=this['layerIdMap']['get'](_0x11cbb8['id'])===_0x11cbb8;return w['assert'](!_0xa4663b,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x11cbb8['name']),_0xa4663b;}['_isSublaye'+'rAdded'](_0x1b1d9a,_0x5d43a2){return(_0x5d43a2?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x1b1d9a)!==void(-0xae0+-0x2580+-0x306*-0x10)?(w['error']('Sublayer\x20'+_0x1b1d9a['name']+(',\x20transpar'+'ent:\x20')+_0x5d43a2+('\x20is\x20alread'+'y\x20added.')),!(-0x1760+-0x14d5*0x1+0x2c35)):!(0x84+0x7*-0x35b+0x16fa);}['push'](_0x5813b2){this['_isLayerAd'+'ded'](_0x5813b2)||(this['layerList']['push'](_0x5813b2),this['layerList']['push'](_0x5813b2),this['_opaqueOrd'+'er'][_0x5813b2['id']]=this['subLayerLi'+'st']['push'](!(0x2*-0x9fd+-0x220d+0xe*0x3dc))-(-0x6b*-0x3a+0x21a4+0x39e1*-0x1),this['_transpare'+'ntOrder'][_0x5813b2['id']]=this['subLayerLi'+'st']['push'](!(0xa9a+-0x75a*0x1+-0x340))-(-0x776*-0x5+-0x21b*0x10+-0x39d),this['subLayerEn'+'abled']['push'](!(0x1c5e+0x1b9+-0x1e17*0x1)),this['subLayerEn'+'abled']['push'](!(-0x81*0x45+0x96f*0x1+0x1956)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x6a9+0xebf+-0x4*0x55a),this['fire']('add',_0x5813b2));}['insert'](_0x340b9e,_0x4615a6){if(this['_isLayerAd'+'ded'](_0x340b9e))return;this['layerList']['splice'](_0x4615a6,-0x138d+-0x11c6+-0xc71*-0x3,_0x340b9e,_0x340b9e),this['subLayerLi'+'st']['splice'](_0x4615a6,0x173c+-0x2291+0xb55,!(-0x1be*0x6+0x1f5+0x880),!(-0x846+-0x171f+0x1f65));const _0x482cde=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x4615a6,_0x482cde-(-0x189d*-0x1+-0xe31+-0xa6b*0x1)),this['_updateTra'+'nsparentOr'+'der'](_0x4615a6,_0x482cde-(0x141f+-0x1eca+0xaac)),this['subLayerEn'+'abled']['splice'](_0x4615a6,0x1e7*0x1+0x55a+-0x741,!(-0x358*-0xa+0x6a*-0x8+-0x788*0x4),!(-0x4*0x335+0x18f1+0x1*-0xc1d)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x80*-0x43+0x1*-0x17ab+-0x392b*-0x1),this['fire']('add',_0x340b9e);}['remove'](_0x47267c){let _0x211640=this['layerList']['indexOf'](_0x47267c);for(delete this['_opaqueOrd'+'er'][_0x211640],delete this['_transpare'+'ntOrder'][_0x211640];_0x211640>=0x1f71*-0x1+0x26b7+-0x746;)this['layerList']['splice'](_0x211640,-0x12*-0x174+-0x5cb*-0x3+-0x2b88),this['subLayerLi'+'st']['splice'](_0x211640,-0x1256*-0x2+0x2e1*0x1+0x1*-0x278c),this['subLayerEn'+'abled']['splice'](_0x211640,-0x3d*-0x33+-0x12bf*0x2+0x2*0xcac),_0x211640=this['layerList']['indexOf'](_0x47267c),this['_dirty']=!(-0x839*0x1+0x585*0x3+-0x856),this['fire']('remove',_0x47267c);const _0x187828=this['layerList']['length'];this['_updateOpa'+'queOrder'](0x1577+-0x1d6c+-0x123*-0x7,_0x187828-(0x920+-0x20*-0x12a+-0x2e5f)),this['_updateTra'+'nsparentOr'+'der'](0xd85+0xbfb*0x2+-0x1f9*0x13,_0x187828-(0x4*0x5cf+-0x122*-0x2+-0x197f)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x15ad2b){this['_isSublaye'+'rAdded'](_0x15ad2b,!(0x12a6+-0x821+-0x2*0x542))||(this['layerList']['push'](_0x15ad2b),this['_opaqueOrd'+'er'][_0x15ad2b['id']]=this['subLayerLi'+'st']['push'](!(-0x3*0x439+0x1c66+-0xfba))-(0x7f9*0x1+0x19cf+-0x21c7*0x1),this['subLayerEn'+'abled']['push'](!(-0x592+0x224d+-0x1*0x1cbb)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x22ed+0x2*-0x923+-0x10a7),this['fire']('add',_0x15ad2b));}['insertOpaq'+'ue'](_0x22c557,_0x50d791){if(this['_isSublaye'+'rAdded'](_0x22c557,!(-0x43a*0x2+0x10f9+-0x1*0x884)))return;this['layerList']['splice'](_0x50d791,0x878+0x20*-0x9+0x14*-0x5e,_0x22c557),this['subLayerLi'+'st']['splice'](_0x50d791,-0x1c00+0x1f3*-0x1+0x2b9*0xb,!(-0x1055*-0x1+-0xbf5*0x3+-0x138b*-0x1));const _0x2763a9=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x50d791,_0x2763a9-(-0x6f*-0x59+0x1eb6*-0x1+-0x7e0)),this['subLayerEn'+'abled']['splice'](_0x50d791,-0x2*0x1171+0xf1e+0x13c4*0x1,!(0x126b+0x21cd+0x2*-0x1a1c)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x4*0xef+-0x593*-0x2+0x92*-0xd),this['fire']('add',_0x22c557);}['removeOpaq'+'ue'](_0x3475f9){for(let _0xb81b0c=-0x1b67+0x1*0x1311+0x856,_0x4c7a57=this['layerList']['length'];_0xb81b0c<_0x4c7a57;_0xb81b0c++)if(this['layerList'][_0xb81b0c]===_0x3475f9&&!this['subLayerLi'+'st'][_0xb81b0c]){this['layerList']['splice'](_0xb81b0c,0x2194+-0x61*0x2e+0x1*-0x1025),this['subLayerLi'+'st']['splice'](_0xb81b0c,-0x1a19+0x1f9c+-0x1e*0x2f),_0x4c7a57--,this['_updateOpa'+'queOrder'](_0xb81b0c,_0x4c7a57-(0x7d7+0x1*0x1b19+-0x22ef)),this['subLayerEn'+'abled']['splice'](_0xb81b0c,0x23*-0x79+0x11df+-0x153),this['_dirty']=!(0x5*-0x14f+0x791*-0x1+0xe1c),this['layerList']['indexOf'](_0x3475f9)<-0x76e+0x1f41+-0x17d3&&this['fire']('remove',_0x3475f9);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x32c657){this['_isSublaye'+'rAdded'](_0x32c657,!(0x6d*-0x18+-0x14c2+0x1efa))||(this['layerList']['push'](_0x32c657),this['_transpare'+'ntOrder'][_0x32c657['id']]=this['subLayerLi'+'st']['push'](!(0xb80+-0x18bd+-0x1*-0xd3d))-(-0x1*-0x12af+-0x4f6+-0xdb8),this['subLayerEn'+'abled']['push'](!(-0x4f*0x70+0x1eb+0x20a5*0x1)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x7*0x3d6+-0x1ba2+-0xc8*-0x1),this['fire']('add',_0x32c657));}['insertTran'+'sparent'](_0xb47e1a,_0x5974a4){if(this['_isSublaye'+'rAdded'](_0xb47e1a,!(-0x1cd5+0x469+0x186c)))return;this['layerList']['splice'](_0x5974a4,-0x5*-0x1be+-0xfa4+0x6ee,_0xb47e1a),this['subLayerLi'+'st']['splice'](_0x5974a4,0x1f2f+-0x91d+-0xb09*0x2,!(-0x1ee7+-0xc5*-0x1+-0x1e22*-0x1));const _0x366d38=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x5974a4,_0x366d38-(0x1db8+-0x1dec+0x35)),this['subLayerEn'+'abled']['splice'](_0x5974a4,-0x125*-0x11+0x1a26+0x1d3*-0x19,!(-0xd*-0x8f+0x47*0x6d+-0x257e*0x1)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x1918+0x3*-0x5f6+0x1*0x2afa),this['fire']('add',_0xb47e1a);}['removeTran'+'sparent'](_0x1c5742){for(let _0x17c4f1=-0x198c+0x1d*0x12e+0x8aa*-0x1,_0x41f84f=this['layerList']['length'];_0x17c4f1<_0x41f84f;_0x17c4f1++)if(this['layerList'][_0x17c4f1]===_0x1c5742&&this['subLayerLi'+'st'][_0x17c4f1]){this['layerList']['splice'](_0x17c4f1,-0xf32+-0x1*-0x166d+-0x73a),this['subLayerLi'+'st']['splice'](_0x17c4f1,0x161*0x1+0xe62*-0x1+-0x1*-0xd02),_0x41f84f--,this['_updateTra'+'nsparentOr'+'der'](_0x17c4f1,_0x41f84f-(0x1fd*0x7+0x1*0x21a1+-0x2f8b)),this['subLayerEn'+'abled']['splice'](_0x17c4f1,0x129+-0x1e42+0x1d1a),this['_dirty']=!(0x16cf+0x2*-0xe73+0x1*0x617),this['layerList']['indexOf'](_0x1c5742)<0xd48+0x2149*-0x1+0x1401&&this['fire']('remove',_0x1c5742);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x618643){return this['layerOpaqu'+'eIndexMap']['get'](_0x618643)??-(0x2f7+0x1e0d+-0x1*0x2103);}['getTranspa'+'rentIndex'](_0x4287f9){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x4287f9)??-(-0xa*0x33e+-0x1ad5+0x3b42);}['isEnabled'](_0x430dc9,_0x131754){if(_0x430dc9['enabled']){const _0x10ed70=_0x131754?this['getTranspa'+'rentIndex'](_0x430dc9):this['getOpaqueI'+'ndex'](_0x430dc9);if(_0x10ed70>=-0x1ab*-0x1+0x1*0xe27+-0xfd2)return this['subLayerEn'+'abled'][_0x10ed70];}return!(0x886+-0x4*0x142+0x37d*-0x1);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0x297b6d=0x1*0x1a47+0x2499+-0x3ee0;_0x297b6d<this['layerList']['length'];_0x297b6d++){const _0x4744a0=this['layerList'][_0x297b6d];this['layerIdMap']['set'](_0x4744a0['id'],_0x4744a0),this['layerNameM'+'ap']['set'](_0x4744a0['name'],_0x4744a0),(this['subLayerLi'+'st'][_0x297b6d]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x4744a0,_0x297b6d);}}['getLayerBy'+'Id'](_0x45f4dc){return this['layerIdMap']['get'](_0x45f4dc)??null;}['getLayerBy'+'Name'](_0x1f83f7){return this['layerNameM'+'ap']['get'](_0x1f83f7)??null;}['_updateOpa'+'queOrder'](_0x12848a,_0x5b72c4){for(let _0x5d5f8a=_0x12848a;_0x5d5f8a<=_0x5b72c4;_0x5d5f8a++)this['subLayerLi'+'st'][_0x5d5f8a]===!(0x26e4+0x12cc+-0x39af)&&(this['_opaqueOrd'+'er'][this['layerList'][_0x5d5f8a]['id']]=_0x5d5f8a);}['_updateTra'+'nsparentOr'+'der'](_0x2e61a0,_0x74624){for(let _0x27d266=_0x2e61a0;_0x27d266<=_0x74624;_0x27d266++)this['subLayerLi'+'st'][_0x27d266]===!(-0x307*0xa+0x1*0x17b0+0x696)&&(this['_transpare'+'ntOrder'][this['layerList'][_0x27d266]['id']]=_0x27d266);}['_sortLayer'+'sDescendin'+'g'](_0x36a14a,_0x5d916e,_0x4edcfc){let _0xbe1fce=-(-0xce2+-0x1cc6+-0x1*-0x29a9),_0x2ef0d5=-(0x1a08+0x18f9+-0x1980*0x2);for(let _0x33a295=0x22*0xa7+0x1c33+-0x3261,_0x273661=_0x36a14a['length'];_0x33a295<_0x273661;_0x33a295++){const _0x144008=_0x36a14a[_0x33a295];_0x4edcfc['hasOwnProp'+'erty'](_0x144008)&&(_0xbe1fce=Math['max'](_0xbe1fce,_0x4edcfc[_0x144008]));}for(let _0x15d689=0x1b96+-0x2f1*-0x2+-0x2178,_0x1529d0=_0x5d916e['length'];_0x15d689<_0x1529d0;_0x15d689++){const _0x2c7019=_0x5d916e[_0x15d689];_0x4edcfc['hasOwnProp'+'erty'](_0x2c7019)&&(_0x2ef0d5=Math['max'](_0x2ef0d5,_0x4edcfc[_0x2c7019]));}return _0xbe1fce===-(0x1a*0xf7+-0xe3*0x23+0x4*0x17d)&&_0x2ef0d5!==-(0x233e+0xb10+-0x2e4d)?-0x11bb+0x4a3*-0x1+0x165f:_0x2ef0d5===-(0x7*0x30b+0x4*0x40+-0x2*0xb26)&&_0xbe1fce!==-(0x1b*0x167+0x107f+0x17*-0x25d)?-(0x2052+-0x1*0x9ba+-0x1697):_0x2ef0d5-_0xbe1fce;}['sortTransp'+'arentLayer'+'s'](_0x2699ed,_0x15efbc){return this['_sortLayer'+'sDescendin'+'g'](_0x2699ed,_0x15efbc,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x39e577,_0x120f9b){return this['_sortLayer'+'sDescendin'+'g'](_0x39e577,_0x120f9b,this['_opaqueOrd'+'er']);}}const dc=new D(),wi={'bias':0x0,'normalBias':0x0},ho=new ie(),pf={'r':0x0,'g':0x1,'b':0x2,'a':0x3},fu={'directional':ve,'omni':Ke,'point':Ke,'spot':Ze},lA=[[new re(0x253f+0x2695+0x1a6*-0x2e,-0x111c+0x146+0xfd6,0x1a5*0x6+-0x1c39+-0x5*-0x3ac,-0x1876+-0x1964+0x31db)],[new re(-0x7bb*-0x1+0xced*-0x1+-0x85*-0xa,0x1c79*-0x1+-0x2302+-0x1*-0x3f7b,0x99a*0x1+-0xc*-0x2a5+-0x2956+0.5,0x13*-0x1fd+0x1*0x2667+-0xa0+0.5),new re(-0x3e4*0x5+-0x1*-0x23e3+-0x106f,0x3*-0x335+-0x2c7+0x8a*0x17+0.5,0x2cc+-0x611*-0x2+-0xeee+0.5,-0x1*0x41b+0x226b+-0x5*0x610+0.5)],[new re(-0x14ac+0xc3c+0x870,-0xb*-0x1b6+0xa10+-0x1ce2,-0x7*-0x2da+0xd2e*-0x2+0x666+0.5,0x180b*0x1+0x7*0x225+-0x270e+0.5),new re(0x1bce*0x1+0x1394+-0x4bd*0xa,0x95*-0x37+-0x1c7a+0x3c7d+0.5,0x181e*0x1+0x1628+0x1723*-0x2+0.5,0x12*-0x1df+-0x8cb*-0x2+0x1018+0.5),new re(0xa35+-0x2d3*-0x6+-0x1b27+0.5,-0x7*-0x32b+0x2*0x716+-0x2459,0x1d54*-0x1+0xd52+0x2ab*0x6+0.5,0xa*-0x24f+-0x1236*-0x2+-0xd56+0.5)],[new re(0x14fb+0x4*-0x3d7+-0x59f*0x1,0x10*-0x19f+-0x1*0x1204+0x2bf4,0x1357*0x2+-0xde0+-0x18ce+0.5,0x1*-0x1a2+-0x1eb+0x38d+0.5),new re(-0x1*-0x183b+-0x25de+0xda3,-0x493+0x110a*0x1+-0x1*0xc77+0.5,-0x16a1+-0x1fc2+-0x33*-0x111+0.5,-0x1dd8+-0x117e+0x2f56+0.5),new re(-0x266b+-0x254+0xd95*0x3+0.5,-0xe25+-0x26e0+0x7*0x793,0x1e6b+-0x1c9+-0x1ca2+0.5,0x1*-0x1acf+0x552+0x1*0x157d+0.5),new re(-0xd8f+0x1f2+-0x3df*-0x3+0.5,0x445+-0x1faf+-0x27e*-0xb+0.5,-0x92*-0x26+0x1468+-0x2a14+0.5,0x59b*-0x3+-0x14dd+0x25ae+0.5)]],cA={'rrr':0x1,'ggg':0x2,'bbb':0x4,'aaa':0x8,'rgb':0x7};let hA=-0x1*-0xd1+-0xd5b+-0x217*-0x6;class dA{constructor(_0x171d02,_0x16bec5,_0x7c3cee){this['light']=_0x7c3cee,this['camera']=_0x171d02,this['shadowCame'+'ra']=Cv['createShad'+'owCamera'](_0x7c3cee['_shadowTyp'+'e'],_0x7c3cee['_type'],_0x16bec5),this['shadowMatr'+'ix']=new te(),this['shadowView'+'port']=new re(0x130d+0x1*-0x957+0x9b6*-0x1,0x4d1*0x1+0x201f+-0x24f0,0x1*0x25be+-0x1f9b+-0x622,0x1*0x1d5f+0x1*-0x607+-0x1757),this['shadowScis'+'sor']=new re(-0x8b*0x32+0x15ea+0x4*0x14f,0x12b7*-0x1+0x7c3+0xaf4*0x1,-0x1b9d+-0x16f*-0x2+0x18c0,0x20*-0xc5+-0xa84*0x3+0x382d),this['projection'+'Compensati'+'on']=-0x1997+-0x1d9e+0x3735,this['face']=_0x16bec5,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x48c102=>{_0x48c102['defaultUni'+'formBuffer']['destroy'](),_0x48c102['destroy']();}),this['viewBindGr'+'oups']['length']=0x41b*0x3+-0xde*-0x2b+-0x319b;}get['shadowBuff'+'er'](){const _0x11b214=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x11b214?this['light']['_isPcf']?_0x11b214['depthBuffe'+'r']:_0x11b214['colorBuffe'+'r']:null;}}class pl{constructor(_0x5dc330,_0x573027){h(this,'layers',new Set()),h(this,'clusteredL'+'ighting'),h(this,'shadowDept'+'hState',Yt['DEFAULT']['clone']()),h(this,'clusteredF'+'lags',-0xa81+-0x1*0x249b+0x6*0x7da),h(this,'clusteredD'+'ata',new Uint32Array(0xe*0x191+0x197*0xd+-0x2a96)),h(this,'clusteredD'+'ata16',new Uint16Array(this['clusteredD'+'ata']['buffer'])),h(this,'_evtDevice'+'Restored',null),(this['device']=_0x5dc330,this['clusteredL'+'ighting']=_0x573027,this['id']=hA++,this['_evtDevice'+'Restored']=_0x5dc330['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this),this['_type']=ve,this['_color']=new ie(-0x15*0xbf+-0x1e74*0x1+0x2e1f+0.8,-0xfd*-0x5+-0x2a3*-0x8+-0x1a09+0.8,0xb56*-0x3+-0x8bc+-0x155f*-0x2+0.8),this['_intensity']=0x58b+-0x36f*-0x8+0xa*-0x34d,this['_affectSpe'+'cularity']=!(-0x2*-0x2bd+0x44d*-0x1+-0x12d),this['_luminance']=-0xcba+0xc25*-0x2+0x2504,this['_castShado'+'ws']=!(-0xb6*0x13+-0x1*0x7+0xd8a),this['_enabled']=!(-0x1325*-0x1+0x17e*0x8+-0xea*0x22),this['_mask']=Ss,this['isStatic']=!(-0x13c7+-0xc09+0x1fd1),this['key']=0xf70+0x1e8b+-0x1*0x2dfb,this['bakeDir']=!(-0x5*-0x5a5+0x6*-0x1b7+-0x11ef*0x1),this['bakeNumSam'+'ples']=-0x1*-0x821+0x121c+-0x1a3c,this['bakeArea']=0x1beb+0x1c44+0x13*-0x2f5,this['attenuatio'+'nStart']=0x1*0xb7b+-0x1*-0x425+-0x532*0x3,this['attenuatio'+'nEnd']=0x19ef+-0x13*0xe+0x15*-0x12f,this['_falloffMo'+'de']=Qp,this['_shadowTyp'+'e']=$s,this['_vsmBlurSi'+'ze']=-0x1325+-0x4*-0x6b8+-0x1ec*0x4,this['vsmBlurMod'+'e']=em,this['vsmBias']=(0x1c99+-0x1*-0x2b1+-0x1f4a+0.01)*(0x2c*-0x95+0x4b*-0x47+0x2e69+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=0x26b5+-0x2*0x893+-0x158e,this['_cookieFal'+'loff']=!(-0x26ef+-0x161e+0x3d0d),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(0x211+-0x11ee+0x54b*0x3),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(0xb8a*0x1+-0x15ab+0xa23),this['_cookieTra'+'nsformSet']=!(-0x158f+0x808+0xd88),this['_cookieOff'+'setSet']=!(0x1cab+0x1391+0x303b*-0x1),this['_innerCone'+'Angle']=-0x8a9+-0x1843+0x92*0x3a,this['_outerCone'+'Angle']=-0x658+0x2354+-0x7d*0x3b,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=-0xd94+0x5*-0xf1+-0x124a*-0x1,this['_cascadeBl'+'end']=-0x1*0x67a+-0xa7a+-0x3e*-0x46,this['cascadeDis'+'tribution']=0x42*0x4a+0xb2*0x37+-0x3952+0.5,this['_shape']=Ys,this['_colorLine'+'ar']=new Float32Array(-0xf9a+0x8dd*-0x3+-0x94*-0x49),this['_updateLin'+'earColor'](),this['_position']=new D(0x151f*0x1+0x1*0x1d75+-0x3294,0x1ba3+-0x17*0x81+-0x100c,0x5a1+0x3*-0x98f+0x170c),this['_direction']=new D(0x5b0+0x190e+-0x1ebe,0xdee+-0x796*-0x4+-0xec2*0x3,-0x1cc3+-0x21d7*-0x1+-0x514),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(0x1627+-0x2531+0xfbe)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(0xe60+0x20f2+-0x2f52),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=-0xb*-0x179+-0xaaa*-0x3+-0x1003*0x3,this['_shadowRes'+'olution']=0x19da+0x5*0x32d+-0x1*0x25bb,this['_shadowBia'+'s']=-(-0xfc3+-0x1499+-0x1a*-0x166+0.0005),this['_shadowInt'+'ensity']=0x7e2*-0x3+0x15*0xa7+0x9f4,this['_normalOff'+'setBias']=-0x2400+-0x62+0x2462,this['shadowUpda'+'teMode']=lm,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(-0xd39+-0xbfc*0x2+0x2532),this['_isPcf']=!(0x1*0xec3+-0x3*0xa5+-0xcd4),this['_softShado'+'wParams']=new Float32Array(0xc6c+-0x2601+0x1999),this['shadowSamp'+'les']=0x11*-0x2f+0x9a*-0x3b+0x26ad,this['shadowBloc'+'kerSamples']=-0xd95+-0x17*-0x23+-0x1*-0xa80,this['penumbraSi'+'ze']=-0x88*0x47+0x2*0x1229+0x167,this['penumbraFa'+'lloff']=-0x1*-0x1265+0x15b3+0x3a5*-0xb,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(0x1*0x74c+0x45a+-0x1*0xba5),this['atlasVersi'+'on']=-0x20ed*0x1+-0x1*-0x1397+0xd56,this['atlasSlotI'+'ndex']=-0x1857+-0x8e9*0x4+0x53*0xb9,this['atlasSlotU'+'pdated']=!(0x343+-0x117e+0xe3c),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(0x19a7+-0x127c+-0x106*0x7),this['maxScreenS'+'ize']=0x3*-0x3ad+-0x8e*0x31+-0x2635*-0x1,this['_updateSha'+'dowBias']());}['destroy'](){var _0x22aeb8;(_0x22aeb8=this['_evtDevice'+'Restored'])==null||_0x22aeb8['off'](),this['_evtDevice'+'Restored']=null,this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['onDeviceRe'+'stored'](){this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr);}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x3fb3e7=0x1bfb*0x1+0x74e+0x2349*-0x1;_0x3fb3e7<this['_renderDat'+'a']['length'];_0x3fb3e7++)this['_renderDat'+'a'][_0x3fb3e7]['destroy']();this['_renderDat'+'a']['length']=-0xd*-0x115+-0x26aa+-0x1899*-0x1;}}['addLayer'](_0x51f74a){this['layers']['add'](_0x51f74a);}['removeLaye'+'r'](_0x239703){this['layers']['delete'](_0x239703);}set['shadowSamp'+'les'](_0x54d7ab){this['_softShado'+'wParams'][-0x36f*-0x1+-0xa15+-0x25*-0x2e]=_0x54d7ab;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][0x2*0x5df+-0x20e4+0x1*0x1526];}set['shadowBloc'+'kerSamples'](_0x41a73e){this['_softShado'+'wParams'][-0xee0+0xa5e+-0x69*-0xb]=_0x41a73e;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][-0x269b+-0x2*0x21d+-0x1*-0x2ad6];}set['shadowBias'](_0x38dd26){this['_shadowBia'+'s']!==_0x38dd26&&(this['_shadowBia'+'s']=_0x38dd26,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x1adc2e){(!this['cascades']||this['numCascade'+'s']!==_0x1adc2e)&&(this['cascades']=lA[_0x1adc2e-(-0xaa4*0x2+-0x1982+-0x2ecb*-0x1)],this['_shadowMat'+'rixPalette']=new Float32Array(0x15f2*-0x1+0xe*0x127+0x610),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(0x9a2+-0x1*-0x15b9+0x1f57*-0x1),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x33a6fd){this['_cascadeBl'+'end']!==_0x33a6fd&&(this['_cascadeBl'+'end']=_0x33a6fd,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x83b329){this['_shadowMap']!==_0x83b329&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x83b329);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x5845a5){this['_mask']!==_0x5845a5&&(this['_mask']=_0x5845a5,this['updateKey'](),this['updateClus'+'teredFlags']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x55df5f=this['_type'];return _0x55df5f===ve?this['numCascade'+'s']:_0x55df5f===Ke?-0xb3e*0x2+-0x1671+0x1*0x2cf3:0x2666+-0x7*0x577+-0x24*0x1;}set['type'](_0x60ae99){if(this['_type']===_0x60ae99)return;this['_type']=_0x60ae99,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0x247a1b=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0x247a1b;}get['type'](){return this['_type'];}set['shape'](_0x453eaf){if(this['_shape']===_0x453eaf)return;this['_shape']=_0x453eaf,this['_destroySh'+'adowMap'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0x4cca78=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x4cca78;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x2ef108){this['_usePhysic'+'alUnits']!==_0x2ef108&&(this['_usePhysic'+'alUnits']=_0x2ef108,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x3267d5){if(this['_shadowTyp'+'e']===_0x3267d5)return;let _0x9297f7=qi['get'](_0x3267d5);_0x9297f7||(_0x3267d5=$s);const _0x2cbe54=this['device'];_0x3267d5===al&&!_0x2cbe54['textureFlo'+'atRenderab'+'le']&&!_0x2cbe54['textureHal'+'fFloatRend'+'erable']&&(_0x3267d5=$s),this['_type']===Ke&&_0x3267d5!==tv&&_0x3267d5!==$s&&_0x3267d5!==sv&&_0x3267d5!==iv&&_0x3267d5!==al&&(_0x3267d5=$s),_0x3267d5===Jp&&(!_0x2cbe54['textureFlo'+'atRenderab'+'le']||!_0x2cbe54['textureFlo'+'atFilterab'+'le'])&&(_0x3267d5=au),_0x3267d5===au&&!_0x2cbe54['textureHal'+'fFloatRend'+'erable']&&(_0x3267d5=$s),_0x9297f7=qi['get'](_0x3267d5),this['_isVsm']=(_0x9297f7==null?void(0x19ff+-0xdf3+-0xc0c):_0x9297f7['vsm'])??!(0x587*-0x1+0x89a+-0x312),this['_isPcf']=(_0x9297f7==null?void(-0x133b+-0x1a7e+0x2db9):_0x9297f7['pcf'])??!(-0x27e*-0x9+-0x212d+-0xac0*-0x1),this['_shadowTyp'+'e']=_0x3267d5,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x2cc003){this['_enabled']!==_0x2cc003&&(this['_enabled']=_0x2cc003,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x22343d){this['_castShado'+'ws']!==_0x22343d&&(this['_castShado'+'ws']=_0x22343d,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==fi&&this['_mask']!==-0x6ac+-0xe9d+-0x1*-0x1549;}set['shadowInte'+'nsity'](_0x17d575){this['_shadowInt'+'ensity']!==_0x17d575&&(this['_shadowInt'+'ensity']=_0x17d575,this['updateKey']());}get['shadowInte'+'nsity'](){return this['_shadowInt'+'ensity'];}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===fi;}set['shadowReso'+'lution'](_0x4083b5){this['_shadowRes'+'olution']!==_0x4083b5&&(this['_type']===Ke?_0x4083b5=Math['min'](_0x4083b5,this['device']['maxCubeMap'+'Size']):_0x4083b5=Math['min'](_0x4083b5,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x4083b5,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0x307321){this['_vsmBlurSi'+'ze']!==_0x307321&&(_0x307321%(0x1*-0x55b+-0x1409+0x2*0xcb3)===0x3b7*0x1+-0x7*0x496+0x1c63&&_0x307321++,this['_vsmBlurSi'+'ze']=_0x307321);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x1fb826){if(this['_normalOff'+'setBias']!==_0x1fb826){const _0x317677=!this['_normalOff'+'setBias']&&_0x1fb826||this['_normalOff'+'setBias']&&!_0x1fb826;this['_normalOff'+'setBias']=_0x1fb826,_0x317677&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x571167){this['_falloffMo'+'de']!==_0x571167&&(this['_falloffMo'+'de']=_0x571167,this['updateKey'](),this['updateClus'+'teredFlags']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0x2c6bdb){this['_innerCone'+'Angle']!==_0x2c6bdb&&(this['_innerCone'+'Angle']=_0x2c6bdb,this['_innerCone'+'AngleCos']=Math['cos'](_0x2c6bdb*Math['PI']/(-0x1*-0x1799+-0x40*0x22+0xe65*-0x1)),this['updateClus'+'terData'](!(-0x126d+0x1f05+-0xc97),!(0xc2+-0x1ac2+0x8*0x340)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0x1b9341){this['_outerCone'+'Angle']!==_0x1b9341&&(this['_outerCone'+'Angle']=_0x1b9341,this['_updateOut'+'erAngle'](_0x1b9341),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0xb2d2fd){this['_penumbraS'+'ize']=_0xb2d2fd,this['_softShado'+'wParams'][-0x2694+-0x29*-0x59+-0x1855*-0x1]=_0xb2d2fd;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0x1c9f5e){this['_softShado'+'wParams'][0x3*0x2bb+-0x4d4+-0x1ad*0x2]=_0x1c9f5e;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][0x1287+0x3*0xa27+-0x30f9];}['_updateOut'+'erAngle'](_0x2c8608){const _0x26b9f7=_0x2c8608*Math['PI']/(-0x13*0x107+0x12ce*0x1+0x16b);this['_outerCone'+'AngleCos']=Math['cos'](_0x26b9f7),this['_outerCone'+'AngleSin']=Math['sin'](_0x26b9f7),this['updateClus'+'terData'](!(-0x1296+0x4cb*0x8+-0x13c1),!(0x2519+-0x2*0x4b2+-0x1bb5));}set['intensity'](_0x5846ee){this['_intensity']!==_0x5846ee&&(this['_intensity']=_0x5846ee,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0x310a51){this['_type']===ve&&(this['_affectSpe'+'cularity']=_0x310a51,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x276df9){this['_luminance']!==_0x276df9&&(this['_luminance']=_0x276df9,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new te()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new re(0x136e+0x1e7a+-0x1*0x31e8,0x4fc+0x1*0xd01+0x399*-0x5,0x1c8a+-0xb42+0x1*-0x1147,-0x1d6f+0xdab+0xb*0x16f)),this['_atlasView'+'port'];}set['cookie'](_0x57966c){this['_cookie']!==_0x57966c&&(this['_cookie']=_0x57966c,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x3f9031){this['_cookieFal'+'loff']!==_0x3f9031&&(this['_cookieFal'+'loff']=_0x3f9031,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x5f03f8){if(this['_cookieCha'+'nnel']!==_0x5f03f8){if(_0x5f03f8['length']<0x466*0x2+0x1095*-0x1+0x7cc){const _0xc871f2=_0x5f03f8['charAt'](_0x5f03f8['length']-(-0x1148+-0x1*0x228a+0x33d3)),_0x141696=0x24ef+0xded*-0x1+-0x16ff-_0x5f03f8['length'];for(let _0xb9bd11=-0x1e7e+0x16d*-0x1+0x1*0x1feb;_0xb9bd11<_0x141696;_0xb9bd11++)_0x5f03f8+=_0xc871f2;}this['_cookieCha'+'nnel']=_0x5f03f8,this['updateKey'](),this['updateClus'+'teredFlags']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x5bb67f){this['_cookieTra'+'nsform']!==_0x5bb67f&&(this['_cookieTra'+'nsform']=_0x5bb67f,this['_cookieTra'+'nsformSet']=!!_0x5bb67f,_0x5bb67f&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new J(),this['_cookieOff'+'setSet']=!(-0x23d*0x9+0xddd+-0x649*-0x1)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0xd2f13f){if(this['_cookieOff'+'set']===_0xd2f13f)return;!!(this['_cookieTra'+'nsformSet']||_0xd2f13f)&&!_0xd2f13f&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](0xc32+-0x1bb2+0xf80,-0x1c8c+0x1add+0x1*0x1af):this['_cookieOff'+'set']=_0xd2f13f,this['_cookieOff'+'setSet']=!!_0xd2f13f,_0xd2f13f&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new re(0x53f+-0x716*0x2+0x8ee,-0x8c6*0x3+-0x25e1+0x496*0xe,-0x4eb*0x1+-0x201b*-0x1+-0x3c*0x74,0x1a1e+0x90*0x1e+-0x2afe),this['_cookieTra'+'nsformSet']=!(-0x872*-0x1+0x99e*-0x1+0x12d)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===ve&&this['_enabled'],this['maxScreenS'+'ize']=0x446*0x1+0x2d*0x1d+-0x95f,this['atlasViewp'+'ortAllocat'+'ed']=!(0x1*0x16bb+0xe7c+-0x129b*0x2),this['atlasSlotU'+'pdated']=!(-0xf4d+0x224f*-0x1+-0x3d1*-0xd);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr),this['shadowUpda'+'teOverride'+'s']){for(let _0x1142d5=0x55*0x5a+-0x3*-0x3a3+-0xb1*0x3b;_0x1142d5<this['shadowUpda'+'teOverride'+'s']['length'];_0x1142d5++)this['shadowUpda'+'teOverride'+'s'][_0x1142d5]===Ps&&(this['shadowUpda'+'teOverride'+'s'][_0x1142d5]=xr);}}['getRenderD'+'ata'](_0x2ec83d,_0x194dcb){for(let _0x2253d1=-0x62+0x8c8+-0x866*0x1;_0x2253d1<this['_renderDat'+'a']['length'];_0x2253d1++){const _0x17d8e7=this['_renderDat'+'a'][_0x2253d1];if(_0x17d8e7['camera']===_0x2ec83d&&_0x17d8e7['face']===_0x194dcb)return _0x17d8e7;}const _0x36c3c8=new dA(_0x2ec83d,_0x194dcb,this);return this['_renderDat'+'a']['push'](_0x36c3c8),_0x36c3c8;}['clone'](){const _0x34e38d=new pl(this['device'],this['clusteredL'+'ighting']);return _0x34e38d['type']=this['_type'],_0x34e38d['setColor'](this['_color']),_0x34e38d['intensity']=this['_intensity'],_0x34e38d['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x34e38d['luminance']=this['_luminance'],_0x34e38d['castShadow'+'s']=this['castShadow'+'s'],_0x34e38d['_enabled']=this['_enabled'],_0x34e38d['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x34e38d['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x34e38d['falloffMod'+'e']=this['_falloffMo'+'de'],_0x34e38d['shadowType']=this['_shadowTyp'+'e'],_0x34e38d['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x34e38d['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x34e38d['vsmBias']=this['vsmBias'],_0x34e38d['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x34e38d['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x34e38d['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x34e38d['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x34e38d['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x34e38d['numCascade'+'s']=this['numCascade'+'s'],_0x34e38d['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x34e38d['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x34e38d['shape']=this['_shape'],_0x34e38d['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x34e38d['shadowBias']=this['shadowBias'],_0x34e38d['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x34e38d['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x34e38d['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x34e38d['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x34e38d['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x34e38d['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x34e38d['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x34e38d['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x34e38d;}static['getLightUn'+'itConversi'+'on'](_0x481fe6,_0x463590=Math['PI']/(-0x1928+0x556*0x7+-0xc2e*0x1),_0x3f28d6=0x562+-0x22*0x25+0x28*-0x3){switch(_0x481fe6){case Ze:{const _0x3b435e=Math['cos'](_0x463590),_0x2a59fa=Math['cos'](_0x3f28d6);return(0x1837+0x65*-0x51+0x7c0)*Math['PI']*(-0x2273+-0x1989*0x1+0x3bfd-_0x2a59fa+(_0x2a59fa-_0x3b435e)/(-0x578+0x1833+0x1*-0x12b9));}case Ke:return(-0x80*0x3+0x171d+-0x1599)*Math['PI'];case ve:return-0x449*-0x5+-0x12ec*0x1+-0x1*0x280;}}['_getUnifor'+'mBiasValue'+'s'](_0x5aa562){const _0x4a3e17=_0x5aa562['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Ke:wi['bias']=this['shadowBias'],wi['normalBias']=this['_normalOff'+'setBias'];break;case Ze:this['_isVsm']?wi['bias']=-(-0x21aa+-0x4b2*0x2+0x2b0e+0.00001)*(0x1*0xc22+-0x405+-0x1*0x809):wi['bias']=this['shadowBias']*(-0x3*-0x36d+0x1ab+0x1b2*-0x7),wi['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(-0xb0e+0x1*-0x1df2+-0x185*-0x1b)):this['_normalOff'+'setBias'];break;case ve:this['_isVsm']?wi['bias']=-(0xd8a+0x20e0+-0x2e6a+0.00001)*(0xc79*0x2+-0x876+0x38*-0x4b):wi['bias']=this['shadowBias']/_0x4a3e17*(-0x2227+-0x21*0x17+-0x1*-0x2582),wi['normalBias']=this['_isVsm']?this['vsmBias']/(_0x4a3e17/(0xf04*-0x2+0xd*-0x245+0x10*0x3b9)):this['_normalOff'+'setBias'];break;}return wi;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x505f47){if(this['_type']===Ze){const _0x1dab93=this['attenuatio'+'nEnd'],_0x582023=this['_outerCone'+'Angle'],_0x2f7cb7=this['_outerCone'+'AngleCos'],_0x46f5a8=this['_node'];dc['copy'](_0x46f5a8['up']),_0x582023>0x1891+-0x7a7+-0x10bd?(_0x505f47['radius']=_0x1dab93*this['_outerCone'+'AngleSin'],dc['mulScalar'](-_0x1dab93*_0x2f7cb7)):(_0x505f47['radius']=_0x1dab93/((-0xc1*-0x23+-0x1*0xf3+-0x516*0x5)*_0x2f7cb7),dc['mulScalar'](-_0x505f47['radius'])),_0x505f47['center']['add2'](_0x46f5a8['getPositio'+'n'](),dc);}else this['_type']===Ke&&(_0x505f47['center']=this['_node']['getPositio'+'n'](),_0x505f47['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x4b07a8){if(this['_type']===Ze){const _0x39994f=this['attenuatio'+'nEnd'],_0x18622e=this['_outerCone'+'Angle'],_0x4c1b19=this['_node'],_0x3ea44c=Math['abs'](Math['sin'](_0x18622e*Y['DEG_TO_RAD'])*_0x39994f);_0x4b07a8['center']['set'](-0xe81+0x6a1*0x5+-0x12a4,-_0x39994f*(0x64d+0x1ed8*-0x1+0x188b+0.5),-0xa20*0x3+0x122c*0x2+-0x5f8),_0x4b07a8['halfExtent'+'s']['set'](_0x3ea44c,_0x39994f*(-0xec*-0x7+-0x25fd+0x381*0x9+0.5),_0x3ea44c),_0x4b07a8['setFromTra'+'nsformedAa'+'bb'](_0x4b07a8,_0x4c1b19['getWorldTr'+'ansform'](),!(0x1*0x11b+0x2bd*0x3+0x952*-0x1));}else this['_type']===Ke&&(_0x4b07a8['center']['copy'](this['_node']['getPositio'+'n']()),_0x4b07a8['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Ke&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=0x1d42+-0x9fc+-0x2*0x9a3,this['shadowDept'+'hState']['depthBiasS'+'lope']=-0x1732+-0x41a+0x1b4c;else{const _0x43957a=this['shadowBias']*-(0x111d*-0x1+0x1*0x8db+-0x40e*-0x3);this['shadowDept'+'hState']['depthBias']=_0x43957a,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0x43957a;}}['_updateLin'+'earColor'](){let _0x507c0f=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x507c0f=this['_luminance']/pl['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*Y['DEG_TO_RAD'],this['_innerCone'+'Angle']*Y['DEG_TO_RAD']));const _0x2a9a7f=this['_color'],_0x5d101a=this['_colorLine'+'ar'];_0x507c0f>=-0x2417*0x1+0x5ad*0x1+0x1e6b?ho['linear'](_0x2a9a7f)['mulScalar'](_0x507c0f):ho['copy'](_0x2a9a7f)['mulScalar'](_0x507c0f)['linear'](),_0x5d101a[0x1087*0x2+0x1*0x44e+-0x255c]=ho['r'],_0x5d101a[-0x188e+0x6e*-0x25+0x2875]=ho['g'],_0x5d101a[-0x2350+-0x20a5+0x43f7]=ho['b'],this['updateClus'+'terData'](!(0x233f+-0x1480+-0x1*0xebf));}['setColor'](){arguments['length']===-0x1474+-0xe5*0x25+-0xf*-0x392?this['_color']['set'](arguments[0x1e4b+-0xb1b+0x4*-0x4cc]['r'],arguments[0x1f72+-0x2635*0x1+0x6c3]['g'],arguments[0x4a*-0x40+0x1a6f+-0x7ef]['b']):arguments['length']===-0x68*-0x3b+-0xbd9*-0x1+0x1*-0x23ce&&this['_color']['set'](arguments[-0x1bbf+0x8*0x30f+-0x1*-0x347],arguments[-0x3*-0xf6+-0x55c+-0x5*-0x7f],arguments[0x1d72+0x269*-0xb+0x7*-0x6b]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0xc2fd2c=>{_0xc2fd2c['hasLight'](this)&&_0xc2fd2c['markLights'+'Dirty']();});}['updateKey'](){let _0x15130d=this['_type']<<0x21ee+0x2*-0x9cd+0xe37*-0x1|this['_shadowTyp'+'e']<<-0x195b+0xcc5+0xcaf|this['_falloffMo'+'de']<<-0xa*0x95+0x2e1*0x2+-0x1*-0x27|(this['_normalOff'+'setBias']!==-0x5e2+0x1*-0xe56+0x1438?-0x4c+-0x483*0x7+0x1fe2:0x1f8+0x69*0x29+-0x2af*0x7)<<-0x36a+0x115c+-0xddc*0x1|(this['_cookie']?0x7*0x4bd+0x22ac+-0x43d6:0x2b*0xb2+0x241a+-0x60*0xb0)<<0x1196+-0x1102+-0x7f|(this['_cookieFal'+'loff']?-0x881+0xc5*-0x10+-0x215*-0xa:-0x1c88+0x1*0xd63+0xf25)<<-0x798+0x1459+-0xcad|pf[this['_cookieCha'+'nnel']['charAt'](0x79*-0x2+-0x1*-0x2123+-0x2031)]<<0x607*-0x2+-0x178*-0x14+-0x1140|(this['_cookieTra'+'nsform']?0xb7b*0x1+0x4*-0x23c+-0x28a:0x5c+-0x1*-0x1eff+-0x1f5b)<<-0x33*0x10+-0x1612+-0x1*-0x194e|this['_shape']<<-0xc7f+0x26ca+0x2f*-0x8f|(this['numCascade'+'s']>0x17*0x3c+-0x1d5f+0x17fb?0x1d05+-0x5ba*-0x1+0x22be*-0x1:-0x2*0x11ae+-0x572+0x28ce)<<0xb91*-0x2+0x769+0xfc2*0x1|(this['_cascadeBl'+'end']>0x127d+-0x1*0x208c+0x1*0xe0f?-0x1*-0x21f8+-0x2354+0x1*0x15d:0xd4a*0x2+0x65*-0x2b+0x17*-0x6b)<<0x266*-0x1+-0x1*0x78+-0x6a*-0x7|(this['affectSpec'+'ularity']?0x1e4d+0x2*-0x213+-0x1*0x1a26:-0x1*0x18ce+0x1574+0x35a)<<0xe3*0x25+0x1a3*0x13+-0x3fe1|this['mask']<<-0x1*0x2011+0x9*0x12e+0x1579|(this['_castShado'+'ws']?-0x1*-0x69d+0xbf*0x8+-0xc94:0x1*-0x202f+0x20b0+-0x81)<<-0x104*-0x19+0x1b81*-0x1+-0x220*-0x1;this['_cookieCha'+'nnel']['length']===0x134f*0x2+0xebb+-0x1*0x3556&&(_0x15130d|=pf[this['_cookieCha'+'nnel']['charAt'](-0x82e+0x885*-0x1+0x10b4)]<<-0x22e9+-0x17*-0xce+-0x119*-0xf,_0x15130d|=pf[this['_cookieCha'+'nnel']['charAt'](0xb*0x29d+0x2225*-0x1+-0x8*-0xad)]<<-0x1d89+0x1*-0xc9f+-0xe12*-0x3),_0x15130d!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x15130d;}['updateClus'+'teredFlags'](){const _0x453bf9=!!(this['mask']&Ss),_0x3505cb=!!(this['mask']&di);this['clusteredF'+'lags']=(this['type']===Ze?0xd48+-0x2d3*-0x3+-0x15c0:-0x12*0xf1+0x715*-0x1+-0x1807*-0x1)<<0x1617+0xb*0x115+-0x21e0|(this['_shape']&0x5*0x783+-0xaa8+-0xd72*0x2)<<-0x1*-0x961+-0x1d7+0x6*-0x13d|(this['_falloffMo'+'de']&0x42b+-0x13fc+0x2*0x7e9)<<-0x1b40+0x12f1+-0x1*-0x86a|(cA[this['_cookieCha'+'nnel']]??-0x1334+-0x93c+0x1c70)<<0xfd*-0x26+0xe3*0x3+-0x1*-0x22fc|(_0x453bf9?0x17ca+-0x18f9+-0x10*-0x13:0x2581*0x1+0x1b5*0x10+-0x3*0x159b)<<-0x13ae+-0x15*0x120+0x2b64|(_0x3505cb?0x43c+0x1*0x1273+-0x1*0x16ae:0x780+-0xafe+-0x6*-0x95)<<-0x280+-0xbd2+0xe67;}['getCluster'+'edFlags'](_0x91615a,_0x29a485){return this['clusteredF'+'lags']|((_0x91615a?Math['floor'](this['shadowInte'+'nsity']*(-0x1ca6+0x1*0x44d+0x1958)):0x5*0x1cf+0x20b9+0x1*-0x29c4)&-0x8c8+0xfe1+-0x1*0x61a)<<0x1*-0xd6e+0x1bf0+-0xe82|((_0x29a485?Math['floor'](this['cookieInte'+'nsity']*(-0xdaf+0x9c6+-0x13a*-0x4)):0x2*0x7a8+0x3f*-0x91+-0x145f*-0x1)&0x1dc9+0x21a+0xc*-0x293)<<-0xcea+-0x1*-0x283+0xa6f;}['updateClus'+'terData'](_0x3a855f,_0x787ebf){const {clusteredData16:_0x37c166}=this,_0x2f909d=Mn['float2Half'];_0x3a855f&&(_0x37c166[-0x2226+-0x4a*0x8+0x2476]=_0x2f909d(Y['clamp'](this['_colorLine'+'ar'][-0x1d53*-0x1+0x6*0x41d+-0x3601]/$c,0x110b+-0x1*-0x22df+-0x5*0xa62,-0x17*-0x7ef+0x4817+0x150)),_0x37c166[-0x215c+-0xe34+-0x453*-0xb]=_0x2f909d(Y['clamp'](this['_colorLine'+'ar'][-0x232*-0xc+0x1*0x713+-0x216a]/$c,-0x78d*0x5+0x20d4+0x4ed,-0x1*-0x196cd+0x77*-0x38b+-0x470*-0x3d)),_0x37c166[-0x966*-0x3+-0x20a7+0x477]=_0x2f909d(Y['clamp'](this['_colorLine'+'ar'][-0x1*0x178f+-0xfa2+-0xdf*-0x2d]/$c,0x11ef*-0x1+0x2b*0x47+0x602,-0x10514+0x6d5+0x2b*0xbdd))),_0x787ebf&&(_0x37c166[-0x4*0x3c2+0x1*-0x1323+-0x222f*-0x1]=_0x2f909d(this['_innerCone'+'AngleCos']),_0x37c166[-0x14e6+0x1c24+-0x739]=_0x2f909d(this['_outerCone'+'AngleCos']));}}class Mv{constructor(_0x3fa8eb,_0x2e19f5,_0x2e4163){h(this,'_areaLight'+'sEnabled',!(0x203*0x4+0xd28*-0x2+0x1245)),h(this,'_cells',new D(0x1*-0x1312+-0x1b1*0x13+-0x3*-0x1115,0x2*-0x36f+-0x2*0x1169+0x29b3,0xc19+0x1e21+0x18*-0x1c2)),h(this,'_maxLights'+'PerCell',-0x18a7+0x22d*0xb+-0x1*-0x1b7),h(this,'_shadowsEn'+'abled',!(0x1daf+-0x12ea+-0xac5)),h(this,'_shadowTyp'+'e',$s),h(this,'_shadowAtl'+'asResoluti'+'on',-0x956+-0x23f6+0x17b*0x24),h(this,'_cookiesEn'+'abled',!(0xcc3+-0x3d2+-0x11e*0x8)),h(this,'_cookieAtl'+'asResoluti'+'on',-0x15a*-0x1b+0x1fdd+-0x3c5b*0x1),h(this,'debugLayer'),h(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x3fa8eb,this['_maxTextur'+'eSize']=_0x2e19f5,this['_dirtyLigh'+'tsFnc']=_0x2e4163);}['applySetti'+'ngs'](_0x2d3eb2){this['shadowsEna'+'bled']=_0x2d3eb2['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0x2d3eb2['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0x2d3eb2['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0x2d3eb2['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x2d3eb2['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0x2d3eb2['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0x2d3eb2['lightingSh'+'adowType']??this['shadowType'],_0x2d3eb2['lightingCe'+'lls']&&(this['cells']=new D(_0x2d3eb2['lightingCe'+'lls']));}set['cells'](_0xf6470a){this['_cells']['copy'](_0xf6470a);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x1ee621){this['_maxLights'+'PerCell']=Y['clamp'](_0x1ee621,-0xee5+0x2655*0x1+-0x359*0x7,0x45*-0x1+-0x12b5*-0x1+-0x5f*0x2f);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x380a74){this['_cookieAtl'+'asResoluti'+'on']=Y['clamp'](_0x380a74,-0x11*0x5f+0x511+0x32*0x7,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x35a3c7){this['_shadowAtl'+'asResoluti'+'on']=Y['clamp'](_0x35a3c7,-0x1901+-0xcca+-0x1*-0x25eb,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x231fb0){this['_shadowTyp'+'e']!==_0x231fb0&&(this['_shadowTyp'+'e']=_0x231fb0,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0xb3943b){this['_cookiesEn'+'abled']!==_0xb3943b&&(this['_cookiesEn'+'abled']=_0xb3943b,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x11dbd5){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x11dbd5&&(this['_areaLight'+'sEnabled']=_0x11dbd5,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x268922){this['_shadowsEn'+'abled']!==_0x268922&&(this['_shadowsEn'+'abled']=_0x268922,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}class xa{constructor(_0x390fed){this['morph']=_0x390fed,_0x390fed['incRefCoun'+'t'](),this['device']=_0x390fed['device'];const _0x103a69=_0x390fed['_targets']['length'];this['shader']=this['_createSha'+'der'](_0x103a69),this['_weights']=[],this['_weightMap']=new Map();for(let _0x520250=0x8bf*0x4+0x1*-0x24a1+0x1a5;_0x520250<_0x390fed['_targets']['length'];_0x520250++){const _0x2279ad=_0x390fed['_targets'][_0x520250];_0x2279ad['name']&&this['_weightMap']['set'](_0x2279ad['name'],_0x520250),this['setWeight'](_0x520250,_0x2279ad['defaultWei'+'ght']);}this['_shaderMor'+'phWeights']=new Float32Array(_0x103a69),this['_shaderMor'+'phIndex']=new Uint32Array(_0x103a69);const _0x3ac44d=(_0x5ce46e,_0x4d1495)=>(this[_0x4d1495]=_0x390fed['_createTex'+'ture'](_0x5ce46e,_0x390fed['_renderTex'+'tureFormat']),new gt({'colorBuffer':this[_0x4d1495],'depth':!(-0x1*0x225c+0x1f2e+0x32f)}));_0x390fed['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0x3ac44d('MorphRTPos','texturePos'+'itions')),_0x390fed['morphNorma'+'ls']&&(this['rtNormals']=_0x3ac44d('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x390fed['morphTextu'+'reWidth'],_0x390fed['morphTextu'+'reHeight']]);const _0x371ced=_0x390fed['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x371ced['x']*(0x3d3+-0x6d5*0x2+0x9db),_0x371ced['y']*(-0x15eb+-0x1*-0x509+0x10e6),_0x371ced['z']*(-0x13*0x19d+0x243a+-0x58f)]);const _0x2a3a86=_0x390fed['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x2a3a86['x']*(0x1ca2+-0x257c+0x4*0x237),_0x2a3a86['y']*(-0x864+0x1*0x11+0x855),_0x2a3a86['z']*(0x11ce+0x7a*0x22+-0x2200)]),this['_aabbNrmSi'+'ze']=new Float32Array([0x112b+0x1443+-0x14*0x1df,-0x217+-0x1814+0x1a2d,-0x2*-0x1271+0x178*-0x7+0x5c*-0x4a]),this['_aabbNrmMi'+'n']=new Float32Array([-(-0x40*0x9b+0x11*-0x1de+0x467f*0x1),-(-0xcdb+0x4*-0x36d+0x1a90),-(-0x1*-0x2514+-0x155a+-0xfb9)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin'),this['morphTextu'+'reId']=this['device']['scope']['resolve']('morphTextu'+'re'),this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['morphIndex']=this['device']['scope']['resolve']('morphIndex'+'[0]'),this['countId']=this['device']['scope']['resolve']('count'),this['zeroTextur'+'es']=!(0x182*-0x6+-0x111d*-0x2+-0x509*0x5);}['destroy'](){var _0x42d4a9,_0x509fb9,_0x14a182,_0x3dd6a4;this['shader']=null;const _0x54fabd=this['morph'];_0x54fabd&&(this['morph']=null,_0x54fabd['decRefCoun'+'t'](),_0x54fabd['refCount']<-0xa9b*-0x1+-0x78*-0x32+-0x1105*0x2&&_0x54fabd['destroy']()),(_0x42d4a9=this['rtPosition'+'s'])==null||_0x42d4a9['destroy'](),this['rtPosition'+'s']=null,(_0x509fb9=this['texturePos'+'itions'])==null||_0x509fb9['destroy'](),this['texturePos'+'itions']=null,(_0x14a182=this['rtNormals'])==null||_0x14a182['destroy'](),this['rtNormals']=null,(_0x3dd6a4=this['textureNor'+'mals'])==null||_0x3dd6a4['destroy'](),this['textureNor'+'mals']=null;}['clone'](){return new xa(this['morph']);}['_getWeight'+'Index'](_0x5286cd){if(typeof _0x5286cd=='string'){const _0x48e4c1=this['_weightMap']['get'](_0x5286cd);return _0x48e4c1===void(0x6*-0x47c+-0x1*0x1ee3+0xb*0x541)&&w['errorOnce']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x5286cd+'.'),_0x48e4c1;}return _0x5286cd;}['getWeight'](_0x3285d8){const _0x17476e=this['_getWeight'+'Index'](_0x3285d8);return this['_weights'][_0x17476e];}['setWeight'](_0x3fad24,_0x3134af){const _0xa1d19a=this['_getWeight'+'Index'](_0x3fad24);w['assert'](_0xa1d19a>=0x722+0x1e86+-0x25a8&&_0xa1d19a<this['morph']['_targets']['length']),this['_weights'][_0xa1d19a]=_0x3134af,this['_dirty']=!(-0x23a2+-0x122c*-0x1+-0x5*-0x37e);}['_createSha'+'der'](_0x32ecd4){const _0x395d1b=new Map();_0x395d1b['set']('{MORPH_TEX'+'TURE_MAX_C'+'OUNT}',_0x32ecd4),this['morph']['intRenderF'+'ormat']&&_0x395d1b['set']('MORPH_INT','');const _0x770598=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';return $t['createShad'+'er'](this['device'],{'uniqueName':'TextureMor'+'phShader_'+_0x32ecd4+'-'+(this['morph']['intRenderF'+'ormat']?'int':'float'),'attributes':{'vertex_position':Me},'vertexChunk':'morphVS','fragmentChunk':'morphPS','fragmentDefines':_0x395d1b,'fragmentOutputTypes':[_0x770598]});}['_updateTex'+'tureRender'+'Target'](_0xdec280,_0x354ec6,_0x23e430){const {morph:_0x360cf2,device:_0x52b3ec}=this;this['setAabbUni'+'forms'](_0x23e430),this['morphTextu'+'reId']['setValue'](_0x23e430?_0x360cf2['targetsTex'+'turePositi'+'ons']:_0x360cf2['targetsTex'+'tureNormal'+'s']),_0x52b3ec['setBlendSt'+'ate'](pt['NOBLEND']),this['countId']['setValue'](_0x354ec6),this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),this['morphIndex']['setValue'](this['_shaderMor'+'phIndex']),Ar(_0x52b3ec,_0xdec280,this['shader']);}['_updateTex'+'tureMorph'](_0x5a7df8){const _0x55b1b5=this['device'];Q['pushGpuMar'+'ker'](_0x55b1b5,'MorphUpdat'+'e'),(_0x5a7df8>0x3*-0x847+-0x13c*0x6+-0x49b*-0x7||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],_0x5a7df8,!(0x1d*0x116+0x1*-0xf7b+-0x1003)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],_0x5a7df8,!(0x1f3a+-0xb18*-0x2+-0x3569)),this['zeroTextur'+'es']=_0x5a7df8===0x65*-0x5+0x1a*-0x142+-0x1*-0x22ad),Q['popGpuMark'+'er'](_0x55b1b5);}['setAabbUni'+'forms'](_0x529320=!(0x186e+0x2297+-0x3b05)){this['aabbSizeId']['setValue'](_0x529320?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x529320?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0x131ded){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(0x233b+0xaf2+-0x2e2c);const _0xcfdecd=this['morph']['_targets'],_0x359642=0x3*-0x581+-0x212a+0x3*0x108f+0.00001,_0x5ea187=this['_shaderMor'+'phWeights'],_0x5f3a7b=this['_shaderMor'+'phIndex'];let _0x4a54b9=-0x14be+0x95c*0x2+0x206;for(let _0x21f987=0x2e*-0x44+-0x76a*0x1+0x13a2;_0x21f987<_0xcfdecd['length'];_0x21f987++)Math['abs'](this['getWeight'](_0x21f987))>_0x359642&&(_0x5ea187[_0x4a54b9]=this['getWeight'](_0x21f987),_0x5f3a7b[_0x4a54b9]=_0x21f987,_0x4a54b9++);this['_updateTex'+'tureMorph'](_0x4a54b9);}}class sr{constructor(){h(this,'graph',null),h(this,'meshInstan'+'ces',[]),h(this,'skinInstan'+'ces',[]),h(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=-0x18a8*-0x1+-0x26cf+-0xe27*-0x1,this['_immutable']=!(-0x20*-0x6c+0xb1e+-0x189d));}['getGraph'](){return this['graph'];}['setGraph'](_0x2d4f3e){this['graph']=_0x2d4f3e;}['getCameras'](){return this['cameras'];}['setCameras'](_0x19ec69){this['cameras']=_0x19ec69;}['getLights'](){return this['lights'];}['setLights'](_0x591f81){this['lights']=_0x591f81;}['getMateria'+'ls'](){const _0xe5aba4=[];for(let _0x3a4e9d=0xd*0x262+-0x11cc+0x1e2*-0x7;_0x3a4e9d<this['meshInstan'+'ces']['length'];_0x3a4e9d++){const _0x443359=this['meshInstan'+'ces'][_0x3a4e9d];_0xe5aba4['indexOf'](_0x443359['material'])===-(-0x1*-0xa93+0x23+-0xab5)&&_0xe5aba4['push'](_0x443359['material']);}return _0xe5aba4;}['clone'](){const _0x128f5c=[],_0x1fc1c3=[],_0x57bc9a=function(_0xce2ea3){const _0x28dcc3=_0xce2ea3['clone']();_0x128f5c['push'](_0xce2ea3),_0x1fc1c3['push'](_0x28dcc3);for(let _0xa4c138=-0x15*0x127+0x1c7d+-0x44a;_0xa4c138<_0xce2ea3['_children']['length'];_0xa4c138++)_0x28dcc3['addChild'](_0x57bc9a(_0xce2ea3['_children'][_0xa4c138]));return _0x28dcc3;},_0x615529=_0x57bc9a(this['graph']),_0x5681bf=[],_0x598178=[],_0x864c8d=[];for(let _0x2f6481=0x4e9*0x1+-0x350+-0x199;_0x2f6481<this['skinInstan'+'ces']['length'];_0x2f6481++){const _0x41986f=this['skinInstan'+'ces'][_0x2f6481]['skin'],_0x497ac1=new Ol(_0x41986f),_0xeb97da=[];for(let _0xb074ce=0x1*0x1fe7+0x1795+0xd4*-0x43;_0xb074ce<_0x41986f['boneNames']['length'];_0xb074ce++){const _0x9ecc2c=_0x41986f['boneNames'][_0xb074ce],_0x180511=_0x615529['findByName'](_0x9ecc2c);_0xeb97da['push'](_0x180511);}_0x497ac1['bones']=_0xeb97da,_0x598178['push'](_0x497ac1);}for(let _0x70b9ba=-0x5*0x2bd+-0x1511+0x1161*0x2;_0x70b9ba<this['morphInsta'+'nces']['length'];_0x70b9ba++){const _0x16c1f5=this['morphInsta'+'nces'][_0x70b9ba]['morph'],_0x49c554=new xa(_0x16c1f5);_0x864c8d['push'](_0x49c554);}for(let _0x2c90d6=0x146d+-0xd21+-0x74c;_0x2c90d6<this['meshInstan'+'ces']['length'];_0x2c90d6++){const _0x4cb392=this['meshInstan'+'ces'][_0x2c90d6],_0x18870b=_0x128f5c['indexOf'](_0x4cb392['node']),_0x4a4782=new He(_0x4cb392['mesh'],_0x4cb392['material'],_0x1fc1c3[_0x18870b]);if(_0x4cb392['skinInstan'+'ce']){const _0x3e1f23=this['skinInstan'+'ces']['indexOf'](_0x4cb392['skinInstan'+'ce']);_0x4a4782['skinInstan'+'ce']=_0x598178[_0x3e1f23];}if(_0x4cb392['morphInsta'+'nce']){const _0x46168d=this['morphInsta'+'nces']['indexOf'](_0x4cb392['morphInsta'+'nce']);_0x4a4782['morphInsta'+'nce']=_0x864c8d[_0x46168d];}_0x5681bf['push'](_0x4a4782);}const _0x4515ef=new sr();return _0x4515ef['graph']=_0x615529,_0x4515ef['meshInstan'+'ces']=_0x5681bf,_0x4515ef['skinInstan'+'ces']=_0x598178,_0x4515ef['morphInsta'+'nces']=_0x864c8d,_0x4515ef['getGraph']()['syncHierar'+'chy'](),_0x4515ef;}['destroy'](){const _0x538308=this['meshInstan'+'ces'];for(let _0x44e93f=-0x24a9+0x182c+0xc7d*0x1;_0x44e93f<_0x538308['length'];_0x44e93f++)_0x538308[_0x44e93f]['destroy']();this['meshInstan'+'ces']['length']=-0x13a7+0x1fa3+-0xbfc;}['generateWi'+'reframe'](){He['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],$r);}}class mm extends wd{constructor(_0x4f1038,_0x3a51a7,{preferHighPrecision:_0x42acaa=!(-0x8b*-0x1+0x1c45+-0x1ccf)}={}){super(),h(this,'_aabb'),h(this,'preferHigh'+'Precision'),(w['assert'](_0x3a51a7,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x3a51a7);const _0xaf2edf=_0x3a51a7;this['preferHigh'+'Precision']=_0x42acaa,w['assert'](_0x4f1038['every'](_0xd5cf34=>!_0xd5cf34['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x4f1038['slice']();const _0x2bc5fd=_0xaf2edf['textureHal'+'fFloatRend'+'erable']?nt:void(-0x2*0x3c+-0x210e+0x2186),_0x2a7dad=_0xaf2edf['textureFlo'+'atRenderab'+'le']?Xt:void(-0x1420+-0x63*0x17+0x1d05);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x2a7dad??_0x2bc5fd:_0x2bc5fd??_0x2a7dad,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??nd,this['intRenderF'+'ormat']=dn(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Xt:nt,this['_init'](),this['_updateMor'+'phFlags']();}['destroy'](){var _0x16531a,_0xc34b4b,_0xc54fe5;(_0x16531a=this['vertexBuff'+'erIds'])==null||_0x16531a['destroy'](),this['vertexBuff'+'erIds']=null,(_0xc34b4b=this['targetsTex'+'turePositi'+'ons'])==null||_0xc34b4b['destroy'](),this['targetsTex'+'turePositi'+'ons']=null,(_0xc54fe5=this['targetsTex'+'tureNormal'+'s'])==null||_0xc54fe5['destroy'](),this['targetsTex'+'tureNormal'+'s']=null;}get['aabb'](){if(!this['_aabb']){const _0x51014f=new D(),_0x548cce=new D();for(let _0x31dcc5=0x14bd+0x4*0x313+0x1*-0x2109;_0x31dcc5<this['_targets']['length'];_0x31dcc5++){const _0xbd2b44=this['_targets'][_0x31dcc5]['aabb'];_0x51014f['min'](_0xbd2b44['getMin']()),_0x548cce['max'](_0xbd2b44['getMax']());}this['_aabb']=new De(),this['_aabb']['setMinMax'](_0x51014f,_0x548cce);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x1814a4=0x1ea9+0x1486+-0x332f;_0x1814a4<this['_targets']['length'];_0x1814a4++)this['_targets'][_0x1814a4]['_postInit']();}['_findSpars'+'eSet'](_0x4509aa,_0x4602c6,_0x1ae965){let _0x3d14f9=-0xa1c+0x9d1*-0x3+0x2790;const _0x5f4d45=_0x4509aa[-0x2295+-0x283*0x1+0x128c*0x2]['length'];for(let _0x3b3c40=-0x2071+0x1e9e+-0x1*-0x1d3;_0x3b3c40<_0x5f4d45;_0x3b3c40+=-0x129e+-0x22c0+0x3561){let _0x36719c=!(0x26*0xcd+-0x1279+0x1*-0xbf4);for(let _0x555fff=-0x2458+0x2ae+0x21aa;_0x555fff<_0x4509aa['length'];_0x555fff++){const _0x1efe38=_0x4509aa[_0x555fff];if(_0x1efe38[_0x3b3c40]!==-0xa2*0x1f+0x3fd+0xfa1||_0x1efe38[_0x3b3c40+(0x2502*-0x1+-0x178a+0x3c8d)]!==0x218d+-0x20d+-0x1f80||_0x1efe38[_0x3b3c40+(-0x26*-0xfa+0x1f81*-0x1+-0x599)]!==-0xf*-0x1f7+-0x14c*0xc+-0xde9){_0x36719c=!(0x25ac+0x16ce+-0x3c7a);break;}}_0x36719c?(_0x4602c6['push'](_0x3d14f9),_0x1ae965['push'](_0x3b3c40/(0x833+-0xe37+0x607)),_0x3d14f9++):_0x4602c6['push'](0x9d2+0x5f3+0xfc5*-0x1);}return _0x3d14f9;}['_initTextu'+'reBased'](){const _0x11268c=[],_0x4731d2=[],_0x1dec0d=this['_targets'];for(let _0xfdd4f2=-0x140+-0x11f5*-0x1+-0x10b5*0x1;_0xfdd4f2<_0x1dec0d['length'];_0xfdd4f2++){const _0x263fc5=_0x1dec0d[_0xfdd4f2];_0x263fc5['options']['deltaPosit'+'ions']&&(_0x11268c['push'](_0x263fc5['options']['deltaPosit'+'ions']),_0x4731d2['push'](!(-0x7a*0x2c+0x26bd+-0x1*0x11c5))),_0x263fc5['options']['deltaNorma'+'ls']&&(_0x11268c['push'](_0x263fc5['options']['deltaNorma'+'ls']),_0x4731d2['push'](!(-0x5*0xf7+0x16ae+-0x11da)));}const _0x5302ac=[],_0x2038d0=[],_0x462d6f=this['_findSpars'+'eSet'](_0x11268c,_0x5302ac,_0x2038d0),_0x2c9071=this['device']['maxTexture'+'Size'];let _0x59e74f=Math['ceil'](Math['sqrt'](_0x462d6f));_0x59e74f=Math['min'](_0x59e74f,_0x2c9071);const _0x1b97f7=Math['ceil'](_0x462d6f/_0x59e74f);if(_0x1b97f7>_0x2c9071){w['warnOnce']('Morph\x20targ'+'et\x20data\x20is'+'\x20too\x20large'+'\x20to\x20fit\x20in'+'to\x20a\x20textu'+'re\x20array.\x20'+'Required\x20t'+'exture\x20siz'+'e:\x20'+_0x59e74f+'x'+_0x1b97f7+(',\x20max\x20text'+'ure\x20size:\x20')+_0x2c9071+'x'+_0x2c9071+'.');return;}this['morphTextu'+'reWidth']=_0x59e74f,this['morphTextu'+'reHeight']=_0x1b97f7;let _0x51e73b=!(0x7*-0x4a6+-0x2523+0x45ae);const _0x177c2b=Mn['float2Half'];this['_textureFo'+'rmat']===nt&&(_0x51e73b=!(-0x165*0x15+-0x11*-0x214+-0xdd*0x7));const _0x210481=[],_0x482fb3=[],_0x272751=_0x59e74f*_0x1b97f7*(0xa03+-0x6*-0x25e+-0x1833);for(let _0x3d86b9=-0x42e*0x6+0x1a83+-0x16f;_0x3d86b9<_0x11268c['length'];_0x3d86b9++){const _0xf9a880=_0x11268c[_0x3d86b9],_0x2b589e=this['_textureFo'+'rmat']===nt?new Uint16Array(_0x272751):new Float32Array(_0x272751);if((_0x4731d2[_0x3d86b9]?_0x210481:_0x482fb3)['push'](_0x2b589e),_0x51e73b)for(let _0x3c7812=-0xb80+-0x778+-0x12f8*-0x1;_0x3c7812<_0x2038d0['length'];_0x3c7812++){const _0x54c01f=_0x2038d0[_0x3c7812]*(-0xc*0x1de+-0x16d8+-0x1*-0x2d43),_0xec052a=_0x3c7812*(-0x1781+-0x1716+0x2e9b)+(-0x137c+-0xa13+-0x1*-0x1d93);_0x2b589e[_0xec052a]=_0x177c2b(_0xf9a880[_0x54c01f]),_0x2b589e[_0xec052a+(0x239*0x1+0x295*0x1+-0x4cd*0x1)]=_0x177c2b(_0xf9a880[_0x54c01f+(0x6b*0x36+0x1d*0x119+-0x4f2*0xb)]),_0x2b589e[_0xec052a+(-0x1b0f+0x1*-0x254+-0x433*-0x7)]=_0x177c2b(_0xf9a880[_0x54c01f+(0x1*0x17e1+-0x4b0+0x665*-0x3)]);}else for(let _0x1e1958=0x4*-0x323+-0xd37+0x19c3;_0x1e1958<_0x2038d0['length'];_0x1e1958++){const _0x2c04aa=_0x2038d0[_0x1e1958]*(-0x29*-0x77+-0x17e5+0x4d9),_0x8168eb=_0x1e1958*(0x10cb+0x3*-0x322+-0x761)+(0x62a+0x1846+0x2c*-0xb1);_0x2b589e[_0x8168eb]=_0xf9a880[_0x2c04aa],_0x2b589e[_0x8168eb+(0x62*-0x1e+-0xc36+0x1*0x17b3)]=_0xf9a880[_0x2c04aa+(-0x1*0x1e29+-0x7f*-0x27+0xad1)],_0x2b589e[_0x8168eb+(0x788*-0x1+-0x2*0x967+0x1a58)]=_0xf9a880[_0x2c04aa+(-0x313*0x7+-0x486*0x1+0x201*0xd)];}}_0x210481['length']>0xb*0x212+-0x83*0x3b+-0x3*-0x279&&(this['targetsTex'+'turePositi'+'ons']=this['_createTex'+'ture']('MorphPosit'+'ionsTextur'+'e',this['_textureFo'+'rmat'],_0x1dec0d['length'],[_0x210481]),this['targetsTex'+'turePositi'+'ons']['upload']()),_0x482fb3['length']>-0x1218+0x269b+0x1*-0x1483&&(this['targetsTex'+'tureNormal'+'s']=this['_createTex'+'ture']('MorphNorma'+'lsTexture',this['_textureFo'+'rmat'],_0x1dec0d['length'],[_0x482fb3]),this['targetsTex'+'tureNormal'+'s']['upload']());const _0x27d5a6=[{'semantic':Ln,'components':0x1,'type':el,'asInt':!(0xe7e+0x11*-0xd0+-0x3a*0x3)}];return this['vertexBuff'+'erIds']=new Is(this['device'],new kt(this['device'],_0x27d5a6,_0x5302ac['length']),_0x5302ac['length'],{'data':new Uint32Array(_0x5302ac)}),!(0x1*0xe9+0x7a*-0x19+0x1*0xb01);}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(-0xb54+-0x262e+0x3183),this['_morphNorm'+'als']=!(0xbb0+-0x9d2+-0x1dd);for(let _0x1719e2=-0x8ba+0xed*0x21+-0x15d3;_0x1719e2<this['_targets']['length'];_0x1719e2++){const _0x24e96f=this['_targets'][_0x1719e2];_0x24e96f['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(-0x1f0b+-0x1c*-0x125+-0x101)),_0x24e96f['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(-0x4e+0x7*-0x33d+-0x1*-0x16f9));}}['_createTex'+'ture'](_0x12049d,_0x450a74,_0x5aa2ea,_0x55f974){return new _e(this['device'],{'levels':_0x55f974,'arrayLength':_0x5aa2ea,'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x450a74,'cubemap':!(-0x49*-0x7d+-0x1bc4+-0x7e0),'mipmaps':!(-0x10*0x24e+0x2a1*-0x5+0x1903*0x2),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0x12049d});}}class Md{constructor(_0x2d0491){h(this,'used',!(-0xe04+0x1071+-0x26c)),(w['assert'](arguments['length']===0x142f*-0x1+0x36c+0x10c4),this['options']=_0x2d0491,this['_name']=_0x2d0491['name'],this['_defaultWe'+'ight']=_0x2d0491['defaultWei'+'ght']||0x1*-0x23c3+-0x1786+-0x1*-0x3b49,this['_aabb']=_0x2d0491['aabb'],this['deltaPosit'+'ions']=_0x2d0491['deltaPosit'+'ions'],this['morphPosit'+'ions']=!!_0x2d0491['deltaPosit'+'ions'],this['morphNorma'+'ls']=!!_0x2d0491['deltaNorma'+'ls']);}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new De(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}['clone'](){return w['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Md(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(0x1eff+0x1d67+-0x3c66);}}let Ei,Z_=0x23bb*0x1+0x1f*0xf1+0x3*-0x15a3;const ce=0x1c59+0x13*-0x1c1+0x6*0xd5,mf=new te(),_f=new te(),ti=new D(),tt=new D(),Ns=new D(),Na=new D(),ns=new D(),_t=new D(),ka=new D(),Ua=new D(),fo=new D(),Q_=new D(),zt=new D(),fc=new D(),kr=new D();function pn(_0x1d03c1){return _0x1d03c1-Math['floor'](_0x1d03c1);}function fA(_0x3f3097){return Math['max'](Math['min'](_0x3f3097,0x1dd9+0x1889+-0x3661),0x3*0xbbd+-0x14b5+0x26b*-0x6);}function gf(_0x2de95f,_0x570c8a){return _0x2de95f-_0x570c8a*Math['floor'](_0x2de95f/_0x570c8a);}function uA(_0x81ed5a){let _0x31297c=pn(_0x81ed5a),_0x39bf5e=pn((0x5*0x5a8+0x6b*0x4+0x1cf5*-0x1)*_0x81ed5a),_0x508e9a=pn((-0x919d+0x8f1c+0x10082)*_0x81ed5a),_0x3aee43=pn((0x115*0xe1713+0x16*-0x121b92+0x1079481*-0x4)*_0x81ed5a);return _0x31297c-=_0x39bf5e/(-0x24b9+-0x1138+-0x1*-0x36f0),_0x39bf5e-=_0x508e9a/(-0x76b+0x15*0x13b+-0x116d*0x1),_0x508e9a-=_0x3aee43/(-0xfa5+-0x23bb*0x1+0x345f),_0x3aee43-=_0x3aee43/(-0xcde+0xb1+0xd2c),[_0x31297c,_0x39bf5e,_0x508e9a,_0x3aee43];}function uc(_0x1082ac){let _0x6b7de1=pn(_0x1082ac),_0x5f0908=pn((-0x1*0x26ed+-0x940+0x312c)*_0x1082ac);return _0x6b7de1-=_0x5f0908/(0x26e3+-0x5*-0x6d3+-0xf*0x4cd),_0x5f0908-=_0x5f0908/(-0x163f+0x1*-0x269a+0x4*0xf76),[_0x6b7de1,_0x5f0908];}class pA{constructor(_0x59591e){this['_emitter']=_0x59591e;}['calcSpawnP'+'osition'](_0x398e39,_0x20965b,_0xf23dc0,_0x352c3a,_0x1c78e0){const _0x159c62=this['_emitter'],_0x195084=Math['random'](),_0x3e831b=Math['random'](),_0x28fafe=Math['random'](),_0x5f383e=Math['random']();if(_0x159c62['useCpu']&&(_0x398e39[_0x1c78e0*ce+(-0xcb8+-0x1618+-0x8b4*-0x4)+_0x159c62['numParticl'+'esPot']*(-0xe1a+0x6*0x451+-0xbca)*ce]=_0x195084,_0x398e39[_0x1c78e0*ce+(0xc19+-0x112e+-0x3e*-0x15)+_0x159c62['numParticl'+'esPot']*(0x3*0x419+-0x161*-0x7+0x15f0*-0x1)*ce]=_0x3e831b,_0x398e39[_0x1c78e0*ce+(-0x1*0x121d+0x19fd+0x7de*-0x1)+_0x159c62['numParticl'+'esPot']*(-0x178d+-0x7*0x107+0x290*0xc)*ce]=_0x28fafe),tt['x']=_0x195084-(0x1fb0+0x2183+-0x4133+0.5),tt['y']=_0x3e831b-(0x65b+0x1a36+0x15*-0x18d+0.5),tt['z']=_0x28fafe-(-0x23f2+0x1eb*-0xa+0x3720+0.5),_0x159c62['emitterSha'+'pe']===ai){const _0x320228=Math['max'](Math['abs'](tt['x']),Math['max'](Math['abs'](tt['y']),Math['abs'](tt['z']))),_0x4a7285=_0x320228+(0x1*0x755+0x68c*0x4+-0x1*0x2185+0.5-_0x320228)*_0xf23dc0[0x67*-0x61+0xb69+-0x2*-0xdcf],_0x278f6a=_0x320228+(-0xb3c*0x2+0x21d6+-0xb5e+0.5-_0x320228)*_0xf23dc0[-0x208d*-0x1+-0x62f*-0x6+-0x45a6],_0x3dd6fe=_0x320228+(-0x1fc4+-0x7f1+-0x27b5*-0x1+0.5-_0x320228)*_0xf23dc0[0x14e*-0x13+-0x1fe0+-0x7c*-0x75];tt['x']=_0x4a7285*(_0x320228===Math['abs'](tt['x'])?Math['sign'](tt['x']):(-0x1189*-0x2+-0xc72+-0x169e)*tt['x']),tt['y']=_0x278f6a*(_0x320228===Math['abs'](tt['y'])?Math['sign'](tt['y']):(0x1*0x1f73+0x4*0x598+-0x35d1)*tt['y']),tt['z']=_0x3dd6fe*(_0x320228===Math['abs'](tt['z'])?Math['sign'](tt['z']):(0x1018+0x1*-0xa6f+-0x5a7)*tt['z']),_0x159c62['localSpace']?ti['copy'](_0x20965b['transformP'+'oint'](tt)):ti['copy'](_0x352c3a)['add'](_0x20965b['transformP'+'oint'](tt));}else{tt['normalize']();const _0x5ce8e8=_0x159c62['emitterRad'+'ius']===-0x15fb+0x3a0+0x125b*0x1?-0x8ab+-0x1f*-0xbe+-0xe57:_0x159c62['emitterRad'+'iusInner']/_0x159c62['emitterRad'+'ius'],_0x502984=_0x5f383e*(-0xd8d*0x1+-0xd9*0x1d+0x2623-_0x5ce8e8)+_0x5ce8e8;_0x159c62['localSpace']?ti['copy'](tt['mulScalar'](_0x502984*_0x159c62['emitterRad'+'ius'])):ti['copy'](_0x352c3a)['add'](tt['mulScalar'](_0x502984*_0x159c62['emitterRad'+'ius']));}let _0x38e238=-Y['lerp'](_0x159c62['rate'],_0x159c62['rate2'],_0x195084)*_0x1c78e0;if(_0x159c62['pack8']){const _0x2a68cb=(ti['x']-_0x159c62['worldBound'+'s']['center']['x'])/_0x159c62['worldBound'+'sSize']['x']+(0x2*0x84d+-0x2*-0x181+-0x139c+0.5),_0x620084=(ti['y']-_0x159c62['worldBound'+'s']['center']['y'])/_0x159c62['worldBound'+'sSize']['y']+(0x906+-0x10a8*0x1+0x1*0x7a2+0.5),_0x5b1fff=(ti['z']-_0x159c62['worldBound'+'s']['center']['z'])/_0x159c62['worldBound'+'sSize']['z']+(-0x5f1*-0x3+-0xc42+-0x19*0x39+0.5);let _0x348586=Y['lerp'](_0x159c62['startAngle']*Y['DEG_TO_RAD'],_0x159c62['startAngle'+'2']*Y['DEG_TO_RAD'],_0x195084);_0x348586=_0x348586%(Math['PI']*(0x1*0x11d2+-0x24ef+0x3d3*0x5))/(Math['PI']*(-0x1*0x398+0x17ef*0x1+-0x3*0x6c7));const _0x4b0f90=uc(_0x2a68cb);_0x398e39[_0x1c78e0*ce]=_0x4b0f90[0x28b*0x3+0x1723+0x16*-0x166],_0x398e39[_0x1c78e0*ce+(0xdd5+-0xbee+0xa2*-0x3)]=_0x4b0f90[-0x21af*-0x1+0x7*0x4ae+0x84e*-0x8];const _0x3054c5=uc(_0x620084);_0x398e39[_0x1c78e0*ce+(-0x12c0+-0x16a0+0x2962)]=_0x3054c5[0x5*-0x337+0x2*-0x1003+0x3019],_0x398e39[_0x1c78e0*ce+(0x1*0xfba+-0x7*0x46f+0x1*0xf52)]=_0x3054c5[0x3b4+0x1*0xc61+-0x1014];const _0x15c3f8=uc(_0x5b1fff);_0x398e39[_0x1c78e0*ce+(0x1*0x21d9+0x6*-0x492+-0x149*0x5)+_0x159c62['numParticl'+'esPot']*ce]=_0x15c3f8[0x2023+-0x1*0x62e+-0x19f5],_0x398e39[_0x1c78e0*ce+(0x4ed+-0x251d+0x2031)+_0x159c62['numParticl'+'esPot']*ce]=_0x15c3f8[0x153d*0x1+-0x1*-0x119d+-0x11*0x249];const _0x2dc98e=uc(_0x348586);_0x398e39[_0x1c78e0*ce+(-0x1*-0x1bf+0x2114+-0x22d1)+_0x159c62['numParticl'+'esPot']*ce]=_0x2dc98e[0x1ed2+-0x20*-0x13+-0x4be*0x7],_0x398e39[_0x1c78e0*ce+(-0xd*0x2d3+0x1e0b+0x6af*0x1)+_0x159c62['numParticl'+'esPot']*ce]=_0x2dc98e[0x20ae+0x110*-0x13+0x17*-0x8b];const _0x2c01ac=0x2*-0x782+-0xc*0x1c+0x71*0x25;_0x398e39[_0x1c78e0*ce+(0x20e1+0x1*-0x18e+-0x1f50)+_0x159c62['numParticl'+'esPot']*ce*(-0xa88*-0x2+-0x1371+-0x1*0x19d)]=_0x2c01ac;const _0x1d6417=Math['max'](_0x159c62['lifetime'],(_0x159c62['numParticl'+'es']-(0x204a+0x11*0x8b+-0x1*0x2984))*Math['max'](_0x159c62['rate'],_0x159c62['rate2'])),_0x2b9aa9=_0x159c62['lifetime']+(0x4*0x21d+-0x21*0x52+-0x1*-0x21f);_0x38e238=(_0x38e238+_0x1d6417)/(_0x1d6417+_0x2b9aa9);const _0x14c771=uA(_0x38e238);_0x398e39[_0x1c78e0*ce+(-0xbfb+0x1a*-0x150+-0x13f*-0x25)+_0x159c62['numParticl'+'esPot']*ce*(0x15da+-0x2075+0xa9e)]=_0x14c771[-0x182f+0x1*0x24c2+-0xc93],_0x398e39[_0x1c78e0*ce+(0x80e+0x9e*-0x2+-0x6d1)+_0x159c62['numParticl'+'esPot']*ce*(-0x16e2+0x1*0x691+0x1054)]=_0x14c771[0x1c*-0x95+0x14*-0x3e+0x1525],_0x398e39[_0x1c78e0*ce+(-0xb*0x73+-0x2010+0x1*0x2503)+_0x159c62['numParticl'+'esPot']*ce*(-0x1*0x606+-0x1*-0x1f45+-0x193c)]=_0x14c771[-0x50e+-0x12d9+-0x1*-0x17e9],_0x398e39[_0x1c78e0*ce+(-0xbb8+0x1fe9+0xa17*-0x2)+_0x159c62['numParticl'+'esPot']*ce*(-0xe15+0x1eed+-0x1*0x10d5)]=_0x14c771[-0x3*0x6f0+0x15*-0x19b+-0xd*-0x432];}else _0x398e39[_0x1c78e0*ce]=ti['x'],_0x398e39[_0x1c78e0*ce+(0x17fb+0x8*-0x1c1+0x26*-0x43)]=ti['y'],_0x398e39[_0x1c78e0*ce+(-0x21*-0xbc+0x290*0x4+0x1*-0x227a)]=ti['z'],_0x398e39[_0x1c78e0*ce+(0x79*-0x8+-0x23d7+0x26*0x10b)]=Y['lerp'](_0x159c62['startAngle']*Y['DEG_TO_RAD'],_0x159c62['startAngle'+'2']*Y['DEG_TO_RAD'],_0x195084),_0x398e39[_0x1c78e0*ce+(0x1ace+0x1*0x1615+-0x30e0)+_0x159c62['numParticl'+'esPot']*ce]=_0x38e238;}['update'](_0x20b0e2,_0x198071,_0x487f85,_0x5cd114,_0xa56c88,_0x43dae3,_0x47608a,_0x348c19){let _0x2ba1bd,_0x358118,_0xdfbdf5;const _0x2d8fdc=this['_emitter'];if(_0x2d8fdc['meshInstan'+'ce']['node']){const _0x104623=_0x2d8fdc['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x48d776=-0x8d1+0x2675+-0x1da4;_0x48d776<-0x6e1+0x1bd6+-0x14e9;_0x48d776++)mf['data'][_0x48d776]=_0x104623['data'][_0x48d776];_f['copy'](mf),_f['invert'](),Ei=_0x2d8fdc['meshInstan'+'ce']['node']['localScale'],Z_=Math['max'](Math['max'](Ei['x'],Ei['y']),Ei['z']);}_0x43dae3=_0x2d8fdc['meshInstan'+'ce']['node']===null||_0x2d8fdc['localSpace']?D['ZERO']:_0x2d8fdc['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x53036a=_0x2d8fdc['camera']?_0x2d8fdc['camera']['_node']['getPositio'+'n']():D['ZERO'],_0x5993d0=_0x2d8fdc['useMesh']?-0x139b+-0xc0f+0x1fbb:0x1ee3+0x3c4*-0x8+-0xb4;let _0x2841b1,_0x4d1725,_0x5f592e,_0x3d8b60,_0x588165,_0x33595b,_0x41b278,_0x3c0d87,_0x389728;const _0x71c97a=_0x2d8fdc['precision']-(0x195a+0x1d7+0x570*-0x5);for(let _0x1aa074=0x2cd*-0xd+-0x1*-0x27e+0x21eb;_0x1aa074<_0x2d8fdc['numParticl'+'es'];_0x1aa074++){const _0xf6f86b=Math['floor'](_0x2d8fdc['vbCPU'][_0x1aa074*_0x2d8fdc['numParticl'+'eVerts']*(_0x2d8fdc['useMesh']?0x1*-0x2653+0x1*-0x1576+0x3bcf:-0x572+0x1c9a+-0xb92*0x2)+(0x5f*0x3f+-0xfc7+0x1d*-0x43)]),_0x24d703=_0x487f85[_0xf6f86b*ce+(0x7*0x248+0xb*-0x3e+-0xd4e)+_0x2d8fdc['numParticl'+'esPot']*(-0x19*0x9e+0x2d4*0x6+0x4*-0x62)*ce];Ns['x']=_0x24d703,Ns['y']=_0x487f85[_0xf6f86b*ce+(0x17*0x11+0xf4e+-0x10d4)+_0x2d8fdc['numParticl'+'esPot']*(0x1f96+0x1c04+0x1*-0x3b98)*ce],Ns['z']=_0x487f85[_0xf6f86b*ce+(-0x169*-0xf+0x1*-0x10cf+-0x456)+_0x2d8fdc['numParticl'+'esPot']*(0x3a1*-0x1+0x1e34+-0x1a91)*ce];const _0x4b6e61=_0x2d8fdc['rate']+(_0x2d8fdc['rate2']-_0x2d8fdc['rate'])*_0x24d703,_0x84dacc=_0x2d8fdc['lifetime'];let _0x3fd19c=_0x487f85[_0xf6f86b*ce+(0x180e+-0x8b0+-0x1*0xf5b)+_0x2d8fdc['numParticl'+'esPot']*ce]+_0x47608a;const _0x587d57=fA(_0x3fd19c/_0x84dacc);let _0x274a95=-0xfac+0x4a7*-0x1+0x1453,_0x1c5c3b=0x18b6+-0x79f*-0x3+-0x2f93*0x1;const _0x313671=0xd76+0x86f+-0x15e5;(_0x3fd19c-_0x47608a<=0x1d34*0x1+0xf8*-0x12+0x2*-0x5e2||_0x3fd19c>=_0x84dacc)&&this['calcSpawnP'+'osition'](_0x487f85,_0x5cd114,_0xa56c88,_0x43dae3,_0xf6f86b);let _0x17b9a1=_0x3fd19c>-0x1*0x144b+-0x1*-0xd1+-0x115*-0x12&&_0x3fd19c<_0x84dacc;_0x17b9a1&&(_0xdfbdf5=_0x587d57*_0x71c97a,_0x2841b1=Math['floor'](_0xdfbdf5),_0x4d1725=Math['ceil'](_0xdfbdf5),_0xdfbdf5%=0xb46+0x2*0xcf7+-0x2533,_0x2ba1bd=_0x2d8fdc['qRotSpeed'][_0x2841b1],_0x358118=_0x2d8fdc['qRotSpeed'][_0x4d1725],_0x5f592e=_0x2ba1bd+(_0x358118-_0x2ba1bd)*_0xdfbdf5,_0x2ba1bd=_0x2d8fdc['qRotSpeed2'][_0x2841b1],_0x358118=_0x2d8fdc['qRotSpeed2'][_0x4d1725],_0x3d8b60=_0x2ba1bd+(_0x358118-_0x2ba1bd)*_0xdfbdf5,_0x2ba1bd=_0x2d8fdc['qScale'][_0x2841b1],_0x358118=_0x2d8fdc['qScale'][_0x4d1725],_0x274a95=_0x2ba1bd+(_0x358118-_0x2ba1bd)*_0xdfbdf5,_0x2ba1bd=_0x2d8fdc['qScale2'][_0x2841b1],_0x358118=_0x2d8fdc['qScale2'][_0x4d1725],_0x588165=_0x2ba1bd+(_0x358118-_0x2ba1bd)*_0xdfbdf5,_0x2ba1bd=_0x2d8fdc['qAlpha'][_0x2841b1],_0x358118=_0x2d8fdc['qAlpha'][_0x4d1725],_0x33595b=_0x2ba1bd+(_0x358118-_0x2ba1bd)*_0xdfbdf5,_0x2ba1bd=_0x2d8fdc['qAlpha2'][_0x2841b1],_0x358118=_0x2d8fdc['qAlpha2'][_0x4d1725],_0x41b278=_0x2ba1bd+(_0x358118-_0x2ba1bd)*_0xdfbdf5,_0x2ba1bd=_0x2d8fdc['qRadialSpe'+'ed'][_0x2841b1],_0x358118=_0x2d8fdc['qRadialSpe'+'ed'][_0x4d1725],_0x3c0d87=_0x2ba1bd+(_0x358118-_0x2ba1bd)*_0xdfbdf5,_0x2ba1bd=_0x2d8fdc['qRadialSpe'+'ed2'][_0x2841b1],_0x358118=_0x2d8fdc['qRadialSpe'+'ed2'][_0x4d1725],_0x389728=_0x2ba1bd+(_0x358118-_0x2ba1bd)*_0xdfbdf5,_0x3c0d87+=(_0x389728-_0x3c0d87)*(_0x24d703*(0x1298+-0x1*0x8d3+-0x961)%(0xfec*0x1+-0x3e5+0x12*-0xab)),Na['x']=_0x487f85[_0xf6f86b*ce],Na['y']=_0x487f85[_0xf6f86b*ce+(-0x10c4+0xe9e+0x227)],Na['z']=_0x487f85[_0xf6f86b*ce+(-0x2479*0x1+0x1*-0x215b+0x45d6)],_0x2d8fdc['localSpace']?fo['copy'](Na):fo['copy'](Na)['sub'](_0x43dae3),fo['normalize']()['mulScalar'](_0x3c0d87),_0x2841b1*=0x1*-0x10d2+0x4*-0x2db+0x1c41,_0x4d1725*=-0x1f*0x31+-0x2*-0x72a+0x1d*-0x4a,_0x2ba1bd=_0x2d8fdc['qLocalVelo'+'city'][_0x2841b1],_0x358118=_0x2d8fdc['qLocalVelo'+'city'][_0x4d1725],_t['x']=_0x2ba1bd+(_0x358118-_0x2ba1bd)*_0xdfbdf5,_0x2ba1bd=_0x2d8fdc['qLocalVelo'+'city'][_0x2841b1+(-0x19e3+0x200+0x2*0xbf2)],_0x358118=_0x2d8fdc['qLocalVelo'+'city'][_0x4d1725+(-0x167a+-0xe2b+0x1*0x24a6)],_t['y']=_0x2ba1bd+(_0x358118-_0x2ba1bd)*_0xdfbdf5,_0x2ba1bd=_0x2d8fdc['qLocalVelo'+'city'][_0x2841b1+(-0x1843*0x1+0xa3*0x2+-0x1*-0x16ff)],_0x358118=_0x2d8fdc['qLocalVelo'+'city'][_0x4d1725+(0x1715+-0x2224+0xb11*0x1)],_t['z']=_0x2ba1bd+(_0x358118-_0x2ba1bd)*_0xdfbdf5,_0x2ba1bd=_0x2d8fdc['qLocalVelo'+'city2'][_0x2841b1],_0x358118=_0x2d8fdc['qLocalVelo'+'city2'][_0x4d1725],Ua['x']=_0x2ba1bd+(_0x358118-_0x2ba1bd)*_0xdfbdf5,_0x2ba1bd=_0x2d8fdc['qLocalVelo'+'city2'][_0x2841b1+(0x3c9+0x1ab7+-0x1e7f)],_0x358118=_0x2d8fdc['qLocalVelo'+'city2'][_0x4d1725+(0x4d1*0x4+0x128*-0x1+-0x39f*0x5)],Ua['y']=_0x2ba1bd+(_0x358118-_0x2ba1bd)*_0xdfbdf5,_0x2ba1bd=_0x2d8fdc['qLocalVelo'+'city2'][_0x2841b1+(-0x281*-0x2+0x8b6+-0x15f*0xa)],_0x358118=_0x2d8fdc['qLocalVelo'+'city2'][_0x4d1725+(0x1*-0x1242+0xa40+0x804)],Ua['z']=_0x2ba1bd+(_0x358118-_0x2ba1bd)*_0xdfbdf5,_0x2ba1bd=_0x2d8fdc['qVelocity'][_0x2841b1],_0x358118=_0x2d8fdc['qVelocity'][_0x4d1725],ns['x']=_0x2ba1bd+(_0x358118-_0x2ba1bd)*_0xdfbdf5,_0x2ba1bd=_0x2d8fdc['qVelocity'][_0x2841b1+(0x48b*-0x3+-0x1f33+0x2cd5*0x1)],_0x358118=_0x2d8fdc['qVelocity'][_0x4d1725+(0x1956+0x3*0x8f5+0xd*-0x404)],ns['y']=_0x2ba1bd+(_0x358118-_0x2ba1bd)*_0xdfbdf5,_0x2ba1bd=_0x2d8fdc['qVelocity'][_0x2841b1+(-0xc48*0x1+0x372+0x8d8)],_0x358118=_0x2d8fdc['qVelocity'][_0x4d1725+(0x1*-0x17d2+-0x2203+-0x39d7*-0x1)],ns['z']=_0x2ba1bd+(_0x358118-_0x2ba1bd)*_0xdfbdf5,_0x2ba1bd=_0x2d8fdc['qVelocity2'][_0x2841b1],_0x358118=_0x2d8fdc['qVelocity2'][_0x4d1725],ka['x']=_0x2ba1bd+(_0x358118-_0x2ba1bd)*_0xdfbdf5,_0x2ba1bd=_0x2d8fdc['qVelocity2'][_0x2841b1+(-0x1d7*-0xb+-0x1f9c+0xb60)],_0x358118=_0x2d8fdc['qVelocity2'][_0x4d1725+(0x21d*-0x1+0x6*0x1c5+-0x8*0x110)],ka['y']=_0x2ba1bd+(_0x358118-_0x2ba1bd)*_0xdfbdf5,_0x2ba1bd=_0x2d8fdc['qVelocity2'][_0x2841b1+(-0x18a3*-0x1+-0x1caf+0xad*0x6)],_0x358118=_0x2d8fdc['qVelocity2'][_0x4d1725+(-0xf00+0x145a+0x2*-0x2ac)],ka['z']=_0x2ba1bd+(_0x358118-_0x2ba1bd)*_0xdfbdf5,_t['x']+=(Ua['x']-_t['x'])*Ns['x'],_t['y']+=(Ua['y']-_t['y'])*Ns['y'],_t['z']+=(Ua['z']-_t['z'])*Ns['z'],_0x2d8fdc['initialVel'+'ocity']>-0x206b+-0x1164+0x31cf&&(_0x2d8fdc['emitterSha'+'pe']===zw?(tt['copy'](Ns)['mulScalar'](0x1*-0x128a+0x125*0xf+-0x1*-0x161)['sub'](D['ONE'])['normalize'](),_t['add'](tt['mulScalar'](_0x2d8fdc['initialVel'+'ocity']))):_t['add'](D['FORWARD']['mulScalar'](_0x2d8fdc['initialVel'+'ocity']))),ns['x']+=(ka['x']-ns['x'])*Ns['x'],ns['y']+=(ka['y']-ns['y'])*Ns['y'],ns['z']+=(ka['z']-ns['z'])*Ns['z'],_0x5f592e+=(_0x3d8b60-_0x5f592e)*Ns['y'],_0x274a95=(_0x274a95+(_0x588165-_0x274a95)*(_0x24d703*(-0x3b71*-0x1+-0x3*0x3ad+-0x2*0x4ad)%(0x2*0xb47+0x525+-0x2c5*0xa)))*Z_,_0x1c5c3b=(_0x41b278-_0x33595b)*(_0x24d703*(-0xa3*0x19+0xbf*-0x2+-0x3*-0x71b)%(-0xa57*-0x1+-0x269d+-0x17d*-0x13)),_0x2d8fdc['meshInstan'+'ce']['node']&&(_0x2d8fdc['localSpace']?(_t['x']/=Ei['x'],_t['y']/=Ei['y'],_t['z']/=Ei['z']):mf['transformP'+'oint'](_t,_t)),_0x2d8fdc['localSpace']?(_f['transformP'+'oint'](ns,ns),_t['add'](ns)['add'](fo)):(_t['add'](ns['mul'](Ei)),_t['add'](fo['mul'](Ei))),fc['copy'](_t),Q_['copy'](Na)['add'](_t['mulScalar'](_0x47608a)),zt['copy'](Q_),_0x487f85[_0xf6f86b*ce]=zt['x'],_0x487f85[_0xf6f86b*ce+(0x1b40+-0x12f8+-0x847)]=zt['y'],_0x487f85[_0xf6f86b*ce+(-0x1ea5+0x2220+-0x379)]=zt['z'],_0x487f85[_0xf6f86b*ce+(0x1104+0x7*0x7f+-0xa3d*0x2)]+=_0x5f592e*_0x47608a,_0x2d8fdc['wrap']&&_0x2d8fdc['wrapBounds']&&(_0x2d8fdc['localSpace']||zt['sub'](_0x43dae3),zt['x']=gf(zt['x'],_0x2d8fdc['wrapBounds']['x'])-_0x2d8fdc['wrapBounds']['x']*(-0x720+-0x4af*-0x6+-0x14fa+0.5),zt['y']=gf(zt['y'],_0x2d8fdc['wrapBounds']['y'])-_0x2d8fdc['wrapBounds']['y']*(-0x4f*0x56+0x1197+0x8f3+0.5),zt['z']=gf(zt['z'],_0x2d8fdc['wrapBounds']['z'])-_0x2d8fdc['wrapBounds']['z']*(0x19*0x173+-0x217d+0x27*-0x12+0.5),_0x2d8fdc['localSpace']||zt['add'](_0x43dae3)),_0x2d8fdc['sort']>-0x2*-0xe9e+-0x1567+-0x7d5&&(_0x2d8fdc['sort']===-0x493+-0x16b9+-0xf1*-0x1d?(kr['copy'](zt)['sub'](_0x53036a),_0x2d8fdc['particleDi'+'stance'][_0xf6f86b]=-(kr['x']*kr['x']+kr['y']*kr['y']+kr['z']*kr['z'])):_0x2d8fdc['sort']===-0x20c5+-0xfc1+-0x3088*-0x1?_0x2d8fdc['particleDi'+'stance'][_0xf6f86b]=_0x3fd19c:_0x2d8fdc['sort']===0x1*0x1b61+0xb*0x53+-0x1eef&&(_0x2d8fdc['particleDi'+'stance'][_0xf6f86b]=-_0x3fd19c))),_0x348c19?_0x3fd19c<-0x1c5*0x12+-0x1d06+0x3ce0&&(_0x487f85[_0xf6f86b*ce+(-0x10d*-0x25+0x845+0x1*-0x2f23)+_0x2d8fdc['numParticl'+'esPot']*(-0x72a*0x5+0x1*0x23da+-0x6)*ce]=-(-0x6c5*0x5+0x151+0x2089)):(_0x3fd19c>=_0x84dacc&&(_0x3fd19c-=Math['max'](_0x84dacc,(_0x2d8fdc['numParticl'+'es']-(-0x165d+0x1328+-0x336*-0x1))*_0x4b6e61),_0x487f85[_0xf6f86b*ce+(-0x2*0x1e1+-0x491*-0x5+0x988*-0x2)+_0x2d8fdc['numParticl'+'esPot']*(0x7*-0x6+-0x1*-0x1192+-0x1166)*ce]=_0x2d8fdc['loop']?0x1*-0x1166+-0x4ef*-0x5+0x1e*-0x3e:-(-0x24*0x16+0x322*-0x2+0x33*0x2f)),_0x3fd19c<0x37b*0x3+-0x17d7+0x5*0x2ae&&_0x2d8fdc['loop']&&(_0x487f85[_0xf6f86b*ce+(0x42*-0x4f+-0xe81+-0x2*-0x1171)+_0x2d8fdc['numParticl'+'esPot']*(-0x4d7+0x2223*0x1+0x1*-0x1d4a)*ce]=0x5*-0xdd+0x10f1*0x1+0x9*-0x167)),_0x487f85[_0xf6f86b*ce+(0x6be+-0x2054+0x1*0x1999)+_0x2d8fdc['numParticl'+'esPot']*(-0xed1*0x2+-0x4c*0x13+0x2348*0x1)*ce]<0x39a*0x3+-0x3*0x8ad+-0x9*-0x1b1&&(_0x17b9a1=!(-0x9fc+-0x1407+0x1e04)),_0x487f85[_0xf6f86b*ce+(0x1*-0x5f9+0x147*-0x9+0x117b)+_0x2d8fdc['numParticl'+'esPot']*ce]=_0x3fd19c;for(let _0x386a8c=0x2*-0x53b+-0x1f66+0x29dc;_0x386a8c<_0x2d8fdc['numParticl'+'eVerts'];_0x386a8c++){const _0xd86f8f=(_0x1aa074*_0x2d8fdc['numParticl'+'eVerts']+_0x386a8c)*(_0x2d8fdc['useMesh']?-0x110b+0x235+0xedc:-0x21ca+0x768+-0x2*-0xd33);let _0x2fe013=_0x2d8fdc['vbCPU'][_0xd86f8f],_0xcaef2b=_0x2d8fdc['vbCPU'][_0xd86f8f+(0x33f+-0xf*-0x21b+-0x6f7*0x5)],_0x7c8227=_0x2d8fdc['vbCPU'][_0xd86f8f+(-0xb96+0x969*-0x1+0x1501*0x1)];_0x17b9a1||(_0x2fe013=_0xcaef2b=_0x7c8227=0x39a+-0xa42+0x6a8);const _0x5b0495=_0x1aa074*_0x2d8fdc['numParticl'+'eVerts']*_0x5993d0+_0x386a8c*_0x5993d0;_0x20b0e2[_0x5b0495]=zt['x'],_0x20b0e2[_0x5b0495+(-0x27*-0x13+0x23c*0x6+-0x104c)]=zt['y'],_0x20b0e2[_0x5b0495+(-0x20*-0x1f+0x749+-0xb27)]=zt['z'],_0x20b0e2[_0x5b0495+(0x1a*-0xed+0x1dd*0x13+-0x8a*0x15)]=_0x587d57,_0x20b0e2[_0x5b0495+(-0xef*0x18+-0x2082+0x36ee)]=_0x2d8fdc['alignToMot'+'ion']?_0x313671:_0x487f85[_0xf6f86b*ce+(0x2536+-0x1d45+-0x7ee)],_0x20b0e2[_0x5b0495+(-0x1*-0x26d6+-0x17e4+-0xeed*0x1)]=_0x274a95,_0x20b0e2[_0x5b0495+(-0xe82+0x1*0xed7+0x4f*-0x1)]=_0x1c5c3b,_0x20b0e2[_0x5b0495+(0x237b+0x37a+-0x42*0x97)]=fc['x'],_0x20b0e2[_0x5b0495+(-0x2608+-0x39b*0x2+-0x3d*-0xbe)]=_0x2fe013,_0x20b0e2[_0x5b0495+(0x1*-0xff7+-0x9fc+-0xcfe*-0x2)]=_0xcaef2b,_0x20b0e2[_0x5b0495+(0x1*0x1540+-0x49f*0x1+-0x1097)]=_0x7c8227,_0x20b0e2[_0x5b0495+(-0x3d1*-0x1+-0x2*-0x8e+0x2*-0x271)]=fc['y'],_0x20b0e2[_0x5b0495+(0xd09*0x2+-0x197b+-0x8b)]=_0xf6f86b,_0x20b0e2[_0x5b0495+(0x47*-0x8a+0x191d+0xd36)]=fc['z'],_0x20b0e2[_0x5b0495+(0xe36+0x1344*-0x1+0x51c)]=_0x2d8fdc['vbCPU'][_0xd86f8f+(-0x150d+0x471*-0x2+0x1df2)],_0x2d8fdc['useMesh']&&(_0x20b0e2[_0x5b0495+(-0x16f5+-0x8ef+-0x1ff3*-0x1)]=_0x2d8fdc['vbCPU'][_0xd86f8f+(0x1930*0x1+0x1a3e+0x1*-0x336a)],_0x20b0e2[_0x5b0495+(-0x6d*0x47+0xb9e*0x2+0x1*0x70f)]=_0x2d8fdc['vbCPU'][_0xd86f8f+(-0x1*0x2709+0x1802*-0x1+0x3f10)]);}}if(_0x2d8fdc['sort']>nu&&_0x2d8fdc['camera']){const _0x3a3d2a=_0x2d8fdc['useMesh']?0x4e1*0x5+0x1*-0xdc7+-0xa98:-0x1660+-0x238a*0x1+0x1*0x39ee,_0x48ec0d=_0x2d8fdc['particleDi'+'stance'];for(let _0x39db69=-0x4*0x65c+0x10aa+0x8c6;_0x39db69<_0x2d8fdc['numParticl'+'es'];_0x39db69++)_0x198071[_0x39db69][-0xc1*0x33+0x1*-0x253f+0x4bb2]=_0x39db69,_0x198071[_0x39db69][-0x1279+-0x11*-0x1c1+-0xb57]=_0x48ec0d[Math['floor'](_0x2d8fdc['vbCPU'][_0x39db69*_0x2d8fdc['numParticl'+'eVerts']*_0x3a3d2a+(-0xaf4+0x41b*-0x1+0xf12)])];_0x2d8fdc['vbOld']['set'](_0x2d8fdc['vbCPU']),_0x198071['sort']((_0x5ef792,_0x20fc5c)=>_0x5ef792[-0x1a50+0x5c*-0x18+-0x5*-0x6fd]-_0x20fc5c[0x7db+-0x9dd+0x203]);for(let _0x45d55a=-0x1*0x1487+0x977*-0x4+-0x3a63*-0x1;_0x45d55a<_0x2d8fdc['numParticl'+'es'];_0x45d55a++){const _0x8e0d12=_0x198071[_0x45d55a][0x39d+-0x1*-0x1765+-0x1b02]*_0x2d8fdc['numParticl'+'eVerts']*_0x3a3d2a,_0xf15532=_0x45d55a*_0x2d8fdc['numParticl'+'eVerts']*_0x3a3d2a;for(let _0x110632=0x58*0x4d+0x5*0xcf+0x6b*-0x49;_0x110632<_0x2d8fdc['numParticl'+'eVerts']*_0x3a3d2a;_0x110632++)_0x2d8fdc['vbCPU'][_0xf15532+_0x110632]=_0x2d8fdc['vbOld'][_0x8e0d12+_0x110632];}}}}const J_=new _i(),eg=new _i(),tg=new _i();class mA{constructor(_0x43e87e,_0x15d693){this['_emitter']=_0x43e87e,this['frameRando'+'mUniform']=new Float32Array(0x29e*0xc+-0x1f1f*-0x1+-0xfa1*0x4),this['emitterPos'+'Uniform']=new Float32Array(-0x1*-0x271+-0x2*-0xdbd+0x84*-0x3a),this['emitterSca'+'leUniform']=new Float32Array([-0xa8b*0x3+-0xd91+0x2d33,0x2024+-0x4*-0x71d+0x1*-0x3c97,-0x235c+0x1*0x76d+0x8*0x37e]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(0xa3c+0x3f9+0x2*-0x719),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(-0x62a*0x5+-0x1*0x204d+0x1*0x3f22),this['inBoundsSi'+'zeUniform']=new Float32Array(-0x1b0f+-0x1916+-0x685*-0x8),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(-0x4*-0x7a8+-0x2279+-0x1a*-0x26),this['constantPa'+'rticleTexI'+'N']=_0x15d693['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x15d693['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x15d693['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x15d693['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x15d693['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x15d693['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x15d693['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x15d693['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x15d693['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x15d693['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x15d693['scope']['resolve']('delta'),this['constantRa'+'te']=_0x15d693['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x15d693['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x15d693['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x15d693['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x15d693['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x15d693['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x15d693['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x15d693['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x15d693['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x15d693['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x15d693['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x15d693['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x15d693['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x15d693['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x15d693['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x15d693['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x15d693['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x15d693['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x15d693['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x15d693['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x15d693['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x15d693['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x15d693['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x15d693['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x15d693['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x15d693['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][-0x188a+-0x5ff*-0x3+0x68d]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][0x1*0x1417+0x1*-0x5df+-0xe37]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][0x1*0x1552+-0x7*-0x2b3+0x8d*-0x49]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][-0x39*0x1f+-0x1c48+-0x1*-0x232f]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][-0x16cd+0x2206+-0xb38]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][0x15b3+0x2676+-0x3c27]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][-0x2294+0x1404+-0x4*-0x3a4]=Math['random'](),this['frameRando'+'mUniform'][-0x24d0+0x285*0x5+0x1838]=Math['random'](),this['frameRando'+'mUniform'][0x1*-0x656+-0x1*0xbaa+-0x39a*-0x5]=Math['random']();}['update'](_0x23ce13,_0x24093d,_0x5d8f8c,_0x21d25b,_0x3ec65e){Q['pushGpuMar'+'ker'](_0x23ce13,'ParticleGP'+'U');const _0x57adae=this['_emitter'];_0x23ce13['setBlendSt'+'ate'](pt['NOBLEND']),_0x23ce13['setDepthSt'+'ate'](Yt['NODEPTH']),_0x23ce13['setCullMod'+'e'](bt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((0x1808+-0x2615*-0x1+-0x2*0x1f0e)/_0x57adae['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x57adae['precision']),this['constantNu'+'mParticles']['setValue'](_0x57adae['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x57adae['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x57adae['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x57adae['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x57adae['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x57adae['internalTe'+'x3']);const _0x176122=_0x57adae['meshInstan'+'ce']['node'],_0x61096e=_0x176122===null?D['ONE']:_0x176122['localScale'];if(_0x57adae['pack8']){this['worldBound'+'sMulUnifor'+'m'][0x5*0x69d+0x1787*-0x1+-0x98a]=_0x57adae['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][0x1826+0x1*-0x15ab+0x1*-0x27a]=_0x57adae['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][-0x25af+0x136a+-0x1247*-0x1]=_0x57adae['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][0x22f6+-0x1103*0x1+0x397*-0x5]=_0x57adae['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][0x11*0x7c+0x4*-0x4e6+0xb5d]=_0x57adae['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][0x1da7*0x1+-0x31b*0x3+-0x2*0xa2a]=_0x57adae['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0x51151f=_0x57adae['maxVel']*Math['max'](Math['max'](_0x61096e['x'],_0x61096e['y']),_0x61096e['z']);_0x51151f=Math['max'](_0x51151f,-0x1cc6+-0x387+0xa*0x33b),this['constantMa'+'xVel']['setValue'](_0x51151f);}const _0x3b8e07=_0x176122===null||_0x57adae['localSpace']?D['ZERO']:_0x176122['getPositio'+'n'](),_0x5e0c12=_0x176122===null?te['IDENTITY']:_0x176122['getWorldTr'+'ansform']();_0x57adae['emitterSha'+'pe']===ai?(J_['setFromMat'+'4'](_0x24093d),this['constantSp'+'awnBounds']['setValue'](J_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x5d8f8c)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x57adae['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x57adae['emitterRad'+'ius']===0x719+-0x23f*-0x1+-0x958?0x1b7d+0x8e*-0x6+-0x5*0x4d5:_0x57adae['emitterRad'+'iusInner']/_0x57adae['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x57adae['initialVel'+'ocity']),eg['setFromMat'+'4'](_0x5e0c12),tg['invertMat4'](_0x5e0c12),this['emitterPos'+'Uniform'][-0x1094+-0x1ff+0x1293]=_0x3b8e07['x'],this['emitterPos'+'Uniform'][0xd92+-0x2095+0x1304]=_0x3b8e07['y'],this['emitterPos'+'Uniform'][0x54d*-0x3+-0x1caf+0x2c98]=_0x3b8e07['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x21d25b),this['constantRa'+'te']['setValue'](_0x57adae['rate']),this['constantRa'+'teDiv']['setValue'](_0x57adae['rate2']-_0x57adae['rate']),this['constantSt'+'artAngle']['setValue'](_0x57adae['startAngle']*Y['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x57adae['startAngle'+'2']*Y['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x57adae['seed']),this['constantLi'+'fetime']['setValue'](_0x57adae['lifetime']),this['emitterSca'+'leUniform'][0x3ce+-0x11*-0x217+-0x2755]=_0x61096e['x'],this['emitterSca'+'leUniform'][0x8e9*0x1+-0x22e9+0x3*0x8ab]=_0x61096e['y'],this['emitterSca'+'leUniform'][0x2e9+0x136f+-0x1656]=_0x61096e['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](eg['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](tg['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x57adae['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x57adae['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x57adae['rotSpeedUM'+'ax'][-0x3*-0x15f+0x221a+-0x2637]);let _0xeff39a=_0x57adae['swapTex']?_0x57adae['particleTe'+'xOUT']:_0x57adae['particleTe'+'xIN'];_0xeff39a=_0x57adae['beenReset']?_0x57adae['particleTe'+'xStart']:_0xeff39a;const _0x4b2185=_0x57adae['swapTex']?_0x57adae['particleTe'+'xIN']:_0x57adae['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0xeff39a),Ar(_0x23ce13,_0x57adae['swapTex']?_0x57adae['rtParticle'+'TexIN']:_0x57adae['rtParticle'+'TexOUT'],_0x3ec65e?_0x57adae['shaderPart'+'icleUpdate'+'OnStop']:_0x57adae['loop']?_0x57adae['shaderPart'+'icleUpdate'+'Respawn']:_0x57adae['shaderPart'+'icleUpdate'+'NoRespawn']),_0x57adae['material']['setParamet'+'er']('particleTe'+'xOUT',_0xeff39a),_0x57adae['material']['setParamet'+'er']('particleTe'+'xIN',_0x4b2185),_0x57adae['beenReset']=!(-0x1907+-0xcd3*-0x3+-0xd71),_0x57adae['swapTex']=!_0x57adae['swapTex'],_0x57adae['prevWorldB'+'oundsSize']['copy'](_0x57adae['worldBound'+'sSize']),_0x57adae['prevWorldB'+'oundsCente'+'r']['copy'](_0x57adae['worldBound'+'s']['center']),_0x57adae['pack8']&&this['_setInputB'+'ounds'](),Q['popGpuMark'+'er'](_0x23ce13);}}const sg=['NONE','VERTEX','MAP'];class _A extends ya{['generateKe'+'y'](_0x17d4b0){let _0x296b51='particle_'+ya['definesHas'+'h'](_0x17d4b0['defines'])+'_';for(const _0x5b9118 in _0x17d4b0)_0x17d4b0['hasOwnProp'+'erty'](_0x5b9118)&&(_0x296b51+=_0x17d4b0[_0x5b9118]);return _0x296b51;}['createVert'+'exDefines'](_0x32c0de,_0x33a9a9){const _0x318f2d=new Map(_0x32c0de['defines']);return _0x32c0de['mesh']&&_0x318f2d['set']('USE_MESH',''),_0x32c0de['meshUv']&&_0x318f2d['set']('USE_MESH_U'+'V',''),_0x32c0de['localSpace']&&_0x318f2d['set']('LOCAL_SPAC'+'E',''),_0x32c0de['screenSpac'+'e']&&_0x318f2d['set']('SCREEN_SPA'+'CE',''),_0x32c0de['animTex']&&_0x318f2d['set']('ANIMTEX',''),_0x32c0de['soft']>-0x198c+0x1*0xfbd+0x51*0x1f&&_0x318f2d['set']('SOFT',''),_0x32c0de['stretch']>0x107*0x17+-0x56c*0x5+0x37b&&_0x318f2d['set']('STRETCH',''),_0x32c0de['customFace']&&_0x318f2d['set']('CUSTOM_FAC'+'E',''),_0x32c0de['pack8']&&_0x318f2d['set']('PACK8',''),_0x32c0de['localSpace']&&_0x318f2d['set']('LOCAL_SPAC'+'E',''),_0x32c0de['animTexLoo'+'p']&&_0x318f2d['set']('ANIMTEX_LO'+'OP',''),_0x32c0de['wrap']&&_0x318f2d['set']('WRAP',''),_0x32c0de['alignToMot'+'ion']&&_0x318f2d['set']('ALIGN_TO_M'+'OTION',''),_0x318f2d['set']('NORMAL',sg[_0x32c0de['normal']]),_0x33a9a9['particle_v'+'ertexData']=Me,_0x32c0de['mesh']&&_0x32c0de['meshUv']&&(_0x33a9a9['particle_u'+'v']=is),_0x32c0de['useCpu']&&(_0x33a9a9['particle_v'+'ertexData2']=uh,_0x33a9a9['particle_v'+'ertexData3']=Ap,_0x33a9a9['particle_v'+'ertexData4']=Cp,_0x33a9a9['particle_v'+'ertexData5']=Pp),_0x318f2d;}['createFrag'+'mentDefine'+'s'](_0x4cea75){const _0x50550f=new Map(_0x4cea75['defines']);return _0x4cea75['soft']>0x1e25+-0x2*-0x1083+-0x9d*0x67&&_0x50550f['set']('SOFT',''),_0x4cea75['halflamber'+'t']&&_0x50550f['set']('HALF_LAMBE'+'RT',''),_0x50550f['set']('NORMAL',sg[_0x4cea75['normal']]),_0x50550f['set']('BLEND',Yy[_0x4cea75['blend']]),_0x50550f;}['createShad'+'erDefiniti'+'on'](_0x232515,_0x1cd021){const _0x3e6db1=_0x232515['isWebGPU']?it:Fe,_0x2492d8=Pe['get'](_0x232515,_0x3e6db1),_0x18587d={},_0x5cb8b6=this['createVert'+'exDefines'](_0x1cd021,_0x18587d),_0x15d1a8=this['createFrag'+'mentDefine'+'s'](_0x1cd021),_0x5973f3='PARTICLE_'+(_0x1cd021['useCpu']?'CPU':'GPU')+'\x0a';_0x5cb8b6['set'](_0x5973f3,''),_0x15d1a8['set'](_0x5973f3,'');const _0x1a6a50=new Map(_0x2492d8);return Jt['createDefi'+'nition'](_0x232515,{'name':'ParticleSh'+'ader','shaderLanguage':_0x3e6db1,'attributes':_0x18587d,'vertexCode':_0x2492d8['get']('particle_s'+'haderVS'),'fragmentCode':_0x2492d8['get']('particle_s'+'haderPS'),'fragmentDefines':_0x15d1a8,'fragmentIncludes':_0x1a6a50,'vertexIncludes':_0x1a6a50,'vertexDefines':_0x5cb8b6});}}const gA=new _A();class SA extends tr{constructor(_0x6b418d){super(),h(this,'emitter',null),(this['emitter']=_0x6b418d,w['assert'](_0x6b418d));}['getShaderV'+'ariant'](_0x1bdb32){const {device:_0x1f23c6,scene:_0x4c8d58,cameraShaderParams:_0xf9fce,objDefs:_0x58dc26}=_0x1bdb32,{emitter:_0x12fd6d}=this,_0x29a8b5={'defines':$t['getCoreDef'+'ines'](this,_0x1bdb32),'pass':Aa,'useCpu':this['emitter']['useCpu'],'normal':_0x12fd6d['lighting']?_0x12fd6d['normalMap']!==null?0x3*-0x58f+0x22c8+-0x1219:-0x1741+0xacc+0xc76:0x4f8+-0x23be+0x1ec6,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'meshUv':_0x58dc26&nm,'gamma':(_0xf9fce==null?void(-0x5*0x1e5+0x24a8+-0x1b2f*0x1):_0xf9fce['shaderOutp'+'utGamma'])??Ll,'toneMap':(_0xf9fce==null?void(0x12be*-0x2+0x18b*-0x3+0x2a1d):_0xf9fce['toneMappin'+'g'])??sm,'fog':_0x4c8d58&&!this['emitter']['noFog']?_0x4c8d58['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x12fd6d['inTools']?!(-0x1*-0x902+0x26e4+0x2fe5*-0x1):this['emitter']['screenSpac'+'e'],'blend':this['emitter']['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==yh},_0x512a60=new Ad(_0x1bdb32['viewUnifor'+'mFormat'],_0x1bdb32['viewBindGr'+'oupFormat'],_0x1bdb32['vertexForm'+'at']),_0x3ce46=Hn(_0x1f23c6);return _0x3ce46['register']('particle',gA),_0x3ce46['getProgram']('particle',_0x29a8b5,_0x512a60,this['userId']);}}const ig=[[-(0x1*0x16c7+0x16b4+-0x2d7a*0x1),-(-0x2c9*-0x2+-0x1f6c+0x1*0x19db)],[0x24*0x69+0x10*-0x169+0x1*0x7cd,-(0xb*-0x2db+0x3b*-0x6b+0x3813)],[0x48a+0x12e1+-0x4a*0x51,-0x1ef3*0x1+0x25b4+-0x48*0x18],[-(0x2*-0x126a+-0x5*0x30a+-0x1*-0x3407),-0x1629+0x26d4+-0x10aa]];function xs(_0x51a723,_0x2d8bfe,_0x4c2ceb,_0x377ae6,_0x4a9039=Xt,_0x3f1346,_0x285a4a){let _0x5381c8=Te;_0x285a4a&&(_0x4a9039===Ne||_0x4a9039===_s)&&(_0x5381c8=vt);const _0x4ac601=new _e(_0x51a723,{'width':_0x2d8bfe,'height':_0x4c2ceb,'format':_0x4a9039,'cubemap':!(-0x88f+-0x3b*0x29+0x1*0x1203),'mipmaps':!(-0x38d*0x7+0x6*-0x4af+-0x34f6*-0x1),'minFilter':_0x5381c8,'magFilter':_0x5381c8,'addressU':ue,'addressV':ue,'name':'ParticleSy'+'stemTextur'+'e'}),_0x84f8f1=_0x4ac601['lock']();if(_0x4a9039===Ne||_0x4a9039===_s){const _0x3491e1=new Uint8Array(_0x377ae6['length']);for(let _0x1c5bb9=0x9ce*-0x2+-0xb30+0x1ecc;_0x1c5bb9<_0x377ae6['length'];_0x1c5bb9++)_0x3491e1[_0x1c5bb9]=_0x377ae6[_0x1c5bb9]*_0x3f1346*(0x2ed*-0x2+0x156f+-0xe96);_0x377ae6=_0x3491e1;}return _0x84f8f1['set'](_0x377ae6),_0x4ac601['unlock'](),_0x4ac601;}function rg(_0x222ca9){return Math['max'](Math['min'](_0x222ca9,0x2146+0x26a1+-0x1*0x47e6),0x8b6+0x1369+-0x1*0x1c1f);}const ag=new qs([-0x209c+-0x18e0+0x397c,-0x65+-0x21*-0xc1+-0x187c,0xca9+0x21b1+-0x235*0x15,0x2*0xdb7+0x277*-0xd+0x49d*0x1]),ng=new qs([-0xd46*-0x1+0x3be*-0x6+0x92e,-0x31c+-0x489+0x7a6,-0x2099+-0x1490+-0x2*-0x1a95,0xbaa*0x2+0x1012+0x5*-0x7e1]),og=new na([0x2396+0x25b5+0x494b*-0x1,0x7*0x99+0x8f4*-0x1+0x4c5,-0x1*-0xd0b+0x1607*0x1+0xbf*-0x2f,-0x8*-0x3a4+-0x1be0+-0x140],[0x14bd*0x1+0x19f*-0x9+-0x626,-0x23f1+-0x2091*-0x1+0x6*0x90,-0x231c+0x7e+0x229f,0x65e+0x4+0x2*-0x331],[0x26a2+-0xf4f+0x1753*-0x1,-0x2133+0x1e*-0x24+0x256b,0x25*-0x107+-0x7b5*0x1+0x2db9*0x1,-0xd06*-0x2+0x23*0x17+-0x1d31]),yA=new na([-0x1e*-0x85+0x769*0x2+0x7*-0x458,0x1a3d+-0xb1e+-0x5a*0x2b,0x10a1+0x22a*0x8+-0x21f0,-0x2*0x116f+0x1967+0x978],[-0x1517+0x182*-0x11+-0x2eb9*-0x1,0x2*0x107c+-0x1*0x2513+0x41c,-0x12bc+0xe*0x271+-0xf71*0x1,-0x268a+0x21*0x7+0x25a4],[-0x1c30+0x21c3+-0x593*0x1,-0x1546+0x204b*-0x1+0x3592,0x1*0xc19+-0x2*-0x18b+-0x43*0x3a,-0xb*-0x1d7+-0x10bc+-0x38*0x10]);let bi=-0x27a*-0x5+0x49f+-0x10ff;const pc=0x1d6b+0x9af+0x138b*-0x2,Ai=new Float32Array(-0x5*0x2ef+-0x1667+0x2515),Ur=new te(),lg=new D(),mc=new D(),_c=new D();let uu,Zc;function he(_0x113836,_0x4256ff){Zc[_0x113836]!==void(-0x52f*-0x2+-0x15c0+-0x1*-0xb62)&&Zc[_0x113836]!==null?uu[_0x113836]=Zc[_0x113836]:uu[_0x113836]=_0x4256ff;}function Dv(_0x42f772,_0xab9c81,_0xee90f3){return(_0x42f772*(-0x2*-0x141+0x17*-0x14c+0x1c51)<<-0x95*0x5+-0xadc+-0x1*-0xdd5|_0xab9c81*(0x1a41+0x5ea+-0x6*0x532)<<0x7bf+0x361+-0x238*0x5|_0xee90f3*(-0x1c64+-0x15f2+0x3355))/(-0x5*-0x7ba+0x15f6+-0x3c97<<0x76d*0x1+-0xff8+0x8a3);}function cg(_0x121048,_0xb52ad3){const _0x5663b0=_0x121048['length']/(0x23*-0x3d+0x9*0x11a+0x14*-0x14),_0x2ea95b=new Array(_0x5663b0*(-0x17e7+0x1e02*-0x1+0x35ed*0x1));for(let _0x7b2a42=-0x3*-0x7a+0x1e62+-0x8*0x3fa;_0x7b2a42<_0x5663b0;_0x7b2a42++)_0x2ea95b[_0x7b2a42*(0x643*-0x5+-0x1*0x1e16+0xc7*0x4f)]=_0x121048[_0x7b2a42*(-0x6e*-0x22+-0x18e3*-0x1+-0x4c*0x85)],_0x2ea95b[_0x7b2a42*(-0x151e+0x4f0*0x2+-0x5a1*-0x2)+(-0x2ed+0x154f+-0x1261)]=_0x121048[_0x7b2a42*(-0x1dbd+0x255f+-0x79f)+(-0x265d+-0x2a9*-0x6+-0x3bc*-0x6)],_0x2ea95b[_0x7b2a42*(-0x51*0x1+-0x22f5+0x234a)+(0x1ee9+-0xb*0x20b+-0x2*0x437)]=_0x121048[_0x7b2a42*(-0x1d*0x108+0x20fd+0x189*-0x2)+(0x10c1*0x1+0x3f*-0x14+0x1*-0xbd3)],_0x2ea95b[_0x7b2a42*(0x8b3*0x2+0x10ff+0x1*-0x2261)+(-0x1881+-0x675+0x1ef9)]=Dv(_0xb52ad3[_0x7b2a42*(-0x37*-0x67+-0xe44*0x1+-0x7da)],_0xb52ad3[_0x7b2a42*(-0x19ed*0x1+-0x614+0x3*0xaac)+(-0x123*0x10+-0x45b*-0x2+-0x97b*-0x1)],_0xb52ad3[_0x7b2a42*(0xafa*-0x1+-0x106e*0x1+0x1*0x1b6b)+(-0x1*0x5ab+-0x2586+0x2b33)]);return _0x2ea95b;}function vA(_0x44603a,_0x462b04){const _0x17d2a1=new Array(_0x462b04['length']*(0x1ee4+-0x1152*0x1+-0xd8e));for(let _0xac6eac=0x1838+0xec6+0xe*-0x2c9;_0xac6eac<_0x462b04['length'];_0xac6eac++)_0x17d2a1[_0xac6eac*(0x1f2d*-0x1+0x1c7+0x1d6a)]=_0x44603a[_0xac6eac*(-0x1*0xa33+-0x1263+0x1c99)],_0x17d2a1[_0xac6eac*(0x1b99+-0x2522+0x98d)+(-0x1*0x2356+-0x2f*-0x61+0x8c4*0x2)]=_0x44603a[_0xac6eac*(-0x64*0x53+0x1761+0x90e)+(-0x1116+0x34*-0x5+0x121b)],_0x17d2a1[_0xac6eac*(0x3a9+-0x15e0*-0x1+0x8b*-0x2f)+(-0x1f*0x6e+-0x1f8a+0x2cde)]=_0x44603a[_0xac6eac*(-0x1b72+0xe16+0xd5f)+(-0x18c1+0xf0+-0x141*-0x13)],_0x17d2a1[_0xac6eac*(-0x1b7*0x5+0x1*0x16a2+-0xe0b)+(-0xb9a+-0x17*-0xe8+-0x93b)]=_0x462b04[_0xac6eac];return _0x17d2a1;}function xA(_0x1a8866,_0x32ab08,_0x1037b7,_0x35ba6d,_0x1e9c62){const _0x59d6f3=new Array(_0x1a8866['length']*(0x37f+-0xdd5+0xa5a));for(let _0x4fed73=-0xe*0x3d+0x4a5+0x43*-0x5;_0x4fed73<_0x1a8866['length'];_0x4fed73++)_0x59d6f3[_0x4fed73*(0xd7a+0x781+-0x14f7)]=_0x1a8866[_0x4fed73],_0x59d6f3[_0x4fed73*(0x20e1+0x260b+0x46e8*-0x1)+(0x167d+-0xbf5+-0xa87)]=_0x32ab08[_0x4fed73],_0x59d6f3[_0x4fed73*(0xb7*-0xf+-0x106e+0x1b2b)+(0x4*-0x10e+-0x47d*0x1+0x8b7)]=0x16cd*0x1+0x5*0x2b+-0x17a4,_0x59d6f3[_0x4fed73*(0xc52+0x234c+-0x2f9a)+(0x25ad+-0xc89*0x1+-0x1921)]=Dv(_0x1037b7[_0x4fed73],_0x35ba6d[_0x4fed73],_0x1e9c62[_0x4fed73]);return _0x59d6f3;}function TA(_0x2fb4b3,_0x4cc686){const _0x1fa2e8=new Array(_0x2fb4b3['length']*(0x15bb+-0x9*-0xf1+0xf18*-0x2));for(let _0x527568=0x1fd5*0x1+0x18f8+-0x38cd;_0x527568<_0x2fb4b3['length'];_0x527568++)_0x1fa2e8[_0x527568*(-0x96e+-0x1*-0xbb9+0x35*-0xb)]=_0x2fb4b3[_0x527568],_0x1fa2e8[_0x527568*(0x24f3+0xdcc+-0x9*0x5a3)+(0x83b+-0x191d+-0x10e3*-0x1)]=_0x4cc686[_0x527568],_0x1fa2e8[_0x527568*(-0x228e+0x11e3*-0x1+0x3475)+(0x337+-0x83*0x1e+0xc25)]=-0xf25+0x9*0x44f+-0x17a2,_0x1fa2e8[_0x527568*(0x26*0x7a+0x1*-0x1891+0x679*0x1)+(-0x641*0x1+-0x1*0x1a3e+0x26*0xdb)]=-0x19*-0x7f+-0x1b26+-0x97*-0x19;return _0x1fa2e8;}function wA(_0x18a2ea){const _0x26aea2=Math['max'](_0x18a2ea['rate'],_0x18a2ea['rate2'])*_0x18a2ea['numParticl'+'es']+_0x18a2ea['lifetime'];return Date['now']()+_0x26aea2*(-0x14d7+-0x3*-0x4e3+0xa16);}function EA(_0x438e1e,_0x3c1c88){const _0x261299=new Float32Array(_0x438e1e['length']);for(let _0x1b8aa9=0xd6a+-0x692*-0x5+-0x2e44;_0x1b8aa9<_0x438e1e['length'];_0x1b8aa9++)_0x261299[_0x1b8aa9]=_0x438e1e[_0x1b8aa9]-_0x3c1c88[_0x1b8aa9];return _0x261299;}function Xr(_0x48d2f0,_0x437a08){const _0x327d9a=_0x437a08['length'],_0x88784a=_0x48d2f0['length']/_0x327d9a;for(let _0x3d1e2c=0x8*0x497+0x1*0x1c05+-0x40bd;_0x3d1e2c<_0x88784a;_0x3d1e2c++)for(let _0x407193=-0x182a+-0x1*-0x1835+0x1*-0xb;_0x407193<_0x327d9a;_0x407193++){const _0x2ac554=Math['abs'](_0x48d2f0[_0x3d1e2c*_0x327d9a+_0x407193]);_0x437a08[_0x407193]=Math['max'](_0x437a08[_0x407193],_0x2ac554);}}function bA(_0x5cf150,_0x5d2ccf){const _0x2f0c74=_0x5d2ccf['length'],_0x38e458=_0x5cf150['length']/_0x2f0c74;for(let _0x3a728c=0x7*-0x169+-0x1678+0x2057;_0x3a728c<_0x38e458;_0x3a728c++)for(let _0x1eec24=0x3*0x1ee+0x1f97+0x2561*-0x1;_0x1eec24<_0x2f0c74;_0x1eec24++)_0x5cf150[_0x3a728c*_0x2f0c74+_0x1eec24]/=_0x5d2ccf[_0x1eec24]===0x1f2c+-0x67*-0x10+-0x259c?-0xbed*-0x2+0x20f6+-0x38cf:_0x5d2ccf[_0x1eec24],_0x5cf150[_0x3a728c*_0x2f0c74+_0x1eec24]*=-0x2ca+0x2f*-0x4f+-0xe9*-0x13+0.5,_0x5cf150[_0x3a728c*_0x2f0c74+_0x1eec24]+=-0x97*0x38+-0x1*-0x2698+-0x1*0x590+0.5;}function Br(_0x4c2e63,_0x3d8551,_0x154b35){const _0x289385=EA(_0x3d8551,_0x4c2e63);return Xr(_0x289385,_0x154b35),bA(_0x289385,_0x154b35),_0x289385;}const AA=new Kt();class CA{constructor(_0x52320b,_0x33b926){h(this,'material',null),h(this,'internalTe'+'x0',null),h(this,'internalTe'+'x1',null),h(this,'internalTe'+'x2',null),h(this,'colorParam',null),this['graphicsDe'+'vice']=_0x52320b;const _0x2bdb20=_0x52320b,_0x4823ae=0x1*0x8a5+0x1a6a+-0x22ef;this['precision']=_0x4823ae,this['_addTimeTi'+'me']=-0x6b*-0xa+0x1*0x10b9+-0x14e7,uu=this,Zc=_0x33b926,he('numParticl'+'es',0x922+0x2c*0xa+-0xad9),this['numParticl'+'es']>_0x52320b['maxTexture'+'Size']&&(w['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x52320b['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x52320b['maxTexture'+'Size']),he('rate',0x1*-0x1ce1+-0x380+0x2062),he('rate2',this['rate']),he('lifetime',0x239*0x11+0xc9c+-0x47*0xb5),he('emitterExt'+'ents',new D(-0xad7+-0x1131+0x3*0x958,0x10f9*-0x1+0xa7e+0x3*0x229,-0xcb1*0x3+-0x4ff+0x2b12)),he('emitterExt'+'entsInner',new D(-0x19de+-0x3f4*0x8+0x29d*0x16,-0x477+-0x1d*-0x85+-0x76*0x17,-0x1bdf+0x1*0x109d+0xb42)),he('emitterRad'+'ius',-0x8*0x83+0xead+-0x7*0x183),he('emitterRad'+'iusInner',-0x1243+-0x16bf+0x16a*0x1d),he('emitterSha'+'pe',ai),he('initialVel'+'ocity',-0xe06+0x1081+0x27a*-0x1),he('wrap',!(0x85b+-0x2193+0x1939*0x1)),he('localSpace',!(0x216a+-0xc93+-0x14d6)),he('screenSpac'+'e',!(-0x79*-0x43+0x26*-0x88+-0x5bd*0x2)),he('wrapBounds',null),he('colorMap',this['defaultPar'+'amTexture']),he('normalMap',null),he('loop',!(0xdf0*0x2+0x86b+-0x244b)),he('preWarm',!(-0x152*-0x5+0xa1*-0x37+0x1bfe)),he('sort',nu),he('mode',rv),he('scene',null),he('lighting',!(0x53c+-0x7af*0x1+0x274)),he('halfLamber'+'t',!(-0xcd*-0x3+0xaa2+-0x116*0xc)),he('intensity',0x9*0x1bb+0x463+-0x13f5),he('stretch',-0x1d94+-0x266d*-0x1+-0x8d9),he('alignToMot'+'ion',!(-0x1a37+0x3*-0xcb9+0x4063)),he('depthSofte'+'ning',0x10fb+0x20b5+-0x31b0),he('mesh',null),he('particleNo'+'rmal',new D(-0x1266+0x14b9+-0x253,-0x1874*-0x1+-0x4e2*-0x5+-0x7*0x6fb,-0x6f6+0xf9*0x5+-0x1*-0x219)),he('orientatio'+'n',yh),he('depthWrite',!(0x2*-0x6ee+0x1b+0xdc2)),he('noFog',!(0x763+0x1*0x1c6a+-0x23cc)),he('blendType',Zs),he('node',null),he('startAngle',0x4a9+0x3ff+-0x8a8*0x1),he('startAngle'+'2',this['startAngle']),he('animTilesX',-0x1285+0x1*0xe56+0x4*0x10c),he('animTilesY',-0x18c1+-0x1ca0+-0x2*-0x1ab1),he('animStartF'+'rame',0x261f+-0x22df+-0xd0*0x4),he('animNumFra'+'mes',-0x28e+-0x1*0xe4d+0xa6*0x1a),he('animNumAni'+'mations',0x5*-0x2e2+0x11*-0x99+-0x8f*-0x2c),he('animIndex',-0x106d+0x1a5*0x11+-0x52*0x24),he('randomizeA'+'nimIndex',!(0xc0*-0x12+0x134*0x1+0xc4d)),he('animSpeed',0x165b+0x1*0x25cd+-0x3c27),he('animLoop',!(0x233*0xf+-0x1f75*0x1+-0x188)),this['_gpuUpdate'+'r']=new mA(this,_0x2bdb20),this['_cpuUpdate'+'r']=new pA(this),this['emitterPos'+'Uniform']=new Float32Array(0x895+-0xe72+0x5e0),this['wrapBounds'+'Uniform']=new Float32Array(0x3*-0x3b1+0x14e8+-0x9d2),this['emitterSca'+'leUniform']=new Float32Array([-0x2d*-0x56+0x3db*0x7+-0x2a1a,0x6*0x5e7+0x1*0xcdf+-0x203*0x18,0x18*-0xa7+-0x997*-0x3+-0x4*0x347]),he('colorGraph',yA),he('colorGraph'+'2',this['colorGraph']),he('scaleGraph',ng),he('scaleGraph'+'2',this['scaleGraph']),he('alphaGraph',ng),he('alphaGraph'+'2',this['alphaGraph']),he('localVeloc'+'ityGraph',og),he('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),he('velocityGr'+'aph',og),he('velocityGr'+'aph2',this['velocityGr'+'aph']),he('rotationSp'+'eedGraph',ag),he('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),he('radialSpee'+'dGraph',ag),he('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(-0x1d54+-0x1986+0x36dc),this['animParams']=new Float32Array(0x45a+0x4*0x455+-0x15aa),this['animIndexP'+'arams']=new Float32Array(0xe6b*-0x2+-0x135d*-0x2+-0x9e2),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(-0x968+0x2*-0x9+0x97b),this['useMesh']=!(0xc95*-0x2+-0x1226*0x1+0x2b50),this['useCpu']=!_0x52320b['supportsGp'+'uParticles'],this['pack8']=!(0xe5*-0x22+0x218*0x10+-0x1*0x316),this['localBound'+'s']=new De(),this['worldBound'+'sNoTrail']=new De(),this['worldBound'+'sTrail']=[new De(),new De()],this['worldBound'+'s']=new De(),this['worldBound'+'sSize']=new D(),this['prevWorldB'+'oundsSize']=new D(),this['prevWorldB'+'oundsCente'+'r']=new D(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new D(),this['worldBound'+'sAdd']=new D(),this['timeToSwit'+'chBounds']=0xa85*0x2+-0x2072+0xb68,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=0x1b50+-0x7*-0x189+0x1*-0x260f,this['numParticl'+'eIndices']=0x3a*-0x69+-0xd*0x1bb+0x2b9*0x11,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=0x106*0xb+0x1b2c*0x1+-0x2*0x1337,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(0x1b48+-0x2327*0x1+0x7e0)/(-0x33a+-0x17*0x167+0x23b7),this['maxSubStep'+'s']=-0xb*0x25f+-0x888+0x3*0xb8d,this['simTime']=-0x2be*0x2+0x4*-0x626+0x5*0x604,this['simTimeTot'+'al']=-0xc90+0xb7*0x2e+0x99*-0x22,this['beenReset']=!(0x8*0x305+0x10df*-0x2+-0x997*-0x1),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return w['assert'](this['graphicsDe'+'vice']),AA['get'](this['graphicsDe'+'vice'],()=>{const _0x47e051=new Float32Array(0xb*0xa9+0x12df*-0x1+0xf9c);for(let _0x3d657e=0x6a3+-0xe4d+0x7aa;_0x3d657e<-0xeb4+-0x17f2+-0x1*-0x26b6;_0x3d657e++)for(let _0x234537=0x79f+0xe19*-0x1+0x67a;_0x234537<-0x18a*0x4+-0xb5*0x2b+0x249f;_0x234537++){const _0x3597be=_0x234537+(0xd*0x281+0x1993+-0x3a1f*0x1)-(-0x2d*-0x5c+0x1*-0x6c5+-0x95f+0.5),_0x4f3367=_0x3d657e+(-0x1c43+-0xb25*-0x3+-0x52b)-(0x257*0x2+-0x5*0x139+0x177+0.5),_0x54c25e=rg(-0xdfe+-0x1*-0x1a06+0xc07*-0x1-rg(Math['sqrt'](_0x3597be*_0x3597be+_0x4f3367*_0x4f3367)/(-0xbc*-0x26+-0x14d9+0x255*-0x3))-(-0x17f*0x2+0x35+0x2c9+0.5)),_0x3e286a=_0x3d657e*(-0x3*-0x1dc+0x1*-0x23ef+0x1e6b)+_0x234537;_0x47e051[_0x3e286a*(0x3aa+-0x2*-0xaef+-0x2e*0x8e)]=0x9b*-0x25+0xa4*0x16+0x850,_0x47e051[_0x3e286a*(-0xa5d*-0x3+-0x24cd+-0x1*-0x5ba)+(-0xd*-0x248+-0x18cb*0x1+-0x4dc)]=0x13e7+0x5e+-0x1444,_0x47e051[_0x3e286a*(-0x2a7*0x7+0x1*-0x832+-0x3*-0x8ed)+(0x9a*-0x40+-0x93c+0x2fbe)]=-0x23f6+0x1c77+-0x8*-0xf0,_0x47e051[_0x3e286a*(-0xa47*-0x3+-0xa8b+-0x40e*0x5)+(0x10*-0x9e+-0x1e86*0x1+0x2869)]=_0x54c25e;}const _0x2e6966=xs(this['graphicsDe'+'vice'],0x1*0x13d6+-0x1*0x2519+0x1*0x1153,0x246c+-0xa*0x1a+-0x34*0xae,_0x47e051,_s,-0x2061+-0x1*0x2275+0x42d7,!(-0xf10+-0x25c5+0x34d5));return _0x2e6966['minFilter']=vt,_0x2e6966['magFilter']=vt,_0x2e6966;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(-0x24e8+-0x81c+-0x1*-0x2d05)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(0x9*0x27d+0x20a3+0x3707*-0x1)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(0x1*0x204d+0x182d+0x4f*-0xb7)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(-0x182d+0x8cb+0x521*0x3)),this['worldBound'+'sAdd']['x']+=-0xa*0x1dc+-0xfc5*0x1+-0x225d*-0x1+0.5,this['worldBound'+'sAdd']['y']+=0x12*-0x143+-0x18c1+0x1*0x2f77+0.5,this['worldBound'+'sAdd']['z']+=0x1dd3+0x1*0x1b83+-0x3956+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x11b3a7=!(0x7c3*0x1+0x41*-0x2c+-0x13*-0x2e);this['emitterSha'+'pe']===ai?_0x11b3a7=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x11b3a7=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x11b3a7&&this['calculateL'+'ocalBounds']();}const _0x52882a=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x52882a),this['worldBound'+'sTrail'][0x1e78+0x1231+-0x30a9*0x1]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0x2121+0x1f19+-0x4039]['add'](this['worldBound'+'sNoTrail']);const _0xc7b754=this['simTimeTot'+'al'];_0xc7b754>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][0x691+-0x800+0x1*0x16f]['copy'](this['worldBound'+'sTrail'][-0x16f7+0xcdd+-0x1*-0xa1b]),this['worldBound'+'sTrail'][0x22eb+-0x1778*0x1+-0xa*0x125]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0xc7b754+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][0x2*-0x950+-0x3*-0x5cb+0x13f]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x1b32+0x544+-0x2074),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x52882a),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x52882a)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=-0x8*-0x4db+0xa3*0x2d+0xa3*-0x6a-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0x1ba9+0x1fec+-0x443*0x1]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0x65*0xd+0xb9e*0x3+-0x27fa]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x1bb9*-0x1+0x713+-0x22cc]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x67*-0x19+-0xf61+-0x2c*-0x1f),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=0x357+0xa*0x25+0x1*-0x4c9,this['timeToSwit'+'chBounds']=-0x1ed2+-0x1ad+-0x8d*-0x3b);}['calculateL'+'ocalBounds'](){let _0x5dfa6a=Number['MAX_VALUE'],_0x35816b=Number['MAX_VALUE'],_0x3d436c=Number['MAX_VALUE'],_0x38fec3=-Number['MAX_VALUE'],_0x43a0ad=-Number['MAX_VALUE'],_0x385d49=-Number['MAX_VALUE'],_0xec21c1=0x19c7*0x1+0xe6a+0x2831*-0x1,_0x197aad=-0x2*-0x262+0x1*0xfb+-0x1*0x5bf;const _0x46f313=this['lifetime']/this['precision'],_0x4d6591=[this['qVelocity'],this['qVelocity2']],_0x1a54f9=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x35697c=[0x1dc8+-0x3*0x133+0x1a2f*-0x1,0x62f*-0x2+-0x1cff+0x295d],_0xbd2fae=[0xf6f*-0x1+-0xade+-0x1*-0x1a4d,0x3d*-0x7b+0x10f1*-0x1+0x2e40],_0x51632e=[-0x1*-0x155b+-0x1*-0x1e01+0x19ae*-0x2,-0x2451+0xeba+0x1597],_0x11c1a7=[-0x1927*0x1+-0x1a4c+-0x3373*-0x1,0xa3*-0x1d+0x23b1+-0x113a],_0x5de54a=[-0x2169+-0x1699*-0x1+0xad0,-0x1f18+-0x1fe*0x1+-0x9a*-0x37];let _0x1e609a,_0x4a6f7d,_0x43333d;for(let _0x5a67d8=-0xb0e+-0x29d*0x5+0x181f;_0x5a67d8<this['precision']+(0x1*-0x2a9+-0xca4+-0x6*-0x28d);_0x5a67d8++){const _0x4c72b7=Math['min'](_0x5a67d8,this['precision']-(0x2471+-0x15e+-0x2312));for(let _0x3c93e4=0x194+-0x16d9+0x1545;_0x3c93e4<-0x22e0+0x5*-0x22d+-0x429*-0xb;_0x3c93e4++)_0x1e609a=_0x1a54f9[_0x3c93e4][_0x4c72b7*(0x25a7+-0x232*0x7+-0xb23*0x2)+(0xdd5*0x1+-0x235d*0x1+-0x1a8*-0xd)]*_0x46f313+_0x35697c[_0x3c93e4],_0x4a6f7d=_0x1a54f9[_0x3c93e4][_0x4c72b7*(0x2*0xbdf+0x1ac7+-0x1af*0x1e)+(-0x8a1*-0x2+-0x1313+-0x2*-0xe9)]*_0x46f313+_0xbd2fae[_0x3c93e4],_0x43333d=_0x1a54f9[_0x3c93e4][_0x4c72b7*(0xbbb+0x754+-0x130c)+(-0x653*-0x6+-0x36*-0x71+-0x1ee3*0x2)]*_0x46f313+_0x51632e[_0x3c93e4],_0x5dfa6a=Math['min'](_0x1e609a,_0x5dfa6a),_0x35816b=Math['min'](_0x4a6f7d,_0x35816b),_0x3d436c=Math['min'](_0x43333d,_0x3d436c),_0x38fec3=Math['max'](_0x1e609a,_0x38fec3),_0x43a0ad=Math['max'](_0x4a6f7d,_0x43a0ad),_0x385d49=Math['max'](_0x43333d,_0x385d49),_0x35697c[_0x3c93e4]=_0x1e609a,_0xbd2fae[_0x3c93e4]=_0x4a6f7d,_0x51632e[_0x3c93e4]=_0x43333d;for(let _0x3f1266=-0x25b5+0x36a*-0x7+0x7*0x8cd;_0x3f1266<0x1238+0x18d6+-0x4*0xac3;_0x3f1266++)_0x5de54a[_0x3f1266]+=_0x46f313*Math['sqrt'](_0x4d6591[_0x3f1266][_0x4c72b7*(-0x10b3+0x1*-0xbaf+0x1c65)+(0x2c4+0x25f8+-0x28bc)]*_0x4d6591[_0x3f1266][_0x4c72b7*(-0x21f+0x11b5+-0x9*0x1bb)+(0x2552+-0x1c3f+-0x913)]+_0x4d6591[_0x3f1266][_0x4c72b7*(0x1b4*-0x5+-0x15*-0x11b+-0x10*0xeb)+(-0x1dc1+0x1*-0x1f85+-0x53*-0xbd)]*_0x4d6591[_0x3f1266][_0x4c72b7*(-0x1029+0x7*0x47f+-0xf4d)+(-0x1be5+-0x24fb+0x40e1)]+_0x4d6591[_0x3f1266][_0x4c72b7*(-0x2b7+0x1a1*-0x6+0xc80)+(-0x1ff2+-0x4*-0x3f8+0x1014)]*_0x4d6591[_0x3f1266][_0x4c72b7*(0xcfd+-0x29a*0x1+0x14c*-0x8)+(-0x1*-0x909+0x10bf+-0x19c6)]);_0x11c1a7[0x1*0x2092+-0x1*0x149d+0xbf5*-0x1]+=this['qRadialSpe'+'ed'][_0x4c72b7]*_0x46f313,_0x11c1a7[-0x92f*-0x4+0x4b+-0x54a*0x7]+=this['qRadialSpe'+'ed2'][_0x4c72b7]*_0x46f313,_0xec21c1=Math['max'](_0xec21c1,Math['max'](Math['abs'](_0x11c1a7[0xc*0xc2+-0xe81+0x569]),Math['abs'](_0x11c1a7[0x8a4*0x4+-0x8e9+-0x31*0x86]))),_0x197aad=Math['max'](_0x197aad,this['qScale'][_0x4c72b7]);}this['emitterSha'+'pe']===ai?(_0x1e609a=this['emitterExt'+'ents']['x']*(0xb2b*-0x2+0x104a*-0x1+0x26a0+0.5),_0x4a6f7d=this['emitterExt'+'ents']['y']*(0x11f3+0x1cb*-0x15+0x13b4+0.5),_0x43333d=this['emitterExt'+'ents']['z']*(-0x2cb+0x11*-0xc1+0xf9c+0.5)):(_0x1e609a=this['emitterRad'+'ius'],_0x4a6f7d=this['emitterRad'+'ius'],_0x43333d=this['emitterRad'+'ius']);const _0x4a7d32=Math['max'](_0x5de54a[-0x169b+-0xb60+0x21fb],_0x5de54a[0x4c7+0x172d*0x1+-0x5*0x597]);mc['x']=_0x5dfa6a-_0x197aad-_0x1e609a-_0xec21c1-_0x4a7d32,mc['y']=_0x35816b-_0x197aad-_0x4a6f7d-_0xec21c1-_0x4a7d32,mc['z']=_0x3d436c-_0x197aad-_0x43333d-_0xec21c1-_0x4a7d32,_c['x']=_0x38fec3+_0x197aad+_0x1e609a+_0xec21c1+_0x4a7d32,_c['y']=_0x43a0ad+_0x197aad+_0x4a6f7d+_0xec21c1+_0x4a7d32,_c['z']=_0x385d49+_0x197aad+_0x43333d+_0xec21c1+_0x4a7d32,this['localBound'+'s']['setMinMax'](mc,_c);}['rebuild'](){const _0x895b6d=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===ai?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>nu||_0x895b6d['maxVertexT'+'extures']<=0x1*-0x1b1d+0x21a2+-0x684||_0x895b6d['fragmentUn'+'iformsCoun'+'t']<0x1*0x22b+-0x2*0x12fb+-0x1*-0x240b||_0x895b6d['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x895b6d['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],bi=this['useCpu']||this['pack8']?-0x2e9*-0x1+0x80a*0x3+-0x1b03:0x14ed+-0x1f51+0x1*0xa66,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=Y['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0x56b+-0xc98+0x72d]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][-0x1*-0x2d7+-0x268b+-0x1*-0x23b5]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x1afa+-0x39e*-0x7+0x1aa),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x51208d=-0x174b+0xd*0x263+-0x7bc;_0x51208d<this['numParticl'+'es'];_0x51208d++)this['vbToSort'][_0x51208d]=[0x6*0x1cd+0x1ee4+-0x29b2,-0x1dce+-0x6f2+0x24c0];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*bi*pc);const _0x1028ae=this['node']===null||this['localSpace']?D['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===ai&&(this['node']===null||this['localSpace']?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['spawnBound'+'s']):Ur['setTRS'](D['ZERO'],this['node']['getRotatio'+'n'](),lg['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),Ai[0x97b+-0x1*-0xbfb+-0x1576]=this['emitterExt'+'ents']['x']!==-0x7ec+-0x1105+0x18f1?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0xdca*0x2+-0x1aa1+0x51*-0x3,Ai[-0x33+0x417+0x3e3*-0x1]=this['emitterExt'+'ents']['y']!==-0x3*-0xa86+-0x9a0+-0xaf9*0x2?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:0x1653+0xb*-0x338+-0xd15*-0x1,Ai[-0x4c*0x59+-0x11da+0x1a*0x1b4]=this['emitterExt'+'ents']['z']!==0x43f+-0xd*-0xcc+0xe9b*-0x1?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x1361*-0x1+-0x2236*0x1+0xed5*0x1);for(let _0x20d65f=0x1667+0x13d*0x2+0x1*-0x18e1;_0x20d65f<this['numParticl'+'es'];_0x20d65f++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Ur,Ai,_0x1028ae,_0x20d65f),this['useCpu']&&(this['particleTe'+'x'][_0x20d65f*pc+(-0x33d+-0xe37*-0x1+-0xaf7)+this['numParticl'+'esPot']*(-0xa*0x11c+0x2*0x68e+-0x1*0x202)*pc]=0x37*0x37+0x1d5+-0xda5);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*bi*pc);for(let _0x243b74=-0x1*0xe48+0xc1*-0x29+-0x1*-0x2d31;_0x243b74<this['particleTe'+'xStart']['length'];_0x243b74++)this['particleTe'+'xStart'][_0x243b74]=this['particleTe'+'x'][_0x243b74];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=xs(_0x895b6d,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,0x2414+-0x61*0x3b+0x2*-0x6dc,!(0x942+0x115e+-0x1a9f)),this['particleTe'+'xOUT']=xs(_0x895b6d,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,-0x887+-0xb3+0x93b*0x1,!(-0x3*-0x765+0xf59*0x1+0x1*-0x2587)),this['particleTe'+'xStart']=xs(_0x895b6d,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'],Ne,0x15ec+0x15e2+-0x2bcd*0x1,!(0xcaa*-0x1+0x2096+-0x1*0x13eb))):(this['particleTe'+'xIN']=xs(_0x895b6d,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xOUT']=xs(_0x895b6d,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xStart']=xs(_0x895b6d,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new gt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(-0x1b38+0x1616+-0x5*-0x107)}),this['rtParticle'+'TexOUT']=new gt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(-0x1edc+0x12d*0x1f+0x2cb*-0x2)}),this['swapTex']=!(-0x1*-0x10fd+0x1*0x24c1+-0x35bd));const _0x174b6e=new Map();this['localSpace']&&_0x174b6e['set']('LOCAL_SPAC'+'E',''),this['pack8']&&_0x174b6e['set']('PACK8',''),this['emitterSha'+'pe']===ai&&_0x174b6e['set']('EMITTERSHA'+'PE_BOX','');const _0x4f89fe='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'],_0x12279c=Pe['get'](_0x895b6d,_0x895b6d['isWebGPU']?it:Fe),_0x2ff063=new Map(_0x12279c),_0x39e9e2={'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'particle_s'+'imulationP'+'S','fragmentDefines':_0x174b6e,'fragmentIncludes':_0x2ff063};_0x39e9e2['uniqueName']='ParticleUp'+'dateRespaw'+'n-'+_0x4f89fe,_0x174b6e['set']('RESPAWN',''),this['shaderPart'+'icleUpdate'+'Respawn']=$t['createShad'+'er'](_0x895b6d,_0x39e9e2),_0x174b6e['delete']('RESPAWN'),_0x39e9e2['uniqueName']='ParticleUp'+'dateNoResp'+'awn-'+_0x4f89fe,_0x174b6e['set']('NO_RESPAWN',''),this['shaderPart'+'icleUpdate'+'NoRespawn']=$t['createShad'+'er'](_0x895b6d,_0x39e9e2),_0x174b6e['delete']('NO_RESPAWN'),_0x39e9e2['uniqueName']='ParticleUp'+'dateStop-'+_0x4f89fe,_0x174b6e['set']('ON_STOP',''),this['shaderPart'+'icleUpdate'+'OnStop']=$t['createShad'+'er'](_0x895b6d,_0x39e9e2),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:-0x1568+0x3b3*-0x5+0x27eb,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][0x1*0x1ecb+0x1b28+-0x39f3]['numIndices']:0x1489*-0x1+-0x1de5*-0x1+-0x2*0x4ab,this['_allocate'](this['numParticl'+'es']);const _0x2fb527=new Ge(_0x895b6d);_0x2fb527['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x2fb527['indexBuffe'+'r'][0x865+0xc89+-0x2f*0x72]=this['indexBuffe'+'r'],_0x2fb527['primitive'][-0x91d*0x1+-0x1*-0x18d1+-0xfb4]['type']=js,_0x2fb527['primitive'][-0x8a5+0x5*0x277+-0x2*0x1d7]['base']=-0x1*0x158f+0x2485+-0xef6,_0x2fb527['primitive'][-0x448+0x17e3+-0x139b]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x2fb527['primitive'][0x3*0x772+0x9ca+-0x2020]['indexed']=!(0x5*0x686+0xe1b+0x1*-0x2eb9),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x4e5e34=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(-0x2*0x74f+0x1*0x1186+0x7c*-0x6);this['meshInstan'+'ce']=new He(_0x2fb527,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(0x89*-0x27+-0x5e4*-0x5+-0x894),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(-0x2*-0x2f5+-0xc96+-0x6ac*-0x1),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(0x74e+-0x7*0x24+-0x651),this['meshInstan'+'ce']['visible']=_0x4e5e34,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](-0x1*0x20c3+0x1ec7+-0x2*-0xfe,!(-0x1119+0x813*0x1+0x1*0x907)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=-0x2264+0x1d5e+0x507*0x1&&(this['animTilesX']>-0x9*0x445+0x4b9+0x21b5||this['animTilesY']>0x56*-0x5e+0x252+-0x9c1*-0x3)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0xe055b1=this['precision'],_0x9005f3=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0xe055b1),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0xe055b1),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0xe055b1,-0xad6*-0x3+0x2288+-0x430a,-0x141*-0x1b+0x16b8+-0x3892),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0xe055b1),this['qScale']=this['scaleGraph']['quantize'](_0xe055b1),this['qAlpha']=this['alphaGraph']['quantize'](_0xe055b1),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0xe055b1),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0xe055b1),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0xe055b1),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0xe055b1,-0x1eb*0x1+-0x1711+0xd*0x1ec,0x16e*0xb+-0x2688+-0x1*-0x16cf),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0xe055b1),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0xe055b1),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0xe055b1),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0xe055b1);for(let _0x42cd3=0x12e+-0x1fdc*-0x1+-0x2*0x1085;_0x42cd3<_0xe055b1;_0x42cd3++)this['qRotSpeed'][_0x42cd3]*=Y['DEG_TO_RAD'],this['qRotSpeed2'][_0x42cd3]*=Y['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(0x147b+-0xb*0x125+-0x7e1),this['velocityUM'+'ax']=new Float32Array(-0x18ad+0x1c3a+-0x38a*0x1),this['colorUMax']=new Float32Array(0x1*-0x5c1+-0x13*-0x41+0xf1),this['rotSpeedUM'+'ax']=[-0x961*-0x2+0x1697+-0x2959],this['scaleUMax']=[-0x91f+0x1dfe+-0x14df],this['alphaUMax']=[0x1e7b+0x23ee+-0x4269],this['radialSpee'+'dUMax']=[-0x2646+0x77e+0x1ec8],this['qLocalVelo'+'cityDiv']=Br(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Br(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Br(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Br(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Br(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Br(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Br(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x559c17=[-0xbb4+-0x92*-0x1b+-0x3b2,0x1*-0x25c8+0x1339+0x1*0x128f,-0x751+-0x1fb2+0x2703];Xr(this['qVelocity'],_0x559c17);const _0x261683=[-0x215b+0x21b2+-0x57,-0x10c5+0x97c*0x1+0x749,-0x1b27+-0x28*-0x60+0xc27];Xr(this['qVelocity2'],_0x261683);const _0x11fb55=[0x6*0x281+0x1*-0x1136+0x4*0x8c,0x1db3+0x143*0x7+-0x2688,-0x1*-0x1012+-0x7e6+0x2*-0x416];Xr(this['qLocalVelo'+'city'],_0x11fb55);const _0x47d5cd=[0x560+-0x61*-0x2f+-0x172f,-0x2664+0x669*-0x1+-0x3*-0xeef,-0x18e9+-0x100*0x1+0x2e1*0x9];Xr(this['qLocalVelo'+'city2'],_0x47d5cd);const _0x1061f1=[0xa*-0x1ab+0x2191*0x1+0x10e3*-0x1];Xr(this['qRadialSpe'+'ed'],_0x1061f1);const _0x24ecfa=[-0x3dc*0x1+-0x45*0x5e+0x1d32];Xr(this['qRadialSpe'+'ed2'],_0x24ecfa);let _0x4d2a8b=Math['max'](_0x559c17[-0x1*0x956+0xb27+-0x1d1],_0x261683[0x8ad+0x29a+-0xb47]);_0x4d2a8b=Math['max'](_0x4d2a8b,_0x559c17[-0x1b3d*0x1+-0x6d1+0x220f]),_0x4d2a8b=Math['max'](_0x4d2a8b,_0x261683[-0x20db+0x100f*-0x1+0x7*0x6fd]),_0x4d2a8b=Math['max'](_0x4d2a8b,_0x559c17[0x7d4+0x1b20+-0x22f2]),_0x4d2a8b=Math['max'](_0x4d2a8b,_0x261683[0x5*0x65f+0x2*-0x1241+-0x1*-0x4a9]);let _0xba822b=Math['max'](_0x11fb55[-0x2146+0x20b5+-0x1d*-0x5],_0x47d5cd[-0x2571+-0x1e1d+0x438e]);_0xba822b=Math['max'](_0xba822b,_0x11fb55[0x111e+0x1e9+-0x1306]),_0xba822b=Math['max'](_0xba822b,_0x47d5cd[-0x24ac+0xc33+-0xf1*-0x1a]),_0xba822b=Math['max'](_0xba822b,_0x11fb55[-0x23d7+0x1bdb*0x1+0xb*0xba]),_0xba822b=Math['max'](_0xba822b,_0x47d5cd[0x1598+-0xa0f+-0xb87]);const _0x20ad9b=Math['max'](_0x1061f1[0x1ba6+-0x1*-0xcd7+-0x287d],_0x24ecfa[0x78e+-0x6df+-0x1*0xaf]);this['maxVel']=_0x4d2a8b+_0xba822b+_0x20ad9b;}this['useCpu']||(this['internalTe'+'x0']=xs(_0x9005f3,_0xe055b1,0x1182+-0x9*0x441+0xe*0x17c,cg(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=xs(_0x9005f3,_0xe055b1,0x63*0x28+0x220*0xd+-0x2b17,cg(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=xs(_0x9005f3,_0xe055b1,-0x2b*-0x80+0x5*0x2ea+-0x527*0x7,xA(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=xs(_0x9005f3,_0xe055b1,0x1fc0*-0x1+0x1*-0x15c5+0x3586,TA(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=xs(_0x9005f3,_0xe055b1,-0x11a3+0xda8+-0x4*-0xff,vA(this['qColor'],this['qAlpha']),_s,0x2*-0x732+-0x1*0x9ed+0x16*0x11b,!(0x3f4+-0xc18+0x824));}['_setMateri'+'alTextures'](){this['colorMap']&&(w['call'](()=>{py(this['colorMap']['format'])&&w['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x96087e=new SA(this);return _0x96087e['name']='EmitterMat'+'erial:'+this['node']['name'],_0x96087e['cull']=bt,_0x96087e['alphaWrite']=!(-0x26*0x36+-0x1*0x1618+0x1e1d),_0x96087e['blendType']=this['blendType'],_0x96087e['depthWrite']=this['depthWrite'],_0x96087e;}['resetMater'+'ial'](){const _0x279872=this['material'];_0x279872['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x279872['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x279872['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x279872['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x279872['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x279872['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x279872['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x279872['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x279872['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x279872['setParamet'+'er']('colorParam',this['colorParam']),_0x279872['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x279872['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x279872['setParamet'+'er']('lifetime',this['lifetime']),_0x279872['setParamet'+'er']('rate',this['rate']),_0x279872['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x279872['setParamet'+'er']('seed',this['seed']),_0x279872['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][0x20b5*0x1+0x2*0xc23+-0x1d*0x1f7]),_0x279872['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][-0x3f*-0x3b+0x1c48+0x2acd*-0x1]),_0x279872['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][0xe2*-0x21+-0x2648+0x436a]),_0x279872['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x279872['setParamet'+'er']('graphSampl'+'eSize',(0x157c+0x747+-0x332*0x9)/this['precision']),_0x279872['setParamet'+'er']('emitterSca'+'le',new Float32Array([-0x1fc6+-0x1*-0x1101+-0xec6*-0x1,-0x1dd7*-0x1+-0xb43+-0x1293,0x23e4+-0x219b*0x1+0x49*-0x8])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x279872['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x279872['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x279872['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][-0x4d4+0x689*-0x1+0xb5d]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][0x1b25*-0x1+0xe6f+0xcb7]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][-0x1*-0xc11+-0xf7b+0x36c]=this['wrapBounds']['z'],_0x279872['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>-0x953+0xf7c+-0x13*0x53&&_0x279872['setParamet'+'er']('softening',(0x1fdd+0x1ece+-0x1*0x3eaa)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(0x3be*0xa+-0xfc4+-0x1544))),this['stretch']>-0x2407+0x5*-0x7f+0x2682&&(_0x279872['cull']=bt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x32dc3c,_0x2139bf;if(this['orientatio'+'n']===yh)_0x32dc3c=new Float32Array([0xd*0x22f+0x231+-0x1e93,0x8e7*-0x2+-0xa7*0x31+-0x3*-0x1097,-0x17b0+-0xef4+0x26a4]),_0x2139bf=new Float32Array([-0x617+0x25b4+0x1*-0x1f9d,0xb*-0x21d+0x8*0x10c+0xedf,-0x786+-0x1c82+0x2409]);else{let _0x251c71;this['orientatio'+'n']===Vw?_0x251c71=this['particleNo'+'rmal']['normalize']():_0x251c71=(this['node']===null?te['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x322c7d=new D(0x19b*0x13+-0x86b*0x4+0x196*0x2,0x1*-0x941+0x94b+-0xa*0x1,-0x17ff+-0x7*0x4c9+-0x29d*-0x16);Math['abs'](_0x322c7d['dot'](_0x251c71))===0x1296+-0x19c3+-0x1*-0x72e&&_0x322c7d['set'](0xc*-0x26+0x32f*-0x5+-0x17*-0xc5,0x116+-0x1*0x11c2+-0x42b*-0x4,-0x1cb3*0x1+-0x1*-0x26cb+0x9*-0x11f);const _0x5da32e=new D()['cross'](_0x251c71,_0x322c7d)['normalize']();_0x322c7d['cross'](_0x5da32e,_0x251c71)['normalize'](),_0x32dc3c=new Float32Array([_0x322c7d['x'],_0x322c7d['y'],_0x322c7d['z']]),_0x2139bf=new Float32Array([_0x5da32e['x'],_0x5da32e['y'],_0x5da32e['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x32dc3c),this['material']['setParamet'+'er']('faceBinorm',_0x2139bf);}['getVertexI'+'nfo'](){const _0x22c1ad=[];return this['useCpu']?_0x22c1ad['push']({'semantic':Jf,'components':0x4,'type':Ve},{'semantic':uh,'components':0x4,'type':Ve},{'semantic':Ap,'components':0x4,'type':Ve},{'semantic':Cp,'components':0x1,'type':Ve},{'semantic':Pp,'components':this['useMesh']?-0x3be*0x4+0x183d+-0x941:0x3bb*-0x6+-0x19e0+0x1822*0x2,'type':Ve}):(_0x22c1ad['push']({'semantic':Jf,'components':0x4,'type':Ve}),this['useMesh']&&_0x22c1ad['push']({'semantic':uh,'components':0x2,'type':Ve})),_0x22c1ad;}['_allocate'](_0x1724eb){const _0x5144df=_0x1724eb*this['numParticl'+'eVerts'],_0xc74acf=_0x1724eb*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(0x1f*-0x77+0x18f5*0x1+-0xa8c)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x5144df){const _0x4e1339=this['getVertexI'+'nfo'](),_0x25f883=new kt(this['graphicsDe'+'vice'],_0x4e1339);this['vertexBuff'+'er']=new Is(this['graphicsDe'+'vice'],_0x25f883,_0x5144df,{'usage':lh}),this['indexBuffe'+'r']=new br(this['graphicsDe'+'vice'],wr,_0xc74acf);const _0xac085=new Float32Array(this['vertexBuff'+'er']['lock']());let _0x3e0624,_0x1de1d5,_0x43dabf;if(this['useMesh']){_0x3e0624=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0x1de1d5=_0x3e0624['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x35deef=0x8dd+-0x2026+-0x3*-0x7c3;_0x35deef<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x35deef++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x35deef]['name']===is){_0x43dabf=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x35deef]['offset']/(-0x124e+-0x953+-0x151*-0x15);break;}}for(let _0x2f7c94=-0x202d+-0x1*0x255b+-0x14*-0x37a;_0x2f7c94<_0x5144df;_0x2f7c94++){const _0x54afd6=Math['floor'](_0x2f7c94/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x1bc7ae=_0x2f7c94%this['numParticl'+'eVerts'];_0xac085[_0x2f7c94*(0x1687+-0x389*0x2+-0xf6f)]=_0x3e0624[_0x1bc7ae*_0x1de1d5],_0xac085[_0x2f7c94*(-0x187b+-0x1e2f*0x1+0x36b0)+(0x1*-0xee3+-0x25cf+-0x5db*-0x9)]=_0x3e0624[_0x1bc7ae*_0x1de1d5+(-0x16*-0x11d+-0x2625+0xda8)],_0xac085[_0x2f7c94*(0xbda+0x1a6b*0x1+-0x263f)+(-0x1*0x1f0a+-0x47b*-0x5+0x8a5)]=_0x3e0624[_0x1bc7ae*_0x1de1d5+(-0x425+0x16dd+-0x12b6)],_0xac085[_0x2f7c94*(0x1*0x16df+0xea1+0x75*-0x52)+(-0x24a3*0x1+0x383*-0x1+0x45*0x95)]=_0x54afd6,_0xac085[_0x2f7c94*(0xce6+-0x17*-0x5+-0xd53)+(0x2e8+-0x291+-0x53)]=_0x3e0624[_0x1bc7ae*_0x1de1d5+_0x43dabf+(0xa8a+-0x1c4d+0x11c3)],_0xac085[_0x2f7c94*(0x1c89+-0xdbe+-0xc7*0x13)+(0x1*0x1db+0xc95+0xe6b*-0x1)]=-0xd*0x28d+0x112b+0x5*0x333-_0x3e0624[_0x1bc7ae*_0x1de1d5+_0x43dabf+(-0x1232+-0x687*-0x5+-0x4d*0x30)];}else{const _0x4167d7=_0x2f7c94%(0x1e2c+-0x1c13+-0x215);_0xac085[_0x2f7c94*(-0x22cd+0x1908+-0xa7*-0xf)]=ig[_0x4167d7][-0x1c*-0x32+-0x4e7+-0x91],_0xac085[_0x2f7c94*(-0x22a3+0x114*0x9+0x18f3)+(0x2579+-0x3*0x676+0x90b*-0x2)]=ig[_0x4167d7][-0x1*-0x1c23+-0x392+-0xc48*0x2],_0xac085[_0x2f7c94*(-0xb1c+0xec*0x13+-0x664)+(0x12c+-0x2425+0x9*0x3e3)]=0xa3d+0x3d*-0x9c+0x23*0xc5,_0xac085[_0x2f7c94*(0x1632+-0x1022+0x12*-0x56)+(0x1a08+0x18f3+0xcbe*-0x4)]=_0x54afd6;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0xac085),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x423b7e=0x1d*-0xf+0x3*0xa31+0x160*-0x15;const _0x47e375=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x23718d=this['mesh']['indexBuffe'+'r'][-0x1607+0x8f6+0xd11];_0x3e0624=new Sh[_0x23718d['format']](_0x23718d['lock']());}for(let _0x24e66e=-0xbad+0x601*-0x2+0x17af;_0x24e66e<_0x1724eb;_0x24e66e++)if(this['useMesh']){for(let _0x40606a=-0x3*-0x94b+-0x877+0xe*-0x163;_0x40606a<this['numParticl'+'eIndices'];_0x40606a++)_0x47e375[_0x24e66e*this['numParticl'+'eIndices']+_0x40606a]=_0x3e0624[_0x40606a]+_0x24e66e*this['numParticl'+'eVerts'];}else{const _0x45e4ab=_0x24e66e*(-0x13f*0x1f+0x1*0x149f+0x1206);_0x47e375[_0x423b7e++]=_0x45e4ab,_0x47e375[_0x423b7e++]=_0x45e4ab+(0x23e1+0xe21+-0x3201),_0x47e375[_0x423b7e++]=_0x45e4ab+(-0x1769+0xd*0x83+0x10c4),_0x47e375[_0x423b7e++]=_0x45e4ab,_0x47e375[_0x423b7e++]=_0x45e4ab+(-0x270f+-0x3c*-0x9+-0x24f5*-0x1),_0x47e375[_0x423b7e++]=_0x45e4ab+(0x2*0x278+-0x109b+0xbae);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][0x1*0x5ec+0xe*0x218+-0x6e*0x52]['unlock']();}}['reset'](){if(this['beenReset']=!(-0x1*-0x12dd+-0xa39+-0x4*0x229),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0x263923=-0x977+-0x1*0x1247+0x1bbe;_0x263923<this['particleTe'+'xStart']['length'];_0x263923++)this['particleTe'+'x'][_0x263923]=this['particleTe'+'xStart'][_0x263923];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x39a47c=this['loop'];this['loop']=!(0x218*-0xb+-0x3b*-0x95+-0x3c5*0x3),this['addTime'](0x1fbb+0x1329+-0x2*0x1972,!(-0x26bc+-0x1604+0x3cc1)),this['loop']=_0x39a47c,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x25f01a){const _0x496800=_0x25f01a/this['lifetime'],_0x54e392=Math['min'](Math['floor'](_0x496800*this['precision']),this['precision']),_0x5e1f01=_0x25f01a/_0x54e392;for(let _0x12036f=-0x956+0x247a+0x24*-0xc1;_0x12036f<_0x54e392;_0x12036f++)this['addTime'](_0x5e1f01,!(0x12a0+0x1*0x21d1+-0x3470));}['resetTime'](){this['endTime']=wA(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x2d3cff,_0x3f7f46){const _0x514c06=this['graphicsDe'+'vice'],_0x221aad=de();if(this['simTimeTot'+'al']+=_0x2d3cff,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x220025=this['animTilesP'+'arams'];_0x220025[0x1451+-0x5*-0x509+0x12*-0x287]=(-0xc6*-0x2d+0x1*-0x463+-0x2*0xf35)/this['animTilesX'],_0x220025[0x20f5+0x11a6+-0x329a]=(0x3*-0xbfc+0x745+0x1cb0)/this['animTilesY'];const _0x581b3e=this['animParams'];_0x581b3e[-0x1c9d+-0x372+0x11b*0x1d]=this['animStartF'+'rame'],_0x581b3e[0x1*-0xb53+0x3*-0x86d+0x249b]=this['animNumFra'+'mes']*this['animSpeed'],_0x581b3e[0x1*0x1481+-0x148a+0xb]=this['animNumFra'+'mes']-(-0x9*0x3ff+-0x3be+0x27b6),_0x581b3e[0x4c2+0x18e5+-0x10f*0x1c]=this['animNumAni'+'mations']-(0x14ff+0xb93+-0x2091);const _0x3bddf9=this['animIndexP'+'arams'];_0x3bddf9[0x1d87*0x1+-0x24c6+0x73f]=this['animIndex'],_0x3bddf9[0x1*-0xfb3+0xc*-0x18c+0x11*0x204]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===ai&&(Ai[-0x1*-0x252e+-0x1bf8+0x83*-0x12]=this['emitterExt'+'ents']['x']!==-0xb95*0x3+-0xdef+-0x3e*-0xc9?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0x1f48+-0x405+-0x1b43,Ai[0x1625+0x2ad*-0xa+0x49e]=this['emitterExt'+'ents']['y']!==0x46b*-0x4+-0x233d+0x34e9?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:0xec8+0x1*-0xd44+-0x184,Ai[0x1469+0x2487+-0x822*0x7]=this['emitterExt'+'ents']['z']!==-0x2220+-0x5a2+0x7*0x5ae?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x21c1*-0x1+0x24b4+-0x425*0x11,this['meshInstan'+'ce']['node']===null?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['emitterExt'+'ents']):Ur['setTRS'](D['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),lg['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x1b760d;const _0x306ff2=this['meshInstan'+'ce']['node']===null?D['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][0x2265+0x1a2a+-0x3c8f]=_0x306ff2['x'],this['emitterSca'+'leUniform'][-0x2*-0xb0b+0x2dd+-0x67*0x3e]=_0x306ff2['y'],this['emitterSca'+'leUniform'][-0x3*0x248+0x2657+-0x1f7d]=_0x306ff2['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x1b760d=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][-0x5c1+0x23d0+0x5*-0x603]=_0x1b760d['x'],this['emitterPos'+'Uniform'][-0x9*-0x1cd+0xe0a+0xe*-0x229]=_0x1b760d['y'],this['emitterPos'+'Uniform'][-0x1*-0x20e3+0x14a1+-0x1*0x3582]=_0x1b760d['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x514c06,Ur,Ai,_0x2d3cff,_0x3f7f46);else{const _0x234c71=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x234c71,this['vbToSort'],this['particleTe'+'x'],Ur,Ai,_0x1b760d,_0x2d3cff,_0x3f7f46);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(0x2167+-0x2*0x349+-0x1ad4)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=de()-_0x221aad;}['_destroyRe'+'sources'](){var _0x2eda41,_0x2c72b8,_0x18ce99,_0x3ba6b1,_0x3fd41e,_0x58aeeb,_0x50ed08,_0x3ba6e0,_0x46f845,_0x362842,_0x57e8cb,_0x24a491;(_0x2eda41=this['particleTe'+'xIN'])==null||_0x2eda41['destroy'](),this['particleTe'+'xIN']=null,(_0x2c72b8=this['particleTe'+'xOUT'])==null||_0x2c72b8['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x18ce99=this['rtParticle'+'TexIN'])==null||_0x18ce99['destroy'](),this['rtParticle'+'TexIN']=null,(_0x3ba6b1=this['rtParticle'+'TexOUT'])==null||_0x3ba6b1['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x3fd41e=this['internalTe'+'x0'])==null||_0x3fd41e['destroy'](),this['internalTe'+'x0']=null,(_0x58aeeb=this['internalTe'+'x1'])==null||_0x58aeeb['destroy'](),this['internalTe'+'x1']=null,(_0x50ed08=this['internalTe'+'x2'])==null||_0x50ed08['destroy'](),this['internalTe'+'x2']=null,(_0x3ba6e0=this['internalTe'+'x3'])==null||_0x3ba6e0['destroy'](),this['internalTe'+'x3']=null,(_0x46f845=this['colorParam'])==null||_0x46f845['destroy'](),this['colorParam']=null,(_0x362842=this['vertexBuff'+'er'])==null||_0x362842['destroy'](),this['vertexBuff'+'er']=void(0x126+0x4*0x7+0x1*-0x142),(_0x57e8cb=this['indexBuffe'+'r'])==null||_0x57e8cb['destroy'](),this['indexBuffe'+'r']=void(0x1328+-0x1a11+0x6e9),(_0x24a491=this['material'])==null||_0x24a491['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class PA extends ya{['generateKe'+'y'](_0x33f33f){var _0x30f406;const _0x444146=_0x33f33f['shaderDesc'],_0x5d5326=_0x444146['vertexGLSL']?hi(_0x444146['vertexGLSL']):0x561*-0x5+-0x16ea+0x31cf,_0x39048d=_0x444146['fragmentGL'+'SL']?hi(_0x444146['fragmentGL'+'SL']):-0x1e04+-0x1*0xfd3+0x2dd7,_0x19b135=_0x444146['vertexWGSL']?hi(_0x444146['vertexWGSL']):-0x26ff+0x1b88+0xb77,_0x4aef90=_0x444146['fragmentWG'+'SL']?hi(_0x444146['fragmentWG'+'SL']):-0x241d*0x1+0x72d+-0x39e*-0x8,_0x54e6de=ya['definesHas'+'h'](_0x33f33f['defines']),_0x29c948=((_0x30f406=_0x33f33f['shaderChun'+'ks'])==null?void(0x1f7b*-0x1+0x1*-0x1a3f+0x6*0x99f):_0x30f406['key'])??'';let _0x1b1bd1=_0x444146['uniqueName']+'_'+_0x54e6de+'_'+_0x5d5326+'_'+_0x39048d+'_'+_0x19b135+'_'+_0x4aef90+'_'+_0x29c948;return _0x33f33f['skin']&&(_0x1b1bd1+='_skin'),_0x33f33f['useInstanc'+'ing']&&(_0x1b1bd1+='_inst'),_0x33f33f['useMorphPo'+'sition']&&(_0x1b1bd1+='_morphp'),_0x33f33f['useMorphNo'+'rmal']&&(_0x1b1bd1+='_morphn'),_0x33f33f['useMorphTe'+'xtureBased'+'Int']&&(_0x1b1bd1+='_morphi'),_0x1b1bd1;}['createAttr'+'ibutesDefi'+'nition'](_0x2af7cf,_0x16c678){const _0x254869=_0x16c678['shaderDesc']['attributes'],_0x2e39f4=_0x254869?{..._0x254869}:void(0x8c4+-0xb01+0x1*0x23d);_0x16c678['skin']&&(_0x2e39f4['vertex_bon'+'eWeights']=gi,_0x2e39f4['vertex_bon'+'eIndices']=us),(_0x16c678['useMorphPo'+'sition']||_0x16c678['useMorphNo'+'rmal'])&&(_0x2e39f4['morph_vert'+'ex_id']=Ln),_0x2af7cf['attributes']=_0x2e39f4;}['createVert'+'exDefiniti'+'on'](_0x19b058,_0x6cc8f5,_0x482051,_0x1d54bf){const _0x5adfc3=_0x6cc8f5['shaderDesc'],_0x1adf3c=new Map(_0x482051);_0x1adf3c['set']('transformI'+'nstancingV'+'S','');const _0xe137b9=new Map(_0x6cc8f5['defines']);_0x6cc8f5['skin']&&_0xe137b9['set']('SKIN',!(-0xc*-0x298+-0x2224+0x304)),_0x6cc8f5['useInstanc'+'ing']&&_0xe137b9['set']('INSTANCING',!(0x1b9f*0x1+0x2213+0x6a*-0x95)),(_0x6cc8f5['useMorphPo'+'sition']||_0x6cc8f5['useMorphNo'+'rmal'])&&(_0xe137b9['set']('MORPHING',!(-0x285+-0x1e8f+-0x4*-0x845)),_0x6cc8f5['useMorphTe'+'xtureBased'+'Int']&&_0xe137b9['set']('MORPHING_I'+'NT',!(0xd52+0x17*-0xd3+0x25*0x27)),_0x6cc8f5['useMorphPo'+'sition']&&_0xe137b9['set']('MORPHING_P'+'OSITION',!(-0x1533+-0xf2f+0x2*0x1231)),_0x6cc8f5['useMorphNo'+'rmal']&&_0xe137b9['set']('MORPHING_N'+'ORMAL',!(-0x195*-0x4+0x21ef+-0x2843*0x1))),_0x19b058['vertexCode']=_0x1d54bf?_0x5adfc3['vertexWGSL']:_0x5adfc3['vertexGLSL'],_0x19b058['vertexIncl'+'udes']=_0x1adf3c,_0x19b058['vertexDefi'+'nes']=_0xe137b9;}['createFrag'+'mentDefini'+'tion'](_0x51eae2,_0x5c9ffa,_0x4507e4,_0x144395){const _0x8fd41f=_0x5c9ffa['shaderDesc'],_0x3bef1a=new Map(_0x4507e4),_0x28bdd7=new Map(_0x5c9ffa['defines']);_0x51eae2['fragmentCo'+'de']=_0x144395?_0x8fd41f['fragmentWG'+'SL']:_0x8fd41f['fragmentGL'+'SL'],_0x51eae2['fragmentIn'+'cludes']=_0x3bef1a,_0x51eae2['fragmentDe'+'fines']=_0x28bdd7;}['createShad'+'erDefiniti'+'on'](_0x1ba8a9,_0x4d4c26){var _0x27ee9e;const _0x276290=_0x4d4c26['shaderDesc'],_0xc8436f=_0x1ba8a9['isWebGPU']&&!!_0x276290['vertexWGSL']&&!!_0x276290['fragmentWG'+'SL']&&(((_0x27ee9e=_0x4d4c26['shaderChun'+'ks'])==null?void(0x736+-0x6d*-0x35+-0x1dc7):_0x27ee9e['useWGSL'])??!(0x1*0xf1+-0x5*-0x595+-0xe6d*0x2)),_0x1e635c={'name':'ShaderMate'+'rial-'+_0x276290['uniqueName'],'shaderLanguage':_0xc8436f?it:Fe,'fragmentOutputTypes':_0x276290['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0x276290['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x276290['meshBindGr'+'oupFormat']},_0x109ec9=_0xc8436f?it:Fe,_0x2cbead=bh['merge'](Pe['get'](_0x1ba8a9,_0x109ec9),_0x4d4c26['shaderChun'+'ks'][_0x109ec9]);return this['createAttr'+'ibutesDefi'+'nition'](_0x1e635c,_0x4d4c26),this['createVert'+'exDefiniti'+'on'](_0x1e635c,_0x4d4c26,_0x2cbead,_0xc8436f),this['createFrag'+'mentDefini'+'tion'](_0x1e635c,_0x4d4c26,_0x2cbead,_0xc8436f),Jt['createDefi'+'nition'](_0x1ba8a9,_0x1e635c);}}const MA=new PA();class Xn extends tr{constructor(_0x16f736){super(),h(this,'_shaderDes'+'c'),this['shaderDesc']=_0x16f736;}set['shaderDesc'](_0x2dd705){if(this['_shaderDes'+'c']=void(-0x14e6+-0x4c6+-0x3e*-0x6a),_0x2dd705&&(this['_shaderDes'+'c']={'uniqueName':_0x2dd705['uniqueName'],'attributes':_0x2dd705['attributes'],'fragmentOutputTypes':_0x2dd705['fragmentOu'+'tputTypes'],'vertexGLSL':_0x2dd705['vertexGLSL'],'fragmentGLSL':_0x2dd705['fragmentGL'+'SL'],'vertexWGSL':_0x2dd705['vertexWGSL'],'fragmentWGSL':_0x2dd705['fragmentWG'+'SL']},_0x2dd705['vertexCode']||_0x2dd705['fragmentCo'+'de']||_0x2dd705['shaderLang'+'uage'])){w['deprecated']('ShaderMate'+'rial\x20['+_0x2dd705['uniqueName']+(']:\x20vertexC'+'ode,\x20fragm'+'entCode\x20an'+'d\x20shaderLa'+'nguage\x20pro'+'perties\x20of'+'\x20ShaderDes'+'c\x20is\x20depre'+'cated.\x20Use'+'\x20vertexGLS'+'L,\x20fragmen'+'tGLSL,\x20ver'+'texWGSL\x20or'+'\x20fragmentW'+'GSL\x20instea'+'d.'));const _0x14ab77=_0x2dd705['shaderLang'+'uage']??Fe;_0x14ab77===Fe?(this['_shaderDes'+'c']['vertexGLSL']=_0x2dd705['vertexCode'],this['_shaderDes'+'c']['fragmentGL'+'SL']=_0x2dd705['fragmentCo'+'de']):_0x14ab77===it&&(this['_shaderDes'+'c']['vertexWGSL']=_0x2dd705['vertexCode'],this['_shaderDes'+'c']['fragmentWG'+'SL']=_0x2dd705['fragmentCo'+'de']);}this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0x4229a2){return super['copy'](_0x4229a2),this['shaderDesc']=_0x4229a2['shaderDesc'],this;}['getShaderV'+'ariant'](_0x42b69c){const {objDefs:_0x10f65d}=_0x42b69c,_0x34733e={'defines':$t['getCoreDef'+'ines'](this,_0x42b69c),'skin':(_0x10f65d&nl)!==0x14f6+0x1bb6+-0x30ac,'useInstancing':(_0x10f65d&ol)!==-0x5*0x788+-0x391+0x2939,'useMorphPosition':(_0x10f65d&ll)!==0x61+-0xeb0+0x1*0xe4f,'useMorphNormal':(_0x10f65d&cl)!==-0x5*0x535+-0x91*0x3d+0x3c96,'useMorphTextureBasedInt':(_0x10f65d&hl)!==0x1*-0xe59+-0xb*0x2b7+0x2c36,'pass':_0x42b69c['pass'],'gamma':_0x42b69c['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0x42b69c['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0x42b69c['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'shaderChunks':this['shaderChun'+'ks']},_0x219068=new Ad(_0x42b69c['viewUnifor'+'mFormat'],_0x42b69c['viewBindGr'+'oupFormat'],_0x42b69c['vertexForm'+'at']),_0x141bee=Hn(_0x42b69c['device']);return _0x141bee['register']('shader-mat'+'erial',MA),_0x141bee['getProgram']('shader-mat'+'erial',_0x34733e,_0x219068,this['userId']);}}const Iv=(_0x333036,_0x591457)=>{const _0x30bacc=_0x591457['length']/(-0x91+-0x1e7*-0x13+-0x71d*0x5),_0x36f1fc=_0x333036['length']/(-0x2216+-0x5*0x59f+0xc*0x52f),_0x5a92f3=new D(),_0x1bfbce=new D(),_0x1bf822=new D(),_0x17e897=new D(),_0x1c6ea1=new D(),_0x48a926=new D(),_0x3581ea=[];for(let _0x1df3da=0x11e+-0x267c+0x2*0x12af;_0x1df3da<_0x333036['length'];_0x1df3da++)_0x3581ea[_0x1df3da]=-0x1117+-0x9*0x15b+0x1d4a;for(let _0x3d5399=0x105a+0x32+-0x1*0x108c;_0x3d5399<_0x30bacc;_0x3d5399++){const _0x122264=_0x591457[_0x3d5399*(0x1*0x124c+-0x3fa+0xe4f*-0x1)],_0x36d220=_0x591457[_0x3d5399*(0xe8+-0x1a71+0x147*0x14)+(0x3ea+0x1b8+0x5a1*-0x1)],_0x5ea97f=_0x591457[_0x3d5399*(0x1224+-0x2*0x853+-0x17b)+(-0x41+0x125e*-0x1+0xfb*0x13)];_0x5a92f3['set'](_0x333036[_0x122264*(0x1f66+0x3e*-0x85+0xd3*0x1)],_0x333036[_0x122264*(-0x135*-0x3+-0x2381+0x1fe5)+(-0x556+0x57*-0x4f+0x8*0x406)],_0x333036[_0x122264*(0xa54+0x1611+-0xa*0x33d)+(0xc7*-0xd+-0x131+0x2*0x5a7)]),_0x1bfbce['set'](_0x333036[_0x36d220*(0x1d22+0x2360+-0x4f*0xd1)],_0x333036[_0x36d220*(-0x1*-0x59e+0x1c9b+-0x2236)+(0x146f+0x18d2+0x2*-0x16a0)],_0x333036[_0x36d220*(-0x7b*0x3b+0x15c1+0x69b)+(-0x12f8+-0x85f+0x1b59)]),_0x1bf822['set'](_0x333036[_0x5ea97f*(-0x1*-0x1a88+-0x1*-0x345+-0x1dca)],_0x333036[_0x5ea97f*(0x6*0x504+-0x3f4+-0x1*0x1a21)+(0x243b+-0xb61*-0x2+0x3afc*-0x1)],_0x333036[_0x5ea97f*(0x1ce3+0x20b1*0x1+-0x3d91)+(0x418*-0x6+0x1575+-0x1*-0x31d)]),_0x17e897['sub2'](_0x1bfbce,_0x5a92f3),_0x1c6ea1['sub2'](_0x1bf822,_0x5a92f3),_0x48a926['cross'](_0x17e897,_0x1c6ea1)['normalize'](),_0x3581ea[_0x122264*(0x842+-0xa*-0x287+-0x2185)]+=_0x48a926['x'],_0x3581ea[_0x122264*(-0x1e7b+-0x26bf+0x453d)+(0x1d27+0x5*0x6c2+-0x13*0x350)]+=_0x48a926['y'],_0x3581ea[_0x122264*(-0x1*0x1bcb+-0x13f*0x2+0x1e4c)+(-0x26e8*-0x1+-0x2c5*-0x8+-0x61b*0xa)]+=_0x48a926['z'],_0x3581ea[_0x36d220*(0x46*0x13+0x132d+-0x4*0x617)]+=_0x48a926['x'],_0x3581ea[_0x36d220*(-0x167e+0x19bc+-0x33b*0x1)+(0x2fb+-0x1a7d*0x1+-0x1*-0x1783)]+=_0x48a926['y'],_0x3581ea[_0x36d220*(-0x135e+-0x20b4+-0x43*-0xc7)+(-0x24ad+-0xcb4+0x3163)]+=_0x48a926['z'],_0x3581ea[_0x5ea97f*(-0xcd8+0x1*-0x695+0x137*0x10)]+=_0x48a926['x'],_0x3581ea[_0x5ea97f*(0x130+-0x11b1+0x1084)+(0xf5*-0xe+-0xb4f+0x18b6)]+=_0x48a926['y'],_0x3581ea[_0x5ea97f*(-0x2070+-0x2184+0x41f7)+(-0x663*-0x3+0x25cf+0x1c7b*-0x2)]+=_0x48a926['z'];}for(let _0x2d14e1=0x246*-0x10+0x211e+-0x342*-0x1;_0x2d14e1<_0x36f1fc;_0x2d14e1++){const _0x14d49b=_0x3581ea[_0x2d14e1*(0xeb3+-0x447+-0x215*0x5)],_0x3f96b8=_0x3581ea[_0x2d14e1*(-0x6eb*0x5+0x5a6*-0x5+0x3ed8)+(-0x1c*-0xc0+-0x1bf3+0x164*0x5)],_0x6e69fc=_0x3581ea[_0x2d14e1*(-0xc*0x77+-0x75d+0xcf4)+(-0xb6d+-0xca*0x11+0x18d9)],_0x44cdf5=(0x43c+-0x159*-0xc+-0x1467)/Math['sqrt'](_0x14d49b*_0x14d49b+_0x3f96b8*_0x3f96b8+_0x6e69fc*_0x6e69fc);_0x3581ea[_0x2d14e1*(-0x2464+-0x78f+0x14b*0x22)]*=_0x44cdf5,_0x3581ea[_0x2d14e1*(-0x14f+0x3*-0x3a5+0x1*0xc41)+(0x224d*0x1+-0x139c+-0x1d6*0x8)]*=_0x44cdf5,_0x3581ea[_0x2d14e1*(0x78b+0x15af+-0x1d37)+(0x1*0x11fb+-0xf24+-0x1d*0x19)]*=_0x44cdf5;}return _0x3581ea;},Mr=(_0x529ed0,_0x970ad,_0x2f7e00,_0x4063bf)=>{const _0x368370=_0x4063bf['length']/(-0x1*0x1d7f+0x1bb9+0x1*0x1c9),_0x4369b0=_0x529ed0['length']/(0x1b53+-0xd2b*-0x2+-0x35a6),_0x480744=new D(),_0x2d9201=new D(),_0x4b03fd=new D(),_0x1d437b=new J(),_0x4cea3a=new J(),_0x19f8a6=new J(),_0xf21de3=new D(),_0x295857=new D(),_0x3b9edf=new Float32Array(_0x4369b0*(-0xd1+-0x21a5+0x19*0x161)),_0x1a59c2=new Float32Array(_0x4369b0*(0x2c2*0x7+0x3*-0xad3+-0x1*-0xd2e)),_0x13182b=[];for(let _0x589db0=0x134*0x7+-0x8d6+-0x35*-0x2;_0x589db0<_0x368370;_0x589db0++){const _0x4dc8fe=_0x4063bf[_0x589db0*(-0x856+-0x1*-0x148f+-0xc36)],_0x2340fd=_0x4063bf[_0x589db0*(-0x247b+-0x1*0x368+0x27e6)+(0x1fa7+0x170*-0x8+-0x1426)],_0x1007f6=_0x4063bf[_0x589db0*(-0x817+-0x1*-0xeb7+-0x69d)+(-0x2356*0x1+-0x9c7+-0x1*-0x2d1f)];_0x480744['set'](_0x529ed0[_0x4dc8fe*(-0x1ecc+-0xffa+-0x6af*-0x7)],_0x529ed0[_0x4dc8fe*(0x13c*-0x1a+0x108a+0xf91)+(-0x3*-0x1eb+-0x14ae*0x1+0x6*0x27d)],_0x529ed0[_0x4dc8fe*(-0x1d33+0x223f*0x1+-0x509*0x1)+(0x2518+0x133c+-0x3852)]),_0x2d9201['set'](_0x529ed0[_0x2340fd*(-0x1345*0x1+-0x18ba+0x2c02*0x1)],_0x529ed0[_0x2340fd*(0x224e+-0x481+-0x1dca)+(0x7*0x3ab+0x1d14+-0x36c0)],_0x529ed0[_0x2340fd*(0x9a8*0x4+-0x1*-0x1b59+-0x20fb*0x2)+(-0x23a0+-0x19*0x55+0x2bef)]),_0x4b03fd['set'](_0x529ed0[_0x1007f6*(-0x912+0xdd4+0xf*-0x51)],_0x529ed0[_0x1007f6*(0x60f+-0xfea*-0x1+-0x6*0x3a9)+(-0x141c+-0x1892+0x4f7*0x9)],_0x529ed0[_0x1007f6*(0xa7*0x9+-0x10d9*0x1+0xafd)+(-0x3*-0x736+-0x121c+-0x384)]),_0x1d437b['set'](_0x2f7e00[_0x4dc8fe*(0x5*0x7b9+-0xfe4+0x16b7*-0x1)],_0x2f7e00[_0x4dc8fe*(-0x2*-0x108a+0x16a4+-0x37b6)+(0x1*0x595+-0xf32+0x99e)]),_0x4cea3a['set'](_0x2f7e00[_0x2340fd*(0xe*0x1e8+0x1*-0x1b88+0xda)],_0x2f7e00[_0x2340fd*(-0xb*0xc1+-0x36*0x9+0xa33)+(-0x1*0x1d+-0x953+0x971)]),_0x19f8a6['set'](_0x2f7e00[_0x1007f6*(0x15d8+0x3*-0x2cd+-0xd6f)],_0x2f7e00[_0x1007f6*(-0x14c2+-0x298+0x175c)+(-0x2ab*0x1+0x215b+0x623*-0x5)]);const _0x13feac=_0x2d9201['x']-_0x480744['x'],_0x5c8e4b=_0x4b03fd['x']-_0x480744['x'],_0x1eccc1=_0x2d9201['y']-_0x480744['y'],_0x484f46=_0x4b03fd['y']-_0x480744['y'],_0x2f0778=_0x2d9201['z']-_0x480744['z'],_0x208be6=_0x4b03fd['z']-_0x480744['z'],_0x538f36=_0x4cea3a['x']-_0x1d437b['x'],_0x47e3dc=_0x19f8a6['x']-_0x1d437b['x'],_0x351bcb=_0x4cea3a['y']-_0x1d437b['y'],_0x321685=_0x19f8a6['y']-_0x1d437b['y'],_0x57aceb=_0x538f36*_0x321685-_0x47e3dc*_0x351bcb;if(_0x57aceb===-0xf*0x93+0xa02+-0x165)_0xf21de3['set'](-0x5f8+-0xabb*0x1+0x10b3,0x1*-0x2548+-0x206d+0x45b6,0x17fe+0x9d*0x19+0x1*-0x2753),_0x295857['set'](0x1*-0x6d9+-0x63*-0x4b+-0x6b*0x35,-0x225d+0x7*-0x40f+0x5*0xc8e,0x1501+0x31d+-0x181e);else{const _0x3f4a91=(-0x8cc+0x17a3*-0x1+0x81c*0x4)/_0x57aceb;_0xf21de3['set']((_0x321685*_0x13feac-_0x351bcb*_0x5c8e4b)*_0x3f4a91,(_0x321685*_0x1eccc1-_0x351bcb*_0x484f46)*_0x3f4a91,(_0x321685*_0x2f0778-_0x351bcb*_0x208be6)*_0x3f4a91),_0x295857['set']((_0x538f36*_0x5c8e4b-_0x47e3dc*_0x13feac)*_0x3f4a91,(_0x538f36*_0x484f46-_0x47e3dc*_0x1eccc1)*_0x3f4a91,(_0x538f36*_0x208be6-_0x47e3dc*_0x2f0778)*_0x3f4a91);}_0x3b9edf[_0x4dc8fe*(-0x1a77+0x1fa+0x1880)+(-0x1bd9+0x2*-0xa2b+0x302f)]+=_0xf21de3['x'],_0x3b9edf[_0x4dc8fe*(-0x755+0xf7*-0x1+0x84f)+(-0x13d*0x11+-0x252e+0xe8f*0x4)]+=_0xf21de3['y'],_0x3b9edf[_0x4dc8fe*(0x1b1d+-0x1*-0x53b+-0x2055)+(-0x15*0x21+0x1d06+0x3*-0x8c5)]+=_0xf21de3['z'],_0x3b9edf[_0x2340fd*(0x1*0x19a+0x1*-0x16c3+0x54b*0x4)+(0x10a*0x17+-0x1583+-0x263)]+=_0xf21de3['x'],_0x3b9edf[_0x2340fd*(0x13*-0x1b5+0x626+0x1a4c)+(0x2b1*-0xb+0x10d5+-0xcc7*-0x1)]+=_0xf21de3['y'],_0x3b9edf[_0x2340fd*(-0x458+0x221b*-0x1+-0x12*-0x223)+(-0x1d5d+0x501*0x7+-0x5a8)]+=_0xf21de3['z'],_0x3b9edf[_0x1007f6*(0x6a*0x3c+-0x1546+0x38f*-0x1)+(-0x244a+0x356+0x4*0x83d)]+=_0xf21de3['x'],_0x3b9edf[_0x1007f6*(-0x744+0xbe2+-0x49b)+(0x13c3+0x1*-0x65f+-0xd63)]+=_0xf21de3['y'],_0x3b9edf[_0x1007f6*(0x2248+-0x10b9*0x1+-0x118c)+(-0x2104+-0x1926+-0x1b6*-0x22)]+=_0xf21de3['z'],_0x1a59c2[_0x4dc8fe*(0x1*-0x1987+0x22d*-0x1+0x1bb7)+(-0x2542+-0x4*0x2d6+0x309a)]+=_0x295857['x'],_0x1a59c2[_0x4dc8fe*(-0xf7f+-0xf*0x162+0x3a0*0xa)+(0x959+0x1*-0x17f3+-0xe9b*-0x1)]+=_0x295857['y'],_0x1a59c2[_0x4dc8fe*(0x2*0x10d5+-0x12*0x180+-0x6a7)+(0x1*0x102f+-0x5*-0x73b+-0x314*0x11)]+=_0x295857['z'],_0x1a59c2[_0x2340fd*(0x1602+-0xe3*-0x13+-0x26d8)+(0x18*0x28+0x1d78+0x4*-0x84e)]+=_0x295857['x'],_0x1a59c2[_0x2340fd*(-0x66e*-0x2+0x13ca+-0x1*0x20a3)+(-0xf*0xa5+-0xabc+0x1468)]+=_0x295857['y'],_0x1a59c2[_0x2340fd*(0xb2*-0x1d+0x1c2+-0x5*-0x3af)+(0x256a+-0x59*0x2+-0x24b6)]+=_0x295857['z'],_0x1a59c2[_0x1007f6*(-0x1648+0x2178*0x1+-0xb2d*0x1)+(-0x94*0x25+-0x10d8+-0x2*-0x131e)]+=_0x295857['x'],_0x1a59c2[_0x1007f6*(-0x33*-0x36+-0x4*-0x461+-0x1c43)+(-0x1c03+-0x294+0x1e98)]+=_0x295857['y'],_0x1a59c2[_0x1007f6*(0x618+0x1fc7*0x1+0x4*-0x977)+(-0x151*0x11+-0x1*0x1f4e+-0x35b1*-0x1)]+=_0x295857['z'];}const _0x2221a4=new D(),_0x241a00=new D(),_0x33e0ba=new D(),_0x4a432c=new D();for(let _0x84752f=0x1950+-0x2*-0x1254+0x6*-0xa54;_0x84752f<_0x4369b0;_0x84752f++){_0x33e0ba['set'](_0x970ad[_0x84752f*(-0x1079+-0x12e0+0x235c)],_0x970ad[_0x84752f*(-0xa*-0x74+-0x4c5*0x2+0x505)+(-0x13*0x137+-0x157d+0x2c93)],_0x970ad[_0x84752f*(0xa97+0x149c+-0x1f30)+(-0x1f7a+0xb5*0x17+0xf39)]),_0x2221a4['set'](_0x3b9edf[_0x84752f*(0x1c33+-0x3*-0x831+0x34c3*-0x1)],_0x3b9edf[_0x84752f*(0x24+0x5*0x9b+-0x328*0x1)+(-0x128*0x1e+0x1c63+-0x1*-0x64e)],_0x3b9edf[_0x84752f*(0x296+0x159b*0x1+-0x182e)+(-0xbe*-0xd+-0x2e8+-0x2*0x35e)]),_0x241a00['set'](_0x1a59c2[_0x84752f*(-0x1*0x192f+-0x20b4+-0x39e6*-0x1)],_0x1a59c2[_0x84752f*(-0x502+0xe94*-0x2+0x222d)+(-0xc*0x112+-0x1*0xc2d+0x1906)],_0x1a59c2[_0x84752f*(0x4*0x8ad+0x1fe9*0x1+-0x429a)+(0x90a+-0x21*-0x119+-0x2d41)]);const _0x1eb133=_0x33e0ba['dot'](_0x2221a4);_0x4a432c['copy'](_0x33e0ba)['mulScalar'](_0x1eb133),_0x4a432c['sub2'](_0x2221a4,_0x4a432c)['normalize'](),_0x13182b[_0x84752f*(-0xd*0xe8+0x184f+-0xc83)]=_0x4a432c['x'],_0x13182b[_0x84752f*(0x232a+-0x21ad+-0xd*0x1d)+(0x19e6+0xe0*0x18+-0x157*0x23)]=_0x4a432c['y'],_0x13182b[_0x84752f*(-0xe19+0x1*0x2383+-0x1566*0x1)+(-0x1ae*-0x10+-0x1e5e*-0x1+0x3*-0x1314)]=_0x4a432c['z'],_0x4a432c['cross'](_0x33e0ba,_0x2221a4),_0x13182b[_0x84752f*(0x261f+-0x6*0x53a+0x1*-0x6bf)+(-0x1*-0xee0+-0x49+-0xe94)]=_0x4a432c['dot'](_0x241a00)<0x673+0xa5*-0x1c+-0xb99*-0x1?-(0x21c2*-0x1+-0x8fc*0x2+0x33bb):0x189f+0x859+-0x20f7;}return _0x13182b;};class Ta{constructor(){h(this,'positions'),h(this,'normals'),h(this,'colors'),h(this,'uvs'),h(this,'uvs1'),h(this,'blendIndic'+'es'),h(this,'blendWeigh'+'ts'),h(this,'tangents'),h(this,'indices');}['calculateN'+'ormals'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=Iv(this['positions'],this['indices']);}['calculateT'+'angents'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),w['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const pu=(-0x7fd+-0x17bf*-0x1+-0x7df*0x2)/(0x6*0x42d+0x9eb+-0x22b9),hg=0x2*-0x338+0x228c+-0x1c1b-pu*(0x3*0xa0e+0x146d+-0x233*0x17);class mu extends Ta{constructor(_0x4f2c5d={}){super();const _0x33ee7a=_0x4f2c5d['halfExtent'+'s']??new D(-0x1*0x16d9+-0x12d3+0x379*0xc+0.5,-0x12a5+0x2114+-0x2e3*0x5+0.5,-0x1548+-0x2f*0xc1+0x38b7+0.5),_0x22e47d=_0x4f2c5d['widthSegme'+'nts']??-0xae1+-0x1*-0x1801+-0xd1f,_0x16bed0=_0x4f2c5d['lengthSegm'+'ents']??0x27+0xf80+-0xfa6,_0x2060aa=_0x4f2c5d['heightSegm'+'ents']??0x407*-0x3+0x1*0xd72+-0xae*0x2,_0x307c56=_0x4f2c5d['yOffset']??0x24c+0x89*-0x1+-0xb*0x29,_0x1a0e83=-_0x33ee7a['y']+_0x307c56,_0x37e13b=_0x33ee7a['y']+_0x307c56,_0x339e5d=[new D(-_0x33ee7a['x'],_0x1a0e83,_0x33ee7a['z']),new D(_0x33ee7a['x'],_0x1a0e83,_0x33ee7a['z']),new D(_0x33ee7a['x'],_0x37e13b,_0x33ee7a['z']),new D(-_0x33ee7a['x'],_0x37e13b,_0x33ee7a['z']),new D(_0x33ee7a['x'],_0x1a0e83,-_0x33ee7a['z']),new D(-_0x33ee7a['x'],_0x1a0e83,-_0x33ee7a['z']),new D(-_0x33ee7a['x'],_0x37e13b,-_0x33ee7a['z']),new D(_0x33ee7a['x'],_0x37e13b,-_0x33ee7a['z'])],_0xcb4d76=[[-0x23c9+0x10cf*-0x2+0x4567,0x5c*-0x43+-0x5b*0x62+-0x1*-0x3aeb,0xe8*0x8+0x1*0x2477+-0x2bb4],[0xbc*-0x1a+0x29*-0x71+0xf*0x27b,0x2393+-0x2*-0x123f+-0x1d*0x27c,-0x1616+-0x728*-0x2+0x7cd],[-0x4*0x7fb+-0x773*-0x1+0x187c,-0x892*0x3+-0x1*0x26a5+0x405d,-0x77*-0x3d+-0xb67+-0x10ee],[-0x4a1*-0x3+0x1*-0x1e55+0x1073,0x1*-0x1c0d+0xa3d+0x11d0,0x1*0xc5+-0x113d+0x107c],[-0xd*-0x291+0x1cf+0x3*-0xbb9,0x24ef+-0x106c+0x1dd*-0xb,-0x22f1+0x1863+0x8*0x152],[-0x881+0x2*0x5b4+-0x6*0x7b,0x48+-0x1c69*-0x1+0x5*-0x5bd,-0x24cb*0x1+0x5*-0x2db+0x3318]],_0x28cd79=[[-0x2223+-0xc9e+0x2ec1,-0x5d9*0x3+-0x40f*0x5+-0x12eb*-0x2,-0x2416+-0x232*-0xa+0xe23],[-0x1169+0x18d2+0x769*-0x1,0x1fb4+0x4d*0xa+-0x1*0x22b6,-(0x5*-0x57d+0x1b53+0x1f)],[-0x1a0b+0xee3+0xb28,0x1*-0x11a1+0x1*0x125d+-0xbb,-0x759+0x1065+-0x90c],[-0xdc5*0x1+0x328*-0x4+0x1a65,-(0x33*0xa3+-0x1339+-0xd3f),0x295+-0x1*0xf2+-0x1a3],[0xa31+0x718*0x4+0x2690*-0x1,0xc6f+-0xd69+0xfa,0x74*0x4c+0x1*0x109+-0x3*0xbd3],[-(-0x157d+-0x18ec+0x2e6a),-0xb34+-0xf4d*0x2+0x29ce,-0xb*-0xad+0x1ce0+-0x244f]],_0x4ad1e5={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0x3bcc69=[],_0x31050c=[],_0x2322bb=[],_0x5be2be=[];let _0xe4b79f=0x47*-0x47+0xf*0x6c+0xd5d;const _0x2f7477=(_0x10ecdf,_0x35e7fb,_0x4ad5ac)=>{const _0x37811c=new D(),_0x35b2dd=new D(),_0x49a8dc=new D(),_0x1c3de1=new D();for(let _0x1337a1=0xb6e+0x51f*0x6+-0x2a28;_0x1337a1<=_0x35e7fb;_0x1337a1++)for(let _0x53cc2b=-0x1d3*0x1+0x1ec8+-0x1*0x1cf5;_0x53cc2b<=_0x4ad5ac;_0x53cc2b++){_0x37811c['lerp'](_0x339e5d[_0xcb4d76[_0x10ecdf][-0x2098+0x14b7*-0x1+0x354f]],_0x339e5d[_0xcb4d76[_0x10ecdf][0x9e*-0x3a+0x18d*0x6+0x15*0x143]],_0x1337a1/_0x35e7fb),_0x35b2dd['lerp'](_0x339e5d[_0xcb4d76[_0x10ecdf][-0x33e+-0x1*0x1ce1+-0x201f*-0x1]],_0x339e5d[_0xcb4d76[_0x10ecdf][0x12*-0x104+-0x1*-0x1487+-0x23d]],_0x53cc2b/_0x4ad5ac),_0x49a8dc['sub2'](_0x35b2dd,_0x339e5d[_0xcb4d76[_0x10ecdf][-0x1135+0x2365+-0x1230]]),_0x1c3de1['add2'](_0x37811c,_0x49a8dc);let _0x41d637=_0x1337a1/_0x35e7fb,_0x49e703=_0x53cc2b/_0x4ad5ac;_0x3bcc69['push'](_0x1c3de1['x'],_0x1c3de1['y'],_0x1c3de1['z']),_0x31050c['push'](_0x28cd79[_0x10ecdf][0x1ad3+0x162a*-0x1+0x4a9*-0x1],_0x28cd79[_0x10ecdf][0x1b0+-0x18b+-0x3*0xc],_0x28cd79[_0x10ecdf][0x2493+-0x6e4+0x6b*-0x47]),_0x2322bb['push'](_0x41d637,-0x5ba+-0x26a1+0x2c5c-_0x49e703),_0x41d637=_0x41d637*hg+pu,_0x49e703=_0x49e703*hg+pu,_0x41d637/=0xad*0x14+0xa69+-0x1*0x17ea,_0x49e703/=-0x1*0x210+-0x172*0x6+-0x395*-0x3,_0x41d637+=_0x10ecdf%(-0x13bc+0x1f50+-0xb91)/(0x83f+0x18b4+-0x20f0),_0x49e703+=Math['floor'](_0x10ecdf/(0x178c+-0x1*-0x5e2+0x1d6b*-0x1))/(0x117f*-0x1+-0x11aa*-0x1+0x2*-0x14),_0x1337a1<_0x35e7fb&&_0x53cc2b<_0x4ad5ac&&(_0x5be2be['push'](_0xe4b79f+_0x4ad5ac+(-0xafa+-0x11e9+-0xac*-0x2b),_0xe4b79f+(-0x1*-0x259f+0x10f5*0x1+-0x3693),_0xe4b79f),_0x5be2be['push'](_0xe4b79f+_0x4ad5ac+(-0x692+-0x1421*-0x1+-0xa*0x15b),_0xe4b79f+_0x4ad5ac+(-0xd80+0x1da+-0x4*-0x2ea),_0xe4b79f+(0x1289+0x3f7*-0x2+-0xa9a))),_0xe4b79f++;}};_0x2f7477(_0x4ad1e5['FRONT'],_0x22e47d,_0x2060aa),_0x2f7477(_0x4ad1e5['BACK'],_0x22e47d,_0x2060aa),_0x2f7477(_0x4ad1e5['TOP'],_0x22e47d,_0x16bed0),_0x2f7477(_0x4ad1e5['BOTTOM'],_0x22e47d,_0x16bed0),_0x2f7477(_0x4ad1e5['RIGHT'],_0x16bed0,_0x2060aa),_0x2f7477(_0x4ad1e5['LEFT'],_0x16bed0,_0x2060aa),this['positions']=_0x3bcc69,this['normals']=_0x31050c,this['uvs']=_0x2322bb,this['uvs1']=_0x2322bb,this['indices']=_0x5be2be,_0x4f2c5d['calculateT'+'angents']&&(this['tangents']=Mr(_0x3bcc69,_0x31050c,_0x2322bb,_0x5be2be));}}class _m extends Ta{constructor(_0x49870e={}){super();const _0x419f11=_0x49870e['radius']??-0x149e+-0x2d*-0xab+0x971*-0x1+0.5,_0x30189f=_0x49870e['latitudeBa'+'nds']??0x3d*-0xa3+0x26d6+0x11,_0x7c6a9b=_0x49870e['longitudeB'+'ands']??-0x2414*0x1+0x22d5+0x1*0x14f,_0x1e2225=[],_0x1319ec=[],_0x979264=[],_0x37f88e=[];for(let _0x31a4cd=-0xc53+0x2*-0x3e0+-0x23b*-0x9;_0x31a4cd<=_0x30189f;_0x31a4cd++){const _0xd581a9=_0x31a4cd*Math['PI']/_0x30189f,_0x22c60e=Math['sin'](_0xd581a9),_0x2cc4f8=Math['cos'](_0xd581a9);for(let _0x55410f=0xd*0x52+0x72d*0x1+-0xb57;_0x55410f<=_0x7c6a9b;_0x55410f++){const _0x524903=_0x55410f*(-0x50b*0x4+-0x17f0+0x2c1e)*Math['PI']/_0x7c6a9b-Math['PI']/(0xda1+-0x1929+-0xd3*-0xe),_0x2fa79e=Math['sin'](_0x524903),_0x4e228f=Math['cos'](_0x524903)*_0x22c60e,_0x17dc1b=_0x2cc4f8,_0x599948=_0x2fa79e*_0x22c60e,_0x6cf407=0x1*-0x9a3+-0x2377+0x2d1b-_0x55410f/_0x7c6a9b,_0x17c277=-0x1279+-0x12e6+0x2560-_0x31a4cd/_0x30189f;_0x1e2225['push'](_0x4e228f*_0x419f11,_0x17dc1b*_0x419f11,_0x599948*_0x419f11),_0x1319ec['push'](_0x4e228f,_0x17dc1b,_0x599948),_0x979264['push'](_0x6cf407,-0x1*-0x4b1+-0x1d52*0x1+0x1*0x18a2-_0x17c277);}}for(let _0x38c9eb=-0x15*0x1c5+0x3f*0x3d+0x237*0xa;_0x38c9eb<_0x30189f;++_0x38c9eb)for(let _0x1c1100=-0x1c54+-0x267a+0x42ce;_0x1c1100<_0x7c6a9b;++_0x1c1100){const _0x242f0d=_0x38c9eb*(_0x7c6a9b+(-0x202b+0x1a2f+0x49*0x15))+_0x1c1100,_0x44f598=_0x242f0d+_0x7c6a9b+(0x2*0x107b+0x9d9+-0x1*0x2ace);_0x37f88e['push'](_0x242f0d+(0x1f0d+0x2*0x359+0x1*-0x25be),_0x44f598,_0x242f0d),_0x37f88e['push'](_0x242f0d+(0x233*0xf+0x8f4+-0x29f0),_0x44f598+(0xab8+0x55*-0xf+-0x5bc),_0x44f598);}this['positions']=_0x1e2225,this['normals']=_0x1319ec,this['uvs']=_0x979264,this['uvs1']=_0x979264,this['indices']=_0x37f88e,_0x49870e['calculateT'+'angents']&&(this['tangents']=Mr(_0x1e2225,_0x1319ec,_0x979264,_0x37f88e));}}class DA extends _m{constructor(_0x2f4a7f={}){const _0x594aa0=_0x2f4a7f['latitudeBa'+'nds']??0x10d3*-0x1+-0x210e+0x5*0x9fd,_0x482bd8=_0x2f4a7f['longitudeB'+'ands']??0x13c0+-0xe9e*-0x1+-0x224e;super({'radius':0.5,'latitudeBands':_0x594aa0,'longitudeBands':_0x482bd8});const _0x40149c=-0x1d75+-0x1b14+-0x3889*-0x1+0.1,_0x1c71de=-0x1557+-0x1*-0x39+0x151e+0.95,_0x4cfd8a=_0x1c71de*_0x1c71de,_0x110654=this['positions'];for(let _0x3ee956=-0x10f1*0x2+0x1*0x2576+-0x1ca*0x2;_0x3ee956<_0x110654['length'];_0x3ee956+=-0x1*-0x1bb1+0x1b5e+0xd*-0x43c){const _0x2005f8=_0x110654[_0x3ee956]/(-0x1a*0x41+0x1ad7+0x6bf*-0x3+0.5);let _0x50df0c=_0x110654[_0x3ee956+(-0x47*-0x3c+-0xf13*0x1+0x8*-0x32)]/(-0x169f*0x1+0x48b+0x1214+0.5);const _0xc891f5=_0x110654[_0x3ee956+(0x2597+-0x2222*0x1+0x373*-0x1)]/(0x3b7+-0xb93*-0x1+-0xf4a+0.5);_0x50df0c<0x52*-0x47+-0x345+0x1a03&&(_0x50df0c*=-0x3*0x85f+-0x13ac*-0x1+0x571+0.3,_0x2005f8*_0x2005f8+_0xc891f5*_0xc891f5<_0x4cfd8a&&(_0x50df0c=-_0x40149c)),_0x50df0c+=_0x40149c,_0x50df0c*=0x1547+0x1ef8+-0x343f+0.5,_0x110654[_0x3ee956+(-0x3b9*-0xa+-0x633+0xb*-0x2d2)]=_0x50df0c;}}}class zo{static['create'](_0x129095,_0x260eb5){switch(_0x260eb5){case Qw:return zo['box'](_0x129095);case Jw:return zo['dome'](_0x129095);}return w['assert'](_0x260eb5===Bo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x260eb5),zo['infinite'](_0x129095);}static['infinite'](_0x2ca0b9){return Ge['fromGeomet'+'ry'](_0x2ca0b9,new mu(_0x2ca0b9));}static['box'](_0x135e2f){return Ge['fromGeomet'+'ry'](_0x135e2f,new mu({'yOffset':0.5}));}static['dome'](_0x35dd18){const _0x37ccf7=new DA({'latitudeBands':0x32,'longitudeBands':0x32});return _0x37ccf7['normals']=void(-0x8b6+-0x795+-0x61*-0x2b),_0x37ccf7['uvs']=void(-0x1*0x188f+-0x5*-0x4be+0xd9),Ge['fromGeomet'+'ry'](_0x35dd18,_0x37ccf7);}}class IA{constructor(_0x2c9247,_0x235e9a,_0x3774d9,_0xea3996,_0x3e189c){h(this,'meshInstan'+'ce',null),h(this,'_depthWrit'+'e',!(-0x1*0x2679+0x12f6*-0x1+0x3970));const _0x4660b8=new Xn({'uniqueName':'SkyMateria'+'l','vertexGLSL':Pe['get'](_0x2c9247,Fe)['get']('skyboxVS'),'fragmentGLSL':Pe['get'](_0x2c9247,Fe)['get']('skyboxPS'),'vertexWGSL':Pe['get'](_0x2c9247,it)['get']('skyboxVS'),'fragmentWGSL':Pe['get'](_0x2c9247,it)['get']('skyboxPS'),'attributes':{'aPosition':Me}});_0x4660b8['setDefine']('{SKYBOX_DE'+'CODE_FNC}',Tr['decodeFunc'](_0xea3996['encoding'])),_0x3e189c!==Bo&&_0x4660b8['setDefine']('SKYMESH',''),_0xea3996['cubemap']&&_0x4660b8['setDefine']('SKY_CUBEMA'+'P',''),_0x4660b8['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x235e9a['skyboxHigh'+'lightMulti'+'plier']),_0xea3996['cubemap']?_0x4660b8['setParamet'+'er']('texture_cu'+'beMap',_0xea3996):(_0x4660b8['setParamet'+'er']('texture_en'+'vAtlas',_0xea3996),_0x4660b8['setParamet'+'er']('mipLevel',_0x235e9a['skyboxMip'])),_0x4660b8['cull']=Fo,_0x4660b8['depthWrite']=this['_depthWrit'+'e'];const _0x2dbb12=_0x235e9a['layers']['getLayerBy'+'Id'](Kp);if(_0x2dbb12){const _0x5b1881=zo['create'](_0x2c9247,_0x3e189c),_0x592945=new He(_0x5b1881,_0x4660b8,_0x3774d9);this['meshInstan'+'ce']=_0x592945,_0x592945['cull']=!(-0x19e*-0x11+0x1e96+-0x3a13),_0x592945['pick']=!(-0x1d47+-0x1663+0x33ab),_0x2dbb12['addMeshIns'+'tances']([_0x592945]),this['skyLayer']=_0x2dbb12;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}set['depthWrite'](_0x1d8a9d){this['_depthWrit'+'e']=_0x1d8a9d,this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']['depthWrite']=_0x1d8a9d);}get['depthWrite'](){return this['_depthWrit'+'e'];}}class LA{constructor(_0x358e2d){h(this,'_type',Bo),h(this,'_center',new D(-0x1cc8+0x1902+0x3c6,0x504+-0xd14+-0x3b*-0x23,-0x161b+0x1ff6+-0x57*0x1d)),h(this,'skyMesh',null),h(this,'_depthWrit'+'e',!(0x1*-0xc98+-0x9dc+0x1675)),h(this,'node',new Ie('SkyMeshNod'+'e')),(this['device']=_0x358e2d['device'],this['scene']=_0x358e2d,this['center']=new D(0x14cf+-0x249c+0x1*0xfcd,0x20b9+0x1b25+-0xbf9*0x5,0x4*0x33d+0x1*-0x1c07+0xf13),this['centerArra'+'y']=new Float32Array(0x97*0x3b+-0x3d*0x1e+0x3d*-0x74),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0x3bf2f6){this['type']=_0x3bf2f6['skyType']??Bo,this['node']['setLocalPo'+'sition'](new D(_0x3bf2f6['skyMeshPos'+'ition']??[-0x2*-0x1237+0x1e67+-0x1*0x42d5,-0x660+0x95*-0x5+0x949,-0x1*-0x1833+-0xc*-0x14b+0x1*-0x27b7])),this['node']['setLocalEu'+'lerAngles'](new D(_0x3bf2f6['skyMeshRot'+'ation']??[-0xb*-0x295+0x1*-0x1c73+-0x6*-0x2,0x1*-0x2303+0x10*-0x5+0x2353,0x122*0xa+-0x1f6e+0x53*0x3e])),this['node']['setLocalSc'+'ale'](new D(_0x3bf2f6['skyMeshSca'+'le']??[-0x3*0x7c8+0x1*-0x10c9+0x2822,0x67*-0x35+0x3e3+-0x5f*-0x2f,-0x2654+0x2705+-0x16*0x8])),_0x3bf2f6['skyCenter']&&(this['_center']=new D(_0x3bf2f6['skyCenter']));}set['type'](_0x279ff0){this['_type']!==_0x279ff0&&(this['_type']=_0x279ff0,this['scene']['updateShad'+'ers']=!(0x77*-0x20+0xe08+-0x3*-0x48),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x36d380){this['_center']['copy'](_0x36d380);}get['center'](){return this['_center'];}set['depthWrite'](_0x71d03a){this['_depthWrit'+'e']!==_0x71d03a&&(this['_depthWrit'+'e']=_0x71d03a,this['skyMesh']&&(this['skyMesh']['depthWrite']=_0x71d03a));}get['depthWrite'](){return this['_depthWrit'+'e'];}['updateSkyM'+'esh'](){const _0x127741=this['scene']['_getSkybox'+'Tex']();_0x127741&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new IA(this['device'],this['scene'],this['node'],_0x127741,this['type']),this['skyMesh']['depthWrite']=this['_depthWrit'+'e'],this['scene']['fire']('set:skybox',_0x127741));}['resetSkyMe'+'sh'](){var _0x1ac1c9;(_0x1ac1c9=this['skyMesh'])==null||_0x1ac1c9['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==Bo){const {center:_0x3151bd,centerArray:_0x4bed88}=this,_0x4784d1=new D();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x3151bd,_0x4784d1),_0x4bed88[-0x2*-0x11c6+-0x16f7+0x1*-0xc95]=_0x4784d1['x'],_0x4bed88[-0x137*-0xd+-0x62e+-0x99c]=_0x4784d1['y'],_0x4bed88[-0x199*0x9+0x14c2+0xe9*-0x7]=_0x4784d1['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x4bed88);}}}const Ch=new Ie();Ch['worldTrans'+'form']=te['IDENTITY'],Ch['_dirtyWorl'+'d']=Ch['_dirtyNorm'+'al']=!(0x16*-0x12d+-0x2158+0x3b37);class RA{constructor(_0x140f0b,_0x40cff3,_0x3195f2){this['material']=_0x40cff3,this['layer']=_0x3195f2,this['positions']=[],this['colors']=[],this['mesh']=new Ge(_0x140f0b),this['meshInstan'+'ce']=null;}['addLines'](_0x3321bd,_0x181779){const _0x4a201f=this['positions'],_0x1406d4=_0x3321bd['length'];for(let _0x212650=-0x1146+0xdb7+-0x38f*-0x1;_0x212650<_0x1406d4;_0x212650++){const _0x2821cb=_0x3321bd[_0x212650];_0x4a201f['push'](_0x2821cb['x'],_0x2821cb['y'],_0x2821cb['z']);}const _0x41e8a5=this['colors'];if(_0x181779['length'])for(let _0x1692a4=0x1*-0x1871+-0x1*-0x329+0x1548;_0x1692a4<_0x1406d4;_0x1692a4++){const _0x5c85a5=_0x181779[_0x1692a4];_0x41e8a5['push'](_0x5c85a5['r'],_0x5c85a5['g'],_0x5c85a5['b'],_0x5c85a5['a']);}else{for(let _0x19299a=0xc7*0x1d+0x88d*0x2+-0x27a5;_0x19299a<_0x1406d4;_0x19299a++)_0x41e8a5['push'](_0x181779['r'],_0x181779['g'],_0x181779['b'],_0x181779['a']);}}['addLinesAr'+'rays'](_0x563353,_0x495789){const _0x1f0531=this['positions'];for(let _0x5bf149=0xbe*-0x2f+0x3*0x8f9+0x7f7;_0x5bf149<_0x563353['length'];_0x5bf149+=0x2685+-0xb3*0x1+0x1*-0x25cf)_0x1f0531['push'](_0x563353[_0x5bf149],_0x563353[_0x5bf149+(0x3d2*-0x3+-0xd2b+0x18a2)],_0x563353[_0x5bf149+(0x22f*0xa+0x1807+-0x2ddb)]);const _0x38b336=this['colors'];if(_0x495789['length']){for(let _0x56e291=0x2299+-0x4*0x90a+0x18f;_0x56e291<_0x495789['length'];_0x56e291+=0x123*0x1b+0x1eb+-0x254*0xe)_0x38b336['push'](_0x495789[_0x56e291],_0x495789[_0x56e291+(-0xcae+-0x1be1+0xb0*0x3b)],_0x495789[_0x56e291+(-0x9*-0x241+-0x1*0x16ed+0x153*0x2)],_0x495789[_0x56e291+(0x17cc+0x13b2+-0x2b7b)]);}else{const _0x517f64=_0x563353['length']/(0x13fe+-0xb97+-0x864);for(let _0x4fecd3=0xd*-0x27e+-0x25*0xad+0x5*0xb7b;_0x4fecd3<_0x517f64;_0x4fecd3++)_0x38b336['push'](_0x495789['r'],_0x495789['g'],_0x495789['b'],_0x495789['a']);}}['onPreRende'+'r'](_0xc65381,_0x3245a5){this['positions']['length']>0x1*0x1411+-0x1a24+-0x137*-0x5&&this['material']['transparen'+'t']===_0x3245a5&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](hd,!(-0x248*-0x10+0xfbb*0x1+0x17e*-0x23)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new He(this['mesh'],this['material'],Ch)),_0xc65381['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=0xaed*-0x1+-0x1*-0x2539+-0x1*0x1a4c,this['colors']['length']=0xa4c+-0x219*0x11+0x195d;}}class OA{constructor(_0x37161a){this['device']=_0x37161a,this['map']=new Map();}['getBatch'](_0x20419a,_0x70415c){let _0x3d7cb3=this['map']['get'](_0x20419a);return _0x3d7cb3||(_0x3d7cb3=new RA(this['device'],_0x20419a,_0x70415c),this['map']['set'](_0x20419a,_0x3d7cb3)),_0x3d7cb3;}['onPreRende'+'r'](_0x57bf89,_0x5d826d){this['map']['forEach'](_0x5b34d8=>{_0x5b34d8['onPreRende'+'r'](_0x57bf89,_0x5d826d);});}['clear'](){this['map']['forEach'](_0x165f05=>_0x165f05['clear']());}}const Ts=[],Ba=new D();class FA{constructor(_0x3bbfd2){h(this,'shaderDesc'+'s',new Map()),(this['device']=_0x3bbfd2,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x985fc5){const _0x5cd113=new Xn({'uniqueName':'ImmediateL'+'ine','vertexGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'ineVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'inePS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'ineVS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'inePS'),'attributes':{'vertex_position':Me,'vertex_color':Wt}});return _0x5cd113['blendType']=Zs,_0x5cd113['depthTest']=_0x985fc5,_0x5cd113['update'](),_0x5cd113;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(0xe32+0x1294+-0x1*0x20c6))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(-0x589+-0x26a7+0x2c31))),this['_materialN'+'oDepth'];}['getBatch'](_0x40c01d,_0x28888d){let _0x4b903d=this['batchesMap']['get'](_0x40c01d);_0x4b903d||(_0x4b903d=new OA(this['device']),this['batchesMap']['set'](_0x40c01d,_0x4b903d)),this['allBatches']['add'](_0x4b903d);const _0x42ab64=_0x28888d?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x4b903d['getBatch'](_0x42ab64,_0x40c01d);}['getShaderD'+'esc'](_0x341206,_0x598927,_0x46fdf2){return this['shaderDesc'+'s']['has'](_0x341206)||this['shaderDesc'+'s']['set'](_0x341206,{'uniqueName':'DebugShade'+'r:'+_0x341206,'vertexGLSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ve'+'c2\x20uv0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uv0\x20=\x20ve'+'rtex_posit'+'ion.xy\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20','vertexWGSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20@ver'+'tex\x20fn\x20ver'+'texMain(in'+'put:\x20Verte'+'xInput)\x20->'+'\x20VertexOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20un'+'iform.matr'+'ix_model\x20*'+'\x20vec4f(inp'+'ut.vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.uv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20+\x20vec2f'+'(0.5);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20','fragmentGLSL':_0x598927,'fragmentWGSL':_0x46fdf2,'attributes':{'vertex_position':Me}}),this['shaderDesc'+'s']['get'](_0x341206);}['getTexture'+'ShaderDesc'](_0x34cae0){const _0xe75665=Tr['decodeFunc'](_0x34cae0);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x34cae0,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0xe75665+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20colorMa'+'pSampler:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20@fragment'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output:\x20Fr'+'agmentOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20sample'+'dTex\x20=\x20tex'+'tureSample'+'(colorMap,'+'\x20colorMapS'+'ampler,\x20in'+'put.uv0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'linearColo'+'r:\x20vec3f\x20='+'\x20'+_0xe75665+('(sampledTe'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(gammaCorr'+'ectOutput('+'linearColo'+'r),\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<uff>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20@'+'fragment\x20f'+'n\x20fragment'+'Main(input'+'\x20:\x20Fragmen'+'tInput)\x20->'+'\x20FragmentO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'nput.uv0\x20*'+'\x20vec2f(tex'+'tureDimens'+'ions(color'+'Map,\x200)));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20fetchedCo'+'lor\x20:\x20vec4'+'f\x20=\x20textur'+'eLoad(colo'+'rMap,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(fetchedCo'+'lor.xyz,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20void\x20main'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x20getLi'+'nearScreen'+'Depth(getI'+'mageEffect'+'UV(uv0))\x20*'+'\x20camera_pa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(vec3(de'+'pth)),\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20u'+'v0:\x20vec2f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20@fragme'+'nt\x20fn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20depth'+':\x20f32\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(inpu'+'t.uv0))\x20*\x20'+'uniform.ca'+'mera_param'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(vec3f(dep'+'th)),\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ge(this['device']),this['quadMesh']['setPositio'+'ns']([-(-0x95e+-0x1258+0x1bb6+0.5),-(0x8d+-0x1188+0x15*0xcf+0.5),-0x509*-0x7+0x1ae6+0x1*-0x3e25,-0x2*-0x2b9+0x1c18+-0x218a+0.5,-(0x1df9*-0x1+0x12d1+0xb28+0.5),0x1*-0xf5c+-0x1*-0x170e+0x18a*-0x5,-(0xe30+-0x1*0x1ce9+0xeb9+0.5),0x81*0x46+-0x2*-0x2e1+-0x2908+0.5,-0x1b28+0x1*0x1944+0x79*0x4,-0x287*-0x9+0xaa+-0x1769+0.5,0x20fa+0x26d5+0x1f*-0x251+0.5,-0x1cf*0x9+0x20c8+-0x1081]),this['quadMesh']['update'](Er)),this['quadMesh'];}['drawMesh'](_0x3eab2e,_0x42ac71,_0x2822d3,_0x36d8c5,_0x53a06f){if(!_0x36d8c5){const _0x2e032d=this['getGraphNo'+'de'](_0x42ac71);_0x36d8c5=new He(_0x2822d3,_0x3eab2e,_0x2e032d);}let _0x3159ea=this['layerMeshI'+'nstances']['get'](_0x53a06f);_0x3159ea||(_0x3159ea=[],this['layerMeshI'+'nstances']['set'](_0x53a06f,_0x3159ea)),_0x3159ea['push'](_0x36d8c5);}['drawWireAl'+'ignedBox'](_0x5bf455,_0x147e6c,_0x257804,_0x458565,_0x2573b0,_0x10f61d){if(_0x10f61d){const _0x31c011=(_0x3dcf39,_0x4e3e37,_0x4b5cff)=>{Ba['set'](_0x3dcf39,_0x4e3e37,_0x4b5cff),_0x10f61d['transformP'+'oint'](Ba,Ba),Ts['push'](Ba['x'],Ba['y'],Ba['z']);};_0x31c011(_0x5bf455['x'],_0x5bf455['y'],_0x5bf455['z']),_0x31c011(_0x5bf455['x'],_0x147e6c['y'],_0x5bf455['z']),_0x31c011(_0x5bf455['x'],_0x147e6c['y'],_0x5bf455['z']),_0x31c011(_0x147e6c['x'],_0x147e6c['y'],_0x5bf455['z']),_0x31c011(_0x147e6c['x'],_0x147e6c['y'],_0x5bf455['z']),_0x31c011(_0x147e6c['x'],_0x5bf455['y'],_0x5bf455['z']),_0x31c011(_0x147e6c['x'],_0x5bf455['y'],_0x5bf455['z']),_0x31c011(_0x5bf455['x'],_0x5bf455['y'],_0x5bf455['z']),_0x31c011(_0x5bf455['x'],_0x5bf455['y'],_0x147e6c['z']),_0x31c011(_0x5bf455['x'],_0x147e6c['y'],_0x147e6c['z']),_0x31c011(_0x5bf455['x'],_0x147e6c['y'],_0x147e6c['z']),_0x31c011(_0x147e6c['x'],_0x147e6c['y'],_0x147e6c['z']),_0x31c011(_0x147e6c['x'],_0x147e6c['y'],_0x147e6c['z']),_0x31c011(_0x147e6c['x'],_0x5bf455['y'],_0x147e6c['z']),_0x31c011(_0x147e6c['x'],_0x5bf455['y'],_0x147e6c['z']),_0x31c011(_0x5bf455['x'],_0x5bf455['y'],_0x147e6c['z']),_0x31c011(_0x5bf455['x'],_0x5bf455['y'],_0x5bf455['z']),_0x31c011(_0x5bf455['x'],_0x5bf455['y'],_0x147e6c['z']),_0x31c011(_0x5bf455['x'],_0x147e6c['y'],_0x5bf455['z']),_0x31c011(_0x5bf455['x'],_0x147e6c['y'],_0x147e6c['z']),_0x31c011(_0x147e6c['x'],_0x147e6c['y'],_0x5bf455['z']),_0x31c011(_0x147e6c['x'],_0x147e6c['y'],_0x147e6c['z']),_0x31c011(_0x147e6c['x'],_0x5bf455['y'],_0x5bf455['z']),_0x31c011(_0x147e6c['x'],_0x5bf455['y'],_0x147e6c['z']);}else Ts['push'](_0x5bf455['x'],_0x5bf455['y'],_0x5bf455['z'],_0x5bf455['x'],_0x147e6c['y'],_0x5bf455['z'],_0x5bf455['x'],_0x147e6c['y'],_0x5bf455['z'],_0x147e6c['x'],_0x147e6c['y'],_0x5bf455['z'],_0x147e6c['x'],_0x147e6c['y'],_0x5bf455['z'],_0x147e6c['x'],_0x5bf455['y'],_0x5bf455['z'],_0x147e6c['x'],_0x5bf455['y'],_0x5bf455['z'],_0x5bf455['x'],_0x5bf455['y'],_0x5bf455['z'],_0x5bf455['x'],_0x5bf455['y'],_0x147e6c['z'],_0x5bf455['x'],_0x147e6c['y'],_0x147e6c['z'],_0x5bf455['x'],_0x147e6c['y'],_0x147e6c['z'],_0x147e6c['x'],_0x147e6c['y'],_0x147e6c['z'],_0x147e6c['x'],_0x147e6c['y'],_0x147e6c['z'],_0x147e6c['x'],_0x5bf455['y'],_0x147e6c['z'],_0x147e6c['x'],_0x5bf455['y'],_0x147e6c['z'],_0x5bf455['x'],_0x5bf455['y'],_0x147e6c['z'],_0x5bf455['x'],_0x5bf455['y'],_0x5bf455['z'],_0x5bf455['x'],_0x5bf455['y'],_0x147e6c['z'],_0x5bf455['x'],_0x147e6c['y'],_0x5bf455['z'],_0x5bf455['x'],_0x147e6c['y'],_0x147e6c['z'],_0x147e6c['x'],_0x147e6c['y'],_0x5bf455['z'],_0x147e6c['x'],_0x147e6c['y'],_0x147e6c['z'],_0x147e6c['x'],_0x5bf455['y'],_0x5bf455['z'],_0x147e6c['x'],_0x5bf455['y'],_0x147e6c['z']);this['getBatch'](_0x2573b0,_0x458565)['addLinesAr'+'rays'](Ts,_0x257804),Ts['length']=0x7*-0x161+0x18*-0x19a+0x3017;}['drawWireSp'+'here'](_0x53cc0b,_0x59188b,_0x282f67,_0x707d2f,_0x53554a,_0x1e18db){const _0x12e2f2=(-0xf48+0x611*0x5+-0xf0b)*Math['PI']/_0x707d2f;let _0x1d0fc4=-0x7*0x4b7+-0x1f2d*0x1+0x402e;for(let _0x5d2054=-0x19ca*-0x1+0x1b9c+-0xaae*0x5;_0x5d2054<_0x707d2f;_0x5d2054++){const _0x32b109=Math['sin'](_0x1d0fc4),_0x4217f7=Math['cos'](_0x1d0fc4);_0x1d0fc4+=_0x12e2f2;const _0x58458c=Math['sin'](_0x1d0fc4),_0xecb299=Math['cos'](_0x1d0fc4);Ts['push'](_0x53cc0b['x']+_0x59188b*_0x32b109,_0x53cc0b['y'],_0x53cc0b['z']+_0x59188b*_0x4217f7),Ts['push'](_0x53cc0b['x']+_0x59188b*_0x58458c,_0x53cc0b['y'],_0x53cc0b['z']+_0x59188b*_0xecb299),Ts['push'](_0x53cc0b['x']+_0x59188b*_0x32b109,_0x53cc0b['y']+_0x59188b*_0x4217f7,_0x53cc0b['z']),Ts['push'](_0x53cc0b['x']+_0x59188b*_0x58458c,_0x53cc0b['y']+_0x59188b*_0xecb299,_0x53cc0b['z']),Ts['push'](_0x53cc0b['x'],_0x53cc0b['y']+_0x59188b*_0x32b109,_0x53cc0b['z']+_0x59188b*_0x4217f7),Ts['push'](_0x53cc0b['x'],_0x53cc0b['y']+_0x59188b*_0x58458c,_0x53cc0b['z']+_0x59188b*_0xecb299);}this['getBatch'](_0x1e18db,_0x53554a)['addLinesAr'+'rays'](Ts,_0x282f67),Ts['length']=0x25f*0x1+0x4a8*-0x1+0x249;}['getGraphNo'+'de'](_0x5aed32){const _0xc36f6c=new Ie('ImmediateD'+'ebug');return _0xc36f6c['worldTrans'+'form']=_0x5aed32,_0xc36f6c['_dirtyWorl'+'d']=_0xc36f6c['_dirtyNorm'+'al']=!(-0x439*-0x7+-0x1fbc+-0x117*-0x2),_0xc36f6c;}['onPreRende'+'rLayer'](_0x239986,_0x166df9,_0x262bd1){if(this['batchesMap']['forEach']((_0x350031,_0x3d6c5c)=>{_0x3d6c5c===_0x239986&&_0x350031['onPreRende'+'r'](_0x166df9,_0x262bd1);}),!this['updatedLay'+'ers']['has'](_0x239986)){this['updatedLay'+'ers']['add'](_0x239986);const _0x145199=this['layerMeshI'+'nstances']['get'](_0x239986);if(_0x145199){for(let _0x158d7c=0x1f40+-0x97a+0x3*-0x742;_0x158d7c<_0x145199['length'];_0x158d7c++)_0x166df9['push'](_0x145199[_0x158d7c]);_0x145199['length']=0x16c8+-0x571+-0x1157;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x36ef93=>_0x36ef93['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class NA{constructor(){h(this,'type',Kn),h(this,'color',new ie(0x219a*-0x1+-0x1*-0x2615+0x25*-0x1f,0x9f4+0x7*0x152+0x111*-0x12,-0x5*0x447+0x2*0x12e+0x1*0x1307)),h(this,'density',-0x1524+-0x35b*0x5+0x25eb),h(this,'start',0x1222+-0x895+-0x4*0x263),h(this,'end',-0x22d7+-0x11bd+0x387c);}}class Et extends me{constructor(_0xe8e584){super(),h(this,'ambientBak'+'e',!(-0x137f+-0x1c2d+-0x1*-0x2fad)),h(this,'ambientBak'+'eOcclusion'+'Brightness',-0x14d6+0x2386+-0x10*0xeb),h(this,'ambientBak'+'eOcclusion'+'Contrast',0x22c8+0x1*-0x25d3+0x30b),h(this,'ambientLig'+'ht',new ie(-0x6ad+0xf50*0x1+-0x8a3,0x90*0x42+-0x9cc+0x48e*-0x6,-0x3bb*-0xa+-0x2*0xa3b+-0x10d8)),h(this,'ambientLum'+'inance',-0x15*-0xc0+0x17d0+-0x2790),h(this,'exposure',-0x3*0x17f+-0x1*0x114a+0x15c8),h(this,'lightmapSi'+'zeMultipli'+'er',-0xea9+-0xdf4+0x4c5*0x6),h(this,'lightmapMa'+'xResolutio'+'n',0x68d*0x5+-0xf1c+-0x9a5),h(this,'lightmapMo'+'de',jc),h(this,'lightmapFi'+'lterEnable'+'d',!(-0x267*0x5+-0x1f1b*-0x1+-0xb5*0x1b)),h(this,'lightmapHD'+'R',!(-0x56*-0xa+0x2*0x883+-0x8d*0x25)),h(this,'root',null),h(this,'physicalUn'+'its',!(0x19*0x127+0xc82+-0x2950)),h(this,'_envAtlas',null),h(this,'_skyboxCub'+'eMap',null),h(this,'_fogParams',new NA()),h(this,'forcePassT'+'hroughSpec'+'ular',!(-0x1a7f+0x1*0x33+-0x1a4d*-0x1)),(w['assert'](_0xe8e584,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0xe8e584,this['_gravity']=new D(0x2f*-0x16+0x946+0x43*-0x14,-(-0xd03*-0x1+-0x8*0x18b+-0xa2+0.8000000000000007),0x13*0x17a+-0x26cf+-0xac1*-0x1),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=-0x1d3f+0x1761+0x5df,this['_skyboxLum'+'inance']=-0x3*0x93c+0x9c3+0x11f1,this['_skyboxMip']=0x1*0x16d9+0xd9*0x1+0x12*-0x151,this['_skyboxHig'+'hlightMult'+'iplier']=0x60*-0x52+-0x2*-0xb7+0x1d53,this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x575*-0x4+0xa*-0x21a+-0xcf),this['_skyboxRot'+'ation']=new le(),this['_skyboxRot'+'ationMat3']=new _i(),this['_skyboxRot'+'ationMat4']=new te(),this['_ambientBa'+'keNumSampl'+'es']=-0x1a6d+0x1*-0x3c8+0x1e36*0x1,this['_ambientBa'+'keSpherePa'+'rt']=-0x879*0x2+0x11e6+-0xf4+0.4,this['_lightmapF'+'ilterRange']=-0x1115+-0x1598+0x26b7,this['_lightmapF'+'ilterSmoot'+'hness']=0x1*-0x11e1+0x105b+-0x1*-0x186+0.2,this['_clustered'+'LightingEn'+'abled']=!(0x2438+-0x59+-0x23df),this['_lightingP'+'arams']=new Mv(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(-0x10fd+-0x1bec*-0x1+-0xaef);}),this['_sky']=new LA(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(-0x1*0x673+0x25ef+-0x1f7c),this['_shaderVer'+'sion']=0x1*0x256f+0x777+-0x2ce6,this['immediate']=new FA(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](Zp);}set['ambientBak'+'eNumSample'+'s'](_0x5dfbdf){this['_ambientBa'+'keNumSampl'+'es']=Y['clamp'](Math['floor'](_0x5dfbdf),0x86*-0xa+0xe1e+-0x8e1,0x2*0x522+0x1*-0xb77+0x232);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x440ddd){this['_ambientBa'+'keSpherePa'+'rt']=Y['clamp'](_0x440ddd,0x2c+0x6*0x130+-0x74c+0.001,-0xe*-0x1a3+-0x18f3+0x20a);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x59094e){if(this['device']['isWebGPU']&&!_0x59094e){w['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x59094e){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x59094e;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x22a70f){_0x22a70f!==this['_envAtlas']&&(this['_envAtlas']=_0x22a70f,_0x22a70f&&(_0x22a70f['addressU']=ue,_0x22a70f['addressV']=ue,_0x22a70f['minFilter']=vt,_0x22a70f['magFilter']=vt,_0x22a70f['mipmaps']=!(-0xa9*-0x38+0xff0+-0x1d*0x1d3)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x486490){const _0x1ae25c=this['_layers'];this['_layers']=_0x486490,this['fire']('set:layers',_0x1ae25c,_0x486490);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x272f2f){this['_lightmapF'+'ilterRange']=Math['max'](_0x272f2f,0x80*0x1c+0x17b+0x529*-0x3+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x4b8fe7){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x4b8fe7,-0x821*0x3+-0x226a+0x1*0x3acd+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0x5b9b85){_0x5b9b85=_0x5b9b85||[];const _0x15a81a=this['_prefilter'+'edCubemaps'];(_0x15a81a['length']!==_0x5b9b85['length']||_0x15a81a['some']((_0x3cbcb3,_0x18365)=>_0x3cbcb3!==_0x5b9b85[_0x18365]))&&(_0x5b9b85['length']===0x2*0xc66+0x145b*-0x1+-0x1d*0x27&&_0x5b9b85['every'](_0x454ff8=>!!_0x454ff8)?(this['_internalE'+'nvAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0x5b9b85,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0x5b9b85['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x4014cd){_0x4014cd!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x4014cd,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x252819){_0x252819!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x252819,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x58d951){_0x58d951!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x58d951,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x3c6379){_0x3c6379!==this['_skyboxMip']&&(this['_skyboxMip']=_0x3c6379,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x603256){_0x603256!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x603256,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x398a06){if(!this['_skyboxRot'+'ation']['equals'](_0x398a06)){const _0x55750c=_0x398a06['equals'](le['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x398a06),_0x55750c?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](D['ZERO'],_0x398a06,D['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x55750c&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(0x7f*0x15+-0xd22+-0x5*-0x8b),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x3c92c2,_0x2db950,_0x4df859=ie['WHITE'],_0x5e73fb=!(-0x32*-0x59+-0x34*0x2f+-0x7d6),_0x38fabd=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x38fabd,_0x5e73fb)['addLines']([_0x3c92c2,_0x2db950],[_0x4df859,_0x4df859]);}['drawLines'](_0x2dc774,_0xf7e2a8,_0x2eae65=!(-0x14fb*0x1+0x23d9+-0xede),_0xa305b2=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0xa305b2,_0x2eae65)['addLines'](_0x2dc774,_0xf7e2a8);}['drawLineAr'+'rays'](_0x305822,_0x5c0c97,_0x590590=!(0x1182+-0x1e16+0xc94),_0xff1c94=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0xff1c94,_0x590590)['addLinesAr'+'rays'](_0x305822,_0x5c0c97);}['applySetti'+'ngs'](_0x5f4821){const _0x1e90b8=_0x5f4821['physics'],_0x513987=_0x5f4821['render'];this['_gravity']['set'](_0x1e90b8['gravity'][0x48c+0x5e8+-0xa74],_0x1e90b8['gravity'][0x7*0x29+0x1*0x1783+-0x18a1],_0x1e90b8['gravity'][0x4*0x681+-0x1dcc+0x3ca]),this['ambientLig'+'ht']['set'](_0x513987['global_amb'+'ient'][-0x1968+-0x85*0x17+-0x83*-0x49],_0x513987['global_amb'+'ient'][0x6cd*-0x1+0x2542+-0x1e74*0x1],_0x513987['global_amb'+'ient'][-0x16f*-0x2+0x2b*0x43+-0xe1d*0x1]),this['ambientLum'+'inance']=_0x513987['ambientLum'+'inance'],this['fog']['type']=_0x513987['fog'],this['fog']['color']['set'](_0x513987['fog_color'][-0x24a+-0x1bf9+0x1e43],_0x513987['fog_color'][0x1059+0x2485*0x1+0x411*-0xd],_0x513987['fog_color'][0x1*0x1fcb+0xb*0x262+-0x39ff]),this['fog']['start']=_0x513987['fog_start'],this['fog']['end']=_0x513987['fog_end'],this['fog']['density']=_0x513987['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x513987['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x513987['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x513987['lightmapMo'+'de'],this['exposure']=_0x513987['exposure'],this['_skyboxInt'+'ensity']=_0x513987['skyboxInte'+'nsity']??-0xfa6*-0x2+-0x782+-0x17c9,this['_skyboxLum'+'inance']=_0x513987['skyboxLumi'+'nance']??0x1d5+0x289*-0xe+0x6fc9,this['_skyboxMip']=_0x513987['skyboxMip']??-0x1d13+0x1*-0x1005+0x168c*0x2,_0x513987['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new le()['setFromEul'+'erAngles'](_0x513987['skyboxRota'+'tion'][-0x1*-0x871+0x1574+-0x1de5],_0x513987['skyboxRota'+'tion'][-0x68c+-0x2327+-0x11*-0x274],_0x513987['skyboxRota'+'tion'][-0x1*0x18cb+-0x9fb*0x3+0x36be])),this['sky']['applySetti'+'ngs'](_0x513987),this['clusteredL'+'ightingEna'+'bled']=_0x513987['clusteredL'+'ightingEna'+'bled']??!(0x585+0x1a81*-0x1+0x14fd),this['lighting']['applySetti'+'ngs'](_0x513987),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0x43a0e0=>{_0x513987['hasOwnProp'+'erty'](_0x43a0e0)&&(this[_0x43a0e0]=_0x513987[_0x43a0e0]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x3cb9b7=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x3cb9b7[[0x42*0x66+-0x1bfe+0x1b2,-0x144b+-0x12e7+0x2733,-0x1*-0x1aa5+-0x1ae+-0xc7a*0x2,-0x569+0xa9*-0x29+0x207e,0x25b6+-0x1*0x701+-0x2*0xf58,-0x6*0x4c1+0x109*-0x22+0x3fbe][this['_skyboxMip']]]||this['_envAtlas']||_0x3cb9b7[-0x43*0x85+0x3*-0xcd7+0x4954]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x3cb9b7[0x7c0+-0x1aa6+0x973*0x2]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(-0x1*0x1559+-0x18b*0x6+0x1e9b);}['setSkybox'](_0x1fa357){_0x1fa357?(this['skybox']=_0x1fa357[-0x71e*0x3+-0x61*-0x2e+-0xfb*-0x4]||null,_0x1fa357[-0x3*0xb5+0x75f*0x5+-0x22bb]&&!_0x1fa357[0x1f3f+0x2a5*0xc+0x2*-0x1f7d]['cubemap']?this['envAtlas']=_0x1fa357[0xe26+-0x4*-0x5a1+0x24a9*-0x1]:this['prefiltere'+'dCubemaps']=_0x1fa357['slice'](-0x484*-0x3+-0x1df5+0x2*0x835)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Ne;}}h(Et,'EVENT_SETL'+'AYERS','set:layers'),h(Et,'EVENT_SETS'+'KYBOX','set:skybox'),h(Et,'EVENT_PRER'+'ENDER','prerender'),h(Et,'EVENT_POST'+'RENDER','postrender'),h(Et,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),h(Et,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),h(Et,'EVENT_PREC'+'ULL','precull'),h(Et,'EVENT_POST'+'CULL','postcull');class Lv{constructor(_0x1332b3,_0x2e67b6,_0x35b5cb){this['device']=_0x1332b3,this['inverseBin'+'dPose']=_0x2e67b6,this['boneNames']=_0x35b5cb;}}const kA=[0x12a6+0x15c6+0x31c*-0xd,0x8be+-0x115b+0x89d,0x5ad*-0x2+0x1*0x69d+0x4be*0x1,0x2*0xc2+-0x1662+0xa6f*0x2,0xc4+0x1*-0x70f+0x1*0x64b,-0x42*0x89+0xec1*0x2+0x5d1*0x1,0x2*0x443+-0x23*0x12+-0x610,-0xe*0x1b9+0x19b1*-0x1+0x137*0x29,-0xa6f+0x22e8+-0x1878,-0x1*-0x175+-0x1*0x1c4b+0x1ad6,-0x163c+-0x1f*-0x65+0x1*0xa01,0x3*0x108+-0x1cbc+0x5*0x521],UA=[-0xa*0x2e4+-0x267*0x3+0x739*0x5,0x1*-0x10c7+-0xd*0x16f+0x236b*0x1,0x2*-0x10f3+-0x25b2+0x479b,0x1a75+0x22aa+-0x15*0x2e9,0x17e2*-0x1+-0xbf*0x7+-0x1*-0x1d1e,-0x1*-0x15cf+0x18f9+-0x1*0x2ec7];class BA extends me{constructor(_0x1e1711,_0x5e5894){super(),this['_device']=_0x1e1711,this['_pixelsPer'+'Unit']=_0x5e5894&&_0x5e5894['pixelsPerU'+'nit']!==void(0x94f*0x1+0x4bb+0xe0a*-0x1)?_0x5e5894['pixelsPerU'+'nit']:0xf13+0x173d+0x1*-0x264f,this['_renderMod'+'e']=_0x5e5894&&_0x5e5894['renderMode']!==void(0xe*0x4a+-0xbcb*0x1+0x3*0x295)?_0x5e5894['renderMode']:ci,this['_atlas']=_0x5e5894&&_0x5e5894['atlas']!==void(0x440+0xd*0x1c6+-0x5*0x576)?_0x5e5894['atlas']:null,this['_frameKeys']=_0x5e5894&&_0x5e5894['frameKeys']!==void(-0xdaf*0x1+0x1d35*0x1+-0xf86)?_0x5e5894['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(0x7*-0xce+-0x1cf1+0x2294),this['_meshesDir'+'ty']=!(-0x25*-0x27+-0x5*-0x5fc+-0x238e),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x206f70){this['_frameKeys']=_0x206f70,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0xf7+-0xb*-0x359+-0x23dc):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x206f70);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x49dde8){_0x49dde8!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x49dde8,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x943*0x1+0x603+-0x10*-0x34):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x49dde8));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x24102e){this['_pixelsPer'+'Unit']!==_0x24102e&&(this['_pixelsPer'+'Unit']=_0x24102e,this['fire']('set:pixels'+'PerUnit',_0x24102e),this['_atlas']&&this['_frameKeys']&&this['renderMode']===ci&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x7ee+-0x47f*0x6+0x22e8):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x1cc5be){if(this['_renderMod'+'e']===_0x1cc5be)return;const _0x3d9caf=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x1cc5be,this['fire']('set:render'+'Mode',_0x1cc5be),(_0x3d9caf===ci||_0x1cc5be===ci)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x8b*0xb+0xdc*-0xd+0x1125):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x56c221=this['_meshes']['length'];for(let _0x1ce4d4=0x52f*0x7+0x1*0x1a57+-0x3ea*0x10;_0x1ce4d4<_0x56c221;_0x1ce4d4++){const _0x1a899c=this['_meshes'][_0x1ce4d4];_0x1a899c&&_0x1a899c['destroy']();}const _0x17b3fe=this['_frameKeys']['length'];this['_meshes']=new Array(_0x17b3fe);const _0xbd825d=this['renderMode']===Pt||this['_renderMod'+'e']===Mt?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x468cfd=-0x143a+0x1ce9+-0x8af;_0x468cfd<_0x17b3fe;_0x468cfd++){const _0xa8276f=this['_atlas']['frames'][this['_frameKeys'][_0x468cfd]];this['_meshes'][_0x468cfd]=_0xa8276f?_0xbd825d['call'](this,_0xa8276f):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x382f88){const _0x2e9ead=_0x382f88['rect'],_0x411d51=this['_atlas']['texture']['width'],_0x657026=this['_atlas']['texture']['height'],_0x269a22=_0x2e9ead['z']/this['_pixelsPer'+'Unit'],_0xe0dab8=_0x2e9ead['w']/this['_pixelsPer'+'Unit'],_0x55db87=_0x382f88['pivot']['x'],_0x41205b=_0x382f88['pivot']['y'],_0x36c494=[-_0x55db87*_0x269a22,-_0x41205b*_0xe0dab8,-0x14a7+-0x103e+0x761*0x5,(0x1*-0xa6a+-0x463*-0x4+-0x721-_0x55db87)*_0x269a22,-_0x41205b*_0xe0dab8,-0x5b1+0x21a2+0x137*-0x17,(-0x578*0x4+-0x17*-0x52+0x5*0x2e7-_0x55db87)*_0x269a22,(0x88e*0x1+0x1555+-0xef1*0x2-_0x41205b)*_0xe0dab8,0x2299+0x22b1+0x62*-0xb5,-_0x55db87*_0x269a22,(-0x7*-0x62+0x3c8*-0x1+-0x11b*-0x1-_0x41205b)*_0xe0dab8,-0x213*0x9+-0x73f+0x19ea],_0x5bbd8f=_0x2e9ead['x']/_0x411d51,_0x2b1611=-0x236+0x1*0x7a1+0x3*-0x1ce-_0x2e9ead['y']/_0x657026,_0x457135=(_0x2e9ead['x']+_0x2e9ead['z'])/_0x411d51,_0x35536b=-0x4eb*-0x7+-0x1dd5+-0x497-(_0x2e9ead['y']+_0x2e9ead['w'])/_0x657026,_0xb89067=[_0x5bbd8f,_0x2b1611,_0x457135,_0x2b1611,_0x457135,_0x35536b,_0x5bbd8f,_0x35536b],_0x4214df=new Ta();return _0x4214df['positions']=_0x36c494,_0x4214df['normals']=kA,_0x4214df['uvs']=_0xb89067,_0x4214df['indices']=UA,Ge['fromGeomet'+'ry'](this['_device'],_0x4214df);}['_create9Sl'+'iceMesh'](){const _0x4773d7=J['ONE'],_0x123e79=-0x53*0x3+0xe5*-0x1b+-0x27*-0xa5,_0x34b4be=0x7f+-0xbfb+-0xb7f*-0x1,_0x48ab63=[],_0x3c3a3b=[],_0x2c954c=[],_0x4a00d0=[];let _0x18d16b=0x1*0xb7e+0x449*-0x2+-0x16*0x22;for(let _0x485864=-0xd0d+-0x1ca+0x83*0x1d;_0x485864<=_0x123e79;_0x485864++){const _0x100d5d=_0x485864===-0xe5b+-0x18a*0x18+-0x1119*-0x3||_0x485864===_0x123e79?0x791*0x1+-0x942+-0x1b1*-0x1:0x1*-0x2232+-0x131b+0x354e;for(let _0x3c160f=0x2*0xcfe+-0x3*-0x68d+-0x685*0x7;_0x3c160f<=_0x34b4be;_0x3c160f++){const _0x3862d1=-_0x4773d7['x']+(-0x101e+0xd9*-0x2d+0x3645)*_0x4773d7['x']*(_0x485864<=0x1efe+0x2176+-0x1*0x4073?-0x1*-0x469+0x179+-0x2*0x2f1:0x2af+0x15c7*0x1+-0x1873)/_0x123e79,_0x7778a=-0x14f7*0x1+-0xa*0x37c+0x37cf,_0x3b4e5a=-(-_0x4773d7['y']+(0x59*0xf+-0x2083+0x1b4e)*_0x4773d7['y']*(_0x3c160f<=0x1aab+0xb76+0x7a*-0x50?-0x28b+-0x1cd*0x13+0x24c2:-0x1ad4*0x1+0x2701+-0x40e*0x3)/_0x34b4be),_0x1acd6a=_0x3c160f===0x4ca*0x8+-0x482*0x1+0x21ce*-0x1||_0x3c160f===_0x34b4be?0x2*-0x683+0x424+0x8e2:0x19b*0xd+-0x1*-0x1bd9+-0x30b7;_0x48ab63['push'](-_0x3862d1,_0x7778a,_0x3b4e5a),_0x3c3a3b['push'](-0x5*0x4e2+-0x108f+-0x28f9*-0x1,-0x2dc+0x2659*-0x1+-0x1a6*-0x19,0x14c5+-0x1*0x1a93+0x5ce),_0x2c954c['push'](_0x100d5d,_0x1acd6a),_0x485864<_0x123e79&&_0x3c160f<_0x34b4be&&(_0x4a00d0['push'](_0x18d16b+_0x34b4be+(0xf5+0x3d2*0x4+-0x40f*0x4),_0x18d16b+(0x2*-0x89b+-0x6*0x65d+-0xa3*-0x57),_0x18d16b),_0x4a00d0['push'](_0x18d16b+_0x34b4be+(0x16*0x56+-0x1c53+0x4*0x53c),_0x18d16b+_0x34b4be+(0xfa5+-0xc3+0x38*-0x44),_0x18d16b+(-0x1fb9+-0x13c1+-0x23d*-0x17))),_0x18d16b++;}}const _0xaca7e7=new Ta();return _0xaca7e7['positions']=_0x48ab63,_0xaca7e7['normals']=_0x3c3a3b,_0xaca7e7['uvs']=_0x2c954c,_0xaca7e7['indices']=_0x4a00d0,Ge['fromGeomet'+'ry'](this['_device'],_0xaca7e7);}['_onSetFram'+'es'](_0x2768ee){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0xca4+0x181a*0x1+-0x24be):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0x58abe8,_0x42f207){const _0x1b9542=this['_frameKeys']['indexOf'](_0x58abe8);_0x1b9542<0x1*-0x61f+-0x4*0x259+-0xf83*-0x1||(_0x42f207?this['renderMode']===ci&&(this['_meshes'][_0x1b9542]=this['_createSim'+'pleMesh'](_0x42f207)):this['_meshes'][_0x1b9542]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x4f47ce){const _0x1b07ed=this['_frameKeys']['indexOf'](_0x4f47ce);_0x1b07ed<-0x112*0x1a+0x3*0x735+-0x7*-0xe3||(this['_meshes'][_0x1b07ed]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(-0x2*-0xc77+-0xcdb*-0x1+-0x25c9),this['_meshesDir'+'ty']=!(0x44*0x2b+0x1123+-0x1c8e);}['endUpdate'](){this['_updatingP'+'roperties']=!(-0x6b9+0x1*0x22c6+-0x1c0c),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(0xffa+-0x1*-0x207a+-0x4f*0x9d);}['destroy'](){for(const _0x56c522 of this['_meshes'])_0x56c522&&_0x56c522['destroy']();this['_meshes']['length']=0xd*0x53+-0xd2d*-0x1+-0x1164;}}class zA extends me{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x3807c6){this['_texture']=_0x3807c6,this['fire']('set:textur'+'e',_0x3807c6);}get['texture'](){return this['_texture'];}set['frames'](_0x49b6cc){this['_frames']=_0x49b6cc,this['fire']('set:frames',_0x49b6cc);}get['frames'](){return this['_frames'];}['setFrame'](_0x597986,_0x284b83){let _0x144afc=this['_frames'][_0x597986];_0x144afc?(_0x144afc['rect']['copy'](_0x284b83['rect']),_0x144afc['pivot']['copy'](_0x284b83['pivot']),_0x144afc['border']['copy'](_0x284b83['border'])):(_0x144afc={'rect':_0x284b83['rect']['clone'](),'pivot':_0x284b83['pivot']['clone'](),'border':_0x284b83['border']['clone']()},this['_frames'][_0x597986]=_0x144afc),this['fire']('set:frame',_0x597986['toString'](),_0x144afc);}['removeFram'+'e'](_0x3c57e7){const _0x22c4f5=this['_frames'][_0x3c57e7];_0x22c4f5&&(delete this['_frames'][_0x3c57e7],this['fire']('remove:fra'+'me',_0x3c57e7['toString'](),_0x22c4f5));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class dg{constructor(_0x1efa2d,_0x50cf4d,_0x3d7a97,_0x3dc882){this['time']=_0x1efa2d,this['position']=_0x50cf4d,this['rotation']=_0x3d7a97,this['scale']=_0x3dc882;}}class fg{constructor(){this['_name']='',this['_keys']=[];}}class ug{constructor(){h(this,'name',''),h(this,'duration',0x2a5*-0x1+0x3*0xe5+0x2*-0x5),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x3356f1){return this['_nodeDict'][_0x3356f1];}['addNode'](_0x2fdccc){this['_nodes']['push'](_0x2fdccc),this['_nodeDict'][_0x2fdccc['_name']]=_0x2fdccc;}get['nodes'](){return this['_nodes'];}}class VA{constructor(){this['_written']=!(0x569*0x1+0x2f*-0x29+0x21f),this['_name']='',this['_keyFrames']=[],this['_quat']=new le(),this['_pos']=new D(),this['_scale']=new D(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x10976b){this['_targetNod'+'e']=_0x10976b;}}class Sf{constructor(_0x136846){h(this,'looping',!(0x2058+-0x2594+0xa*0x86)),(this['_animation']=null,this['_time']=-0x20*-0xc1+-0x5e1*-0x4+-0x2fa4,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x14ded4=_0x1869bc=>{const _0x230fca=new VA();_0x230fca['_name']=_0x1869bc['name'],this['_interpola'+'tedKeys']['push'](_0x230fca),this['_interpola'+'tedKeyDict'][_0x1869bc['name']]=_0x230fca,this['_currKeyIn'+'dices'][_0x1869bc['name']]=0xb*0x2bd+0x13d4*0x1+0x31f3*-0x1;for(let _0x2189c3=-0xfef+0x1c95*-0x1+0x2c84;_0x2189c3<_0x1869bc['_children']['length'];_0x2189c3++)_0x14ded4(_0x1869bc['_children'][_0x2189c3]);};_0x14ded4(_0x136846);}set['animation'](_0x2ee5d8){this['_animation']=_0x2ee5d8,this['currentTim'+'e']=0x93a+-0x18f1+0xfb7;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x59d6af){this['_time']=_0x59d6af;const _0x3746d9=this['_interpola'+'tedKeys']['length'];for(let _0x1986bd=-0x2dc+0xa*0x249+-0x13fe;_0x1986bd<_0x3746d9;_0x1986bd++){const _0xc0c845=this['_interpola'+'tedKeys'][_0x1986bd]['_name'];this['_currKeyIn'+'dices'][_0xc0c845]=-0xb40+0x245+0x8fb;}this['addTime'](-0x1*0x125b+-0x1*0x1f02+0x315d),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0xd77140){if(this['_animation']!==null){const _0xdddcdc=this['_animation']['_nodes'],_0x5c5cf8=this['_animation']['duration'];if(this['_time']===_0x5c5cf8&&!this['looping'])return;if(this['_time']+=_0xd77140,this['_time']>_0x5c5cf8){this['_time']=this['looping']?-0x1dbf+-0x31*-0x1d+0x1832:_0x5c5cf8;for(let _0x5c499a=-0x47*0x19+0x1286+-0xb97;_0x5c499a<_0xdddcdc['length'];_0x5c499a++){const _0x2ee454=_0xdddcdc[_0x5c499a]['_name'];this['_currKeyIn'+'dices'][_0x2ee454]=0x2468+0xd46+-0x31ae;}}else{if(this['_time']<-0x1e3d+0x9*-0x49+-0x1067*-0x2){this['_time']=this['looping']?_0x5c5cf8:-0x1*-0x53+-0x17*-0x90+-0x23*0x61;for(let _0x18c301=0x4db+0x18a4+-0x1d7f;_0x18c301<_0xdddcdc['length'];_0x18c301++){const _0x154a42=_0xdddcdc[_0x18c301],_0x42d66b=_0x154a42['_name'];this['_currKeyIn'+'dices'][_0x42d66b]=_0x154a42['_keys']['length']-(-0x8*0x1f3+0x13*0x8b+0x21*0x29);}}}const _0x354e11=_0xd77140>=0x1*0x2227+0x1*0x11+-0x2238?-0x1947+0x60e+0x133a:-(0x28f+0x9d*-0x3c+-0x111f*-0x2);for(let _0x73c14a=0x300+0x271*0x7+-0x1417;_0x73c14a<_0xdddcdc['length'];_0x73c14a++){const _0x1555f1=_0xdddcdc[_0x73c14a],_0x2253e1=_0x1555f1['_name'],_0x45b062=_0x1555f1['_keys'],_0x1bb171=this['_interpola'+'tedKeyDict'][_0x2253e1];if(_0x1bb171===void(0x31d*0x7+-0xb*-0x34d+-0x3a1a)){w['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x2253e1);continue;}let _0x3b2ecd=!(-0xcd8+0x1fe6+0x130d*-0x1);if(_0x45b062['length']!==0x5bf+0x1c76+0x88d*-0x4)for(let _0x38ef0b=this['_currKeyIn'+'dices'][_0x2253e1];_0x38ef0b<_0x45b062['length']-(-0xf93+0x24b3+0x1*-0x151f)&&_0x38ef0b>=-0x53*-0x39+0x2*-0x99f+0xc3;_0x38ef0b+=_0x354e11){const _0x8daf7=_0x45b062[_0x38ef0b],_0x34a553=_0x45b062[_0x38ef0b+(0x2334+-0x1ae7+-0x76*0x12)];if(_0x8daf7['time']<=this['_time']&&_0x34a553['time']>=this['_time']){const _0x5aabf1=(this['_time']-_0x8daf7['time'])/(_0x34a553['time']-_0x8daf7['time']);_0x1bb171['_pos']['lerp'](_0x8daf7['position'],_0x34a553['position'],_0x5aabf1),_0x1bb171['_quat']['slerp'](_0x8daf7['rotation'],_0x34a553['rotation'],_0x5aabf1),_0x1bb171['_scale']['lerp'](_0x8daf7['scale'],_0x34a553['scale'],_0x5aabf1),_0x1bb171['_written']=!(-0xeb1+-0x1eb6*0x1+-0x3b*-0xc5),this['_currKeyIn'+'dices'][_0x2253e1]=_0x38ef0b,_0x3b2ecd=!(-0x47*-0x89+0xa*0x20+-0x273f);break;}}(_0x45b062['length']===-0x32*0x6d+0x2*-0x12f1+0x3b2d*0x1||!_0x3b2ecd&&this['_time']===0x759*0x1+0x1c27+-0x2380&&this['looping'])&&(_0x1bb171['_pos']['copy'](_0x45b062[0x5*-0x188+-0x4a2+0x1a*0x79]['position']),_0x1bb171['_quat']['copy'](_0x45b062[0xa3d*-0x3+0x22dd+-0x426]['rotation']),_0x1bb171['_scale']['copy'](_0x45b062[-0x25*0x1a+0x2209+0x151*-0x17]['scale']),_0x1bb171['_written']=!(-0x10ae+0x1ce1+-0xc33));}}}['blend'](_0x2e67e3,_0xea1c66,_0x537277){const _0x214c8d=this['_interpola'+'tedKeys']['length'];for(let _0x4b4be2=-0x18cd+-0x5*0x57b+-0x1*-0x3434;_0x4b4be2<_0x214c8d;_0x4b4be2++){const _0xc5feb7=_0x2e67e3['_interpola'+'tedKeys'][_0x4b4be2],_0x316590=_0xea1c66['_interpola'+'tedKeys'][_0x4b4be2],_0x10ec2b=this['_interpola'+'tedKeys'][_0x4b4be2];_0xc5feb7['_written']&&_0x316590['_written']?(_0x10ec2b['_quat']['slerp'](_0xc5feb7['_quat'],_0xea1c66['_interpola'+'tedKeys'][_0x4b4be2]['_quat'],_0x537277),_0x10ec2b['_pos']['lerp'](_0xc5feb7['_pos'],_0xea1c66['_interpola'+'tedKeys'][_0x4b4be2]['_pos'],_0x537277),_0x10ec2b['_scale']['lerp'](_0xc5feb7['_scale'],_0x316590['_scale'],_0x537277),_0x10ec2b['_written']=!(0x25a5+0x25e0+0x1*-0x4b85)):_0xc5feb7['_written']?(_0x10ec2b['_quat']['copy'](_0xc5feb7['_quat']),_0x10ec2b['_pos']['copy'](_0xc5feb7['_pos']),_0x10ec2b['_scale']['copy'](_0xc5feb7['_scale']),_0x10ec2b['_written']=!(-0x1f*0x12f+-0xa59+-0x1b*-0x1be)):_0x316590['_written']&&(_0x10ec2b['_quat']['copy'](_0x316590['_quat']),_0x10ec2b['_pos']['copy'](_0x316590['_pos']),_0x10ec2b['_scale']['copy'](_0x316590['_scale']),_0x10ec2b['_written']=!(-0x61*-0x25+0x5e5+-0x13ea));}}['setGraph'](_0x13d6f5){if(this['graph']=_0x13d6f5,_0x13d6f5)for(let _0x456031=-0x18*0x135+0xe53*-0x1+0x2b4b;_0x456031<this['_interpola'+'tedKeys']['length'];_0x456031++){const _0x3aa46a=this['_interpola'+'tedKeys'][_0x456031],_0x4100da=_0x13d6f5['findByName'](_0x3aa46a['_name']);this['_interpola'+'tedKeys'][_0x456031]['setTarget'](_0x4100da);}else{for(let _0x5b13dd=-0x1*0x1a9e+0x4*0x4+0xce*0x21;_0x5b13dd<this['_interpola'+'tedKeys']['length'];_0x5b13dd++)this['_interpola'+'tedKeys'][_0x5b13dd]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x3057e9=0x331*-0x5+-0x3d1*0x5+0x230a;_0x3057e9<this['_interpola'+'tedKeys']['length'];_0x3057e9++){const _0xb9643a=this['_interpola'+'tedKeys'][_0x3057e9];if(_0xb9643a['_written']){const _0x38eebb=_0xb9643a['getTarget']();_0x38eebb['localPosit'+'ion']['copy'](_0xb9643a['_pos']),_0x38eebb['localRotat'+'ion']['copy'](_0xb9643a['_quat']),_0x38eebb['localScale']['copy'](_0xb9643a['_scale']),_0x38eebb['_dirtyLoca'+'l']||_0x38eebb['_dirtifyLo'+'cal'](),_0xb9643a['_written']=!(0xc6+0x566*-0x6+0x1f9f);}}}}const zs=(-0x21b9+0x1d4d+0x10*0x47)/(-0x1*-0x1541+0x6f8+0xe7*-0x1f),si=0x25d6+-0x209f*-0x1+-0x4674*0x1-zs*(-0x1728+-0x13ac+-0x2ad6*-0x1);class gm extends Ta{constructor(_0xfd8b58,_0x160e93,_0x544bc4,_0x5cf3c0,_0x4a77d6,_0x240dd6){super();const _0x3a4e08=new D(),_0xb88839=new D(),_0x3f481b=new D(),_0x419a8c=new D(),_0x2fe4e2=new D(),_0x218e2b=new D(),_0x2d4111=[],_0x2346b7=[],_0x1be4c1=[],_0x409df1=[],_0xcb4f57=[];let _0x527be4;if(_0x544bc4>-0x224f+0x6*0x4c7+0x5a5){for(let _0x1e1547=-0x8b*0x5+-0xd72*-0x1+0xabb*-0x1;_0x1e1547<=_0x5cf3c0;_0x1e1547++)for(let _0xbf76e6=0x2533+-0x15da*0x1+-0xf59*0x1;_0xbf76e6<=_0x4a77d6;_0xbf76e6++){const _0x250708=_0xbf76e6/_0x4a77d6*(0x22*-0x26+-0xa3c*0x2+0x36*0x79)*Math['PI']-Math['PI'],_0xc63a92=Math['sin'](_0x250708),_0x1d0e7e=Math['cos'](_0x250708);_0x2fe4e2['set'](_0xc63a92*_0xfd8b58,-_0x544bc4/(-0x38+0xe26+0x252*-0x6),_0x1d0e7e*_0xfd8b58),_0x419a8c['set'](_0xc63a92*_0x160e93,_0x544bc4/(-0x3f9*-0x4+-0x1de9+-0xab*-0x15),_0x1d0e7e*_0x160e93),_0x3a4e08['lerp'](_0x2fe4e2,_0x419a8c,_0x1e1547/_0x5cf3c0),_0xb88839['sub2'](_0x419a8c,_0x2fe4e2)['normalize'](),_0x218e2b['set'](_0x1d0e7e,-0xdd2+-0x11*0x4a+-0xb*-0x1b4,-_0xc63a92),_0x3f481b['cross'](_0x218e2b,_0xb88839)['normalize'](),_0x2d4111['push'](_0x3a4e08['x'],_0x3a4e08['y'],_0x3a4e08['z']),_0x2346b7['push'](_0x3f481b['x'],_0x3f481b['y'],_0x3f481b['z']);let _0x235a15=_0xbf76e6/_0x4a77d6,_0x2c4b3c=_0x1e1547/_0x5cf3c0;_0x1be4c1['push'](_0x235a15,0x13b7+-0x1f8b+-0xbd5*-0x1-_0x2c4b3c);const _0x5bfba1=_0x2c4b3c;if(_0x2c4b3c=_0x235a15,_0x235a15=_0x5bfba1,_0x235a15=_0x235a15*si+zs,_0x2c4b3c=_0x2c4b3c*si+zs,_0x235a15/=-0x508+0xb*0x31d+0x2a*-0xb2,_0x409df1['push'](_0x235a15,-0x17a*-0x2+0x9e+-0x391-_0x2c4b3c),_0x1e1547<_0x5cf3c0&&_0xbf76e6<_0x4a77d6){const _0x314807=_0x1e1547*(_0x4a77d6+(0x18f*-0x8+0x2c*-0x19+-0x9*-0x1dd))+_0xbf76e6,_0x1ef3db=_0x1e1547*(_0x4a77d6+(-0x17b1+-0x96*-0x11+-0xc*-0x125))+(_0xbf76e6+(0x131*-0xd+0xa49*-0x1+0x19c7)),_0xa6b240=(_0x1e1547+(0x609*-0x3+0x115*0xd+-0x5*-0xcf))*(_0x4a77d6+(-0x605+-0x181a+0x3c4*0x8))+_0xbf76e6,_0x1ea2cb=(_0x1e1547+(0x1c09+0xb*0x161+-0x2b33))*(_0x4a77d6+(-0x1728+-0x14ee+0x2c17))+(_0xbf76e6+(-0x157d+0x22*-0xf7+0x364c));_0xcb4f57['push'](_0x314807,_0x1ef3db,_0xa6b240),_0xcb4f57['push'](_0x1ef3db,_0x1ea2cb,_0xa6b240);}}}if(_0x240dd6){const _0x53a89c=Math['floor'](_0x4a77d6/(0x2a*-0x14+-0xb7*-0xe+-0xd7*0x8)),_0x42ef89=_0x4a77d6,_0x2fd1b6=_0x544bc4/(0x17ab+0xf66+-0x457*0x9);for(let _0x19401b=0x42*-0x6d+-0x186c+0x3486;_0x19401b<=_0x53a89c;_0x19401b++){const _0x511398=_0x19401b*Math['PI']*(-0x1fe3+-0x1de*-0x5+0x168d+0.5)/_0x53a89c,_0x2b0dac=Math['sin'](_0x511398),_0x23117f=Math['cos'](_0x511398);for(let _0x13da17=0x26b0+0x6b7+-0x2d67;_0x13da17<=_0x42ef89;_0x13da17++){const _0x22f7d2=_0x13da17*(0x15d6+-0x4*-0x73a+-0x32bc)*Math['PI']/_0x42ef89-Math['PI']/(-0x1ac3+-0x1*-0x1823+-0x2a2*-0x1),_0x562822=Math['sin'](_0x22f7d2),_0x15f63e=Math['cos'](_0x22f7d2)*_0x2b0dac,_0xc7f66d=_0x23117f,_0x480384=_0x562822*_0x2b0dac;let _0x2826a7=-0x209e+0x1b8e+0x511-_0x13da17/_0x42ef89,_0x17fd63=-0x4*0x55f+0x52*0x21+0xaeb-_0x19401b/_0x53a89c;_0x2d4111['push'](_0x15f63e*_0x160e93,_0xc7f66d*_0x160e93+_0x2fd1b6,_0x480384*_0x160e93),_0x2346b7['push'](_0x15f63e,_0xc7f66d,_0x480384),_0x1be4c1['push'](_0x2826a7,0x25bc+0x2*-0x10ac+-0x463-_0x17fd63),_0x2826a7=_0x2826a7*si+zs,_0x17fd63=_0x17fd63*si+zs,_0x2826a7/=-0xf72*-0x2+0x1a*0xb8+-0x3191*0x1,_0x17fd63/=0x2681*-0x1+-0x8c2+-0x3*-0xfc2,_0x2826a7+=(0x25ab+-0x1129*-0x1+-0x36d3)/(0x14c7+0x28*0x1c+-0x1924),_0x409df1['push'](_0x2826a7,-0x1195*0x1+-0x4*-0x224+0x906-_0x17fd63);}}_0x527be4=(_0x5cf3c0+(0x17a3+0x1338+-0x2ada))*(_0x4a77d6+(-0x1a6d+-0x205*0xd+0x1*0x34af));for(let _0x2719ea=0x1784+-0x11*0x154+-0xf0;_0x2719ea<_0x53a89c;++_0x2719ea)for(let _0x38a474=0x524*0x3+-0x268e+0x1722;_0x38a474<_0x42ef89;++_0x38a474){const _0x20fd85=_0x2719ea*(_0x42ef89+(-0x183b+0x6b5*0x2+0xad2))+_0x38a474,_0x4bace2=_0x20fd85+_0x42ef89+(0xa*-0x12a+-0x8ca+0x1*0x146f);_0xcb4f57['push'](_0x527be4+_0x20fd85+(-0x18ec+0x9e+0x184f),_0x527be4+_0x4bace2,_0x527be4+_0x20fd85),_0xcb4f57['push'](_0x527be4+_0x20fd85+(0x10c6*0x2+0x1289+-0x1*0x3414),_0x527be4+_0x4bace2+(-0x1*-0x2485+-0x24cd+0x49),_0x527be4+_0x4bace2);}for(let _0x402044=-0x2*-0x1b5+0x65d+0x9c7*-0x1;_0x402044<=_0x53a89c;_0x402044++){const _0x330556=Math['PI']*(-0xe50*0x2+-0x17*-0xac+0xd2c+0.5)+_0x402044*Math['PI']*(-0x595*0x3+0x14bb+-0x3fc+0.5)/_0x53a89c,_0x445a9e=Math['sin'](_0x330556),_0x3c77b1=Math['cos'](_0x330556);for(let _0x587675=0x76a+0xd3*0x2d+-0x2c81;_0x587675<=_0x42ef89;_0x587675++){const _0x17ea87=_0x587675*(-0x92b+-0x1*-0x104b+-0x71e)*Math['PI']/_0x42ef89-Math['PI']/(-0xb*0x32+0x2*-0x961+0x14ea),_0x3a9d3e=Math['sin'](_0x17ea87),_0x390b47=Math['cos'](_0x17ea87)*_0x445a9e,_0x26c02e=_0x3c77b1,_0x145a02=_0x3a9d3e*_0x445a9e;let _0x50c9bf=-0x7*-0x2c9+0x905*-0x1+-0x17f*0x7-_0x587675/_0x42ef89,_0x58808b=0x763+0x1*-0x24a7+0x7f*0x3b-_0x402044/_0x53a89c;_0x2d4111['push'](_0x390b47*_0x160e93,_0x26c02e*_0x160e93-_0x2fd1b6,_0x145a02*_0x160e93),_0x2346b7['push'](_0x390b47,_0x26c02e,_0x145a02),_0x1be4c1['push'](_0x50c9bf,0x820+-0x446+-0xc5*0x5-_0x58808b),_0x50c9bf=_0x50c9bf*si+zs,_0x58808b=_0x58808b*si+zs,_0x50c9bf/=0xe09+-0x1581+0x77b,_0x58808b/=0x1*-0xdb3+-0x384+-0x7*-0x276,_0x50c9bf+=(0x1117+0x11c3+0x37c*-0xa)/(0x2147+-0x1e7*0x5+-0x17c1),_0x409df1['push'](_0x50c9bf,-0x615+0x10*-0x216+0x2776-_0x58808b);}}_0x527be4=(_0x5cf3c0+(0x3*-0xc2f+-0x10*0x21a+0x462e*0x1))*(_0x4a77d6+(-0x10*0x1b+0x1*0xae4+0x933*-0x1))+(_0x42ef89+(-0x253a+0x254c+-0x11))*(_0x53a89c+(-0x2047*0x1+0x72*0x13+0x17d2));for(let _0x15679a=-0x1bae+-0x25e1*0x1+0x1*0x418f;_0x15679a<_0x53a89c;++_0x15679a)for(let _0x33cc3c=0x5*-0x57f+-0x6c2+0x1*0x223d;_0x33cc3c<_0x42ef89;++_0x33cc3c){const _0x4c39d3=_0x15679a*(_0x42ef89+(-0x1*0x41+-0xbeb+0xc2d))+_0x33cc3c,_0x5ad8fa=_0x4c39d3+_0x42ef89+(0x2d*-0x55+-0x11*-0x3b+0x3ad*0x3);_0xcb4f57['push'](_0x527be4+_0x4c39d3+(0x6f0*0x4+0x1a04+-0x35c3),_0x527be4+_0x5ad8fa,_0x527be4+_0x4c39d3),_0xcb4f57['push'](_0x527be4+_0x4c39d3+(0x2277+-0x13*0x191+-0x4b3),_0x527be4+_0x5ad8fa+(0x28*0x44+-0x1*-0x73+-0xb12),_0x527be4+_0x5ad8fa);}}else{if(_0x527be4=(_0x5cf3c0+(-0x2572+0x214+-0x235f*-0x1))*(_0x4a77d6+(0x1948+-0x1225*0x1+-0x722)),_0xfd8b58>0x1bd2+-0x1015+-0x259*0x5)for(let _0x3900d7=-0x1*-0x1958+0x915*0x3+-0x3497;_0x3900d7<_0x4a77d6;_0x3900d7++){const _0x416b31=_0x3900d7/_0x4a77d6*(0xb0*-0x27+0x15c4+0x2*0x287)*Math['PI'],_0x5648da=Math['sin'](_0x416b31),_0x5e1209=-_0x544bc4/(-0xc0a*-0x1+0xa*-0x2ac+0xeb0),_0x597835=Math['cos'](_0x416b31);let _0x2259d2=0x1cdf+0x83b+0x1*-0x2519-(_0x5648da+(-0xdaf+0x1427+0x677*-0x1))/(-0x957+-0x2*-0xee7+-0x1475*0x1),_0x264376=(_0x597835+(-0x3*-0x821+-0x1*0x1bef+-0x12f*-0x3))/(0x827+0xa9*-0x3+-0x62a);_0x2d4111['push'](_0x5648da*_0xfd8b58,_0x5e1209,_0x597835*_0xfd8b58),_0x2346b7['push'](0xfb*-0x27+0x2e*-0x29+0x2d9b,-(0x94d*-0x3+-0x20b1+-0x3*-0x1433),-0x1*-0x108a+0x3*0x430+-0x1d1a),_0x1be4c1['push'](_0x2259d2,0xf87+-0x14aa+0x524-_0x264376),_0x2259d2=_0x2259d2*si+zs,_0x264376=_0x264376*si+zs,_0x2259d2/=-0xb*0x3b+-0x1*0x1b4f+0x1ddb,_0x264376/=-0x15b4+0x1510+0xa7,_0x2259d2+=(-0x1e2d+0x8db+0x1553)/(-0x23a5+0x1d37*0x1+-0x671*-0x1),_0x409df1['push'](_0x2259d2,-0x1dc6+0x796+0x1631-_0x264376),_0x3900d7>0x10d1+0x819+-0x18e9&&_0xcb4f57['push'](_0x527be4,_0x527be4+_0x3900d7,_0x527be4+_0x3900d7-(-0xa65+0x21*-0xf+0xc55));}if(_0x527be4+=_0x4a77d6,_0x160e93>0x97c*-0x1+-0x191f+0x229b)for(let _0x10ef40=0xede+-0x1f33+0x1055;_0x10ef40<_0x4a77d6;_0x10ef40++){const _0x3c9437=_0x10ef40/_0x4a77d6*(0x9f3+0x52*0x4d+-0x229b)*Math['PI'],_0x23864a=Math['sin'](_0x3c9437),_0x106971=_0x544bc4/(0x21f5*-0x1+0x5*-0x26b+0xf5a*0x3),_0x475c98=Math['cos'](_0x3c9437);let _0x242f7d=-0xdf7+0x7f+0xd79*0x1-(_0x23864a+(0x12d*0x4+0x1*0x8fb+-0xdae))/(-0x5f*0x4d+-0xd*0x21d+0x380e),_0xb47c86=(_0x475c98+(0x1c65*0x1+-0x52*-0x48+-0x3374))/(-0x6a7+0x1bd*0x16+-0x31*0xa5);_0x2d4111['push'](_0x23864a*_0x160e93,_0x106971,_0x475c98*_0x160e93),_0x2346b7['push'](-0x24fa+0xb8d*-0x1+-0x29*-0x12f,0x17f9+0x6*-0x5a3+0x61*0x1a,-0x145*-0x14+-0x21eb*-0x1+-0x3b4f),_0x1be4c1['push'](_0x242f7d,-0x3d6+0x57a+-0x1*0x1a3-_0xb47c86),_0x242f7d=_0x242f7d*si+zs,_0xb47c86=_0xb47c86*si+zs,_0x242f7d/=-0x1c96*0x1+-0xc7*-0x24+0x9d,_0xb47c86/=-0xdc2*0x1+0xcbe+-0x1*-0x107,_0x242f7d+=(-0xfb*-0x1a+0x16*0x4b+0xff7*-0x2)/(0x856+0xf41+-0x1794),_0x409df1['push'](_0x242f7d,0x566+-0x1a22+0x14bd-_0xb47c86),_0x10ef40>0x1*0x120d+0x6f*-0x15+-0x147*0x7&&_0xcb4f57['push'](_0x527be4,_0x527be4+_0x10ef40-(-0x1*-0x1536+-0x1934+-0x3*-0x155),_0x527be4+_0x10ef40);}}this['positions']=_0x2d4111,this['normals']=_0x2346b7,this['uvs']=_0x1be4c1,this['uvs1']=_0x409df1,this['indices']=_0xcb4f57;}}class GA extends gm{constructor(_0x146e54={}){const _0x13873f=_0x146e54['radius']??0x6*0x7a+0x93b+-0xc17+0.3,_0x43f11d=_0x146e54['height']??0x1*-0x153b+-0xab*0x1+-0x9*-0x26f,_0x41cab7=_0x146e54['heightSegm'+'ents']??-0xd8d*0x2+-0x1869+0x3384,_0x1d4bac=_0x146e54['sides']??-0x15a*-0x14+-0x1734+-0x3c0;super(_0x13873f,_0x13873f,_0x43f11d-(0x2c1+-0x5*0x2ad+0xaa2)*_0x13873f,_0x41cab7,_0x1d4bac,!(0x838+-0x21d0+0x1998)),_0x146e54['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class HA extends gm{constructor(_0x191b92={}){const _0x27fab4=_0x191b92['baseRadius']??0x8f1+-0x1035+0x174*0x5+0.5,_0x5782cc=_0x191b92['peakRadius']??0x12d*0x17+0x239+-0xea2*0x2,_0x21fd15=_0x191b92['height']??-0x238*-0x1+0x1998+0x1bcf*-0x1,_0x492273=_0x191b92['heightSegm'+'ents']??0x29d*0x1+-0x19c5+0x172d,_0x151136=_0x191b92['capSegment'+'s']??0x8dd*-0x2+0x1*0x2588+-0x13bc;super(_0x27fab4,_0x5782cc,_0x21fd15,_0x492273,_0x151136,!(-0x26ba+0x1*0xe72+0x1849)),_0x191b92['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class WA extends gm{constructor(_0x2b37fa={}){const _0x404b23=_0x2b37fa['radius']??-0x47*0x2b+0x1*0x1342+-0x755*0x1+0.5,_0x575956=_0x2b37fa['height']??0x19cf+-0x20cf+0xb*0xa3,_0x22daa3=_0x2b37fa['heightSegm'+'ents']??-0x509*0x1+-0x1*0x15ba+-0xd64*-0x2,_0x2f0b98=_0x2b37fa['capSegment'+'s']??-0x30a*-0x2+-0x3f1+-0x11*0x1f;super(_0x404b23,_0x404b23,_0x575956,_0x22daa3,_0x2f0b98,!(-0xaad+0x27*-0x61+0x157*0x13)),_0x2b37fa['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class $A extends Ta{constructor(_0x1de9d6={}){super();const _0x296a98=_0x1de9d6['halfExtent'+'s']??new J(-0xd8*-0x20+0x1299+-0x3*0xf33+0.5,0x407*-0x8+-0x4a*0x68+-0x3e48*-0x1+0.5),_0xa0acdc=_0x1de9d6['widthSegme'+'nts']??0x17b0+-0x1*0x4dd+-0x12ce*0x1,_0x2c0195=_0x1de9d6['lengthSegm'+'ents']??0x82*-0x11+-0x2*-0x521+-0x19b,_0x57ef41=[],_0x13405c=[],_0x2602b7=[],_0x5a75c9=[];let _0x4eb857=-0x1016+-0x4d9+-0x1*-0x14ef;for(let _0x55225e=-0x27*0x47+0xd*0x2b+0x1ba*0x5;_0x55225e<=_0xa0acdc;_0x55225e++)for(let _0x9bbfcd=-0x7fc+-0x5*0x436+0x1d0a*0x1;_0x9bbfcd<=_0x2c0195;_0x9bbfcd++){const _0x13b768=-_0x296a98['x']+(0x8eb*0x2+0x1cd6+-0x1755*0x2)*_0x296a98['x']*_0x55225e/_0xa0acdc,_0x58e4b4=-0xf2d+-0x2ae+-0x7*-0x28d,_0x6e112f=-(-_0x296a98['y']+(0x18b6+0x5f4+0x7aa*-0x4)*_0x296a98['y']*_0x9bbfcd/_0x2c0195),_0x2028bb=_0x55225e/_0xa0acdc,_0x89ade9=_0x9bbfcd/_0x2c0195;_0x57ef41['push'](_0x13b768,_0x58e4b4,_0x6e112f),_0x13405c['push'](-0x6d6*-0x2+-0x1f1d+0x1171,0x1d2e+0xf3f+-0x2c6c,-0x2*-0x1348+-0x1866+-0x62*0x25),_0x2602b7['push'](_0x2028bb,0x12e+0x1e64+-0x1f91-_0x89ade9),_0x55225e<_0xa0acdc&&_0x9bbfcd<_0x2c0195&&(_0x5a75c9['push'](_0x4eb857+_0x2c0195+(-0x1ac*0x12+-0x8*-0x27b+0xa41),_0x4eb857+(0xd*0x1df+-0x3*-0x723+-0x2dbb),_0x4eb857),_0x5a75c9['push'](_0x4eb857+_0x2c0195+(0x5*-0x704+-0x1098+0x33ad),_0x4eb857+_0x2c0195+(-0x154f+-0x1fd5+-0x3526*-0x1),_0x4eb857+(0x26a7+-0xe5*0xa+-0x1db4))),_0x4eb857++;}this['positions']=_0x57ef41,this['normals']=_0x13405c,this['uvs']=_0x2602b7,this['uvs1']=_0x2602b7,this['indices']=_0x5a75c9,_0x1de9d6['calculateT'+'angents']&&(this['tangents']=Mr(_0x57ef41,_0x13405c,_0x2602b7,_0x5a75c9));}}class XA extends Ta{constructor(_0x18d7a9={}){super();const _0x12a100=_0x18d7a9['tubeRadius']??-0x1*0x222a+0xa*-0x93+-0x1*-0x27e8+0.2,_0x404852=_0x18d7a9['ringRadius']??0x21f3+-0x82+-0x2171+0.3,_0x1bf46f=(_0x18d7a9['sectorAngl'+'e']??-0x1b12+0x601*-0x1+0x227b)*Y['DEG_TO_RAD'],_0x52cd83=_0x18d7a9['segments']??-0x2335*-0x1+-0x24c9+0x1b2,_0x42de86=_0x18d7a9['sides']??-0xa8b+-0x1*-0x8a8+0x1f7,_0x57f73a=[],_0xb3de2c=[],_0x3038c7=[],_0x797ae=[];for(let _0xd24725=-0x217e+-0x12de+0x345c;_0xd24725<=_0x42de86;_0xd24725++)for(let _0x3a8bd9=0x24e5+0x31*0x85+-0x3e5a;_0x3a8bd9<=_0x52cd83;_0x3a8bd9++){const _0x58a647=Math['cos'](_0x1bf46f*_0x3a8bd9/_0x52cd83)*(_0x404852+_0x12a100*Math['cos']((-0xf6d*0x1+-0xa5b+0x19ca)*Math['PI']*_0xd24725/_0x42de86)),_0x2f012f=Math['sin']((-0x2*-0xa4c+0x766+0x3*-0x954)*Math['PI']*_0xd24725/_0x42de86)*_0x12a100,_0xa1930d=Math['sin'](_0x1bf46f*_0x3a8bd9/_0x52cd83)*(_0x404852+_0x12a100*Math['cos']((-0x3*0x84f+-0x1*0x1a67+0x3356)*Math['PI']*_0xd24725/_0x42de86)),_0x2ca73d=Math['cos'](_0x1bf46f*_0x3a8bd9/_0x52cd83)*Math['cos']((-0x11d9+0x11*0xe8+0x273*0x1)*Math['PI']*_0xd24725/_0x42de86),_0x4152d3=Math['sin']((0x6*-0x91+0xb*-0x14d+-0x5*-0x38b)*Math['PI']*_0xd24725/_0x42de86),_0x371a3a=Math['sin'](_0x1bf46f*_0x3a8bd9/_0x52cd83)*Math['cos']((0x40a*-0x7+0x15b8+0x690)*Math['PI']*_0xd24725/_0x42de86),_0x48f14c=_0xd24725/_0x42de86,_0xecac97=0x9be+0x134+0x1*-0xaf1-_0x3a8bd9/_0x52cd83;if(_0x57f73a['push'](_0x58a647,_0x2f012f,_0xa1930d),_0xb3de2c['push'](_0x2ca73d,_0x4152d3,_0x371a3a),_0x3038c7['push'](_0x48f14c,0x5f0+-0xc*0x1ff+-0x293*-0x7-_0xecac97),_0xd24725<_0x42de86&&_0x3a8bd9<_0x52cd83){const _0x24040a=_0xd24725*(_0x52cd83+(-0x3*-0xad+0x893+-0xa99))+_0x3a8bd9,_0x30be77=(_0xd24725+(0x1234+-0x24d0+-0x1*-0x129d))*(_0x52cd83+(0x15d7*-0x1+0xedb+-0x6fd*-0x1))+_0x3a8bd9,_0xd75cd4=_0xd24725*(_0x52cd83+(-0x348+0x17f*0x11+-0x1626))+(_0x3a8bd9+(-0x15*-0x12e+-0x15cd*-0x1+0x7c3*-0x6)),_0x340ee1=(_0xd24725+(-0x320+-0xb1c+0x4bf*0x3))*(_0x52cd83+(0x69c+-0x935*0x2+-0x1*-0xbcf))+(_0x3a8bd9+(-0x1c0c+0xd*-0xe7+-0x43*-0x98));_0x797ae['push'](_0x24040a,_0x30be77,_0xd75cd4),_0x797ae['push'](_0x30be77,_0x340ee1,_0xd75cd4);}}this['positions']=_0x57f73a,this['normals']=_0xb3de2c,this['uvs']=_0x3038c7,this['uvs1']=_0x3038c7,this['indices']=_0x797ae,_0x18d7a9['calculateT'+'angents']&&(this['tangents']=Mr(_0x57f73a,_0xb3de2c,_0x3038c7,_0x797ae));}}class qA{constructor(_0x4b5ec9,_0x5cec42){h(this,'processedC'+'ache',new Map()),h(this,'definition'+'sCache',new Map()),h(this,'_generator'+'s',new Map()),(this['_device']=_0x4b5ec9,this['_isClearin'+'gCache']=!(-0xf33+-0x3*-0x68e+0x476*-0x1),this['_precached']=!(0x7*0x551+0x9aa*0x1+-0x2ee0),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new dl(),this['_defaultSt'+'dMatOption'+'Min']=new dl());const _0x18ab55=new vv();_0x5cec42['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x18ab55,_0x5cec42,null,[],Aa,null),_0x5cec42['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x5cec42,null,cm,null),_0x4b5ec9['on']('destroy:sh'+'ader',_0x417f70=>{this['removeFrom'+'Cache'](_0x417f70);});}['destroy'](){this['clearCache']();}['register'](_0x1df9d2,_0x27b44d){this['_generator'+'s']['has'](_0x1df9d2)||this['_generator'+'s']['set'](_0x1df9d2,_0x27b44d);}['unregister'](_0x15f48b){this['_generator'+'s']['has'](_0x15f48b)&&this['_generator'+'s']['delete'](_0x15f48b);}['isRegister'+'ed'](_0x27c82c){return this['_generator'+'s']['has'](_0x27c82c);}['generateSh'+'aderDefini'+'tion'](_0x5a83d8,_0x5f21e0,_0x3d2665,_0x48e4a3){var _0x3e02c,_0x209052;let _0x757630=this['definition'+'sCache']['get'](_0x3d2665);if(!_0x757630){let _0x24802e;(_0x3e02c=_0x48e4a3['litOptions'])!=null&&_0x3e02c['lights']&&(_0x24802e=_0x48e4a3['litOptions']['lights'],_0x48e4a3['litOptions']['lights']=_0x24802e['map'](_0x47fd4c=>{const _0x4b5deb=_0x47fd4c['clone']?_0x47fd4c['clone']():_0x47fd4c;return _0x4b5deb['key']=_0x47fd4c['key'],_0x4b5deb;})),this['storeNewPr'+'ogram'](_0x5f21e0,_0x48e4a3),(_0x209052=_0x48e4a3['litOptions'])!=null&&_0x209052['lights']&&(_0x48e4a3['litOptions']['lights']=_0x24802e),this['_precached']&&w['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0x5f21e0+'\x20key\x20'+_0x3d2665+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x5f173b=this['_device'];_0x757630=_0x5a83d8['createShad'+'erDefiniti'+'on'](_0x5f173b,_0x48e4a3),_0x757630['name']=_0x757630['name']??(_0x48e4a3['pass']?_0x5f21e0+'-pass:'+_0x48e4a3['pass']:_0x5f21e0),this['definition'+'sCache']['set'](_0x3d2665,_0x757630);}return _0x757630;}['getCachedS'+'hader'](_0x294a00){return this['processedC'+'ache']['get'](_0x294a00);}['setCachedS'+'hader'](_0x3deaf0,_0x52145f){this['processedC'+'ache']['set'](_0x3deaf0,_0x52145f);}['getProgram'](_0x3dfe6a,_0x31f449,_0x51dd1b,_0x4fd8e7){const _0x512ad1=this['_generator'+'s']['get'](_0x3dfe6a);if(!_0x512ad1)return w['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x3dfe6a),null;const _0x2d886a=_0x512ad1['generateKe'+'y'](_0x31f449),_0x3889b9=hi(_0x2d886a),_0x2f2a5c=_0x51dd1b['generateKe'+'y'](this['_device']),_0xeaa1ce=hi(_0x2f2a5c),_0x5eed7f=_0x3889b9+'#'+_0xeaa1ce;let _0x293999=this['getCachedS'+'hader'](_0x5eed7f);if(!_0x293999){const _0x213f8d=this['generateSh'+'aderDefini'+'tion'](_0x512ad1,_0x3dfe6a,_0x3889b9,_0x31f449);w['assert'](_0x213f8d);let _0x372196='',_0x396c8b;_0x31f449['pass']!==void(0x534+-0x1fd9+0x1aa5)&&(_0x396c8b=Si['get'](this['_device'])['getByIndex'](_0x31f449['pass']),_0x372196='-'+_0x396c8b['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x4fd8e7,'shaderPassInfo':_0x396c8b,'definition':_0x213f8d});const _0x5a7120={'name':''+_0x213f8d['name']+_0x372196+'-proc','attributes':_0x213f8d['attributes'],'vshader':_0x213f8d['vshader'],'vincludes':_0x213f8d['vincludes'],'fincludes':_0x213f8d['fincludes'],'fshader':_0x213f8d['fshader'],'processingOptions':_0x51dd1b,'shaderLanguage':_0x213f8d['shaderLang'+'uage'],'meshUniformBufferFormat':_0x213f8d['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x213f8d['meshBindGr'+'oupFormat']};_0x293999=new qy(this['_device'],_0x5a7120),w['call'](()=>{_0x293999['_generatio'+'nKey']=_0x2d886a,_0x293999['_processin'+'gKey']=_0x2f2a5c;}),this['setCachedS'+'hader'](_0x5eed7f,_0x293999);}return _0x293999;}['storeNewPr'+'ogram'](_0x171ff7,_0x221699){let _0x5305d0={};if(_0x171ff7==='standard'){const _0x2085ef=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x221699['pass']);for(const _0x5a35d0 in _0x221699)(_0x221699['hasOwnProp'+'erty'](_0x5a35d0)&&_0x2085ef[_0x5a35d0]!==_0x221699[_0x5a35d0]||_0x5a35d0==='pass')&&(_0x5305d0[_0x5a35d0]=_0x221699[_0x5a35d0]);for(const _0x2373f5 in _0x221699['litOptions'])_0x5305d0[_0x2373f5]=_0x221699['litOptions'][_0x2373f5];}else _0x5305d0=_0x221699;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x171ff7,'options':_0x5305d0}));}['dumpProgra'+'ms'](){let _0x20464c='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x20464c+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][0x2*-0x15a+-0x2623+-0xd9d*-0x3]&&(_0x20464c+='\x0a\x09'+this['_programsC'+'ollection'][-0x5b9*0x2+-0x1ef3+0x2a65]);for(let _0x309e12=0x61*0x29+0x6b*-0x1d+0x61*-0x9;_0x309e12<this['_programsC'+'ollection']['length'];++_0x309e12)_0x20464c+=',\x0a\x09'+this['_programsC'+'ollection'][_0x309e12];_0x20464c+='\x0a];\x0a',_0x20464c+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x20464c+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+hn+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+$S+'\x22)\x0a',_0x20464c+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0x270e35=document['createElem'+'ent']('a');_0x270e35['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x20464c)),_0x270e35['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0x270e35['style']['display']='none',document['body']['appendChil'+'d'](_0x270e35),_0x270e35['click'](),document['body']['removeChil'+'d'](_0x270e35);}['clearCache'](){this['_isClearin'+'gCache']=!(0x629*-0x4+0x17b*-0xf+0x43*0xb3),this['processedC'+'ache']['forEach'](_0x3a255d=>{_0x3a255d['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(-0x2*0x312+0x43*0x35+-0x7ba);}['removeFrom'+'Cache'](_0x45fa7c){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x250705,_0x47d7d3)=>{_0x45fa7c===_0x250705&&this['processedC'+'ache']['delete'](_0x47d7d3);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0x27d8cb){const _0x5df727=Si['get'](this['_device'])['getByIndex'](_0x27d8cb);return _0x27d8cb===Zn||_0x27d8cb===Rl||_0x5df727['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x3c90a1){if(_0x3c90a1){const _0x462506=new Array(_0x3c90a1['length']);for(let _0x3ee868=-0x3ef*0x3+0xe57+-0x28a;_0x3ee868<_0x3c90a1['length'];_0x3ee868++){if(_0x3c90a1[_0x3ee868]['name']==='standard'){const _0x459c9d=_0x3c90a1[_0x3ee868]['options'],_0x207365=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x459c9d['pass']);for(const _0x47b4f7 in _0x207365)_0x207365['hasOwnProp'+'erty'](_0x47b4f7)&&_0x459c9d[_0x47b4f7]===void(-0x1269*0x1+0x1fb*-0x5+-0x970*-0x3)&&(_0x459c9d[_0x47b4f7]=_0x207365[_0x47b4f7]);}_0x462506[_0x3ee868]=this['getProgram'](_0x3c90a1[_0x3ee868]['name'],_0x3c90a1[_0x3ee868]['options']);}}this['_precached']=!(0x5b4*-0x1+-0x1d3*0x5+0xed3);}}async function jA(){const _0x399f32=new Float32Array(0x1436+0x54f*-0x6+0x1*0xba5),_0x21ba56=new Int32Array(_0x399f32['buffer']);let _0x30a916=0x23c2+-0xa26+0x2c*-0x95,_0x5d480b={};self['onmessage']=async _0x18b4f5=>{const {data:_0x180599}=_0x18b4f5;switch(_0x180599['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x668c81(_0x180599['properties'],_0x180599['timeIndex'],_0x180599['timeOption']);break;case'releaseSeq'+'Data':_0x296feb(_0x180599['index']);break;case'releaseAll'+'SeqData':_0x130384();break;case'destroyWor'+'ker':_0x24f2d5();break;}};class _0x1bec27{constructor(_0x3c8ed8=-0x2410+-0x6b7+0x2ac7,_0x5af8cb=0x42d*0x5+0x10d9+-0x25ba*0x1,_0x32f1c3=-0xee4+0x14d*-0xf+-0x2267*-0x1,_0x4019cc=-0x3*0x948+0x1*0x138b+0x1*0x84e){this['x']=_0x3c8ed8,this['y']=_0x5af8cb,this['z']=_0x32f1c3,this['w']=_0x4019cc;}['set'](_0x2d1448,_0x471560,_0x163a15,_0xb91a73){return this['x']=_0x2d1448,this['y']=_0x471560,this['z']=_0x163a15,this['w']=_0xb91a73,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x2e29f2=this){let _0x14be24=_0x2e29f2['length']();return _0x14be24===-0x5*0x611+-0x3*0xc3e+0x1*0x430f?(this['x']=this['y']=this['z']=0xfd*0x2+-0x23*-0x86+-0x6c4*0x3,this['w']=-0x298*0xc+-0x1*0x490+-0x23b1*-0x1):(_0x14be24=(0x1*0x195b+-0x102*-0x6+0x1*-0x1f66)/_0x14be24,this['x']=_0x2e29f2['x']*_0x14be24,this['y']=_0x2e29f2['y']*_0x14be24,this['z']=_0x2e29f2['z']*_0x14be24,this['w']=_0x2e29f2['w']*_0x14be24),this;}['mulScalar'](_0x419d73,_0x268800=this){return this['x']=_0x268800['x']*_0x419d73,this['y']=_0x268800['y']*_0x419d73,this['z']=_0x268800['z']*_0x419d73,this['w']=_0x268800['w']*_0x419d73,this;}}const _0x2134be=_0x58f93b=>{_0x399f32[-0xe*0x157+-0x9*0x3be+0x3470]=_0x58f93b;const _0x33e014=_0x21ba56[0x245*-0x7+0x65*0x4e+-0xee3];let _0x4da8f0=_0x33e014>>0x234+0x19d6+-0x1bfa&0x1*-0xc767+-0x1*0x373f+0x17ea6*0x1,_0x38a8f8=_0x33e014>>-0x2*0xd32+0xae+0x19c2&0x3*0x25a+-0x13*0x17+0x2a6*0x1;const _0x357cc3=_0x33e014>>0x181+-0x11*0x119+0x373*0x5&-0x2127+0x282*-0x4+0x2c2e;return _0x357cc3<0x599*-0x4+0x1179*0x2+0xb7*-0x11?_0x4da8f0:_0x357cc3>-0x2*0x10c6+-0x101e+0xc8e*0x4?(_0x4da8f0|=-0x73fd+0xcc63+0x239a,_0x4da8f0|=(_0x357cc3===-0x2495+0x644*0x4+0xc84?-0xe6*0x24+0xb99*-0x1+0x647*0x7:-0x1*0x21a+0x17*0xcd+-0x6*0x2b8)&&_0x33e014&-0xcf4273+0x1*-0x9678af+0x1e5bb21,_0x4da8f0):_0x357cc3<-0x187f+-0x1b38+0xd0a*0x4?(_0x38a8f8|=0x11*-0x1eb+0x3db+-0x40*-0x93,_0x4da8f0|=(_0x38a8f8>>-0x16a7+-0xfa6+0x26bf-_0x357cc3)+(_0x38a8f8>>-0x161*0x8+-0x5e*0x3d+0x1*0x21df-_0x357cc3&0x19b1*0x1+-0x8be+-0x10f2),_0x4da8f0):(_0x4da8f0|=_0x357cc3-(-0x1*0xf41+0x252c+-0x157b)<<-0x52e+-0x19ab*0x1+0x1ee3|_0x38a8f8>>0x8b*0x25+0x1e90*0x1+-0x32a6,_0x4da8f0+=_0x38a8f8&-0xedf+-0x6*-0xda+0x14*0x7d,_0x4da8f0);},_0x397d5e=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0xbfde3e=-0x2e*-0x13+-0x5f1+0x287;_0xbfde3e<0x204e+-0x505*-0x6+-0x3e3f;++_0xbfde3e)if(!_0x5d480b['f_rest_'+_0xbfde3e])return _0xbfde3e;return 0x1644+-0x1*-0x842+0x11*-0x1c9;})())]??-0x539+0x7d4*0x4+-0x1a17),_0x668c81=(_0x20ac09,_0x1f9319,_0x4fbd84)=>{const _0x49acd8=!!_0x20ac09['time_index'];_0x49acd8||(_0x20ac09['time_index']=new Float32Array(-0xe*0x3b+0x1*-0x25f+0x599)),_0x30a916+=_0x20ac09['x']['length']??-0x1*0x1a17+-0xfe3*-0x2+0x61*-0xf;const _0x39c523=Object['keys'](_0x20ac09);for(let _0x4df596=0x1*-0xa39+0x1a6d+0x4*-0x40d;_0x4df596<_0x39c523['length'];_0x4df596++){const _0x14d2f5=_0x39c523[_0x4df596],_0x147bf5=_0x20ac09[_0x14d2f5],_0x49556c=_0x5d480b[_0x14d2f5]??new Float32Array(-0x1bc3+0x251b+0x1*-0x958);if(!_0x49acd8&&_0x14d2f5==='time_index'){const _0x9e0515=new Float32Array(_0x30a916);_0x9e0515['fill'](_0x1f9319),_0x9e0515['set'](_0x49556c,0x1*0x17f+-0x15fe*0x1+0x147f),_0x5d480b[_0x14d2f5]=_0x9e0515;}else{if(!_0x49acd8&&_0x147bf5&&_0x14d2f5==='t'){const _0x49ee6a=new Float32Array(_0x30a916);if(_0x49ee6a['set'](_0x49556c,0x423+-0x38e+-0x95),_0x4fbd84){for(let _0x42a002=_0x49556c['length'];_0x42a002<_0x30a916;_0x42a002++)_0x147bf5[_0x42a002-_0x49556c['length']]>-(-0x2*0xda3+0x23b5+0x3*-0x2ce)?_0x49ee6a[_0x42a002]=_0x147bf5[_0x42a002-_0x49556c['length']]+_0x4fbd84[(-0x3b*0x11+-0x1*0x47f+0x1c*0x4d)*_0x1f9319]:_0x49ee6a[_0x42a002]=_0x147bf5[_0x42a002-_0x49556c['length']];}_0x5d480b[_0x14d2f5]=_0x49ee6a;}else{if(_0x147bf5){const _0x46b62d=new Float32Array(_0x30a916);_0x46b62d['set'](_0x49556c,-0x244+0x124+0x120),_0x46b62d['set'](_0x147bf5,_0x49556c['length']),_0x5d480b[_0x14d2f5]=_0x46b62d;}}}}const _0x21d0d4={};Object['keys'](_0x5d480b)['forEach'](_0x4a9f24=>{_0x21d0d4[_0x4a9f24]=new Float32Array(_0x5d480b[_0x4a9f24]['buffer']['slice']());});const _0x24b753=Object['keys'](_0x21d0d4)['map'](_0x565898=>_0x21d0d4[_0x565898]['buffer']),_0x198e9e=_0x3bbf9f(),_0x52e7dd=Object['keys'](_0x198e9e)['map'](_0x342230=>_0x198e9e[_0x342230]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x21d0d4,'transformData':_0x198e9e},_0x24b753['concat'](_0x52e7dd));},_0x3bbf9f=()=>{const _0x4ce9ae=_0x5d480b['x']['length'],_0xbb9d32=_0x5d480b['x'],_0x385776=_0x5d480b['y'],_0x2b1297=_0x5d480b['z'],_0x2f31c1=_0x5d480b['scale_0'],_0x41764e=_0x5d480b['scale_1'],_0x3a64c0=_0x5d480b['scale_2'],_0x431bed=_0x5d480b['rot_1'],_0x1aaa52=_0x5d480b['rot_2'],_0x4cc925=_0x5d480b['rot_3'],_0x22f9e9=_0x5d480b['rot_0'],_0xa4e258=_0x5d480b['motion_0'],_0x30763c=_0x5d480b['motion_1'],_0x49f18c=_0x5d480b['motion_2'],_0x569fb0=_0x5d480b['t'],_0x4774e8=_0x5d480b['t_scale'],_0x53974a=_0x5d480b['time_index'],_0x2c103c=_0x5d480b['f_dc_0'],_0x2dbfff=_0x5d480b['f_dc_1'],_0x24662c=_0x5d480b['f_dc_2'],_0x55f878=_0x5d480b['opacity'],_0xcadc98=(_0x569fb0==null?void(-0x16f3+0x19f1+-0x2*0x17f):_0x569fb0['length'])>-0x2141*0x1+0xef5+0x124c,_0x1469d2=new Float32Array(_0x4ce9ae*(0x7d6+0x783+0xf56*-0x1)),_0x5d0578=new Float32Array(_0x4ce9ae*(-0xa2a+-0x1cdf*0x1+-0x22*-0x126)),_0x3e1284=new Uint16Array(_0x4ce9ae*(-0x21ed+-0x3*-0x41e+-0x1596*-0x1)),_0x204635=new Float32Array(_0x4ce9ae*(0x1*0x1ebb+-0x10e0+-0xdd8));let _0x45fca7=null,_0x389fe0=null,_0xa726c8=null,_0x2613b5=null;_0xcadc98&&(_0x45fca7=new Float32Array(_0x4ce9ae*(-0x374+0xaae*-0x2+0x18d3)),_0x389fe0=new Float32Array(_0x4ce9ae*(-0x4c3+-0x3a*-0xa9+-0x2184)),_0xa726c8=new Float32Array(_0x4ce9ae*(-0x6*0x37a+-0x1*-0xc2e+0x8b1)),_0x2613b5=new Float32Array(_0x4ce9ae));const _0x140cc1=new _0x1bec27(0x10*-0xde+-0x1b71+0x1*0x2951,-0x5a6+0x1*0x469+0x13d,-0x65*-0xd+-0x2*-0xd3b+-0x1*0x1f97,-0x4cc*-0x1+0xd*-0x168+0x6be*0x2);let _0x499aa6=0xc3a*0x3+0x243e+-0x48ec,_0x4f5b61=0x1*-0x335+0x2*0xd8c+-0x5*0x4c7,_0x21b62b=0x7bd+0x43c*0x4+-0x18ad,_0x1c2fc9=-0x25*0x2f+0x113f*0x1+0xc*-0xdf,_0x9dd702=-0x15fc+0x5*-0x4e7+0x2e7f,_0x5dccaf=0x1b0e+-0x166d*0x1+0x1*-0x4a1,_0x5d8e35=!(0x3d2*-0x2+0x2596+-0x1df2);const _0x5963fe=new Float32Array(-0x60a*-0x3+-0x1eb*-0x11+-0x32b6),_0x364d12=new Float32Array(0xa*-0x358+0x1ee*0xb+0xc39),_0x4c12df=new Uint16Array(_0x4ce9ae*(-0x1868*-0x1+0x1*0xa7f+-0x22e3)),_0x4b0bc0=0xcaa+0x1*0x703+0xdb*-0x17+0.28209479177387814;for(let _0x57ac37=-0x974+0x52d*0x3+-0x1*0x613;_0x57ac37<_0x4ce9ae;++_0x57ac37){const _0x2a4507=_0x2c103c[_0x57ac37]*_0x4b0bc0+(-0x7a8*-0x1+-0x1526+0xd7e+0.5),_0x1168a3=_0x2dbfff[_0x57ac37]*_0x4b0bc0+(-0x13*-0x174+-0x3ec+-0x5ec*0x4+0.5),_0x25291b=_0x24662c[_0x57ac37]*_0x4b0bc0+(0x119*0x1f+-0x16d4+0x2f*-0x3d+0.5),_0x5debed=_0x55f878[_0x57ac37];_0x4c12df[_0x57ac37*(0xc0*-0x1a+0x21ef+-0xe6b)+(-0xce7+0x1ea1+-0x8dd*0x2)]=_0x2134be(_0x2a4507),_0x4c12df[_0x57ac37*(0x1*0x18c2+-0x16f3+-0x1cb)+(-0x121a+-0x8eb+0x1b06)]=_0x2134be(_0x1168a3),_0x4c12df[_0x57ac37*(-0x8*0x1f5+-0x1b60+0x2b0c)+(-0xb*-0x1fd+-0x1*0x2663+0x1086)]=_0x2134be(_0x25291b),_0x4c12df[_0x57ac37*(0x1cd3+-0x1f3*-0x1+-0x1ec2)+(0xa2c+0x98f*0x3+0x26d6*-0x1)]=_0x2134be(_0x5debed);const _0x509b97=_0xbb9d32[_0x57ac37],_0x4104ae=_0x385776[_0x57ac37],_0x1aa392=_0x2b1297[_0x57ac37],_0x1f8242=Math['max'](_0x2f31c1[_0x57ac37],_0x41764e[_0x57ac37],_0x3a64c0[_0x57ac37]);if(isFinite(_0x509b97)&&isFinite(_0x4104ae)&&isFinite(_0x1aa392)&&isFinite(_0x1f8242)){const _0x1fbbee=(-0x1604+0xe1+-0x1525*-0x1)*Math['exp'](_0x1f8242);_0x5d8e35?(_0x5d8e35=!(0xd2a+0xed2+-0x1bfb),_0x499aa6=_0x509b97-_0x1fbbee,_0x4f5b61=_0x4104ae-_0x1fbbee,_0x21b62b=_0x1aa392-_0x1fbbee,_0x1c2fc9=_0x509b97+_0x1fbbee,_0x9dd702=_0x4104ae+_0x1fbbee,_0x5dccaf=_0x1aa392+_0x1fbbee):(_0x499aa6=Math['min'](_0x499aa6,_0x509b97-_0x1fbbee),_0x4f5b61=Math['min'](_0x4f5b61,_0x4104ae-_0x1fbbee),_0x21b62b=Math['min'](_0x21b62b,_0x1aa392-_0x1fbbee),_0x1c2fc9=Math['max'](_0x1c2fc9,_0x509b97+_0x1fbbee),_0x9dd702=Math['max'](_0x9dd702,_0x4104ae+_0x1fbbee),_0x5dccaf=Math['max'](_0x5dccaf,_0x1aa392+_0x1fbbee));}_0x140cc1['set'](_0x431bed[_0x57ac37],_0x1aaa52[_0x57ac37],_0x4cc925[_0x57ac37],_0x22f9e9[_0x57ac37]),_0x140cc1['normalize'](),_0x140cc1['w']<-0x1*0x1d53+-0x99a*-0x1+0x1cb*0xb&&_0x140cc1['mulScalar'](-(-0x4e9+-0x845+-0x9*-0x177)),_0x5d0578[_0x57ac37*(-0x95*0xe+-0x230a+0x2b33)+(0x4ff*-0x5+0x1*-0xd8d+0x2688)]=_0xbb9d32[_0x57ac37],_0x5d0578[_0x57ac37*(0x3*0xb6b+0xe54+-0x1*0x3092)+(-0x2f*0x97+-0xde*-0xd+0x24*0x75)]=_0x385776[_0x57ac37],_0x5d0578[_0x57ac37*(0x1e7b+0xa*0xdf+-0x3b*0xaa)+(0xe03+0x1ce1+-0x2ae2)]=_0x2b1297[_0x57ac37],_0x1469d2[_0x57ac37*(0x1b*0x108+0xb52+-0x101*0x27)+(-0x31+0x1220+-0x11ef)]=_0xbb9d32[_0x57ac37],_0x1469d2[_0x57ac37*(0x6a*-0x25+0x3db+0x2*0x5bd)+(0x2a4+0x127e+-0x9*0x259)]=_0x385776[_0x57ac37],_0x1469d2[_0x57ac37*(0x2591+0x1bde+-0x416c)+(-0x1*-0x1b61+-0x1835+-0x32a)]=_0x2b1297[_0x57ac37],_0x3e1284[_0x57ac37*(-0x1602+-0xd21*-0x2+-0x43d)+(0x259b+0x3a4*-0xa+-0x133)]=_0x2134be(Math['exp'](_0x2f31c1[_0x57ac37])),_0x3e1284[_0x57ac37*(-0x2348+0x12d0+0x107b)+(-0xf1*-0x21+-0x3*-0x4b3+-0x2d29)]=_0x2134be(Math['exp'](_0x41764e[_0x57ac37])),_0x3e1284[_0x57ac37*(0x6*0x1e7+0x1*-0x17e9+0xc82)+(-0x317*0xb+-0x1e45+0x4044)]=_0x2134be(Math['exp'](_0x3a64c0[_0x57ac37])),_0x204635[_0x57ac37*(0x14d7*0x1+-0x2304+-0x8*-0x1c6)+(0x28d+-0x14e1+0x1254)]=_0x140cc1['x'],_0x204635[_0x57ac37*(0x1d3f+-0x2556+-0x7a*-0x11)+(0x1c86+-0x3cf+0x1*-0x18b6)]=_0x140cc1['y'],_0x204635[_0x57ac37*(0x1*-0x592+0x29*0xf1+0x1*-0x2104)+(0x30e*-0x3+0x1801+-0xed5*0x1)]=_0x140cc1['z'],_0xcadc98&&_0x45fca7&&_0x389fe0&&_0xa726c8&&_0x2613b5&&(_0x45fca7[_0x57ac37*(0x1*0x1d99+-0x17f3*0x1+-0x5a3)+(0x113b+-0x2*0x2bb+0xbc5*-0x1)]=_0xa4e258[_0x57ac37],_0x45fca7[_0x57ac37*(0x312*-0x6+-0x2c*-0x3a+-0x877*-0x1)+(0x8*0x407+-0x17a8+0x139*-0x7)]=_0x30763c[_0x57ac37],_0x45fca7[_0x57ac37*(0x1c9e+-0x3a1*-0x5+-0x2ec0)+(-0x1b34+0x5a8+0x158e)]=_0x49f18c[_0x57ac37],_0xa726c8[_0x57ac37*(0x214e+-0xa94+-0x16b7)+(-0x1d*-0x38+0x279*0x3+0xdc3*-0x1)]=_0xa4e258[_0x57ac37],_0xa726c8[_0x57ac37*(-0xe2a+-0x16c4+0x24f1)+(-0x1dd0+-0x11a4+0x2f75)]=_0x30763c[_0x57ac37],_0xa726c8[_0x57ac37*(0x1f51+-0x2309*0x1+0x3bb)+(-0x3ca+0x1991+-0x1*0x15c5)]=_0x49f18c[_0x57ac37],_0x2613b5[_0x57ac37]=_0x4774e8?Math['exp'](_0x4774e8[_0x57ac37]):0x1f21+-0x3*0x8d1+-0x4ae,_0x389fe0[_0x57ac37*(0x2694+0x1b40*-0x1+0xb51*-0x1)+(-0x1e8f+-0x4f*0x6d+0x6*0xab3)]=_0x569fb0?_0x569fb0[_0x57ac37]:0x7ed*-0x2+-0x4d7+0x14b1,_0x389fe0[_0x57ac37*(-0x2592+0xad6+0x1abf)+(-0x906+0x65*-0x57+-0x1*-0x2b5a)]=_0x2613b5[_0x57ac37]);}_0x5d8e35||(_0x5963fe[-0x5ed+-0x1551+0x27a*0xb]=(_0x499aa6+_0x1c2fc9)*(-0x1ca4+0x8c*0x1c+-0x355*-0x4+0.5),_0x5963fe[-0x9a6+0x1214*-0x1+0x1bbb]=(_0x4f5b61+_0x9dd702)*(0x1aba+0x4*-0xbe+-0x17c2+0.5),_0x5963fe[0x317+0xd*0x57+-0x780]=(_0x21b62b+_0x5dccaf)*(-0x24cb+0x2261+0x26a+0.5),_0x364d12[-0x1*-0x2ae+0x38d+0x13f*-0x5]=(_0x1c2fc9-_0x499aa6)*(-0x575+-0x22ed+0x2862+0.5),_0x364d12[0x1361*-0x1+-0x9*0x2aa+-0x3*-0xe74]=(_0x9dd702-_0x4f5b61)*(0x2f*0x2f+-0x146b*0x1+0x6*0x1f7+0.5),_0x364d12[-0xb67+-0x149b*0x1+-0x2*-0x1002]=(_0x5dccaf-_0x21b62b)*(0x264e+0x893*-0x1+-0x1dbb+0.5));const _0x44a2c9=_0x4a1d22();let _0x10dc99={'dataColor':_0x4c12df,'center':_0x5963fe,'halfExtents':_0x364d12,'dataCenters':_0x1469d2,'dataPosition':_0x5d0578,'dataScale':_0x3e1284,'dataRotation':_0x204635,..._0x44a2c9};return _0xcadc98&&(_0x10dc99={..._0x10dc99,'dataMotion':_0x45fca7,'dataTime':_0x389fe0,'motion':_0xa726c8,'tScaleArray':_0x2613b5,'muT':new Float32Array(_0x569fb0),'timeIndex':new Float32Array(_0x53974a)}),_0x10dc99;},_0x5d538b=_0x266b92=>{const _0x18a7fb=[];for(let _0x9e8bcb=0x1084+0x70b+-0x178f;_0x9e8bcb<_0x266b92;++_0x9e8bcb)_0x18a7fb['push'](_0x5d480b['f_rest_'+_0x9e8bcb]);return _0x18a7fb;},_0x4a1d22=()=>{const _0x3e75eb=_0x397d5e();if(_0x3e75eb<=0xce9*-0x3+-0x1*-0x1c4e+0xa6d)return{};const _0x1710ab=_0x5d480b['x']['length'],_0x2e5cd5=new Uint32Array(_0x1710ab*(-0x33d*-0x3+-0x71*-0x1+-0xa24)),_0x7278=new Uint32Array(_0x1710ab*(-0x572+0x433*-0x1+-0x9a9*-0x1)),_0x2cd354=new Uint32Array(_0x1710ab*(0x1672*-0x1+0x11a5+0x19b*0x3)),_0x184223=new Uint32Array(_0x1710ab*(-0x74b*0x4+-0x925*-0x1+0x2dd*0x7)),_0x3958f0={0x1:0x3,0x2:0x8,0x3:0xf}[_0x3e75eb],_0x353270=_0x5d538b(_0x3958f0*(-0xbf9*0x3+0x720+0x1cce)),_0xc4008d=-0x1d63+-0x18be+0x3e20,_0x36362b=0xbdb*-0x1+-0x79*-0xe+0x93c,_0x54dd7a=new Float32Array(-0x33*-0x3a+0x16*0x91+-0x1803),_0x4f828a=new Uint32Array(_0x54dd7a['buffer']),_0x3c1fc2=new Array(_0x3958f0*(0xd55+0x256+-0xfa8))['fill'](0x204*-0x6+0x28c+0x98c);for(let _0x4ffbf9=0x257a+-0x2*0xa6d+0x1c*-0x98;_0x4ffbf9<_0x1710ab;++_0x4ffbf9){for(let _0x443d16=-0x2*-0x328+0x3f5+-0xa45*0x1;_0x443d16<_0x3958f0;++_0x443d16)_0x3c1fc2[_0x443d16*(0x378+0x118d+0xa81*-0x2)]=_0x353270[_0x443d16][_0x4ffbf9],_0x3c1fc2[_0x443d16*(0x19ab*-0x1+-0x72*-0x1d+0xcc4)+(0x1*0x90f+0x16d0+-0x1fde)]=_0x353270[_0x443d16+_0x3958f0][_0x4ffbf9],_0x3c1fc2[_0x443d16*(-0x4*-0x44+-0x40*-0x5a+-0x178d)+(0xd8a+-0x688+-0x100*0x7)]=_0x353270[_0x443d16+_0x3958f0*(0x1bd4+-0x2672+0xaa0)][_0x4ffbf9];let _0x208da1=_0x3c1fc2[-0x167*-0x11+-0x12bf*-0x1+0x1*-0x2a96];for(let _0x40b140=-0x2*0xefe+-0x15d5+0x33d2;_0x40b140<_0x3958f0*(-0x3ce+-0x7e*0x49+0x27bf);++_0x40b140)_0x208da1=Math['max'](_0x208da1,Math['abs'](_0x3c1fc2[_0x40b140]));if(_0x208da1!==-0x3*-0xdd+0xc05+0xdc*-0x11){for(let _0x33d571=-0x52f+0x1*0x61+0x29*0x1e;_0x33d571<_0x3958f0;++_0x33d571)_0x3c1fc2[_0x33d571*(-0x1*0x1f39+0xf96+0xfa6)+(-0x190b*0x1+-0x10be*-0x1+0x84d)]=Math['max'](0x141d+0x13*0xe3+-0x24f6,Math['min'](_0xc4008d,Math['floor']((_0x3c1fc2[_0x33d571*(-0x18e8+-0xaf7+0x23e2)+(0x9*-0x1e4+-0x13df+0x24e3)]/_0x208da1*(-0x4d*-0x67+0xeb9+-0x145*0x24+0.5)+(-0x1007+-0x135d+0x2364+0.5))*_0xc4008d+(-0x11*-0x191+0x7a2*-0x1+-0x12ff+0.5)))),_0x3c1fc2[_0x33d571*(0x247*-0x3+-0x262a+0x66e*0x7)+(0x1*-0x1e3b+-0xc9e+0x2ada)]=Math['max'](0x151*-0x9+-0x347*0xb+0x2fe6*0x1,Math['min'](_0x36362b,Math['floor']((_0x3c1fc2[_0x33d571*(0x67a+0xb7*0x1d+-0x76*0x3b)+(0x10fd*0x1+0x14c1+0x1*-0x25bd)]/_0x208da1*(-0xf4*-0x11+-0xe9*0x11+-0xbb+0.5)+(0xdde+0xbe9*0x3+-0x1*0x3199+0.5))*_0x36362b+(0xdff+-0x4*-0x3e6+-0x1d97+0.5)))),_0x3c1fc2[_0x33d571*(0x1cbb+0x21bf+-0x3e77)+(0x1c5d+0xf86*0x1+-0x2be1)]=Math['max'](-0x196a+0x194e+0x1c,Math['min'](_0xc4008d,Math['floor']((_0x3c1fc2[_0x33d571*(-0xfda+-0x138+0x1115*0x1)+(-0x5a2+0x1aef+-0x154b*0x1)]/_0x208da1*(-0x1d+-0x7*-0xe3+-0x618+0.5)+(0x137*-0x1+-0xaac+0xbe3+0.5))*_0xc4008d+(-0x23ad+-0x3*-0x6cb+0x1*0xf4c+0.5))));_0x54dd7a[0x136c*-0x1+0x1*-0x59d+-0x11*-0x179]=_0x208da1,_0x2e5cd5[_0x4ffbf9*(-0x2*-0x5ab+0x129f+-0xf*0x1ff)+(0x23f1+-0x1dcd*-0x1+-0x41be)]=_0x4f828a[-0x2be*0x6+-0xe*0x143+0x221e],_0x2e5cd5[_0x4ffbf9*(0x301*-0x5+0x94e+0x1*0x5bb)+(0x2631+-0x1c25+-0xa0b)]=_0x3c1fc2[0x24a0+0xd4c+-0x24*0x163]<<-0xcbc*0x3+0x3f4*0x8+-0x1f*-0x37|_0x3c1fc2[0x1*-0xc2f+-0x19*0x89+0x1991]<<-0x54a*0x5+-0x803*0x1+0x2280|_0x3c1fc2[0x1964+-0x228b+0x929],_0x2e5cd5[_0x4ffbf9*(-0x2a5+0x332*-0x5+0x12a3*0x1)+(-0x22*0x43+-0x225f+0x2b47)]=_0x3c1fc2[-0x245*0xe+0x20b*0x12+-0x4fd*0x1]<<0x92*0x29+0xcbd+-0x7*0x526|_0x3c1fc2[-0x9a2+0x1*0x1d9a+-0x13f4]<<0x543+-0x1c8b+0x7*0x355|_0x3c1fc2[0x1d9b+-0x2*0x105e+0x326],_0x2e5cd5[_0x4ffbf9*(0xca6+0x1de*-0x3+-0x708)+(-0x2690+0x53*-0x3+-0x9e3*-0x4)]=_0x3c1fc2[-0x177f+-0x1*0x23b+-0xce*-0x20]<<0x5b1+0x25*0x61+-0x13a1|_0x3c1fc2[0x2*-0x649+-0xf05+0x3f2*0x7]<<0x2361*-0x1+-0x1*-0x1cf1+0x67b|_0x3c1fc2[0x9*0x265+-0x1978*-0x1+-0x17*0x20b],_0x3e75eb>-0x8e0*0x1+-0x585+0xe66&&(_0x7278[_0x4ffbf9*(-0x12cc+0x4*-0x2f3+-0xa34*-0x3)+(0x12c*-0x1a+-0x37*0x14+0x22c4*0x1)]=_0x3c1fc2[-0x35b*0x2+-0x210d+-0x9*-0x46c]<<0x1*0x2121+0x144+-0x3d*0x90|_0x3c1fc2[-0x10e7+0x1*-0x1c1b+0x2d0c]<<-0x3*-0x34b+0x4ea*-0x3+-0x8*-0x9d|_0x3c1fc2[-0xda0*0x1+0x1*0x1d3b+-0x2*0x7c8],_0x7278[_0x4ffbf9*(0x1867+-0x1dc4+0x1cb*0x3)+(-0x5d8*0x1+-0x3*-0x6aa+-0xe25)]=_0x3c1fc2[0x147d*0x1+0x7*0x27a+-0x25c7]<<0x3df*0x3+0xb1e+-0x16a6|_0x3c1fc2[0x1dbe+-0x4*-0x6b5+-0x2b1*0x15]<<0x427+0x3cb*0x6+0x2*-0xd6f|_0x3c1fc2[-0x374+-0x1*0xbf5+0xf77*0x1],_0x7278[_0x4ffbf9*(-0x1d4c*0x1+0x1*0x1d8b+-0x3b)+(-0x17*0x1a5+0x2*-0x6d2+0x3379*0x1)]=_0x3c1fc2[-0xecc+0x2*-0xf67+0x2da9]<<0x1*0x4cd+0x21fd+-0x16f*0x1b|_0x3c1fc2[0xe54+0xddf*0x1+0x1*-0x1c23]<<0x2*-0x6ff+-0x1fa9+0x16d9*0x2|_0x3c1fc2[0x2*0xdf8+0x1062+-0x2c41],_0x7278[_0x4ffbf9*(-0x6d*-0xf+0x1cfb+0x712*-0x5)+(-0x15d0+-0x1a38*0x1+0x1*0x300b)]=_0x3c1fc2[-0x265e+-0x2*0x10c6+0x1*0x47fc]<<0xb*-0x12+0x1057+-0xf7c|_0x3c1fc2[-0x2*-0xc41+-0xd*-0x1df+-0x30c2]<<0x16*0xcb+0x5ad+-0x1714|_0x3c1fc2[0x24b0+0x59*0x2f+0x34f3*-0x1],_0x3e75eb>-0x1*-0x268+0x3*0x34b+-0x7*0x1c1?(_0x2cd354[_0x4ffbf9*(0x235+0x1181*-0x1+0xf50)+(0x1*0x1479+-0x16*0x175+0xb95)]=_0x3c1fc2[-0x12*0xf5+-0x53b+0x168a]<<-0x68c*0x2+0x1*-0x8f9+0x1626|_0x3c1fc2[-0x1*0x539+0xf59+-0x505*0x2]<<-0x25f*0x2+-0x1cc3+0x218c|_0x3c1fc2[0x14ea*0x1+-0x19f*-0xc+-0x7*0x5c1],_0x2cd354[_0x4ffbf9*(-0xbf1*0x2+-0x1*-0x131e+0x4c8)+(0x1393*-0x1+0x4f4+0xea0)]=_0x3c1fc2[0x2f*0x22+-0x1*0x1686+-0x1060*-0x1]<<-0x545*0x4+-0xc*-0x3d+0x5*0x3a9|_0x3c1fc2[0x2490+0x15aa+0x3a21*-0x1]<<-0x829*-0x3+-0x117d+-0x6f3*0x1|_0x3c1fc2[0x1e*0x2f+-0x79*-0x35+0x3*-0xa27],_0x2cd354[_0x4ffbf9*(0x1f*0x1b+0x260a+0x1*-0x294b)+(0x4e5+0x1*0x23d6+-0x2b7*0xf)]=_0x3c1fc2[-0x4*0x19e+0x1ea1+0x1*-0x180e]<<0x2*0x31e+-0x1fa0+0x1979|_0x3c1fc2[-0xa47+-0x249f+0x2f02]<<-0x1fa3*-0x1+-0x10e2*-0x2+-0x415c|_0x3c1fc2[-0x287*-0x7+0xdbc+-0x1f50],_0x2cd354[_0x4ffbf9*(-0x2f4*0xb+-0x1*-0x453+0x1c2d)+(0xf3b*-0x1+-0x17d6+0x2714)]=_0x3c1fc2[-0x2*-0x1a9+-0x1*0x114a+0x2*0x70b]<<0x2*0x22+0x56a+-0x599*0x1|_0x3c1fc2[-0x26b1+-0x25a4+0x4c74]<<0x2*0x1f5+0x781*-0x2+0xb23|_0x3c1fc2[0x1640+0x1ff*0x3+0x3*-0x95f],_0x184223[_0x4ffbf9*(-0x1*-0x212a+-0x419*0x2+0x2*-0xc7a)+(0x12f7*-0x1+-0x1475+0x276c)]=_0x3c1fc2[0x1*-0xea3+0x10a8+-0x1*0x1e4]<<-0x2*-0x71b+0x224b+0x1836*-0x2|_0x3c1fc2[-0x1650+-0x16f*0x10+0x2d62]<<-0xb1b*-0x2+0x14b2+0x1*-0x2add|_0x3c1fc2[0x13*0x185+-0xd0b+-0x1*0xfb1],_0x184223[_0x4ffbf9*(0x2700+-0x1*0x256b+-0x191)+(0xc5d+-0x1475+0x819)]=_0x3c1fc2[-0x19c1+0x1395+-0x10*-0x65]<<-0xe84+-0x16*0x1a8+0xc9*0x41|_0x3c1fc2[0x1*0x571+0x207b*0x1+-0x25c7]<<-0x2253*0x1+-0xd6*-0x2d+-0x340|_0x3c1fc2[0x1267+-0x1*0x113d+-0x4*0x41],_0x184223[_0x4ffbf9*(-0x56a+0x5cd+-0x5f)+(-0x1130+-0xc6e+-0x4*-0x768)]=_0x3c1fc2[0xc5*-0x29+0x102a+0xf8a]<<0x4bf*-0x1+0xb55+-0x14d*0x5|_0x3c1fc2[0x1*0x1716+0xdc7+-0x24b5]<<-0x14*0xb1+0x1ac3*-0x1+0x28a2|_0x3c1fc2[0x17a9+-0xb*0x30b+-0x9f9*-0x1],_0x184223[_0x4ffbf9*(0x1*0xc2f+-0x92*-0x3d+-0x2ef5)+(-0x4*-0x74c+-0x919+-0x1414)]=_0x3c1fc2[0x180+0x1aff+-0x1c55]<<-0x13*0xb5+-0x10b*-0x17+-0xa79|_0x3c1fc2[-0xdba+0xcd*-0x17+0x4*0x814]<<-0x145f+-0x1*0x1e1f+0x3289|_0x3c1fc2[0x1c5d+-0x29*-0x1a+-0x205b]):_0x2cd354[_0x4ffbf9]=_0x3c1fc2[-0x3*0x78b+0x1d*0xf8+-0x562]<<-0xa3*-0x39+0x86*-0x1f+-0x13fc|_0x3c1fc2[-0x2542+0xf*0x22f+0x497]<<-0xc8f*0x3+0x3*0x195+0x20f9|_0x3c1fc2[0x26ad+0x1*0xd0d+-0x33a3]);}}return{'sh1to3Data':_0x2e5cd5,'sh4to7Data':_0x7278,'sh8to11Data':_0x2cd354,'sh12to15Data':_0x184223};},_0x296feb=_0x450c69=>{if(!_0x5d480b['time_index'])return;const _0x256dff=_0x5d480b['time_index']['findIndex'](_0x1a7b04=>_0x1a7b04===_0x450c69);let _0xf45a2a=_0x5d480b['time_index']['findIndex']((_0x1b2a30,_0x37444b)=>_0x1b2a30!==_0x450c69&&_0x37444b>_0x256dff);if(_0xf45a2a===-(-0x110*-0x19+0xb0a+-0x2599)&&_0x256dff===-(0x2f*0x5f+-0x7b1*0x2+0x20e*-0x1))return;_0xf45a2a===-(-0x25*-0x61+0x2*-0x397+-0x6d6)&&_0x256dff!==-(0x14b9*0x1+0x2302+0x37ba*-0x1)&&(_0xf45a2a=_0x5d480b['time_index']['length']),_0x30a916-=_0xf45a2a-_0x256dff;const _0x1a9858=Object['keys'](_0x5d480b);for(let _0x3836d7=-0x1*-0x125b+-0x1*-0xcda+-0x1f35;_0x3836d7<_0x1a9858['length'];_0x3836d7++){const _0x3ac06d=_0x1a9858[_0x3836d7],_0x11a51a=_0x5d480b[_0x3ac06d];if(_0x11a51a){const _0x361f29=new Float32Array(_0x30a916);_0x256dff>-0x1283+0x1*-0x1860+0x2ae3?(_0x361f29['set'](_0x11a51a['subarray'](0xd57*-0x2+0x40*0x19+0x416*0x5,_0x256dff),0x1d6b+0x1*0x2096+0x21*-0x1e1),_0x361f29['set'](_0x11a51a['subarray'](_0xf45a2a),_0x256dff)):_0x361f29['set'](_0x11a51a['subarray'](_0xf45a2a),0x903+-0x4ea+0x419*-0x1),_0x5d480b[_0x3ac06d]=_0x361f29;}}},_0x130384=()=>{const _0x2d12e8=Object['keys'](_0x5d480b);for(let _0xb3f7e0=-0x2d7+0x250c+-0x2235;_0xb3f7e0<_0x2d12e8['length'];_0xb3f7e0++){const _0x3ac0bc=_0x2d12e8[_0xb3f7e0];_0x5d480b[_0x3ac0bc]&&(_0x5d480b[_0x3ac0bc]=[]);}},_0x24f2d5=()=>{_0x5d480b={},_0x30a916=0x136e+-0x1*0x81f+-0x3*0x3c5;};}class YA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+jA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0xe89270,_0x3870b7,_0x4e8401,_0x123edb=!(-0x2697+0x31*-0xa7+0x468f)){var _0x58325b,_0x69f6ae;const _0x59b657={};return _0xe89270['elements'][0x30*0x7+-0x1*-0x10b1+-0x1201]['properties']['forEach'](_0x333305=>{_0x59b657[_0x333305['name']]=_0x333305['storage'];}),_0x123edb?(_0x58325b=this['worker'])==null||_0x58325b['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x59b657,'timeIndex':_0x3870b7,'timeOption':_0x4e8401},_0xe89270['elements'][-0x466*-0x7+0x9a9+-0x2873]['properties']['map'](_0x2684f8=>_0x2684f8['storage']['buffer'])):(_0x69f6ae=this['worker'])==null||_0x69f6ae['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x59b657,'timeIndex':_0x3870b7,'timeOption':_0x4e8401}),new Promise(_0x590993=>{this['worker']['onmessage']=_0x1005e3=>{if(!this['worker'])return;const {data:_0x5ccb59}=_0x1005e3;_0x5ccb59['type']==='newAppendD'+'ata'&&_0x590993(_0x5ccb59);};});}async['releaseSeq'+'Data'](_0x420896){var _0x42f95b;(_0x42f95b=this['worker'])==null||_0x42f95b['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x420896});}async['releaseAll'+'SeqData'](){var _0x21b1af;(_0x21b1af=this['worker'])==null||_0x21b1af['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x543174;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x543174=this['worker'])==null||_0x543174['terminate'](),this['worker']=null);}}const za=new te(),pg=new le(),yf=new De(),mg=new De(),KA=new ie(-0x21*-0x63+0x1f67+-0x2c29,0x1d94+0x2085+-0x4*0xf86,0x1*-0x18d6+0xc*0x24b+-0x2ae,-0xd04+-0x172f+0x2433+0.4),vf=0x1*0xdb7+-0x1*0x2dd+0x1cf*-0x6+0.28209479177387814,xf=-0x26*-0x9e3+0x57152+-0x3dbc4;let ZA=class{constructor(_0x45b1e7,_0x5c50cf,_0x3103b1,_0x3de5fe,_0x34b8ea,_0x5e5b36){const _0x5a79a2=_0x45b1e7['getProp']('x'),_0x2ff424=_0x45b1e7['getProp']('y'),_0x28562a=_0x45b1e7['getProp']('z'),_0x57542e=_0x45b1e7['getProp']('rot_1'),_0x4840d3=_0x45b1e7['getProp']('rot_2'),_0x416a50=_0x45b1e7['getProp']('rot_3'),_0x15c313=_0x45b1e7['getProp']('rot_0'),_0x38a961=_0x45b1e7['getProp']('motion_0'),_0x35545a=_0x45b1e7['getProp']('motion_1'),_0x10a901=_0x45b1e7['getProp']('motion_2'),_0x30b557=_0x45b1e7['getProp']('scale_0'),_0x2df17c=_0x45b1e7['getProp']('scale_1'),_0x355113=_0x45b1e7['getProp']('scale_2'),_0x115119=_0x45b1e7['getProp']('f_dc_0'),_0x266242=_0x45b1e7['getProp']('f_dc_1'),_0x23d7fc=_0x45b1e7['getProp']('f_dc_2'),_0x2a2459=_0x45b1e7['getProp']('opacity');this['read']=_0xe64abe=>{_0x5c50cf&&(_0x5c50cf['x']=_0x5a79a2[_0xe64abe],_0x5c50cf['y']=_0x2ff424[_0xe64abe],_0x5c50cf['z']=_0x28562a[_0xe64abe]),_0x3103b1&&_0x3103b1['set'](_0x57542e[_0xe64abe],_0x4840d3[_0xe64abe],_0x416a50[_0xe64abe],_0x15c313[_0xe64abe]),_0x3de5fe&&_0x3de5fe['set'](Math['exp'](_0x30b557[_0xe64abe]),Math['exp'](_0x2df17c[_0xe64abe]),Math['exp'](_0x355113[_0xe64abe])),_0x5e5b36&&_0x38a961&&_0x5e5b36['set'](_0x38a961[_0xe64abe],_0x35545a[_0xe64abe],_0x10a901[_0xe64abe]),_0x34b8ea&&_0x34b8ea['set'](0x25*0x2e+0x2695+0x1*-0x2d3b+0.5+_0x115119[_0xe64abe]*vf,-0x24a7+-0x2b4*-0xd+0x183+0.5+_0x266242[_0xe64abe]*vf,-0x2209+0x87*0x1b+0xb5*0x1c+0.5+_0x23d7fc[_0xe64abe]*vf,_0x2a2459[_0xe64abe]);};}};const _g=(_0x4c5f1a,_0x385f68,_0x2cbf1f)=>{pg['set'](_0x2cbf1f['x'],_0x2cbf1f['y'],_0x2cbf1f['z'],_0x2cbf1f['w'])['normalize'](),_0x4c5f1a['setTRS'](_0x385f68,pg,D['ONE']);};class qn{constructor(_0x5caf00,_0x498aa9=[]){h(this,'elements'),h(this,'numSplats',0x419+0x16bc+0x1*-0x1ad5),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0xb91aef;(_0xb91aef=this['dataWorker'])==null||_0xb91aef['destroy'](),this['dataWorker']=null;});var _0x498669,_0x1a9855,_0x23f09e;this['elements']=_0x5caf00,this['numSplats']=((_0x498669=this['getElement']('vertex'))==null?void(-0x236c+0x1*0xc43+0xb*0x21b):_0x498669['count'])??0x2434+-0x967+0x8ef*-0x3,this['comments']=_0x498aa9,this['is4D']=!!((_0x23f09e=(_0x1a9855=this['getElement']('vertex'))==null?void(-0x5*-0x6cb+0xe8a+-0x3081):_0x1a9855['properties']['find'](_0x2bf0f6=>_0x2bf0f6['name']==='t'))!=null&&_0x23f09e['storage']);}async['appendGSpl'+'atData'](_0x4db20e,_0x7e15d4,_0x410272){var _0x456905;let _0x30f8c4=-0x958+-0x1f55+0x3*0xd8f;for(let _0x3e9229=-0x1*-0x1541+-0x140+-0x9*0x239;_0x3e9229<_0x410272['length']&&_0x7e15d4>_0x410272[_0x3e9229];_0x3e9229+=-0xbf*-0x1+0x1b3a+0x1bf7*-0x1)_0x30f8c4=_0x3e9229/(-0x1644+-0x1*-0x1176+0x4d0);console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData',_0x30f8c4),this['dataWorker']||(this['dataWorker']=new YA(),await this['dataWorker']['appendGSpl'+'atData'](this,0x26cd+0x1ec6+0x7bb*-0x9,_0x410272));const _0x30c690=this['getElement']('vertex');_0x30c690&&(_0x30c690['count']=this['numSplats']);const _0x291994=await this['dataWorker']['appendGSpl'+'atData'](_0x4db20e,_0x30f8c4,_0x410272,!(0x195e+-0x1*0x49c+0x2*-0xa61)),_0x29513b=_0x291994['properties'],_0x56e752=((_0x456905=this['getElement']('vertex'))==null?void(0x187*-0x15+-0x26*0xb3+0x3aa5*0x1):_0x456905['properties'])??[];for(const _0x2f51a9 in _0x29513b){const _0x461ac7=_0x56e752['find'](_0x4492c3=>_0x4492c3['name']===_0x2f51a9);_0x461ac7?_0x461ac7['storage']=_0x29513b[_0x2f51a9]:_0x56e752['push']({'type':'float','name':_0x2f51a9,'storage':_0x29513b[_0x2f51a9],'byteSize':0x4});}this['transformD'+'ata']=_0x291994['transformD'+'ata'],this['numSplats']=_0x29513b['x']['length'],console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData\x20nu'+'mSplats',this['numSplats']);}async['releaseSeq'+'Data'](_0x414f12){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20releaseSe'+'qData',_0x414f12),this['dataWorker']['releaseSeq'+'Data'](_0x414f12),this;}async['releaseAll'+'SeqData'](){var _0x2ec17b;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20release\x20a'+'ll\x20SeqData'),(_0x2ec17b=this['dataWorker'])==null||_0x2ec17b['releaseAll'+'SeqData'](),this;}static['calcSplatA'+'abb'](_0x6a7cb0,_0x376da9,_0xe938ea,_0x3f0ed8){_g(za,_0x376da9,_0xe938ea),yf['center']['set'](0x417*0x2+0x189c+0x1065*-0x2,-0x4*0x5d0+-0x4e9+0x1c29*0x1,-0x19*0x145+0x2011*-0x1+0x3fce),yf['halfExtent'+'s']['set'](_0x3f0ed8['x']*(0x20f1+-0x853*-0x4+-0x423b),_0x3f0ed8['y']*(-0x18f4*-0x1+-0xbdb*-0x1+-0x24cd),_0x3f0ed8['z']*(0xf7e+0x90*0x12+-0x199c)),_0x6a7cb0['setFromTra'+'nsformedAa'+'bb'](yf,za);}['getProp'](_0x3ee234,_0x3c54f1='vertex'){var _0x37a7ff,_0x11920f;return(_0x11920f=(_0x37a7ff=this['getElement'](_0x3c54f1))==null?void(-0x4*-0x223+0xa7*0x2c+-0x2540):_0x37a7ff['properties']['find'](_0x592b48=>_0x592b48['name']===_0x3ee234))==null?void(-0x2*-0x1ae+0x62d+-0x989):_0x11920f['storage'];}['getElement'](_0x2b73a5){return this['elements']['find'](_0x50be0c=>_0x50be0c['name']===_0x2b73a5);}['addProp'](_0x20d635,_0x2cda86){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x20d635,'storage':_0x2cda86,'byteSize':0x4});}['createIter'](_0x27e7bc,_0x526c26,_0x20c8bc,_0x1ed438,_0x5eefdd){return new ZA(this,_0x27e7bc,_0x526c26,_0x20c8bc,_0x1ed438,_0x5eefdd);}async['calcAabbAs'+'ync'](_0x508ec6,_0x2859ca){var _0x4c934b,_0x205ccb;if((_0x4c934b=this['transformD'+'ata'])!=null&&_0x4c934b['center']&&((_0x205ccb=this['transformD'+'ata'])!=null&&_0x205ccb['halfExtent'+'s'])){_0x508ec6['center']['set'](this['transformD'+'ata']['center'][-0xbb2+-0x3*-0x2ee+0x2e8],this['transformD'+'ata']['center'][0xa3*0x2f+-0x3b6+-0x1a36],this['transformD'+'ata']['center'][0xc7d+0xac6+-0x1741]),_0x508ec6['halfExtent'+'s']['set'](this['transformD'+'ata']['halfExtent'+'s'][0x26d5+-0x188e+-0xe47],this['transformD'+'ata']['halfExtent'+'s'][-0x1*-0x895+0x19a+0xa2e*-0x1],this['transformD'+'ata']['halfExtent'+'s'][-0x3d*-0x49+0x3dd+-0x1540]);return;}const _0x58f4ad=this['getProp']('x'),_0x4b2ae6=this['getProp']('y'),_0x2e7ac6=this['getProp']('z'),_0x52e5c4=this['getProp']('scale_0'),_0x2ea63b=this['getProp']('scale_1'),_0x252370=this['getProp']('scale_2'),_0x563d67=await(_0x2859ca==null?void(0x2376+0x2*0x11f7+0x1*-0x4764):_0x2859ca['calcAabb'](this['numSplats'],_0x58f4ad,_0x4b2ae6,_0x2e7ac6,_0x52e5c4,_0x2ea63b,_0x252370));_0x508ec6['center']['set'](_0x563d67['center'][-0x1a0+-0x2160+-0x70*-0x50],_0x563d67['center'][0x72b+0x1eb*-0x11+-0x27*-0xa7],_0x563d67['center'][0xcf+0x1bb2+0x5b3*-0x5]),_0x508ec6['halfExtent'+'s']['set'](_0x563d67['halfExtent'+'s'][0x1e44+0x2*0xb3f+0x1196*-0x3],_0x563d67['halfExtent'+'s'][0xff9+-0x2*-0x583+-0x1*0x1afe],_0x563d67['halfExtent'+'s'][-0x69b*0x1+-0xe62*0x1+0x5*0x433]);}['calcAabb'](_0xb58752,_0xd2ef5d){let _0x2a0f35,_0x1539c8,_0x20f78b,_0x320026,_0x313088,_0x5a69d9,_0x30172e=!(-0x449*0x4+0xf8d+0x197);const _0x1e7892=this['getProp']('x'),_0x2e4692=this['getProp']('y'),_0x4abfc9=this['getProp']('z'),_0x30c30a=this['getProp']('scale_0'),_0x13025e=this['getProp']('scale_1'),_0xe06c67=this['getProp']('scale_2');for(let _0x28dff0=0xd5+-0x7c9*-0x2+-0x1067;_0x28dff0<this['numSplats'];++_0x28dff0){if(_0xd2ef5d&&!_0xd2ef5d(_0x28dff0))continue;const _0x492a03=_0x1e7892[_0x28dff0],_0x52f1d6=_0x2e4692[_0x28dff0],_0x18d534=_0x4abfc9[_0x28dff0],_0x22db02=Math['max'](_0x30c30a[_0x28dff0],_0x13025e[_0x28dff0],_0xe06c67[_0x28dff0]);if(!isFinite(_0x492a03)||!isFinite(_0x52f1d6)||!isFinite(_0x18d534)||!isFinite(_0x22db02))continue;const _0x29e284=(-0x1*0x179f+-0xe5*0x15+0x3d*0xb2)*Math['exp'](_0x22db02);_0x30172e?(_0x30172e=!(-0x1*-0xee6+-0x1cc9+0x1*0xde4),_0x2a0f35=_0x492a03-_0x29e284,_0x1539c8=_0x52f1d6-_0x29e284,_0x20f78b=_0x18d534-_0x29e284,_0x320026=_0x492a03+_0x29e284,_0x313088=_0x52f1d6+_0x29e284,_0x5a69d9=_0x18d534+_0x29e284):(_0x2a0f35=Math['min'](_0x2a0f35,_0x492a03-_0x29e284),_0x1539c8=Math['min'](_0x1539c8,_0x52f1d6-_0x29e284),_0x20f78b=Math['min'](_0x20f78b,_0x18d534-_0x29e284),_0x320026=Math['max'](_0x320026,_0x492a03+_0x29e284),_0x313088=Math['max'](_0x313088,_0x52f1d6+_0x29e284),_0x5a69d9=Math['max'](_0x5a69d9,_0x18d534+_0x29e284));}return _0x30172e||(_0xb58752['center']['set']((_0x2a0f35+_0x320026)*(-0xf38+-0x26c4*0x1+0x35fc+0.5),(_0x1539c8+_0x313088)*(0x1*0x12b5+0x21b9*0x1+-0x346e+0.5),(_0x20f78b+_0x5a69d9)*(-0xc59+0x3c9+0x4*0x224+0.5)),_0xb58752['halfExtent'+'s']['set']((_0x320026-_0x2a0f35)*(0xd1b+0xe0d+-0x1b28+0.5),(_0x313088-_0x1539c8)*(0xccf+-0x1*-0x136f+-0x203e+0.5),(_0x5a69d9-_0x20f78b)*(-0x2f9*-0x1+0x18+-0x311+0.5))),!_0x30172e;}['yieldToMai'+'n'](){var _0x37ee73;return(_0x37ee73=globalThis['scheduler'])!=null&&_0x37ee73['yield']?globalThis['scheduler']['yield']():new Promise(_0x10c643=>{setTimeout(_0x10c643,-0x3*-0xbc2+0x9*0x31+-0x7*0x549);});}['calcAabbEx'+'act'](_0x1468db,_0x39fcd0){const _0x2f9b9e=new D(),_0x17ffca=new le(),_0x2d2a5b=new D(),_0x52dcf7=this['createIter'](_0x2f9b9e,_0x17ffca,_0x2d2a5b);let _0x5bec90=!(-0x181b+0x1c44+-0x429);for(let _0x3c3f9f=0xb47*-0x1+0x1365+-0x81e;_0x3c3f9f<this['numSplats'];++_0x3c3f9f)_0x39fcd0&&!_0x39fcd0(_0x3c3f9f)||(_0x52dcf7['read'](_0x3c3f9f),_0x5bec90?(_0x5bec90=!(-0x6*-0xa0+0x10*0x61+0x9cf*-0x1),qn['calcSplatA'+'abb'](_0x1468db,_0x2f9b9e,_0x17ffca,_0x2d2a5b)):(qn['calcSplatA'+'abb'](mg,_0x2f9b9e,_0x17ffca,_0x2d2a5b),_0x1468db['add'](mg)));return!_0x5bec90;}async['getCenters'](_0x2a3615){const _0x5b3b7b=this['getProp']('x'),_0x4b5449=this['getProp']('y'),_0x3751bf=this['getProp']('z');for(let _0x6c906c=-0x286+0x1631+-0x109*0x13;_0x6c906c<this['numSplats'];++_0x6c906c)_0x2a3615[_0x6c906c*(-0x3a7+-0x1*-0x3dc+-0x1*0x32)+(-0xaab*-0x1+-0x414+-0x697)]=_0x5b3b7b[_0x6c906c],_0x2a3615[_0x6c906c*(-0x66c+-0x1232+0x18a1)+(-0xb*-0x2fe+-0x1d30+-0x3b9*0x1)]=_0x4b5449[_0x6c906c],_0x2a3615[_0x6c906c*(0xf8e*0x2+0x17cd+-0x1b73*0x2)+(0x2*0xca3+-0x145f+-0x4e5)]=_0x3751bf[_0x6c906c],_0x6c906c%xf===-0xc6d+-0x1cf+-0x38f*-0x4&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x5b4b70;if((_0x5b4b70=this['transformD'+'ata'])!=null&&_0x5b4b70['muT'])return this['transformD'+'ata']['muT'];const _0x33ca7b=this['getProp']('t');return _0x33ca7b?new Float32Array(_0x33ca7b):void(0x1cfe+0xef6+0x2*-0x15fa);}async['getTScale'](){const _0x22b88c=this['getProp']('t_scale');if(!_0x22b88c)return;const _0x661c55=new Float32Array(this['numSplats']);for(let _0x18cad2=0xdf*-0x2+-0x285+-0x1*-0x443;_0x18cad2<this['numSplats'];++_0x18cad2)_0x661c55[_0x18cad2]=Math['exp'](_0x22b88c[_0x18cad2]),_0x18cad2%xf===0x1*0x1ad3+-0x1*0x108a+0xa49*-0x1&&await this['yieldToMai'+'n']();return _0x661c55;}async['getMotion'](_0x4b41f9){const _0x2ded74=this['getProp']('motion_0'),_0x313a29=this['getProp']('motion_1'),_0x5d4280=this['getProp']('motion_2');if(!(!_0x2ded74||!_0x313a29||!_0x5d4280)){for(let _0x4ae48b=-0x1e14+0x1*-0x1d0e+0x9db*0x6;_0x4ae48b<this['numSplats'];++_0x4ae48b)_0x4b41f9[_0x4ae48b*(0x105d+0x5*0x531+-0x2a4f*0x1)+(0x5ac+-0x2*0x71e+0x890)]=_0x2ded74[_0x4ae48b],_0x4b41f9[_0x4ae48b*(-0x1854+0x41*-0x51+-0x3*-0xef8)+(-0x3e5+0xe22+-0xa3c)]=_0x313a29[_0x4ae48b],_0x4b41f9[_0x4ae48b*(0x1a5d+0x13ef*-0x1+-0x66b)+(0x7*-0x1a5+0x2664+0x1*-0x1adf)]=_0x5d4280[_0x4ae48b],_0x4ae48b%xf===-0x4*0x94d+0x87*-0x49+0x1*0x4bb3&&await this['yieldToMai'+'n']();}}['getTimeInd'+'ex'](){var _0x1c0dce;if((_0x1c0dce=this['transformD'+'ata'])!=null&&_0x1c0dce['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0x56e0a7=this['getProp']('time_index');if(_0x56e0a7)return new Float32Array(_0x56e0a7);}['calcFocalP'+'oint'](_0x365424,_0x2c6cd5){const _0x43a8f3=this['getProp']('x'),_0x3c3c56=this['getProp']('y'),_0x3e005c=this['getProp']('z'),_0x1e04cf=this['getProp']('scale_0'),_0x359cc6=this['getProp']('scale_1'),_0xb1d236=this['getProp']('scale_2');_0x365424['x']=0x37d+-0x10f2+0xd75,_0x365424['y']=-0x20a0+0x104b+0x1055,_0x365424['z']=-0x1a73+-0x24ae+0x150b*0x3;let _0x4ac277=-0x1765+0x17b*-0x14+0x3501;for(let _0x5a39a8=0x5*0x271+0x1*0x399+0x2*-0x7e7;_0x5a39a8<this['numSplats'];++_0x5a39a8){if(_0x2c6cd5&&!_0x2c6cd5(_0x5a39a8))continue;const _0x285773=_0x43a8f3[_0x5a39a8],_0x38330a=_0x3c3c56[_0x5a39a8],_0x524bd5=_0x3e005c[_0x5a39a8];if(!isFinite(_0x285773)||!isFinite(_0x38330a)||!isFinite(_0x524bd5))continue;const _0x21f5e8=(0x1431+0x1*-0x1b55+-0x1*-0x725)/(0x132b+-0x3*0x2a5+-0x5*0x23f+Math['exp'](Math['max'](_0x1e04cf[_0x5a39a8],_0x359cc6[_0x5a39a8],_0xb1d236[_0x5a39a8])));_0x365424['x']+=_0x285773*_0x21f5e8,_0x365424['y']+=_0x38330a*_0x21f5e8,_0x365424['z']+=_0x524bd5*_0x21f5e8,_0x4ac277+=_0x21f5e8;}_0x365424['mulScalar']((0x9e9+-0x8c4+-0x124)/_0x4ac277);}['renderWire'+'frameBound'+'s'](_0x20cd7d,_0x31c9c0){const _0x4694df=new D(),_0x4a2243=new le(),_0x44d77a=new D(),_0x255cde=new D(),_0x31ba95=new D(),_0x17379f=this['createIter'](_0x4694df,_0x4a2243,_0x44d77a);for(let _0xa20506=-0x17*-0xf+-0x13f*0x1f+0x2548;_0xa20506<this['numSplats'];++_0xa20506)_0x17379f['read'](_0xa20506),_g(za,_0x4694df,_0x4a2243),za['mul2'](_0x31c9c0,za),_0x255cde['set'](_0x44d77a['x']*-(-0x1d47+-0x2e7*-0x1+0x1a62),_0x44d77a['y']*-(0x5b6+-0x2ee*0x3+0x2*0x18b),_0x44d77a['z']*-(0x4d5*0x3+0x2434+0x13*-0x2ab)),_0x31ba95['set'](_0x44d77a['x']*(0x1311*0x1+-0x661*-0x2+-0x1fd1),_0x44d77a['y']*(0xe4d+0x1013*-0x1+0x1c8),_0x44d77a['z']*(0x72+-0x1882+-0xed*-0x1a)),_0x20cd7d['immediate']['drawWireAl'+'ignedBox'](_0x255cde,_0x31ba95,KA,!(0x2*0xd74+-0x18f6+-0x1f2),_0x20cd7d['defaultDra'+'wLayer'],za);}get['isCompress'+'ed'](){return!(-0x1aa0+-0x7fe+-0x1*-0x229f);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x4f0c5d=-0x221a+0x189e+0x4*0x25f;_0x4f0c5d<0x605+0xb07*-0x2+0x1036;++_0x4f0c5d)if(!this['getProp']('f_rest_'+_0x4f0c5d))return _0x4f0c5d;return 0x1410+-0x2*-0xa08+-0x27f3;})())]??0x932+0x89*-0x40+-0xc87*-0x2;}['calcMorton'+'Order'](){const _0x4137c2=_0x4ba71e=>{let _0x514253=_0x4ba71e[0x2646+-0xe27+-0x181f],_0x52f527=_0x4ba71e[-0x1*0x63e+0x13e*0x1b+-0x6d3*0x4];for(let _0x3cb057=0x42*-0x1d+0x3df*-0x7+0x2294;_0x3cb057<_0x4ba71e['length'];_0x3cb057++)_0x4ba71e[_0x3cb057]<_0x514253&&(_0x514253=_0x4ba71e[_0x3cb057]),_0x4ba71e[_0x3cb057]>_0x52f527&&(_0x52f527=_0x4ba71e[_0x3cb057]);return{'min':_0x514253,'max':_0x52f527};},_0x3b3d3e=(_0x19fda6,_0x5b2546,_0x4e449d)=>{const _0x34c7eb=_0x2dc04d=>(_0x2dc04d&=0x1d7e+-0x196e+-0x11,_0x2dc04d=(_0x2dc04d^_0x2dc04d<<0x1ace+0x2279+-0x3d37*0x1)&-0x1b64c3606+0x42aea28b+0x970c6f*0x426,_0x2dc04d=(_0x2dc04d^_0x2dc04d<<-0x1*-0x622+0x19fb+-0x2b*0xbf)&-0xc21ed8*-0x3+-0x2fe6a95+0x2*0x1dc7f0e,_0x2dc04d=(_0x2dc04d^_0x2dc04d<<0x385+0x1c2b+-0x1fac)&-0x35357ef+0x28c9613*0x2+-0x1465c8c*-0x1,_0x2dc04d=(_0x2dc04d^_0x2dc04d<<-0x2075+0x269*-0x1+0x22e0)&-0xa*0x2251c6+-0x7bf79e6+0x123b3deb,_0x2dc04d);return(_0x34c7eb(_0x4e449d)<<0x1dc7+-0x1baf+0xb2*-0x3)+(_0x34c7eb(_0x5b2546)<<-0x1*-0x254f+-0x2*-0x169+-0x2820)+_0x34c7eb(_0x19fda6);},_0x4a506d=this['getProp']('x'),_0x24b556=this['getProp']('y'),_0xb4248e=this['getProp']('z'),{min:_0x55708f,max:_0x5ef973}=_0x4137c2(_0x4a506d),{min:_0x2a409e,max:_0x29636b}=_0x4137c2(_0x24b556),{min:_0x5aaa42,max:_0x37ea79}=_0x4137c2(_0xb4248e),_0x143af9=_0x55708f===_0x5ef973?0x238f+0x26b*-0x6+-0x11*0x13d:(-0x17*0x23+0x3*0x3fb+-0x4cc)/(_0x5ef973-_0x55708f),_0x2d6100=_0x2a409e===_0x29636b?-0x1979+-0xaa6*-0x1+-0x73*-0x21:(-0x13e8+0x232*-0xa+0x2ddc)/(_0x29636b-_0x2a409e),_0x1a3ac9=_0x5aaa42===_0x37ea79?0xcc4+0x2637+-0x32fb:(-0x23*-0xdd+0x2*0x128c+-0x13*0x355)/(_0x37ea79-_0x5aaa42),_0x8ecdd3=new Map();for(let _0x189240=-0xa6f+0x871*0x3+0x4*-0x3b9;_0x189240<this['numSplats'];_0x189240++){const _0xce63d8=Math['min'](-0x2*0x10a3+-0x613*0x2+0x316b,Math['floor']((_0x4a506d[_0x189240]-_0x55708f)*_0x143af9)),_0x43de23=Math['min'](0x51a*0x3+-0x1a*-0xe7+0x3dd*-0x9,Math['floor']((_0x24b556[_0x189240]-_0x2a409e)*_0x2d6100)),_0x12b42b=Math['min'](-0x26db+-0x8*0x3f1+-0x1*-0x4a62,Math['floor']((_0xb4248e[_0x189240]-_0x5aaa42)*_0x1a3ac9)),_0x9e3ba9=_0x3b3d3e(_0xce63d8,_0x43de23,_0x12b42b),_0x3efa4d=_0x8ecdd3['get'](_0x9e3ba9);_0x3efa4d?_0x3efa4d['push'](_0x189240):_0x8ecdd3['set'](_0x9e3ba9,[_0x189240]);}const _0x398410=Array['from'](_0x8ecdd3['keys']())['sort']((_0x10cc5d,_0x434db3)=>_0x10cc5d-_0x434db3),_0x5f15b2=new Uint32Array(this['numSplats']);let _0x552a8f=-0x1d1c*0x1+-0x1d69*0x1+0x3a85;for(let _0x44de18=-0x7*-0x3e0+0x1254+-0x2d74;_0x44de18<_0x398410['length'];++_0x44de18){const _0x37dc4c=_0x8ecdd3['get'](_0x398410[_0x44de18]);for(let _0x5477fb=0x116f+-0x2405+0xd*0x16e;_0x5477fb<_0x37dc4c['length'];++_0x5477fb)_0x5f15b2[_0x552a8f++]=_0x37dc4c[_0x5477fb];}return _0x5f15b2;}['reorder'](_0x56df65){const _0xe0ca4d=new Map(),_0x5ac2a4=_0x5670f0=>{if(_0xe0ca4d['has'](_0x5670f0)){const _0x5a3ea1=_0xe0ca4d['get'](_0x5670f0);return _0xe0ca4d['delete'](_0x5670f0),_0x5a3ea1;}return new ArrayBuffer(_0x5670f0);},_0x2db269=_0x82c1d4=>{_0xe0ca4d['set'](_0x82c1d4['byteLength'],_0x82c1d4);},_0x332aad=_0xe90901=>{const _0x4ae310=new _0xe90901['constructo'+'r'](_0x5ac2a4(_0xe90901['byteLength']));for(let _0x1716ff=0x793*0x5+0x1*0x1003+-0x35e2;_0x1716ff<_0x56df65['length'];_0x1716ff++)_0x4ae310[_0x1716ff]=_0xe90901[_0x56df65[_0x1716ff]];return _0x2db269(_0xe90901['buffer']),_0x4ae310;};this['elements']['forEach'](_0x28d7b8=>{_0x28d7b8['properties']['forEach'](_0x359c55=>{_0x359c55['storage']&&(_0x359c55['storage']=_0x332aad(_0x359c55['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}async function QA(){const _0x2d9bff=new Float32Array(0xa94+0x8a5*0x2+0x1*-0x1bdd);new Int32Array(_0x2d9bff['buffer']);let _0x5a90ad=-0x1239+0x859*-0x1+-0x2*-0xd49,_0x1cba3c={};self['onmessage']=async _0x5baca7=>{const {data:_0x50d558}=_0x5baca7;switch(_0x50d558['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x579859(_0x50d558['properties'],_0x50d558['timeIndex'],_0x50d558['timeOption']);break;case'releaseSeq'+'Data':_0x597638(_0x50d558['index']);break;case'releaseAll'+'SeqData':_0x4b7c25();break;case'destroyWor'+'ker':_0x389b94();break;}};const _0x27cde1=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x499e0e=0x826+-0x664*-0x1+0xe8a*-0x1;_0x499e0e<0x4cd*-0x3+-0x512+-0x1*-0x13a6;++_0x499e0e)if(!_0x1cba3c['f_rest_'+_0x499e0e])return _0x499e0e;return 0x1e1*0x5+-0xd03*0x1+0x3cb;})())]??-0x2345*-0x1+-0x113+0x1*-0x2232),_0x579859=(_0x88dbe2,_0x417607,_0x30d077)=>{var _0x5d7deb,_0x30d4b2;_0x5a90ad+=(((_0x5d7deb=_0x88dbe2['position'])==null?void(-0x998+-0x13*-0x2b+0x667):_0x5d7deb['length'])??0x19b+0x4*-0x865+0x1*0x1ff9)/(0x553*-0x2+-0x120*-0x3+0x749),console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20append'+'GSplatData'+'\x20numSplats',_0x5a90ad,(((_0x30d4b2=_0x88dbe2['position'])==null?void(-0xed0+-0x5f+-0x1*-0xf2f):_0x30d4b2['length'])??0x7b*0x30+-0x2659*-0x1+-0x4f*0xc7)/(-0x1039+-0xdf7+-0x3*-0xa11));const _0x24a95b=Object['keys'](_0x88dbe2);for(let _0x1dea49=0xe6e+0x2208+-0x3076;_0x1dea49<_0x24a95b['length'];_0x1dea49++){const _0xd60d39=_0x24a95b[_0x1dea49],_0x19c2c4=_0x88dbe2[_0xd60d39],_0x3b065b=_0x1cba3c[_0xd60d39]??new Float32Array(0x11d9+-0xad1*0x1+0x78*-0xf);if(_0x19c2c4){let _0x26a04d=null;switch(_0xd60d39){case'position':_0x26a04d=new Float32Array(_0x5a90ad*(-0x26*-0xb5+0x13fc+-0x6b1*0x7));break;case'color_opac'+'ity':_0x26a04d=new Uint16Array(_0x5a90ad*(0x1*-0x22a+-0x1741*-0x1+-0x1513));break;case'scale':_0x26a04d=new Uint16Array(_0x5a90ad*(-0x238+-0x865*0x1+0xaa0));break;case'motion':_0x26a04d=new Float32Array(_0x5a90ad*(-0x216a+0x47a+0x1cf3));break;case'rotation':_0x26a04d=new Float32Array(_0x5a90ad*(0x1f82+-0x1e7*0x14+0x68d));break;default:_0x26a04d=new Float32Array(_0x5a90ad);break;}_0x26a04d['set'](_0x3b065b,0x4de*0x7+-0x9*0x32b+0x58f*-0x1),_0x26a04d['set'](_0x19c2c4,_0x3b065b['length']),_0x1cba3c[_0xd60d39]=_0x26a04d;}}const _0x5c33fd={};Object['keys'](_0x1cba3c)['forEach'](_0x1a774b=>{_0x1a774b==='scale'||_0x1a774b==='color_opac'+'ity'?_0x5c33fd[_0x1a774b]=new Uint16Array(_0x1cba3c[_0x1a774b]['buffer']['slice']()):_0x5c33fd[_0x1a774b]=new Float32Array(_0x1cba3c[_0x1a774b]['buffer']['slice']());});const _0x30c503=Object['keys'](_0x5c33fd)['map'](_0x3061ee=>_0x5c33fd[_0x3061ee]['buffer']),_0x2238ef=_0x468356(),_0x1f65e9=Object['keys'](_0x2238ef)['map'](_0x3c8c3c=>_0x2238ef[_0x3c8c3c]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x5c33fd,'transformData':_0x2238ef},_0x30c503['concat'](_0x1f65e9));},_0x468356=()=>{const _0x3415e7=_0x1cba3c['position']['length']/(0x20*-0x7f+-0xb3*-0x13+-0x3*-0xde),_0x39e405=_0x1cba3c['position'],_0x15e84f=_0x1cba3c['scale'],_0x5e1567=_0x1cba3c['rotation'],_0x41d196=_0x1cba3c['motion'],_0x3bfbed=_0x1cba3c['t'],_0x5f2058=_0x1cba3c['t_scale'],_0x355184=_0x1cba3c['time_index'],_0x7feff0=_0x1cba3c['color_opac'+'ity'],_0x1cd603=(_0x3bfbed==null?void(0x2*0x53b+-0x5bc+0x79*-0xa):_0x3bfbed['length'])>-0x76*-0x49+0x103*0x5+-0xce7*0x3;let _0x3d0f52=null,_0x46a48d=null,_0x6b809=null,_0x54ba44=null;_0x1cd603&&(_0x46a48d=new Float32Array(_0x3415e7*(-0x869*0x4+-0x58c+0x2733)),_0x54ba44=new Float32Array(_0x3415e7),_0x3d0f52=new Float32Array(_0x41d196['buffer']['slice']()),_0x6b809=new Float32Array(_0x41d196['buffer']['slice']()));const _0x327246=new Float32Array(_0x39e405['buffer']['slice']()),_0xdb753a=new Float32Array(_0x39e405['buffer']['slice']()),_0x11345f=new Uint16Array(_0x7feff0['buffer']['slice']()),_0x784971=new Uint16Array(_0x15e84f['buffer']['slice']()),_0x344072=new Float32Array(_0x5e1567['buffer']['slice']());for(let _0x1246a5=0x42a*0x9+-0x739+0x1*-0x1e41;_0x1246a5<_0x3415e7;++_0x1246a5)_0x1cd603&&_0x46a48d&&_0x54ba44&&(_0x54ba44[_0x1246a5]=_0x5f2058?Math['exp'](_0x5f2058[_0x1246a5]):-0x255f+0xee2+0x3*0x77f,_0x46a48d[_0x1246a5*(-0x1ef7*-0x1+0x9ec+-0x28e0)+(0x125*0x11+-0x12d5+-0xa0)]=_0x3bfbed?_0x3bfbed[_0x1246a5]:-0x1b33+-0x3b5*-0x1+-0x1*-0x177e,_0x46a48d[_0x1246a5*(0x2c*-0x15+0x50b*0x5+-0xacc*0x2)+(0x144c+-0xb3e*0x2+0xb*0x33)]=_0x54ba44[_0x1246a5]);const _0x42ebcb=_0x2b2285();let _0x493633={'dataColor':_0x11345f,'dataCenters':_0xdb753a,'dataPosition':_0x327246,'dataScale':_0x784971,'dataRotation':_0x344072,..._0x42ebcb};return _0x1cd603&&(_0x493633={..._0x493633,'dataMotion':_0x3d0f52,'dataTime':_0x46a48d,'motion':_0x6b809,'tScaleArray':_0x54ba44,'muT':new Float32Array(_0x3bfbed),'timeIndex':new Float32Array(_0x355184)}),_0x493633;},_0x8ec8ec=_0x775dc2=>{const _0x4b0b0e=[];for(let _0x44a1c0=-0x2*0xd8d+-0x22*0x2+0x1b5e;_0x44a1c0<_0x775dc2;++_0x44a1c0)_0x4b0b0e['push'](_0x1cba3c['f_rest_'+_0x44a1c0]);return _0x4b0b0e;},_0x2b2285=()=>{const _0xe12f4f=_0x27cde1();if(_0xe12f4f<=0x1dee+-0x13*-0x7f+-0x275b)return{};const _0x221ce3=_0x1cba3c['x']['length'],_0x305869=new Uint32Array(_0x221ce3*(-0x1a14+0x13bb+0x65d)),_0xd8e402=new Uint32Array(_0x221ce3*(-0x13d+-0xdcb+0x4*0x3c3)),_0x516455=new Uint32Array(_0x221ce3*(0xb86*0x1+-0x8*-0x137+-0x1a2*0xd)),_0x1a1ea2=new Uint32Array(_0x221ce3*(0x251+0x252a+-0x1*0x2777)),_0x1b9b96={0x1:0x3,0x2:0x8,0x3:0xf}[_0xe12f4f],_0xcbfa9e=_0x8ec8ec(_0x1b9b96*(-0x4*0x737+0x478+0x1867)),_0x126955=-0x19db+-0x1744+0x391e,_0x16e2b6=-0x1*0xef2+0xb*-0x144+0x20dd,_0x599ee5=new Float32Array(-0xe7+-0xc97+0xd7f),_0x3b4eb4=new Uint32Array(_0x599ee5['buffer']),_0x4108e1=new Array(_0x1b9b96*(0x19b1*-0x1+0x2637+-0xc83))['fill'](0x1*-0x11e1+0x1f56+-0xd75);for(let _0x5e96bf=0x1caa+0x36*0x18+-0x21ba;_0x5e96bf<_0x221ce3;++_0x5e96bf){for(let _0x12d1ba=0x2d5+0x2318+-0x25ed;_0x12d1ba<_0x1b9b96;++_0x12d1ba)_0x4108e1[_0x12d1ba*(0x2015+-0x3ae*0x1+-0x1c64)]=_0xcbfa9e[_0x12d1ba][_0x5e96bf],_0x4108e1[_0x12d1ba*(0x8fd+-0x26ce+0x14c*0x17)+(-0x2437+0x172b+0xd0d)]=_0xcbfa9e[_0x12d1ba+_0x1b9b96][_0x5e96bf],_0x4108e1[_0x12d1ba*(-0x978*0x4+-0x1772+0x3d55)+(-0x1c7c+0x20ec+0x36*-0x15)]=_0xcbfa9e[_0x12d1ba+_0x1b9b96*(0x268d*-0x1+-0x10b9*-0x1+-0xd7*-0x1a)][_0x5e96bf];let _0x2193a5=_0x4108e1[-0x2611+-0x1*-0x263+0x23ae];for(let _0x21d190=-0x294+0x84b+-0x2db*0x2;_0x21d190<_0x1b9b96*(-0x8ea+-0x44*-0x13+-0x3e1*-0x1);++_0x21d190)_0x2193a5=Math['max'](_0x2193a5,Math['abs'](_0x4108e1[_0x21d190]));if(_0x2193a5!==0x134a+-0x4*-0x3c5+-0x112f*0x2){for(let _0x48f84e=-0x2023+0x10e*0xc+0x137b;_0x48f84e<_0x1b9b96;++_0x48f84e)_0x4108e1[_0x48f84e*(0x46*-0x8c+0xd1e+0x192d)+(-0x8a2+0x19da+-0x1138*0x1)]=Math['max'](0x5ae*0x3+0x1eef+-0x2ff9,Math['min'](_0x126955,Math['floor']((_0x4108e1[_0x48f84e*(0x14bb+0x133*-0x12+-0xde*-0x1)+(0x1*0x1e34+0x1ad*0x3+-0x233b)]/_0x2193a5*(-0xa59+0x2*0xba5+-0xcf1+0.5)+(0x4a8+0x13a4+-0x184c+0.5))*_0x126955+(-0x213c+-0xc*-0xc+0x2b9*0xc+0.5)))),_0x4108e1[_0x48f84e*(0x5*0x15b+0x6de+-0xda2)+(-0xe39+0x223+-0x26b*-0x5)]=Math['max'](0x9ed+-0x1d8*-0x1+-0xbc5,Math['min'](_0x16e2b6,Math['floor']((_0x4108e1[_0x48f84e*(-0x1751+0x7*-0x79+0x1aa3)+(-0x10*-0x23b+0x13*0xc1+0x2*-0x1901)]/_0x2193a5*(0x1*0x1d47+0x2337+-0x4f6*0xd+0.5)+(-0x30b*-0x9+-0x1b*-0x167+-0x4140+0.5))*_0x16e2b6+(0x9*-0x359+-0x11bb+0x2fdc+0.5)))),_0x4108e1[_0x48f84e*(-0x1ee6+-0x78b+0x2*0x133a)+(0x39b+0xa*0xb1+-0xa83)]=Math['max'](-0x1af*0x1+-0x197c+-0x1*-0x1b2b,Math['min'](_0x126955,Math['floor']((_0x4108e1[_0x48f84e*(-0x25bd*0x1+-0x8*0x469+0x72*0xa4)+(0x13*0x139+0x3f*0xe+-0x1aab)]/_0x2193a5*(-0x1110+0xee*0x18+-0x18*0x38+0.5)+(0x1*-0x47+0x7d4+0x1*-0x78d+0.5))*_0x126955+(-0x1d3d*-0x1+-0x71+0x184*-0x13+0.5))));_0x599ee5[-0x2a7*-0x6+-0xc36+-0x3b4]=_0x2193a5,_0x305869[_0x5e96bf*(0x302+-0x2370+0x2072)+(0x1*-0x7c3+0xa51*0x3+-0x1730)]=_0x3b4eb4[-0x12d*-0x5+-0x624+0x43],_0x305869[_0x5e96bf*(0x68a+0x1a*-0xb3+0xba8)+(-0x2*-0xa01+-0x4f*0x10+-0xf11)]=_0x4108e1[0x36f+0x21b3*-0x1+0x34*0x95]<<0xea9+-0x2bb*-0xb+0x1*-0x2c9d|_0x4108e1[0x9df+0x38d*0x6+-0x1f2c]<<-0x1201+0x25d4+-0xc*0x1a6|_0x4108e1[-0x1188+0x22f3+-0x1*0x1169],_0x305869[_0x5e96bf*(0x1*0x24bc+0x1153+0xacf*-0x5)+(-0x1f*-0xc1+-0x91d+-0x20*0x72)]=_0x4108e1[0x78d*0x1+0x22e+-0x9b8]<<0x5e5+0x3b*0x43+0x1*-0x1541|_0x4108e1[-0x1b09+0x2483*0x1+-0x2*0x4bb]<<-0xb1c*0x1+0x1*-0x26fa+0x3221*0x1|_0x4108e1[-0x1c49*0x1+-0xf1*0x2+-0x15*-0x170],_0x305869[_0x5e96bf*(0x10d*-0x1f+0x2603+-0x1*0x56c)+(0xb80+0x2*0xa44+-0x2005)]=_0x4108e1[-0x1835*0x1+0x12f7+0x544]<<0x42c+-0x4c*0xb+0x1*-0xd3|_0x4108e1[-0x11e9+-0x1*-0x21e6+-0xff6]<<-0xedb*-0x1+-0xe*-0x83+-0x15fa*0x1|_0x4108e1[0x121c+0xa6c+-0x1c80*0x1],_0xe12f4f>-0x17ef*0x1+0x1*0x250f+-0xd1f*0x1&&(_0xd8e402[_0x5e96bf*(0x15*0x3d+0x641*0x2+-0x117f)+(0x1050+0x294+-0x1f*0x9c)]=_0x4108e1[-0x409+0x1103*-0x1+0x1515]<<-0x1*-0x1837+0x7c3+0x73*-0x47|_0x4108e1[0x1c4*0x15+-0x128+-0x3*0xbf6]<<0x329*0x7+-0xf*-0x131+-0x3*0xd51|_0x4108e1[-0xd6c+0x1d84+-0x100d],_0xd8e402[_0x5e96bf*(0x1c+0x5*0x9b+-0x31f*0x1)+(-0x17b1+-0x7aa+-0x24*-0xdf)]=_0x4108e1[0x1*-0x270b+0x18a*0x4+0x1*0x20ef]<<-0x5f*-0x25+0xcc7+-0x1a6d|_0x4108e1[0xb8b+-0xf8a+-0x103*-0x4]<<0x3e8+-0x3b*-0x65+0x24*-0xc1|_0x4108e1[0x1*-0x1480+-0x15a5+0x33f*0xd],_0xd8e402[_0x5e96bf*(0x808+0x1ca+-0x9ce)+(-0xf*0x5f+-0x2*-0xb23+-0x10b3)]=_0x4108e1[-0x4cc*-0x3+0x5*0x1b5+-0x16de]<<-0xd54*0x1+0x120d*-0x1+0x1f76|_0x4108e1[-0x7e1+-0x3*-0x197+0x32c]<<-0x11b4+-0x255*-0xb+0x5c*-0x16|_0x4108e1[0x78*0x3e+0x90d+0x14*-0x1e7],_0xd8e402[_0x5e96bf*(0x109+0x3*-0xcd9+-0x641*-0x6)+(-0xf9*0xf+0x192*0x9+-0x4*-0x1e)]=_0x4108e1[0x1d6f+-0x1c00+-0x15d]<<0x1fc+0x238e+-0x1*0x2575|_0x4108e1[0x1616+-0x2*-0x486+-0x1f0f]<<0x1741+-0x2442+-0x29c*-0x5|_0x4108e1[-0x1acd+0x14f7+0x5ea],_0xe12f4f>0x2a5*0x1+0x17f*0x16+-0x238d?(_0x516455[_0x5e96bf*(0x1888+-0xc*0x65+-0x13c8)+(0x2*-0x1345+-0x3d6*-0x4+0x1732)]=_0x4108e1[0x5*-0x369+0x16ef+-0x5cd]<<-0x1dde+0x5b*-0x59+-0x1ecb*-0x2|_0x4108e1[0xd4a+0xdd3*-0x2+0xe72]<<0x1*0x1c1+0x1853+0xd7*-0x1f|_0x4108e1[-0x772+-0x6e9+-0x1*-0xe72],_0x516455[_0x5e96bf*(-0x1*0x1db3+0x1bb2+0x205)+(0xf1*-0xa+0x2708+-0x1d9d)]=_0x4108e1[0x88a+0x265f+-0x2c1*0x11]<<0x1*-0x2fb+0xb1b+-0x80b|_0x4108e1[0x1*0x1391+-0xd*0xd3+0x53*-0x1b]<<0x882+0x2630+-0x2ea7|_0x4108e1[-0x130d+-0x14f*0x3+0x1714*0x1],_0x516455[_0x5e96bf*(0x86*0x2f+-0xbf*-0x3+0x3*-0x8f1)+(-0xd6*-0x2a+0xc6d*0x1+-0x2f87)]=_0x4108e1[0x1d1f+-0x11f5+-0xb0f]<<-0x1f95+-0x1*0x481+0x242b|_0x4108e1[0x43*-0x5+-0x8e3+0xa4e*0x1]<<-0x1b9e+0x64*0x4c+0x207*-0x1|_0x4108e1[0x1466+0xc1+-0xa85*0x2],_0x516455[_0x5e96bf*(0x185e+-0x85*-0x8+-0xb2*0x29)+(-0x3e+-0x7b7*0x1+0x7f8)]=_0x4108e1[0x1b93+-0x81a*-0x2+-0x2ba9]<<-0x5b3+-0x2*-0x11e3+-0x1dfe|_0x4108e1[-0x17*0x99+-0x1f1a+0x2cf8]<<0x1ae9+0x1301+-0x2ddf|_0x4108e1[-0x36f*-0x9+-0x1f52+-0x1*-0x8b],_0x1a1ea2[_0x5e96bf*(-0x2592+-0x182b+0x3dc1*0x1)+(0x1959+0x1*0x20a1+-0x39fa)]=_0x4108e1[-0x219+-0x133f*0x1+0x1*0x1579]<<-0x233*-0xd+-0x4c*0x47+-0x76e|_0x4108e1[-0x89*0x3d+-0x189*0xb+-0x4e*-0xa3]<<0x1*0x1b5b+0x1930+-0x3480|_0x4108e1[-0x26c+0x1*-0x61b+0x8aa],_0x1a1ea2[_0x5e96bf*(-0x232c+0x16*-0x38+0x2800)+(0x2f*0x53+0xd9d*-0x1+-0x19f)]=_0x4108e1[-0x76*0x5+-0x2e7+-0x1*-0x559]<<-0x2553+-0x6cb*-0x5+0x371|_0x4108e1[0x6*0x1a7+-0x3cb*-0x5+-0x1cbc]<<-0x8*-0x421+0x1241+-0x333e|_0x4108e1[-0x208e+0x2065+0x4f],_0x1a1ea2[_0x5e96bf*(0x27*-0x10+-0x29f+0x513)+(-0xf4*0xc+-0x1002*0x2+0x2b76)]=_0x4108e1[0x2379*0x1+-0x237c+-0x6*-0x7]<<0x1*-0xa2a+-0xecc+0x190b|_0x4108e1[0x5e0+-0x20d8*-0x1+-0x1348*0x2]<<0xee+0x6*-0x119+-0x1*-0x5b3|_0x4108e1[-0x109c+0x4c*0x32+-0x1ed*-0x1],_0x1a1ea2[_0x5e96bf*(-0xbe5+0x20ea+-0x1501)+(-0x100c+0x18*0x167+-0x1199)]=_0x4108e1[0x1*-0x1972+0x2047+0x6ab*-0x1]<<-0x2135*-0x1+-0x4e*-0x12+0x161*-0x1c|_0x4108e1[0x2*0x7a7+0x1fa8+-0x63*0x79]<<0x58b*-0x1+0x54*0x1+-0x1*-0x542|_0x4108e1[0x4f8+-0x11d7+0x1dd*0x7]):_0x516455[_0x5e96bf]=_0x4108e1[0x2*-0x6b3+0x315+0xa66]<<-0x1bec+0x26*-0xdf+0x3d1b|_0x4108e1[-0xe84*-0x1+0x151f*0x1+-0x1*0x238d]<<0x1ca5+0x9ed*0x2+0x1*-0x3074|_0x4108e1[0x12b9*0x1+-0x1c10*-0x1+0x8b*-0x56]);}}return{'sh1to3Data':_0x305869,'sh4to7Data':_0xd8e402,'sh8to11Data':_0x516455,'sh12to15Data':_0x1a1ea2};},_0x597638=_0x55cd84=>{if(!_0x1cba3c['time_index'])return;const _0x30db7b=_0x1cba3c['time_index']['findIndex'](_0x3888fc=>_0x3888fc===_0x55cd84);let _0x1b64b0=_0x1cba3c['time_index']['findIndex']((_0xeb55f1,_0x752e51)=>_0xeb55f1!==_0x55cd84&&_0x752e51>_0x30db7b);if(_0x1b64b0===-(0xa1+-0x10*0x15d+0x1530)&&_0x30db7b===-(-0x2f*0xf+0xeb2+-0x4*0x2fc))return;_0x1b64b0===-(-0x1a06+0xbf9+-0x7*-0x202)&&_0x30db7b!==-(-0xa53+0x14bf*-0x1+-0x25*-0xd7)&&(_0x1b64b0=_0x1cba3c['time_index']['length']),_0x5a90ad-=_0x1b64b0-_0x30db7b,console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20releas'+'eSeqData\x20n'+'umSplats',_0x5a90ad,_0x1b64b0-_0x30db7b);const _0x4f642d=Object['keys'](_0x1cba3c);for(let _0x3d85bc=0x2589+-0xbc3+-0x19c6;_0x3d85bc<_0x4f642d['length'];_0x3d85bc++){const _0x290bb0=_0x4f642d[_0x3d85bc],_0x4b1af7=_0x1cba3c[_0x290bb0];if(_0x4b1af7){let _0x493e49=0x1544+-0x21f*-0xe+-0x32f5;switch(_0x290bb0){case'position':_0x493e49=0x1adc+-0x368+-0x1771;break;case'color_opac'+'ity':_0x493e49=0x111e*0x2+0x1*0x177f+-0x3d9*0xf;break;case'scale':_0x493e49=-0x216*-0xd+0x16a2+-0x31bd;break;case'motion':_0x493e49=-0x1fe6*-0x1+0x6c7*-0x1+-0xc8e*0x2;break;case'rotation':_0x493e49=0x23d1*-0x1+0xe4d+0x21*0xa7;break;default:_0x493e49=-0x1*-0x81d+-0x1*0x525+-0x2f7;break;}const _0x2956c2=new Float32Array(_0x5a90ad*_0x493e49);_0x30db7b>0x1*-0x1373+-0x21*0x1+-0x1*-0x1394?(_0x2956c2['set'](_0x4b1af7['subarray'](-0x92*0x43+0x19*0x28+0x224e,_0x30db7b*_0x493e49),0x9b3+0x3*-0xa3e+0x1507),_0x2956c2['set'](_0x4b1af7['subarray'](_0x1b64b0*_0x493e49),_0x30db7b*_0x493e49)):_0x2956c2['set'](_0x4b1af7['subarray'](_0x1b64b0*_0x493e49),-0x2330+-0x6ec*-0x5+0x94),_0x1cba3c[_0x290bb0]=_0x2956c2;}}},_0x4b7c25=()=>{const _0x57d314=Object['keys'](_0x1cba3c);for(let _0x1c3a2d=-0x1a14+0x894*-0x4+-0x3c64*-0x1;_0x1c3a2d<_0x57d314['length'];_0x1c3a2d++){const _0x53a590=_0x57d314[_0x1c3a2d];_0x1cba3c[_0x53a590]&&(_0x1cba3c[_0x53a590]=[]);}},_0x389b94=()=>{_0x1cba3c={},_0x5a90ad=-0x94a+0x19*0x10e+-0x2*0x88a;};}class JA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+QA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0xd9eb21,_0x3973a8,_0x2dd96e,_0x5f158e=!(0x2*0x54f+0xa81*-0x1+-0x1c)){var _0x50fe93,_0x176cb3;const _0x2d5411={};return _0xd9eb21['elements'][-0xd87+-0x296+0x101d]['properties']['forEach'](_0x3ee374=>{_0x2d5411[_0x3ee374['name']]=_0x3ee374['storage'];}),_0x5f158e?(_0x50fe93=this['worker'])==null||_0x50fe93['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x2d5411,'timeIndex':_0x3973a8,'timeOption':_0x2dd96e},_0xd9eb21['elements'][0x1*0x12f1+0x23*0xe6+-0x3263]['properties']['map'](_0x3cc3b7=>_0x3cc3b7['storage']['buffer'])):(_0x176cb3=this['worker'])==null||_0x176cb3['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x2d5411,'timeIndex':_0x3973a8,'timeOption':_0x2dd96e}),new Promise(_0x14d8c3=>{this['worker']['onmessage']=_0x24b375=>{if(!this['worker'])return;const {data:_0x1d2c11}=_0x24b375;_0x1d2c11['type']==='newAppendD'+'ata'&&_0x14d8c3(_0x1d2c11);};});}async['releaseSeq'+'Data'](_0x93f0f){var _0x286371;(_0x286371=this['worker'])==null||_0x286371['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x93f0f});}async['releaseAll'+'SeqData'](){var _0x5b2db0;(_0x5b2db0=this['worker'])==null||_0x5b2db0['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x12e203;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x12e203=this['worker'])==null||_0x12e203['terminate'](),this['worker']=null);}}const gc=new te(),gg=new le(),eC=new ie(0x1bb*-0xa+-0x1*-0x10c3+0x8c*0x1,0xdba+0x5cf+-0x1388,-0x475*0x1+0x2015*-0x1+-0xc2e*-0x3,-0x5b*0x61+-0x1*-0x2d3+0xfd4*0x2+0.4),Sg=0x47c31+0x5a5b*0xf+-0x6ba46;class tC{constructor(_0x23d554,_0x5dcea8,_0x5e879b,_0xd86166,_0x90e34d,_0x183a0e){const _0x2fdb2a=_0x23d554['getProp']('position'),_0x1dfb4d=_0x23d554['getProp']('color_opac'+'ity'),_0x1e8a71=_0x23d554['getProp']('scale'),_0x177f77=_0x23d554['getProp']('motion'),_0x2f3175=_0x23d554['getProp']('rotation');this['read']=_0x2cace2=>{_0x5dcea8&&_0x5dcea8['set'](_0x2fdb2a[_0x2cace2*(0xe*0x1a0+-0x1*-0xa56+-0x2113*0x1)+(0x940+0x21d4+-0xac5*0x4)],_0x2fdb2a[_0x2cace2*(-0x229e+-0xbf4*0x2+0x3a89)+(-0x1*-0xd01+0x5b*0x5e+-0x2e6a)],_0x2fdb2a[_0x2cace2*(0xf85+0x663+0x5f*-0x3b)+(-0x1*0xcb9+-0xdc6*-0x1+-0x10b)]),_0x5e879b&&_0x5e879b['set'](_0x2f3175[_0x2cace2*(-0x12*-0x5e+-0xa03+-0x2e*-0x13)+(-0xa3d*-0x2+-0xce*-0xd+-0x1ef0)],_0x2f3175[_0x2cace2*(0x1*0x6+-0x11*0x1f3+0x2120)+(0xb*-0xd5+-0x1e21+0x2749*0x1)],_0x2f3175[_0x2cace2*(-0x61*-0x61+-0x11ea*0x1+-0x12d4)+(-0x8*0x143+0x1*-0x64d+0x1067)]),_0xd86166&&_0xd86166['set'](_0x1e8a71[_0x2cace2*(-0xb9b*-0x3+0x1*0x23c2+0x469*-0x10)+(-0x1*-0x3a3+0x313*-0xb+0x2*0xf17)],_0x1e8a71[_0x2cace2*(0x1105*0x2+0xca+-0x22d1)+(0x26b9+-0x150e+-0x11aa)],_0x1e8a71[_0x2cace2*(0x1*-0x907+-0x106b+0x1975)+(-0x1*-0xf17+-0xbce+0x347*-0x1)]),_0x183a0e&&_0x177f77&&_0x183a0e['set'](_0x177f77[_0x2cace2*(0x24a1+0x15b5+-0x855*0x7)+(0x77*0x50+-0x44c+-0x20e4)],_0x177f77[_0x2cace2*(0x32c*-0x1+-0x1*0x4bb+0x1*0x7ea)+(0x1414+-0x1262+-0x1b1)],_0x177f77[_0x2cace2*(0x256+0x5da+-0xd*0xa1)+(-0x551*0x1+0x433+0x6*0x30)]),_0x90e34d&&_0x90e34d['set'](_0x1dfb4d[_0x2cace2*(0x147a+-0x118a+-0x2ec)+(0x19a7+0x927*0x3+-0x3*0x11b4)],_0x1dfb4d[_0x2cace2*(-0x2372+0x2303+0x73)+(-0x2cb*0x7+0x137*-0x1+-0xd*-0x199)],_0x1dfb4d[_0x2cace2*(-0x2*0xdd+0x655*-0x5+0x2167)+(0x4b*0x6b+-0x1*-0xa63+-0x29ba)],_0x1dfb4d[_0x2cace2*(0x2041+0xace+0xe59*-0x3)+(-0xd8f+-0x1*0x23e7+0x3179)]);};}}const sC=(_0x567e30,_0xaf7a0c,_0x302759)=>{gg['set'](_0x302759['x'],_0x302759['y'],_0x302759['z'],_0x302759['w'])['normalize'](),_0x567e30['setTRS'](_0xaf7a0c,gg,D['ONE']);};class iC{constructor(_0x17fd40,_0x5cd566=[],_0x52c8c5=[]){h(this,'elements'),h(this,'properties'),h(this,'numSplats',0xf+0x2243*-0x1+-0x4*-0x88d),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0x415ce3;(_0x415ce3=this['dataWorker'])==null||_0x415ce3['destroy'](),this['dataWorker']=null;});var _0x5e967c,_0x5f414c,_0x527cda;this['elements']=_0x17fd40,this['properties']=_0x52c8c5,this['numSplats']=((_0x5e967c=this['getElement']('vertex'))==null?void(0xb62*0x2+-0x3bd+-0x1307):_0x5e967c['count'])??-0x20da+-0x2*-0x10d3+-0xcc,this['comments']=_0x5cd566,this['is4D']=!!((_0x527cda=(_0x5f414c=this['getElement']('vertex'))==null?void(0xee9*0x1+0x1*-0x1dad+-0x14*-0xbd):_0x5f414c['properties']['find'](_0x97f7fd=>_0x97f7fd['name']==='t'))!=null&&_0x527cda['storage']);}async['appendGSpl'+'atData'](_0x3fd122,_0x484c89,_0x2d70bd){var _0x579908;let _0x1860d7=0x1d1c+-0x56*-0x39+0x1*-0x3042;for(let _0x2bd63e=-0x134f*-0x1+0xf8d+0x8b7*-0x4;_0x2bd63e<_0x2d70bd['length']&&_0x484c89>_0x2d70bd[_0x2bd63e];_0x2bd63e+=0x6e9+0x78e*-0x2+0x835)_0x1860d7=_0x2bd63e/(-0xe*-0x112+-0x2554+0x165a);this['dataWorker']||(this['dataWorker']=new JA(),await this['dataWorker']['appendGSpl'+'atData'](this,0x13*-0x11d+0x1*0x2231+-0x1*0xd0a,_0x2d70bd));const _0x325ef8=this['getElement']('vertex');_0x325ef8&&(_0x325ef8['count']=this['numSplats']);const _0x20bcb1=await this['dataWorker']['appendGSpl'+'atData'](_0x3fd122,_0x1860d7,_0x2d70bd,!(0x1*-0x1711+-0x1071+0xd*0x30a)),_0x5db309=_0x20bcb1['properties'],_0x49a0fd=((_0x579908=this['getElement']('vertex'))==null?void(-0x17b7*-0x1+-0x62*-0x4+0x17*-0x119):_0x579908['properties'])??[];for(const _0x14b79e in _0x5db309){const _0x54032c=_0x49a0fd['find'](_0x48f055=>_0x48f055['name']===_0x14b79e);_0x54032c?_0x54032c['storage']=_0x5db309[_0x14b79e]:_0x49a0fd['push']({'type':'float','name':_0x14b79e,'storage':_0x5db309[_0x14b79e],'byteSize':0x4});}this['transformD'+'ata']=_0x20bcb1['transformD'+'ata'],this['numSplats']=_0x5db309['position']['length']/(0x266c+-0x1*0x197a+-0xcef);}async['releaseSeq'+'Data'](_0x3cf3a7){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'leaseSeqDa'+'ta',_0x3cf3a7),this['dataWorker']['releaseSeq'+'Data'](_0x3cf3a7),this;}async['releaseAll'+'SeqData'](){var _0x334ac3;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'lease\x20all\x20'+'SeqData'),(_0x334ac3=this['dataWorker'])==null||_0x334ac3['releaseAll'+'SeqData'](),this;}['getProp'](_0x4921a8,_0x55af56='vertex'){var _0x32cf82,_0x10a9bf;return(_0x10a9bf=(_0x32cf82=this['getElement'](_0x55af56))==null?void(-0xb4+-0xd91+0xe45):_0x32cf82['properties']['find'](_0xc2e9be=>_0xc2e9be['name']===_0x4921a8))==null?void(-0x4*-0x72d+0x249d+0x1*-0x4151):_0x10a9bf['storage'];}['getElement'](_0x3cf76e){return this['elements']['find'](_0x56eb05=>_0x56eb05['name']===_0x3cf76e);}['createIter'](_0x9a7111,_0x4b8b78,_0x381365,_0x18b871,_0x5dec7a){return new tC(this,_0x9a7111,_0x4b8b78,_0x381365,_0x18b871,_0x5dec7a);}['calcAabb'](_0x475a4f,_0x52ea5d){let _0x3c290b=0xf+0xa*-0x28c+-0x515*-0x5,_0xb498b1=-0x3b*-0x34+0x3d7+0xfd3*-0x1,_0x32d934=0x20e*0x7+-0x79+0x3*-0x4a3,_0x565fe8=0x1b1f*-0x1+0x1*-0xb95+-0x2*-0x135a,_0x10321d=0x2613+0x1*0x1961+-0x3f74,_0x4e27a2=0x142c+-0x61e+-0xe0e,_0x51f2e1=!(-0x14d6+0x178*-0x7+0x239*0xe);const _0x58af76=this['getProp']('position'),_0x1c3c54=this['getProp']('scale');for(let _0x242541=0x2*-0x12ff+0x2652+-0x54;_0x242541<this['numSplats'];++_0x242541){if(_0x52ea5d&&!_0x52ea5d(_0x242541))continue;const _0x198157=_0x58af76[_0x242541*(0x26c0+-0x14a1+-0x121c)+(-0x752*-0x2+0x6*-0x2f+-0xd8a)],_0x12b4f2=_0x58af76[_0x242541*(0x581+-0x28*0x83+-0x9*-0x1aa)+(0x1c9b*0x1+-0x415+0x1*-0x1885)],_0x1220cb=_0x58af76[_0x242541*(0x82*0xb+-0x1819+0x1286)+(-0x1*-0x1f4d+-0x220c+0x2c1)],_0x1ca8a7=Math['max'](_0x1c3c54[_0x242541*(-0x1*0x644+0x2310+-0x1*0x1cc9)+(-0x122+0x1*0x211b+0x665*-0x5)],_0x1c3c54[_0x242541*(-0x111f+-0x1a3d*-0x1+-0x91b)+(0x9aa+-0x2018+0x1*0x166f)],_0x1c3c54[_0x242541*(0xb*-0x92+-0xb86+0x11cf)+(-0x675+0x1685+-0x100e)]);if(!isFinite(_0x198157)||!isFinite(_0x12b4f2)||!isFinite(_0x1220cb)||!isFinite(_0x1ca8a7))continue;const _0x472072=(0xd*0xda+-0xef*-0x1b+-0x2445)*Math['exp'](_0x1ca8a7);_0x51f2e1?(_0x51f2e1=!(-0x72d+0xdb9*-0x1+-0x14e7*-0x1),_0x3c290b=_0x198157-_0x472072,_0xb498b1=_0x12b4f2-_0x472072,_0x32d934=_0x1220cb-_0x472072,_0x565fe8=_0x198157+_0x472072,_0x10321d=_0x12b4f2+_0x472072,_0x4e27a2=_0x1220cb+_0x472072):(_0x3c290b=Math['min'](_0x3c290b,_0x198157-_0x472072),_0xb498b1=Math['min'](_0xb498b1,_0x12b4f2-_0x472072),_0x32d934=Math['min'](_0x32d934,_0x1220cb-_0x472072),_0x565fe8=Math['max'](_0x565fe8,_0x198157+_0x472072),_0x10321d=Math['max'](_0x10321d,_0x12b4f2+_0x472072),_0x4e27a2=Math['max'](_0x4e27a2,_0x1220cb+_0x472072));}return _0x51f2e1||(_0x475a4f['center']['set']((_0x3c290b+_0x565fe8)*(0x3*-0xe+-0x687*-0x4+0x52*-0x51+0.5),(_0xb498b1+_0x10321d)*(-0x1*0xb7d+0x4*0x305+-0x97+0.5),(_0x32d934+_0x4e27a2)*(0x16c+0x7d2*0x3+-0x18e2+0.5)),_0x475a4f['halfExtent'+'s']['set']((_0x565fe8-_0x3c290b)*(-0xa99+-0x26*-0x13+0x7c7+0.5),(_0x10321d-_0xb498b1)*(0x7*0x241+0x17*0xb7+-0x2038+0.5),(_0x4e27a2-_0x32d934)*(-0x24f7+-0x1*0x2653+0x346*0x17+0.5))),!_0x51f2e1;}['yieldToMai'+'n'](){var _0x3e18d2;return(_0x3e18d2=globalThis['scheduler'])!=null&&_0x3e18d2['yield']?globalThis['scheduler']['yield']():new Promise(_0x58cc4e=>{setTimeout(_0x58cc4e,0x2276+-0x1*-0x2285+-0x44fb);});}async['getCenters'](_0x3b8558){const _0x42fa17=this['getProp']('x'),_0x1fe163=this['getProp']('y'),_0x11c439=this['getProp']('z');for(let _0x2e2a44=-0x854+-0x1*-0x22bb+0x9*-0x2ef;_0x2e2a44<this['numSplats'];++_0x2e2a44)_0x3b8558[_0x2e2a44*(-0x1*-0x2519+0x3c6*-0x5+0xd4*-0x16)+(0x266e+0x1f8+-0x2866)]=_0x42fa17[_0x2e2a44],_0x3b8558[_0x2e2a44*(0xd1c+-0xe1d*-0x2+-0x2953)+(0xa6+-0x141d+0x1378*0x1)]=_0x1fe163[_0x2e2a44],_0x3b8558[_0x2e2a44*(-0x123*0xd+-0x2083+0x2f4d)+(-0x1*0xd3e+-0xb73+0x18b3)]=_0x11c439[_0x2e2a44],_0x2e2a44%Sg===0x1*-0x2541+0x632+0x1f0f&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x23caff;if((_0x23caff=this['transformD'+'ata'])!=null&&_0x23caff['muT'])return this['transformD'+'ata']['muT'];const _0x190f36=this['getProp']('t');return _0x190f36?new Float32Array(_0x190f36):void(-0x1025*-0x2+0x1*-0xf35+-0x1*0x1115);}async['getTScale'](){const _0x3ef75d=this['getProp']('t_scale');if(!_0x3ef75d)return;const _0x292eab=new Float32Array(this['numSplats']);for(let _0x1aee6c=-0x4cc+0x10*0x1a6+-0x1594;_0x1aee6c<this['numSplats'];++_0x1aee6c)_0x292eab[_0x1aee6c]=Math['exp'](_0x3ef75d[_0x1aee6c]),_0x1aee6c%Sg===-0x2*0x5c7+-0xcc6+0x1854&&await this['yieldToMai'+'n']();return _0x292eab;}['getMotion'](_0x213d35){const _0x1013ba=this['getProp']('motion');_0x1013ba&&new Float32Array(_0x1013ba['buffer']['slice']());}['getTimeInd'+'ex'](){var _0x3a6d3d;if((_0x3a6d3d=this['transformD'+'ata'])!=null&&_0x3a6d3d['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0xdbc1b=this['getProp']('time_index');if(_0xdbc1b)return new Float32Array(_0xdbc1b);}['calcFocalP'+'oint'](_0x48891b,_0xa8b014){const _0x112b83=this['getProp']('position'),_0x48c372=this['getProp']('scale');_0x48891b['x']=-0x3*0xb69+-0xb*0x32b+0x228a*0x2,_0x48891b['y']=-0x2*0x9f7+0x19*-0x137+0x324d,_0x48891b['z']=0x119+0xd4a+-0xe63;let _0x55b712=0x10a3*-0x1+0x64*0x25+0x22f;for(let _0x39d142=-0x1ce8+0x1933+0x3b5;_0x39d142<this['numSplats'];++_0x39d142){if(_0xa8b014&&!_0xa8b014(_0x39d142))continue;const _0x43c10e=_0x112b83[_0x39d142*(0xc6d*-0x1+-0x1b1f+0x30b*0xd)+(0x1d59*0x1+-0x2d4*0x7+-0x98d)],_0x584569=_0x112b83[_0x39d142*(0x441*-0x9+-0x964*-0x2+0x9c2*0x2)+(-0x14ae*0x1+0xf51+0x55e)],_0x3044a3=_0x112b83[_0x39d142*(0x2*0x11db+0x1757+-0x3b0a)+(0x116e+0x13e3+-0x254f)];if(!isFinite(_0x43c10e)||!isFinite(_0x584569)||!isFinite(_0x3044a3))continue;const _0x5a08a2=(0x83*-0x2c+0x1*0xb29+-0x4*-0x2d7)/(0xb*-0x223+0x1*-0x1249+-0xd*-0x337+Math['max'](_0x48c372[_0x39d142*(0x5*0x567+-0x2424+0x82*0x12)+(0x16c1+-0x1971+0x2b0)],_0x48c372[_0x39d142*(-0x1754*-0x1+0x1*0x503+0x94*-0x31)+(0xb7e+0x622+-0x119f)],_0x48c372[_0x39d142*(-0x17f1+0x6c1+-0x25*-0x77)+(-0x9fa+0x561+-0x9*-0x83)]));_0x48891b['x']+=_0x43c10e*_0x5a08a2,_0x48891b['y']+=_0x584569*_0x5a08a2,_0x48891b['z']+=_0x3044a3*_0x5a08a2,_0x55b712+=_0x5a08a2;}_0x48891b['mulScalar']((0x1768+-0x897+0x278*-0x6)/_0x55b712);}['renderWire'+'frameBound'+'s'](_0x1321c8,_0x61fdc5){const _0x217648=new D(),_0x18e8dc=new le(),_0x8189a0=new D(),_0x538f43=new D(),_0x22263c=new D(),_0x10e1d6=this['createIter'](_0x217648,_0x18e8dc,_0x8189a0);for(let _0x59fb4c=0x2d*0x55+-0x435+-0xabc;_0x59fb4c<this['numSplats'];++_0x59fb4c)_0x10e1d6['read'](_0x59fb4c),sC(gc,_0x217648,_0x18e8dc),gc['mul2'](_0x61fdc5,gc),_0x538f43['set'](_0x8189a0['x']*-(0x3*0x752+-0xe38+-0x7bc),_0x8189a0['y']*-(0xbd4+-0xe6e+0x29c),_0x8189a0['z']*-(-0x3*-0xb6f+-0x23fe+0x1b3)),_0x22263c['set'](_0x8189a0['x']*(-0xf58*0x1+0x1274+-0x31a),_0x8189a0['y']*(0x9a7*-0x3+-0x627+0x231e),_0x8189a0['z']*(-0x1*0x1767+0x7*-0x1cd+0x1*0x2404)),_0x1321c8['immediate']['drawWireAl'+'ignedBox'](_0x538f43,_0x22263c,eC,!(0x24ea+0x1b47+-0x4031),_0x1321c8['defaultDra'+'wLayer'],gc);}get['isCompress'+'ed'](){return!(0x724*-0x5+0xe7e*0x1+0x1537);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x1ca01b=-0x15d3+0x1c5f+-0x68c;_0x1ca01b<-0x1bad+0x1b64+-0x2*-0x3b;++_0x1ca01b)if(!this['getProp']('f_rest_'+_0x1ca01b))return _0x1ca01b;return 0x1cb+0x355*0x2+-0x2*0x424;})())]??-0x16c6+0x1953*0x1+-0x28d;}['calcMorton'+'Order'](){const _0x17efb7=_0x4578a6=>{let _0x39f764=_0x4578a6[0x6a2+0x4*-0x8d0+0x1c9e],_0x5d86e7=_0x4578a6[-0x2a5+-0xff7*0x1+0x129c];for(let _0x43738e=0xf5f+0x3*-0xaad+-0x355*-0x5;_0x43738e<_0x4578a6['length'];_0x43738e++)_0x4578a6[_0x43738e]<_0x39f764&&(_0x39f764=_0x4578a6[_0x43738e]),_0x4578a6[_0x43738e]>_0x5d86e7&&(_0x5d86e7=_0x4578a6[_0x43738e]);return{'min':_0x39f764,'max':_0x5d86e7};},_0x270f0e=(_0x13842a,_0x117e22,_0x53e0ff)=>{const _0x461134=_0x50cd79=>(_0x50cd79&=0x4*0x12e+0xd9e+-0xe57,_0x50cd79=(_0x50cd79^_0x50cd79<<-0xa5b+-0x7cc*-0x3+0x1*-0xcf9)&0x18fe4c86b+-0x18aab5762+0xf9c68ff6,_0x50cd79=(_0x50cd79^_0x50cd79<<0x3d7+0xa7*-0x27+0x15a2)&0x380981a+-0x1*0x4d81f47+0x458773c,_0x50cd79=(_0x50cd79^_0x50cd79<<-0x115b+-0xbde+0x1d3d)&-0x257d5f3+-0x204f81a+0x768fed0,_0x50cd79=(_0x50cd79^_0x50cd79<<-0x1da*-0x7+0x13f1+-0x20e5)&0x2*0x22816b2+-0x2d414ce+0x7a879b3,_0x50cd79);return(_0x461134(_0x53e0ff)<<-0x13*0x25+-0x23d*-0xd+-0xc*0x232)+(_0x461134(_0x117e22)<<-0x1*-0xbd7+-0x17*0x17+-0x9c5)+_0x461134(_0x13842a);},_0x3322f2=this['getProp']('x'),_0x1d7679=this['getProp']('y'),_0x3ef408=this['getProp']('z'),{min:_0x3a5844,max:_0x356509}=_0x17efb7(_0x3322f2),{min:_0xf29ebe,max:_0x42cdef}=_0x17efb7(_0x1d7679),{min:_0x2e0ea0,max:_0xae915a}=_0x17efb7(_0x3ef408),_0x2f0034=_0x3a5844===_0x356509?0x26*-0xc7+0xaa4+-0x52*-0x3b:(0x19*0x21+-0xe48+0xf0f)/(_0x356509-_0x3a5844),_0x3aae41=_0xf29ebe===_0x42cdef?0x44f+-0xa93*0x2+0x1df*0x9:(0x2372+-0x1c*0x112+-0x17a)/(_0x42cdef-_0xf29ebe),_0x99aabc=_0x2e0ea0===_0xae915a?-0x16ee*-0x1+0x2*-0xe57+-0xb8*-0x8:(0x1a*0x36+0x20f7+-0x2273)/(_0xae915a-_0x2e0ea0),_0x348f9=new Map();for(let _0x4476f7=-0x1d50+0x1*-0x829+0x35*0xb5;_0x4476f7<this['numSplats'];_0x4476f7++){const _0x89f899=Math['min'](0x9a*-0x2c+0x1*0x1dbf+0xb8,Math['floor']((_0x3322f2[_0x4476f7]-_0x3a5844)*_0x2f0034)),_0x1da17d=Math['min'](0x1*0x527+0xa9b+-0xbc3,Math['floor']((_0x1d7679[_0x4476f7]-_0xf29ebe)*_0x3aae41)),_0xabdc6d=Math['min'](0xfd*-0x1e+0x2*0x27d+0x1cab,Math['floor']((_0x3ef408[_0x4476f7]-_0x2e0ea0)*_0x99aabc)),_0x40a14c=_0x270f0e(_0x89f899,_0x1da17d,_0xabdc6d),_0x407e54=_0x348f9['get'](_0x40a14c);_0x407e54?_0x407e54['push'](_0x4476f7):_0x348f9['set'](_0x40a14c,[_0x4476f7]);}const _0x13d93d=Array['from'](_0x348f9['keys']())['sort']((_0x32779e,_0xddd3b4)=>_0x32779e-_0xddd3b4),_0x456c0c=new Uint32Array(this['numSplats']);let _0x7f435c=-0x2296+-0x821*0x2+0x32d8;for(let _0x2bfdcb=0x4*0x741+0x918+-0x261c;_0x2bfdcb<_0x13d93d['length'];++_0x2bfdcb){const _0x2dd0c4=_0x348f9['get'](_0x13d93d[_0x2bfdcb]);for(let _0x46d19e=0x11ca+0xcb*0x11+-0x1f45;_0x46d19e<_0x2dd0c4['length'];++_0x46d19e)_0x456c0c[_0x7f435c++]=_0x2dd0c4[_0x46d19e];}return _0x456c0c;}['reorder'](_0x20435){const _0x56f921=new Map(),_0x4223a4=_0x277489=>{if(_0x56f921['has'](_0x277489)){const _0x27dbf6=_0x56f921['get'](_0x277489);return _0x56f921['delete'](_0x277489),_0x27dbf6;}return new ArrayBuffer(_0x277489);},_0x2702a7=_0x157da1=>{_0x56f921['set'](_0x157da1['byteLength'],_0x157da1);},_0x4c7bb9=_0x43e27b=>{const _0x3182ec=new _0x43e27b['constructo'+'r'](_0x4223a4(_0x43e27b['byteLength']));for(let _0x47b628=0x16dd+-0x19d*-0x2+-0x1a17;_0x47b628<_0x20435['length'];_0x47b628++)_0x3182ec[_0x47b628]=_0x43e27b[_0x20435[_0x47b628]];return _0x2702a7(_0x43e27b['buffer']),_0x3182ec;};this['elements']['forEach'](_0x5af70b=>{_0x5af70b['properties']['forEach'](_0x51ff20=>{_0x51ff20['storage']&&(_0x51ff20['storage']=_0x4c7bb9(_0x51ff20['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const rC='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20void\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.0,\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a',aC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'vec4\x20packR'+'gb(vec3\x20v)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uvec3\x20vb\x20'+'=\x20uvec3(cl'+'amp(v,\x20vec'+'3(0.0),\x20ve'+'c3(1.0))\x20*'+'\x20vec3(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uint\x20bits\x20'+'=\x20(vb.x\x20<<'+'\x2021)\x20|\x20(vb'+'.y\x20<<\x2010)\x20'+'|\x20vb.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4((u'+'vec4(bits)'+'\x20>>\x20uvec4('+'24,\x2016,\x208,'+'\x200))\x20&\x20uve'+'c4(0xff))\x20'+'/\x20vec4(255'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20vec3\x20dir'+';\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20sampler2'+'D\x20centroid'+'s;\x0a\x20\x20\x20\x20uni'+'form\x20mediu'+'mp\x20float\x20s'+'hN_mins;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20f'+'loat\x20shN_m'+'axs;\x0a\x0a\x20\x20\x20\x20'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ivec'+'2\x20uv\x20=\x20ive'+'c2(gl_Frag'+'Coord.xy)\x20'+'*\x20ivec2(SH'+'_COEFFS,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20mediump\x20v'+'ec3\x20coeffi'+'cients[SH_'+'COEFFS];\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(int\x20i\x20=\x20'+'0;\x20i\x20<\x20SH_'+'COEFFS;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20s\x20=\x20texe'+'lFetch(cen'+'troids,\x20iv'+'ec2(uv.x\x20+'+'\x20i,\x20uv.y),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20coefficie'+'nts[i]\x20=\x20m'+'ix(vec3(sh'+'N_mins),\x20v'+'ec3(shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20packRgb'+'(evalSH(co'+'efficients'+',\x20dir)\x20*\x200'+('.25\x20+\x200.5)'+';\x0a\x20\x20\x20\x20}\x0a'),nC='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput:\x20Vert'+'exInput)\x20-'+'>\x20VertexOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Ver'+'texOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a',oC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'fn\x20packRgb'+'(v:\x20vec3f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vb\x20=\x20v'+'ec3u(clamp'+'(v,\x20vec3f('+'0.0),\x20vec3'+'f(1.0))\x20*\x20'+'vec3f(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20bits\x20='+'\x20dot(vb,\x20v'+'ec3u(1\x20<<\x20'+'21,\x201\x20<<\x201'+'0,\x201));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(('+'vec4u(bits'+')\x20>>\x20vec4u'+'(24,\x2016,\x208'+',\x200))\x20&\x20ve'+'c4u(0xff))'+'\x20/\x20vec4f(2'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20un'+'iform\x20dir:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'shN_mins:\x20'+'f32;\x0a\x20\x20\x20\x20u'+'niform\x20shN'+'_maxs:\x20f32'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20centroids'+':\x20texture_'+'2d<f32>;\x0a\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input:'+'\x20FragmentI'+'nput)\x20->\x20F'+'ragmentOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20uv\x20=\x20'+'vec2i(inpu'+'t.position'+'.xy)\x20*\x20vec'+'2i(SH_COEF'+'FS,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'coefficien'+'ts:\x20array<'+'vec3f,\x20SH_'+'COEFFS>;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x200;\x20i\x20'+'<\x20SH_COEFF'+'S;\x20i++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s:\x20v'+'ec3f\x20=\x20tex'+'tureLoad(c'+'entroids,\x20'+'vec2i(uv.x'+'\x20+\x20i,\x20uv.y'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20coeffic'+'ients[i]\x20='+'\x20mix(vec3f'+'(uniform.s'+'hN_mins),\x20'+'vec3f(unif'+('orm.shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20packRgb'+'(evalSH(&c'+'oefficient'+'s,\x20uniform'+'.dir)\x20*\x200.'+'25\x20+\x200.5);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20}'+'\x0a'),lC='\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20sampler2D'+'\x20sh0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x20\x20\x20\x20u'+'niform\x20med'+'iump\x20sampl'+'er2D\x20sh_re'+'sult;\x0a\x0a\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20sh0_mi'+'ns;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20sh0_maxs;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20SH_C0\x20=\x20'+'0.28209479'+'177387814;'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'npack\x2011,\x20'+'11,\x2010\x20nor'+'malized\x20va'+'lue\x20from\x20r'+'gba8\x20textu'+'re\x20sample\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackRgb(v'+'ec4\x20v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uve'+'c4\x20uv\x20=\x20uv'+'ec4(v\x20*\x2025'+'5.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uint\x20b'+'its\x20=\x20(uv.'+'x\x20<<\x2024)\x20|'+'\x20(uv.y\x20<<\x20'+'16)\x20|\x20(uv.'+'z\x20<<\x208)\x20|\x20'+'uv.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uvec3\x20'+'vb\x20=\x20(uvec'+'3(bits)\x20>>'+'\x20uvec3(21,'+'\x2010,\x200))\x20&'+'\x20uvec3(0x7'+'ffu,\x200x7ff'+'u,\x200x3ffu)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3(vb)\x20/\x20ve'+'c3(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20baseSampl'+'e\x20=\x20mix(sh'+'0_mins,\x20sh'+'0_maxs,\x20te'+'xelFetch(s'+'h0,\x20source'+'.uv,\x200));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20resolve\x20'+'base\x20color'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4\x20base\x20='+'\x20vec4(vec3'+'(0.5)\x20+\x20ba'+'seSample.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'baseSample'+'.w)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'xtract\x20sph'+'erical\x20har'+'monics\x20pal'+'ette\x20index'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20label'+'Sample\x20=\x20i'+'vec2(texel'+'Fetch(sh_l'+'abels,\x20sou'+'rce.uv,\x200)'+'.xy\x20*\x20255.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20int\x20n\x20=\x20'+('labelSampl'+'e.x\x20+\x20labe'+'lSample.y\x20'+'*\x20256;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shSample\x20'+'=\x20texelFet'+'ch(sh_resu'+'lt,\x20ivec2('+'n\x20%\x2064,\x20n\x20'+'/\x2064),\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20sh\x20=\x20('+'unpackRgb('+'shSample)\x20'+'-\x20vec3(0.5'+'))\x20*\x204.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'(base.xyz\x20'+'+\x20sh,\x20base'+'.w);\x0a\x20\x20\x20\x20}'+'\x0a'),cC='\x0a\x20\x20\x20\x20var\x20s'+'h0:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'h_labels:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20sh_re'+'sult:\x20text'+'ure_2d<f32'+'>;\x0a\x0a\x20\x20\x20\x20un'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20sh0_m'+'axs:\x20vec4f'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20SH_C0:\x20'+'f32\x20=\x200.28'+'2094791773'+'87814;\x0a\x0a\x20\x20'+'\x20\x20//\x20unpac'+'k\x2011,\x2011,\x20'+'10\x20normali'+'zed\x20value\x20'+'from\x20rgba8'+'\x20texture\x20s'+'ample\x0a\x20\x20\x20\x20'+'fn\x20unpackR'+'gb(v:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20bits'+'\x20=\x20dot(vec'+'4u(v\x20*\x20255'+'.0),\x20vec4u'+'(1u\x20<<\x2024,'+'\x201u\x20<<\x2016,'+'\x201u\x20<<\x208,\x20'+'1u));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20vb'+'\x20=\x20(vec3u('+'bits)\x20>>\x20v'+'ec3u(21,\x201'+'0,\x200))\x20&\x20v'+'ec3u(0x7ff'+'u,\x200x7ffu,'+'\x200x3ffu);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec3f'+'(vb)\x20/\x20vec'+'3f(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20f'+'n\x20readColo'+'r(source:\x20'+'ptr<functi'+'on,\x20SplatS'+'ource>)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'baseSample'+':\x20vec4f\x20=\x20'+'mix(unifor'+'m.sh0_mins'+',\x20uniform.'+'sh0_maxs,\x20'+'textureLoa'+'d(sh0,\x20sou'+'rce.uv,\x200)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20base\x20'+'=\x20vec4f(ve'+'c3f(0.5)\x20+'+'\x20baseSampl'+'e.xyz\x20*\x20SH'+'_C0,\x201.0\x20/'+'\x20(1.0\x20+\x20ex'+'p(-baseSam'+'ple.w)));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20extract\x20'+'spherical\x20'+'harmonics\x20'+'palette\x20in'+'dex\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20labe'+'lSample:\x20v'+'ec2i\x20=\x20vec'+'2i(texture'+'Load(sh_la'+'bels,\x20sour'+'ce.uv,\x200).'+'xy\x20*\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20n\x20=\x20l'+('abelSample'+'.x\x20+\x20label'+'Sample.y\x20*'+'\x20256;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hSample:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(s'+'h_result,\x20'+'vec2i(n\x20%\x20'+'64,\x20n\x20/\x2064'+'),\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'h:\x20vec3f\x20='+'\x20(unpackRg'+'b(shSample'+')\x20-\x20vec3f('+'0.5))\x20*\x204.'+'0;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(base.'+'xyz\x20+\x20sh,\x20'+'base.w);\x0a\x20'+'\x20\x20\x20}\x0a'),hC=(_0x1e8813,_0x395837)=>{for(const _0xf37e09 in _0x395837)_0x1e8813['resolve'](_0xf37e09)['setValue'](_0x395837[_0xf37e09]);};class dC extends ys{constructor(){super(...arguments),h(this,'executeCal'+'lback',null);}['execute'](){var _0x72b7a9;(_0x72b7a9=this['executeCal'+'lback'])==null||_0x72b7a9['call'](this);}}const yg=new te(),uo=new D();class fC{constructor(_0x471287,_0x4416fb){h(this,'prevDir',new D()),h(this,'updateMode','enable'),(this['device']=_0x471287,this['gsplatInst'+'ance']=_0x4416fb);const {resource:_0x11c494}=_0x4416fb,_0x5e4387=new Map(Pe['get'](_0x471287,_0x471287['isWebGPU']?'wgsl':'glsl'));this['shader']=$t['createShad'+'er'](_0x471287,{'uniqueName':'gsplatReso'+'lveSH','vertexGLSL':rC,'fragmentGLSL':aC,'vertexWGSL':nC,'fragmentWGSL':oC,'vertexIncludes':_0x5e4387,'fragmentIncludes':_0x5e4387,'fragmentDefines':new Map([['SH_BANDS',_0x11c494['gsplatData']['shBands']['toString']()]]),'attributes':{'vertex_position':Me}}),this['texture']=_0x11c494['createText'+'ure']('centroids',Ne,new J(-0x4*-0x58d+0x43*-0x7d+0xac3,0x1244+-0xeb6+0x72)),this['renderTarg'+'et']=new gt({'colorBuffer':this['texture'],'depth':!(-0x39*0x67+0x59*0x2c+0x7a4)}),this['renderPass']=new dC(_0x471287),this['renderPass']['init'](this['renderTarg'+'et'],{}),this['renderPass']['colorOps']['clear']=!(0x1*0xffe+0x2*0x66b+-0x1cd4),this['quadRender']=new Ah(this['shader']);const {material:_0x2f1024}=_0x4416fb;_0x2f1024['setDefine']('SH_BANDS','0');const {shaderChunks:_0x26298c}=_0x2f1024;_0x26298c['glsl']['set']('gsplatSogs'+'ColorVS',lC),_0x26298c['wgsl']['set']('gsplatSogs'+'ColorVS',cC),_0x2f1024['update'](),_0x471287['scope']['resolve']('sh_result')['setValue'](this['texture']);}['destroy'](){const {gsplatInstance:_0x56ad12}=this,{material:_0x4ef531}=_0x56ad12;_0x4ef531['setDefine']('SH_BANDS',_0x56ad12['resource']['gsplatData']['shBands']['toString']());const {shaderChunks:_0x2fc6b0}=_0x4ef531;_0x2fc6b0['glsl']['delete']('gsplatSogs'+'ColorVS'),_0x2fc6b0['wgsl']['delete']('gsplatSogs'+'ColorVS'),_0x4ef531['update'](),this['quadRender']['destroy'](),this['renderPass']['destroy'](),this['renderTarg'+'et']['destroy'](),this['texture']['destroy'](),this['shader']['destroy']();}['render'](_0x23a126,_0x4b0539){const {prevDir:_0x5278fb,updateMode:_0x366041}=this;if(_0x366041==='disable'||(yg['invert'](_0x4b0539),yg['transformV'+'ector'](_0x23a126['forward'],uo),uo['normalize'](),_0x366041==='enable'&&uo['equalsAppr'+'ox'](_0x5278fb,0x12e+0xb*-0x1fd+0x14b1+0.001)))return;_0x5278fb['copy'](uo);const _0x33789a=()=>{const {device:_0x260fdb}=this,{sh_centroids:_0x5e098c,meta:_0x57214b}=this['gsplatInst'+'ance']['resource']['gsplatData'];hC(_0x260fdb['scope'],{'dir':uo['toArray'](),'centroids':_0x5e098c,'shN_mins':_0x57214b['shN']['mins'],'shN_maxs':_0x57214b['shN']['maxs']}),_0x260fdb['setCullMod'+'e'](bt),_0x260fdb['setDepthSt'+'ate'](Yt['NODEPTH']),_0x260fdb['setStencil'+'State'](null,null),_0x260fdb['setBlendSt'+'ate'](pt['NOBLEND']),this['quadRender']['render']();};this['renderPass']['executeCal'+'lback']=_0x33789a,this['renderPass']['render']();}}const uC='\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20means_l'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20means_'+'u;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20quats'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20scales'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20uint\x20n'+'umSplats;\x0a'+'\x0a\x20\x20\x20\x20uint\x20'+'packU32(ve'+'c4\x20v)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20uint(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u\x20|\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20uint('+'v.y\x20*\x20255.'+'0)\x20<<\x2016u\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uin'+'t(v.z\x20*\x2025'+'5.0)\x20<<\x208u'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(v.w\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20uv'+'ec4\x20packU3'+'2(vec4\x20a,\x20'+'vec4\x20b,\x20ve'+'c4\x20c,\x20vec4'+'\x20d)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uvec4(pac'+'kU32(a),\x20p'+'ackU32(b),'+'\x20packU32(c'+'),\x20packU32'+'(d));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20w\x20='+'\x20int(textu'+'reSize(mea'+'ns_l,\x200).x'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ivec2\x20uv\x20'+'=\x20ivec2(gl'+'_FragCoord'+'.xy);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(ui'+'nt(uv.x\x20+\x20'+'uv.y\x20*\x20w)\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansLSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_l,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansUSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_u,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20quatsSamp'+'le\x20=\x20texel'+'Fetch(quat'+'s,\x20uv,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20scales'+'Sample\x20=\x20t'+'exelFetch('+'scales,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shLabel'+'sSample\x20=\x20'+'texelFetch'+'(sh_labels'+',\x20uv,\x200).x'+('y;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20pcFragCo'+'lor0\x20=\x20pac'+'kU32(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansLS'+'ample,\x20shL'+'abelsSampl'+'e.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansUS'+'ample,\x20shL'+'abelsSampl'+'e.y),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(quatsSa'+'mple),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4(scales'+'Sample,\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20}\x0a'),pC='\x0a\x20\x20\x20\x20var\x20m'+'eans_l:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20means_u'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20qua'+'ts:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'cales:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sh_label'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20numSpla'+'ts:\x20u32;\x0a\x0a'+'\x20\x20\x20\x20fn\x20pac'+'kU32(v:\x20ve'+'c4<f32>)\x20-'+'>\x20u32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(u32(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(u3'+'2(v.y\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20\x20|\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(u32(v.z\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20u32(v.w'+'\x20*\x20255.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20packU'+'Vec32(a:\x20v'+'ec4<f32>,\x20'+'b:\x20vec4<f3'+'2>,\x20c:\x20vec'+'4<f32>,\x20d:'+'\x20vec4<f32>'+')\x20->\x20vec4<'+'u32>\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4<u32'+'>(packU32('+'a),\x20packU3'+'2(b),\x20pack'+'U32(c),\x20pa'+'ckU32(d));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20@fragmen'+'t\x0a\x20\x20\x20\x20fn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20w:\x20u32\x20'+'=\x20textureD'+'imensions('+'means_l,\x200'+').x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2<u32>'+'\x20=\x20vec2<u3'+'2>(pcPosit'+'ion.xy);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv.x\x20+\x20uv'+'.y\x20*\x20w\x20>=\x20'+'uniform.nu'+'mSplats)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20fetch\x20the'+'\x20source\x20in'+'dex\x20and\x20ca'+'lculate\x20so'+'urce\x20uv\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'meansLSamp'+'le:\x20vec3<f'+('32>\x20=\x20text'+'ureLoad(me'+'ans_l,\x20uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20meansUSam'+'ple:\x20vec3<'+'f32>\x20=\x20tex'+'tureLoad(m'+'eans_u,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20quatsSam'+'ple:\x20vec4<'+'f32>\x20=\x20tex'+'tureLoad(q'+'uats,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20scal'+'esSample:\x20'+'vec3<f32>\x20'+'=\x20textureL'+'oad(scales'+',\x20uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shLa'+'belsSample'+':\x20vec2<f32'+'>\x20=\x20textur'+'eLoad(sh_l'+'abels,\x20uv,'+'\x200).xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20packUVec'+'32(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansLSam'+'ple,\x20shLab'+'elsSample.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansUSam'+'ple,\x20shLab'+'elsSample.'+'y),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(quatsSamp'+'le),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4(scalesSa'+'mple,\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a'),An=0x572*0x6+-0xe*-0x81+0x5a*-0x71+0.28209479177387814,Ci=_0x49caab=>_0x49caab['read'](0x1abf+-0xc7*-0x5+-0x51b*0x6,-0x1222+0x5d8+0xc4a,_0x49caab['width'],_0x49caab['height'],{'mipLevel':0x0,'face':0x0,'immediate':!(-0x1d87+0x2647*-0x1+0x43ce)}),mC=(_0x5d4f51,_0x446e7a)=>{for(const _0x21ce78 in _0x446e7a)_0x5d4f51['resolve'](_0x21ce78)['setValue'](_0x446e7a[_0x21ce78]);};class _C{constructor(_0x44b5df,_0x3b18db,_0x25826a,_0x3aec4f,_0x41c2ba,_0x37cd0b){const _0x499bd1=(_0x14ce80,_0x18c25a,_0x313189)=>_0x14ce80*(-0x1eb9+0x1c62+0xa*0x3c-_0x313189)+_0x18c25a*_0x313189,{meta:_0x469879}=_0x44b5df,{means:_0x1f7895,scales:_0x4aeaef,sh0:_0xc2a6c2,shN:_0x1dcf68}=_0x469879,_0x1752f9=_0x3b18db&&_0x44b5df['means_l']['_levels'][-0x1363+0x2cc*-0x8+-0x1*-0x29c3],_0x50f417=_0x3b18db&&_0x44b5df['means_u']['_levels'][-0xbb+-0xfe2*0x2+-0x2f*-0xb1],_0x36e058=_0x25826a&&_0x44b5df['quats']['_levels'][-0x1e2d+0x31+0x1dfc],_0x3be9d0=_0x3aec4f&&_0x44b5df['scales']['_levels'][-0xac8+0xd*0x4f+-0x6c5*-0x1],_0xbec4e2=_0x41c2ba&&_0x44b5df['sh0']['_levels'][-0x35*-0x5b+0xe12+-0x20e9],_0x3754a3=_0x37cd0b&&_0x44b5df['sh_labels']['_levels'][0x1*0x1d4d+-0x110f*0x1+-0xc3e],_0x4c70a2=_0x37cd0b&&_0x44b5df['sh_centroi'+'ds']['_levels'][0x25f*0x6+-0x1*-0xe70+-0x1caa],_0x43c6b0=(0x8f0+-0xf5*-0x18+-0x1fe6)/Math['sqrt'](-0x2*0xdfa+-0x1245+0x9*0x523);this['read']=_0x54e33f=>{if(_0x3b18db){const _0x177d59=_0x499bd1(_0x1f7895['mins'][0x4b8*-0x4+0x231*0x11+-0x1*0x1261],_0x1f7895['maxs'][-0x1*-0x61f+-0x1*-0x1b4e+-0x216d*0x1],((_0x50f417[_0x54e33f*(-0x17de+0x268f+0xead*-0x1)+(0x72f*-0x1+-0xf9f+0x16ce)]<<-0x8*0x3f2+-0x3d9*0x5+0x32d5)+_0x1752f9[_0x54e33f*(-0xb5*0x19+-0xdd1+0x1f82)+(-0xd82+0x97*-0x7+-0x5*-0x387)])/(0x8*-0x1a74+-0x1136*0x2+0xa759*0x3)),_0x19dca0=_0x499bd1(_0x1f7895['mins'][0xee9+0x20e4+-0x2fcc],_0x1f7895['maxs'][-0x1654+0xf*-0x1bc+0x3059*0x1],((_0x50f417[_0x54e33f*(0x1*0x18fc+-0x2267+0x96f)+(0x2*-0xeab+-0xb3f*-0x1+0x1218*0x1)]<<-0x4c4+-0xa*0x296+0x1ea8)+_0x1752f9[_0x54e33f*(-0x1*0x934+0xf45+-0x60d)+(0x26e2+0x176a+-0x1*0x3e4b)])/(-0x909b+-0x5e6f+0x1ef09)),_0x58eda=_0x499bd1(_0x1f7895['mins'][-0x2dd*-0x3+-0x50f+-0x52*0xb],_0x1f7895['maxs'][-0x601*0x6+0x9d8+-0x346*-0x8],((_0x50f417[_0x54e33f*(-0x65+0x1*-0x1c31+0x1c9a)+(0x165d*-0x1+0x496*-0x2+0x1db*0x11)]<<0x2641*0x1+0x1*-0xb19+-0x2*0xd90)+_0x1752f9[_0x54e33f*(0x8f9+0xef*0x3+-0xbc2)+(0x26bf+-0x130+-0x258d)])/(0xdfdd+-0xf27f*0x1+0x112a1));_0x3b18db['x']=Math['sign'](_0x177d59)*(Math['exp'](Math['abs'](_0x177d59))-(0x2*-0xb1e+0x1239+-0x1*-0x404)),_0x3b18db['y']=Math['sign'](_0x19dca0)*(Math['exp'](Math['abs'](_0x19dca0))-(0x565*0x1+-0x4ee+0x2*-0x3b)),_0x3b18db['z']=Math['sign'](_0x58eda)*(Math['exp'](Math['abs'](_0x58eda))-(-0x2*0x10fa+0x2089*-0x1+0x427e));}if(_0x25826a){const _0x295ba7=(_0x36e058[_0x54e33f*(-0x2*0x317+-0x1731+-0x1*-0x1d63)+(-0x15cc+-0xfb9+-0x5*-0x781)]/(-0x2fa+-0x146f+0x1868)-(-0x1df5*0x1+-0xbf*-0x1b+0x1*0x9d0+0.5))*_0x43c6b0,_0x69ee14=(_0x36e058[_0x54e33f*(0x7*0x52f+0x546+-0x298b)+(-0xd*0x241+0x2097+-0x1*0x349)]/(-0xa15+0x1*0x21c5+0x16b1*-0x1)-(-0x5*-0x4e1+-0x1*0x505+-0x1360+0.5))*_0x43c6b0,_0x1569e0=(_0x36e058[_0x54e33f*(0x2*0x59f+0xe52*0x1+-0x3*0x884)+(0x20c+-0x6f5*0x2+0xbe0)]/(0x222c+0x1*-0x92c+-0x1801*0x1)-(0x17*-0x2f+-0x2550+-0xd9*-0x31+0.5))*_0x43c6b0,_0x29225f=Math['sqrt'](Math['max'](0xd94+0x250e+-0x32a2,0x481+0xc92*0x3+0x3*-0xe12-(_0x295ba7*_0x295ba7+_0x69ee14*_0x69ee14+_0x1569e0*_0x1569e0)));switch(_0x36e058[_0x54e33f*(0xa85+-0x116f+-0x1*-0x6ee)+(-0x16af+-0x1*-0x1a53+0x1*-0x3a1)]-(-0xd70+0x169d+0x831*-0x1)){case-0x192e+-0x4*-0x4de+0x5b6:_0x25826a['set'](_0x295ba7,_0x69ee14,_0x1569e0,_0x29225f);break;case 0x267c+-0x1d98+0x8e3*-0x1:_0x25826a['set'](_0x29225f,_0x69ee14,_0x1569e0,_0x295ba7);break;case-0x1*-0x1cf+0x714+-0x8e1:_0x25826a['set'](_0x69ee14,_0x29225f,_0x1569e0,_0x295ba7);break;case 0x991+-0xd7+-0x8b7:_0x25826a['set'](_0x69ee14,_0x1569e0,_0x29225f,_0x295ba7);break;}}if(_0x3aec4f){const _0x435653=_0x499bd1(_0x4aeaef['mins'][0xd*0x107+-0x1716+0x2f*0x35],_0x4aeaef['maxs'][0xbc0+-0x1*-0xc91+0x5*-0x4dd],_0x3be9d0[_0x54e33f*(0x2083+-0x1fb*-0x5+-0x2a66)+(-0x1*0x1070+-0xf09+-0x1*-0x1f79)]/(0xe54+0x4*0x319+-0x19b9*0x1)),_0x3d56bb=_0x499bd1(_0x4aeaef['mins'][-0x2249+0x19a3*-0x1+-0x211*-0x1d],_0x4aeaef['maxs'][-0x21f4+0x3*-0x116+0x1*0x2537],_0x3be9d0[_0x54e33f*(-0x97*-0x11+-0x151e+-0xb1b*-0x1)+(-0x1ae*0xc+0xe41*0x1+-0x2f4*-0x2)]/(-0x5c*0x1b+-0xe32+0x18e5)),_0x3ff30a=_0x499bd1(_0x4aeaef['mins'][-0x571+0x1*0x94f+-0x3dc],_0x4aeaef['maxs'][0x52*0x47+0x2369+-0xba1*0x5],_0x3be9d0[_0x54e33f*(-0xea8+0x3*0x7a7+-0x849)+(-0x7f7+0x8*0x1fa+-0x7d7)]/(-0x1815+0x9bd*-0x2+0x2c8e));_0x3aec4f['set'](_0x435653,_0x3d56bb,_0x3ff30a);}if(_0x41c2ba){const _0x345593=_0x499bd1(_0xc2a6c2['mins'][-0x7*0x2f+0xc51+0x1*-0xb08],_0xc2a6c2['maxs'][-0x1d8+-0x1*0x1cd+-0x3*-0x137],_0xbec4e2[_0x54e33f*(0x221a+-0x389*0x1+-0x1e8d)+(0x5*0x4dc+0x6*-0x130+-0x112c)]/(-0x2279+0x1*-0xe89+-0x3201*-0x1)),_0x2bc854=_0x499bd1(_0xc2a6c2['mins'][-0xca7*0x3+-0x1fb*-0x3+-0x7*-0x493],_0xc2a6c2['maxs'][-0x47*0x25+-0x245b+0x2e9f],_0xbec4e2[_0x54e33f*(-0x1*0xcb1+0x888+0x42d)+(0x2436+-0x14ce+-0xf67)]/(0x49*-0x3+-0xff1+0x11cb*0x1)),_0x569861=_0x499bd1(_0xc2a6c2['mins'][0x111b*0x1+-0x23*0x8f+0x274],_0xc2a6c2['maxs'][-0x2386+-0x4*0x691+-0x46*-0xe2],_0xbec4e2[_0x54e33f*(-0x1559+0x1d8c+-0x5*0x1a3)+(0xf08+0x8c6+-0x5f3*0x4)]/(-0x19b9+0x22*-0x4+0x6d*0x40)),_0x54ad7a=_0x499bd1(_0xc2a6c2['mins'][0x10e0+-0x1790+0x6b3],_0xc2a6c2['maxs'][0x1ad*-0x3+0x17a4+-0x129a],_0xbec4e2[_0x54e33f*(0x1a8f+-0x2386+-0x8fb*-0x1)+(-0x14ef+-0x1b62+0x3054)]/(-0x711+0x21b*0xd+-0x134f));_0x41c2ba['set'](0xfc*-0x12+0x500+0xcb8+0.5+_0x345593*An,0x69+-0x1*0x1b31+-0x1*-0x1ac8+0.5+_0x2bc854*An,0x14b+-0x53*0x61+0x1e28+0.5+_0x569861*An,(0x1e22+0x381*0x3+-0x6c6*0x6)/(0x7c3*0x5+-0x7*0x1af+-0x1b05+Math['exp'](-_0x54ad7a)));}if(_0x37cd0b){const _0xdd8f21=_0x3754a3[_0x54e33f*(-0xb82+-0xe8a+-0x458*-0x6)+(0x22d2+0x1*0x12e9+-0x35bb)]+(_0x3754a3[_0x54e33f*(-0x34a*0x1+0x26e*-0xa+-0x1*-0x1b9a)+(0x175*-0xb+0x517+0xaf1)]<<0x48f+0x1804*-0x1+0x137d),_0x7a3d59=_0xdd8f21%(0x1*0x1d87+0xa95+-0x27dc)*(0x167*-0x2+0x2502+-0x2225),_0x45a810=Math['floor'](_0xdd8f21/(-0x3f5*-0x1+-0x1176+0x7*0x1f7));for(let _0x260794=-0x41c+-0x1c09+-0xab7*-0x3;_0x260794<-0xd*-0xe3+0x1*-0x1697+0x3b1*0x3;++_0x260794)for(let _0x3b38a0=-0x132a+-0x15*-0x46+0xd6c*0x1;_0x3b38a0<0x17*-0x20+-0x2bd*0x7+0x161a;++_0x3b38a0)_0x37cd0b[_0x260794*(0x1c38+-0xb*-0x144+0xe07*-0x3)+_0x3b38a0]=_0x499bd1(_0x1dcf68['mins'],_0x1dcf68['maxs'],_0x4c70a2[(_0x7a3d59+_0x3b38a0)*(0x214c+0x10a9+-0x31f1)+_0x260794+_0x45a810*_0x44b5df['sh_centroi'+'ds']['width']*(0xb2*-0x1+-0xa*0x36+-0x1*-0x2d2)]/(0x21*-0xa7+0x7c*0x40+0x43d*-0x2));}};}}class gC{constructor(){h(this,'meta'),h(this,'numSplats'),h(this,'means_l'),h(this,'means_u'),h(this,'quats'),h(this,'scales'),h(this,'sh0'),h(this,'sh_centroi'+'ds'),h(this,'sh_labels'),h(this,'packedText'+'ure');}['destroy'](){var _0x238993,_0x171e5e,_0x34d3b6,_0x13664b,_0x272a74,_0x366513,_0xf3b4c8,_0x421daf;(_0x238993=this['means_l'])==null||_0x238993['destroy'](),(_0x171e5e=this['means_u'])==null||_0x171e5e['destroy'](),(_0x34d3b6=this['quats'])==null||_0x34d3b6['destroy'](),(_0x13664b=this['scales'])==null||_0x13664b['destroy'](),(_0x272a74=this['sh0'])==null||_0x272a74['destroy'](),(_0x366513=this['sh_centroi'+'ds'])==null||_0x366513['destroy'](),(_0xf3b4c8=this['sh_labels'])==null||_0xf3b4c8['destroy'](),(_0x421daf=this['packedText'+'ure'])==null||_0x421daf['destroy']();}['createIter'](_0x2ed46d,_0x1c5ef5,_0xceceb1,_0x305de2,_0x2fcf16){return new _C(this,_0x2ed46d,_0x1c5ef5,_0xceceb1,_0x305de2,_0x2fcf16);}['calcAabb'](_0x440fb2){const {mins:_0x38bb57,maxs:_0x2ad9cb}=this['meta']['means'],_0x144e63=_0x70214b=>Math['sign'](_0x70214b)*(Math['exp'](Math['abs'](_0x70214b))-(0x1e99+-0x2328+0x490));_0x440fb2['center']['set']((_0x144e63(_0x38bb57[-0x796*0x2+-0x8ff*0x1+-0x1*-0x182b])+_0x144e63(_0x2ad9cb[-0x2406+0x8*0x4df+0xd*-0x3a]))*(-0x111f*0x1+0x69e*0x3+-0x2bb+0.5),(_0x144e63(_0x38bb57[-0x20e9+0x5*-0x35b+0x31b1*0x1])+_0x144e63(_0x2ad9cb[0x1cf*-0xe+0xe8f*-0x2+-0x7c7*-0x7]))*(0x1b8b*-0x1+0x22d*-0x2+0x1fe5+0.5),(_0x144e63(_0x38bb57[0x2281+0x1485+0xdc1*-0x4])+_0x144e63(_0x2ad9cb[-0x2*-0x56f+-0x361*-0x2+-0x29*0x6e]))*(0x7ce+-0x4*0x414+0x882+0.5)),_0x440fb2['halfExtent'+'s']['set']((_0x144e63(_0x2ad9cb[0x567*0x6+-0x2*-0x2bf+-0x1*0x25e8])-_0x144e63(_0x38bb57[0x44d+-0x140*0xf+-0x1*-0xe73]))*(0x1*0x1115+-0x785+0x33*-0x30+0.5),(_0x144e63(_0x2ad9cb[-0x817*-0x1+-0x389+0x5*-0xe9])-_0x144e63(_0x38bb57[-0xf*0x97+-0x1a65*-0x1+0x118b*-0x1]))*(-0x14ca*-0x1+-0x1981+0x4b7+0.5),(_0x144e63(_0x2ad9cb[-0xa*-0x37+0x180d+-0x8bb*0x3])-_0x144e63(_0x38bb57[0x261*-0xa+0x68*0x11+0x10e4]))*(0x69*-0x2f+0x2063+-0xd1c+0.5));}['getCenters'](_0x3622a1){const {meta:_0x32d691,means_l:_0x3e6c7c,means_u:_0x429741,numSplats:_0x41e1a8}=this,{means:_0xd4dc99}=_0x32d691,_0x98fc58=new Uint32Array(_0x429741['_levels'][0x20be+0x1ad2+-0x3b90]['buffer']),_0x57d29d=new Uint32Array(_0x3e6c7c['_levels'][0x15b1+0x1*-0xec7+0xa*-0xb1]['buffer']),_0x32535c=_0xd4dc99['mins'][0xc59+0xb5*0x15+-0x3b*0x76]/(0xcfa5+0x1*0x7a25+-0x833*0x9),_0x495c97=_0xd4dc99['mins'][-0x4*-0x463+0x15be+-0x2749]/(-0x18cdf+-0x1973+0x2a651),_0x2fa373=_0xd4dc99['mins'][0xde0+-0x79+-0xd65]/(-0x60*0x24a+0xe*-0x1da7+0x37ae1),_0x9c143a=_0xd4dc99['maxs'][-0x42*-0x87+-0x1*0x114c+-0x6*0x2eb]/(0x109bb*0x1+-0x14b*-0x40+-0x5c7c),_0x32f621=_0xd4dc99['maxs'][0x25d7+-0x8df+-0x1cf7]/(-0x91*0x329+0x6*0x52e8+0xd8c8),_0x3eaac8=_0xd4dc99['maxs'][0x1c0+0x1662+-0x304*0x8]/(0xbf8*0x18+0x4fbd+-0x1*0x6efe);for(let _0x4ae197=-0x31c*-0x7+0x305*-0x1+0x1*-0x12bf;_0x4ae197<_0x41e1a8;_0x4ae197++){const _0x201ea0=_0x4ae197,_0x22e40e=_0x98fc58[_0x201ea0],_0x57ddf3=_0x57d29d[_0x201ea0],_0x382e02=_0x22e40e<<-0x1*0x14f+-0x1*0x265e+0x27b5&-0x3133+0x235*-0xe3+-0xa10a*-0x5|_0x57ddf3&0x1744+0x1ed8+0x351d*-0x1,_0x157a01=_0x22e40e&0xf3f2+0x17f2*-0x5+0x82c8|_0x57ddf3>>>-0x223c+0x884+-0xce0*-0x2&0x8eb+0x5be+-0x48e*0x3,_0x17a093=_0x22e40e>>>-0x13d*-0x19+-0x52*-0x26+-0x3eb*0xb&-0x1*0xf1a6+0x5*-0x2085+0x949*0x47|_0x57ddf3>>>-0x1510+0x1f6b+-0xa4b&-0x1*0x187+-0x131b*-0x2+-0x23b0,_0x298c1d=_0x32535c*(0x1e69e+0x1*0x1b953+0x14ff9*-0x2-_0x382e02)+_0x9c143a*_0x382e02,_0x6c5ef4=_0x495c97*(0x3661*0x8+-0x11aa1+0x6798-_0x157a01)+_0x32f621*_0x157a01,_0xf1adf6=_0x2fa373*(0x18e3b+-0xab6b*-0x2+-0x1e512-_0x17a093)+_0x3eaac8*_0x17a093,_0x245831=_0x298c1d<0x38*0x65+0x12ae+-0x1*0x28c6?-_0x298c1d:_0x298c1d,_0x17935e=_0x6c5ef4<-0x2*0xe5f+0x2170+-0x4b2?-_0x6c5ef4:_0x6c5ef4,_0x27ba23=_0xf1adf6<0xb2*0x1+0x88*0x1c+-0xf92?-_0xf1adf6:_0xf1adf6;_0x3622a1[_0x4ae197*(0x68b*0x1+-0x254e+0x25e*0xd)]=(_0x298c1d<-0x15f1*0x1+-0x1e54+-0x3445*-0x1?-(0x234e+-0x16*-0x1a2+-0x4739*0x1):0x2074+0x31*-0xbb+0x358)*(Math['exp'](_0x245831)-(0x3dd*-0x1+-0x37c+-0x1*-0x75a)),_0x3622a1[_0x4ae197*(0x1*-0x13f9+0x2020+-0xc24)+(0x1474+0x15cd*-0x1+0x15a)]=(_0x6c5ef4<-0x2073+0x88f*-0x1+-0xb5*-0x3a?-(-0x12cb+-0x4*0x3da+0x2234):-0x146e*-0x1+0x1e43+-0x32b0)*(Math['exp'](_0x17935e)-(0x8f0+0x1c39+-0x2528)),_0x3622a1[_0x4ae197*(-0x1d14*-0x1+-0x3*-0xab+-0x1f12)+(-0x4a*-0x10+-0x10f6*0x1+0x278*0x5)]=(_0xf1adf6<0x24f+0x295*0xd+-0x1c*0x148?-(0x1*-0xf47+0x1db*-0x11+0x1*0x2ed3):0x1*-0x14ed+0x1593+-0xa5)*(Math['exp'](_0x27ba23)-(-0x45a*-0x7+0x4*-0x725+0x1e1*-0x1));}}['calcFocalP'+'oint'](_0x18d44b,_0x75d0b8){_0x18d44b['set'](0xfa*0x5+-0x978+-0x24b*-0x2,-0x1486+-0x34*0x24+0x1bd6,0xae3+-0x1224+0x741);}get['isSogs'](){return!(0x17c*0x17+0x2*-0x1387+-0x25*-0x22);}get['shBands'](){var _0x109527;return{0xc0:0x1,0x200:0x2,0x3c0:0x3}[(_0x109527=this['sh_centroi'+'ds'])==null?void(0x222*-0x1+-0xb5d*-0x3+-0x1ff5):_0x109527['width']]??0x1496+0x11ab+0x1*-0x2641;}async['decompress'](){const _0x583db6=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3'],{shBands:_0x474f6a}=this,{means_l:_0xc87d4a,means_u:_0x48349c,quats:_0xfc29,scales:_0x48c874,sh0:_0x288796,sh_labels:_0x5da467,sh_centroids:_0x334cdd}=this;if(_0xc87d4a['_levels'][-0x6*0x213+0x11f4+-0x582]=await Ci(_0xc87d4a),_0x48349c['_levels'][0xd6*0x21+0x1*-0x25f1+-0xf1*-0xb]=await Ci(_0x48349c),_0xfc29['_levels'][0x101*-0x17+-0x1*0x1c67+-0x19bf*-0x2]=await Ci(_0xfc29),_0x48c874['_levels'][0xa3b+0x6*-0x55a+-0x15e1*-0x1]=await Ci(_0x48c874),_0x288796['_levels'][-0x4*0x5ae+0x1*0x2061+-0x9a9]=await Ci(_0x288796),_0x474f6a>0xdb5*0x2+-0x363*0x1+-0x1*0x1807){_0x5da467['_levels'][0x1704+0x443+-0x1b47]=await Ci(_0x5da467),_0x334cdd['_levels'][0x269f+0x194e+0x3*-0x154f]=await Ci(_0x334cdd);const _0x6849e2=[];for(let _0xc20fac=-0x141b+0x1777*0x1+0x56*-0xa;_0xc20fac<-0x1*0x9ad+-0x97*-0x29+-0x3*0x4c7;++_0xc20fac)_0x6849e2['push']('f_rest_'+_0xc20fac);_0x583db6['splice'](_0x583db6['indexOf']('f_dc_0')+(-0x1aa3+-0x1*0x132d+0x2dd1),0xcfb*-0x3+0x14e2+0x120f,..._0x6849e2);}const _0x104fb7={};_0x583db6['forEach'](_0x4d34eb=>{_0x104fb7[_0x4d34eb]=new Float32Array(this['numSplats']);});const _0x3becf6=new D(),_0x3166cb=new le(),_0x7bb643=new D(),_0x5d484d=new re(),_0x559e30=_0x474f6a>-0x1*-0x13d6+0x3e*0x23+0x1*-0x1c50?new Float32Array(0x67*0x35+0x3*0x3b+-0x15d7):null,_0x4e0efb=this['createIter'](_0x3becf6,_0x3166cb,_0x7bb643,_0x5d484d,_0x559e30);for(let _0x3e07f1=0x121d+0x22b4+-0x34d1;_0x3e07f1<this['numSplats'];++_0x3e07f1)if(_0x4e0efb['read'](_0x3e07f1),_0x104fb7['x'][_0x3e07f1]=_0x3becf6['x'],_0x104fb7['y'][_0x3e07f1]=_0x3becf6['y'],_0x104fb7['z'][_0x3e07f1]=_0x3becf6['z'],_0x104fb7['rot_1'][_0x3e07f1]=_0x3166cb['x'],_0x104fb7['rot_2'][_0x3e07f1]=_0x3166cb['y'],_0x104fb7['rot_3'][_0x3e07f1]=_0x3166cb['z'],_0x104fb7['rot_0'][_0x3e07f1]=_0x3166cb['w'],_0x104fb7['scale_0'][_0x3e07f1]=_0x7bb643['x'],_0x104fb7['scale_1'][_0x3e07f1]=_0x7bb643['y'],_0x104fb7['scale_2'][_0x3e07f1]=_0x7bb643['z'],_0x104fb7['f_dc_0'][_0x3e07f1]=(_0x5d484d['x']-(-0x167+0x2697+-0x8c*0x44+0.5))/An,_0x104fb7['f_dc_1'][_0x3e07f1]=(_0x5d484d['y']-(0x1*0xaa9+-0x3*-0x6c3+-0x1ef2+0.5))/An,_0x104fb7['f_dc_2'][_0x3e07f1]=(_0x5d484d['z']-(0x1ab3+-0x815*0x3+0x9d*-0x4+0.5))/An,_0x104fb7['opacity'][_0x3e07f1]=_0x5d484d['w']<=0x1c0c+-0x1*-0x150b+-0x3b*0xd5?-(0x1892+0x1*0x2009+-0x3873):_0x5d484d['w']>=0x448*0x4+-0x2f5+-0xe2a?-0x40d+0x531+0x9*-0x1c:-Math['log']((0x33c+-0x25*0x23+0x1d4)/_0x5d484d['w']-(0x9b7+0x1*-0x1247+0x891)),_0x559e30){for(let _0x15dd3a=-0x10b6+0x1474+0x3be*-0x1;_0x15dd3a<-0x12a4*-0x2+0xc36*-0x1+-0x18e5;++_0x15dd3a)_0x104fb7['f_rest_'+_0x15dd3a][_0x3e07f1]=_0x559e30[_0x15dd3a];}return new qn([{'name':'vertex','count':this['numSplats'],'properties':_0x583db6['map'](_0x25f819=>({'name':_0x25f819,'type':'float','byteSize':0x4,'storage':_0x104fb7[_0x25f819]}))}]);}['packGpuMem'+'ory'](){const {means_l:_0x3988f1,means_u:_0x188e3b,quats:_0xd4dd34,scales:_0x2aeefc,sh_labels:_0x120dd7,numSplats:_0x519e9f}=this,{device:_0x43e6e3}=_0x3988f1,{scope:_0x5e8043}=_0x43e6e3,_0x5b2120=$t['createShad'+'er'](_0x43e6e3,{'uniqueName':'GsplatSogs'+'ReorderSha'+'der','attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentGLSL':uC,'fragmentWGSL':pC,'fragmentOutputTypes':['uvec4']}),_0xc49201=new gt({'colorBuffer':this['packedText'+'ure'],'depth':!(-0x1873+-0xe75+-0x1*-0x26e9),'mipLevel':0x0});_0x43e6e3['setCullMod'+'e'](bt),_0x43e6e3['setBlendSt'+'ate'](pt['NOBLEND']),_0x43e6e3['setDepthSt'+'ate'](Yt['NODEPTH']),mC(_0x5e8043,{'means_l':_0x3988f1,'means_u':_0x188e3b,'quats':_0xd4dd34,'scales':_0x2aeefc,'sh_labels':_0x120dd7??_0x3988f1,'numSplats':_0x519e9f}),Ar(_0x43e6e3,_0xc49201,_0x5b2120),_0xc49201['destroy'](),_0x5b2120['destroy']();}async['prepareGpu'+'Data'](){const {device:_0x391375,height:_0x91ed43,width:_0x40dbac}=this['means_l'];this['means_l']['_levels'][-0xb*-0x25+-0x1e*-0x145+0x1*-0x27ad]=await Ci(this['means_l']),this['means_u']['_levels'][0x21*-0x35+-0x1448+0x1b1d*0x1]=await Ci(this['means_u']),this['packedText'+'ure']=new _e(_0x391375,{'name':'sogsPacked'+'Texture','width':_0x40dbac,'height':_0x91ed43,'format':Ue,'mipmaps':!(0x751*0x5+-0x1*-0x9e1+-0x2e75)}),_0x391375['on']('devicerest'+'ored',()=>{this['packGpuMem'+'ory']();}),this['packGpuMem'+'ory']();}['reorderDat'+'a'](){return this['prepareGpu'+'Data']();}}async function SC(){let _0x46d6f5=null,_0xe6030c=null,_0x359de9=null,_0x4ef4ad=null,_0xaa6fc3=null,_0x63194b=null,_0xa8823a=null,_0x17aada=null,_0x10d80b=null,_0xfc8b52=null,_0x5bf31d=null,_0x10ad72=null,_0x3d8317=null,_0x1b983b=null,_0x2b247c=null,_0x583d87=null,_0x1c0e3e=null,_0x34c34d=null,_0x201f32=null,_0x4f808e=null,_0x2df1dd=null,_0x1eb12e=null,_0x54941a=null,_0x33da8b=null,_0x312546=Float32Array['BYTES_PER_'+'ELEMENT'],_0x2bbb36=Uint32Array['BYTES_PER_'+'ELEMENT'],_0x2ef471=0x12c3+-0x206b+0x98*0x17,_0xc285ac=!(0xbea+-0x2315+0x172b),_0xa79419,_0x2ab841,_0x28448f={'x':0x0,'y':0x0,'z':0x0},_0x468c10={'x':0x0,'y':0x0,'z':0x0},_0x902a3a=!(-0x11*0x216+0x1*-0x1eb7+0x422d),_0x2fdefa=!(0x7d*0x1e+0x1274+-0x1be*0x13),_0x2732b2=!(-0x5c7+0x2*-0x140+0x109*0x8),_0x2a92a0=!(-0x1732*-0x1+-0x13*0x107+-0x3ac),_0x1f2cef=0x986+0xa*-0x3c2+0x1c0e,_0x48910b=-0x224a+0x583+0x1cc7,_0x1ceed8=!(0x167e+-0x8*-0xb+-0x16d5),_0x5d8786=null,_0x2aaa5c=!(-0x19*-0x165+0xb*0x37e+-0xe2*0x53),_0x387e21=-0x1eb6+-0x1553+0x3409,_0x52a916=0x1712+0x34*0x33+-0x2*0x10b7,_0x2d3419={'x':0x0,'y':0x0,'z':0x0},_0x31629c={'x':0x0,'y':0x0,'z':0x0},_0x1e28d6,_0x407df2;self['onmessage']=async _0xd824b6=>{const {data:_0x14e3ff}=_0xd824b6;switch(_0x14e3ff['type']){case'initWorker':await _0x526856(_0x14e3ff['sortWasmUr'+'l']),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x2ef471=_0x14e3ff['centers']['length']/(-0x1cc6+-0x1*0x133+0x1dfc),_0x2ef471<=0x1*-0x197f+0x1*0x2686+-0xd07||!_0xe6030c)return;_0x269ec9(),_0xc285ac=_0x14e3ff['is4d'],_0x1e28d6=_0x14e3ff['id'];const _0x22d274=_0x1d42fa(_0x2ef471);if(_0x54e34e(_0x22d274),_0x359de9[0x2ae+-0x6d*0x1d+-0xe1*-0xb]=_0x2d3419['x'],_0x359de9[-0x2*0x296+-0x1061+0xac7*0x2]=_0x2d3419['y'],_0x359de9[0xbad+0xb4*0xf+-0x1637]=_0x2d3419['z'],_0x4ef4ad[-0x8f1+0x1471*0x1+-0x40*0x2e]=_0x31629c['x'],_0x4ef4ad[-0x20a*-0xd+-0x749+0x334*-0x6]=_0x31629c['y'],_0x4ef4ad[0x2*-0x10d+-0x1f*-0x59+-0x8ab]=_0x31629c['z'],_0x63194b&&_0x14e3ff['centers']&&_0x63194b['length']===_0x14e3ff['centers']['length']){const _0x497d32=new Float32Array(_0x14e3ff['centers']);_0x63194b['set'](_0x497d32);}if(_0x17aada&&_0x14e3ff['timeIndex']&&_0x17aada['length']===_0x14e3ff['timeIndex']['length']){const _0x138857=new Uint32Array(_0x14e3ff['timeIndex']);_0x17aada['set'](_0x138857);}if(_0x5bf31d&&_0x14e3ff['motion']&&_0x5bf31d['length']===_0x14e3ff['motion']['length']){const _0x41814b=new Float32Array(_0x14e3ff['motion']);_0x5bf31d['set'](_0x41814b);}if(_0xc285ac&&_0x10d80b&&_0xfc8b52&&_0x14e3ff['muT']&&_0x14e3ff['tScale']&&_0x10d80b['length']===_0x14e3ff['muT']['length']&&_0xfc8b52['length']===_0x14e3ff['tScale']['length']&&(_0x10d80b['set'](_0x14e3ff['muT']),_0xfc8b52['set'](_0x14e3ff['tScale'])),_0xa8823a){for(let _0x3a294b=-0xd24+0x13c*-0x1e+-0x3dc*-0xd;_0x3a294b<_0xa8823a['length'];++_0x3a294b)_0xa8823a[_0x3a294b]=_0x3a294b;}_0xaa6fc3&&_0x14e3ff['timeOption']&&_0xaa6fc3['set'](_0x14e3ff['timeOption']),_0x22b09f(),_0x2aaa5c=!(0xb4*0x1+-0x1395*-0x1+-0x1449),_0x2732b2=!(-0x2330+-0x2a*-0x15+0x1fbe),_0x4acfce();break;case'setTime':_0xa79419=_0x14e3ff['time'],_0x4acfce();break;case'setUseTemp'+'oralSort':_0x902a3a=_0x14e3ff['useTempora'+'lSort'];break;case'setUseDyna'+'micSort':_0x2fdefa=_0x14e3ff['useDynamic'+'Sort'];break;case'sort':if(!_0x359de9)return;_0x359de9[0x150a+-0x1*-0x2592+0x1*-0x3a9c]=_0x14e3ff['cameraPosi'+'tion']['x'],_0x359de9[-0xa*-0x319+-0x8*0x3d6+0x1*-0x49]=_0x14e3ff['cameraPosi'+'tion']['y'],_0x359de9[0x981*-0x1+-0xd3c*0x2+0x23fb]=_0x14e3ff['cameraPosi'+'tion']['z'],_0x4ef4ad[0x18*-0x14+-0x1*0x23d6+0x25b6]=_0x14e3ff['cameraDire'+'ction']['x'],_0x4ef4ad[0x10ec+-0x7*0x51a+0x11b*0x11]=_0x14e3ff['cameraDire'+'ction']['y'],_0x4ef4ad[0x9ad+-0x1*0xb2e+-0x2b*-0x9]=_0x14e3ff['cameraDire'+'ction']['z'],_0x2d3419['x']=_0x14e3ff['cameraPosi'+'tion']['x'],_0x2d3419['y']=_0x14e3ff['cameraPosi'+'tion']['y'],_0x2d3419['z']=_0x14e3ff['cameraPosi'+'tion']['z'],_0x31629c['x']=_0x14e3ff['cameraDire'+'ction']['x'],_0x31629c['y']=_0x14e3ff['cameraDire'+'ction']['y'],_0x31629c['z']=_0x14e3ff['cameraDire'+'ction']['z'],_0x4acfce();break;}};const _0x269ec9=()=>{_0x48910b=Math['max'](0x1f6c+0x1402+0x2*-0x19b2,Math['min'](0x1c9c+0x2585+-0x420d,Math['round'](Math['log2'](_0x2ef471/(0x1*-0x2429+0x207*-0x13+0x18e6*0x3))))),_0x1f2cef=(0x6a+-0x1082+0xe5*0x12)**_0x48910b+(0x1145*0x1+0x13*0x161+0x2b77*-0x1);},_0x54e34e=_0x2878d2=>{_0x10ad72=0x2b*-0xe2+0x1b*0x107+0x1*0xa39,_0x3d8317=_0x10ad72+_0x2ef471*_0x312546*(0x8b7+0x13af+-0x1c63),_0x34c34d=_0x3d8317+(0xf4*0x28+0x104+-0x26c0)*_0x312546*(0x187+0x80*0x8+-0x585),_0x201f32=_0x34c34d+_0x2ef471*_0x2bbb36,_0x4f808e=_0x201f32+(0xdf*0x1a+-0x25*-0xb8+-0x313b)*_0x312546,_0x2df1dd=_0x4f808e+(-0xb5f*0x1+0x59d+-0x5c5*-0x1)*_0x312546,_0x1eb12e=_0x2df1dd+(0x131d+-0x1c9e+0x57*0x1c)*_0x312546,_0x54941a=_0x1eb12e+(0x23*-0x7+0xb1d*0x1+-0xa25)*_0x312546,_0x33da8b=_0x54941a+_0x2ef471*_0x2bbb36,_0x63194b=new Float32Array(_0x2878d2,_0x10ad72,_0x2ef471*(-0x16*-0x2f+-0xc07*0x2+0x6ad*0x3)),_0xaa6fc3=new Float32Array(_0x2878d2,_0x3d8317,0xc47+0x1bf9+0x3*-0xd28),_0xa8823a=new Uint32Array(_0x2878d2,_0x34c34d,_0x2ef471),_0x359de9=new Float32Array(_0x2878d2,_0x201f32,0x934*0x4+-0x33b*-0xa+-0x451b*0x1),_0x4ef4ad=new Float32Array(_0x2878d2,_0x4f808e,-0x1df7+-0x2620+-0x17b*-0x2e),_0xc285ac&&(_0x583d87=_0x33da8b+_0x1f2cef*_0x2bbb36,_0x1c0e3e=_0x583d87+_0x2ef471*_0x312546,_0x2b247c=_0x1c0e3e+_0x2ef471*_0x312546,_0x1b983b=_0x2b247c+_0x2ef471*(0x91*0xb+-0x24f4+-0x7af*-0x4)*_0x312546,_0x10d80b=new Float32Array(_0x2878d2,_0x583d87,_0x2ef471),_0xfc8b52=new Float32Array(_0x2878d2,_0x1c0e3e,_0x2ef471),_0x5bf31d=new Float32Array(_0x2878d2,_0x2b247c,_0x2ef471*(-0x176*0x19+-0xd6+0x255f)),_0x17aada=new Uint32Array(_0x2878d2,_0x1b983b,_0x2ef471));},_0x526856=async _0x36d28c=>{_0x387e21=0x2404+-0x1620+0x4a1*-0x3;const _0x2758ce={'env':{'memory':new WebAssembly['Memory']({'initial':_0x387e21}),'pthread_self':function(){return-0xe*-0x26+0x5fc+-0x810;},'emscripten_builtin_memalign':function(){return 0xd0*0x1e+-0x2196+-0x936*-0x1;},'loggerVec3':(_0x309122,_0x439405,_0x26b574,_0x5c6a01)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x309122+']\x200:'+_0x439405+'\x201:'+_0x26b574+'\x202:'+_0x5c6a01);},'loggerFloat':(_0x10dc8a,_0x204924)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0x10dc8a+']\x20a:'+_0x204924);},'loggerValue':(_0xe17aa8,_0x2d85f2,_0x2f7bcf,_0x12a0f6,_0x534671)=>{console['log']('C++\x20logger'+'Value\x20['+_0xe17aa8+']\x20minDist:'+_0x2d85f2+'\x20maxDist:'+_0x2f7bcf+'\x20range:'+_0x12a0f6+'\x20divider:'+_0x534671);},'loggerCamera':(_0x4709df,_0x2cad68,_0x4f8dc9,_0x50cdcf,_0x3d128a,_0x2efddc,_0x75dfb2)=>{console['log']('C++\x20logger'+'Camera\x20['+_0x4709df+']\x20x:'+_0x2cad68+'\x20y:'+_0x4f8dc9+'\x20z:'+_0x50cdcf+'\x20dx:'+_0x3d128a+'\x20dy:'+_0x2efddc+'\x20dz:'+_0x75dfb2);},'loggerBound':(_0x23775b,_0x41d2a6,_0x2f14fb,_0x2571a1,_0x57640f,_0x2efe12)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x23775b+'\x20minY:'+_0x41d2a6+'\x20minZ:'+_0x2f14fb+'\x20maxX:'+_0x2571a1+'\x20maxY:'+_0x57640f+'\x20maxZ:'+_0x2efe12);},'loggerDebug':_0xfae91=>{console['log']('C++\x20logger'+'Debug\x20['+_0xfae91+']');}}};try{const _0x5b0e15=await(await fetch(_0x36d28c))['arrayBuffe'+'r']();return _0x46d6f5=(await WebAssembly['instantiat'+'e'](_0x5b0e15,_0x2758ce))['instance'],_0xe6030c=_0x2758ce['env']['memory'],_0x46d6f5;}catch(_0x47abd4){throw console['error']('WASM'+':',_0x47abd4),_0x47abd4;}},_0xd45f57=_0x32d73c=>{if(_0x32d73c<=-0x1710+0x3*-0x2f3+0x1fe9)return-0xabb+0x27*0xef+-0x3*0x88f;let _0x5098f9=_0x32d73c*_0x312546*(-0x560+0x2*-0xfd4+-0x6d*-0x57);_0x5098f9+=_0x32d73c*_0x2bbb36,_0x5098f9+=(0x8e5+-0x1504+0x1*0xc22)*_0x312546,_0x5098f9+=(-0x1*0x23e5+0x39a*0x9+0x37e)*_0x312546,_0x5098f9+=(-0x31*-0xc7+0x1d86+-0x439a)*_0x312546,_0x5098f9+=(-0x2c0+0x2533+0x1d0*-0x13)*_0x312546,_0x5098f9+=_0x32d73c*_0x312546,_0x5098f9+=_0x1f2cef*_0x2bbb36,_0x5098f9+=(-0x2412+0x1fd3+0x4a3*0x1)*_0x312546*(-0x4a2*-0x5+-0x29f*0xc+0x84c),_0x5098f9+=_0x32d73c*_0x2bbb36,_0xc285ac&&(_0x5098f9+=_0x32d73c*_0x312546,_0x5098f9+=_0x32d73c*_0x312546,_0x5098f9+=_0x32d73c*_0x312546*(-0x52*0x17+0x1037*-0x2+0x27cf));const _0x3a3a98=(-0x1*-0x11a1+-0xa6d+-0x1bd*0x4)*(-0x34c+-0x13d*0x1+0x889);return Math['ceil'](_0x5098f9/_0x3a3a98);},_0x1d42fa=_0x7de314=>{const _0x500c3f=_0xd45f57(_0x7de314);return _0x500c3f>_0x387e21?(_0xe6030c['grow'](_0x500c3f-_0x387e21),_0x387e21=_0x500c3f):_0xe6030c['grow'](-0x1161*-0x1+0x19*-0x70+-0x671),_0xe6030c['buffer'];},_0x22b09f=()=>{if(!_0x46d6f5)return;const {calcAABB:_0x2bd09d}=_0x46d6f5['exports'];_0x2bd09d(_0x10ad72,_0x2df1dd,_0x1eb12e,_0x2ef471);},_0x4acfce=()=>{_0x5d8786&&clearTimeout(_0x5d8786),_0x5d8786=setTimeout(()=>{_0x5d8786=null,_0x81fd22();},-0xd*0x1bd+0x1dc5+-0x72c);},_0x81fd22=()=>{if(!_0x46d6f5||!_0x2aaa5c||_0xa8823a['length']!==_0x2ef471||_0x34c34d===null||_0x10ad72===null||_0x201f32===null||_0x4f808e===null||_0x2df1dd===null||_0x1eb12e===null)return;const _0x22077b=_0x359de9[-0x2079+-0x28f*-0xf+-0x5e8],_0x45e7ec=_0x359de9[0x1*0x8ad+0x1b8*-0x8+-0x5*-0x104],_0x401b8f=_0x359de9[-0x6*0x327+0x189c+-0x5b0],_0x51cf41=_0x4ef4ad[0x396+0x1c51+-0x1fe7*0x1],_0x579562=_0x4ef4ad[-0x1dd*0xb+-0x67c+0x1afc],_0x35f513=_0x4ef4ad[0x15e+0x47*0x37+-0x109d],_0x126665=0x279*0x2+-0xd1*0x18+-0x32*-0x4b+0.001;if(!_0x2732b2&&Math['abs'](_0x22077b-_0x28448f['x'])<_0x126665&&Math['abs'](_0x45e7ec-_0x28448f['y'])<_0x126665&&Math['abs'](_0x401b8f-_0x28448f['z'])<_0x126665&&Math['abs'](_0x51cf41-_0x468c10['x'])<_0x126665&&Math['abs'](_0x579562-_0x468c10['y'])<_0x126665&&Math['abs'](_0x35f513-_0x468c10['z'])<_0x126665&&Math['abs'](_0xa79419-_0x2ab841)<0x630+-0x76f+0x13f+0.01)return;if(_0x2a92a0){_0x1ceed8=!(0x1fd4+0xae6+-0x2aba);return;}_0x2a92a0=!(-0x1d*-0xb3+0x21e0+-0x3627),_0x2732b2=!(-0x1941+-0x2292+0x3bd4),_0x2ab841=_0xa79419,_0x28448f['x']=_0x22077b,_0x28448f['y']=_0x45e7ec,_0x28448f['z']=_0x401b8f,_0x468c10['x']=_0x51cf41,_0x468c10['y']=_0x579562,_0x468c10['z']=_0x35f513,_0x1ceed8=!(-0x5*-0x6fa+-0x2563+-0x282*-0x1);const {sortIndexes:_0x47536c}=_0x46d6f5['exports'];try{const _0x59fdde=_0x47536c(_0x34c34d,_0x10ad72,_0x2b247c,_0x583d87,_0x1c0e3e,_0x201f32,_0x4f808e,_0x2df1dd,_0x1eb12e,_0x54941a,_0x33da8b,_0xa79419||0x2*0x8db+-0x1*0xbf+-0x10f7,_0x902a3a,_0x2fdefa,_0xc285ac,_0x2ef471,_0x1f2cef,_0x48910b,_0x3d8317,_0x1b983b),_0x135c05=new Uint32Array(_0xa8823a);if(_0x59fdde===0xf0c*0x1+-0x23f9+0x14ed*0x1){debugger;console['log']('____\x20ENGIN'+'E','Indexes\x20co'+'unt\x20===\x20',_0x59fdde);}const _0x2048d8=_0x2ef471!==_0x52a916||_0x407df2!==_0x1e28d6;self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x59fdde,'order':_0x135c05,'isNewOrder':_0x2048d8},[_0x135c05['buffer']]),_0x52a916=_0x2ef471,_0x407df2=_0x1e28d6;}catch(_0xffcd61){console['error'](':',_0xffcd61),self['postMessag'+'e']({'type':'error','error':_0xffcd61['message']});}_0x2a92a0=!(0x1081+0xb*0x132+-0x1da6),_0x1ceed8&&_0x4acfce();};}class yC extends me{constructor(){super(),h(this,'worker',null),h(this,'numSplats',0x1082+0x1ffd+-0x307f),h(this,'is4d',!(0x8*0x3d1+-0x1*0x1d14+-0x3*0x7c)),h(this,'sortStartT'+'ime',-0x114e+-0x24d*0x3+0x1835),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'data',{}),(this['orderTextu'+'re']=null,this['backOrderT'+'exture']=null,this['worker']=null,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+SC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x1f1f01=>{var _0x4c2d7a;if(!this['worker'])return;const {data:_0x1fc461}=_0x1f1f01;switch(_0x1fc461['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':_0x1fc461['order']&&(_0x1fc461['isNewOrder']&&(this['orderTextu'+'re']=this['backOrderT'+'exture']),(_0x4c2d7a=this['orderTextu'+'re'])==null||_0x4c2d7a['write'](0xeff+-0x105f+0xb0*0x2,-0x1ded+-0x636+0x2423,this['orderTextu'+'re']['width'],this['orderTextu'+'re']['height']-(-0x2273*-0x1+0x8e7*0x1+0x1*-0x2b59),_0x1fc461['order']));let _0x119414=-0x2d5*-0x2+0x2ab*-0x3+-0x1*-0x257;this['sortStartT'+'ime']!==-0x23ff+0x260*-0x5+0x2fdf&&(_0x119414=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x1f1f01['data']['count'],_0x119414,_0x1fc461['isNewOrder']),this['sortStartT'+'ime']=0x2*0x6f1+0x1*-0x14e3+0xb*0xa3;break;case'error':console['error']('Worker:',_0x1fc461['error']),this['fire']('error',_0x1fc461['error']);break;}},this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/sorter-t'+'railing.wa'+'sm'});}['initData'](_0x57cc87,_0x7273fe,_0x3af303,_0x1d3ce8,_0xf2e68f,_0x4e9084,_0x4bd1ae,_0xf5b88){var _0x4c184a;this['is4d']=_0xf5b88,this['numSplats']=_0x7273fe['length']/(-0x3*0x9e5+-0x146*0x8+0x27e2),(!_0x4bd1ae||_0x4bd1ae['length']===-0x1*0x71+-0x1006+0x1077)&&(_0x4bd1ae=[0x9*-0xc6+0x240f+-0x1d19,-0x1d2*0x7+0x221+-0x1*-0xad9]),this['orderTextu'+'re']||(this['orderTextu'+'re']=_0x57cc87),this['backOrderT'+'exture']=_0x57cc87;const _0x337a23=new Date()['getTime']();(_0x4c184a=this['worker'])==null||_0x4c184a['postMessag'+'e']({'type':'initData','centers':_0x7273fe,'muT':_0x3af303,'tScale':_0x1d3ce8,'motion':_0xf2e68f,'timeIndex':_0x4e9084,'timeOption':_0x4bd1ae,'is4d':_0xf5b88,'id':_0x337a23});}['setCamera'](_0x4a7043,_0x38c78e){this['worker']&&(!_0x4a7043||!_0x38c78e||(this['data']['cameraPosi'+'tion']={'x':_0x4a7043['x'],'y':_0x4a7043['y'],'z':_0x4a7043['z']},this['data']['cameraDire'+'ction']={'x':_0x38c78e['x'],'y':_0x38c78e['y'],'z':_0x38c78e['z']},this['sortStartT'+'ime']===-0x2f*0xa4+0x40f+0x201*0xd&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x4a7043['x'],'y':_0x4a7043['y'],'z':_0x4a7043['z']},'cameraDirection':{'x':_0x38c78e['x'],'y':_0x38c78e['y'],'z':_0x38c78e['z']}})));}['setCurrent'+'Time'](_0x303f49){this['worker']&&(this['data']['time']=_0x303f49,this['sortStartT'+'ime']===-0x8c3*-0x3+0x1*-0x1945+0x82*-0x2&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x303f49}));}['setUseTemp'+'oralSort'](_0xfd9422){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0xfd9422});}['setUseDyna'+'micSort'](_0x2e1952){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseDyna'+'micSort','useDynamicSort':_0x2e1952});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const vC=new te(),Va=new D(),Ga=new D(),Sc=[-0x1*0x1e9e+0x2f*0xc4+-0x55e,0x1dcd+-0x1*0x51d+-0x18b0];class xC{constructor(_0x357a05,_0x5c7647={}){h(this,'resource'),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'_material'),h(this,'meshInstan'+'ce'),h(this,'options',{}),h(this,'sorter',null),h(this,'time',0x1c*0xa4+-0x8*-0x1d+0x25b*-0x8),h(this,'lastCamera'+'Position',new D()),h(this,'lastCamera'+'Direction',new D()),h(this,'resolveSH',null),h(this,'cameras',[]),h(this,'forceUpDat'+'eSorterTim'+'e',(_0x29b15b,_0x338c3c=void(-0x3*0x5f7+-0x2324+0x3509))=>{(_0x338c3c||_0x338c3c===-0x2e9*0xc+0x1e42+0x4aa)&&(this['material']['setParamet'+'er']('uTime',_0x338c3c),this['updateTime'](_0x338c3c)),this['sort'](_0x29b15b);}),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x357a05['numSplats']),this['resource']=_0x357a05,this['orderTextu'+'re']=this['resource']['createText'+'ure']('splatOrder',Ki,this['resource']['evalTextur'+'eSize'](this['resource']['numSplats'])),this['backOrderT'+'exture']=null,_0x5c7647['material']?(this['_material']=_0x5c7647['material'],this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])):(this['_material']=new Xn({'uniqueName':'SplatMater'+'ial','vertexGLSL':'#include\x20\x22'+'gsplatVS\x22','fragmentGLSL':'#include\x20\x22'+'gsplatPS\x22','vertexWGSL':'#include\x20\x22'+'gsplatVS\x22','fragmentWGSL':'#include\x20\x22'+'gsplatPS\x22','attributes':{'vertex_position':Me,'vertex_id_attrib':ph}}),this['configureM'+'aterial'](this['_material']),this['_material']['update']()),this['meshInstan'+'ce']=new He(this['resource']['mesh'],this['_material']),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(0x90*-0x2+-0x295*-0x4+-0x934)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=0x176f+0x269b*-0x1+0x1*0xf2c,this['sorter']=new yC(),this['sorter']['on']('initialize'+'d',()=>{var _0x5c3971,_0x46c01c,_0x5fa4f2,_0x267574,_0x495137,_0x32ff1d,_0xa489d,_0x2817b3,_0x2b222f,_0x589cc3,_0x28ff99;const _0x50c9c9=new Float32Array(this['resource']['centers']['buffer']['slice']()),_0x1b567e=new Float32Array(((_0x46c01c=(_0x5c3971=this['resource']['muT'])==null?void(0x84a+-0x1bea+-0x1*-0x13a0):_0x5c3971['buffer'])==null?void(0x1b72*-0x1+0x1a4f+0x123):_0x46c01c['slice']())??new Float32Array()),_0x71357a=new Float32Array(((_0x267574=(_0x5fa4f2=this['resource']['tScale'])==null?void(-0x15*0x92+0x79b+0x45f):_0x5fa4f2['buffer'])==null?void(0x1f71*0x1+-0x42a+-0x1b47):_0x267574['slice']())??new Float32Array()),_0x50b78e=new Float32Array(((_0x32ff1d=(_0x495137=this['resource']['motion'])==null?void(-0x3f4*-0x5+-0xdb9+-0x60b):_0x495137['buffer'])==null?void(0x2431+0x1*0x90f+0x2*-0x16a0):_0x32ff1d['slice']())??new Float32Array()),_0xf8725=new Float32Array(((_0x2817b3=(_0xa489d=this['resource']['timeIndex'])==null?void(0x2709+0x1*-0x1c1+-0x12a4*0x2):_0xa489d['buffer'])==null?void(0x51*-0x41+-0x2104+0x3595):_0x2817b3['slice']())??new Float32Array(-0xafc+0x1dee+-0x12f2)),_0x250f33=new Float32Array(((_0x589cc3=(_0x2b222f=this['resource']['timeOption'])==null?void(0xe*0x262+0x32b+-0x40f*0x9):_0x2b222f['buffer'])==null?void(0xa9*0x21+-0x2f*-0xb0+-0x3619):_0x589cc3['slice']())??new Float32Array());(_0x28ff99=this['sorter'])==null||_0x28ff99['initData'](this['orderTextu'+'re'],_0x50c9c9,_0x1b567e,_0x71357a,_0x50b78e,_0xf8725,_0x250f33,this['resource']['is4D']);}),this['sorter']['on']('updated',async(_0x23154e,_0x81fd4d,_0x22b9e1)=>{var _0x25471d;this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x23154e/this['resource']['instanceSi'+'ze']),_0x22b9e1&&this['backOrderT'+'exture']&&(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatInst'+'ance\x20updat'+'ed'),[this['orderTextu'+'re'],this['backOrderT'+'exture']]=[this['backOrderT'+'exture'],this['orderTextu'+'re']],await this['resource']['updateText'+'ure'](),this['resource']['configureM'+'aterial'](this['_material']),this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])),_0x22b9e1&&((_0x25471d=this['resource'])==null||_0x25471d['fireAssets'+'ManagerTim'+'eIndex']()),this['material']['setParamet'+'er']('numSplats',_0x23154e);}),this['setHighQua'+'litySH'](_0x5c7647['highQualit'+'ySH']??!(-0x1*0x14ad+-0x1*-0x1ce5+-0x837)));}async['updateInst'+'anceData'](_0x3ec659){var _0x1c38be,_0x35a9fc;console['log']('____\x20ENGIN'+'E\x20IVAN','updateInst'+'anceData\x20A'+'SSETS\x20GSpl'+'atInstance',_0x3ec659['numSplats']),this['resource']=_0x3ec659;const _0x5e67c7=this['resource']['evalTextur'+'eSize'](_0x3ec659['centers']['length']/(0x985*-0x4+-0x228*0x8+0x1*0x3757));return(_0x1c38be=this['backOrderT'+'exture'])==null||_0x1c38be['destroy'](),this['backOrderT'+'exture']=this['resource']['createText'+'ure']('splatOrder'+'2',Ki,_0x5e67c7),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(-0x19*0x153+-0x1758+0x3873*0x1)),(_0x35a9fc=this['sorter'])==null||_0x35a9fc['initData'](this['backOrderT'+'exture'],_0x3ec659['centers'],_0x3ec659['muT'],_0x3ec659['tScale'],_0x3ec659['motion'],_0x3ec659['timeIndex'],_0x3ec659['timeOption'],_0x3ec659['is4D']),new Promise(_0x175375=>{var _0x50fead;const _0x423f11=(_0x53f746,_0x4889f9,_0x42db41)=>{var _0x1ee985;_0x42db41&&((_0x1ee985=this['sorter'])==null||_0x1ee985['off']('updated',_0x423f11),_0x175375(!(-0x1dab+-0x4*0x59b+0x3417)));};(_0x50fead=this['sorter'])==null||_0x50fead['on']('updated',_0x423f11);});}['destroy'](){var _0x43eec6,_0x93a7c0,_0xa509c3,_0x2406b1,_0x144bf3,_0x3b982c;(_0x43eec6=this['resolveSH'])==null||_0x43eec6['destroy'](),(_0x93a7c0=this['material'])==null||_0x93a7c0['destroy'](),(_0xa509c3=this['meshInstan'+'ce'])==null||_0xa509c3['destroy'](),(_0x2406b1=this['sorter'])==null||_0x2406b1['destroy'](),(_0x144bf3=this['orderTextu'+'re'])==null||_0x144bf3['destroy'](),(_0x3b982c=this['backOrderT'+'exture'])==null||_0x3b982c['destroy']();}set['material'](_0x1479bc){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.set\x20'+'material'),this['_material']!==_0x1479bc&&(this['_material']=_0x1479bc,this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x1479bc));}get['material'](){return this['_material'];}['configureM'+'aterial'](_0x5ac8c7,_0x139955={}){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.conf'+'igureMater'+'ial'),this['resource']['configureM'+'aterial'](_0x5ac8c7),_0x5ac8c7['setParamet'+'er']('numSplats',0xd8d+0x13*-0xed+-0x5e*-0xb),_0x5ac8c7['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),_0x5ac8c7['setParamet'+'er']('alphaClip',0x1963+0x3*-0x9ef+-0x5*-0xe2+0.3),_0x5ac8c7['setDefine']('DITHER_'+(_0x139955['dither']?'BLUENOISE':'NONE'),''),_0x5ac8c7['cull']=bt,_0x5ac8c7['blendType']=_0x139955['dither']?Cs:Zs,_0x5ac8c7['depthWrite']=!!_0x139955['dither'];}['updateView'+'port'](_0x1bf055){var _0x2a8fd4;const _0x599e3c=_0x1bf055==null?void(0x12f*0x19+-0x212c+0x7*0x83):_0x1bf055['camera'],_0x3f8b54=_0x599e3c==null?void(-0x525+0x1f45+-0x1a20):_0x599e3c['renderTarg'+'et'],{width:_0x23ed29,height:_0x482c9e}=_0x3f8b54??this['resource']['device'];Sc[0x16f9+0xc*-0xa4+-0xf49]=_0x23ed29,Sc[-0x21e7+0xb6d+-0x1*-0x167b]=_0x482c9e;const _0x3cf828=(_0x2a8fd4=_0x599e3c==null?void(-0x71*-0x2d+-0x11be+-0xb5*0x3):_0x599e3c['camera'])==null?void(-0xdaf*-0x1+-0x12fb+0x54c):_0x2a8fd4['xr'];_0x3cf828!=null&&_0x3cf828['active']&&_0x3cf828['views']['list']['length']===0x1bb+-0xc08+-0x179*-0x7&&(Sc[-0x1fb+-0x25*-0xf1+-0x20da]*=-0x3b7*-0x2+-0xc*-0x131+-0x15ba+0.5),this['material']['setParamet'+'er']('viewport',Sc);}['sort'](_0x25e019){if(this['sorter']){const _0x258a1b=_0x25e019['getWorldTr'+'ansform']();_0x258a1b['getTransla'+'tion'](Va),_0x258a1b['getZ'](Ga);const _0x293402=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x3270d8=vC['invert'](_0x293402);_0x3270d8['transformP'+'oint'](Va,Va),_0x3270d8['transformV'+'ector'](Ga,Ga),(!Va['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!Ga['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](Va),this['lastCamera'+'Direction']['copy'](Ga),this['sorter']['setCamera'](Va,Ga)),this['sorter']['setCurrent'+'Time'](this['time']);}this['updateView'+'port'](_0x25e019);}['update'](){var _0x5ba799;if(this['cameras']['length']>0x1*0x111b+0xc*0x188+0x237b*-0x1){const _0x39b900=this['cameras'][-0x1*-0x228d+0xa9b*-0x2+0x5*-0x2ab];this['sort'](_0x39b900['_node']),(_0x5ba799=this['resolveSH'])==null||_0x5ba799['render'](_0x39b900['_node'],this['meshInstan'+'ce']['node']['getWorldTr'+'ansform']()),this['cameras']['length']=-0x1959+0x277*0xf+-0xba0;}}['setHighQua'+'litySH'](_0x541dd8){const {resource:_0x7897da}=this,{gsplatData:_0x22ed45}=_0x7897da;_0x22ed45 instanceof gC&&_0x22ed45['shBands']>-0x235d+0x217+0x2146&&_0x541dd8===!!this['resolveSH']&&(this['resolveSH']?(this['resolveSH']['destroy'](),this['resolveSH']=null):this['resolveSH']=new fC(_0x7897da['device'],this));}['updateTime'](_0xc98f7e){this['time']=_0xc98f7e;}}class Rv{constructor(_0xa885c2,_0x5d1087){h(this,'sceneInfo',{}),h(this,'isDestroye'+'d',!(-0x2*-0xec2+0x2e0*0xa+-0x3a44)),h(this,'device'),h(this,'gsplatData'),h(this,'centers'),h(this,'aabb'),h(this,'mesh'),h(this,'instanceIn'+'dices'),h(this,'gsplatInst'+'ance'),(this['device']=_0xa885c2,this['gsplatData']=_0x5d1087,this['isDestroye'+'d']=!(-0x161*-0x1c+0x18f0+-0x3f8b));const _0x36acc3=0x1*-0x785+-0x33b+0xb40,_0x3034bd=Math['ceil'](_0x5d1087['numSplats']/_0x36acc3)*_0x36acc3/_0x36acc3,_0x27d07f=new Uint32Array(_0x3034bd);for(let _0x39e271=-0xf*0x199+0x343+0x14b4;_0x39e271<_0x3034bd;++_0x39e271)_0x27d07f[_0x39e271]=_0x39e271*_0x36acc3;const _0x23ce0a=new kt(_0xa885c2,[{'semantic':ph,'components':0x1,'type':el,'asInt':!(-0x1cdb+0x7ec+0x14ef)}]),_0x7a377a=new Float32Array((0x16b8+-0xf84+-0x728)*_0x36acc3),_0xa654bc=new Uint32Array((0x2*0x819+-0x1e37+0xe0b)*_0x36acc3);for(let _0x5c17e5=0x3c8+-0x26c*-0xa+0x2*-0xe00;_0x5c17e5<_0x36acc3;++_0x5c17e5){_0x7a377a['set']([-(-0x1*0x1a8c+0x1258+0x835),-(0xa28+-0x1a67+0xa0*0x1a),_0x5c17e5,0x1aac+-0x14f0+-0x5bb,-(0x1*-0x13df+-0x1*0x536+0xa9*0x26),_0x5c17e5,-0x4f*-0x1e+0xd33*-0x2+0x1125,-0x9*0xdf+-0x24af+0x2c87,_0x5c17e5,-(-0x7*0x3f+0xe56+-0x3*0x434),0x3*-0xa05+-0x25c2+-0x43d2*-0x1,_0x5c17e5],_0x5c17e5*(0x13d5+-0x1*0x1ec+-0x1*0x11dd));const _0x39e2d8=_0x5c17e5*(-0xd*0x21+-0x1*-0x2c9+0x5*-0x38);_0xa654bc['set']([0x5*-0x437+0x2*-0x16d+0x17ed+_0x39e2d8,0x320+-0x2034+-0x1*-0x1d15+_0x39e2d8,-0x23ed+-0x265f+0x4a4e+_0x39e2d8,-0x1f05*-0x1+0x517+0x1*-0x241c+_0x39e2d8,0x43*-0x25+0x236+-0x1*-0x77b+_0x39e2d8,-0x2*-0x104f+0x1*-0xb6c+0x1ed*-0xb+_0x39e2d8],_0x5c17e5*(-0x19a5+-0x1222+-0x1*-0x2bcd));}this['mesh']=new Ge(_0xa885c2),this['mesh']['setPositio'+'ns'](_0x7a377a,0x218e+0xb71*0x2+-0x386d),this['mesh']['setIndices'](_0xa654bc),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),this['instanceIn'+'dices']=new Is(_0xa885c2,_0x23ce0a,_0x3034bd,{'usage':ms,'data':_0x27d07f['buffer']});}['updateData'](){var _0x5f2ee4;const _0xecf20b=this['gsplatData'];if(!_0xecf20b)return;const _0x53e2e2=0x6d*-0x54+-0x7fb+-0x2c3f*-0x1,_0x4d7da2=Math['ceil'](_0xecf20b['numSplats']/_0x53e2e2)*_0x53e2e2/_0x53e2e2,_0x1b31f1=new Uint32Array(_0x4d7da2);for(let _0x3dd4d4=-0x19fd*0x1+0x102*0x10+-0x19*-0x65;_0x3dd4d4<_0x4d7da2;++_0x3dd4d4)_0x1b31f1[_0x3dd4d4]=_0x3dd4d4*_0x53e2e2;const _0x389885=new kt(this['device'],[{'semantic':ph,'components':0x1,'type':el,'asInt':!(0x423*0x6+-0x11*0xc9+-0xb79*0x1)}]),_0x1eb7c5=new Float32Array((0x23e5+0xaf5+-0x2ece*0x1)*_0x53e2e2),_0x4f1e5a=new Uint32Array((0x13*-0x13d+-0x173b+-0x8*-0x5d9)*_0x53e2e2);for(let _0x3789d3=0xdd*0x17+-0x1*0x10bb+-0x320;_0x3789d3<_0x53e2e2;++_0x3789d3){_0x1eb7c5['set']([-(0x3aa+-0x2070+0x1cc7),-(0x5*0x42c+0x5*-0x72b+0xefc),_0x3789d3,0x1b1*-0x2+0x47f*-0x5+0x19de,-(0x1015+-0x41b*-0x3+-0x1c65),_0x3789d3,-0x1c1d*-0x1+0x1fad+-0xbf5*0x5,0x22f6+-0x148*0x3+-0x213*0xf,_0x3789d3,-(-0x1*0xbc4+-0x1*-0x26d2+-0x1b0d*0x1),0xaa*0x2b+0x49c+-0x2129,_0x3789d3],_0x3789d3*(0xa6f*0x1+0x5*0x593+-0x2642));const _0xfdac50=_0x3789d3*(-0x2467+0x1319*-0x1+0x3784*0x1);_0x4f1e5a['set']([0x2a*0x56+0x22ee+-0x310a+_0xfdac50,-0x697+0x16*0x43+0x6b*0x2+_0xfdac50,0x5*-0x6e3+0xb30+0x1741+_0xfdac50,0x35f+0xf5a+-0x12b9+_0xfdac50,0x1*-0x1b5a+0xb*-0x37+0x1db9+_0xfdac50,0x9f*-0x23+-0xb9e*0x1+0x215e*0x1+_0xfdac50],_0x3789d3*(0x249+0xa*-0x7+-0x1fd));}this['mesh']['setPositio'+'ns'](_0x1eb7c5,0x5*-0x503+-0x2283+0x3b95),this['mesh']['setIndices'](_0x4f1e5a),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),(_0x5f2ee4=this['instanceIn'+'dices'])==null||_0x5f2ee4['destroy'](),this['instanceIn'+'dices']=new Is(this['device'],_0x389885,_0x4d7da2,{'usage':ms,'data':_0x1b31f1['buffer']});}['updateText'+'ure'](){}['destroy'](){var _0x13f0bd,_0x1b1f20,_0x5612d1,_0x1bd44f;(_0x13f0bd=this['mesh'])==null||_0x13f0bd['destroy'](),(_0x1b1f20=this['instanceIn'+'dices'])==null||_0x1b1f20['destroy'](),(_0x5612d1=this['gsplatData'])==null||_0x5612d1['destroy'](),this['gsplatData']=null,(_0x1bd44f=this['gsplatInst'+'ance'])==null||_0x1bd44f['destroy'](),this['gsplatInst'+'ance']=void(0x829+0x1*0x214c+-0x1*0x2975),this['isDestroye'+'d']=!(-0xf*0xdf+-0x1c0e+0x21*0x13f),this['mesh']=null;}get['instanceSi'+'ze'](){return 0x1217+0xe7*0x2+-0x5*0x3e1;}get['numSplats'](){var _0x24a3ee;return(_0x24a3ee=this['gsplatData'])==null?void(0xa5a+0xa7*0x23+-0x212f):_0x24a3ee['numSplats'];}['setSceneIn'+'fo'](_0x2e3455){}['configureM'+'aterial'](_0x1f2ab5){}['evalTextur'+'eSize'](_0x27aa59){return J['ZERO'];}['appendGSpl'+'atResource'](_0x260ee4,_0x411f22,_0x331990,_0x37abb1,_0x4c4e00){}['fireAssets'+'ManagerTim'+'eIndex'](){}['createText'+'ure'](_0x1cd1e0,_0x1f99a2,_0x491543,_0x592a2d){return new _e(this['device'],{'name':_0x1cd1e0,'width':_0x491543['x'],'height':_0x491543['y'],'format':_0x1f99a2,'cubemap':!(0x28+-0x2029*0x1+-0x1e2*-0x11),'mipmaps':!(0xd00+-0xd28+0x29),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,..._0x592a2d?{'levels':[_0x592a2d]}:{}});}['instantiat'+'e'](){w['removed']('GSplatReso'+'urce.insta'+'ntiate\x20is\x20'+'removed.\x20U'+'se\x20gsplat\x20'+'component\x20'+'instead');}['createInst'+'ance'](_0x2aadab,_0x39c4ee){return this['gsplatInst'+'ance']=new xC(_0x2aadab,_0x39c4ee),this['gsplatInst'+'ance'];}}async function TC(){const _0x40a573=new Float32Array(0x174+-0x155*0x11+0x1532),_0x3c115e=new Int32Array(_0x40a573['buffer']);let _0x4e284e=null,_0x6507f7=null,_0x10e4ca=null,_0x436d12=null,_0x4b890a=null,_0x15323a=null,_0x4591f0=null,_0x388421=null;self['onmessage']=async _0x5e67ec=>{const {data:_0x2d8e71}=_0x5e67ec;switch(_0x2d8e71['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0x12c2c2(_0x2d8e71['numSplats'],_0x2d8e71['shBands'],_0x2d8e71['SHData']);break;case'updateColo'+'rData':_0x13f4b5(_0x2d8e71['numSplats'],_0x2d8e71['cr'],_0x2d8e71['cg'],_0x2d8e71['cb'],_0x2d8e71['ca']);break;case'updateTran'+'sformData':_0x2569fa(_0x2d8e71['numSplats'],_0x2d8e71['is4D'],_0x2d8e71['x'],_0x2d8e71['y'],_0x2d8e71['z'],_0x2d8e71['rx'],_0x2d8e71['ry'],_0x2d8e71['rz'],_0x2d8e71['rw'],_0x2d8e71['mx'],_0x2d8e71['my'],_0x2d8e71['mz'],_0x2d8e71['sx'],_0x2d8e71['sy'],_0x2d8e71['sz'],_0x2d8e71['muT'],_0x2d8e71['tScale']);break;case'calcAabb':_0x308672(_0x2d8e71['numSplats'],_0x2d8e71['x'],_0x2d8e71['y'],_0x2d8e71['z'],_0x2d8e71['sx'],_0x2d8e71['sy'],_0x2d8e71['sz']);break;case'destroyWor'+'ker':_0x379df1();break;}};class _0x4e10f7{constructor(_0x1232f9=0x22db+0x721+-0x14fe*0x2,_0xf35e4d=-0x691+-0x934+-0xb*-0x16f,_0x50fe54=0x25d0+0x1435+-0x3*0x1357,_0x42fce2=-0x17c+0xa00+-0x883){this['x']=_0x1232f9,this['y']=_0xf35e4d,this['z']=_0x50fe54,this['w']=_0x42fce2;}['set'](_0xd3f38f,_0x71f887,_0x363a54,_0x3c9d14){return this['x']=_0xd3f38f,this['y']=_0x71f887,this['z']=_0x363a54,this['w']=_0x3c9d14,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x23d7fd=this){let _0x1eaf8f=_0x23d7fd['length']();return _0x1eaf8f===0x47a*0x8+-0x1d6b+0x1*-0x665?(this['x']=this['y']=this['z']=-0x44*-0x1b+-0x2082+0x1956,this['w']=-0x1743+0x2275*-0x1+0x83f*0x7):(_0x1eaf8f=(-0xa86+0xa4d+-0x1*-0x3a)/_0x1eaf8f,this['x']=_0x23d7fd['x']*_0x1eaf8f,this['y']=_0x23d7fd['y']*_0x1eaf8f,this['z']=_0x23d7fd['z']*_0x1eaf8f,this['w']=_0x23d7fd['w']*_0x1eaf8f),this;}['mulScalar'](_0x531eff,_0x27303c=this){return this['x']=_0x27303c['x']*_0x531eff,this['y']=_0x27303c['y']*_0x531eff,this['z']=_0x27303c['z']*_0x531eff,this['w']=_0x27303c['w']*_0x531eff,this;}}const _0x25a15f=_0x2323d0=>{_0x40a573[-0x2+0x1f0d+-0x1f0b]=_0x2323d0;const _0x157fe0=_0x3c115e[0x120b+-0x1258*-0x1+-0x2463];let _0x3e4658=_0x157fe0>>-0x458*0x1+0x1*0x1dd7+-0x196f&-0xaa1d+-0x1*-0x1475+-0x28*-0x6f1,_0x29bd87=_0x157fe0>>0x35e*-0x2+-0x24af*0x1+0xe7d*0x3&-0x18e9+-0x445*0x5+0x3641;const _0x417549=_0x157fe0>>-0x19da+-0x20*0x9d+0x2d91&-0x1317+0x2300+-0xeea;return _0x417549<-0xbf2+0x1217+-0x5be?_0x3e4658:_0x417549>-0x1d7c+-0x508*-0x6+-0x26?(_0x3e4658|=0x6*-0x127e+0x2a*0x3bf+0x4d9e,_0x3e4658|=(_0x417549===0x76*0x1f+-0xe3c+-0x1*-0xf1?0xcfa+-0x183*-0x13+-0x29b3:-0x1*0x1552+0x911*0x1+0xc42)&&_0x157fe0&0x2a8645+-0xb04cbe+0x105c678,_0x3e4658):_0x417549<-0xc6a+-0x493+-0x61*-0x2e?(_0x29bd87|=-0x1ae0+-0x85*0x13+0x2cbf,_0x3e4658|=(_0x29bd87>>0x2*-0xa99+-0x50*0x34+0x12f2*0x2-_0x417549)+(_0x29bd87>>-0x19d2+-0x2*-0x2b7+-0x1*-0x14d5-_0x417549&0x305*0xb+-0x2167+-0x1*-0x31),_0x3e4658):(_0x3e4658|=_0x417549-(0x114d+0x697*-0x5+0x1016)<<-0x2217+0x3a9*0x3+0x1*0x1726|_0x29bd87>>-0x885*-0x3+0x43d+0x107*-0x1d,_0x3e4658+=_0x29bd87&0x956+-0x270d+0x1db8,_0x3e4658);},_0x308672=(_0x5e266b,_0x40698a,_0x408e2f,_0x31243a,_0x128f10,_0x3d8b8c,_0x13e6dc)=>{let _0x4d2a5d=0x1b21+-0x1*-0xc1b+-0x273c,_0x5a1cbb=0x1fff*-0x1+-0xb0f*0x1+0x2b0e,_0x580409=0x1*-0x11ab+0xf42+0x1*0x269,_0x15426b=-0xb*-0x6e+-0x269f+0x21e5,_0x2be4ae=0x1a61+0x1354+-0x2db5*0x1,_0x94a22e=0x237c+0x501+0x1*-0x287d,_0x4673d0=!(0x7cd*-0x1+-0xb33+0x1300);const _0x37a05f=new Float32Array(-0x2*-0x12e6+-0x1d*-0x84+-0x34bd),_0x3a46f2=new Float32Array(-0x1*-0x1a5+0x1f1c+0x16*-0x17d);for(let _0x43bcb5=0x8d2*0x4+0x205f+-0x1*0x43a7;_0x43bcb5<_0x5e266b;++_0x43bcb5){const _0x4c7936=_0x40698a[_0x43bcb5],_0xae31b1=_0x408e2f[_0x43bcb5],_0x214f5=_0x31243a[_0x43bcb5],_0x44df4e=Math['max'](_0x128f10[_0x43bcb5],_0x3d8b8c[_0x43bcb5],_0x13e6dc[_0x43bcb5]);if(!isFinite(_0x4c7936)||!isFinite(_0xae31b1)||!isFinite(_0x214f5)||!isFinite(_0x44df4e))continue;const _0x33c935=(-0x44a+0x1577+-0x112b)*Math['exp'](_0x44df4e);_0x4673d0?(_0x4673d0=!(-0xc70*-0x3+0x2592+-0x1*0x4ae1),_0x4d2a5d=_0x4c7936-_0x33c935,_0x5a1cbb=_0xae31b1-_0x33c935,_0x580409=_0x214f5-_0x33c935,_0x15426b=_0x4c7936+_0x33c935,_0x2be4ae=_0xae31b1+_0x33c935,_0x94a22e=_0x214f5+_0x33c935):(_0x4d2a5d=Math['min'](_0x4d2a5d,_0x4c7936-_0x33c935),_0x5a1cbb=Math['min'](_0x5a1cbb,_0xae31b1-_0x33c935),_0x580409=Math['min'](_0x580409,_0x214f5-_0x33c935),_0x15426b=Math['max'](_0x15426b,_0x4c7936+_0x33c935),_0x2be4ae=Math['max'](_0x2be4ae,_0xae31b1+_0x33c935),_0x94a22e=Math['max'](_0x94a22e,_0x214f5+_0x33c935));}_0x4673d0||(_0x37a05f[0x52*0x1b+-0x4d2*0x3+0x174*0x4]=(_0x4d2a5d+_0x15426b)*(-0x2*0xce7+0x40*0x2f+-0x202*-0x7+0.5),_0x37a05f[-0x5b9+0x1dc*0x2+0x202]=(_0x5a1cbb+_0x2be4ae)*(0x1af*-0x10+-0x2*-0x31+0x1a8e+0.5),_0x37a05f[-0x557*-0x2+-0x46c*-0x2+-0x1384]=(_0x580409+_0x94a22e)*(-0x16c3+0x7*0xd3+-0x96*-0x1d+0.5),_0x3a46f2[-0x497*0x1+0x18f*0x4+-0x1a5]=(_0x15426b-_0x4d2a5d)*(0x1f3f+-0x2*-0xdc7+-0x3acd+0.5),_0x3a46f2[0x45d*0x8+-0xd88+-0x155f*0x1]=(_0x2be4ae-_0x5a1cbb)*(0xa7a+-0xf58+-0x59*-0xe+0.5),_0x3a46f2[-0xc*0x66+0x2*0x11a4+-0x1e7e]=(_0x94a22e-_0x580409)*(-0x3cf+0x3c4*0x6+-0x12c9+0.5)),self['postMessag'+'e']({'type':'updatedAab'+'bData','center':_0x37a05f,'halfExtents':_0x3a46f2});},_0x2569fa=(_0x482ea5,_0x3b82fc,_0x4699b0,_0x62db78,_0x1f6142,_0x256123,_0x4cfb5c,_0x473f11,_0x5708c6,_0xeb0e0b,_0x84dbc2,_0x101fbb,_0x3628c7,_0x34ff58,_0x1ff305,_0x34af0f,_0x3f7778)=>{_0x379df1(),_0x4e284e=new Float32Array(_0x482ea5*(0x1e1c+0x130b+-0xa*0x4ea)),_0x436d12=new Float32Array(_0x482ea5*(0x3*0xb2d+-0x8*0x351+0x95*-0xc)),_0x15323a=new Uint16Array(_0x482ea5*(-0x1*-0x217+0x1*-0x1679+0x1465)),_0x10e4ca=new Float32Array(_0x482ea5*(0x113f+0x5*-0x112+-0xbe2)),_0x3b82fc&&(_0x4b890a=new Float32Array(_0x482ea5*(-0x18ac+-0x1312+-0x1e7*-0x17)),_0x6507f7=new Float32Array(_0x482ea5*(-0x5*0x19f+-0x11ad+0x19cb)),_0x4591f0=new Float32Array(_0x482ea5*(-0x3*0x5a1+0x86e+0x8*0x10f)),_0x388421=new Float32Array(_0x482ea5));const _0x3a76ef=new _0x4e10f7(-0x1c37+-0xeb*-0x24+-0x4d5,-0x3b*-0x7d+-0x9d*-0xd+-0x24c8,-0xb3f+-0x25fd+0x5c*0x89,-0x2062+-0x13d*0x1d+0x444b);for(let _0x953547=0x21d1+0x1c9*0x1+-0x239a;_0x953547<_0x482ea5;_0x953547++)_0x3a76ef['set'](_0x256123[_0x953547],_0x4cfb5c[_0x953547],_0x473f11[_0x953547],_0x5708c6[_0x953547]),_0x3a76ef['normalize'](),_0x3a76ef['w']<-0x81d*-0x3+-0x1489+-0x2*0x1e7&&_0x3a76ef['mulScalar'](-(-0x805*-0x4+-0x18b0+-0x763)),_0x436d12[_0x953547*(-0x3c4+-0x268d+0x2a54)+(-0x2255+-0x6*-0x46d+0x7c7)]=_0x4699b0[_0x953547],_0x436d12[_0x953547*(-0x1a7f+0x3*0x6bb+0xe7*0x7)+(0xcfe*-0x2+-0x222a*0x1+-0x140d*-0x3)]=_0x62db78[_0x953547],_0x436d12[_0x953547*(-0x157e+-0x1*0x1fac+-0x1*-0x352d)+(-0x1775+-0x12df+0x2a56)]=_0x1f6142[_0x953547],_0x4e284e[_0x953547*(0x1d63+0x79f+-0xc55*0x3)+(0xd93+0x1*-0x1049+0x15b*0x2)]=_0x4699b0[_0x953547],_0x4e284e[_0x953547*(-0x1*-0x1ae1+-0x1*0xe94+0x2*-0x625)+(0x1765+-0x18c+0xe9*-0x18)]=_0x62db78[_0x953547],_0x4e284e[_0x953547*(0x2*0x10b1+0x26e6+-0x4845)+(0x17b3+-0xb81+-0xc30)]=_0x1f6142[_0x953547],_0x15323a[_0x953547*(-0x2*0x4ca+-0xea3+0x2*0xc1d)+(-0x49*0x3f+0xd51*0x1+0x4a6)]=_0x25a15f(Math['exp'](_0x3628c7[_0x953547])),_0x15323a[_0x953547*(-0x6f*0x4a+0x49*0xe+0x1*0x1c1b)+(-0x1cd*0x3+-0x1ff9+0x557*0x7)]=_0x25a15f(Math['exp'](_0x34ff58[_0x953547])),_0x15323a[_0x953547*(-0x90c+0x2534*0x1+-0x1c25)+(-0x1de*0xd+-0x1*0x8f5+-0x43*-0x7f)]=_0x25a15f(Math['exp'](_0x1ff305[_0x953547])),_0x10e4ca[_0x953547*(-0x295*-0x7+0xf*-0x103+0x2e3*-0x1)+(0x2*-0xf1f+0x1777+0x6c7)]=_0x3a76ef['x'],_0x10e4ca[_0x953547*(-0x12c1+-0xf47+-0xb59*-0x3)+(-0x3*-0x4fd+0x1d*0x2e+-0x142c)]=_0x3a76ef['y'],_0x10e4ca[_0x953547*(-0xb*-0x217+0x1611+-0x2d0b*0x1)+(-0xea4+-0x1f46+0x2*0x16f6)]=_0x3a76ef['z'],_0x3b82fc&&_0x4b890a&&_0x6507f7&&(_0x4b890a[_0x953547*(-0x1d18+0x4ff*0x1+0x181c)+(-0xb86+0x221f+-0x1699)]=_0xeb0e0b[_0x953547],_0x4b890a[_0x953547*(-0x1a0b+0x3ed*0x5+-0x2f*-0x23)+(0x1*-0x254b+0x1*-0x2239+0x33*0x167)]=_0x84dbc2[_0x953547],_0x4b890a[_0x953547*(-0x2046+-0xb4c+0x2b95)+(-0x1ab4+0x18a*-0x3+0x1*0x1f54)]=_0x101fbb[_0x953547],_0x4591f0[_0x953547*(0x92a+-0x4f1+-0x9a*0x7)+(-0x1*0x1b98+0x1637*-0x1+0x31cf)]=_0xeb0e0b[_0x953547],_0x4591f0[_0x953547*(-0x9ce+-0x3*0x469+-0x1*-0x170c)+(0x4e8+-0x1880+0x1399)]=_0x84dbc2[_0x953547],_0x4591f0[_0x953547*(-0x7a*0x10+0x3*-0x7cf+0x1f10)+(0x14c9+0x7e7+-0x2*0xe57)]=_0x101fbb[_0x953547],_0x388421[_0x953547]=_0x3f7778?Math['exp'](_0x3f7778[_0x953547]):-0x1577+0x1*0x14ae+0xc9,_0x6507f7[_0x953547*(-0x26f*0x10+-0x728*0x4+0x4393)+(0x1b05+0x1eee+-0x3dd*0xf)]=_0x34af0f?_0x34af0f[_0x953547]:0xca5+-0x7ce+-0x4d7,_0x6507f7[_0x953547*(-0x2190+0x34c+0x1*0x1e47)+(-0xb*-0xd5+0x20f5+0xe09*-0x3)]=_0x388421[_0x953547]);const _0x3c9931=[_0x4e284e['buffer'],_0x436d12['buffer'],_0x15323a['buffer'],_0x10e4ca['buffer']];_0x3b82fc&&_0x3c9931['push'](_0x4b890a['buffer'],_0x6507f7['buffer'],_0x4591f0['buffer'],_0x388421['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0x4e284e,'dataPosition':_0x436d12,'dataScale':_0x15323a,'dataRotation':_0x10e4ca,'dataMotion':_0x4b890a,'dataTime':_0x6507f7,'motion':_0x4591f0,'tScaleArray':_0x388421},_0x3c9931);},_0x13f4b5=(_0x305297,_0xe0f26c,_0x39b58a,_0xd972f0,_0x2dc0bd)=>{const _0x465658=new Uint16Array(_0x305297*(0x3*-0xbb9+0x2*0xf65+0x5*0xe1)),_0x3f4f90=-0x761*0x1+0xcda+-0x1d3*0x3+0.28209479177387814;for(let _0x496d17=-0x22dd+-0x73d+0x2a1a;_0x496d17<_0x305297;++_0x496d17){const _0x26ef11=_0xe0f26c[_0x496d17]*_0x3f4f90+(0x80d*-0x3+-0x1700+0x2f27+0.5),_0xb84f55=_0x39b58a[_0x496d17]*_0x3f4f90+(-0x1503*0x1+-0x133b+0x283e+0.5),_0x1021e0=_0xd972f0[_0x496d17]*_0x3f4f90+(-0xea*0x13+0x47f+0xcdf+0.5),_0x50d749=_0x2dc0bd[_0x496d17];_0x465658[_0x496d17*(0x25*-0xb3+-0x364+0x1d47)+(-0x5*-0x649+0x4a4+-0x2411)]=_0x25a15f(_0x26ef11),_0x465658[_0x496d17*(-0x1*-0xe5+0x7a*0xd+-0x713*0x1)+(0x2*-0xa2b+0x237*0x9+-0xd*-0x8)]=_0x25a15f(_0xb84f55),_0x465658[_0x496d17*(-0xa48+0x1eb8+-0xa36*0x2)+(0x172a+0x1219*-0x2+0xd0a)]=_0x25a15f(_0x1021e0),_0x465658[_0x496d17*(-0xf10+-0x1*-0x139d+0x1*-0x489)+(-0x1*0x17a2+-0x78e*0x1+-0x1f33*-0x1)]=_0x25a15f(_0x50d749);}self['postMessag'+'e']({'type':'updatedCol'+'orData','data':_0x465658});},_0x12c2c2=(_0x339427,_0x544810,_0x9afbda)=>{const _0x186234=new Uint32Array(_0x339427*(0x14e*-0x1a+-0x3fc*-0x5+0x4e*0x2e)),_0x4764ca=new Uint32Array(_0x339427*(0x235c+0x1d1e+-0x1*0x4076)),_0x43f163=new Uint32Array(_0x339427*(-0x1157+-0x6b2+-0x2f*-0x83)),_0x454112=new Uint32Array(_0x339427*(0x2706+0x2*0x11ae+-0xc65*0x6)),_0x1a37dc={0x1:0x3,0x2:0x8,0x3:0xf}[_0x544810],_0x217ec6=_0x9afbda,_0x3db231=0x795+0x1*-0xee5+0xf4f,_0x366b45=0x1d92*-0x1+-0x93*0x3+-0x2*-0x11a5,_0x39dcaa=new Float32Array(-0x2a*-0xb0+-0x16a9+-0x636),_0x2eb589=new Uint32Array(_0x39dcaa['buffer']),_0x3a1bea=new Array(_0x1a37dc*(-0x1*-0x1279+-0x38b*-0x7+-0x2b43))['fill'](0x1a6*0x1+0x1e59+-0x1fff);for(let _0xe24b85=-0x4c7*-0x5+-0x50*0xb+0x1*-0x1473;_0xe24b85<_0x339427;++_0xe24b85){for(let _0x3a5255=0x22f2+-0x1450+-0xea2;_0x3a5255<_0x1a37dc;++_0x3a5255)_0x3a1bea[_0x3a5255*(-0x5ac+-0x2*0xc0a+-0x191*-0x13)]=_0x217ec6[_0x3a5255][_0xe24b85],_0x3a1bea[_0x3a5255*(-0x16cf+0x35e+-0xc*-0x19f)+(0x16b1+-0x151b+-0x195)]=_0x217ec6[_0x3a5255+_0x1a37dc][_0xe24b85],_0x3a1bea[_0x3a5255*(-0xf67+-0xa92+0x19fc)+(0xa*-0xe6+0x10f1*0x1+0x25*-0x37)]=_0x217ec6[_0x3a5255+_0x1a37dc*(0x355*0x2+-0x1*0x1127+0x1*0xa7f)][_0xe24b85];let _0x3a27ae=_0x3a1bea[-0x12a8*-0x2+-0x1ee+0x1*-0x2362];for(let _0x100c67=0x2*-0x771+0x1*-0x115+-0xe*-0x124;_0x100c67<_0x1a37dc*(-0xefe+-0x1813+-0x3d*-0xa4);++_0x100c67)_0x3a27ae=Math['max'](_0x3a27ae,Math['abs'](_0x3a1bea[_0x100c67]));if(_0x3a27ae!==0xd3*-0x2b+0x217a+0x1f7){for(let _0x215722=-0x82b+-0x1*0x17a6+0x1fd1;_0x215722<_0x1a37dc;++_0x215722)_0x3a1bea[_0x215722*(-0x2*0xa1f+0x25e8+0x11a7*-0x1)+(0x2119+-0x1a7+-0x1f72)]=Math['max'](0x1*-0x2658+0x87e+0x1dda,Math['min'](_0x3db231,Math['floor']((_0x3a1bea[_0x215722*(0xb67+-0x400*0x2+0x2*-0x1b2)+(0x1f6d+0x187d+-0x37ea)]/_0x3a27ae*(0x127*-0x3+0x627+-0x2b2+0.5)+(0x7a2*0x2+-0x1a81+-0x15*-0x89+0.5))*_0x3db231+(-0xb*-0x2e9+0xa39*-0x1+0x15ca*-0x1+0.5)))),_0x3a1bea[_0x215722*(0x221*0x8+0xe*-0x229+0xd39*0x1)+(-0x25*-0x71+0x3e3+-0x1437)]=Math['max'](-0x1e72+-0x4*0x463+0x2*0x17ff,Math['min'](_0x366b45,Math['floor']((_0x3a1bea[_0x215722*(-0x3*-0xf4+-0x364*-0xa+0x1*-0x24c1)+(0xaeb+-0x219e+0x16b4*0x1)]/_0x3a27ae*(-0x446*-0x9+-0x7b*-0x1+0x1*-0x26f1+0.5)+(0x250+-0x6a*-0x55+0x1*-0x2582+0.5))*_0x366b45+(-0x330*-0x5+0xf51+-0x1f41+0.5)))),_0x3a1bea[_0x215722*(-0x10b7*0x2+0xa27+0xb*0x21e)+(-0x2*0xa5b+-0x6*-0x4c6+0x2*-0x3f6)]=Math['max'](-0x83*0x29+-0x1164+0x265f,Math['min'](_0x3db231,Math['floor']((_0x3a1bea[_0x215722*(0x79*-0x3a+-0x4*-0xb2+0x18a5)+(0x1*-0x1733+0x1475+0x4*0xb0)]/_0x3a27ae*(-0x475+0x804+-0x38f+0.5)+(-0x2038*-0x1+-0x1*0x1c95+0x13*-0x31+0.5))*_0x3db231+(-0x5*0x42c+0x38f*-0x1+-0x37d*-0x7+0.5))));_0x39dcaa[-0x2247+-0x595*0x5+-0x18e*-0x28]=_0x3a27ae,_0x186234[_0xe24b85*(0x1*-0x121d+0x153*0x1b+-0x11a0)+(0x1d1e+-0x76f+-0x15af)]=_0x2eb589[0xde8+-0xb9f+0x1*-0x249],_0x186234[_0xe24b85*(-0x5f*-0x13+-0x9be+0x21*0x15)+(-0xbd*-0x4+-0xb2d*0x3+0x13*0x19c)]=_0x3a1bea[0x1856+0x1fc5+-0x381b]<<0x2130+0x354*-0x4+0x9*-0x233|_0x3a1bea[0x1229+0x1e17+-0x1015*0x3]<<-0xfb3*0x1+0x83e+-0x3*-0x280|_0x3a1bea[-0x176a+0x1cf*-0x4+-0x2*-0xf54],_0x186234[_0xe24b85*(-0x1*0x1ce1+0xe28+-0x1*-0xebd)+(0xb6c*-0x1+-0x1*-0x962+0x20c*0x1)]=_0x3a1bea[-0x1942+-0x2e5*-0x2+0x137b]<<0x1f7b+-0x3*-0x49d+-0x2d3d|_0x3a1bea[-0x2483+-0x45d*0x4+0x35fb*0x1]<<0x259f*0x1+-0x1a3*0x1+-0xbfb*0x3|_0x3a1bea[0x1*0x2f4+0x2*0xfd3+-0x2295],_0x186234[_0xe24b85*(-0x2*0x66a+0x1*0x919+0x3bf)+(-0x1126+-0x895*-0x2+-0x1*0x1)]=_0x3a1bea[0x1fba+0x24fe+0x16e6*-0x3]<<0x6*-0x34b+-0x2027*-0x1+-0xc50|_0x3a1bea[-0xa1+0x7*0xca+-0x59*0xe]<<-0x123f+0x331+0xf19*0x1|_0x3a1bea[0x1*-0x207e+0x1*0x1621+0x3*0x377],_0x544810>0xa*0xc8+-0x26da+0x1f0b&&(_0x4764ca[_0xe24b85*(0x1bc6+-0x183b*-0x1+0x1*-0x33fd)+(-0xbeb+-0x831+-0x8f*-0x24)]=_0x3a1bea[0x4*0xee+-0xca6*-0x1+-0x1055]<<-0x349+0x512+-0x1b4|_0x3a1bea[-0x25c8+0x1ffe+0x5d4]<<0x6bf+-0x1*0x317+-0x39d|_0x3a1bea[-0x4*-0x258+-0xb1a+0x1c5],_0x4764ca[_0xe24b85*(0x2*-0x5e7+0x795*0x4+-0x1282)+(0x6d*-0x3e+-0xb74+0x25db)]=_0x3a1bea[-0x1300+-0x1e00+0x310c]<<0xd3b+0x1337+-0x205d|_0x3a1bea[-0x4*0x44f+0x1393+0x125*-0x2]<<0xb*0x7d+-0x248d+0x1f39|_0x3a1bea[0x1f*0x10d+0xcf*0x29+-0x41ac],_0x4764ca[_0xe24b85*(0x1ad8+0x1488+0xe*-0x362)+(0x1749+0x1*-0xf51+-0x7f6*0x1)]=_0x3a1bea[-0xfa8+-0xb*-0x2b+0xdde]<<-0x13ef+0x1b*-0xd3+0x2a45|_0x3a1bea[-0x3*0x21a+-0xb45+0x3*0x5e1]<<-0x761*0x1+-0x1760+0x1ecc|_0x3a1bea[-0x226a+0x2f*-0xaf+0x429c],_0x4764ca[_0xe24b85*(-0xcb8+0x10d7+-0x41b*0x1)+(-0x8*0x215+-0x97f+0xc5*0x22)]=_0x3a1bea[0x1*0x1c3a+-0x427*0x1+-0x1801]<<0x231f+-0x45f*-0x1+-0x2769|_0x3a1bea[0x438+0x24ba+-0x28df]<<0x3db+-0xeb5+0xae5|_0x3a1bea[-0x26c3*0x1+-0x1a3e*0x1+0x4115],_0x544810>0xceb+0x1*-0x183a+-0xb51*-0x1?(_0x43f163[_0xe24b85*(-0xa2f+-0x139f+0x1dd2*0x1)+(-0x15a4+0x59*-0x4+-0x2*-0xb84)]=_0x3a1bea[0xb72+-0xe09*0x1+-0x39*-0xc]<<0x137+-0x500+0x3de|_0x3a1bea[-0x935*-0x4+0x183c+-0x1e7d*0x2]<<-0x109*-0x25+-0x1bcf+-0xa73|_0x3a1bea[0xdc+-0x98b+0x2*0x463],_0x43f163[_0xe24b85*(0x2b*0x9d+0xdb+-0x1b36)+(-0x5d9+-0xa98+-0x1072*-0x1)]=_0x3a1bea[0x11a6+0x19*-0xc7+0x1e1]<<-0xc6*0x2b+0x1e*0x91+-0x1059*-0x1|_0x3a1bea[-0x214c+0x1*0x58f+0xdeb*0x2]<<-0xa31*-0x1+0x797*0x4+-0x2882|_0x3a1bea[-0x24a*0x7+0xec1+-0xd*-0x1b],_0x43f163[_0xe24b85*(-0x10d0+0x1754+-0x680)+(-0x14*0x116+-0xd8e+0x2348)]=_0x3a1bea[-0x2f*-0x1a+0x494*0x3+0x1267*-0x1]<<0x17f3*0x1+-0x235f*-0x1+-0x3b3d|_0x3a1bea[0x15f6+0x83e+-0x24*0xd6]<<0x2168+0x1a49+-0x3ba6|_0x3a1bea[-0x63a+0x808*0x4+-0x19c9],_0x43f163[_0xe24b85*(0xa4e+0x1*0x238a+-0x4*0xb75)+(-0x217c+0x7*0x4ea+-0xe7)]=_0x3a1bea[-0x342*-0x4+0xbf*0x7+0x1*-0x1223]<<-0x805+-0x22f*-0xe+0x4*-0x59e|_0x3a1bea[-0x1007+0xaca*0x1+0x55c]<<0x13b2+0x24e9+-0x50*0xb5|_0x3a1bea[-0x1d84+-0x4*0x41c+0xc*0x3d7],_0x454112[_0xe24b85*(-0x3*-0x5f3+0x1377+-0xe*0x2aa)+(0x20b6+-0x4cd+0x5*-0x595)]=_0x3a1bea[0x14fc+0x2*0xd21+0x7*-0x6bb]<<0x1693*-0x1+-0x291*0x7+0x1*0x289f|_0x3a1bea[0x17cc+0x1a81*0x1+-0x322b]<<0x1*0xe3+-0x39*0x56+0x124e*0x1|_0x3a1bea[0x3*0xb3f+0x1*0x1d0d+0x2b*-0x175],_0x454112[_0xe24b85*(0x1c44+-0x35*-0x75+-0x3479*0x1)+(0x34*-0x4e+-0x90d*0x3+-0x20*-0x158)]=_0x3a1bea[-0x1*0xe5+-0x1006+0x110f]<<0x216*0x4+0xcc5+0x4*-0x542|_0x3a1bea[0x2*-0xd8+0xcc9+-0x1*0xaf4]<<0x26c8+0x22d8+-0x4995|_0x3a1bea[0x2*0x197+-0x7b*-0x2+-0x49*0xe],_0x454112[_0xe24b85*(-0x1de9+-0x2590+-0x167f*-0x3)+(0x1b59+0x7b*-0x23+-0xa86)]=_0x3a1bea[0x5f8+-0x1822+0x3*0x61b]<<-0x1fce+-0x19a1+0x3984|_0x3a1bea[0x806*-0x2+0x192c+-0x8f8]<<-0x4*0x2bc+0x15fb*-0x1+0x1*0x20f6|_0x3a1bea[0x2*-0xceb+-0x25f8+0x3ff7],_0x454112[_0xe24b85*(0x1*0x3b7+0x1*-0x1a26+-0x1673*-0x1)+(-0x3*-0x941+-0x86*-0x6+-0xf72*0x2)]=_0x3a1bea[0xd1e+0x217c+-0x4*0xb9c]<<-0x1ae0+-0x1f9a*-0x1+-0x4a5|_0x3a1bea[-0x23*-0x112+-0x1*-0x20ed+-0x4638]<<0x1*-0x2543+0x208e+-0x40*-0x13|_0x3a1bea[0x25ad*-0x1+0x1*-0x1225+0x1bff*0x2]):_0x43f163[_0xe24b85]=_0x3a1bea[0x36*-0xa8+0x2ef+0x2096]<<0x1e49*-0x1+0x1c9*-0x8+-0xa*-0x477|_0x3a1bea[0x206d+-0xfa*0x9+0x1*-0x178d]<<0x19d3*0x1+-0x107a+-0x94e|_0x3a1bea[-0x6f+0x22aa+-0x2224]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x186234,'sh4to7Data':_0x4764ca,'sh8to11Data':_0x43f163,'sh12to15Data':_0x454112}},[_0x186234['buffer'],_0x4764ca['buffer'],_0x43f163['buffer'],_0x454112['buffer']]);},_0x379df1=()=>{_0x4e284e=null,_0x6507f7=null,_0x10e4ca=null,_0x436d12=null,_0x4b890a=null,_0x15323a=null,_0x4591f0=null,_0x388421=null;};}let wC=class extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+TC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x1f64ba,_0x13305a,_0x313767){_0x1f64ba['onmessage']=_0x1d25b5=>{if(!this['worker'])return;const {data:_0x215e3f}=_0x1d25b5;if(_0x215e3f['type']===_0x13305a)switch(_0x13305a){case'updatedSHD'+'ata1':_0x313767(_0x215e3f['data']);break;case'updatedCol'+'orData':_0x313767(_0x215e3f['data']);break;case'updatedTra'+'nsformData':_0x313767(_0x215e3f);break;case'updatedAab'+'bData':_0x313767(_0x215e3f);break;}};}['updateSHDa'+'ta1'](_0x31ec13,_0x45ab82,_0x5c4ff3){var _0x782af2;return(_0x782af2=this['worker'])==null||_0x782af2['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0x31ec13,'shBands':_0x45ab82,'SHData':_0x5c4ff3}),new Promise(_0x472d5a=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x5a817b=>{_0x472d5a(_0x5a817b);});});}async['updateColo'+'rData'](_0x36e8f7,_0x57611e,_0x595323,_0x501281,_0x30c388){var _0x1de379;return(_0x1de379=this['worker'])==null||_0x1de379['postMessag'+'e']({'type':'updateColo'+'rData','numSplats':_0x36e8f7,'cr':_0x57611e,'cg':_0x595323,'cb':_0x501281,'ca':_0x30c388}),new Promise(_0x31c2a3=>{this['workerMess'+'ageFn'](this['worker'],'updatedCol'+'orData',_0x559458=>{_0x31c2a3(_0x559458);});});}async['calcAabb'](_0x3bf52d,_0x1c69f0,_0x1a0890,_0x39938d,_0x5d958b,_0x15f6df,_0x58d999){var _0x3d846e;const _0x560320=new Float32Array(_0x1c69f0),_0x39beba=new Float32Array(_0x1a0890),_0x406a15=new Float32Array(_0x39938d),_0x2934bb=new Float32Array(_0x5d958b),_0x5c35ec=new Float32Array(_0x15f6df),_0x340025=new Float32Array(_0x58d999);return(_0x3d846e=this['worker'])==null||_0x3d846e['postMessag'+'e']({'type':'calcAabb','numSplats':_0x3bf52d,'x':_0x560320,'y':_0x39beba,'z':_0x406a15,'sx':_0x2934bb,'sy':_0x5c35ec,'sz':_0x340025},[_0x560320['buffer'],_0x39beba['buffer'],_0x406a15['buffer'],_0x2934bb['buffer'],_0x5c35ec['buffer'],_0x340025['buffer']]),new Promise(_0x357c9e=>{this['workerMess'+'ageFn'](this['worker'],'updatedAab'+'bData',_0x3e3ddf=>{_0x357c9e(_0x3e3ddf);});});}async['updateTran'+'sData'](_0x13f580,_0x2165c5,_0x3dd55a,_0x58f60b,_0x5f137b,_0x3712f0,_0x440be8,_0x4943dc,_0x407478,_0x5984b9,_0x161af6,_0x261e7a,_0xe57ae4,_0x3513ed,_0x479576,_0x39802c,_0x443695){var _0x351275;return(_0x351275=this['worker'])==null||_0x351275['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0x13f580,'is4D':_0x2165c5,'x':_0x3dd55a,'y':_0x58f60b,'z':_0x5f137b,'rx':_0x3712f0,'ry':_0x440be8,'rz':_0x4943dc,'rw':_0x407478,'mx':_0x5984b9,'my':_0x161af6,'mz':_0x261e7a,'sx':_0xe57ae4,'sy':_0x3513ed,'sz':_0x479576,'muT':_0x39802c,'tScale':_0x443695}),new Promise(_0x290249=>{const _0x30c897=_0x8a2fdd=>{_0x290249(_0x8a2fdd);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x30c897);});}['destroy'](){var _0x1753bf;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x1753bf=this['worker'])==null||_0x1753bf['terminate'](),this['worker']=null);}};const vg=(_0x5de0a5,_0xe8d15d)=>{const _0x340849=[];for(let _0x10ebff=-0x13a5+0x1a6*-0x11+0x2fab;_0x10ebff<_0xe8d15d;++_0x10ebff)_0x340849['push'](_0x5de0a5['getProp']('f_rest_'+_0x10ebff));return _0x340849;};class EC extends Rv{constructor(_0x25a7d5,_0x49e689){console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),super(_0x25a7d5,_0x49e689),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(0x1*-0x3a5+-0x17cd*-0x1+-0x1d5*0xb)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new wC(),this['assetsMana'+'gerLoadedT'+'ime']=-0xd*-0x2ff+0x16e7+-0x3dd5);}async['updateData'](){var _0x1bef51,_0x142d0a,_0x50eab1,_0x4c8155,_0x584bab,_0x4075c4,_0x47055b,_0x29b212,_0xa53ee9,_0x5396f4,_0xa0eda5;console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Data'),await super['updateData']();const _0x17e994=this['gsplatData'];if(!_0x17e994)return;this['is4D']=_0x17e994['is4D'];const _0x591108=await this['getTransfo'+'rmDataByWo'+'rker'](_0x17e994);this['aabb']=new De(),await _0x17e994['calcAabbAs'+'ync'](this['aabb'],this['updateData'+'Worker']),this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0x591108['centers'],this['motion']=_0x591108['motion'],this['tScale']=_0x591108['tScaleArra'+'y'],this['muT']=await _0x17e994['getMuT'](),this['timeIndex']=await _0x17e994['getTimeInd'+'ex']();const _0x19878a=this['evalTextur'+'eSize'](_0x17e994['numSplats']);this['colorTextu'+'re']?((_0x1bef51=this['colorTextu'+'re2'])==null||_0x1bef51['destroy'](),(_0x142d0a=this['transformA'+'Texture2'])==null||_0x142d0a['destroy'](),(_0x50eab1=this['transformB'+'Texture2'])==null||_0x50eab1['destroy'](),(_0x4c8155=this['transformR'+'Texture2'])==null||_0x4c8155['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x19878a),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x19878a),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x19878a),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x19878a),this['is4D']&&((_0x584bab=this['transformM'+'otionTextu'+'re2'])==null||_0x584bab['destroy'](),(_0x4075c4=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x4075c4['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x19878a),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x19878a))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0x19878a),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x19878a),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0x19878a),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x19878a),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0x19878a),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x19878a),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x19878a),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x19878a),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0x19878a),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x19878a),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0x19878a),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x19878a))),await this['updateColo'+'rData'](_0x17e994),await this['updateTran'+'sformFromD'+'ata'](_0x591108),this['shBands']=_0x17e994['shBands'],this['shBands']>-0x3cb+-0x1d5*0x7+0x109e&&(this['sh1to3Text'+'ure']?((_0x47055b=this['sh1to3Text'+'ure2'])==null||_0x47055b['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x19878a),this['shBands']>0x1*0x4d5+-0x1*-0x637+-0xb0b&&((_0x29b212=this['sh4to7Text'+'ure2'])==null||_0x29b212['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x19878a),this['shBands']>-0x1e39+-0x261f*0x1+0x445a*0x1?((_0xa53ee9=this['sh8to11Tex'+'ture2'])==null||_0xa53ee9['destroy'](),(_0x5396f4=this['sh12to15Te'+'xture2'])==null||_0x5396f4['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x19878a),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x19878a)):((_0xa0eda5=this['sh8to11Tex'+'ture2'])==null||_0xa0eda5['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x19878a)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x19878a),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0x19878a),this['shBands']>0xedd+-0x7*-0x536+0x2*-0x19ab&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0x19878a),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x19878a),this['shBands']>-0x61*0x1+-0xa83+0xae6?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0x19878a),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x19878a),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0x19878a),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x19878a)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0x19878a),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0x19878a)))),await this['updateSHDa'+'taByWorker'](_0x17e994));}['updateText'+'ure'](){console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Texture'),!this['isDestroye'+'d']&&(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x1dce23){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x1dce23}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20releas'+'eSeqGSplat'+'\x20all'),this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x213f79,_0x413f92,_0x49d4c2,_0x337409,_0x3bee97){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x213f79,'timeOption':_0x413f92,'loadedTime':_0x49d4c2,'asset':_0x337409,'events':_0x3bee97}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(-0x25e4+-0x5c3*-0x5+0x915);try{for(;this['appendQueu'+'e']['length']>-0xf2c+0x1189+-0x25d;){const _0xb5bb04=this['appendQueu'+'e']['shift']();_0xb5bb04['type']==='append'?await this['processApp'+'endTask'](_0xb5bb04['data']):_0xb5bb04['type']==='release'&&await this['processRel'+'easeTask'](_0xb5bb04['data']);}}finally{this['isProcessi'+'ngQueue']=!(0x2661+-0x5*-0x88+0x1484*-0x2);}}}async['processRel'+'easeTask'](_0x3a1bf2){const {index:_0x53e400}=_0x3a1bf2;console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.relea'+'seGSplatRe'+'source',_0x53e400),!this['isDestroye'+'d']&&await this['gsplatData']['releaseSeq'+'Data'](_0x53e400);}async['processApp'+'endTask'](_0x2b8101){var _0x127d91;const {gsplatData:_0x1b06fb,timeOption:_0x2af81c,loadedTime:_0xd941db,asset:_0x2d2881,events:_0x2d8cc7}=_0x2b8101;!this['gsplatData']||this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatRes'+'ource'),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0x2af81c,await this['gsplatData']['appendGSpl'+'atData'](_0x1b06fb,_0xd941db,_0x2af81c),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20gspla'+'tData.appe'+'ndGSplatDa'+'ta',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x11*0x19+0x2dd*0xc+-0x20b1),_0x1b06fb['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0x1b06fb['numSplats'])['toFixed'](0xddf+0xb*0x15b+0x5c1*-0x5)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20this.'+'updateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x247e+-0x2*-0x4d9+-0x2e2e),_0x1b06fb['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),(_0x127d91=this['gsplatInst'+'ance'])==null||_0x127d91['updateInst'+'anceData'](this),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20updat'+'eInstanceD'+'ata',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x1973+-0xd00+-0xc71),_0x1b06fb['numSplats']),this['asset']=_0x2d2881,this['assetsMana'+'gerLoadedT'+'ime']=_0xd941db,this['events']=_0x2d8cc7);}['fireAssets'+'ManagerTim'+'eIndex'](){var _0x547bcb;const _0x31495c=this['assetsMana'+'gerLoadedT'+'ime'];console['log']('____\x20ENGIN'+'E\x20IVAN','fireAssets'+'ManagerTim'+'eIndex',_0x31495c),(_0x547bcb=this['asset'])==null||_0x547bcb['fire']('setAssetsL'+'oaded',_0x31495c);}['destroy'](){var _0x1a5c5a,_0x1d0f2f,_0xd993ee,_0x326de1,_0x414561,_0x4b42c3,_0x1e55e3,_0x119a94,_0x38285f,_0x37caad,_0x48a440,_0x36fd16,_0x292949,_0x3530ea,_0xf7a2e9,_0x3f94d,_0xe0359e,_0x2cbe88,_0x7de2eb,_0x5e4288,_0x11b2de;(_0x1a5c5a=this['updateData'+'Worker'])==null||_0x1a5c5a['destroy'](),this['updateData'+'Worker']=void(-0x4d1+-0xd59+-0x915*-0x2),(_0x1d0f2f=this['colorTextu'+'re'])==null||_0x1d0f2f['destroy'](),(_0xd993ee=this['transformA'+'Texture'])==null||_0xd993ee['destroy'](),(_0x326de1=this['transformB'+'Texture'])==null||_0x326de1['destroy'](),(_0x414561=this['transformR'+'Texture'])==null||_0x414561['destroy'](),(_0x4b42c3=this['transformM'+'otionTextu'+'re'])==null||_0x4b42c3['destroy'](),(_0x1e55e3=this['transformL'+'ifecycleTe'+'xture'])==null||_0x1e55e3['destroy'](),(_0x119a94=this['sh1to3Text'+'ure'])==null||_0x119a94['destroy'](),(_0x38285f=this['sh4to7Text'+'ure'])==null||_0x38285f['destroy'](),(_0x37caad=this['sh8to11Tex'+'ture'])==null||_0x37caad['destroy'](),(_0x48a440=this['sh12to15Te'+'xture'])==null||_0x48a440['destroy'](),(_0x36fd16=this['colorTextu'+'re2'])==null||_0x36fd16['destroy'](),(_0x292949=this['transformA'+'Texture2'])==null||_0x292949['destroy'](),(_0x3530ea=this['transformB'+'Texture2'])==null||_0x3530ea['destroy'](),(_0xf7a2e9=this['transformR'+'Texture2'])==null||_0xf7a2e9['destroy'](),(_0x3f94d=this['transformM'+'otionTextu'+'re2'])==null||_0x3f94d['destroy'](),(_0xe0359e=this['transformL'+'ifecycleTe'+'xture2'])==null||_0xe0359e['destroy'](),(_0x2cbe88=this['sh1to3Text'+'ure2'])==null||_0x2cbe88['destroy'](),(_0x7de2eb=this['sh4to7Text'+'ure2'])==null||_0x7de2eb['destroy'](),(_0x5e4288=this['sh8to11Tex'+'ture2'])==null||_0x5e4288['destroy'](),(_0x11b2de=this['sh12to15Te'+'xture2'])==null||_0x11b2de['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x481c1e){var _0x4d04c8,_0x1241e7,_0x30e960,_0x3c8961,_0x129aa9,_0x584fc7,_0x1276b6,_0x2691e9,_0xfbd0d6,_0x8584f4,_0x3a5e36,_0x314160,_0x14e55e;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0xa5d955=((_0x4d04c8=_0x481c1e['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(-0x1c32+0x16b8+0x57a):_0x4d04c8['data'])??0x46*0x1+-0x1c3d*0x1+-0x1*-0x1bf7,_0x5b05dd=((_0x1241e7=_0x481c1e['getParamet'+'er']('uSplatScal'+'e'))==null?void(-0x16f2+-0x1c9e+0x12c*0x2c):_0x1241e7['data'])??-0x3a*-0x5+0x944+-0xa65*0x1,_0x54d04b=((_0x30e960=_0x481c1e['getParamet'+'er']('uSaturatio'+'n'))==null?void(-0x143a+-0x1f0+0x162a):_0x30e960['data'])??-0x631+-0x77f*-0x5+-0x1f49,_0x39a3a9=((_0x3c8961=_0x481c1e['getParamet'+'er']('uHueOffset'))==null?void(0x1*-0x4a2+-0x2cc*0x7+0x1*0x1836):_0x3c8961['data'])??-0x13*-0x1b+-0x4*0x52f+0x12bb,_0x429dac=((_0x129aa9=_0x481c1e['getParamet'+'er']('uInvertOpa'+'city'))==null?void(-0xe4*0x4+-0x2267+0x25f7):_0x129aa9['data'])??-0x1*0x1a99+-0x22b+0x1cc4,_0x2f64ef=((_0x584fc7=_0x481c1e['getParamet'+'er']('uOpacity'))==null?void(0x836+-0x126b+0xd*0xc9):_0x584fc7['data'])??0x46+0x1670+-0x16b5,_0x19d16d=((_0x1276b6=_0x481c1e['getParamet'+'er']('clrOffset'))==null?void(-0x4cd*0x3+0xae7+-0xe*-0x40):_0x1276b6['data'])??[0xa90*0x3+-0x19*0x167+0x35f,0x3e+-0x1b59+0x1b1b,0x1*-0x14c3+0x2082+-0xbbf,0x7*-0x3ee+0x1094+0x1*0xaef],_0x29f7f8=((_0x2691e9=_0x481c1e['getParamet'+'er']('clrScale'))==null?void(-0x1*0x93a+0x2308+-0x19ce):_0x2691e9['data'])??[-0xbbd*0x2+0x5*-0x15a+0x1e3d,-0x2613+-0x14b9+0x1*0x3acd,-0x3e*0x2f+0x1816+0xcb3*-0x1,0x51b*-0x2+0x175b+-0xd24],_0x5786ca=((_0xfbd0d6=_0x481c1e['getParamet'+'er']('uShapeN'))==null?void(0x1ca0+-0x1055+-0xc4b*0x1):_0xfbd0d6['data'])??-0x585+0x14f6+-0xf71,_0x324641=((_0x8584f4=_0x481c1e['getParamet'+'er']('mode'))==null?void(0x169+0x1*0x16ae+0x371*-0x7):_0x8584f4['data'])??-0xb*-0x234+-0x20ea+0x8ae,_0x37a245=((_0x3a5e36=_0x481c1e['getParamet'+'er']('ringSize'))==null?void(0xee1*-0x1+0x2b*-0xb3+0x2cf2):_0x3a5e36['data'])??-0x2*0xb8c+-0x23e3+-0x1*-0x3afb,_0x4a42aa=((_0x314160=_0x481c1e['defines'])==null?void(-0x1576+0xd44+-0x419*-0x2):_0x314160['get']('uOpenAnim'))??'0',_0x5d0cb3=((_0x14e55e=_0x481c1e['defines'])==null?void(0x8bb+0xc8b+-0x30a*0x7):_0x14e55e['get']('uControlCo'+'lorMode'))??'0';_0x481c1e['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x481c1e['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x481c1e['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x481c1e['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x481c1e['setParamet'+'er']('uSplatScal'+'e',_0x5b05dd),_0x481c1e['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0xa5d955),_0x481c1e['setParamet'+'er']('uSaturatio'+'n',_0x54d04b),_0x481c1e['setParamet'+'er']('uHueOffset',_0x39a3a9),_0x481c1e['setParamet'+'er']('uInvertOpa'+'city',_0x429dac),_0x481c1e['setParamet'+'er']('uOpacity',_0x2f64ef),_0x481c1e['setParamet'+'er']('clrOffset',_0x19d16d),_0x481c1e['setParamet'+'er']('clrScale',_0x29f7f8),_0x481c1e['setParamet'+'er']('uShapeN',_0x5786ca),_0x481c1e['setParamet'+'er']('mode',_0x324641),_0x481c1e['setParamet'+'er']('ringSize',_0x37a245),_0x481c1e['setParamet'+'er']('prerenderC'+'Time',0x516+0x19e4+-0x1efa),_0x481c1e['setParamet'+'er']('renderSpac'+'e',-0xd7*0x10+-0x22b1*0x1+0x302b),_0x481c1e['setParamet'+'er']('endSpace',-0x15d9+0x5b5*-0x1+0x1b98),_0x481c1e['setDefine']('uOpenAnim',_0x4a42aa),_0x481c1e['setDefine']('uControlCo'+'lorMode',_0x5d0cb3),this['transformM'+'otionTextu'+'re']&&_0x481c1e['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x481c1e['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x481c1e['setDefine']('SH_BANDS',this['shBands']),_0x481c1e['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x481c1e['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x481c1e['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x481c1e['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x481c1e['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0x2bdf7d){const _0x3c3960=Math['ceil'](Math['sqrt'](_0x2bdf7d)),_0x178cc5=Math['ceil'](_0x2bdf7d/_0x3c3960);return new J(_0x3c3960,_0x178cc5);}async['updateColo'+'rData'](_0x2bd453){var _0x1a343b;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x478c0a=this['colorTextu'+'re2'];if(!_0x478c0a||this['isDestroye'+'d'])return;const _0x450659=_0x2bd453['getProp']('f_dc_0'),_0x512f8e=_0x2bd453['getProp']('f_dc_1'),_0xbed66a=_0x2bd453['getProp']('f_dc_2'),_0x34eac8=_0x2bd453['getProp']('opacity');let _0x1e7b64=(_0x1a343b=_0x2bd453['transformD'+'ata'])==null?void(0x1*-0x6dc+-0x1*0xa85+0x1161):_0x1a343b['dataColor'];_0x1e7b64||(_0x1e7b64=await this['updateData'+'Worker']['updateColo'+'rData'](_0x2bd453['numSplats'],_0x450659,_0x512f8e,_0xbed66a,_0x34eac8)),await this['idleUpdate'+'TexturePro'+'mise'](_0x478c0a,_0x1e7b64);}async['getTransfo'+'rmDataByWo'+'rker'](_0x30dd3a){var _0x44ec6f;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x44ec6f=_0x30dd3a['transformD'+'ata'])!=null&&_0x44ec6f['dataCenter'+'s'])return{'centers':_0x30dd3a['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0x30dd3a['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0x30dd3a['transformD'+'ata']['dataScale'],'dataRotation':_0x30dd3a['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0x30dd3a['transformD'+'ata']['dataMotion'],'dataTime':_0x30dd3a['transformD'+'ata']['dataTime'],'motion':_0x30dd3a['transformD'+'ata']['motion'],'tScaleArray':_0x30dd3a['transformD'+'ata']['tScaleArra'+'y']};const _0x19acfd=_0x30dd3a['getProp']('x'),_0x51974e=_0x30dd3a['getProp']('y'),_0x4b2754=_0x30dd3a['getProp']('z'),_0x43f310=_0x30dd3a['getProp']('rot_1'),_0x536e62=_0x30dd3a['getProp']('rot_2'),_0x11aa40=_0x30dd3a['getProp']('rot_3'),_0x1948c0=_0x30dd3a['getProp']('rot_0'),_0x44a2b9=_0x30dd3a['getProp']('motion_0'),_0x34c7c9=_0x30dd3a['getProp']('motion_1'),_0x3d84c0=_0x30dd3a['getProp']('motion_2'),_0x51248c=_0x30dd3a['getProp']('scale_0'),_0x44cbf2=_0x30dd3a['getProp']('scale_1'),_0x28e05a=_0x30dd3a['getProp']('scale_2'),_0x44ab00=_0x30dd3a['getProp']('t'),_0x131c9f=_0x30dd3a['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0x30dd3a['numSplats'],this['is4D'],_0x19acfd,_0x51974e,_0x4b2754,_0x43f310,_0x536e62,_0x11aa40,_0x1948c0,_0x44a2b9,_0x34c7c9,_0x3d84c0,_0x51248c,_0x44cbf2,_0x28e05a,_0x44ab00,_0x131c9f);}async['updateTran'+'sformFromD'+'ata'](_0x5d0a24){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0x5d0a24['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0x5d0a24['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0x5d0a24['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0x5d0a24['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0x5d0a24['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x12b1e4,_0x36490c){if(!this['isDestroye'+'d'])return new Promise(_0x325ab4=>{requestIdleCallback(()=>{const _0x4a178c=_0x12b1e4['lock']();_0x4a178c==null||_0x4a178c['set'](_0x36490c),_0x12b1e4['unlock'](),_0x325ab4(!(-0x7a1*-0x3+-0x10bd+-0x626));},{'timeout':0x12c});});}async['updateTran'+'sformData'](_0x3f827f){var _0xbd41f7,_0x1e1698,_0x5b009e,_0x5b7ee2;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData'),this['isDestroye'+'d'])return;const _0xfb6c87=Mn['float2Half'];if(!this['transformA'+'Texture'])return;const _0x309ec8=this['transformA'+'Texture']['lock'](),_0x5dab4b=this['transformR'+'Texture']['lock'](),_0x96684b=this['transformB'+'Texture']['lock'](),_0x5f3164=(_0xbd41f7=this['transformM'+'otionTextu'+'re'])==null?void(0xf28+-0x25a0+0x59e*0x4):_0xbd41f7['lock'](),_0x1ac37d=(_0x1e1698=this['transformL'+'ifecycleTe'+'xture'])==null?void(0x1345+-0x56b+0x3*-0x49e):_0x1e1698['lock'](),_0x28d966=new D(),_0x30b0bc=new le(),_0x4fc1d5=new D(),_0x439fc9=new D(),_0x120983=_0x3f827f['createIter'](_0x28d966,_0x30b0bc,_0x4fc1d5,null,_0x439fc9),_0x2ac219=_0x3f827f['getProp']('t'),_0x5881e1=_0x3f827f['getProp']('t_scale');for(let _0x1717c9=-0x103*0x3+0xfe9*0x1+-0xce0;_0x1717c9<_0x3f827f['numSplats'];_0x1717c9++)_0x120983['read'](_0x1717c9),_0x30b0bc['normalize'](),_0x30b0bc['w']<0xadf+0x173d+-0x221c&&_0x30b0bc['mulScalar'](-(-0x1*0xe7b+-0x1*-0xf8b+-0x10f)),_0x309ec8[_0x1717c9*(-0x239*-0x4+-0xdac+0x4cb)+(0x14c3+0x234*-0x11+0x1*0x10b1)]=_0x28d966['x'],_0x309ec8[_0x1717c9*(0x8f6*-0x1+-0x66b*0x4+0x22a5)+(-0x1c46+0x1f*0x17+0x197e)]=_0x28d966['y'],_0x309ec8[_0x1717c9*(-0x1291+-0x3*-0x341+0x8d1)+(-0xab4+-0x9d4*0x1+-0x1de*-0xb)]=_0x28d966['z'],_0x96684b[_0x1717c9*(-0x6*-0x2d9+0x195f+-0x6*0x713)+(-0x47a+0x2*0x6b3+-0x8ec)]=_0xfb6c87(_0x4fc1d5['x']),_0x96684b[_0x1717c9*(0xaaa+-0x1ea0+-0x13f9*-0x1)+(-0x171*0x1+0x1cc*-0x14+0x3a*0xa5)]=_0xfb6c87(_0x4fc1d5['y']),_0x96684b[_0x1717c9*(0x418+-0x29*-0x53+-0x1160)+(0x6d*-0x53+-0x164b+0x39a4)]=_0xfb6c87(_0x4fc1d5['z']),_0x5dab4b[_0x1717c9*(-0x4ee*0x5+-0xdaf+0x2658)+(0x2671+0x2cd*0x3+-0x2ed8)]=_0x30b0bc['x'],_0x5dab4b[_0x1717c9*(-0x2297+0x2029+-0x7d*-0x5)+(0xe*-0x59+-0x2f*0x6e+-0x3*-0x85b)]=_0x30b0bc['y'],_0x5dab4b[_0x1717c9*(0x24e9+-0xabf+0x1a27*-0x1)+(0x3*0x217+-0xdf*-0xb+-0xfd8)]=_0x30b0bc['z'],this['is4D']&&_0x5f3164&&_0x1ac37d&&(_0x5f3164[_0x1717c9*(-0x198c+-0x617*-0x2+0x5*0x2ad)+(0x1*-0xee0+0x1*-0x20b9+0x2f99)]=_0x439fc9['x'],_0x5f3164[_0x1717c9*(-0xa9*0x8+-0x5*0x799+0x2b48)+(0x30a*0x9+-0x44*0x79+0x4cb)]=_0x439fc9['y'],_0x5f3164[_0x1717c9*(-0x152a*0x1+-0x1*0x1681+0x2*0x15d7)+(0x18d0+0x1dda*0x1+-0x36a8)]=_0x439fc9['z'],_0x1ac37d[_0x1717c9*(-0x1*0x294+-0x241e+-0x44d*-0x9)+(-0x16*0x1af+-0x195*0x8+0x31b2)]=_0x2ac219?_0x2ac219[_0x1717c9]:0x259c+0x19d9+-0x9*0x70d,_0x1ac37d[_0x1717c9*(-0x1*-0x1fdc+0x1*0x2555+0xe*-0x4f1)+(0x1*-0x28d+-0x5*0x5df+0x7*0x48f)]=_0x5881e1?Math['exp'](_0x5881e1[_0x1717c9]):-0x19a7+-0x1*-0x11a7+0x800);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0x5b009e=this['transformM'+'otionTextu'+'re'])==null||_0x5b009e['unlock'](),(_0x5b7ee2=this['transformL'+'ifecycleTe'+'xture'])==null||_0x5b7ee2['unlock']();}async['updateSHDa'+'ta'](_0x55e0ce){var _0x1efcb2,_0x3078da,_0x2b0ae9,_0xa34b86,_0x8c72ef,_0x4d389b,_0x2c3861,_0xa295fe;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0x2b7d87=(_0x1efcb2=this['sh1to3Text'+'ure2'])==null?void(-0x506+-0x1f+0x525):_0x1efcb2['lock'](),_0xd93326=(_0x3078da=this['sh4to7Text'+'ure2'])==null?void(0x43*-0x22+-0x25fd+0x1*0x2ee3):_0x3078da['lock'](),_0x51c0ee=(_0x2b0ae9=this['sh8to11Tex'+'ture2'])==null?void(-0x1ce4+0xba9+0x191*0xb):_0x2b0ae9['lock'](),_0x4cf6a0=(_0xa34b86=this['sh12to15Te'+'xture2'])==null?void(-0x1*0x469+0x146a+-0xf1*0x11):_0xa34b86['lock'](),_0x20a730={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x496f53=vg(_0x55e0ce,_0x20a730*(0x65d+-0x3*-0x70c+-0x1*0x1b7e)),_0x109607=-0x17e8+0xb*0x2f5+-0x14*0x8,_0x4ea40d=-0x2325+-0x8aa*0x1+0x2*0x17e7,_0x2fa430=new Float32Array(0x4*0x418+-0xdf*0x27+0x119a),_0x2ed6b9=new Uint32Array(_0x2fa430['buffer']),_0x26ee4c=new Array(_0x20a730*(0xd5*0x13+-0x1a04+-0x1b4*-0x6))['fill'](0xc12+0x9ed+-0x15ff);for(let _0x20fece=-0xbf*-0x2b+0x1*-0xddc+0x3a5*-0x5;_0x20fece<_0x55e0ce['numSplats'];++_0x20fece){for(let _0x1278dd=0x1*0x491+-0x182b+0x139a;_0x1278dd<_0x20a730;++_0x1278dd)_0x26ee4c[_0x1278dd*(-0x5*-0x279+-0x46*0x45+0x1a1*0x4)]=_0x496f53[_0x1278dd][_0x20fece],_0x26ee4c[_0x1278dd*(-0x18ce+-0x426*-0x2+-0x1*-0x1085)+(0x130d*0x1+-0xa01*-0x1+-0x1d0d*0x1)]=_0x496f53[_0x1278dd+_0x20a730][_0x20fece],_0x26ee4c[_0x1278dd*(-0xd32+-0x1967+0x269c)+(0x26e9+-0x1f53+-0x4*0x1e5)]=_0x496f53[_0x1278dd+_0x20a730*(-0x17*0x116+0x26c6+-0x1*0xdca)][_0x20fece];let _0x5935b5=_0x26ee4c[0xc1b+0x1*0x6b7+-0x12d2];for(let _0x1cfcfb=-0x25ba+0x1a56+0xb65;_0x1cfcfb<_0x20a730*(-0x3*0xb8f+0x36*0xb3+0x312*-0x1);++_0x1cfcfb)_0x5935b5=Math['max'](_0x5935b5,Math['abs'](_0x26ee4c[_0x1cfcfb]));if(_0x5935b5!==0x1387*0x1+0x2235+-0x35bc){for(let _0x8a303c=0x3c8*-0x1+0x3e6+-0x1e;_0x8a303c<_0x20a730;++_0x8a303c)_0x26ee4c[_0x8a303c*(-0xab5+-0x5*-0x327+-0x1*0x50b)+(0x7db+0x1499+-0x1c74)]=Math['max'](-0x629+-0x59*0x29+0x27*0x86,Math['min'](_0x109607,Math['floor']((_0x26ee4c[_0x8a303c*(0x17f+-0x40a*-0x3+-0x1*0xd9a)+(-0x1f2b+-0x1*0x243d+0xc*0x59e)]/_0x5935b5*(-0x1*-0x20a7+-0x1b59+0xe*-0x61+0.5)+(0x10*-0x257+0x907*0x2+0x1362+0.5))*_0x109607+(-0x1adc+-0x18a*-0x17+0x1*-0x88a+0.5)))),_0x26ee4c[_0x8a303c*(0x14f5+0x1341+-0x2833*0x1)+(0x5*0x2cf+0x287*-0x1+-0x7*0x1a5)]=Math['max'](0x62a*0x4+0x9d*0x3b+0x1bd*-0x23,Math['min'](_0x4ea40d,Math['floor']((_0x26ee4c[_0x8a303c*(-0x1*0x2f8+0x2171+0x45a*-0x7)+(0x24*0x2c+-0x531+-0xfe)]/_0x5935b5*(0xa11*0x2+-0x16d9+0x2b7+0.5)+(0x3cb*-0x7+0x48c+0x83*0x2b+0.5))*_0x4ea40d+(0x2228+-0x2*0xd95+-0x6fe+0.5)))),_0x26ee4c[_0x8a303c*(0x1*-0x149d+-0x472+0x1912)+(0x8ee+-0x1cce*-0x1+0x16*-0x1b7)]=Math['max'](-0x57e*0x2+-0xb*-0x287+0x5*-0x35d,Math['min'](_0x109607,Math['floor']((_0x26ee4c[_0x8a303c*(0x1*-0xcb5+-0xab6+0x176e*0x1)+(-0x1b*0x12f+0x1*0x679+0x197e)]/_0x5935b5*(0x7a7*0x2+-0x7*0x3b+-0x2bd*0x5+0.5)+(-0x1*-0x1c33+-0x1177+0x3*-0x394+0.5))*_0x109607+(0xd1b*0x1+0x3*-0x95f+0xf02+0.5))));_0x2fa430[-0x4*0x306+-0x6e0+-0x4*-0x4be]=_0x5935b5,_0x2b7d87[_0x20fece*(0x1db8+0xf70+-0x9*0x504)+(0x7*-0xf0+-0x1*-0x18d2+0x616*-0x3)]=_0x2ed6b9[0x1*0x2329+-0xc9c+-0x168d],_0x2b7d87[_0x20fece*(0x6*0x1e1+-0x2*-0xbcb+0x6f8*-0x5)+(0xd82+-0x25cc+0x3*0x819)]=_0x26ee4c[0x3*-0x7f1+-0x1873*0x1+0x3046]<<-0x65*-0x8+0x399*-0x5+0x1*0xeea|_0x26ee4c[-0x43f*0x4+-0xde9+0x46*0x71]<<-0xbaa+0x85a*0x2+-0x4ff|_0x26ee4c[0x217*0xb+0x7cc*0x4+-0x362b],_0x2b7d87[_0x20fece*(0x24*0xfe+-0x1114*-0x1+-0x4*0xd32)+(0x4*0x8cb+0x6bf+-0x1*0x29e9)]=_0x26ee4c[0x1*0xd45+0x3d*0x6b+-0x26c1]<<-0x5*0x6a1+0x175e+0x9dc|_0x26ee4c[0xd*0x56+0x7a1+0x1*-0xbfb]<<-0x4*-0x230+0x18f7+-0x1*0x21ac|_0x26ee4c[0x1*0x4d3+0x2174+-0x2642],_0x2b7d87[_0x20fece*(-0x1*0x1159+-0x1*-0x2539+-0x4f7*0x4)+(0x427*0x4+-0x8c8*0x4+-0x33*-0x5d)]=_0x26ee4c[-0x1*0x12b2+0x2683*-0x1+0x393b]<<0x1c9b+0x1b5b*0x1+0x5*-0xb2d|_0x26ee4c[-0x446*0x4+0x21aa+0x79*-0x23]<<-0x11b2+-0xb7e+0x1d3b|_0x26ee4c[-0x785+0x115b+-0x1f6*0x5],this['shBands']>-0x219+-0x1*0x274+-0x1*-0x48e&&(_0xd93326[_0x20fece*(0xc92+-0x313*-0x8+0x27a*-0xf)+(-0x1*0x165a+-0x325+0x197f)]=_0x26ee4c[-0x1f*0x12e+-0x7ce+0x2c69]<<-0x1b*0x11d+-0x3*0x508+0x2d3c|_0x26ee4c[-0x1f9*0x13+0xa47*-0x2+-0x3a13*-0x1]<<-0xf42+0x3*-0x19a+0x141b|_0x26ee4c[0x19b4+0x15*0xc+-0x1*0x1aa5],_0xd93326[_0x20fece*(0x2412+0xac4*0x1+-0x2ed2)+(0x4*-0x69f+-0x59e*-0x4+0x405)]=_0x26ee4c[0x713*0x1+0x1*-0x543+-0x1c4]<<0x875*0x2+0x29*0xe9+-0x1b13*0x2|_0x26ee4c[-0x655*0x1+-0xb3*0x24+0x241*0xe]<<-0x2*0x26e+-0x17c2+-0xfd*-0x1d|_0x26ee4c[0x54a+-0x1*0x23cf+0xa31*0x3],_0xd93326[_0x20fece*(0x203+0x9*0x8d+-0x6f4)+(-0x56f*0x1+0x1a6+0x3cb)]=_0x26ee4c[-0x6f8*0x3+-0xe48+-0x233f*-0x1]<<-0x1*0x23a2+-0x1e*0x16+0x264b|_0x26ee4c[0x1987*-0x1+0x214d+-0x7b6]<<-0x20*-0x5e+-0x6c9+-0x4ec|_0x26ee4c[-0x12e0+-0x146c+0x275d],_0xd93326[_0x20fece*(-0x123*0x18+0x24f8+-0x9ac)+(-0x60e+0x115*0xc+-0x6eb)]=_0x26ee4c[-0x2*-0x542+0x144d+0x1*-0x1ebf]<<-0x1164+0xa7b+0x6fe*0x1|_0x26ee4c[0xb*0x1+-0x7d5*-0x1+-0x7cd*0x1]<<-0xe9b*0x1+-0x1d2c+-0x15e9*-0x2|_0x26ee4c[-0x11f9*-0x1+0x7ff*-0x1+0x4f3*-0x2],this['shBands']>-0x43c+-0x24ec+0x292a?(_0x51c0ee[_0x20fece*(-0x1acd*0x1+0x4ef+0x15e2)+(-0x3*-0x53+0x2c2+-0x5*0xbf)]=_0x26ee4c[0x72*0x25+-0x1ca0+0x1f*0x65]<<0x1e5+0x777+-0x947|_0x26ee4c[-0x25b7*0x1+-0x48b+0x2a58]<<0x2*-0x103d+0x10*0x23c+-0x33b|_0x26ee4c[-0x1b4a+0xc31*-0x3+0x1*0x3ff4],_0x51c0ee[_0x20fece*(-0x2*0xa1b+0x2346+-0xf0c)+(0x181c+-0xf90+-0x1b*0x51)]=_0x26ee4c[0x4*-0x3fe+-0x1*-0x8d4+0x73c]<<0x1feb+-0x2aa+-0x1d2c|_0x26ee4c[0xff*-0x12+-0x1827+0x2a2e]<<0x1*-0xad2+-0x1859+0x2336|_0x26ee4c[0x269c*0x1+-0x95a+-0x1d28],_0x51c0ee[_0x20fece*(-0x15fd*0x1+0x1b*-0x14+0x181d)+(-0x61c+0x1a7e+-0x1460)]=_0x26ee4c[-0x165c+-0x1*-0xb+0x166c]<<-0x112d+0x11c*-0xa+0xe2d*0x2|_0x26ee4c[-0xb*0x1da+0x217*0x5+-0x1*-0xa07]<<0x1fa5+-0x2*0x6f7+-0x11ac|_0x26ee4c[0x480+-0x374+-0xef],_0x51c0ee[_0x20fece*(-0x2560+-0x3e*-0x30+0x19c4)+(0x3*-0x102+-0x705+-0x1a*-0x63)]=_0x26ee4c[0x1b*0xa2+0x44a*0x6+-0x2ab4]<<-0x181b+0xafd+0xd33|_0x26ee4c[-0x2b5*0xb+0x460+0x1986]<<-0x12af+-0x1e38+0x30f2|_0x26ee4c[0x14b*-0x13+-0x3*0x565+0x28e0],_0x4cf6a0[_0x20fece*(-0x957*-0x2+0x1*0x1519+-0x27c3)+(-0x7ff+0x66c*-0x1+0xe6b)]=_0x26ee4c[-0x1fb8+0x5e4*0x5+0x265*0x1]<<-0x15be+-0x10cb*0x1+0x2*0x134f|_0x26ee4c[-0x1e3f+0x1*-0x265a+0x99*0x73]<<-0x7*0x13a+-0x1d01+0x25a2|_0x26ee4c[0x863*-0x4+-0x5*0x44+0x2303],_0x4cf6a0[_0x20fece*(0x1*-0xa55+0x179+0x8e0)+(0x24c5*-0x1+0x4eb+0x1fdb)]=_0x26ee4c[-0x17e3+-0x131f*0x1+0x6*0x731]<<0x81*0x4+-0x5ee+0x3*0x155|_0x26ee4c[-0xcf0+0x1950+-0xc3b]<<-0xbe4+-0x18b3*-0x1+0x662*-0x2|_0x26ee4c[-0x1252+0x95b+-0x1*-0x91d],_0x4cf6a0[_0x20fece*(0xb13+-0x1859*-0x1+-0x2368)+(-0x25*-0x10c+0x26b0+0x9*-0x89a)]=_0x26ee4c[0x3e*-0x5d+0x1*0xe+0x169f*0x1]<<0xc2d+0x13*0xbb+-0x19f9|_0x26ee4c[0x1a6f+-0xab*-0x6+0x1e49*-0x1]<<-0xd9f+0x19*-0x56+0x1610|_0x26ee4c[0x1f26+-0x1fff+0x102],_0x4cf6a0[_0x20fece*(-0x1e15+-0x16eb+0x1d*0x1d4)+(-0x1225+0x193c+-0x714)]=_0x26ee4c[0x3*-0x1d5+0x1fa9+0x4*-0x680]<<-0x19*-0xd3+0x1*-0x18eb+0xf*0x4b|_0x26ee4c[0x1fa+0x11f2*-0x1+0x1b*0x99]<<0x1244+0x3*0x5a8+0x15*-0x1ad|_0x26ee4c[-0x4a*-0x53+-0x30*-0x8b+0x5*-0x9fa]):_0x51c0ee[_0x20fece]=_0x26ee4c[0x167c+-0xafe+-0xb69]<<-0xe*-0x1f+-0x5d7+-0x2*-0x21d|_0x26ee4c[0x3*0xb43+0x1789*0x1+0xb*-0x534]<<0x1de0+0x25f9+-0x42*0x107|_0x26ee4c[0x2541+0xda4+-0x1*0x32ce]);}}(_0x8c72ef=this['sh1to3Text'+'ure2'])==null||_0x8c72ef['unlock'](),(_0x4d389b=this['sh4to7Text'+'ure2'])==null||_0x4d389b['unlock'](),(_0x2c3861=this['sh8to11Tex'+'ture2'])==null||_0x2c3861['unlock'](),(_0xa295fe=this['sh12to15Te'+'xture2'])==null||_0xa295fe['unlock']();}async['updateSHDa'+'taByWorker'](_0x2ad2cd){var _0x5e6650,_0x2db1ca,_0x5d8ed8,_0x5de234,_0x15e6e7;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x345fd3={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0x37072c,_0x5731fd,_0x259cf6,_0x247fd8;if((_0x5e6650=_0x2ad2cd['transformD'+'ata'])!=null&&_0x5e6650['sh1to3Data'])_0x37072c=(_0x2db1ca=_0x2ad2cd['transformD'+'ata'])==null?void(-0x7d5+-0x1145+0x1cb*0xe):_0x2db1ca['sh1to3Data'],_0x5731fd=(_0x5d8ed8=_0x2ad2cd['transformD'+'ata'])==null?void(0x103*-0x22+0x2a*-0xa9+-0x4*-0xf88):_0x5d8ed8['sh4to7Data'],_0x259cf6=(_0x5de234=_0x2ad2cd['transformD'+'ata'])==null?void(-0xc23*-0x1+-0x1cf9*0x1+-0x1*-0x10d6):_0x5de234['sh8to11Dat'+'a'],_0x247fd8=(_0x15e6e7=_0x2ad2cd['transformD'+'ata'])==null?void(0x47*-0x2f+-0x2282+-0x2f8b*-0x1):_0x15e6e7['sh12to15Da'+'ta'];else{const _0x461404=vg(_0x2ad2cd,_0x345fd3*(-0x30+-0xd*0x27b+-0x2*-0x1039)),_0x424026=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0x2ad2cd['numSplats'],this['shBands'],_0x461404);_0x37072c=_0x424026['sh1to3Data'],_0x5731fd=_0x424026['sh4to7Data'],_0x259cf6=_0x424026['sh8to11Dat'+'a'],_0x247fd8=_0x424026['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0x37072c),this['shBands']>-0xced+-0x2023*-0x1+0x21*-0x95&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0x5731fd),this['shBands']>0xc*0x20b+0x165c+0x7*-0x6b2?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x259cf6),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0x247fd8)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x259cf6));}}async function bC(){const _0x1847bb=new Float32Array(0x86f+0x220d*0x1+-0x57*0x7d);new Int32Array(_0x1847bb['buffer']);let _0x3ee4a9=null,_0x4f507c=null,_0x596214=null,_0x4f0d4a=null,_0x11846b=null,_0x402310=null,_0x5d916a=null,_0x91dbd8=null;self['onmessage']=async _0x523d00=>{const {data:_0x55e17f}=_0x523d00;switch(_0x55e17f['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0x105cf0(_0x55e17f['numSplats'],_0x55e17f['shBands'],_0x55e17f['SHData']);break;case'updateTran'+'sformData':_0x10d09e(_0x55e17f['numSplats'],_0x55e17f['is4D'],_0x55e17f['position'],_0x55e17f['rotation'],_0x55e17f['motion'],_0x55e17f['scale'],_0x55e17f['muT'],_0x55e17f['tScale']);break;case'destroyWor'+'ker':_0x3eee4e();break;}};const _0x10d09e=(_0x4ca9ed,_0xfa6a98,_0x49e30e,_0x307144,_0x438af6,_0x5eebc7,_0x1f20ea,_0x2d0862)=>{_0x3eee4e(),_0xfa6a98&&(_0x4f507c=new Float32Array(_0x4ca9ed*(0x21c0+-0x5*0x3f3+-0xdfe)),_0x91dbd8=new Float32Array(_0x4ca9ed),_0x11846b=new Float32Array(_0x438af6['buffer']['slice']()),_0x5d916a=new Float32Array(_0x438af6['buffer']['slice']())),_0x4f0d4a=new Float32Array(_0x49e30e['buffer']['slice']()),_0x3ee4a9=new Float32Array(_0x49e30e['buffer']['slice']()),_0x402310=new Uint16Array(_0x5eebc7['buffer']['slice']()),_0x596214=new Float32Array(_0x307144['buffer']['slice']());for(let _0x3320e7=0x6a0+-0x33e+-0x362;_0x3320e7<_0x4ca9ed;_0x3320e7++)_0xfa6a98&&_0x4f507c&&(_0x91dbd8[_0x3320e7]=_0x2d0862?Math['exp'](_0x2d0862[_0x3320e7]):0x20*-0x7e+-0xb60+-0x20*-0xd9,_0x4f507c[_0x3320e7*(-0x3*0x812+0x2095+-0x85c)+(-0x51*-0x25+-0x1e16+0x1261)]=_0x1f20ea?_0x1f20ea[_0x3320e7]:-0x1fee+0x3f9+-0x1bf5*-0x1,_0x4f507c[_0x3320e7*(-0x11a8+0x2*-0x937+0x1*0x2419)+(-0x1*-0x3ea+-0x1779+0x272*0x8)]=_0x91dbd8[_0x3320e7]);const _0x5e0286=[_0x3ee4a9['buffer'],_0x4f0d4a['buffer'],_0x402310['buffer'],_0x596214['buffer']];_0xfa6a98&&_0x5e0286['push'](_0x11846b['buffer'],_0x4f507c['buffer'],_0x5d916a['buffer'],_0x91dbd8['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0x3ee4a9,'dataPosition':_0x4f0d4a,'dataScale':_0x402310,'dataRotation':_0x596214,'dataMotion':_0x11846b,'dataTime':_0x4f507c,'motion':_0x5d916a,'tScaleArray':_0x91dbd8},_0x5e0286);},_0x105cf0=(_0x1a25f8,_0x525ba7,_0x44442d)=>{const _0x1799fa=new Uint32Array(_0x1a25f8*(0x14f+0x25af+-0x26fa)),_0x4a8a2c=new Uint32Array(_0x1a25f8*(-0x297+0x1f72+-0x1cd7)),_0x52911f=new Uint32Array(_0x1a25f8*(-0xdee+0x1a7a*0x1+-0xc88)),_0x32821f=new Uint32Array(_0x1a25f8*(-0x1*-0x859+-0x1*0x24a0+0x1c4b)),_0x2134e3={0x1:0x3,0x2:0x8,0x3:0xf}[_0x525ba7],_0x227b5f=_0x44442d,_0x14607a=-0x1c63+0x2032+-0x86*-0x8,_0x2d7a27=-0x49*-0x45+0x15cd+-0x65*0x5f,_0x18b79d=new Float32Array(-0x9c1+0xca1+-0x2df),_0x3b1a1b=new Uint32Array(_0x18b79d['buffer']),_0xa295c9=new Array(_0x2134e3*(-0xf2e+0x1464+-0x533*0x1))['fill'](0x3*-0x645+-0x141+0x1410);for(let _0x558396=-0x24d2+-0x16f4+0x3bc6;_0x558396<_0x1a25f8;++_0x558396){for(let _0x153516=-0xba9+0x2*-0xb3d+0x2223;_0x153516<_0x2134e3;++_0x153516)_0xa295c9[_0x153516*(0x2482+0x1d8d+0x1604*-0x3)]=_0x227b5f[_0x153516][_0x558396],_0xa295c9[_0x153516*(0x13ca+-0x1af2+0x72b)+(-0x1*0xef+-0x6ee+0x7de)]=_0x227b5f[_0x153516+_0x2134e3][_0x558396],_0xa295c9[_0x153516*(-0x3e6+-0x1e4e+0x2237)+(0xbfb*0x1+0xe41+0x8be*-0x3)]=_0x227b5f[_0x153516+_0x2134e3*(0x1*-0x1f+-0x25*0x8+0x149)][_0x558396];let _0x411891=_0xa295c9[-0x19e9+-0x89*0x3+-0xdc2*-0x2];for(let _0x24e54f=0x5*0x319+-0xd25+-0x257;_0x24e54f<_0x2134e3*(-0xbfe*-0x2+-0x7*0x4a2+0x875);++_0x24e54f)_0x411891=Math['max'](_0x411891,Math['abs'](_0xa295c9[_0x24e54f]));if(_0x411891!==0x250b+0x14*-0x53+-0x1e8f*0x1){for(let _0x56ce2a=-0x2137+0x178d+0x9aa;_0x56ce2a<_0x2134e3;++_0x56ce2a)_0xa295c9[_0x56ce2a*(-0x9ba+0x4*0x327+-0x2df)+(-0x233+-0x1e19+0x204c)]=Math['max'](-0x3*0x3e0+0x6*-0x5f7+0x1*0x2f6a,Math['min'](_0x14607a,Math['floor']((_0xa295c9[_0x56ce2a*(0x18b9+-0x267c+0xdc6)+(0xa5c+0x28a+-0xfe*0xd)]/_0x411891*(-0x2056+0x53*0x6a+-0x1a*0x14+0.5)+(-0x1e29+-0x1*-0x1763+-0x33*-0x22+0.5))*_0x14607a+(0x415+-0x102a*-0x1+-0x143f+0.5)))),_0xa295c9[_0x56ce2a*(-0x14b7+0x1ef8*0x1+-0xa3e)+(0x1972+0x134e*0x1+-0x8f3*0x5)]=Math['max'](-0x222a+-0x1*0x1ae0+0x259*0x1a,Math['min'](_0x2d7a27,Math['floor']((_0xa295c9[_0x56ce2a*(-0x1011+-0x577*0x1+0x158b)+(-0x50b*0x3+0x11*0x151+-0x73f)]/_0x411891*(-0x22ca+-0x9f2+0x2cbc+0.5)+(0x12b5+0x1989+-0x652*0x7+0.5))*_0x2d7a27+(-0xdef+0x19e+-0x1*-0xc51+0.5)))),_0xa295c9[_0x56ce2a*(0x1540+0xdd*0x2b+-0x3a5c)+(0x2421*0x1+-0x118c+-0x1293)]=Math['max'](-0x1*0x2315+0x1cfe+0x617,Math['min'](_0x14607a,Math['floor']((_0xa295c9[_0x56ce2a*(0x1b05+-0x1*0x1edb+0x3d9)+(0xf00+-0x147a+0x57c)]/_0x411891*(-0x4a3+-0x84a+0xced+0.5)+(0x77e+0x19*0x175+-0x1*0x2beb+0.5))*_0x14607a+(-0x165f+-0x1516+0x2b75+0.5))));_0x18b79d[-0x982+0xf17+-0x595]=_0x411891,_0x1799fa[_0x558396*(-0x1566+0x2f*0x3a+0x2b1*0x4)+(0x3*0x99b+0xc38+0x2909*-0x1)]=_0x3b1a1b[-0x6ff+0x209f+-0x14*0x148],_0x1799fa[_0x558396*(-0x23b7*0x1+0x25d4+-0x219)+(0x10*-0x250+0x14*0x8a+0x1a39)]=_0xa295c9[0x19b5*-0x1+-0x1a97*-0x1+-0xe2]<<-0x18a2+0x4bd*-0x5+0x3068|_0xa295c9[0x1*0xa87+-0xd*-0x2d9+-0x2f8b*0x1]<<-0x46d*0x3+0x225e+-0xc*0x1c1|_0xa295c9[-0x23ee+0x1225*-0x1+-0x5*-0xad1],_0x1799fa[_0x558396*(-0x1*-0x19c+-0x9*0x11c+-0x432*-0x2)+(0x1fb7+0x227b+-0x4230)]=_0xa295c9[-0x3*-0x267+-0xf9*0x4+-0x34e]<<0x1091*-0x1+0x57+-0x104f*-0x1|_0xa295c9[-0xeb8+0x1*-0xb4e+0x16*0x12f]<<-0x1*0x24df+-0x73*0x3+0x7a7*0x5|_0xa295c9[0x1ead+-0x10e5+-0x1*0xdc3],_0x1799fa[_0x558396*(0x21d4+-0x24d4+0x4*0xc1)+(-0x177a+-0x1903+0x2*0x1840)]=_0xa295c9[0x1636+0xcb8+-0x22e8]<<0xaa0+0x1d47+-0x27d2|_0xa295c9[-0x2*0x10a6+0xa4c+0x1707]<<-0x183a+-0x89*0x12+0x21e7|_0xa295c9[0x29*-0x9d+0xca6*-0x1+-0x17*-0x1a5],_0x525ba7>-0x71c+-0x10b3+0x7f*0x30&&(_0x4a8a2c[_0x558396*(-0x1f50+0xce*0xd+-0xa6f*-0x2)+(0x2*0xb30+-0x2*0xc77+-0x28e*-0x1)]=_0xa295c9[-0xe5*0x7+-0x2*-0xa76+-0x18*0x9c]<<0x1*0xa16+0x57*0x6d+-0x2*0x1786|_0xa295c9[0xebc+0x1d8+-0x108a]<<-0x2497+-0x4f*-0x3d+0x11cf|_0xa295c9[0xad8+-0x2dd+-0x10*0x7f],_0x4a8a2c[_0x558396*(0x26fe+0x2b*0x95+-0x4001)+(0xbf*0x1d+0x2*0xeb1+-0x3304)]=_0xa295c9[0x672*-0x3+0x2*0xe3+0x119c]<<0x17ee+0x113c+0x1*-0x2915|_0xa295c9[-0x9de+0x7*-0x2ef+-0x2*-0xf3a]<<-0x79f*0x3+-0xdca+-0x4d*-0x7a|_0xa295c9[-0x858+0x9*-0x431+0x2e1f],_0x4a8a2c[_0x558396*(0xaf0+0x3*0x14f+-0xed9)+(0x18fd*-0x1+-0x11*-0x135+0x47a)]=_0xa295c9[0x16f4+0xc8f+0x8dd*-0x4]<<0x8b*0x21+0x621+-0x17f7|_0xa295c9[-0x1f9b+0x46f+-0x7*-0x3e4]<<-0x464+0x1*0x5fb+-0x18c|_0xa295c9[0x675+0x75+-0x6d9*0x1],_0x4a8a2c[_0x558396*(0xc4*0x6+0xb9+-0x54d)+(-0x1*-0x17b+0xc*-0x31d+0x23e4)]=_0xa295c9[-0x19c7+0x13e3*-0x1+0x2dbc]<<0x25d2+0x22a1+0x2*-0x242f|_0xa295c9[0x1*0x1bb7+0xe69*-0x2+0x12e]<<0x1efe+-0x2246+-0x17*-0x25|_0xa295c9[-0x3*0x40f+-0x247d+0x30be],_0x525ba7>0x1*-0x2692+0x1*0x1bd6+-0x19*-0x6e?(_0x52911f[_0x558396*(0x1239+0x426+-0x165b)+(0xe52+0x1565+-0x23b7)]=_0xa295c9[0x3*-0xb1+-0x91a+0xb42]<<-0x1338+-0x1f*0x21+0x174c|_0xa295c9[-0x5e*0x67+0x3*-0x851+-0x3edb*-0x1]<<-0x1*0x1b6b+0x143f*0x1+0x737*0x1|_0xa295c9[-0x2694+-0x3c1+0x2a6c],_0x52911f[_0x558396*(0x2be+0x16d0*0x1+-0x198a)+(0x3dd+0x1264+-0x1640)]=_0xa295c9[0x117e*0x2+-0x1b*-0xc7+0x1*-0x37e1]<<0x1b2f*0x1+-0x2410+0x8f6|_0xa295c9[-0x13cf*-0x1+-0x1a00+-0x17*-0x46]<<-0x1673*0x1+-0xc34+0x22b2|_0xa295c9[0x466*0x7+0x1*-0xd63+-0x114d],_0x52911f[_0x558396*(-0x36*0x9d+0x13*0x181+0x48f)+(-0x8*0x71+0x11*-0x23+0x5dd)]=_0xa295c9[0xa*0x1d9+-0x358+0xf07*-0x1]<<0x13*0x16a+-0xa5*0x3b+-0x59f*-0x2|_0xa295c9[-0x73*0x46+0x1*0xdb8+-0x1*-0x11d6]<<-0xe9*0x11+-0x25bf+-0x5*-0xaa7|_0xa295c9[-0x16e8+-0x211a+0x381f],_0x52911f[_0x558396*(0x15*0x99+0x196f+0x97e*-0x4)+(0x2089+0x4fd*0x2+-0x2a80)]=_0xa295c9[-0x7*-0xe5+0x1245+-0x186a]<<0x1b33+-0x9d+0x1*-0x1a81|_0xa295c9[-0x1b01+0x51e+0x1602]<<-0x200*-0x2+-0x4b1*0x6+0x1*0x1831|_0xa295c9[0x9f*0x1d+0x2*-0xdcd+0x9b7],_0x32821f[_0x558396*(-0x221d+-0x122d+0x344e)+(-0x1*-0x19f+-0x516*0x4+-0x12b9*-0x1)]=_0xa295c9[-0x1e08+-0x1351+0x317a]<<-0xd13*0x2+-0x510+0x1f4b|_0xa295c9[-0x97f+-0x248a+0x2e2b*0x1]<<-0xccd+0xb83+0x155|_0xa295c9[-0x1*0xf03+0xe52+-0x6a*-0x2],_0x32821f[_0x558396*(-0x2*0x1175+-0x1a50+0xea*0x43)+(-0x1*0x1675+-0xe91+0x2507)]=_0xa295c9[0x96e+-0x1ec8*-0x1+-0x2812]<<0x3be*0x2+0x9c9*0x2+-0x1af9|_0xa295c9[-0x24b*-0xd+-0x1c1f+-0x18b]<<0x1*-0x24bc+-0x16f9+0x3bc0|_0xa295c9[0x3f1+-0x22fe+0x1f33],_0x32821f[_0x558396*(-0xd*0x97+-0x243f+0x2bee)+(0x8c1+-0xf21*-0x2+-0x2701)]=_0xa295c9[-0x1277+0x52f*0x2+0x840]<<0x7*-0x396+-0x1fa*0x3+0x213*0xf|_0xa295c9[0x121c+0x1e25+-0x7*0x6df]<<0x2417+0x1b32+-0x2*0x1f9f|_0xa295c9[0x336+0x7*-0x1e7+0x3*0x36c],_0x32821f[_0x558396*(-0xafc+0x1089+-0x589)+(0x8e8+0x1*-0x1b4f+0x126a)]=_0xa295c9[0xb5f*-0x1+0x805*-0x4+0x2b9d]<<-0x225a+0x705+0x1b6a|_0xa295c9[-0x3*0x2ff+0x5*0x7cb+-0x1dcf*0x1]<<0x2592*-0x1+0x121d+0x1380|_0xa295c9[0xf9e+-0x10ac*-0x1+-0x201e]):_0x52911f[_0x558396]=_0xa295c9[0x7c*0x3+-0x7*0x3f5+0x2*0xd2a]<<0x1d6d+-0x15da+0x112*-0x7|_0xa295c9[0x18f3*-0x1+-0x8*0x43f+0x3b01]<<-0x24e1*-0x1+-0x7aa+0x1*-0x1d2c|_0xa295c9[-0x908+0x23eb*-0x1+-0x1685*-0x2]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x1799fa,'sh4to7Data':_0x4a8a2c,'sh8to11Data':_0x52911f,'sh12to15Data':_0x32821f}},[_0x1799fa['buffer'],_0x4a8a2c['buffer'],_0x52911f['buffer'],_0x32821f['buffer']]);},_0x3eee4e=()=>{_0x3ee4a9=null,_0x4f507c=null,_0x596214=null,_0x4f0d4a=null,_0x11846b=null,_0x402310=null,_0x5d916a=null,_0x91dbd8=null;};}class AC extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+bC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x6a7d02,_0x45dc32,_0x26d45e){_0x6a7d02['onmessage']=_0x654d12=>{if(!this['worker'])return;const {data:_0x41b6ed}=_0x654d12;if(_0x41b6ed['type']===_0x45dc32)switch(_0x45dc32){case'updatedSHD'+'ata1':_0x26d45e(_0x41b6ed['data']);break;case'updatedCol'+'orData':_0x26d45e(_0x41b6ed['data']);break;case'updatedTra'+'nsformData':_0x26d45e(_0x41b6ed);break;}};}['updateSHDa'+'ta1'](_0x1e5ec2,_0x9ebcb2,_0x249115){var _0x18b242;return(_0x18b242=this['worker'])==null||_0x18b242['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0x1e5ec2,'shBands':_0x9ebcb2,'SHData':_0x249115}),new Promise(_0x570993=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x4a1924=>{_0x570993(_0x4a1924);});});}async['updateTran'+'sData'](_0x5cbd53,_0x558039,_0x1485d6,_0x5b8fb5,_0x12856c,_0x124491,_0x8da98,_0x2877f7){var _0x135bca;return(_0x135bca=this['worker'])==null||_0x135bca['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0x5cbd53,'is4D':_0x558039,'position':_0x1485d6,'rotation':_0x5b8fb5,'motion':_0x12856c,'scale':_0x124491,'muT':_0x8da98,'tScale':_0x2877f7}),new Promise(_0x1596cb=>{const _0x2e6d8b=_0x1d7093=>{_0x1596cb(_0x1d7093);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x2e6d8b);});}['destroy'](){var _0xdc2eb1;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0xdc2eb1=this['worker'])==null||_0xdc2eb1['terminate'](),this['worker']=null);}}const xg=(_0x1e0caf,_0x38e08b)=>{const _0x27da80=[];for(let _0x3c7fe7=0x26fc+-0x11c*-0xc+-0x4*0xd13;_0x3c7fe7<_0x38e08b;++_0x3c7fe7)_0x27da80['push'](_0x1e0caf['getProp']('f_rest_'+_0x3c7fe7));return _0x27da80;};class CC extends Rv{constructor(_0x4cceb4,_0x5120c2){super(_0x4cceb4,_0x5120c2),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(-0x707*-0x1+0x984+0x49*-0x3a)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new AC(),this['assetsMana'+'gerLoadedT'+'ime']=-0x1cab+0x1*0xac1+0x11ef);}['setSceneIn'+'fo'](_0x4395c4){this['sceneInfo']['duration']=_0x4395c4['duration'],this['sceneInfo']['fps']=_0x4395c4['fps'],this['sceneInfo']['totalGauss'+'ians']=_0x4395c4['totalGauss'+'ians'],this['sceneInfo']['globalBoun'+'dingBoxMin']=new D(_0x4395c4['globalBoun'+'dingBox']['min'][-0x2652+-0x11e1*-0x1+0x1471],_0x4395c4['globalBoun'+'dingBox']['min'][-0xbcf+0x1609*0x1+-0xa39],_0x4395c4['globalBoun'+'dingBox']['min'][0x2e6*-0x9+-0x95*0x21+-0x1*-0x2d4d]),this['sceneInfo']['globalBoun'+'dingBoxMax']=new D(_0x4395c4['globalBoun'+'dingBox']['max'][-0xf*-0x1b1+0x1966+0x32c5*-0x1],_0x4395c4['globalBoun'+'dingBox']['max'][-0x1dcd+0x1acd+0x301],_0x4395c4['globalBoun'+'dingBox']['max'][0xa19*0x1+0x8*0x435+0x1*-0x2bbf]);const _0x481633=_0x4395c4['globalBoun'+'dingBox']['min'][-0xf27*-0x1+0x1*0x1025+-0x4*0x7d3],_0x475081=_0x4395c4['globalBoun'+'dingBox']['min'][0x8*-0x292+-0xb*-0x385+0x17*-0xca],_0x494214=_0x4395c4['globalBoun'+'dingBox']['min'][-0x129*-0x14+0x15b6*0x1+0x59d*-0x8],_0x3d1366=_0x4395c4['globalBoun'+'dingBox']['max'][-0x2ff+0x76a+-0x46b],_0x490a0c=_0x4395c4['globalBoun'+'dingBox']['max'][-0xe*0xe2+-0x838+-0xb*-0x1df],_0x2f7ebf=_0x4395c4['globalBoun'+'dingBox']['max'][0x2099+-0x24c5*0x1+0x42e],_0x508a1c=new D((_0x481633+_0x3d1366)*(-0x4d7+-0x26db+-0x77*-0x5e+0.5),(_0x475081+_0x490a0c)*(-0xeb5+-0x55*-0x5+0xd0c+0.5),(_0x494214+_0x2f7ebf)*(0x15a8+0x1399+-0x2941+0.5)),_0x4d0a7c=new D((_0x3d1366-_0x481633)*(0x1*0x14a5+0xfdc*0x2+0x1*-0x345d+0.5),(_0x490a0c-_0x475081)*(0x134e*-0x2+0x10f4+0x15a8+0.5),(_0x2f7ebf-_0x494214)*(0x156a*0x1+0xdf*-0x9+-0xd93+0.5)),_0xd10c25=new De(_0x508a1c,_0x4d0a7c);this['sceneInfo']['globalBoun'+'dingBox']=_0xd10c25,this['aabb']=_0xd10c25;}async['updateData'](){var _0x1cd14a,_0x971f54,_0x14d817,_0x3cfda4,_0xe7f827,_0x3c12ff,_0x25dcba,_0x122d32,_0xf0c480,_0x40f02f,_0xcc30ab;await super['updateData']();const _0x48490d=this['gsplatData'];if(!_0x48490d)return;this['is4D']=_0x48490d['is4D'];const _0x479cc4=await this['getTransfo'+'rmDataByWo'+'rker'](_0x48490d);this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0x479cc4['centers'],this['motion']=_0x479cc4['motion'],this['tScale']=_0x479cc4['tScaleArra'+'y'],this['muT']=await _0x48490d['getMuT'](),this['timeIndex']=await _0x48490d['getTimeInd'+'ex']();const _0x4aa7a1=this['evalTextur'+'eSize'](_0x48490d['numSplats']);this['colorTextu'+'re']?((_0x1cd14a=this['colorTextu'+'re2'])==null||_0x1cd14a['destroy'](),(_0x971f54=this['transformA'+'Texture2'])==null||_0x971f54['destroy'](),(_0x14d817=this['transformB'+'Texture2'])==null||_0x14d817['destroy'](),(_0x3cfda4=this['transformR'+'Texture2'])==null||_0x3cfda4['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x4aa7a1),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x4aa7a1),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x4aa7a1),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x4aa7a1),this['is4D']&&((_0xe7f827=this['transformM'+'otionTextu'+'re2'])==null||_0xe7f827['destroy'](),(_0x3c12ff=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x3c12ff['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x4aa7a1),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x4aa7a1))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0x4aa7a1),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x4aa7a1),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0x4aa7a1),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x4aa7a1),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0x4aa7a1),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x4aa7a1),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x4aa7a1),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x4aa7a1),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0x4aa7a1),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x4aa7a1),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0x4aa7a1),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x4aa7a1))),await this['updateColo'+'rData'](_0x48490d),await this['updateTran'+'sformFromD'+'ata'](_0x479cc4),this['shBands']=_0x48490d['shBands'],this['shBands']>0x839+0x587+-0xdc0&&(this['sh1to3Text'+'ure']?((_0x25dcba=this['sh1to3Text'+'ure2'])==null||_0x25dcba['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x4aa7a1),this['shBands']>0x5*-0x704+-0x2093+0x43a8&&((_0x122d32=this['sh4to7Text'+'ure2'])==null||_0x122d32['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x4aa7a1),this['shBands']>-0x198a*-0x1+-0x3*-0x203+-0x1f91?((_0xf0c480=this['sh8to11Tex'+'ture2'])==null||_0xf0c480['destroy'](),(_0x40f02f=this['sh12to15Te'+'xture2'])==null||_0x40f02f['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x4aa7a1),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x4aa7a1)):((_0xcc30ab=this['sh8to11Tex'+'ture2'])==null||_0xcc30ab['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x4aa7a1)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x4aa7a1),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0x4aa7a1),this['shBands']>-0xf30+-0x1f0a+-0x9*-0x523&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0x4aa7a1),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x4aa7a1),this['shBands']>0x1*-0x1f5f+-0x17f3+-0x2*-0x1baa?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0x4aa7a1),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x4aa7a1),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0x4aa7a1),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x4aa7a1)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0x4aa7a1),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0x4aa7a1)))),await this['updateSHDa'+'taByWorker'](_0x48490d));}['updateText'+'ure'](){this['isDestroye'+'d']||(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x53cfab){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x53cfab}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x44f194,_0x14ceb4,_0x41ea0e,_0x3939de,_0x59f359,_0x56dd05){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x44f194,'timeOption':_0x14ceb4,'loadedTime':_0x41ea0e,'asset':_0x3939de,'events':_0x59f359,'seekCB':_0x56dd05}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(0xbc7+-0x162d*0x1+-0x2*-0x533);try{for(;this['appendQueu'+'e']['length']>-0x406+-0x34*0x5c+0x16b6;){const _0x10f8ea=this['appendQueu'+'e']['shift']();_0x10f8ea['type']==='append'?await this['processApp'+'endTask'](_0x10f8ea['data']):_0x10f8ea['type']==='release'&&await this['processRel'+'easeTask'](_0x10f8ea['data']);}}finally{this['isProcessi'+'ngQueue']=!(-0x1167+0x2503+0x3*-0x689);}}}async['processRel'+'easeTask'](_0x331aa1){const {index:_0x32ad6a}=_0x331aa1;this['isDestroye'+'d']||await this['gsplatData']['releaseSeq'+'Data'](_0x32ad6a);}async['processApp'+'endTask'](_0x245744){var _0x590eda;const {gsplatData:_0x1569dd,timeOption:_0x30f781,loadedTime:_0x8cca0,asset:_0x271079,events:_0xba34,seekCB:_0x214372}=_0x245744;!this['gsplatData']||this['isDestroye'+'d']||(globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0x30f781,this['asset']=_0x271079,this['assetsMana'+'gerLoadedT'+'ime']=_0x8cca0,this['events']=_0xba34,await this['gsplatData']['appendGSpl'+'atData'](_0x1569dd,_0x8cca0,_0x30f781),console['log']('loadTime__'+'__','gsplatDeco'+'dedResourc'+'e\x20gsplatDa'+'ta.appendG'+'SplatData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x13*0x86+0xc10*0x2+-0x2210),_0x1569dd['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0x1569dd['numSplats'])['toFixed'](0x1ee*0xc+0x1*-0x852+0x1*-0xed3)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20this.upd'+'ateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x289+0xa49*0x3+0x970*-0x3),_0x1569dd['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await((_0x590eda=this['gsplatInst'+'ance'])==null?void(-0x8ad+-0x77*-0x6+-0x5e3*-0x1):_0x590eda['updateInst'+'anceData'](this,_0x8cca0,_0x214372)),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20updateIn'+'stanceData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x15e4+0x221c+-0x37fe),_0x1569dd['numSplats']));}['fireAssets'+'ManagerTim'+'eIndex'](_0x1f8a6f,_0x36b23e){var _0x44416f;const _0x3c3e7d=_0x1f8a6f||this['assetsMana'+'gerLoadedT'+'ime'];(_0x44416f=this['asset'])==null||_0x44416f['fire']('setAssetsL'+'oaded',_0x3c3e7d,_0x36b23e);}['destroy'](){var _0x2a04b9,_0x9c702a,_0x12d6ab,_0x16eb19,_0x2d3cf6,_0x3a91d2,_0x14bbe2,_0x180ccd,_0x61a641,_0x55737e,_0x1da280,_0x416aae,_0x2a5362,_0x5d2516,_0x53e84a,_0x2af745,_0x1d6ad3,_0xf81ed2,_0x4a303c,_0x5737bd,_0x2fedbf;(_0x2a04b9=this['updateData'+'Worker'])==null||_0x2a04b9['destroy'](),this['updateData'+'Worker']=void(-0x1*0x1a8b+0x25e1+-0x5ab*0x2),(_0x9c702a=this['colorTextu'+'re'])==null||_0x9c702a['destroy'](),(_0x12d6ab=this['transformA'+'Texture'])==null||_0x12d6ab['destroy'](),(_0x16eb19=this['transformB'+'Texture'])==null||_0x16eb19['destroy'](),(_0x2d3cf6=this['transformR'+'Texture'])==null||_0x2d3cf6['destroy'](),(_0x3a91d2=this['transformM'+'otionTextu'+'re'])==null||_0x3a91d2['destroy'](),(_0x14bbe2=this['transformL'+'ifecycleTe'+'xture'])==null||_0x14bbe2['destroy'](),(_0x180ccd=this['sh1to3Text'+'ure'])==null||_0x180ccd['destroy'](),(_0x61a641=this['sh4to7Text'+'ure'])==null||_0x61a641['destroy'](),(_0x55737e=this['sh8to11Tex'+'ture'])==null||_0x55737e['destroy'](),(_0x1da280=this['sh12to15Te'+'xture'])==null||_0x1da280['destroy'](),(_0x416aae=this['colorTextu'+'re2'])==null||_0x416aae['destroy'](),(_0x2a5362=this['transformA'+'Texture2'])==null||_0x2a5362['destroy'](),(_0x5d2516=this['transformB'+'Texture2'])==null||_0x5d2516['destroy'](),(_0x53e84a=this['transformR'+'Texture2'])==null||_0x53e84a['destroy'](),(_0x2af745=this['transformM'+'otionTextu'+'re2'])==null||_0x2af745['destroy'](),(_0x1d6ad3=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x1d6ad3['destroy'](),(_0xf81ed2=this['sh1to3Text'+'ure2'])==null||_0xf81ed2['destroy'](),(_0x4a303c=this['sh4to7Text'+'ure2'])==null||_0x4a303c['destroy'](),(_0x5737bd=this['sh8to11Tex'+'ture2'])==null||_0x5737bd['destroy'](),(_0x2fedbf=this['sh12to15Te'+'xture2'])==null||_0x2fedbf['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x564668){var _0x123616,_0x40f833,_0x2a7b64,_0x32b882,_0x1794a5,_0x109c04,_0x74f181,_0x317651,_0x30a828,_0x3d4ff6,_0x21378f,_0x1d5660,_0x576026;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0x59a91e=((_0x123616=_0x564668['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(0x1e1c+-0xe*-0x100+-0x2c1c):_0x123616['data'])??0x3c7*0x8+-0xb79*0x1+-0x12bf,_0x558d9a=((_0x40f833=_0x564668['getParamet'+'er']('uSplatScal'+'e'))==null?void(0x1497+-0x22c3+0xe2c*0x1):_0x40f833['data'])??-0xbce+0x2*-0x6df+-0xd3*-0x1f,_0x18bb92=((_0x2a7b64=_0x564668['getParamet'+'er']('uSaturatio'+'n'))==null?void(0x1fb7+0x1cd4+0x581*-0xb):_0x2a7b64['data'])??0xd*-0x67+0xda6+0x2*-0x435,_0x111514=((_0x32b882=_0x564668['getParamet'+'er']('uHueOffset'))==null?void(0x14e2+0xc1*0x5+-0x18a7*0x1):_0x32b882['data'])??-0x1c04+-0x175e+-0x2*-0x19b1,_0x5d9362=((_0x1794a5=_0x564668['getParamet'+'er']('uInvertOpa'+'city'))==null?void(-0xc5*0x1f+0x117*0x1b+-0x592):_0x1794a5['data'])??0x1*0x1981+0x12a*-0xd+-0xa5f,_0x59d800=((_0x109c04=_0x564668['getParamet'+'er']('uOpacity'))==null?void(-0x2dc*0x9+-0xe44+-0x2*-0x1400):_0x109c04['data'])??0x49*-0x2c+-0x2c6*-0xe+-0x3c1*0x7,_0xd8e63f=((_0x74f181=_0x564668['getParamet'+'er']('clrOffset'))==null?void(-0x78+0x1535+0x1*-0x14bd):_0x74f181['data'])??[0x1*-0x5fb+0x256d+0x19*-0x142,0x143e*-0x1+0x4d*-0x59+0x1d*0x19f,-0x2*-0xccf+0xd1f*-0x2+0xa0,-0x2*-0x12fd+-0x1467+-0x1192],_0x181067=((_0x317651=_0x564668['getParamet'+'er']('clrScale'))==null?void(-0x1886+0x2*0x53+0x5f8*0x4):_0x317651['data'])??[-0x131a+-0x2073+0x338e,-0x10e3+0x15bf+-0x4db,-0x1288*0x1+0x2*-0x445+0x1*0x1b13,-0xb*0x1d9+-0xa6+0xb3*0x1e],_0x594f73=((_0x30a828=_0x564668['getParamet'+'er']('uShapeN'))==null?void(-0x1*0x1549+0x2f*0xce+0x583*-0x3):_0x30a828['data'])??-0x732+-0x24ae+0x2*0x15f0,_0x26ffad=((_0x3d4ff6=_0x564668['getParamet'+'er']('mode'))==null?void(-0xd66+0x2d8+0xa8e):_0x3d4ff6['data'])??-0xfb7+-0xd27+0x1cde,_0x89f463=((_0x21378f=_0x564668['getParamet'+'er']('ringSize'))==null?void(-0x24c6+-0x16c*0x6+-0x2*-0x16a7):_0x21378f['data'])??-0xbfd+0x3*0x78b+-0xaa4,_0x5a5833=((_0x1d5660=_0x564668['defines'])==null?void(-0x1b+0x134*-0xb+0xd57):_0x1d5660['get']('uOpenAnim'))??'0',_0x5de100=((_0x576026=_0x564668['defines'])==null?void(-0x7a*0x21+-0x389*0x2+-0x4*-0x5b3):_0x576026['get']('uControlCo'+'lorMode'))??'0';_0x564668['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x564668['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x564668['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x564668['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x564668['setParamet'+'er']('uSplatScal'+'e',_0x558d9a),_0x564668['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0x59a91e),_0x564668['setParamet'+'er']('uSaturatio'+'n',_0x18bb92),_0x564668['setParamet'+'er']('uHueOffset',_0x111514),_0x564668['setParamet'+'er']('uInvertOpa'+'city',_0x5d9362),_0x564668['setParamet'+'er']('uOpacity',_0x59d800),_0x564668['setParamet'+'er']('clrOffset',_0xd8e63f),_0x564668['setParamet'+'er']('clrScale',_0x181067),_0x564668['setParamet'+'er']('uShapeN',_0x594f73),_0x564668['setParamet'+'er']('mode',_0x26ffad),_0x564668['setParamet'+'er']('ringSize',_0x89f463),_0x564668['setParamet'+'er']('prerenderC'+'Time',0xc0*-0x10+-0x121*0x19+0x2839),_0x564668['setParamet'+'er']('renderSpac'+'e',-0x11*0xac+-0xee7+0x1a5d),_0x564668['setParamet'+'er']('endSpace',0xab8+0x2462+0x3*-0xfb0),_0x564668['setDefine']('uOpenAnim',_0x5a5833),_0x564668['setDefine']('uControlCo'+'lorMode',_0x5de100),this['transformM'+'otionTextu'+'re']&&_0x564668['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x564668['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x564668['setDefine']('SH_BANDS',this['shBands']),_0x564668['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x564668['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x564668['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x564668['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x564668['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0xc2a90a){const _0x4bee5d=Math['ceil'](Math['sqrt'](_0xc2a90a)),_0x4e01ea=Math['ceil'](_0xc2a90a/_0x4bee5d);return new J(_0x4bee5d,_0x4e01ea);}async['updateColo'+'rData'](_0x2f4421){var _0x30a4a0;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x33f219=this['colorTextu'+'re2'];if(!_0x33f219||this['isDestroye'+'d'])return;let _0x218bd3=(_0x30a4a0=_0x2f4421['transformD'+'ata'])==null?void(-0xc84*-0x3+-0x33f*-0x1+-0x28cb):_0x30a4a0['dataColor'];if(!_0x218bd3){const _0x339dec=_0x2f4421['getProp']('color_opac'+'ity');_0x218bd3=new Uint16Array(_0x339dec['buffer']['slice']());}await this['idleUpdate'+'TexturePro'+'mise'](_0x33f219,_0x218bd3);}async['getTransfo'+'rmDataByWo'+'rker'](_0x5682f8){var _0x287dab;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x287dab=_0x5682f8['transformD'+'ata'])!=null&&_0x287dab['dataCenter'+'s'])return{'centers':_0x5682f8['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0x5682f8['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0x5682f8['transformD'+'ata']['dataScale'],'dataRotation':_0x5682f8['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0x5682f8['transformD'+'ata']['dataMotion'],'dataTime':_0x5682f8['transformD'+'ata']['dataTime'],'motion':_0x5682f8['transformD'+'ata']['motion'],'tScaleArray':_0x5682f8['transformD'+'ata']['tScaleArra'+'y']};const _0x5d4889=_0x5682f8['getProp']('position'),_0x29b4fb=_0x5682f8['getProp']('motion'),_0x23a8fc=_0x5682f8['getProp']('rotation'),_0x37f762=_0x5682f8['getProp']('scale'),_0x257bf3=_0x5682f8['getProp']('t'),_0x46dddb=_0x5682f8['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0x5682f8['numSplats'],this['is4D'],_0x5d4889,_0x23a8fc,_0x29b4fb,_0x37f762,_0x257bf3,_0x46dddb);}async['updateTran'+'sformFromD'+'ata'](_0x25cbc7){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0x25cbc7['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0x25cbc7['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0x25cbc7['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0x25cbc7['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0x25cbc7['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x2ed285,_0x3f5c25){if(!this['isDestroye'+'d'])return new Promise(_0x21b8da=>{requestIdleCallback(()=>{const _0x2f4b45=_0x2ed285['lock']();_0x2f4b45==null||_0x2f4b45['set'](_0x3f5c25),_0x2ed285['unlock'](),_0x21b8da(!(0x2*-0x737+0x9e9+0x485*0x1));},{'timeout':0x12c});});}async['updateSHDa'+'ta'](_0x5147cf){var _0x51cae0,_0x2d4992,_0x29c0bb,_0x2ad227,_0xf5f8df,_0x4c0908,_0x3555c2,_0x30d3b5;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0x2a8497=(_0x51cae0=this['sh1to3Text'+'ure2'])==null?void(-0x107*-0xd+0x1915+-0x4*0x99c):_0x51cae0['lock'](),_0x5557a7=(_0x2d4992=this['sh4to7Text'+'ure2'])==null?void(0x1*-0x17eb+-0xd7d+0x2568):_0x2d4992['lock'](),_0x3a6dfe=(_0x29c0bb=this['sh8to11Tex'+'ture2'])==null?void(-0x1bd1+0x1348+0x889):_0x29c0bb['lock'](),_0x3ae95f=(_0x2ad227=this['sh12to15Te'+'xture2'])==null?void(-0x1ac+0xff8+-0xe4c):_0x2ad227['lock'](),_0x48f3e1={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x4170e0=xg(_0x5147cf,_0x48f3e1*(0x1*0x1f66+0x1933+-0x3896)),_0x30df2f=-0x5*0x8c+-0x1*-0x18da+-0xe1f,_0xea36e6=-0x6f6+0x29*0xed+-0x1*0x1b00,_0x1994c4=new Float32Array(0xf13*0x1+0xcb1*0x3+-0x38b*0xf),_0x449d8d=new Uint32Array(_0x1994c4['buffer']),_0x1dccf6=new Array(_0x48f3e1*(0xf3e+-0x1805+0x8ca))['fill'](0x152e*-0x1+-0x138+-0x2f*-0x7a);for(let _0x1f0fc4=0x696+0x1f6f*0x1+-0x1*0x2605;_0x1f0fc4<_0x5147cf['numSplats'];++_0x1f0fc4){for(let _0x2cd7ea=-0x252d+0x217*0xd+0xa02;_0x2cd7ea<_0x48f3e1;++_0x2cd7ea)_0x1dccf6[_0x2cd7ea*(-0x1*-0x178c+0x4*-0x879+-0x1*-0xa5b)]=_0x4170e0[_0x2cd7ea][_0x1f0fc4],_0x1dccf6[_0x2cd7ea*(-0x3*0x91d+0xb1*-0x1e+0x3018)+(0xfdc*-0x2+-0x1*0x293+0x224c)]=_0x4170e0[_0x2cd7ea+_0x48f3e1][_0x1f0fc4],_0x1dccf6[_0x2cd7ea*(-0x2443*-0x1+-0x14a4+-0x4a*0x36)+(0x827+-0x194+-0x691)]=_0x4170e0[_0x2cd7ea+_0x48f3e1*(0x1*-0xe3e+-0xd24+0x1b64)][_0x1f0fc4];let _0xb6e474=_0x1dccf6[0x3b*0x99+-0x525+-0x1e1e];for(let _0x2fea9a=-0x1c83+-0x19b6+0x363a;_0x2fea9a<_0x48f3e1*(-0x24d9+-0xe84+0xcd8*0x4);++_0x2fea9a)_0xb6e474=Math['max'](_0xb6e474,Math['abs'](_0x1dccf6[_0x2fea9a]));if(_0xb6e474!==-0x1cba+-0xb2d*-0x3+-0x1*0x4cd){for(let _0x5ee6de=0x1cb9+0x12f4+-0x2fad;_0x5ee6de<_0x48f3e1;++_0x5ee6de)_0x1dccf6[_0x5ee6de*(0x3d*0x11+0x1*0xdfb+0x7*-0x293)+(-0xa62+0x1ff7*0x1+-0x1*0x1595)]=Math['max'](-0x7e8+-0x1305+0x71*0x3d,Math['min'](_0x30df2f,Math['floor']((_0x1dccf6[_0x5ee6de*(0x10b7+0xb2+-0x1166)+(0x1b1b+-0x18a+-0x1991)]/_0xb6e474*(0x13fe+0x8cd*-0x1+0xbf*-0xf+0.5)+(-0x29*-0x52+-0xedb+0x1b9+0.5))*_0x30df2f+(-0x236*-0x8+-0x1*0x1bef+0xa3f+0.5)))),_0x1dccf6[_0x5ee6de*(-0x1f2d+-0x1af9+0x7*0x84f)+(-0x6d2*-0x4+-0x131*-0x5+-0x213c)]=Math['max'](-0x2160+-0x47*0x79+0x42ef,Math['min'](_0xea36e6,Math['floor']((_0x1dccf6[_0x5ee6de*(-0x1663+-0x32b*0xb+0x393f)+(0x257*-0xf+-0x1f5*0x11+0x445f)]/_0xb6e474*(0x1a92+-0x4*-0x837+-0x3b6e+0.5)+(-0x1132*-0x1+0xd*-0x5+-0x10f1+0.5))*_0xea36e6+(0x3*0x397+0x3*-0x95+-0x302*0x3+0.5)))),_0x1dccf6[_0x5ee6de*(0x1*-0xd8d+0x72a*0x4+-0xf18)+(-0xff7*0x2+-0x91*-0x37+0xc9)]=Math['max'](-0x1310*-0x2+0x1028+0x6c9*-0x8,Math['min'](_0x30df2f,Math['floor']((_0x1dccf6[_0x5ee6de*(-0x9ae+0x540*0x1+-0x17b*-0x3)+(-0x13ca+-0x1*0x183b+0x2c07)]/_0xb6e474*(-0x1c1a+0x708+0x1512*0x1+0.5)+(0x27*0x31+0x58*0x3a+0x1*-0x1b67+0.5))*_0x30df2f+(-0x2f0+0x1d0d+0x5*-0x539+0.5))));_0x1994c4[0x2*-0xe48+-0x306*-0x9+0x15a]=_0xb6e474,_0x2a8497[_0x1f0fc4*(0xcd6*0x3+0x496*0x8+0x2*-0x2597)+(-0x9d9*0x2+-0x1433+0x27e5)]=_0x449d8d[-0x18*-0x4f+-0x182e+-0xe2*-0x13],_0x2a8497[_0x1f0fc4*(-0x2*-0x74f+-0x1a3*0x8+-0x182)+(-0x7fe+-0x1*0xd1f+0x151e)]=_0x1dccf6[-0x16e0+0x9e1+0x3*0x455]<<-0xa3*0x24+0xca*0x20+-0x23f|_0x1dccf6[-0x3a5*0x8+-0x1439+0x18b1*0x2]<<-0x8*-0x40e+0x1d33+-0x3d98|_0x1dccf6[0x3b*-0x44+0x1*-0x2339+0x32e7],_0x2a8497[_0x1f0fc4*(-0x10c0+-0x1d3c+0x2e00)+(-0xb3*0x11+-0x15fc+-0x21e1*-0x1)]=_0x1dccf6[-0x20cf+0x2217+-0x145]<<-0x95b+0x160*0x10+0xc9*-0x10|_0x1dccf6[0xc3b+-0x1*0x269b+0x1a64]<<-0x1*-0x80f+0x24e0+-0x44*0xa9|_0x1dccf6[-0x11e3+-0x1966+0x2b4e],_0x2a8497[_0x1f0fc4*(-0x1*0x8ef+0x1325+-0xa32)+(0xf10*0x1+-0x6*0x2f+-0xdf3)]=_0x1dccf6[-0xb*0x2ea+-0xd*0x2bf+0x43c7*0x1]<<0x1f74+0x7*0x4f3+-0x4204|_0x1dccf6[-0x1*0x527+-0x13*-0x33+0x165*0x1]<<-0x47f*0x3+-0x1*-0xa27+0x361|_0x1dccf6[-0x15*-0xb5+0x3c+0xf0d*-0x1],this['shBands']>-0x1e5*0x13+-0x5*0x43b+0x3*0x130d&&(_0x5557a7[_0x1f0fc4*(-0x4ba+-0x9c1+0x3*0x4d5)+(-0x1ec1+0x18e4*-0x1+0x37a5)]=_0x1dccf6[0x1*0x158d+0x1*-0x10da+-0x2*0x255]<<-0x1d6c+0x1039*-0x2+0x3df3|_0x1dccf6[0x1fce+-0x202d+-0x1*-0x69]<<0xaea*-0x2+-0x2519+0x3af8|_0x1dccf6[-0xc52+-0x1*0x18d1+0x252e],_0x5557a7[_0x1f0fc4*(-0x36b+-0x124d*0x1+0x6b*0x34)+(0x24f*-0x1+0x1353+0x367*-0x5)]=_0x1dccf6[0x14*0x126+0xc5*-0x8+-0x10c4]<<-0x2*0xa13+0x15c3+-0x188|_0x1dccf6[-0x25e1*-0x1+0x2a0+-0x2874]<<-0x25cf+0x14d7*0x1+-0x14f*-0xd|_0x1dccf6[-0x9*-0x2b3+0xb32+-0x236f],_0x5557a7[_0x1f0fc4*(-0x10ea+0x1f3*0xd+-0x1*0x869)+(-0x5af+-0x3d1*-0x3+0x16*-0x43)]=_0x1dccf6[-0x1c42*-0x1+-0x2569+-0x312*-0x3]<<-0x67*-0x59+-0x1ab3+-0x907|_0x1dccf6[-0x186f*0x1+-0x6e*-0x19+0xdc1]<<0x472*-0x1+0x7b2+-0x335|_0x1dccf6[-0x255+-0x12*-0xa6+-0x2*0x4a3],_0x5557a7[_0x1f0fc4*(-0xe24+0x2313+-0x14eb)+(0x4*-0xd9+-0x2332+0x1*0x2699)]=_0x1dccf6[-0x1091+-0x1a7c+0x1*0x2b1f]<<0x13a0+-0x101*0xd+-0x67e|_0x1dccf6[-0x1e*0x1f+-0x155d+-0x1912*-0x1]<<-0x2261+0x1f04*0x1+0x368|_0x1dccf6[-0x1247*0x2+-0x1ad5+-0xb*-0x5c5],this['shBands']>-0xe7*-0x29+0x789*-0x3+-0xe62*0x1?(_0x3a6dfe[_0x1f0fc4*(0x17f*-0x8+-0x13*-0xf7+0x1*-0x659)+(-0x1181*-0x2+0xb67*0x3+-0x553*0xd)]=_0x1dccf6[-0x1*0x1867+0x2577+-0xcfb]<<0x18f4+-0x1fc9+-0xa*-0xb1|_0x1dccf6[0x190d*0x1+0xae8+-0xbf5*0x3]<<0x1*0x607+0x1b25+-0x303*0xb|_0x1dccf6[0x4c*-0x9+0xe42*-0x1+0x1105],_0x3a6dfe[_0x1f0fc4*(-0x184e+-0x1997+0x3*0x10a3)+(-0x2c*0x83+-0x1*-0xe37+0x84e)]=_0x1dccf6[0x107b*-0x2+0x2*-0x97a+0x3402]<<-0x1737+-0x17*0xa+0x1832|_0x1dccf6[0x70e+0x277*-0x8+0xcc3]<<0x1e4a+0xb*0x13d+-0x2bde|_0x1dccf6[-0xa42+-0x8d*-0x21+-0x7d1],_0x3a6dfe[_0x1f0fc4*(-0x1*-0xdcb+-0x16d*-0x6+-0x1655)+(-0x17*-0x57+0xad9+-0x6*0x31c)]=_0x1dccf6[-0x2525+0x1a3c+0x5e*0x1e]<<-0x62a+0x2352+0x1*-0x1d13|_0x1dccf6[-0x1cf1+-0x175e+0x346b]<<0x2684+-0x3c5*-0x1+-0x1*0x2a3e|_0x1dccf6[0x6*-0x1c5+0x87d+-0x1*-0x23e],_0x3a6dfe[_0x1f0fc4*(0x2*-0x13d+-0x16b9+0x1937)+(0x148b*0x1+-0x1*-0xa0f+-0x1e97*0x1)]=_0x1dccf6[-0x36*-0x14+0x1f7b+-0x2395]<<0x17f*-0x1+0x5*0x6e7+-0x20ef|_0x1dccf6[-0x852+-0xf*0x281+-0x1*-0x2e00]<<0x1464+0x29*-0x8d+-0xd*-0x2c|_0x1dccf6[0x1*0x1e47+-0x24d6+-0x1*-0x6af],_0x3ae95f[_0x1f0fc4*(-0xd*-0x8b+0x8ef*-0x2+0xad3)+(0x20f*0x5+-0x62*-0x3f+-0x2269)]=_0x1dccf6[-0xd68+0x8*-0x44f+0x3001]<<0x1098+-0x21b2+0x112f*0x1|_0x1dccf6[-0x4f1+0x1cf*-0x5+0x8b*0x1a]<<0x236b+0x9*0x2f5+-0x3dfd|_0x1dccf6[-0x1ba5+-0x1069+0x2c31],_0x3ae95f[_0x1f0fc4*(0x1*-0xb59+0x2091+-0x5c*0x3b)+(-0x10dd+0x138e+-0x2b0)]=_0x1dccf6[-0x47*-0x7+-0x161a+0x1*0x144d]<<0x1*-0xc27+0x1b41+-0xf05|_0x1dccf6[0xff6+0x2252*0x1+-0x2f3*0x11]<<-0x1f71*0x1+-0x68d+0x2609|_0x1dccf6[-0x11c4+0x1d99*0x1+-0x3*0x3e5],_0x3ae95f[_0x1f0fc4*(-0xe3*0xd+0x35*0x13+0x4*0x1e7)+(-0x26fd+0x12c7+0x1438)]=_0x1dccf6[0x164*0x14+0x1*-0x248e+0x8e5]<<-0x32*0x7d+-0x438*-0x6+-0xd1|_0x1dccf6[0x2476+-0x43*-0x34+-0x31ea]<<-0x4f3+0x15c8+0x1*-0x10ca|_0x1dccf6[-0x8*-0x1e1+0x2346+-0x3*0x10b7],_0x3ae95f[_0x1f0fc4*(-0x1*-0x1565+-0x1*0x6c5+-0xe9c)+(0xdd9*0x2+0x26bc+-0x426b)]=_0x1dccf6[-0x14f7+-0x1f*0xd1+0x2e70]<<-0x219+-0xcf8*-0x3+-0x24ba|_0x1dccf6[0xc8e*-0x2+-0xa65*0x1+0x23ac]<<-0x4f7*0x1+-0x156d+0x1a6f|_0x1dccf6[0xa36+-0x19dc+0xfd2]):_0x3a6dfe[_0x1f0fc4]=_0x1dccf6[-0x10ca*-0x1+-0xec*-0xa+-0x19ed]<<0x1c15+-0x45+-0x1bbb|_0x1dccf6[-0x16a6+0x16f9+-0x3d]<<0x1*-0x1015+0x6*-0x3e7+0x278a|_0x1dccf6[0xd*0xd+-0x1*0xbeb+0xb59]);}}(_0xf5f8df=this['sh1to3Text'+'ure2'])==null||_0xf5f8df['unlock'](),(_0x4c0908=this['sh4to7Text'+'ure2'])==null||_0x4c0908['unlock'](),(_0x3555c2=this['sh8to11Tex'+'ture2'])==null||_0x3555c2['unlock'](),(_0x30d3b5=this['sh12to15Te'+'xture2'])==null||_0x30d3b5['unlock']();}async['updateSHDa'+'taByWorker'](_0x19037f){var _0x242657,_0x300355,_0x41b817,_0x25c525,_0xd813ae;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x4d9d67={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0xc7ae5b,_0x151416,_0x198ab9,_0x148f2f;if((_0x242657=_0x19037f['transformD'+'ata'])!=null&&_0x242657['sh1to3Data'])_0xc7ae5b=(_0x300355=_0x19037f['transformD'+'ata'])==null?void(-0x30*-0xd+0x373*-0x3+0x7e9):_0x300355['sh1to3Data'],_0x151416=(_0x41b817=_0x19037f['transformD'+'ata'])==null?void(0x2284*0x1+-0x1*-0x757+-0x1*0x29db):_0x41b817['sh4to7Data'],_0x198ab9=(_0x25c525=_0x19037f['transformD'+'ata'])==null?void(-0x1*-0x2519+-0x151*-0x17+-0x4360):_0x25c525['sh8to11Dat'+'a'],_0x148f2f=(_0xd813ae=_0x19037f['transformD'+'ata'])==null?void(-0x1cbc+0xa9*-0x17+-0x2beb*-0x1):_0xd813ae['sh12to15Da'+'ta'];else{const _0x145d16=xg(_0x19037f,_0x4d9d67*(0x1341*0x1+0x1*0x1268+-0x25a6)),_0xaeb38b=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0x19037f['numSplats'],this['shBands'],_0x145d16);_0xc7ae5b=_0xaeb38b['sh1to3Data'],_0x151416=_0xaeb38b['sh4to7Data'],_0x198ab9=_0xaeb38b['sh8to11Dat'+'a'],_0x148f2f=_0xaeb38b['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0xc7ae5b),this['shBands']>0x118f+0x177f+-0x290d&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0x151416),this['shBands']>-0x112b+-0x13*0x17d+-0x2d74*-0x1?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x198ab9),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0x148f2f)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x198ab9));}}const PC='FILL_WINDO'+'W',Tg='KEEP_ASPEC'+'T',wg='AUTO',MC='FIXED';let Ov;function Ms(){return Ov;}function _u(_0x1480cb){Ov=_0x1480cb;}class DC{constructor(){h(this,'renderPass'+'es',[]),h(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x974fa5){w['assert'](_0x974fa5),_0x974fa5['frameUpdat'+'e']();const _0x52e59e=_0x974fa5['beforePass'+'es'];for(let _0xcca134=-0x1b49+0x851*0x2+0xaa7;_0xcca134<_0x52e59e['length'];_0xcca134++){const _0x5c8236=_0x52e59e[_0xcca134];_0x5c8236['enabled']&&this['addRenderP'+'ass'](_0x5c8236);}_0x974fa5['enabled']&&this['renderPass'+'es']['push'](_0x974fa5);const _0x5f3465=_0x974fa5['afterPasse'+'s'];for(let _0x54ef84=0xef9*0x1+-0x239d+0x14a4;_0x54ef84<_0x5f3465['length'];_0x54ef84++){const _0x553e2e=_0x5f3465[_0x54ef84];_0x553e2e['enabled']&&this['addRenderP'+'ass'](_0x553e2e);}}['reset'](){this['renderPass'+'es']['length']=0x1cd9+-0x17*0x119+0x1cd*-0x2;}['compile'](){const _0x3f8614=this['renderTarg'+'etMap'],_0x2adeae=this['renderPass'+'es'];for(let _0x91fea7=0x1*0x4fd+-0x33*0x2c+-0x3c7*-0x1;_0x91fea7<_0x2adeae['length'];_0x91fea7++){const _0x55a207=_0x2adeae[_0x91fea7],_0x2679a0=_0x55a207['renderTarg'+'et'];if(_0x2679a0!==void(-0x41f+0x14d6+-0x10b7)){const _0x398e11=_0x3f8614['get'](_0x2679a0);if(_0x398e11){const _0x3ddd21=_0x55a207['colorArray'+'Ops']['length'];for(let _0x570211=-0x1*0x393+0x194a*-0x1+0x335*0x9;_0x570211<_0x3ddd21;_0x570211++)_0x55a207['colorArray'+'Ops'][_0x570211]['clear']||(_0x398e11['colorArray'+'Ops'][_0x570211]['store']=!(0xd*0x39+-0x13bd+0x10d8));_0x55a207['depthStenc'+'ilOps']['clearDepth']||(_0x398e11['depthStenc'+'ilOps']['storeDepth']=!(-0x1*0xd1e+0x1cce+0x1f6*-0x8)),_0x55a207['depthStenc'+'ilOps']['clearStenc'+'il']||(_0x398e11['depthStenc'+'ilOps']['storeStenc'+'il']=!(-0x1333+-0x24d*-0x9+-0x2*0xc1));}_0x3f8614['set'](_0x2679a0,_0x55a207);}}for(let _0x3b1b63=-0x1f0f+-0x127e+-0x127*-0x2b;_0x3b1b63<_0x2adeae['length']-(-0x12dc+0x12a5+0x38);_0x3b1b63++){const _0x45fece=_0x2adeae[_0x3b1b63],_0x935549=_0x45fece['renderTarg'+'et'],_0x48a5c0=_0x2adeae[_0x3b1b63+(0x3*-0x31b+-0x3b2+0xd04)],_0x5991a7=_0x48a5c0['renderTarg'+'et'];_0x935549!==_0x5991a7||_0x935549===void(-0xa*-0xb5+-0x57*0x6f+0x1ea7)||_0x48a5c0['depthStenc'+'ilOps']['clearDepth']||_0x48a5c0['depthStenc'+'ilOps']['clearStenc'+'il']||_0x48a5c0['colorArray'+'Ops']['some'](_0x232a22=>_0x232a22['clear'])||_0x45fece['afterPasse'+'s']['length']>0x22cc+-0x1d13+-0x5b9||_0x48a5c0['beforePass'+'es']['length']>-0xb31+0x1b23*0x1+0xff2*-0x1||(_0x45fece['_skipEnd']=!(0x7a8+-0x792*0x2+0x77c),_0x48a5c0['_skipStart']=!(-0x68f*0x3+-0x242a+-0x1*-0x37d7));}let _0x72cd8d=null,_0x3f78af=null;for(let _0x40130c=0x1*-0x2a1+-0x1*-0x2b3+-0x12;_0x40130c<_0x2adeae['length'];_0x40130c++){const _0x2de0ed=_0x2adeae[_0x40130c],_0x5c2e33=_0x2de0ed['renderTarg'+'et'],_0x490177=_0x5c2e33==null?void(0x13a3+0x1125*0x1+-0x24c8):_0x5c2e33['colorBuffe'+'r'];if(_0x490177!=null&&_0x490177['cubemap']){if(_0x72cd8d===_0x490177){const _0x4a8fc7=_0x3f78af['colorArray'+'Ops']['length'];for(let _0x384941=-0x1*-0x2173+-0x1c32+0x10d*-0x5;_0x384941<_0x4a8fc7;_0x384941++)_0x3f78af['colorArray'+'Ops'][_0x384941]['mipmaps']=!(-0x2*0x7fb+-0xb46+0x16f*0x13);}_0x72cd8d=_0x5c2e33['colorBuffe'+'r'],_0x3f78af=_0x2de0ed;}else _0x2de0ed['requiresCu'+'bemaps']&&(_0x72cd8d=null,_0x3f78af=null);}_0x3f8614['clear']();}['render'](_0x58d6d2){this['compile']();const _0x34490a=this['renderPass'+'es'];for(let _0x36a275=0x19fb+-0x1ad2+-0x5*-0x2b;_0x36a275<_0x34490a['length'];_0x36a275++)_0x34490a[_0x36a275]['render']();}}class IC{constructor(_0x3b2c11,_0x3f371b){this['texture0']=_0x3b2c11,this['texture1']=_0x3f371b;}['destroy'](){var _0x4f751c,_0x214897;(_0x4f751c=this['texture0'])==null||_0x4f751c['destroy'](),(_0x214897=this['texture1'])==null||_0x214897['destroy']();}}const Eg=new Kt();class ia{static['createText'+'ure'](_0xf82b96,_0x5dfab6,_0x52b0aa,_0x2ccc36=''){return new _e(_0xf82b96,{'name':'AreaLightL'+'UT'+_0x2ccc36,'width':_0x52b0aa,'height':_0x52b0aa,'format':_0x5dfab6,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':vt,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(-0x7c5*0x1+0x2*-0xaa6+0x1d12)});}static['applyTextu'+'res'](_0x33d7e2,_0x5141e0,_0x519ef1){Eg['remove'](_0x33d7e2),Eg['get'](_0x33d7e2,()=>new IC(_0x5141e0,_0x5141e0===_0x519ef1?null:_0x519ef1)),_0x33d7e2['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x5141e0),_0x33d7e2['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x519ef1);}static['createPlac'+'eholder'](_0x326687){const _0x373bc3=ia['createText'+'ure'](_0x326687,nt,-0x237e+0x1c34+-0x3a6*-0x2,'placeholde'+'r');_0x373bc3['lock']()['fill'](-0x1cf8+0xb*0x323+-0x589),_0x373bc3['unlock'](),ia['applyTextu'+'res'](_0x326687,_0x373bc3,_0x373bc3);}static['set'](_0x33d239,_0xdf923a,_0x55c2d7){function _0x555161(_0x207b3e,_0x41d8c0,_0x4515c7){const _0x5201f7=ia['createText'+'ure'](_0x207b3e,_0x4515c7,-0x1dd*-0xd+0x12f0+-0x2ae9*0x1);return _0x5201f7['lock']()['set'](_0x41d8c0),_0x5201f7['unlock'](),_0x5201f7;}function _0x596ce(_0x223b6f){const _0x39ff0a=_0x223b6f['length'],_0x5c66ba=new Uint16Array(_0x39ff0a),_0x2f921e=Mn['float2Half'];for(let _0x456dbe=-0x13d*-0x5+-0x1*-0x8+-0x1b*0x3b;_0x456dbe<_0x39ff0a;_0x456dbe++)_0x5c66ba[_0x456dbe]=_0x2f921e(_0x223b6f[_0x456dbe]);return _0x5c66ba;}const _0x2c12c6=_0xdf923a,_0x334ff7=_0x55c2d7,_0xd6e056=_0x596ce(_0x2c12c6),_0x7b939e=_0x596ce(_0x334ff7),_0x32c464=_0x555161(_0x33d239,_0xd6e056,nt),_0x2a0e86=_0x555161(_0x33d239,_0x7b939e,nt);ia['applyTextu'+'res'](_0x33d239,_0x32c464,_0x2a0e86);}}const Ph='en-US',Mh={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},Sm={};function Dr(_0x21832b,_0x208827){for(let _0x5a6d7c=0x14dc+0x1ea6+-0x3382,_0x15060a=_0x21832b['length'];_0x5a6d7c<_0x15060a;_0x5a6d7c++)Sm[_0x21832b[_0x5a6d7c]]=_0x208827;}function Oi(_0x1c03ee){const _0x4b3a04=_0x1c03ee['indexOf']('-');return _0x4b3a04!==-(-0x6c5+-0x2596+0x2c5c)?_0x1c03ee['substring'](-0x18af+-0x24ad+0x3d5c,_0x4b3a04):_0x1c03ee;}function LC(_0x30ca65,_0x2b48d0){const _0x41b61d=_0x30ca65['indexOf']('-');return _0x41b61d!==-(-0x596+-0xc87*0x1+0x121e)?_0x2b48d0+_0x30ca65['substring'](_0x41b61d):_0x2b48d0;}function Fv(_0x513f83,_0x2f5686){if(_0x2f5686[_0x513f83])return _0x513f83;let _0x1be300=Mh[_0x513f83];if(_0x1be300&&_0x2f5686[_0x1be300])return _0x1be300;const _0x137950=Oi(_0x513f83);return _0x1be300=Mh[_0x137950],_0x2f5686[_0x1be300]?_0x1be300:_0x2f5686[_0x137950]?_0x137950:Ph;}Dr(['ja','ko','th','vi','zh','id'],_0x271b23=>-0x23b4+-0x17f+-0x59*-0x6b),Dr(['fa','hi'],_0x525d44=>_0x525d44>=0xe09+0x2ce+-0x9*0x1df&&_0x525d44<=0xdc0+0xb3a+-0x18f9*0x1?-0x1*-0x187d+0xe09+-0x2686:0x2e5+0x11*0x20+-0x504),Dr(['fr','pt'],_0x28f6ab=>_0x28f6ab>=-0x3*-0x810+-0x1b2e+0x2fe*0x1&&_0x28f6ab<-0x5*0x259+-0x8db+0x1*0x149a?0x2*0x1227+-0x7a4+-0x1caa:-0x1*-0x2519+0xe3e+-0x19ab*0x2),Dr(['da'],_0x1fc221=>_0x1fc221===-0xe2*-0x2+0x225f+0x39d*-0xa||!Number['isInteger'](_0x1fc221)&&_0x1fc221>=-0x456+0x1957+-0x1*0x1501&&_0x1fc221<=0x10e6+-0x1cc3+-0x1*-0xbde?0x1e77+-0x1b8+-0x1*0x1cbf:0x405+0xc*0x86+-0x4*0x293),Dr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x1e8791=>_0x1e8791===0x15f1+-0xea3+0x74d*-0x1?0x310+-0xe*0x1cf+0x16*0x103:-0x130b+-0x1558+0x2f*0xdc),Dr(['ru','uk'],_0x4ddb29=>{if(Number['isInteger'](_0x4ddb29)){const _0x4f3c64=_0x4ddb29%(-0x23eb+0x18b6+0xb3f),_0x58ab56=_0x4ddb29%(-0xd4c+0x3e*0x82+-0x10c*0x11);if(_0x4f3c64===-0x1*-0x2709+0x6*0x547+-0x46b2&&_0x58ab56!==0x22fa*0x1+-0x1*-0x9ce+-0x2cbd)return 0x3*0x306+0x781*-0x2+0x5f0;if(_0x4f3c64>=0x1*0x121f+0x26c6*-0x1+0x14a9&&_0x4f3c64<=0x19*-0x17f+0x218f*-0x1+0x46fa&&(_0x58ab56<0x6be+-0x317*0x3+0x293||_0x58ab56>0x23fc+0x13*0x82+-0x2d94))return-0x206f+-0x10b+0x217b;if(_0x4f3c64===0xe9*-0xf+0x4c5+-0x8e2*-0x1||_0x4f3c64>=0x1f07+-0x1487*0x1+-0xa7b&&_0x4f3c64<=-0x1836+-0x968*0x4+0x3ddf||_0x58ab56>=-0x23*-0x91+0x1ae9+0x2eb1*-0x1&&_0x58ab56<=-0x79*0x45+0x502*-0x5+0xb*0x53f)return-0x4*0x751+0x1ea9+-0x163;}return 0x1*-0x277+0x2103+-0x1e89;}),Dr(['pl'],_0x283b73=>{if(Number['isInteger'](_0x283b73)){if(_0x283b73===-0x776*0x4+-0x25cf+-0x6c4*-0xa)return-0x4a*-0x31+-0x1a33*-0x1+0x285d*-0x1;const _0x59afd0=_0x283b73%(-0x3b4+-0xa66*0x2+0x188a*0x1),_0x3435b0=_0x283b73%(-0x22e6+0xee7*0x1+0x1463);if(_0x59afd0>=0x20fe+0x772*-0x3+-0xaa6&&_0x59afd0<=-0x4*-0x122+-0x13*0x11b+0x107d&&(_0x3435b0<0x10a1+-0x15ff+-0x42*-0x15||_0x3435b0>-0x34*0x18+-0xdc*-0x21+-0x176e*0x1))return 0x2707*0x1+0x13c*0x1c+-0x1*0x4996;if(_0x59afd0>=0x22b+-0x2225+0x1ffa&&_0x59afd0<=-0x267a+-0x1ab+0x9*0x476||_0x59afd0>=-0x20e7+0xcc2+0x142a&&_0x59afd0<=-0x1df+0x701+-0x519||_0x3435b0>=-0x999*0x3+-0x610+-0x6fb*-0x5&&_0x3435b0<=-0x1c1a+-0x1*0x224d+0x10f*0x3b)return 0x1b4d+0x2654+-0x419f;}return 0x2256+-0x8c5+0xcc7*-0x2;}),Dr(['ar'],_0x7100bc=>{if(_0x7100bc===0x1218+0x1a75+-0x2c8d)return-0xcda+-0xbda+-0x6*-0x41e;if(_0x7100bc===-0x1*0x1e8b+0x115*0x1c+-0x40*-0x1)return 0xea3*-0x1+0x676*0x5+-0x85*0x22;if(_0x7100bc===-0x1*-0x1403+0xdd5+-0x21d6)return 0xbdf+0x2053+-0x2c30;if(Number['isInteger'](_0x7100bc)){const _0x46795c=_0x7100bc%(0xb*0x260+-0x1fe6+-0x107*-0x6);if(_0x46795c>=0x23*0x116+0x216c+-0x476b&&_0x46795c<=-0x16c1+-0x407+0x1ad2)return-0x5f*0x2e+0x9d*-0x3b+-0xe*-0x3ce;if(_0x46795c>=-0x250f*0x1+0x1e5*0x5+0x1ba1*0x1&&_0x46795c<=0x26ef+0x63d*-0x5+-0x75b)return 0x261d+0x24e+-0x2867;}return 0x3*0x557+-0x1ba6+-0x5d3*-0x2;});const RC=Sm[Oi(Ph)];function Tf(_0x5ade89){return Sm[_0x5ade89]||RC;}const jn=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class OC{constructor(_0x17820f='',_0x51da92='',_0x303607=null,_0x592436=null,_0x18df8c=null,_0x24eb74=null){this['url']=_0x17820f,this['filename']=_0x51da92,this['hash']=_0x303607,this['size']=_0x592436,this['opt']=_0x18df8c,this['contents']=_0x24eb74;}['equals'](_0x1bfc59){return this['url']===_0x1bfc59['url']&&this['filename']===_0x1bfc59['filename']&&this['hash']===_0x1bfc59['hash']&&this['size']===_0x1bfc59['size']&&this['opt']===_0x1bfc59['opt']&&this['contents']===_0x1bfc59['contents'];}}let FC=-(-0x1f9*-0x9+0x181c+0x39*-0xbc);const NC={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},bg=['pvr','dxt','etc2','etc1','basis'];class pe extends me{constructor(_0x301b27,_0x33318e,_0x3428cb,_0x353428={},_0x5d763e={}){super(),h(this,'_file',null),h(this,'_i18n',{}),h(this,'_preload',!(0x19a+0x1ff1+-0x1b*0x13e)),h(this,'_resources',[]),h(this,'id',FC--),h(this,'loaded',!(0xd5a*-0x2+0x2485*-0x1+0x1*0x3f3a)),h(this,'loading',!(0x18b9+0x2441+-0x3cf9)),h(this,'options',{}),h(this,'registry',null),h(this,'tags',new Oo(this)),h(this,'type'),h(this,'urlObject',null),(this['_name']=_0x301b27||'',this['type']=_0x33318e,this['_data']=_0x353428||{},this['options']=_0x5d763e||{},_0x3428cb&&(this['file']=_0x3428cb));}set['name'](_0x5b81ae){if(this['_name']===_0x5b81ae)return;const _0x1d38ba=this['_name'];this['_name']=_0x5b81ae,this['fire']('name',this,this['_name'],_0x1d38ba);}get['name'](){return this['_name'];}set['file'](_0x47d817){var _0x2d9eae,_0x318e56;if(_0x47d817&&_0x47d817['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(-0x2305+-0x20e3*0x1+0x43e9)){const _0x375f97=((_0x318e56=(_0x2d9eae=this['registry'])==null?void(-0x6b1+-0xd*-0x20+0x1*0x511):_0x2d9eae['_loader'])==null?void(0x57*-0x29+-0x1bdb+0x29ca):_0x318e56['_app'])||Ms(),_0x32704b=_0x375f97==null?void(-0x22*-0x6b+-0x1*-0xc77+-0x1aad):_0x375f97['graphicsDe'+'vice'];if(_0x32704b)for(let _0x4e1bbb=-0x1191+0xa4c+0x745,_0x2e3e18=bg['length'];_0x4e1bbb<_0x2e3e18;_0x4e1bbb++){const _0x349992=bg[_0x4e1bbb];if(_0x47d817['variants'][_0x349992]&&_0x32704b[NC[_0x349992]]){_0x47d817=_0x47d817['variants'][_0x349992];break;}if(_0x375f97['enableBund'+'les']){const _0x636ded=_0x375f97['bundles']['listBundle'+'sForAsset'](this);if(_0x636ded&&_0x636ded['find'](_0x33704f=>{var _0xd0a57a;return(_0xd0a57a=_0x33704f==null?void(-0x605+0x6bc+-0xb7):_0x33704f['file'])==null?void(0x1b74+-0x1525+0x143*-0x5):_0xd0a57a['variants'][_0x349992];}))break;}}}const _0x2c4b9b=this['_file'],_0x25f170=_0x47d817?new OC(_0x47d817['url'],_0x47d817['filename'],_0x47d817['hash'],_0x47d817['size'],_0x47d817['opt'],_0x47d817['contents']):null;(!!_0x25f170!=!!_0x2c4b9b||_0x25f170&&!_0x25f170['equals'](_0x2c4b9b))&&(this['_file']=_0x25f170,this['fire']('change',this,'file',_0x25f170,_0x2c4b9b),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x29572b){const _0xa45ec=this['_data'];this['_data']=_0x29572b,_0x29572b!==_0xa45ec&&(this['fire']('change',this,'data',_0x29572b,_0xa45ec),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x46cde8){const _0x279c56=this['_resources'][0x21e3+0x1301+-0x34e4];this['_resources'][0x895*0x3+0x1abb+0x117e*-0x3]=_0x46cde8,this['fire']('change',this,'resource',_0x46cde8,_0x279c56);}get['resource'](){return this['_resources'][0x5b7+-0x2046+0x1a8f];}set['resources'](_0x1c166a){const _0x3736b6=this['_resources'];this['_resources']=_0x1c166a,this['fire']('change',this,'resources',_0x1c166a,_0x3736b6);}get['resources'](){return this['_resources'];}set['preload'](_0xc499b3){_0xc499b3=!!_0xc499b3,this['_preload']!==_0xc499b3&&(this['_preload']=_0xc499b3,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0x7bc8cd){_0x7bc8cd=!!_0x7bc8cd,(!this['hasOwnProp'+'erty']('_loadFaces')||_0x7bc8cd!==this['_loadFaces'])&&(this['_loadFaces']=_0x7bc8cd,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x1ec595=this['file'];if(!_0x1ec595||!_0x1ec595['url'])return null;let _0x22ff21=_0x1ec595['url'];if(this['registry']&&this['registry']['prefix']&&!jn['test'](_0x22ff21)&&(_0x22ff21=this['registry']['prefix']+_0x22ff21),this['type']!=='script'&&_0x1ec595['hash']){const _0x27decf=_0x22ff21['indexOf']('?')!==-(-0x2363+0x5*-0x11c+0x28f0)?'&':'?';_0x22ff21+=_0x27decf+'t='+_0x1ec595['hash'];}return _0x22ff21;}['getAbsolut'+'eUrl'](_0x20c4e6){if(_0x20c4e6['startsWith']('blob:')||_0x20c4e6['startsWith']('data:'))return _0x20c4e6;const _0x11bc07=xe['getDirecto'+'ry'](this['file']['url']);return xe['join'](_0x11bc07,_0x20c4e6);}['getLocaliz'+'edAssetId'](_0xae4aed){return _0xae4aed=Fv(_0xae4aed,this['_i18n']),this['_i18n'][_0xae4aed]||null;}['addLocaliz'+'edAssetId'](_0x141e1d,_0x9479b7){this['_i18n'][_0x141e1d]=_0x9479b7,this['fire']('add:locali'+'zed',_0x141e1d,_0x9479b7);}['removeLoca'+'lizedAsset'+'Id'](_0x4f8699){const _0x55b0bd=this['_i18n'][_0x4f8699];_0x55b0bd&&(delete this['_i18n'][_0x4f8699],this['fire']('remove:loc'+'alized',_0x4f8699,_0x55b0bd));}['ready'](_0x31217f,_0x4a4de8){_0x4a4de8=_0x4a4de8||this,this['loaded']?_0x31217f['call'](_0x4a4de8,this):this['once']('load',_0x316ac0=>{_0x31217f['call'](_0x4a4de8,_0x316ac0);});}['reload'](){this['loaded']&&(this['loaded']=!(-0x26c4+0x1*-0xcdc+0x33a1),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===0x1*-0x43e+0x1e8b*-0x1+0x22c9)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x1b9883=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(0x1a4+0x85a+-0x9fd),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x2e6232=0x95*0x3d+0x2*-0x40e+-0x1b65;_0x2e6232<_0x1b9883['length'];++_0x2e6232){const _0x20b307=_0x1b9883[_0x2e6232];_0x20b307&&_0x20b307['destroy']&&_0x20b307['destroy']();}}static['fetchArray'+'Buffer'](_0x1896e8,_0x2c6b2c,_0xda2a6,_0x2ee915=0xed3+0x1*-0x6ed+0x2*-0x3f3){var _0x5761c6;(_0x5761c6=_0xda2a6==null?void(0x1*-0x15ff+-0x389*0x9+0x35d0):_0xda2a6['file'])!=null&&_0x5761c6['contents']?setTimeout(()=>{_0x2c6b2c(null,_0xda2a6['file']['contents']);}):ot['get'](_0x1896e8,{'cache':!(-0xb1d+-0x145+0xc62),'responseType':'arraybuffe'+'r','retry':_0x2ee915>0xc5f+0x495+0x23*-0x7c,'maxRetries':_0x2ee915},_0x2c6b2c);}}h(pe,'EVENT_LOAD','load'),h(pe,'EVENT_UNLO'+'AD','unload'),h(pe,'EVENT_REMO'+'VE','remove'),h(pe,'EVENT_ERRO'+'R','error'),h(pe,'EVENT_CHAN'+'GE','change'),h(pe,'EVENT_PROG'+'RESS','progress'),h(pe,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),h(pe,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class kC{constructor(_0x1ca560=null){h(this,'_index',{}),h(this,'_key'),this['_key']=_0x1ca560;}['addItem'](_0x39ae16){const _0x216bc7=_0x39ae16['tags']['_list'];for(const _0x27b27e of _0x216bc7)this['add'](_0x27b27e,_0x39ae16);}['removeItem'](_0x2a724a){const _0x4c8bab=_0x2a724a['tags']['_list'];for(const _0x283eb9 of _0x4c8bab)this['remove'](_0x283eb9,_0x2a724a);}['add'](_0x554edc,_0x169c4e){this['_index'][_0x554edc]&&this['_index'][_0x554edc]['list']['indexOf'](_0x169c4e)!==-(0xc*-0x99+0x18d7+0x77*-0x26)||(this['_index'][_0x554edc]||(this['_index'][_0x554edc]={'list':[]},this['_key']&&(this['_index'][_0x554edc]['keys']={})),this['_index'][_0x554edc]['list']['push'](_0x169c4e),this['_key']&&(this['_index'][_0x554edc]['keys'][_0x169c4e[this['_key']]]=_0x169c4e));}['remove'](_0x5841b4,_0x1559b2){if(!this['_index'][_0x5841b4]||this['_key']&&!this['_index'][_0x5841b4]['keys'][_0x1559b2[this['_key']]])return;const _0x160084=this['_index'][_0x5841b4]['list']['indexOf'](_0x1559b2);_0x160084!==-(0x100*0xc+-0x65*0x15+-0x3b6)&&(this['_index'][_0x5841b4]['list']['splice'](_0x160084,0xa5+0x891+0x1*-0x935),this['_key']&&delete this['_index'][_0x5841b4]['keys'][_0x1559b2[this['_key']]],this['_index'][_0x5841b4]['list']['length']===0x24d9+0x1752+0x1*-0x3c2b&&delete this['_index'][_0x5841b4]);}['find'](_0x24a2b6){const _0x56f218={},_0x95a32c=[];let _0x2a921e,_0x4267d9,_0x48e94e,_0x4e542f,_0x12c2ba;const _0x39d025=(_0xaf0511,_0x454b26)=>this['_index'][_0xaf0511]['list']['length']-this['_index'][_0x454b26]['list']['length'];for(let _0x1d2192=0x269*0xd+0x129a+-0x31ef;_0x1d2192<_0x24a2b6['length'];_0x1d2192++){if(_0x4267d9=_0x24a2b6[_0x1d2192],_0x4267d9 instanceof Array){if(_0x4267d9['length']===0x1547+-0x9*0x7e+-0x10d9*0x1)continue;if(_0x4267d9['length']===0x7*-0x379+-0x1*-0x16c3+0x18d)_0x4267d9=_0x4267d9[-0x12*0x1b1+-0x5*0x4ad+-0x3*-0x11f1];else{_0x12c2ba=!(-0x15d*-0x11+0xf3+-0x181f);for(let _0x31062d=0x2e*0x2c+0x1ef9+-0x26e1;_0x31062d<_0x4267d9['length'];_0x31062d++)if(!this['_index'][_0x4267d9[_0x31062d]]){_0x12c2ba=!(-0x8e6+-0x4b1*-0x1+0x435*0x1);break;}if(_0x12c2ba)continue;_0x48e94e=_0x4267d9['slice'](0xfa3+-0x47*-0xa+0x3*-0x623)['sort'](_0x39d025),_0x4e542f=_0x48e94e['slice'](0x1280+-0x1*0x1250+0x2f*-0x1),_0x4e542f['length']===0x1c9*-0xb+0x1c88+-0x472*0x2&&(_0x4e542f=_0x4e542f[-0x2f6+0x6b5+-0x3bf]);for(let _0x541a7f=-0x2*-0xf47+0x39*0xa7+-0x1*0x43bd;_0x541a7f<this['_index'][_0x48e94e[-0x1003*-0x1+0x212a+-0x312d]]['list']['length'];_0x541a7f++)_0x2a921e=this['_index'][_0x48e94e[0x32*0xc8+0xdf*-0x20+-0x2*0x598]]['list'][_0x541a7f],(this['_key']?!_0x56f218[_0x2a921e[this['_key']]]:_0x95a32c['indexOf'](_0x2a921e)===-(0x1*-0x2187+-0xb*-0x1f7+0xbeb))&&_0x2a921e['tags']['has'](_0x4e542f)&&(this['_key']&&(_0x56f218[_0x2a921e[this['_key']]]=!(-0x2494+-0x1d7+-0x7af*-0x5)),_0x95a32c['push'](_0x2a921e));continue;}}if(_0x4267d9&&typeof _0x4267d9=='string'&&this['_index'][_0x4267d9]){for(let _0x614d2a=-0xfe3+0x3b*0x91+0x58*-0x33;_0x614d2a<this['_index'][_0x4267d9]['list']['length'];_0x614d2a++)_0x2a921e=this['_index'][_0x4267d9]['list'][_0x614d2a],this['_key']?_0x56f218[_0x2a921e[this['_key']]]||(_0x56f218[_0x2a921e[this['_key']]]=!(0x1*0x24ec+-0x71*0x4f+-0xaf*0x3),_0x95a32c['push'](_0x2a921e)):_0x95a32c['indexOf'](_0x2a921e)===-(-0x21d+0x1*0x1bc4+0x3aa*-0x7)&&_0x95a32c['push'](_0x2a921e);}}return _0x95a32c;}}class mn extends me{constructor(_0x25b435){super(),h(this,'_assets',new Set()),h(this,'_loader'),h(this,'_idToAsset',new Map()),h(this,'_urlToAsse'+'t',new Map()),h(this,'_nameToAss'+'et',new Map()),h(this,'_tags',new kC('id')),h(this,'prefix',null),h(this,'bundles',null),this['_loader']=_0x25b435;}['list'](_0xd7af54={}){const _0x5d86e8=Array['from'](this['_assets']);return _0xd7af54['preload']!==void(-0x2dd*-0xa+0xd24+-0x29c6)?_0x5d86e8['filter'](_0x25e31c=>_0x25e31c['preload']===_0xd7af54['preload']):_0x5d86e8;}['add'](_0x2a7015){var _0x41f387,_0x5e9715;this['_assets']['has'](_0x2a7015)||(this['_assets']['add'](_0x2a7015),this['_idToAsset']['set'](_0x2a7015['id'],_0x2a7015),(_0x41f387=_0x2a7015['file'])!=null&&_0x41f387['url']&&this['_urlToAsse'+'t']['set'](_0x2a7015['file']['url'],_0x2a7015),this['_nameToAss'+'et']['has'](_0x2a7015['name'])||this['_nameToAss'+'et']['set'](_0x2a7015['name'],new Set()),this['_nameToAss'+'et']['get'](_0x2a7015['name'])['add'](_0x2a7015),_0x2a7015['on']('name',this['_onNameCha'+'nge'],this),_0x2a7015['registry']=this,this['_tags']['addItem'](_0x2a7015),_0x2a7015['tags']['on']('add',this['_onTagAdd'],this),_0x2a7015['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x2a7015),this['fire']('add:'+_0x2a7015['id'],_0x2a7015),(_0x5e9715=_0x2a7015['file'])!=null&&_0x5e9715['url']&&this['fire']('add:url:'+_0x2a7015['file']['url'],_0x2a7015),_0x2a7015['preload']&&this['load'](_0x2a7015));}['remove'](_0x3d6ea1){var _0x2c3ce9,_0x12f9cc;if(!this['_assets']['has'](_0x3d6ea1))return!(0xf*0x13b+0x12fc*0x1+-0x2570);if(this['_assets']['delete'](_0x3d6ea1),this['_idToAsset']['delete'](_0x3d6ea1['id']),(_0x2c3ce9=_0x3d6ea1['file'])!=null&&_0x2c3ce9['url']&&this['_urlToAsse'+'t']['delete'](_0x3d6ea1['file']['url']),_0x3d6ea1['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x3d6ea1['name'])){const _0x4180b4=this['_nameToAss'+'et']['get'](_0x3d6ea1['name']);_0x4180b4['delete'](_0x3d6ea1),_0x4180b4['size']===0x7e3*0x3+0x112a+-0x28d3&&this['_nameToAss'+'et']['delete'](_0x3d6ea1['name']);}return this['_tags']['removeItem'](_0x3d6ea1),_0x3d6ea1['tags']['off']('add',this['_onTagAdd'],this),_0x3d6ea1['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x3d6ea1['fire']('remove',_0x3d6ea1),this['fire']('remove',_0x3d6ea1),this['fire']('remove:'+_0x3d6ea1['id'],_0x3d6ea1),(_0x12f9cc=_0x3d6ea1['file'])!=null&&_0x12f9cc['url']&&this['fire']('remove:url'+':'+_0x3d6ea1['file']['url'],_0x3d6ea1),!(-0x1a0c+0x2*-0xb9+0x1b7e);}['get'](_0x2d7cea){return this['_idToAsset']['get'](Number(_0x2d7cea));}['getByUrl'](_0x11cfa1){return this['_urlToAsse'+'t']['get'](_0x11cfa1);}['load'](_0x5c62a4,_0xd78b05){if((_0x5c62a4['loading']||_0x5c62a4['loaded'])&&!(_0xd78b05!=null&&_0xd78b05['force']))return;const _0xa45d31=_0x5c62a4['file'],_0x280a59=()=>{this['fire']('load',_0x5c62a4),this['fire']('load:'+_0x5c62a4['id'],_0x5c62a4),_0xa45d31&&_0xa45d31['url']&&this['fire']('load:url:'+_0xa45d31['url'],_0x5c62a4),_0x5c62a4['fire']('load',_0x5c62a4);},_0x4c48d=_0x16bc04=>{if(_0x16bc04 instanceof Array?_0x5c62a4['resources']=_0x16bc04:_0x5c62a4['resource']=_0x16bc04,this['_loader']['patch'](_0x5c62a4,this),_0x5c62a4['type']==='bundle'){const _0x34add2=_0x5c62a4['data']['assets'];for(let _0x10c72d=0xf81*-0x1+0x240*-0xb+-0xd6b*-0x3;_0x10c72d<_0x34add2['length'];_0x10c72d++){const _0x50627a=this['_idToAsset']['get'](_0x34add2[_0x10c72d]);_0x50627a&&!_0x50627a['loaded']&&this['load'](_0x50627a,{'force':!(0x31f+0xf21*-0x1+0x3a*0x35)});}_0x5c62a4['resource']['loaded']?_0x280a59():(this['fire']('load:start',_0x5c62a4),this['fire']('load:start'+':'+_0x5c62a4['id'],_0x5c62a4),_0xa45d31&&_0xa45d31['url']&&this['fire']('load:start'+':url:'+_0xa45d31['url'],_0x5c62a4),_0x5c62a4['fire']('load:start',_0x5c62a4),_0x5c62a4['resource']['on']('load',_0x280a59));}else _0x280a59();},_0x400c02=(_0x26545f,_0x48f18d,_0x3b2f1b)=>{if(_0x5c62a4['loaded']=!(-0x1ee3*0x1+0x2356+-0x11*0x43),_0x5c62a4['loading']=!(-0x1d21+0x1505*-0x1+0x3227),_0x26545f)this['fire']('error',_0x26545f,_0x5c62a4),this['fire']('error:'+_0x5c62a4['id'],_0x26545f,_0x5c62a4),_0x5c62a4['fire']('error',_0x26545f,_0x5c62a4);else{if(_0x5c62a4['type']==='script'){const _0x143e81=this['_loader']['getHandler']('script');_0x143e81['_cache'][_0x5c62a4['id']]&&_0x143e81['_cache'][_0x5c62a4['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x143e81['_cache'][_0x5c62a4['id']]),_0x143e81['_cache'][_0x5c62a4['id']]=_0x3b2f1b;}_0x4c48d(_0x48f18d);}};if(_0xa45d31||_0x5c62a4['type']==='cubemap'){this['fire']('load:start',_0x5c62a4),this['fire']('load:'+_0x5c62a4['id']+':start',_0x5c62a4),_0x5c62a4['loading']=!(0x976+0x11*-0x1e1+0x167b*0x1);const _0xc63ad3=_0x5c62a4['getFileUrl']();if(_0x5c62a4['type']==='bundle'){const _0x389b65=_0x5c62a4['data']['assets'];for(let _0x51793f=-0x1004*0x1+0x22a7*-0x1+0x32ab;_0x51793f<_0x389b65['length'];_0x51793f++){const _0x12ba75=this['_idToAsset']['get'](_0x389b65[_0x51793f]);_0x12ba75&&(_0x12ba75['loaded']||_0x12ba75['resource']||_0x12ba75['loading']||(_0x12ba75['loading']=!(0x45f*-0x5+-0x1880+0x2e5b)));}}this['_loader']['load'](_0xc63ad3,_0x5c62a4['type'],_0x400c02,_0x5c62a4,_0xd78b05);}else{const _0x3fc455=this['_loader']['open'](_0x5c62a4['type'],_0x5c62a4['data']);_0x5c62a4['loaded']=!(0x2014+-0x8*0xe3+-0x52*0x4e),_0x4c48d(_0x3fc455);}}['reloadInde'+'x'](_0x5299da,_0x29534f,_0x396d95){const _0x4c5337=(_0x5df375,_0x194474,_0x4516a1)=>{_0x29534f['loaded']=!(-0x1a7f+-0xfbb+-0x2a3a*-0x1),_0x29534f['loading']=!(-0x4*-0x32c+0xad3*-0x1+0x2*-0xee);};return this['_loader']['load'](_0x5299da,_0x29534f['type'],_0x4c5337,_0x29534f,_0x396d95),_0x29534f;}['loadFromUr'+'l'](_0x43f6fe,_0x4fa5ca,_0x15933c){this['loadFromUr'+'lAndFilena'+'me'](_0x43f6fe,null,_0x4fa5ca,_0x15933c);}['loadFromUr'+'lAndFilena'+'me'](_0x8e1ece,_0x59f264,_0x19f07a,_0x236d2e){const _0x90db8a=xe['getBasenam'+'e'](_0x59f264||_0x8e1ece),_0x26d9e9={'filename':_0x59f264||_0x90db8a,'url':_0x8e1ece};let _0x578899=this['getByUrl'](_0x8e1ece);if(!_0x578899)_0x578899=new pe(_0x90db8a,_0x19f07a,_0x26d9e9),this['add'](_0x578899);else{if(_0x578899['loaded']){_0x236d2e(_0x578899['loadFromUr'+'lError']||null,_0x578899);return;}}const _0x13e339=_0x5c88b0=>{_0x5c88b0['once']('load',_0x1fed7d=>{_0x19f07a==='material'?this['_loadTextu'+'res'](_0x1fed7d,(_0x14c5b7,_0x26ac1b)=>{_0x236d2e(_0x14c5b7,_0x1fed7d);}):_0x236d2e(null,_0x1fed7d);}),_0x5c88b0['once']('error',_0x7ab029=>{_0x7ab029&&(this['loadFromUr'+'lError']=_0x7ab029),_0x236d2e(_0x7ab029,_0x5c88b0);}),this['load'](_0x5c88b0);};_0x578899['resource']?_0x236d2e(null,_0x578899):_0x19f07a==='model'?this['_loadModel'](_0x578899,_0x13e339):_0x13e339(_0x578899);}['_loadModel'](_0x2e3140,_0x2fc89b){const _0x1e294f=_0x2e3140['getFileUrl'](),_0x157ecf=xe['getExtensi'+'on'](_0x1e294f);if(_0x157ecf==='.json'||_0x157ecf==='.glb'){const _0x4ff143=xe['getDirecto'+'ry'](_0x1e294f),_0x38b2d3=xe['getBasenam'+'e'](_0x1e294f),_0x1bc77c=xe['join'](_0x4ff143,_0x38b2d3['replace'](_0x157ecf,'.mapping.j'+'son'));this['_loader']['load'](_0x1bc77c,'json',(_0x2caf7f,_0x9a3102)=>{_0x2caf7f?(_0x2e3140['data']={'mapping':[]},_0x2fc89b(_0x2e3140)):this['_loadMater'+'ials'](_0x2e3140,_0x9a3102,(_0x1db685,_0x1dcb37)=>{_0x2e3140['data']=_0x9a3102,_0x2fc89b(_0x2e3140);});});}else _0x2fc89b(_0x2e3140);}['_loadMater'+'ials'](_0x1c020a,_0x5afc30,_0x326d02){const _0x24ab82=[];let _0x5531e9=-0x30*-0xc4+-0x35*0xa6+0x262*-0x1;const _0xa6056=(_0x936ae1,_0x275c8d)=>{this['_loadTextu'+'res'](_0x275c8d,(_0xff400e,_0x591627)=>{_0x24ab82['push'](_0x275c8d),_0x24ab82['length']===_0x5531e9&&_0x326d02(null,_0x24ab82);});};for(let _0x3acdce=0x17dd*-0x1+0x1*-0xfd7+-0x9a*-0x42;_0x3acdce<_0x5afc30['mapping']['length'];_0x3acdce++){const _0xbb704d=_0x5afc30['mapping'][_0x3acdce]['path'];if(_0xbb704d){_0x5531e9++;const _0x58e6bd=_0x1c020a['getAbsolut'+'eUrl'](_0xbb704d);this['loadFromUr'+'l'](_0x58e6bd,'material',_0xa6056);}}_0x5531e9===-0x6f5+-0x2*0xf04+0x24fd&&_0x326d02(null,_0x24ab82);}['_loadTextu'+'res'](_0x4eff1a,_0x3de42d){const _0x98089e=[];let _0x20753c=-0x15f2+0x202*-0x1+0x17f4;const _0x195afc=_0x4eff1a['data'];if(_0x195afc['mappingFor'+'mat']!=='path'){w['warn']('Skipping:\x20'+_0x4eff1a['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0x3de42d(null,_0x98089e);return;}const _0x22e9aa=(_0x3150d1,_0x3f53b5)=>{_0x3150d1&&console['error'](_0x3150d1),_0x98089e['push'](_0x3f53b5),_0x98089e['length']===_0x20753c&&_0x3de42d(null,_0x98089e);},_0x5cbfa3=Cd;for(let _0x2f86c7=0x91d+0x1844+0x5*-0x6ad;_0x2f86c7<_0x5cbfa3['length'];_0x2f86c7++){const _0x473e9d=_0x195afc[_0x5cbfa3[_0x2f86c7]];if(_0x473e9d&&typeof _0x473e9d=='string'){_0x20753c++;const _0x5a7a33=_0x4eff1a['getAbsolut'+'eUrl'](_0x473e9d);this['loadFromUr'+'l'](_0x5a7a33,'texture',_0x22e9aa);}}_0x20753c===0x1*-0xdc9+-0x1*-0x1d93+-0x1*0xfca&&_0x3de42d(null,_0x98089e);}['_onTagAdd'](_0x3e4dc2,_0x20a268){this['_tags']['add'](_0x3e4dc2,_0x20a268);}['_onTagRemo'+'ve'](_0x460efc,_0x267fe0){this['_tags']['remove'](_0x460efc,_0x267fe0);}['_onNameCha'+'nge'](_0xe91189,_0x2bb761,_0x41525d){if(this['_nameToAss'+'et']['has'](_0x41525d)){const _0x23e18b=this['_nameToAss'+'et']['get'](_0x41525d);_0x23e18b['delete'](_0xe91189),_0x23e18b['size']===0xbb2+-0x228f+-0x1*-0x16dd&&this['_nameToAss'+'et']['delete'](_0x41525d);}this['_nameToAss'+'et']['has'](_0xe91189['name'])||this['_nameToAss'+'et']['set'](_0xe91189['name'],new Set()),this['_nameToAss'+'et']['get'](_0xe91189['name'])['add'](_0xe91189);}['findByTag'](..._0x4f4287){return this['_tags']['find'](_0x4f4287);}['filter'](_0x27ca4f){return Array['from'](this['_assets'])['filter'](_0x38856c=>_0x27ca4f(_0x38856c));}['find'](_0x276a01,_0x56fe7a){const _0x4c47d4=this['_nameToAss'+'et']['get'](_0x276a01);if(!_0x4c47d4)return null;for(const _0x5620a0 of _0x4c47d4)if(!_0x56fe7a||_0x5620a0['type']===_0x56fe7a)return _0x5620a0;return null;}['findAll'](_0x482a9d,_0x3962e3){const _0x38a468=this['_nameToAss'+'et']['get'](_0x482a9d);if(!_0x38a468)return[];const _0x2b4e33=Array['from'](_0x38a468);return _0x3962e3?_0x2b4e33['filter'](_0x3366b5=>_0x3366b5['type']===_0x3962e3):_0x2b4e33;}}h(mn,'EVENT_LOAD','load'),h(mn,'EVENT_ADD','add'),h(mn,'EVENT_REMO'+'VE','remove'),h(mn,'EVENT_ERRO'+'R','error');class UC{constructor(_0x9b48cd){h(this,'_idToBundl'+'e',new Map()),h(this,'_assetToBu'+'ndles',new Map()),h(this,'_urlsToBun'+'dles',new Map()),h(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0x9b48cd,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x1d60a3){if(_0x1d60a3['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x1d60a3['id'],_0x1d60a3),this['_assets']['on']('load:start'+':'+_0x1d60a3['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x1d60a3['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x1d60a3['id'],this['_onBundleE'+'rror'],this);const _0x107d54=_0x1d60a3['data']['assets'];for(let _0x27a2ec=0x5*-0x70d+-0x1455+-0xb1e*-0x5;_0x27a2ec<_0x107d54['length'];_0x27a2ec++)this['_indexAsse'+'tInBundle'](_0x107d54[_0x27a2ec],_0x1d60a3);}else this['_assetToBu'+'ndles']['has'](_0x1d60a3['id'])&&this['_indexAsse'+'tFileUrls'](_0x1d60a3);}['_unbindAss'+'etEvents'](_0x3ff675){this['_assets']['off']('load:start'+':'+_0x3ff675,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x3ff675,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x3ff675,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x32fd04,_0x38bb4f){let _0x4b49d0=this['_assetToBu'+'ndles']['get'](_0x32fd04);_0x4b49d0||(_0x4b49d0=new Set(),this['_assetToBu'+'ndles']['set'](_0x32fd04,_0x4b49d0)),_0x4b49d0['add'](_0x38bb4f);const _0x47e536=this['_assets']['get'](_0x32fd04);_0x47e536&&this['_indexAsse'+'tFileUrls'](_0x47e536);}['_indexAsse'+'tFileUrls'](_0x57b2b1){const _0x520fc0=this['_getAssetF'+'ileUrls'](_0x57b2b1);if(_0x520fc0)for(let _0x424215=0x2f5*-0x1+0x1e39+0x2ba*-0xa;_0x424215<_0x520fc0['length'];_0x424215++){const _0x5f93dc=this['_assetToBu'+'ndles']['get'](_0x57b2b1['id']);_0x5f93dc&&this['_urlsToBun'+'dles']['set'](_0x520fc0[_0x424215],_0x5f93dc);}}['_getAssetF'+'ileUrls'](_0x867581){let _0x320c56=_0x867581['getFileUrl']();if(!_0x320c56)return null;_0x320c56=_0x320c56['split']('?')[-0x25b7+-0x15b1+0x3b68];const _0xf6f2f6=[_0x320c56];if(_0x867581['type']==='font'){const _0x4b0430=_0x867581['data']['info']['maps']['length'];for(let _0x2c7ec7=-0xe1*0x1a+0x4c4+-0x1217*-0x1;_0x2c7ec7<_0x4b0430;_0x2c7ec7++)_0xf6f2f6['push'](_0x320c56['replace']('.png',_0x2c7ec7+'.png'));}return _0xf6f2f6;}['_onAssetRe'+'move'](_0x172c63){if(_0x172c63['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x172c63['id']),this['_unbindAss'+'etEvents'](_0x172c63['id']);const _0x1f4cb8=_0x172c63['data']['assets'];for(let _0x1246b8=0x19*-0xb+-0x4*0x152+0x1*0x65b;_0x1246b8<_0x1f4cb8['length'];_0x1246b8++){const _0x9eaa7e=this['_assetToBu'+'ndles']['get'](_0x1f4cb8[_0x1246b8]);if(_0x9eaa7e&&(_0x9eaa7e['delete'](_0x172c63),_0x9eaa7e['size']===0x266+-0x163*0x8+0x8b2)){this['_assetToBu'+'ndles']['delete'](_0x1f4cb8[_0x1246b8]);for(const [_0x43bc21,_0x24daf2]of this['_urlsToBun'+'dles'])_0x24daf2===_0x9eaa7e&&this['_urlsToBun'+'dles']['delete'](_0x43bc21);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x172c63['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x172c63['id']))return;this['_assetToBu'+'ndles']['delete'](_0x172c63['id']);const _0x21c837=this['_getAssetF'+'ileUrls'](_0x172c63);if(!_0x21c837)return;for(let _0xd0a14b=-0x56*0x49+-0x1e17*-0x1+-0x591;_0xd0a14b<_0x21c837['length'];_0xd0a14b++)this['_urlsToBun'+'dles']['delete'](_0x21c837[_0xd0a14b]);}}['_onBundleL'+'oadStart'](_0x3e1201){_0x3e1201['resource']['on']('add',(_0xfa17f2,_0x1586b1)=>{const _0x5a9ca4=this['_fileReque'+'sts']['get'](_0xfa17f2);if(_0x5a9ca4){for(let _0x2d0101=0x2193+-0x1f63+-0x10*0x23;_0x2d0101<_0x5a9ca4['length'];_0x2d0101++)_0x5a9ca4[_0x2d0101](null,_0x1586b1);this['_fileReque'+'sts']['delete'](_0xfa17f2);}});}['_onBundleL'+'oad'](_0x126133){if(!_0x126133['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x126133['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0x13abce,_0x2b794b]of this['_fileReque'+'sts']){const _0x24c618=this['_urlsToBun'+'dles']['get'](_0x13abce);if(!_0x24c618||!_0x24c618['has'](_0x126133))continue;const _0x218a77=decodeURIComponent(_0x13abce);let _0x3bb9fb,_0x4b41c6;if(_0x126133['resource']['has'](_0x218a77))_0x4b41c6=_0x126133['resource']['get'](_0x218a77);else{if(_0x126133['resource']['loaded'])_0x3bb9fb='Bundle\x20'+_0x126133['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x13abce;else continue;}for(let _0xa19c20=-0xb*-0x203+-0x18eb+0x2ca;_0xa19c20<_0x2b794b['length'];_0xa19c20++)_0x2b794b[_0xa19c20](_0x3bb9fb,_0x3bb9fb||_0x4b41c6);this['_fileReque'+'sts']['delete'](_0x13abce);}}['_onBundleE'+'rror'](_0x416324){for(const [_0x4a10f6,_0x18b830]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x4a10f6)){for(let _0x1c95c0=-0x1*-0x441+-0x1*-0xa14+-0xe55;_0x1c95c0<_0x18b830['length'];_0x1c95c0++)_0x18b830[_0x1c95c0](_0x416324);this['_fileReque'+'sts']['delete'](_0x4a10f6);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x70c7b9){const _0x3109dc=this['_urlsToBun'+'dles']['get'](_0x70c7b9);if(!_0x3109dc)return null;let _0x3956df=null;for(const _0x381bac of _0x3109dc){if(_0x381bac['loaded']&&_0x381bac['resource'])return _0x381bac;_0x381bac['loading']&&(_0x3956df=_0x381bac);}return _0x3956df;}['listBundle'+'sForAsset'](_0x16adb7){const _0x4f2fad=this['_assetToBu'+'ndles']['get'](_0x16adb7['id']);return _0x4f2fad?Array['from'](_0x4f2fad):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x366fc0){return this['_urlsToBun'+'dles']['has'](_0x366fc0);}['urlIsLoade'+'dOrLoading'](_0x5781a2){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x5781a2);}['loadUrl'](_0x33c07a,_0x3d5dbe){const _0x43502f=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x33c07a);if(!_0x43502f){_0x3d5dbe('URL\x20'+_0x33c07a+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x43502f['loaded']){const _0x31554a=decodeURIComponent(_0x33c07a);if(_0x43502f['resource']['has'](_0x31554a)){_0x3d5dbe(null,_0x43502f['resource']['get'](_0x31554a));return;}else{if(_0x43502f['resource']['loaded']){_0x3d5dbe('Bundle\x20'+_0x43502f['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x33c07a);return;}}}let _0x313cda=this['_fileReque'+'sts']['get'](_0x33c07a);_0x313cda||(_0x313cda=[],this['_fileReque'+'sts']['set'](_0x33c07a,_0x313cda)),_0x313cda['push'](_0x3d5dbe);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x2bbfac of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x2bbfac);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class BC extends me{constructor(){super(),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'joint'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'zone'),this['list']=[];}['add'](_0x3ba4c9){const _0x133ff9=_0x3ba4c9['id'];if(this[_0x133ff9])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x133ff9+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x133ff9]=_0x3ba4c9,this['list']['push'](_0x3ba4c9);}['remove'](_0x4e5a51){const _0x38ee24=_0x4e5a51['id'];if(!this[_0x38ee24])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0x38ee24+('\x27\x20register'+'ed'));delete this[_0x38ee24];const _0x420440=this['list']['indexOf'](this[_0x38ee24]);_0x420440!==-(0xa*0x199+0x467+-0x8*0x28c)&&this['list']['splice'](_0x420440,-0x4*-0x6+0x23*0xaf+-0x1804);}['destroy'](){this['off']();for(let _0x4f0415=-0x109a+0xb2c+0x56e;_0x4f0415<this['list']['length'];_0x4f0415++)this['list'][_0x4f0415]['destroy']();}}class gu extends me{constructor(){super(...arguments),h(this,'_index',new Map()),h(this,'_loaded',!(-0x141b+0x2*-0xf1a+0xe6*0x38));}['addFile'](_0x296516,_0x52bf79){this['_index']['has'](_0x296516)||(this['_index']['set'](_0x296516,_0x52bf79),this['fire']('add',_0x296516,_0x52bf79));}['has'](_0x4d7816){return this['_index']['has'](_0x4d7816);}['get'](_0x3c1de8){return this['_index']['get'](_0x3c1de8)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x1b6540){!_0x1b6540||this['_loaded']||(this['_loaded']=!(-0x51*-0x17+0x1*-0x17e9+-0x2*-0x851),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}h(gu,'EVENT_ADD','add'),h(gu,'EVENT_LOAD','load');class zC extends me{constructor(_0x1d0e2e,_0x318af7=''){super(),h(this,'headerSize',-0x6*0x36d+-0x1*0x1915+0x2fa3),h(this,'paddingSiz'+'e',0x2071+-0x21b3+0x342),h(this,'bytesRead',0x285+-0x20d+0xf*-0x8),h(this,'bytesRecei'+'ved',-0xfe1+-0xf5*0xb+0x1a68),h(this,'headerRead',!(-0x1*0x18a5+0x48a+0x141c)),h(this,'reader',null),h(this,'data',new Uint8Array(-0x291+-0x1874+0x1*0x1b05)),h(this,'decoder',null),h(this,'prefix',''),h(this,'fileName',''),h(this,'fileSize',-0x1918+0x1d48+0x10c*-0x4),h(this,'fileType',''),h(this,'ustarForma'+'t',''),(this['prefix']=_0x318af7||'',this['reader']=_0x1d0e2e['body']['getReader'](),this['reader']['read']()['then'](_0x501299=>{this['pump'](_0x501299['done'],_0x501299['value']);})['catch'](_0x15c33d=>{this['fire']('error',_0x15c33d);}));}['pump'](_0x2b8303,_0x5b3fdd){if(_0x2b8303)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x5b3fdd['byteLength'];const _0x416481=new Uint8Array(this['data']['length']+_0x5b3fdd['length']);for(_0x416481['set'](this['data']),_0x416481['set'](_0x5b3fdd,this['data']['length']),this['data']=_0x416481;this['readFile'](););return this['reader']['read']()['then'](_0xf694c2=>{this['pump'](_0xf694c2['done'],_0xf694c2['value']);})['catch'](_0x5d2cbf=>{this['fire']('error',_0x5d2cbf);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(-0x1b*0x9d+0x1409+0xb2*-0x5);const _0x272bde=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x56ba07=this['decoder']['decode'](_0x272bde);if(this['fileName']=_0x56ba07['substring'](0x20f2+0x34a+-0x243c,-0x1cb4+-0x1bfe+0x3916)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x56ba07['substring'](0x1882+0x10be*0x1+0x1*-0x28c4,0x1b79*0x1+-0x177f+0xe*-0x3f),0x11dd*-0x1+-0x1f*0x9f+0x6*0x631),this['fileType']=_0x56ba07['substring'](0x178b+0x1baf+0x2*-0x194f,-0x1aeb+0x170c*-0x1+0x3294),this['ustarForma'+'t']=_0x56ba07['substring'](-0x1*-0x209+-0x9aa+0x1ba*0x5,-0x2263+0x153c+0xe2e),this['ustarForma'+'t']['indexOf']('ustar')!==-(-0x11cd+-0x1f47+-0x703*-0x7)){const _0x25ca9d=_0x56ba07['substring'](-0x270a+0x20a4+0x3*0x295,0x30*0x8a+0x140f+0x1b*-0x1a1)['replace'](/\0/g,'');_0x25ca9d['length']>-0x1f6*0x13+0x85f+0x1ce3&&(this['fileName']=_0x25ca9d['trim']()+this['fileName']['trim']());}this['bytesRead']+=0x2*-0x39a+-0x8*0x274+-0x334*-0x9;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(-0x2*-0xddc+-0x23a2+0x7eb);if(this['fileType']===''||this['fileType']==='0'){const _0x44d9e9=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x22f71e={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x44d9e9};this['fire']('file',_0x22f71e);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(0x19*-0xb9+0x1a6e+-0x85c);const _0x487361=this['bytesRead']%this['paddingSiz'+'e'];return _0x487361!==0x2c*-0xbd+0x25d0+-0x155*0x4&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x487361),!(-0x192f+-0x1ade+0x340d);}return!(0x14*-0x41+0x1*0x260b+-0x20f6);}}class Qe{constructor(_0x4812af,_0x496c41){h(this,'handlerTyp'+'e',''),h(this,'_app'),h(this,'_maxRetrie'+'s',-0x1*0x1fe7+-0x1f11+-0x3e*-0x104),(this['_app']=_0x4812af,this['handlerTyp'+'e']=_0x496c41);}set['maxRetries'](_0x2f0d05){this['_maxRetrie'+'s']=_0x2f0d05;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x3281f8,_0x16e0bb,_0x16c000){}['open'](_0x17e2f1,_0x2f87d1,_0x46fd8f){return _0x2f87d1;}['patch'](_0x437599,_0x11f182){}}class VC extends Qe{constructor(_0x1108b3){super(_0x1108b3,'bundle'),this['_assets']=_0x1108b3['assets'];}['_fetchRetr'+'ies'](_0x48a248,_0x3d8ace,_0x1bbdee=0x2*0x1279+-0x3a*0xf+-0x1*0x218c){return new Promise((_0x4d95c1,_0x3d08ab)=>{const _0x374c67=()=>{fetch(_0x48a248,_0x3d8ace)['then'](_0x4d95c1)['catch'](_0x2b1df9=>{_0x1bbdee++,_0x1bbdee<this['maxRetries']?(w['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x1bbdee),_0x374c67()):_0x3d08ab(_0x2b1df9);});};_0x374c67();});}['load'](_0x5b89f2,_0x18ec0e){typeof _0x5b89f2=='string'&&(_0x5b89f2={'load':_0x5b89f2,'original':_0x5b89f2}),this['_fetchRetr'+'ies'](_0x5b89f2['load'],{'mode':'cors'},this['maxRetries'])['then'](_0x3e1b99=>{const _0x4ff87a=new gu();_0x18ec0e(null,_0x4ff87a);const _0x244c74=new zC(_0x3e1b99,this['_assets']['prefix']);_0x244c74['on']('file',_0x1ffe17=>{_0x4ff87a['addFile'](_0x1ffe17['name'],_0x1ffe17['data']);}),_0x244c74['on']('done',()=>{_0x4ff87a['loaded']=!(0x626*-0x6+0x1847+0xc9d*0x1);}),_0x244c74['on']('error',_0x25f9e4=>{w['error'](_0x25f9e4),_0x18ec0e(_0x25f9e4);});})['catch'](_0x4a200b=>{w['error'](_0x4a200b),_0x18ec0e(_0x4a200b);});}['open'](_0x2986a1,_0x2f7240){return _0x2f7240;}}class Cn{constructor(_0x2fe0a5){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x2fe0a5;}['addHandler'](_0x37947e,_0x56ac83){this['_handlers'][_0x37947e]=_0x56ac83,_0x56ac83['_loader']=this;}['removeHand'+'ler'](_0x41551d){delete this['_handlers'][_0x41551d];}['getHandler'](_0x587209){return this['_handlers'][_0x587209];}static['makeKey'](_0x28ea1f,_0x16596a){return _0x28ea1f+'-'+_0x16596a;}['load'](_0x191ead,_0x5acea5,_0x35ca3d,_0x3625b8,_0x39c13e){var _0x58be2d;const _0x34b9cd=this['_handlers'][_0x5acea5];if(!_0x34b9cd){const _0x9fbcf7='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x5acea5+('\x27\x20when\x20loa'+'ding\x20[')+_0x191ead+']';w['errorOnce'](_0x9fbcf7),_0x35ca3d(_0x9fbcf7);return;}if(!_0x191ead){this['_loadNull'](_0x34b9cd,_0x35ca3d,_0x3625b8);return;}const _0x57dbed=Cn['makeKey'](_0x191ead,_0x5acea5);if(this['_requests'][_0x57dbed])this['_requests'][_0x57dbed]['push'](_0x35ca3d);else{this['_requests'][_0x57dbed]=[_0x35ca3d];const _0x199202=this,_0x233ce7=function(_0x445fb4,_0x4be42c){if(_0x445fb4){_0x199202['_onFailure'](_0x57dbed,_0x445fb4);return;}if(_0x4be42c['load']instanceof DataView){if(_0x34b9cd['openBinary']){if(!_0x199202['_requests'][_0x57dbed])return;try{const _0x2665a1=_0x34b9cd['openBinary'](_0x4be42c['load']);_0x199202['_onSuccess'](_0x57dbed,_0x2665a1);}catch(_0x6df904){_0x199202['_onFailure'](_0x57dbed,_0x6df904);}return;}_0x4be42c['load']=URL['createObje'+'ctURL'](new Blob([_0x4be42c['load']])),_0x3625b8&&(_0x3625b8['urlObject']&&URL['revokeObje'+'ctURL'](_0x3625b8['urlObject']),_0x3625b8['urlObject']=_0x4be42c['load']);}_0x34b9cd['load'](_0x4be42c,(_0x3e2637,_0x17850e,_0x32b551)=>{if(_0x199202['_requests'][_0x57dbed]){if(_0x3e2637){_0x199202['_onFailure'](_0x57dbed,_0x3e2637);return;}try{_0x199202['_onSuccess'](_0x57dbed,_0x34b9cd['open'](_0x4be42c['original'],_0x17850e,_0x3625b8),_0x32b551);}catch(_0x488904){_0x199202['_onFailure'](_0x57dbed,_0x488904);}}},_0x3625b8);},_0x2ecf04=_0x191ead['split']('?')[0x2058*0x1+0x873+-0x28cb*0x1];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x2ecf04)&&!(_0x39c13e&&_0x39c13e['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x2ecf04)){const _0x1938d9=this['_app']['bundles']['listBundle'+'sForAsset'](_0x3625b8);let _0x14cb9e;_0x39c13e&&_0x39c13e['bundlesFil'+'ter']&&(_0x14cb9e=_0x39c13e['bundlesFil'+'ter'](_0x1938d9)),_0x14cb9e||(_0x1938d9==null||_0x1938d9['sort']((_0x380dbb,_0x17ba1a)=>_0x380dbb['file']['size']-_0x17ba1a['file']['size']),_0x14cb9e=_0x1938d9==null?void(-0x1d9e+-0x8c1+0x265f):_0x1938d9[-0xbea+-0xcea+0x2*0xc6a]),_0x14cb9e&&((_0x58be2d=this['_app']['assets'])==null||_0x58be2d['load'](_0x14cb9e));}this['_app']['bundles']['loadUrl'](_0x2ecf04,(_0x4a4aba,_0x3a4bea)=>{_0x233ce7(_0x4a4aba,{'load':_0x3a4bea,'original':_0x2ecf04});});}else _0x233ce7(null,{'load':_0x191ead,'original':_0x3625b8&&_0x3625b8['file']['filename']||_0x191ead});}}['_loadNull'](_0x29ed39,_0x492f4e,_0x14a52f){const _0x4f416d=function(_0xba97e9,_0x174628,_0x51974b){if(_0xba97e9)_0x492f4e(_0xba97e9);else try{_0x492f4e(null,_0x29ed39['open'](null,_0x174628,_0x14a52f),_0x51974b);}catch(_0x36f69f){_0x492f4e(_0x36f69f);}};_0x29ed39['load'](null,_0x4f416d,_0x14a52f);}['_onSuccess'](_0x23551f,_0x28994e,_0x63537c){for(let _0x4cbfdb=-0x23c8+0x21e*-0x1+0x25e6;_0x4cbfdb<this['_requests'][_0x23551f]['length'];_0x4cbfdb++)this['_requests'][_0x23551f][_0x4cbfdb](null,_0x28994e,_0x63537c);delete this['_requests'][_0x23551f];}['_onFailure'](_0x449164,_0x1f7088){if(console['error'](_0x1f7088),this['_requests'][_0x449164]){for(let _0x402227=0x1488+-0x1654+0x2e*0xa;_0x402227<this['_requests'][_0x449164]['length'];_0x402227++)this['_requests'][_0x449164][_0x402227](_0x1f7088);delete this['_requests'][_0x449164];}}['open'](_0x26b035,_0x26987f){const _0x3fc0bd=this['_handlers'][_0x26b035];return _0x3fc0bd?_0x3fc0bd['open'](null,_0x26987f):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x26b035),_0x26987f);}['patch'](_0x5f50b1,_0x25db8c){const _0x416daf=this['_handlers'][_0x5f50b1['type']];if(!_0x416daf){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x5f50b1['type']);return;}_0x416daf['patch']&&_0x416daf['patch'](_0x5f50b1,_0x25db8c);}['clearCache'](_0x3a61d5,_0x536ab5){const _0x1532db=Cn['makeKey'](_0x3a61d5,_0x536ab5);delete this['_cache'][_0x1532db];}['getFromCac'+'he'](_0x3d797d,_0x40f20a){const _0x4dd905=Cn['makeKey'](_0x3d797d,_0x40f20a);if(this['_cache'][_0x4dd905])return this['_cache'][_0x4dd905];}['enableRetr'+'y'](_0x5e04f1=-0xb9+0x1*0x6fc+-0x63e){_0x5e04f1=Math['max'](-0x1cce+-0x1593+0x3261,_0x5e04f1)||-0x4a5+-0x4ee+0x993;for(const _0x297892 in this['_handlers'])this['_handlers'][_0x297892]['maxRetries']=_0x5e04f1;}['disableRet'+'ry'](){for(const _0x42b76f in this['_handlers'])this['_handlers'][_0x42b76f]['maxRetries']=-0x1*-0x1395+-0x11*-0x209+0x49*-0xbe;}['destroyReq'+'uests'](){this['_requests']={};}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class GC{['_validate'](_0x3d1e5){if(!_0x3d1e5['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0x3d1e5['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0x3d1e5['header']['version']!==0x2245+0x185f*0x1+-0x3aa3)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0x3d1e5['data']){if(!Array['isArray'](_0x3d1e5['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x1b0993=-0xd5e+-0x218a+0x1774*0x2,_0xde465f=_0x3d1e5['data']['length'];_0x1b0993<_0xde465f;_0x1b0993++){const _0x295daf=_0x3d1e5['data'][_0x1b0993];if(!_0x295daf['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x1b0993+('].info\x22\x20fi'+'eld'));if(!_0x295daf['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x1b0993+('].info.loc'+'ale\x22\x20field'));if(typeof _0x295daf['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x1b0993+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x295daf['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x1b0993+('].messages'+'\x22\x20field'));}}['parse'](_0x124c5a){return this['_validate'](_0x124c5a),_0x124c5a['data'];}}const Gh=class Gh extends me{constructor(_0x1dc8dc){super(),this['locale']=Ph,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x1dc8dc,this['_assets']=[],this['_parser']=new GC();}set['assets'](_0xefe11f){const _0x1796bb={};for(let _0x5ddac6=-0x264c+0xe65+-0x17e7*-0x1,_0x26a580=_0xefe11f['length'];_0x5ddac6<_0x26a580;_0x5ddac6++){const _0x26785c=_0xefe11f[_0x5ddac6]instanceof pe?_0xefe11f[_0x5ddac6]['id']:_0xefe11f[_0x5ddac6];_0x1796bb[_0x26785c]=!(-0x203e*-0x1+0x15f*0x9+-0x2c95);}let _0xeb7a99=this['_assets']['length'];for(;_0xeb7a99--;){const _0xc84a28=this['_assets'][_0xeb7a99];if(!_0x1796bb[_0xc84a28]){this['_app']['assets']['off']('add:'+_0xc84a28,this['_onAssetAd'+'d'],this);const _0x5e5c98=this['_app']['assets']['get'](_0xc84a28);_0x5e5c98&&this['_onAssetRe'+'move'](_0x5e5c98),this['_assets']['splice'](_0xeb7a99,0x290+0x242d+-0x26bc);}}for(const _0x1084cd in _0x1796bb){const _0x242a80=parseInt(_0x1084cd,-0x1*-0x1523+-0x3*0x33a+-0xb6b);if(this['_assets']['indexOf'](_0x242a80)!==-(0x18f9+0x3*-0xaae+0x712))continue;this['_assets']['push'](_0x242a80);const _0x4d2c76=this['_app']['assets']['get'](_0x242a80);_0x4d2c76?this['_onAssetAd'+'d'](_0x4d2c76):this['_app']['assets']['once']('add:'+_0x242a80,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0x5567a6){if(this['_locale']===_0x5567a6)return;let _0x53a23e=Oi(_0x5567a6);if(_0x53a23e==='in'&&(_0x53a23e='id',_0x5567a6=LC(_0x5567a6,_0x53a23e),this['_locale']===_0x5567a6))return;const _0x53674e=this['_locale'];this['_locale']=_0x5567a6,this['_lang']=_0x53a23e,this['_pluralFn']=Tf(this['_lang']),this['fire'](Gh['EVENT_CHAN'+'GE'],_0x5567a6,_0x53674e);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x1b4d1d,_0x17f1a7){return Fv(_0x1b4d1d,_0x17f1a7);}['findAvaila'+'bleLocale'](_0x1f6237){if(this['_translati'+'ons'][_0x1f6237])return _0x1f6237;const _0x866794=Oi(_0x1f6237);return this['_findFallb'+'ackLocale'](_0x1f6237,_0x866794);}['getText'](_0x3baa4f,_0x1932d0){let _0xd7536a=_0x3baa4f,_0x4f8142;_0x1932d0||(_0x1932d0=this['_locale'],_0x4f8142=this['_lang']);let _0x1d36c3=this['_translati'+'ons'][_0x1932d0];return _0x1d36c3||(_0x4f8142||(_0x4f8142=Oi(_0x1932d0)),_0x1932d0=this['_findFallb'+'ackLocale'](_0x1932d0,_0x4f8142),_0x1d36c3=this['_translati'+'ons'][_0x1932d0]),_0x1d36c3&&_0x1d36c3['hasOwnProp'+'erty'](_0x3baa4f)&&(_0xd7536a=_0x1d36c3[_0x3baa4f],Array['isArray'](_0xd7536a)&&(_0xd7536a=_0xd7536a[0xac0+-0x1a5c+0xf9c]),_0xd7536a==null&&(_0xd7536a=_0x3baa4f)),_0xd7536a;}['getPluralT'+'ext'](_0x88da37,_0x18e55f,_0x4d7c9a){let _0x35f716=_0x88da37,_0x2465ae,_0x5b82cf;_0x4d7c9a?(_0x2465ae=Oi(_0x4d7c9a),_0x5b82cf=Tf(_0x2465ae)):(_0x4d7c9a=this['_locale'],_0x2465ae=this['_lang'],_0x5b82cf=this['_pluralFn']);let _0x1dffed=this['_translati'+'ons'][_0x4d7c9a];if(_0x1dffed||(_0x4d7c9a=this['_findFallb'+'ackLocale'](_0x4d7c9a,_0x2465ae),_0x2465ae=Oi(_0x4d7c9a),_0x5b82cf=Tf(_0x2465ae),_0x1dffed=this['_translati'+'ons'][_0x4d7c9a]),_0x1dffed&&_0x1dffed[_0x88da37]&&_0x5b82cf){const _0x5c6355=_0x5b82cf(_0x18e55f);_0x35f716=_0x1dffed[_0x88da37][_0x5c6355],_0x35f716==null&&(_0x35f716=_0x88da37);}return _0x35f716;}['addData'](_0x12316c){let _0x248c3e;try{_0x248c3e=this['_parser']['parse'](_0x12316c);}catch(_0x1345e8){console['error'](_0x1345e8);return;}for(let _0x2b72f6=0x9e*0xc+-0x1ad4+-0x2c*-0x71,_0x36d547=_0x248c3e['length'];_0x2b72f6<_0x36d547;_0x2b72f6++){const _0x2b8028=_0x248c3e[_0x2b72f6],_0x4a9d70=_0x2b8028['info']['locale'],_0x3a306c=_0x2b8028['messages'];if(!this['_translati'+'ons'][_0x4a9d70]){this['_translati'+'ons'][_0x4a9d70]={};const _0x3d7ca8=Oi(_0x4a9d70);this['_available'+'Langs'][_0x3d7ca8]||(this['_available'+'Langs'][_0x3d7ca8]=_0x4a9d70);}Object['assign'](this['_translati'+'ons'][_0x4a9d70],_0x3a306c),this['fire']('data:add',_0x4a9d70,_0x3a306c);}}['removeData'](_0x15f258){let _0x2210d0;try{_0x2210d0=this['_parser']['parse'](_0x15f258);}catch(_0x202b8a){console['error'](_0x202b8a);return;}for(let _0x104a2d=-0x1b81+0x17a4*-0x1+0x3325,_0x33016a=_0x2210d0['length'];_0x104a2d<_0x33016a;_0x104a2d++){const _0x4a05d4=_0x2210d0[_0x104a2d],_0x1cf0b0=_0x4a05d4['info']['locale'],_0x8195ed=this['_translati'+'ons'][_0x1cf0b0];if(!_0x8195ed)continue;const _0x1f4fcc=_0x4a05d4['messages'];for(const _0x47fedf in _0x1f4fcc)delete _0x8195ed[_0x47fedf];Object['keys'](_0x8195ed)['length']===-0x1288+-0xfad*-0x1+0x2db&&(delete this['_translati'+'ons'][_0x1cf0b0],delete this['_available'+'Langs'][Oi(_0x1cf0b0)]),this['fire']('data:remov'+'e',_0x1cf0b0,_0x1f4fcc);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x4c804e,_0x41da2c){let _0x4ac0f2=Mh[_0x4c804e];return _0x4ac0f2&&this['_translati'+'ons'][_0x4ac0f2]||(_0x4ac0f2=Mh[_0x41da2c],_0x4ac0f2&&this['_translati'+'ons'][_0x4ac0f2])||(_0x4ac0f2=this['_available'+'Langs'][_0x41da2c],_0x4ac0f2&&this['_translati'+'ons'][_0x4ac0f2])?_0x4ac0f2:Ph;}['_onAssetAd'+'d'](_0x1bff27){_0x1bff27['on']('load',this['_onAssetLo'+'ad'],this),_0x1bff27['on']('change',this['_onAssetCh'+'ange'],this),_0x1bff27['on']('remove',this['_onAssetRe'+'move'],this),_0x1bff27['on']('unload',this['_onAssetUn'+'load'],this),_0x1bff27['resource']&&this['_onAssetLo'+'ad'](_0x1bff27);}['_onAssetLo'+'ad'](_0x3faaad){this['addData'](_0x3faaad['resource']);}['_onAssetCh'+'ange'](_0x100bcb){_0x100bcb['resource']&&this['addData'](_0x100bcb['resource']);}['_onAssetRe'+'move'](_0x5f4d92){_0x5f4d92['off']('load',this['_onAssetLo'+'ad'],this),_0x5f4d92['off']('change',this['_onAssetCh'+'ange'],this),_0x5f4d92['off']('remove',this['_onAssetRe'+'move'],this),_0x5f4d92['off']('unload',this['_onAssetUn'+'load'],this),_0x5f4d92['resource']&&this['removeData'](_0x5f4d92['resource']),this['_app']['assets']['once']('add:'+_0x5f4d92['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x2d510c){_0x2d510c['resource']&&this['removeData'](_0x2d510c['resource']);}};h(Gh,'EVENT_CHAN'+'GE','change');let wa=Gh;class HC extends me{constructor(_0x4066d9){super(),h(this,'_scripts',{}),h(this,'_list',[]),h(this,'_scriptSch'+'emas',new Map()),this['app']=_0x4066d9;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x51c6c1,_0x3884eb){_0x3884eb&&this['_scriptSch'+'emas']['set'](_0x51c6c1,_0x3884eb);}['getSchema'](_0x38e647){return this['_scriptSch'+'emas']['get'](_0x38e647);}['add'](_0x4774cc){const _0x1d43b2=_0x4774cc['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x1d43b2)?(setTimeout(()=>{if(_0x4774cc['prototype']['swap']){const _0x4b9c3d=this['_scripts'][_0x1d43b2],_0x5df98a=this['_list']['indexOf'](_0x4b9c3d);this['_list'][_0x5df98a]=_0x4774cc,this['_scripts'][_0x1d43b2]=_0x4774cc,this['fire']('swap',_0x1d43b2,_0x4774cc),this['fire']('swap:'+_0x1d43b2,_0x4774cc);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x1d43b2+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(0x1*0x4a+0x1582*-0x1+0x1539)):(this['_scripts'][_0x1d43b2]=_0x4774cc,this['_list']['push'](_0x4774cc),this['fire']('add',_0x1d43b2,_0x4774cc),this['fire']('add:'+_0x1d43b2,_0x4774cc),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x1d43b2)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x7a17c=this['app']['systems']['script']['_component'+'s'];let _0x21d194;const _0xd33bc7=[],_0x130c7a=[];for(_0x7a17c['loopIndex']=0x1736+0x25c5+-0xe9*0x43;_0x7a17c['loopIndex']<_0x7a17c['length'];_0x7a17c['loopIndex']++){const _0x17a121=_0x7a17c['items'][_0x7a17c['loopIndex']];if(_0x17a121['_scriptsIn'+'dex'][_0x1d43b2]&&_0x17a121['_scriptsIn'+'dex'][_0x1d43b2]['awaiting']){_0x17a121['_scriptsDa'+'ta']&&_0x17a121['_scriptsDa'+'ta'][_0x1d43b2]&&(_0x21d194=_0x17a121['_scriptsDa'+'ta'][_0x1d43b2]['attributes']);const _0x36b74d=_0x17a121['create'](_0x1d43b2,{'preloading':!(-0xd9+-0x53b*0x2+0xb4f),'ind':_0x17a121['_scriptsIn'+'dex'][_0x1d43b2]['ind'],'attributes':_0x21d194});_0x36b74d&&_0xd33bc7['push'](_0x36b74d);for(const _0x1c8623 of _0x17a121['scripts'])_0x17a121['initialize'+'Attributes'](_0x1c8623);}}for(let _0x3ed60d=-0x255a+-0x4ce+0x2a28;_0x3ed60d<_0xd33bc7['length'];_0x3ed60d++)_0xd33bc7[_0x3ed60d]['enabled']&&(_0xd33bc7[_0x3ed60d]['_initializ'+'ed']=!(0x7fb*0x1+-0x139b+0xba0),_0x130c7a['push'](_0xd33bc7[_0x3ed60d]),_0xd33bc7[_0x3ed60d]['initialize']&&_0xd33bc7[_0x3ed60d]['initialize']());for(let _0x1a18ba=-0xada+0x1b58+0x2*-0x83f;_0x1a18ba<_0x130c7a['length'];_0x1a18ba++)!_0x130c7a[_0x1a18ba]['enabled']||_0x130c7a[_0x1a18ba]['_postIniti'+'alized']||(_0x130c7a[_0x1a18ba]['_postIniti'+'alized']=!(-0x1e7*-0x2+0x1c27*0x1+0x3*-0xaa7),_0x130c7a[_0x1a18ba]['postInitia'+'lize']&&_0x130c7a[_0x1a18ba]['postInitia'+'lize']());}),!(0x1*0x26c9+-0x249f+-0x22a*0x1));}['remove'](_0x174299){let _0x5902cc=_0x174299,_0x3bc73a=_0x174299;if(typeof _0x3bc73a!='string'?_0x3bc73a=_0x5902cc['__name']:_0x5902cc=this['get'](_0x3bc73a),this['get'](_0x3bc73a)!==_0x5902cc)return!(0x545*0x5+-0x4*0x121+-0x15d4);delete this['_scripts'][_0x3bc73a];const _0x410c2e=this['_list']['indexOf'](_0x5902cc);return this['_list']['splice'](_0x410c2e,-0x87d+-0x1*0x19ed+-0x21*-0x10b),this['fire']('remove',_0x3bc73a,_0x5902cc),this['fire']('remove:'+_0x3bc73a,_0x5902cc),!(-0xbb8+0x76d+-0x7*-0x9d);}['get'](_0x280ee5){return this['_scripts'][_0x280ee5]||null;}['has'](_0x38d453){if(typeof _0x38d453=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x38d453);if(!_0x38d453)return!(-0x1*-0x482+-0x11f4*0x2+0x1*0x1f67);const _0xe74ba=_0x38d453['__name'];return this['_scripts'][_0xe74ba]===_0x38d453;}['list'](){return this['_list'];}}const WC=(_0x204963,_0x16cd49)=>_0x204963['constructo'+'r']['order']-_0x16cd49['constructo'+'r']['order'],$C=_0x514eba=>_0x514eba['sort'](WC),po=[],Nv=[],XC=()=>Nv['pop']()??[],Ag=_0xa42b6=>{_0xa42b6['length']=0x1254+-0xa47+-0x80d,Nv['push'](_0xa42b6);},Hh=class Hh extends Ie{constructor(_0x25d750,_0x186f9f=Ms()){super(_0x25d750),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'gsplat'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'c',{}),h(this,'_app'),h(this,'_destroyin'+'g',!(0x1e0*0xf+-0x3cd+-0x1852)),h(this,'_guid',null),h(this,'_template',!(-0xdd8*-0x2+0x1572+-0x3121)),(w['assert'](_0x186f9f,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0x186f9f);}['addCompone'+'nt'](_0xd941d2,_0x2ee27b){const _0x5466d9=this['_app']['systems'][_0xd941d2];return _0x5466d9?this['c'][_0xd941d2]?(w['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0xd941d2+('\x27\x20componen'+'t')),null):_0x5466d9['addCompone'+'nt'](this,_0x2ee27b):(w['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0xd941d2+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x1a215f){const _0x2643ff=this['_app']['systems'][_0x1a215f];if(!_0x2643ff){w['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x1a215f+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x1a215f]){w['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x1a215f+('\x27\x20componen'+'t'));return;}_0x2643ff['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x1bf29d){const _0x4392ab=this['findOne'](_0x162b85=>{var _0x5bf593;return(_0x5bf593=_0x162b85['c'])==null?void(0x111*-0x24+0x240*0x3+0x1fa4):_0x5bf593[_0x1bf29d];});return _0x4392ab&&_0x4392ab['c'][_0x1bf29d];}['findCompon'+'ents'](_0x33ba5d){return this['find'](_0x4b3098=>{var _0x15f713;return(_0x15f713=_0x4b3098['c'])==null?void(-0x3*-0x3e4+0x244b+-0xffd*0x3):_0x15f713[_0x33ba5d];})['map'](_0x1dccbc=>_0x1dccbc['c'][_0x33ba5d]);}['findScript'](_0x5cb7af){const _0x12353f=this['findOne'](_0x11abcf=>{var _0x188bcd,_0x505a96;return(_0x505a96=(_0x188bcd=_0x11abcf['c'])==null?void(-0x1*-0x1dfb+-0x18e1+-0x51a):_0x188bcd['script'])==null?void(-0x336+0x8a9+0x1f*-0x2d):_0x505a96['has'](_0x5cb7af);});return _0x12353f==null?void(0x1*0x13bb+-0x15b5*-0x1+0xdd0*-0x3):_0x12353f['c']['script']['get'](_0x5cb7af);}['findScript'+'s'](_0x45bd08){return this['find'](_0x3e02c4=>{var _0x339339,_0x357288;return(_0x357288=(_0x339339=_0x3e02c4['c'])==null?void(-0x58a+-0x194c+0x1ed6*0x1):_0x339339['script'])==null?void(0xa*-0x127+-0xd8e+0x1914):_0x357288['has'](_0x45bd08);})['map'](_0x566d15=>_0x566d15['c']['script']['get'](_0x45bd08));}['getGuid'](){return this['_guid']||this['setGuid'](Q0['create']()),this['_guid'];}['setGuid'](_0x1643d6){const _0x647738=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0x647738[this['_guid']],this['_guid']=_0x1643d6,_0x647738[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x25b671,_0x5197c5){let _0x310a1a=!(0x15d4*-0x1+0x1*0x2533+-0x1*0xf5e);_0x25b671===this&&po['length']===-0x757*-0x3+-0x34c+-0x1*0x12b9&&(_0x310a1a=!(0x109f+-0xe*-0x211+-0xa9*0x45)),_0x25b671['_beingEnab'+'led']=!(-0xbc7+-0x1abd+0x2684),_0x25b671['_onHierarc'+'hyStateCha'+'nged'](_0x5197c5),_0x25b671['_onHierarc'+'hyStatePos'+'tChanged']&&po['push'](_0x25b671);const _0x3a31a2=_0x25b671['_children'];for(let _0x1b7b3f=0x11*0x13f+-0x9*0x46+-0x12b9*0x1,_0x41d593=_0x3a31a2['length'];_0x1b7b3f<_0x41d593;_0x1b7b3f++)_0x3a31a2[_0x1b7b3f]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x3a31a2[_0x1b7b3f],_0x5197c5);if(_0x25b671['_beingEnab'+'led']=!(-0x265d+-0x2560+-0x22a*-0x23),_0x310a1a){for(let _0x4b8c08=-0xe*-0x7f+0xb17*-0x3+-0x1a53*-0x1;_0x4b8c08<po['length'];_0x4b8c08++)po[_0x4b8c08]['_onHierarc'+'hyStatePos'+'tChanged']();po['length']=0x24e7+-0xf6d*0x1+-0x157a;}}['_onHierarc'+'hyStateCha'+'nged'](_0x3239e3){super['_onHierarc'+'hyStateCha'+'nged'](_0x3239e3);const _0x53b5f4=this['_getSorted'+'Components']();for(let _0x37abf4=-0x187f+0x1138+0x1*0x747;_0x37abf4<_0x53b5f4['length'];_0x37abf4++){const _0x251050=_0x53b5f4[_0x37abf4];_0x251050['enabled']&&(_0x3239e3?_0x251050['onEnable']():_0x251050['onDisable']());}Ag(_0x53b5f4);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x458612=this['_getSorted'+'Components']();for(let _0x22d86b=0xa94+-0x5c2*0x2+0xf0;_0x22d86b<_0x458612['length'];_0x22d86b++)_0x458612[_0x22d86b]['onPostStat'+'eChange']();Ag(_0x458612);}['findByGuid'](_0xe41d2d){if(this['_guid']===_0xe41d2d)return this;const _0x373d0a=this['_app']['_entityInd'+'ex'][_0xe41d2d];return _0x373d0a&&(_0x373d0a===this||_0x373d0a['isDescenda'+'ntOf'](this))?_0x373d0a:null;}['destroy'](){this['_destroyin'+'g']=!(0x5*0x583+-0x183f+-0x350);for(const _0x22c1a8 in this['c'])this['c'][_0x22c1a8]['enabled']=!(-0x85*0x7+-0x80*0x4+0x5a4);for(const _0x2eb18f in this['c'])this['c'][_0x2eb18f]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(-0x5ab*0x1+-0x1b1e+0x20ca);}['clone'](){const _0xe869c8={},_0x21335b=this['_cloneRecu'+'rsively'](_0xe869c8);return _0xe869c8[this['getGuid']()]=_0x21335b,kv(this,this,_0x21335b,_0xe869c8),_0x21335b;}['_getSorted'+'Components'](){const _0x317907=this['c'],_0xd5cc51=XC();let _0x3a4ddd=-0x25*-0x6b+-0x984+-0x1*0x5f3;for(const _0x1158bd in _0x317907)if(_0x317907['hasOwnProp'+'erty'](_0x1158bd)){const _0x6f8320=_0x317907[_0x1158bd];_0x3a4ddd|=_0x6f8320['constructo'+'r']['order']!==-0x2*-0x11d3+-0x1191+0x3*-0x607,_0xd5cc51['push'](_0x6f8320);}return _0x3a4ddd&&_0xd5cc51['length']>0x636+-0x26d4+0x1*0x209f&&$C(_0xd5cc51),_0xd5cc51;}['_cloneRecu'+'rsively'](_0x30d692){const _0x3a4573=new this['constructo'+'r'](void(0x1*0x247a+0x12f4*0x1+-0x376e),this['_app']);super['_cloneInte'+'rnal'](_0x3a4573);for(const _0x33d0fa in this['c'])this['c'][_0x33d0fa]['system']['cloneCompo'+'nent'](this,_0x3a4573);for(let _0x288d41=0x46*-0x13+0x21a7+-0x5b1*0x5;_0x288d41<this['_children']['length'];_0x288d41++){const _0x393e7e=this['_children'][_0x288d41];if(_0x393e7e instanceof Hh){const _0x287178=_0x393e7e['_cloneRecu'+'rsively'](_0x30d692);_0x3a4573['addChild'](_0x287178),_0x30d692[_0x393e7e['getGuid']()]=_0x287178;}}return _0x3a4573;}};h(Hh,'EVENT_DEST'+'ROY','destroy');let lt=Hh;function kv(_0x1a1924,_0x373e5d,_0x4e71ba,_0x3ee5d7){if(_0x373e5d instanceof lt){const _0x295462=_0x373e5d['c'];for(const _0x505a2c in _0x295462){const _0x1db57b=_0x295462[_0x505a2c],_0x3f7038=_0x1db57b['system']['getPropert'+'iesOfType']('entity');for(let _0x4fa42f=-0x2*-0x11a4+-0x1a28+0x490*-0x2,_0x1e646b=_0x3f7038['length'];_0x4fa42f<_0x1e646b;_0x4fa42f++){const _0x401950=_0x3f7038[_0x4fa42f]['name'],_0xfc9da0=_0x1db57b[_0x401950];if(!!_0x1a1924['findByGuid'](_0xfc9da0)){const _0x2cfa6d=_0x3ee5d7[_0xfc9da0]['getGuid']();_0x2cfa6d?_0x4e71ba['c'][_0x505a2c][_0x401950]=_0x2cfa6d:w['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x295462['script']&&_0x4e71ba['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x295462['script'],_0x3ee5d7),_0x295462['render']&&_0x4e71ba['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x295462['render'],_0x3ee5d7),_0x295462['button']&&_0x4e71ba['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x295462['button'],_0x3ee5d7),_0x295462['scrollview']&&_0x4e71ba['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x295462['scrollview'],_0x3ee5d7),_0x295462['scrollbar']&&_0x4e71ba['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x295462['scrollbar'],_0x3ee5d7),_0x295462['anim']&&_0x4e71ba['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x295462['anim'],_0x3ee5d7);const _0x2de54e=_0x373e5d['children']['filter'](_0x112dcd=>_0x112dcd instanceof lt),_0x28e200=_0x4e71ba['children']['filter'](_0x5159a9=>_0x5159a9 instanceof lt);for(let _0xcaa9ba=-0x1*-0x89+0x2*0x628+-0xcd9,_0x8e39fe=_0x2de54e['length'];_0xcaa9ba<_0x8e39fe;_0xcaa9ba++)kv(_0x1a1924,_0x2de54e[_0xcaa9ba],_0x28e200[_0xcaa9ba],_0x3ee5d7);}}class Cg{constructor(_0xc90b1c,_0x3d2460){h(this,'name'),h(this,'url'),h(this,'data',null),h(this,'_loading',!(-0xbe9+-0x6*0x437+0x1*0x2534)),h(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0xc90b1c,this['url']=_0x3d2460);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class qC{constructor(_0x3abffa){h(this,'_app'),h(this,'_list',[]),h(this,'_index',{}),h(this,'_urlIndex',{}),this['_app']=_0x3abffa;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0x78ba9b,_0x88b102){if(this['_index']['hasOwnProp'+'erty'](_0x78ba9b))return w['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0x78ba9b),!(-0x62b+0x18d+0x49f);const _0x4c49b6=new Cg(_0x78ba9b,_0x88b102),_0x538bef=this['_list']['push'](_0x4c49b6);return this['_index'][_0x4c49b6['name']]=_0x538bef-(-0x317+0x22a2+-0x1f8a),this['_urlIndex'][_0x4c49b6['url']]=_0x538bef-(0xeb8+0x1a13+0x17*-0x1c6),!(0x10ec+-0x561*-0x5+-0x2bd1);}['find'](_0x3849b4){return this['_index']['hasOwnProp'+'erty'](_0x3849b4)?this['_list'][this['_index'][_0x3849b4]]:null;}['findByUrl'](_0x4c6bce){return this['_urlIndex']['hasOwnProp'+'erty'](_0x4c6bce)?this['_list'][this['_urlIndex'][_0x4c6bce]]:null;}['remove'](_0x44c12b){if(this['_index']['hasOwnProp'+'erty'](_0x44c12b)){const _0x10036f=this['_index'][_0x44c12b];let _0x1804dd=this['_list'][_0x10036f];delete this['_urlIndex'][_0x1804dd['url']],delete this['_index'][_0x44c12b],this['_list']['splice'](_0x10036f,0xec+-0xf2a+0xe3f);for(let _0x104489=-0x49*0x64+-0x1a80+0xdc1*0x4;_0x104489<this['_list']['length'];_0x104489++)_0x1804dd=this['_list'][_0x104489],this['_index'][_0x1804dd['name']]=_0x104489,this['_urlIndex'][_0x1804dd['url']]=_0x104489;}}['_loadScene'+'Data'](_0x505d13,_0x37d085,_0x37a88e){const _0x39b3f3=this['_app'];let _0x1a1994=_0x505d13;if(typeof _0x505d13=='string'&&(_0x505d13=this['findByUrl'](_0x1a1994)||this['find'](_0x1a1994)||new Cg('Untitled',_0x1a1994)),_0x1a1994=_0x505d13['url'],!_0x1a1994){_0x37a88e('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x505d13['loaded']){_0x37a88e(null,_0x505d13);return;}_0x39b3f3['assets']&&_0x39b3f3['assets']['prefix']&&!jn['test'](_0x1a1994)&&(_0x1a1994=xe['join'](_0x39b3f3['assets']['prefix'],_0x1a1994)),_0x505d13['_onLoadedC'+'allbacks']['push'](_0x37a88e),_0x505d13['_loading']||_0x39b3f3['loader']['getHandler']('hierarchy')['load'](_0x1a1994,(_0x1e6771,_0x5768c6)=>{_0x505d13['data']=_0x5768c6,_0x505d13['_loading']=!(-0x1*-0x7b5+-0x9a*-0x1a+-0x5d6*0x4);for(let _0x275fb9=-0x1882+-0x1*-0x2045+-0x7c3;_0x275fb9<_0x505d13['_onLoadedC'+'allbacks']['length'];_0x275fb9++)_0x505d13['_onLoadedC'+'allbacks'][_0x275fb9](_0x1e6771,_0x505d13);_0x37d085||(_0x505d13['data']=null),_0x505d13['_onLoadedC'+'allbacks']['length']=-0x2ab*0x5+-0x7b3+-0xa85*-0x2;}),_0x505d13['_loading']=!(-0x1*0xa7f+-0x149+0x4*0x2f2);}['loadSceneD'+'ata'](_0x1b4581,_0x242a50){this['_loadScene'+'Data'](_0x1b4581,!(0x220d*-0x1+0x5ba*0x3+0x10df),_0x242a50);}['unloadScen'+'eData'](_0x4cab93){typeof _0x4cab93=='string'&&(_0x4cab93=this['findByUrl'](_0x4cab93)),_0x4cab93&&(_0x4cab93['data']=null);}['_loadScene'+'Hierarchy'](_0x157805,_0x1b9e6e,_0x59777f){this['_loadScene'+'Data'](_0x157805,!(-0x593*-0x2+-0x2400+0x18db),(_0x78ce67,_0x2fffdd)=>{if(_0x78ce67){_0x59777f&&_0x59777f(_0x78ce67);return;}_0x1b9e6e&&_0x1b9e6e(_0x2fffdd);const _0x1bf882=this['_app'],_0x3d3335=()=>{const _0x4d3650=_0x1bf882['loader']['getHandler']('hierarchy');_0x1bf882['systems']['script']['preloading']=!(0x709*0x5+0x24b0+0x1*-0x47dd);const _0x245dac=_0x4d3650['open'](_0x2fffdd['url'],_0x2fffdd['data']);_0x1bf882['systems']['script']['preloading']=!(0x186c+0x2*0xce3+-0x3231*0x1),_0x1bf882['loader']['clearCache'](_0x2fffdd['url'],'hierarchy'),_0x1bf882['root']['addChild'](_0x245dac),_0x1bf882['systems']['fire']('initialize',_0x245dac),_0x1bf882['systems']['fire']('postInitia'+'lize',_0x245dac),_0x1bf882['systems']['fire']('postPostIn'+'itialize',_0x245dac),_0x59777f&&_0x59777f(null,_0x245dac);};_0x1bf882['_preloadSc'+'ripts'](_0x2fffdd['data'],_0x3d3335);});}['loadSceneH'+'ierarchy'](_0xb2c6a8,_0x202753){this['_loadScene'+'Hierarchy'](_0xb2c6a8,null,_0x202753);}['loadSceneS'+'ettings'](_0x4a9a12,_0x3071b6){this['_loadScene'+'Data'](_0x4a9a12,!(0x963+0x12e2*0x1+-0x1c44),(_0x58c093,_0x337975)=>{_0x58c093?_0x3071b6&&_0x3071b6(_0x58c093):(this['_app']['applyScene'+'Settings'](_0x337975['data']['settings']),_0x3071b6&&_0x3071b6(null));});}['changeScen'+'e'](_0x3bc9,_0x528608){const _0x4d07a6=this['_app'],_0x3c3aa1=_0x14c7ab=>{const {children:_0x36eb47}=_0x4d07a6['root'];for(;_0x36eb47['length'];)_0x36eb47[-0xa16+-0xc3*-0x9+-0x33b*-0x1]['destroy']();_0x4d07a6['applyScene'+'Settings'](_0x14c7ab['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x3bc9,_0x3c3aa1,_0x528608);}['loadScene'](_0x1624d8,_0x46071d){const _0x266374=this['_app'],_0x5a75de=_0x266374['loader']['getHandler']('scene');_0x266374['assets']&&_0x266374['assets']['prefix']&&!jn['test'](_0x1624d8)&&(_0x1624d8=xe['join'](_0x266374['assets']['prefix'],_0x1624d8)),_0x5a75de['load'](_0x1624d8,(_0xfbb4db,_0x255e8c)=>{if(_0xfbb4db)_0x46071d&&_0x46071d(_0xfbb4db);else{const _0x186704=()=>{_0x266374['systems']['script']['preloading']=!(0x163b+-0x80*-0x3d+-0x34bb);const _0x5cabc5=_0x5a75de['open'](_0x1624d8,_0x255e8c),_0x2f8dfb=this['findByUrl'](_0x1624d8);_0x2f8dfb&&!_0x2f8dfb['loaded']&&(_0x2f8dfb['data']=_0x255e8c),_0x266374['systems']['script']['preloading']=!(0x10bb*-0x2+0x64*-0x2a+0x1*0x31df),_0x266374['loader']['clearCache'](_0x1624d8,'scene'),_0x266374['loader']['patch']({'resource':_0x5cabc5,'type':'scene'},_0x266374['assets']),_0x266374['root']['addChild'](_0x5cabc5['root']),_0x266374['systems']['rigidbody']&&typeof Ammo<'u'&&_0x266374['systems']['rigidbody']['gravity']['set'](_0x5cabc5['_gravity']['x'],_0x5cabc5['_gravity']['y'],_0x5cabc5['_gravity']['z']),_0x46071d&&_0x46071d(null,_0x5cabc5);};_0x266374['_preloadSc'+'ripts'](_0x255e8c,_0x186704);}});}}class jC{constructor(_0x36723a){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x36723a['_shaderSta'+'ts'],this['vram']=_0x36723a['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return Ms()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x2f6362;return(_0x2f6362=Ms()['lightmappe'+'r'])==null?void(-0x2*0x1280+0x11b*0x13+0x5*0x333):_0x2f6362['stats'];}get['batcher'](){const _0x2bfcb1=Ms()['_batcher'];return _0x2bfcb1?_0x2bfcb1['_stats']:null;}}const YC='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',KC='\x0a\x0a#ifdef\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+'\x20AMBIENTSH'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20am'+'bientSH[9]'+';\x0a#endif\x0a\x0a'+'#if\x20LIT_AM'+'BIENT_SOUR'+'CE\x20==\x20ENVA'+'LATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fndef\x20ENV_'+'ATLAS\x0a\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_envAtlas'+';\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'AMBIENTSH\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20c'+'olor\x20=\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[0'+']\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[1]\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[2'+']\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[3]\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[4]\x20*\x20'+'n.x\x20*\x20n.z\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[5]\x20*\x20n'+'.z\x20*\x20n.y\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[6]\x20*\x20n.'+'y\x20*\x20n.x\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[7]\x20*\x20(3.'+'0\x20*\x20n.z\x20*\x20'+'n.z\x20-\x201.0)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[8]\x20*\x20'+'(n.x\x20*\x20n.x'+'\x20-\x20n.y\x20*\x20n'+'.y);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20processEn'+'vironment('+'max(color,'+'\x20vec3(0.0)'+'));\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_A'+'MBIENT_SOU'+'RCE\x20==\x20ENV'+'ALATLAS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dir\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+('28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw\x20=\x20tex'+'ture2D(tex'+'ture_envAt'+'las,\x20uv);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20linear\x20'+'=\x20{ambient'+'Decode}(ra'+'w);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'CONSTANT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20light'+'_globalAmb'+'ient;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),ZC='\x0a\x0a#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opyIntensi'+'ty;\x0a\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20material_'+'anisotropy'+'Rotation;\x0a'+'#endif\x0a\x0avo'+'id\x20getAnis'+'otropy()\x20{'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x200'+'.0;\x0a\x20\x20\x20\x20dA'+'nisotropyR'+'otation\x20=\x20'+'vec2(1.0,\x20'+'0.0);\x0a\x0a#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20m'+'aterial_an'+'isotropyIn'+'tensity;\x0a\x20'+'\x20\x20\x20dAnisot'+'ropyRotati'+'on\x20=\x20mater'+'ial_anisot'+'ropyRotati'+'on;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_ANI'+'SOTROPY_TE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropyTex\x20='+'\x20texture2D'+'Bias({STD_'+'ANISOTROPY'+'_TEXTURE_N'+'AME},\x20{STD'+'_ANISOTROP'+'Y_TEXTURE_'+'UV},\x20textu'+'reBias).rg'+'b;\x0a\x20\x20\x20\x20dAn'+'isotropy\x20*'+'=\x20anisotro'+'pyTex.b;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20a'+'nisotropyR'+'otationFro'+'mTex\x20=\x20ani'+'sotropyTex'+'.rg\x20*\x202.0\x20'+'-\x20vec2(1.0'+');\x0a\x20\x20\x20\x20mat'+'2\x20rotation'+'Matrix\x20=\x20m'+'at2(dAniso'+'tropyRotat'+'ion.x,\x20dAn'+'isotropyRo'+'tation.y,\x20'+'-dAnisotro'+'pyRotation'+'.y,\x20dAniso'+'tropyRotat'+'ion.x);\x0a\x20\x20'+'\x20\x20dAnisotr'+'opyRotatio'+'n\x20=\x20rotati'+'onMatrix\x20*'+'\x20anisotrop'+'yRotationF'+'romTex;\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20dA'+'nisotropy\x20'+'=\x20clamp(dA'+'nisotropy,'+'\x200.0,\x201.0)'+';\x0a}\x0a',QC='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_aoInten'+'sity;\x0a#end'+'if\x0a\x0a#ifdef'+'\x20STD_AODET'+'AIL_TEXTUR'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22deta'+'ilModesPS\x22'+'\x0a#endif\x0a\x0av'+'oid\x20getAO('+')\x20{\x0a\x20\x20\x20\x20dA'+'o\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'aoBase\x20=\x20t'+'exture2DBi'+'as({STD_AO'+'_TEXTURE_N'+'AME},\x20{STD'+'_AO_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_AO_TE'+'XTURE_CHAN'+'NEL};\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20aoDetail\x20'+'=\x20texture2'+'DBias({STD'+'_AODETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'AODETAIL_T'+'EXTURE_UV}'+',\x20textureB'+'ias).{STD_'+'AODETAIL_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'oBase\x20=\x20de'+'tailMode_{'+'STD_AODETA'+'IL_DETAILM'+'ODE}(vec3('+'aoBase),\x20v'+'ec3(aoDeta'+'il)).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_AO_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(STD_A'+'O_TEXTURE)'+'\x20||\x20define'+'d(STD_AO_V'+'ERTEX)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAo\x20='+'\x20mix(1.0,\x20'+'dAo,\x20mater'+'ial_aoInte'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',JC='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',e1='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0av'+'oid\x20occlud'+'eSpecular('+'float\x20glos'+'s,\x20float\x20a'+'o,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir)\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'AO\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_OCCLUDE_'+'SPECULAR_F'+'LOAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20specOcc'+'\x20=\x20mix(1.0'+',\x20ao,\x20mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20specOc'+'c\x20=\x20ao;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_OCC'+'LUDE_SPECU'+'LAR\x20==\x20GLO'+'SSDEPENDEN'+'T\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20approx'+'imated\x20spe'+'cular\x20occl'+'usion\x20from'+'\x20AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20http:'+'//research'+'.tri-ace.c'+'om/Data/ce'+'dec2011_Re'+'altimePBR_'+'Implementa'+'tion_e.ppt'+'x\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01\x20'+'*\x20specPow)'+'\x20-\x201.0\x20+\x20a'+'o);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20sp'+'ecOcc,\x20mat'+'erial_occl'+'udeSpecula'+'rIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20*=\x20specO'+'cc;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sReflecti'+'on\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a'),t1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001\x20'+'?\x20(1.0/255'+'.0)\x20:\x200.0)'+';\x0a\x20\x20\x20\x20}\x0a',s1='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'ambientBak'+'eOcclusion'+'Contrast\x20+'+'\x201.0,\x200.0)'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'vec3(ambie'+'ntBakeOccl'+'usionBrigh'+'tness);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20sa'+'turate(dDi'+'ffuseLight'+');\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20dAmbie'+'ntLight;\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHTM'+'AP_RGBM\x0a\x20\x20'+'\x20\x20//\x20encod'+'e\x20to\x20RGBM\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20dDiffus'+'eLight;\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor.rgb\x20='+'\x20pow(gl_Fr'+'agColor.rg'+'b,\x20vec3(0.'+'5));\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20/=\x208'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.a\x20=\x20clamp'+'(\x20max(\x20max'+'(\x20gl_FragC'+'olor.r,\x20gl'+'_FragColor'+'.g\x20),\x20max('+'\x20gl_FragCo'+'lor.b,\x201.0'+'\x20/\x20255.0\x20)'+'\x20),\x200.0,1.'+'0\x20);\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.a\x20=\x20ceil'+'(gl_FragCo'+'lor.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20/=\x20gl'+'_FragColor'+'.a;\x0a#else\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(dDiffu'+'seLight,\x201'+'.0);\x0a#endi'+'f\x0a',i1='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',r1='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',a1='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',n1='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',o1='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20weigh'+'t[{SAMPLES'+'}];\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20m'+'oments\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vUv0\x20-'+'\x20pixelOffs'+'et\x20*\x20(floa'+'t({SAMPLES'+'})\x20*\x200.5);'+'\x0a\x20\x20\x20\x20for\x20('+'int\x20i\x20=\x200;'+'\x20i\x20<\x20{SAMP'+'LES};\x20i++)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20c\x20=\x20'+'texture2D('+'source,\x20uv'+'\x20+\x20pixelOf'+'fset\x20*\x20flo'+'at(i));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20GAUSS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20moments\x20'+'+=\x20c.xyz\x20*'+'\x20weight[i]'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'ments\x20+=\x20c'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20*=\x201.0\x20/'+'\x20float({SA'+'MPLES});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(momen'+'ts.x,\x20mome'+'nts.y,\x20mom'+'ents.z,\x201.'+'0);\x0a}\x0a',l1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oat;\x0a\x0avoid'+'\x20getClearC'+'oat()\x20{\x0a\x20\x20'+'\x20\x20ccSpecul'+'arity\x20=\x20ma'+'terial_cle'+'arCoat;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_CLEARC'+'OAT_TEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias({ST'+'D_CLEARCOA'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_CL'+'EARCOAT_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20*=\x20satu'+'rate(vVert'+'exColor.{S'+'TD_CLEARCO'+'AT_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',c1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oatGloss;\x0a'+'\x0avoid\x20getC'+'learCoatGl'+'ossiness()'+'\x20{\x0a\x20\x20\x20\x20ccG'+'lossiness\x20'+'=\x20material'+'_clearCoat'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_CLEAR'+'COATGLOSS_'+'TEXTURE_NA'+'ME},\x20{STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_CLEAR'+'COATGLOSS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_CLEAR'+'COATGLOSS_'+'INVERT\x0a\x20\x20\x20'+'\x20ccGlossin'+'ess\x20=\x201.0\x20'+'-\x20ccGlossi'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',h1='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0aunif'+'orm\x20float\x20'+'material_c'+'learCoatBu'+'mpiness;\x0a#'+'endif\x0a\x0avoi'+'d\x20getClear'+'CoatNormal'+'()\x20{\x0a#ifde'+'f\x20STD_CLEA'+'RCOATNORMA'+'L_TEXTURE\x0a'+'\x20\x20\x20\x20vec3\x20n'+'ormalMap\x20='+'\x20{STD_CLEA'+'RCOATNORMA'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_UV}'+',\x20textureB'+'ias));\x0a\x20\x20\x20'+'\x20normalMap'+'\x20=\x20mix(vec'+'3(0.0,\x200.0'+',\x201.0),\x20no'+'rmalMap,\x20m'+'aterial_cl'+'earCoatBum'+'piness);\x0a\x20'+'\x20\x20\x20ccNorma'+'lW\x20=\x20norma'+'lize(dTBN\x20'+'*\x20normalMa'+'p);\x0a#else\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20dVer'+'texNormalW'+';\x0a#endif\x0a}'+'\x0a',d1='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.x\x20=\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20t'+'ileOffset.'+'y\x20=\x20dir.z\x20'+'<\x200.0\x20?\x201.'+'0\x20:\x200.0;\x0a\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if(vAbs.y'+'\x20>=\x20vAbs.x'+')\x20{\x20\x20//\x20to'+'p\x20index\x202,'+'\x20bottom\x20in'+'dex\x203\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.y\x20<\x200.0\x20?'+'\x203.0\x20:\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x,\x20dir.y\x20'+'<\x200.0\x20?\x20-d'+'ir.z\x20:\x20dir'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.x\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.y\x20=\x20dir.'+'y\x20<\x200.0\x20?\x20'+'1.0\x20:\x200.0;'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'\x20=\x200.5\x20/\x20v'+'Abs.x;\x0a\x20\x20\x20'+('\x20\x20\x20\x20\x20uv\x20=\x20'+'vec2(dir.x'+'\x20<\x200.0\x20?\x20d'+'ir.z\x20:\x20-di'+'r.z,\x20-dir.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20uv'+'\x20*\x20ma\x20+\x200.'+'5;\x0a}\x0a\x0a//\x20c'+'onverts\x20un'+'normalized'+'\x20direction'+'\x20vector\x20to'+'\x20a\x20texture'+'\x20coordinat'+'e\x20for\x20a\x20cu'+'bemap\x20face'+'\x20stored\x20wi'+'thin\x20textu'+'re\x20atlas\x20d'+'escribed\x20b'+'y\x20the\x20view'+'port\x0avec2\x20'+'getCubemap'+'AtlasCoord'+'inates(con'+'st\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+'dgePixels,'+'\x20float\x20sha'+'dowTexture'+'Resolution'+',\x20const\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20faceIndex'+';\x0a\x20\x20\x20\x20vec2'+'\x20tileOffse'+'t;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapFac'+'eCoordinat'+'es(dir,\x20fa'+'ceIndex,\x20t'+'ileOffset)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'move\x20uv\x20co'+'ordinates\x20'+'inwards\x20in'+'side\x20to\x20co'+'mpensate\x20f'+'or\x20larger\x20'+'fov\x20when\x20r'+'endering\x20s'+'hadow\x20into'+'\x20atlas\x0a\x20\x20\x20'+'\x20float\x20atl'+'asFaceSize'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20tileSi'+'ze\x20=\x20shado'+'wTextureRe'+'solution\x20*'+'\x20atlasFace'+'Size;\x0a\x20\x20\x20\x20'+'float\x20offs'+'et\x20=\x20shado'+'wEdgePixel'+'s\x20/\x20tileSi'+'ze;\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv\x20*\x20ve'+'c2(1.0\x20-\x20o'+'ffset\x20*\x202.'+'0)\x20+\x20vec2('+'offset\x20*\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20*'+'=\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20fac'+'e\x20of\x20the\x20a')+('tlas\x20(3x3\x20'+'grid)\x0a\x20\x20\x20\x20'+'uv\x20+=\x20tile'+'Offset\x20*\x20a'+'tlasFaceSi'+'ze;\x0a\x0a\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nto\x20the\x20at'+'las\x20viewpo'+'rt\x0a\x20\x20\x20\x20uv\x20'+'+=\x20omniAtl'+'asViewport'+'.xy;\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a'),f1='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20vec4\x20co'+'okieChanne'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20mix(vec4'+'(1.0),\x20tex'+'ture2DLod('+'tex,\x20uv,\x200'+'.0),\x20inten'+'sity);\x0a\x20\x20\x20'+'\x20bool\x20isRg'+'b\x20=\x20dot(co'+'okieChanne'+'l.rgb,\x20vec'+'3(1.0))\x20=='+'\x203.0;\x0a\x20\x20\x20\x20'+'return\x20isR'+'gb\x20?\x20pixel'+'.rgb\x20:\x20vec'+'3(dot(pixe'+'l,\x20cookieC'+'hannel));\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0ave'+'c3\x20getCook'+'ie2DCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20mat4\x20'+'transform,'+'\x20vec3\x20worl'+'dPosition,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieC'+'hannel)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20p'+'rojPos\x20=\x20t'+'ransform\x20*'+'\x20vec4(worl'+'dPosition,'+'\x201.0);\x0a\x20\x20\x20'+'\x20return\x20_g'+'etCookieCl'+'ustered(TE'+'XTURE_PASS'+'(tex),\x20pro'+'jPos.xy\x20/\x20'+'projPos.w,'+'\x20intensity'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20vec4\x20coo'+'kieChannel'+',\x20float\x20sh'+'adowTextur'+'eResolutio'+'n,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20omniAtla'+'sViewport)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+('tureResolu'+'tion,\x20dir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getCoo'+'kieCluster'+'ed(TEXTURE'+'_PASS(tex)'+',\x20uv,\x20inte'+'nsity,\x20coo'+'kieChannel'+');\x0a}\x0a'),u1='\x0a\x0avec3\x20_ge'+'tShadowCoo'+'rdPerspZbu'+'ffer(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20wP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20shado'+'wMatrix\x20*\x20'+'vec4(wPos,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'yz\x20/=\x20proj'+'Pos.w;\x0a\x20\x20\x20'+'\x20return\x20pr'+'ojPos.xyz;'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20bias\x20i'+'s\x20already\x20'+'applied\x20on'+'\x20render\x0a}\x0a'+'\x0avec3\x20getS'+'hadowCoord'+'PerspZbuff'+'erNormalOf'+'fset(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20wPo'+'s\x20=\x20vPosit'+'ionW\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm,\x20vec3'+'\x20normal)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20distScale'+'\x20=\x20length('+'lightDir);'+'\x0a\x20\x20\x20\x20vec3\x20'+'wPos\x20=\x20vPo'+'sitionW\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x20/'+'/0.02\x0a\x20\x20\x20\x20'+'vec3\x20dir\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0afloa'+'t\x20getShado'+'wOmniClust'+'eredPCF1(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20omniAtla'+'sViewport,'+'\x20float\x20sha'+'dowEdgePix'+'els,\x20vec3\x20'+'lightDir)\x20'+'{\x0a\x0a\x20\x20\x20\x20flo'+'at\x20shadowT'+('extureReso'+'lution\x20=\x20s'+'hadowParam'+'s.x;\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+'lution,\x20li'+'ghtDir);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'shadowZ\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(uv,\x20sha'+'dowZ));\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF3'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF3'+'x3(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF5'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s')+('hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF5'+'x5(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a/'+'/\x20Clustere'+'d\x20Spot\x20Sam'+'pling\x20usin'+'g\x20atlas\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF1)\x0a\x0afl'+'oat\x20getSha'+'dowSpotClu'+'steredPCF1'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSha'+'dow(shadow'+'Map,\x20shado'+'wCoord);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x0af'+'loat\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF3x3'+'(SHADOWMAP'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a}\x0a\x0a#'+'endif\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x0afloa'+'t\x20getShado'+'wSpotClust'+'eredPCF5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC')+('oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a}'+'\x0a#endif\x0a'),p1='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20clu'+'sterWorldT'+'exture;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20lightsTe'+'xture;\x0a\x0a#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x20\x20\x20\x20//\x20TO'+'DO:\x20when\x20V'+'SM\x20shadow\x20'+'is\x20support'+'ed,\x20it\x20nee'+'ds\x20to\x20use\x20'+'sampler2D\x20'+'in\x20webgl2\x0a'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'DShadow\x20sh'+'adowAtlasT'+'exture;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20CLUSTER'+'_COOKIES\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20cookieAtl'+'asTexture;'+'\x0a#endif\x0a\x0au'+'niform\x20int'+'\x20clusterMa'+'xCells;\x0a\x0a/'+'/\x201.0\x20if\x20c'+'lustered\x20l'+'ighting\x20ca'+'n\x20be\x20skipp'+'ed\x20(0\x20ligh'+'ts\x20in\x20the\x20'+'clusters)\x0a'+'uniform\x20fl'+'oat\x20cluste'+'rSkip;\x0a\x0aun'+'iform\x20vec3'+'\x20clusterCe'+'llsCountBy'+'BoundsSize'+';\x0auniform\x20'+'vec3\x20clust'+'erTextureS'+'ize;\x0aunifo'+'rm\x20vec3\x20cl'+'usterBound'+'sMin;\x0aunif'+'orm\x20vec3\x20c'+'lusterBoun'+'dsDelta;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsDot;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsMax;\x0au'+'niform\x20vec'+'2\x20shadowAt'+'lasParams;'+'\x0a\x0a//\x20struc'+'ture\x20stori'+'ng\x20light\x20p'+'roperties\x20'+'of\x20a\x20clust'+'ered\x20light'+'\x0a//\x20it\x27s\x20s'+('orted\x20to\x20h'+'ave\x20all\x20ve'+'ctors\x20alig'+'ned\x20to\x204\x20f'+'loats\x20to\x20l'+'imit\x20paddi'+'ng\x0astruct\x20'+'ClusterLig'+'htData\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x2032b'+'it\x20of\x20flag'+'s\x0a\x20\x20\x20\x20uint'+'\x20flags;\x0a\x0a\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20siz'+'es\x20/\x20orien'+'tation\x0a\x20\x20\x20'+'\x20vec3\x20half'+'Width;\x0a\x0a\x20\x20'+'\x20\x20bool\x20isS'+'pot;\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20sizes\x20'+'/\x20orientat'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20halfHei'+'ght;\x0a\x0a\x20\x20\x20\x20'+'//\x20light\x20i'+'ndex\x0a\x20\x20\x20\x20i'+'nt\x20lightIn'+'dex;\x0a\x0a\x20\x20\x20\x20'+'//\x20world\x20s'+'pace\x20posit'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20positio'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20uint\x20sha'+'pe;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20direct'+'ion\x20(spot\x20'+'light\x20only'+')\x0a\x20\x20\x20\x20vec3'+'\x20direction'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20foll'+'ow\x20mode\x0a\x20\x20'+'\x20\x20bool\x20fal'+'loffModeLi'+'near;\x0a\x0a\x20\x20\x20'+'\x20//\x20color\x0a'+'\x20\x20\x20\x20vec3\x20c'+'olor;\x0a\x0a\x20\x20\x20'+'\x20//\x200.0\x20if'+'\x20the\x20light'+'\x20doesn\x27t\x20c'+'ast\x20shadow'+'s\x0a\x20\x20\x20\x20floa'+'t\x20shadowIn'+'tensity;\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20vec3\x20om'+'niAtlasVie'+'wport;\x0a\x0a\x20\x20'+'\x20\x20//\x20range'+'\x20of\x20the\x20li'+'ght\x0a\x20\x20\x20\x20fl'+'oat\x20range;'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'hannel\x20mas'+'k\x20-\x20one\x20of'+'\x20the\x20chann'+'els\x20has\x201,'+'\x20the\x20other'+'s\x20are\x200\x0a\x20\x20'+'\x20\x20vec4\x20coo'+'kieChannel'+'Mask;\x0a\x0a\x20\x20\x20'+'\x20//\x20compre'+'ssed\x20biase'+'s,\x20two\x20haf'+'-floats\x20st'+'ored\x20in\x20a\x20'+'float\x0a\x20\x20\x20\x20'+'float\x20bias'+'esData;\x0a\x0a\x20')+('\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20f'+'loat\x20angle'+'sData;\x0a\x0a\x20\x20'+'\x20\x20//\x20spot\x20'+'light\x20inne'+'r\x20and\x20oute'+'r\x20angle\x20co'+'sine\x0a\x20\x20\x20\x20f'+'loat\x20inner'+'ConeAngleC'+'os;\x0a\x20\x20\x20\x20fl'+'oat\x20outerC'+'oneAngleCo'+'s;\x0a\x0a\x20\x20\x20\x20//'+'\x20intensity'+'\x20of\x20the\x20co'+'okie\x0a\x20\x20\x20\x20f'+'loat\x20cooki'+'eIntensity'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20//flo'+'at\x20mask;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Dynamic;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Lightmappe'+'d;\x0a};\x0a\x0a//\x20'+'Note:\x20on\x20s'+'ome\x20device'+'s\x20(tested\x20'+'on\x20Pixel\x203'+'A\x20XL),\x20thi'+'s\x20matrix\x20w'+'hen\x20stored'+'\x20inside\x20th'+'e\x20light\x20st'+'ruct\x20has\x20l'+'ower\x20preci'+'sion\x20compa'+'red\x20to\x0a//\x20'+'when\x20store'+'d\x20outside,'+'\x20so\x20we\x20sto'+'re\x20it\x20outs'+'ide\x20to\x20avo'+'id\x20spot\x20sh'+'adow\x20flick'+'ering.\x20Thi'+'s\x20might\x20ne'+'ed\x20to\x20be\x20d'+'one\x20to\x20oth'+'er\x20/\x20all\x20m'+'embers\x0a//\x20'+'of\x20the\x20str'+'ucture\x20if\x20'+'further\x20si'+'milar\x20issu'+'es\x20are\x20obs'+'erved.\x0a\x0a//'+'\x20shadow\x20(s'+'pot\x20light\x20'+'only)\x20/\x20co'+'okie\x20proje'+'ction\x20matr'+'ix\x0amat4\x20li'+'ghtProject'+'ionMatrix;'+'\x0a\x0avec4\x20sam'+'pleLightTe'+'xtureF(con'+'st\x20Cluster'+'LightData\x20'+'clusterLig'+'htData,\x20in'+'t\x20index)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(lightsT'+'exture,\x20iv'+'ec2(index,'+'\x20clusterLi'+'ghtData.li'+'ghtIndex),'+'\x200);\x0a}\x0a\x0avo'+'id\x20decodeC'+'lusterLigh')+('tCore(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20flo'+'at\x20lightIn'+'dex)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20index\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.li'+'ghtIndex\x20='+'\x20int(light'+'Index);\x0a\x0a\x20'+'\x20\x20\x20//\x20samp'+'le\x20data\x20en'+'coding\x20hal'+'f-float\x20va'+'lues\x20into\x20'+'32bit\x20uint'+'s\x0a\x20\x20\x20\x20vec4'+'\x20halfData\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_COL'+'OR_ANGLES_'+'BIAS});\x0a\x0a\x20'+'\x20\x20\x20//\x20stor'+'e\x20floats\x20w'+'e\x20decode\x20l'+'ater\x20as\x20ne'+'eded\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.angl'+'esData\x20=\x20h'+'alfData.z;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.biasesDa'+'ta\x20=\x20halfD'+'ata.w;\x0a\x0a\x20\x20'+'\x20\x20//\x20decom'+'press\x20colo'+'r\x20half-flo'+'ats\x0a\x20\x20\x20\x20ve'+'c2\x20colorRG'+'\x20=\x20unpackH'+'alf2x16(fl'+'oatBitsToU'+'int(halfDa'+'ta.x));\x0a\x20\x20'+'\x20\x20vec2\x20col'+'orB_\x20=\x20unp'+'ackHalf2x1'+'6(floatBit'+'sToUint(ha'+'lfData.y))'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.color\x20='+'\x20vec3(colo'+'rRG,\x20color'+'B_.x)\x20*\x20{L'+'IGHT_COLOR'+'_DIVIDER};'+'\x0a\x0a\x20\x20\x20\x20//\x20p'+'osition\x20an'+'d\x20range,\x20f'+'ull\x20floats'+'\x0a\x20\x20\x20\x20vec4\x20'+'lightPosRa'+'nge\x20=\x20samp'+'leLightTex'+'tureF(clus'+'terLightDa'+'ta,\x20{CLUST'+'ER_TEXTURE'+'_POSITION_'+'RANGE});\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'position\x20='+'\x20lightPosR'+'ange.xyz;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.range\x20=\x20l'+'ightPosRan'+'ge.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20d'+'irection\x20&'+'\x20flags\x20dat'+'a\x0a\x20\x20\x20\x20vec4'+'\x20lightDir_'+'Flags\x20=\x20sa'+'mpleLightT'+'extureF(cl')+('usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_DIRECTI'+'ON_FLAGS})'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20direction'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.directio'+'n\x20=\x20lightD'+'ir_Flags.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x2032bit\x20fl'+'ags\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20floatBi'+'tsToUint(l'+'ightDir_Fl'+'ags.w);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sSpot\x20=\x20(c'+'lusterLigh'+'tData.flag'+'s\x20&\x20(1u\x20<<'+'\x2030u))\x20!=\x20'+'0u;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.shape'+'\x20=\x20(cluste'+'rLightData'+'.flags\x20>>\x20'+'28u)\x20&\x200x3'+'u;\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.fallof'+'fModeLinea'+'r\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2027u'+'))\x20==\x200u;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.shadowInt'+'ensity\x20=\x20f'+'loat((clus'+'terLightDa'+'ta.flags\x20>'+'>\x200u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eIntensity'+'\x20=\x20float(('+'clusterLig'+'htData.fla'+'gs\x20>>\x208u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sDynamic\x20='+'\x20(clusterL'+'ightData.f'+'lags\x20&\x20(1u'+'\x20<<\x2022u))\x20'+'!=\x200u;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.is'+'Lightmappe'+'d\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2021u'+'))\x20!=\x200u;\x0a'+'}\x0a\x0avoid\x20de'+'codeCluste'+'rLightSpot'+'(inout\x20Clu'+'sterLightD'+'ata\x20cluste'+'rLightData'+')\x20{\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20cos\x20ang'+'les\x0a\x20\x20\x20\x20ve'+'c2\x20angles\x20'+'=\x20unpackHa'+'lf2x16(flo'+'atBitsToUi'+'nt(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight')+('Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20{CLUSTER'+'_TEXTURE_P'+'ROJ_MAT_0}'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_AREA_DA'+'TA_WIDTH})'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20{C'+'LUSTER_TEX'+'TURE_AREA_'+'DATA_HEIGH'+'T}).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20{CL'+'USTER_TEXT'+'URE_PROJ_M'+'AT_0});\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_PRO'+'J_MAT_1});'+'\x0a\x20\x20\x20\x20vec4\x20'+'m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20{CLUSTE'+'R_TEXTURE_'+'PROJ_MAT_2'+'});\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight')+('Data,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'2\x20biases\x20='+'\x20unpackHal'+'f2x16(floa'+'tBitsToUin'+'t(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20extra'+'ct\x20channel'+'\x20mask\x20from'+'\x20flags\x0a\x20\x20\x20'+'\x20uint\x20cook'+'ieFlags\x20=\x20'+'(clusterLi'+'ghtData.fl'+'ags\x20>>\x2023u'+')\x20&\x200x0Fu;'+'\x20\x20//\x204bits'+',\x20each\x20bit'+'\x20enables\x20a'+'\x20channel\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'cookieChan'+'nelMask\x20=\x20'+'vec4(uvec4'+'(cookieFla'+'gs)\x20&\x20uvec'+'4(1u,\x202u,\x20'+'4u,\x208u));\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.cookieCha'+'nnelMask\x20='+'\x20step(1.0,'+'\x20clusterLi'+'ghtData.co'+'okieChanne'+'lMask);\x20\x20/'+'/\x20Normaliz'+'e\x20to\x200.0\x20o'+'r\x201.0\x0a}\x0a\x0av'+'oid\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20Cluster'+'LightData\x20'+'light,\x20\x0a\x20\x20'+'\x20\x20vec3\x20wor'+'ldNormal,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'viewDir,\x20\x0a'+'\x20\x20\x20\x20vec3\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20')+('\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20vec'+'3(1.0);\x0a\x20\x20'+'\x20\x20float\x20di'+'ffuseAtten'+'uation\x20=\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20fallof'+'fAttenuati'+'on\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20omn'+'i\x20part\x20of\x20'+'the\x20light\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ightDirW\x20='+'\x20evalOmniL'+'ight(light'+'.position)'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'ormW\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20')+('else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20=\x20get'+'FalloffLin'+'ear(light.'+'range,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20getFa'+'lloffInvSq'+'uared(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_AREALIGH'+'TS\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shape\x20!='+'\x20{LIGHTSHA'+'PE_PUNCTUA'+'L})\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20hand'+'le\x20light\x20s'+'hape\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getRec'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirW,\x20lig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'DISK})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getD'+'iskLightDi'+'ffuse(worl'+'dNormal,\x20v'+'iewDir,\x20li'+'ghtDirW,\x20l'+'ightDirNor'+'mW)\x20*\x2016.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20g'+'etLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+');\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spot'+'\x20light\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20lightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_COOK'+'IES)\x20||\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x20/\x20cookie\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shadowIn'+'tensity\x20>\x20'+'0.0\x20||\x20lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'ared\x20shado'+'w\x20/\x20cookie'+'\x20data\x20depe'+'nds\x20on\x20lig'+'ht\x20type\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightOmniAt'+'lasViewpor'+'t(light);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowAtlasPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowEdge'+'Pixels\x20=\x20s'+'hadowAtlas'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_COOKIES\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'cookie\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightCook'+'ieData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.isSp'+'ot)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookie2'+'DClustered'+'(TEXTURE_P'+'ASS(cookie'+'AtlasTextu'+'re),\x20light'+'Projection'+'Matrix,\x20vP'+'ositionW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20cookieAt'+'tenuation\x20'+'=\x20getCooki'+'eCubeClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightDirW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask,\x20sh'+'adowTextur'+'eResolutio'+'n,\x20shadowE'+'dgePixels,'+'\x20light.omn'+'iAtlasView'+'port);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20shadow\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shadow'+'Intensity\x20'+'>\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d')+('ecodeClust'+'erLightSha'+'dowData(li'+'ght);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20shadowPa'+'rams\x20=\x20vec'+'4(shadowTe'+'xtureResol'+'ution,\x20lig'+'ht.shadowN'+'ormalBias,'+'\x20light.sha'+'dowBias,\x201'+'.0\x20/\x20light'+'.range);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'isSpot)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ot\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat'+'rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F1)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CF1(SHADOW'+'MAP_PASS(s'+'hadowAtlas'+'Texture),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20de'+'fined(CLUS'+'TER_SHADOW'+'_TYPE_PCF3'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_PASS(sha'+'dowAtlasTe'+'xture),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#elif\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF5('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owCoord,\x20s'+'hadowParam')+('s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCSS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCSS(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20m'+'ix(1.0,\x20sh'+'adow,\x20ligh'+'t.shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20om'+'ni\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20d'+'ir\x20=\x20norma'+'lOffsetPoi'+'ntShadow(s'+'hadowParam'+'s,\x20light.p'+'osition,\x20l'+'ightDirW,\x20'+'lightDirNo'+'rmW,\x20geome'+'tricNormal'+');\x20\x20//\x20nor'+'malBias\x20ad'+'justed\x20for'+'\x20distance\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F1(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF3)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF3(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,')+('\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wOmniClust'+'eredPCF5(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20*=\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20areaDi'+'ffuse\x20=\x20(d'+'iffuseAtte'+'nuation\x20*\x20'+'falloffAtt'+'enuation)\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaDiffuse\x20'+'=\x20mix(area'+'Diffuse,\x20v'+'ec3(0),\x20dL'+'TCSpecFres'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20dif'+'fuse\x20-\x20it\x20'+'does\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20')+('into\x20specu'+'lar\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20a'+'reaDiffuse'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20specular'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20areaLig'+'htSpecular'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'RECT})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecular\x20=\x20g'+'etRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20area'+'LightSpecu'+'lar\x20=\x20getD'+'iskLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x20//\x20sp'+'here\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getSp'+'hereLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp'+'ecFres\x20*\x20a'+'reaLightSp'+'ecular\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x20clear'+'\x20coat\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20areaLigh'+'tSpecularC')+('C;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shape\x20'+'==\x20{LIGHTS'+'HAPE_RECT}'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getRectLig'+'htSpecular'+'(clearcoat'+'_worldNorm'+'al,\x20viewDi'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(light'+'.shape\x20==\x20'+'{LIGHTSHAP'+'E_DISK})\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'arCC\x20=\x20get'+'DiskLightS'+'pecular(cl'+'earcoat_wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x20'+'//\x20sphere\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'rCC\x20=\x20getS'+'phereLight'+'Specular(c'+'learcoat_w'+'orldNormal'+',\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20ccLTCS'+'pecFres\x20*\x20'+'areaLightS'+'pecularCC\x20'+'*\x20falloffA'+'ttenuation'+'\x20*\x20light.c'+'olor\x20\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20{\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'unctualDif'+'fuse\x20=\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'CLUSTER_AR'+'EALIGHTS)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20punctual')+('Diffuse\x20=\x20'+'mix(punctu'+'alDiffuse,'+'\x20vec3(0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20punctu'+'alDiffuse;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20and\x20cle'+'ar\x20coat\x20ar'+'e\x20material'+'\x20settings\x20'+'and\x20get\x20in'+'cluded\x20by\x20'+'a\x20define\x20b'+'ased\x20on\x20th'+'e\x20material'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20halfD'+'ir\x20=\x20norma'+'lize(-ligh'+'tDirNormW\x20'+'+\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htSpecular'+'(halfDir,\x20'+'reflection'+'Dir,\x20world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'halfDir,\x20c'+'learcoatRe'+'flectionDi'+'r,\x20clearco'+'at_worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'clearcoat_'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20g'+'etFresnelC'+'C(dot(view'+'Dir,\x20halfD'+'ir));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20getLi'+'ghtSpecula'+'r(halfDir,'+'\x20clearcoat'+'Reflection'+'Dir,\x20clear'+'coat_world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec')+('ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNormW,'+'\x20sheen_glo'+'ss)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20Wri'+'te\x20to\x20glob'+'al\x20attenua'+'tion\x20value'+'s\x20(for\x20lig'+'htmapper)\x0a'+'\x20\x20\x20\x20dAtten'+'\x20=\x20falloff'+'Attenuatio'+'n;\x0a\x20\x20\x20\x20dLi'+'ghtDirNorm'+'W\x20=\x20lightD'+'irNormW;\x0a}'+'\x0a\x0avoid\x20eva'+'luateClust'+'erLight(\x0a\x20'+'\x20\x20\x20float\x20l'+'ightIndex,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20worldNorm'+'al,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20viewDi'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20reflect'+'ionDir,\x20\x0a#'+'if\x20defined'+'(LIT_CLEAR'+'COAT)\x0a\x20\x20\x20\x20'+'vec3\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'float\x20glos'+'s,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20vec3\x20geom'+'etricNorma'+'l,\x20\x0a\x20\x20\x20\x20ma'+'t3\x20tbn,\x20\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20ve'+'c3\x20clearco'+'at_worldNo'+'rmal,\x0a\x20\x20\x20\x20'+'float\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20flo'+'at\x20sheen_g'+'loss,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escence_in'+'tensity\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'decode\x20cor'+'e\x20light\x20da'+'ta\x20from\x20te'+'xtures\x0a\x20\x20\x20'+'\x20ClusterLi'+'ghtData\x20cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(cluster'+'LightData,'+'\x20lightInde'+'x);\x0a\x0a\x20\x20\x20\x20/'+'/\x20evaluate'+'\x20light\x20if\x20'+'it\x20uses\x20ac'+'cepted\x20lig'+'ht\x20mask\x0a\x20\x20'+'\x20\x20#ifdef\x20C')+('LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20bool\x20'+'acceptLigh'+'tMask\x20=\x20cl'+'usterLight'+'Data.isDyn'+'amic;\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bool\x20a'+'cceptLight'+'Mask\x20=\x20clu'+'sterLightD'+'ata.isLigh'+'tmapped;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20if\x20(a'+'cceptLight'+'Mask)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a#end')+('if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l'+'ightCellIn')+('dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20r'+'ed\x20channel'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20l'+'ightIndex\x20'+'=\x20texelFet'+'ch(cluster'+'WorldTextu'+'re,\x20ivec2('+'int(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20clusterV'+'),\x200).x;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'tIndex\x20<=\x20'+'0.0)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20break;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20evaluateC'+'lusterLigh'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightIndex\x20'+'*\x20255.0,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel,\x0a#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cl'+'earcoat_gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sheen_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),m1='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion)\x20*\x20cl'+'earcoatSpe'+'cularity;\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20r'+'et;\x0a}\x0a',_1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}\x0a',g1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}\x0a',S1='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}\x0a',y1='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),v1='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20envBoxM'+'in;\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20envBoxMax'+';\x0a#endif\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_CUB'+'EMAP_PROJE'+'CTION\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20c'+'ubeMapRota'+'te(nrdir);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20LIT_CUBEM'+'AP_PROJECT'+'ION\x20==\x20BOX'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'nrdir\x20=\x20cu'+'beMapRotat'+'e(nrdir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20rbmax\x20'+'=\x20(envBoxM'+'ax\x20-\x20vPosi'+'tionW)\x20/\x20n'+'rdir;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20rbmin'+'max\x20=\x20mix('+'rbmin,\x20rbm'+'ax,\x20vec3(g'+'reaterThan'+'(nrdir,\x20ve'+'c3(0.0))))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20fa\x20='+'\x20min(min(r'+'bminmax.x,'+'\x20rbminmax.'+'y),\x20rbminm'+'ax.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20posonbox\x20'+'=\x20vPositio'+'nW\x20+\x20nrdir'+'\x20*\x20fa;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envBoxPos\x20'+'=\x20(envBoxM'+'in\x20+\x20envBo'+'xMax)\x20*\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20no'+'rmalize(po'+'sonbox\x20-\x20e'+'nvBoxPos);'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',x1='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',T1='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',w1='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',E1='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'Z(vec4\x20nma'+'p)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20nmap'+'.xyz\x20*\x202.0'+'\x20-\x201.0;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'(vec4\x20nmap'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20normal;'+'\x0a\x20\x20\x20\x20norma'+'l.xy\x20=\x20nma'+'p.wy\x20*\x202.0'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20normal.z'+'\x20=\x20sqrt(1.'+'0\x20-\x20clamp('+'dot(normal'+'.xy,\x20norma'+'l.xy),\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20return\x20'+'normal;\x0a}\x0a'+'\x0a#endif\x0a',b1='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0avec3\x20'+'detailMode'+'_mul(vec3\x20'+'c1,\x20vec3\x20c'+'2)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20c1\x20*'+'\x20c2;\x0a}\x0a\x0ave'+'c3\x20detailM'+'ode_add(ve'+'c3\x20c1,\x20vec'+'3\x20c2)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'1\x20+\x20c2;\x0a}\x0a'+'\x0a//\x20https:'+'//en.wikip'+'edia.org/w'+'iki/Blend_'+'modes#Scre'+'en\x0avec3\x20de'+'tailMode_s'+'creen(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x201.0'+'\x20-\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2);\x0a}\x0a\x0a/'+'/\x20https://'+'en.wikiped'+'ia.org/wik'+'i/Blend_mo'+'des#Overla'+'y\x0avec3\x20det'+'ailMode_ov'+'erlay(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(1.0\x20-\x202.0'+'\x20*\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2),\x202.0\x20'+'*\x20c1\x20*\x20c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a\x0a'+'#endif\x0a',A1='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0a#ifdef\x20'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'detailMode'+'sPS\x22\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_DIFFUS'+'E_TEXTURE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20albedoT'+'exture\x20=\x20{'+'STD_DIFFUS'+'E_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_DIF'+'FUSE_TEXTU'+'RE_NAME},\x20'+'{STD_DIFFU'+'SE_TEXTURE'+'_UV},\x20text'+'ureBias)).'+'{STD_DIFFU'+'SE_TEXTURE'+'_CHANNEL};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSEDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'albedoDeta'+'il\x20=\x20{STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_DECODE}('+'texture2DB'+'ias({STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'DETAIL_TEX'+'TURE_UV},\x20'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20*=\x20albe'+'doTexture;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSE_VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAlbedo\x20*'+'=\x20gammaCor'+'rectInput('+'saturate(v'+'VertexColo'+'r.{STD_DIF'+'FUSE_VERTE'+'X_CHANNEL}'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',C1='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_TEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20{STD_EMIS'+'SIVE_TEXTU'+'RE_DECODE}'+'(texture2D'+'Bias({STD_'+'EMISSIVE_T'+'EXTURE_NAM'+'E},\x20{STD_E'+'MISSIVE_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'EMISSIVE_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_EMISSI'+'VE_VERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.{ST'+'D_EMISSIVE'+'_VERTEX_CH'+'ANNEL}));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',P1='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),M1='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',D1='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20floa'+'t\x20atlasSiz'+'e\x20=\x20512.0;'+'\x0aconst\x20flo'+'at\x20seamSiz'+'e\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0avec2\x20ma'+'pUv(vec2\x20u'+'v,\x20vec4\x20re'+'ct)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(mix(rect'+'.x\x20+\x20seamS'+'ize,\x20rect.'+'x\x20+\x20rect.z'+'\x20-\x20seamSiz'+'e,\x20uv.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mix('+'rect.y\x20+\x20s'+'eamSize,\x20r'+'ect.y\x20+\x20re'+'ct.w\x20-\x20sea'+'mSize,\x20uv.'+'y));\x0a}\x0a\x0a//'+'\x20map\x20a\x20nor'+'malized\x20eq'+'uirect\x20UV\x20'+'and\x20roughn'+'ess\x20level\x20'+'to\x20the\x20cor'+'rect\x20atlas'+'\x20rect.\x0avec'+'2\x20mapRough'+'nessUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'0,\x201.0\x20-\x20t'+',\x20t,\x20t\x20*\x200'+'.5));\x0a}\x0a\x0a/'+'/\x20map\x20shin'+'y\x20level\x20UV'+'\x0avec2\x20mapS'+'hinyUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'1.0\x20-\x20t,\x201'+'.0\x20-\x20t,\x20t,'+'\x20t\x20*\x200.5))'+';\x0a}\x0a\x0a#endi'+'f\x0a',I1='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20float\x20sky'+'boxIntensi'+'ty;\x0a#endif'+'\x0a\x0avec3\x20pro'+'cessEnviro'+'nment(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20skybo'+'xIntensity'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',L1='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(satura'+'te(1.0\x20-\x20s'+'quare(sqrD'+'ist\x20*\x20squa'+'re(invRadi'+'us))));\x0a}\x0a'+'\x0afloat\x20get'+'FalloffInv'+'Squared(fl'+'oat\x20lightR'+'adius,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20sqrDis'+'t\x20=\x20dot(li'+'ghtDir,\x20li'+'ghtDir);\x0a\x20'+'\x20\x20\x20float\x20f'+'alloff\x20=\x201'+'.0\x20/\x20(sqrD'+'ist\x20+\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20invRadiu'+'s\x20=\x201.0\x20/\x20'+'lightRadiu'+'s;\x0a\x0a\x20\x20\x20\x20fa'+'lloff\x20*=\x201'+'6.0;\x0a\x20\x20\x20\x20f'+'alloff\x20*=\x20'+'square(sat'+'urate(1.0\x20'+'-\x20square(s'+'qrDist\x20*\x20s'+'quare(invR'+'adius))));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20falloff'+';\x0a}\x0a',R1='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',O1='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0av'+'ec4\x20float2'+'vec4(float'+'\x20value)\x20{\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(CAPS'+'_TEXTURE_F'+'LOAT_RENDE'+'RABLE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4(val'+'ue,\x201.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20float'+'2uint(valu'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0a#e'+'ndif\x20//\x20FL'+'OAT_AS_UIN'+'T\x0a',F1='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',N1='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20saturate'+'(cosTheta)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20satu'+'rate(cosTh'+'eta),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',k1='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x200.5;\x0a}\x0a',U1='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',B1='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_GLO'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_GLOSS_'+'TEXTURE\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20*=\x20tex'+'ture2DBias'+'({STD_GLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_GLOSS_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_G'+'LOSS_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_INVE'+'RT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x201.0\x20-\x20dGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20+='+'\x200.0000001'+';\x0a}\x0a',z1='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20#'+'if\x20WEBGPU\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ce'+'nterProj.z'+'\x20=\x20clamp(c'+'enterProj.'+'z,\x200,\x20abs('+'centerProj'+'.w));\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20center'+'Proj.z\x20=\x20c'+'lamp(cente'+'rProj.z,\x20-'+'abs(center'+'Proj.w),\x20a'+'bs(centerP'+'roj.w));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20cente'+'r.view\x20=\x20c'+'enterView.'+'xyz\x20/\x20cent'+'erView.w;\x0a'+'\x20\x20\x20\x20center'+'.proj\x20=\x20ce'+'nterProj;\x0a'+'\x20\x20\x20\x20center'+'.projMat00'+'\x20=\x20matrix_'+'projection'+'[0][0];\x0a\x20\x20'+'\x20\x20center.m'+'odelView\x20='+'\x20modelView'+';\x0a\x20\x20\x20\x20retu'+'rn\x20true;\x0a}'+'\x0a',V1='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0a//\x20:\x200'+'.0\x20~\x201.0\x20'+'\x0afl'+'oat\x20comput'+'eAlpha(flo'+'at\x20muT,\x20fl'+'oat\x20uTime,'+'\x20float\x20uFa'+'deSpeed,\x20f'+'loat\x20life)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20age\x20=\x20('+'uTime\x20-\x20mu'+'T)\x20*\x202.0;\x20'+'//\x20'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'muT\x20>\x20uTim'+'e)\x20return\x20'+'0.0;\x0a\x0a\x20\x20\x20\x20'+'//\x20---\x20'+'\x20life\x20'+'---\x0a\x20\x20\x20\x20fl'+'oat\x20linear'+'Fade\x20=\x201.0'+'\x20-\x20age\x20/\x20l'+'ife;\x0a\x20\x20\x20\x20/'+'/\x20---\x20'+'\x20uFadeS'+'peed\x20---\x0a\x20'+'\x20\x20\x20float\x20e'+'xpFade\x20=\x20e'+'xp(-age\x20*\x20'+'uFadeSpeed'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20cl'+'amp(linear'+'Fade,\x200.0,'+'\x201.0);\x20\x0a\x20\x20'+'\x20\x20return\x20c'+'lamp(expFa'+'de,\x200.0,\x201'+'.0);\x0a}\x0a\x0a\x0av'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20uTime,\x20'+'bool\x20plusA'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'color\x20=\x20te'+'xelFetch(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a\x20\x20\x20\x20'+'#ifdef\x20IS_'+'4D\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20tDat'+'a\x20=\x20texelF'+'etch(trans'+'formLifecy'+'cle,\x20sourc'+'e.uv,\x200).x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20muT'+'\x20=\x20tData.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20saveA'+'\x20=\x20pointCl'+'oudModeEna'+'bled\x20==\x201\x20'+'?\x201.0\x20:\x20co'+'lor.a;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20alpha\x20=\x20s'+'aveA;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(uOp'+'enAnim\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20alp'+'ha\x20=\x20alpha'+'\x20*\x20(muT\x20-\x20'+'uTime\x20+\x200.'+'05);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20age\x20=\x20u'+'Time\x20-\x20muT'+';\x20\x20\x20\x20//\x20'+'\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20uFad'+'eSpeed\x20=\x202'+('.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20life\x20=\x200'+'.1;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20alph'+'a\x20=\x20comput'+'eAlpha(muT'+',\x20uTime,\x20u'+'FadeSpeed,'+'\x20life);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'alpha\x20*=\x20a'+'lpha;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor.a\x20=\x20p'+'lusA\x20?\x20alp'+'ha\x20:\x20saveA'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20ret'+'urn\x20color;'+'\x0a}\x0a\x0a'),G1='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ement\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20aaF'+'actor;\x20//\x20'+'for\x20scenes'+'\x20generated'+'\x20with\x20anti'+'aliasing\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20vec2\x20'+'v;\x0a\x20\x20\x20\x20flo'+'at\x20dlen;\x0a\x20'+'\x20\x20\x20vec2\x20cS'+'ize;\x0a\x20\x20\x20\x20v'+'ec2\x20cUV;\x0a}'+';\x0a\x0a#includ'+'e\x20\x22gsplatE'+'valSHVS\x22\x0a#'+'include\x20\x22g'+'splatQuatT'+'oMat3VS\x22\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+('D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_COEFFS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x20='+'=\x20true\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22gsplatSog'+'sDataVS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSo'+'gsSHVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0avoi'+'d\x20clipCorn'+'er(inout\x20S'+'platCorner'+'\x20corner,\x20f'+'loat\x20alpha'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20clip\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20255.'+'0\x20/\x20alpha)'+')\x20/\x202.0);\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20*='+'\x20clip;\x0a\x20\x20\x20'+'\x20corner.uv'+'\x20*=\x20clip;\x0a'+'}\x0a'),H1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{')+('\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec'+'3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat')+('a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex'+'ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu')+('nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),W1='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),$1='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20S'+'H_COEFFS\x203'+'\x0a\x20\x20\x20\x20#elif'+'\x20SH_BANDS\x20'+'==\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20SH_COEFFS'+'\x208\x0a\x20\x20\x20\x20#el'+'if\x20SH_BAND'+'S\x20==\x203\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20SH_COEF'+'FS\x2015\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20SH_COEFF'+'S\x200\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x200\x0a\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20SH_C1\x20'+'=\x200.488602'+'5119029199'+'f;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x201\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20f'+'loat\x20SH_C2'+'_0\x20=\x201.092'+'5484305920'+'792f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'2_1\x20=\x20-1.0'+'9254843059'+'20792f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C2_2\x20=\x200.'+'3153915652'+'5252005f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C2_3\x20=\x20'+'-1.0925484'+'305920792f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'const\x20floa'+'t\x20SH_C2_4\x20'+'=\x200.546274'+'2152960396'+'f;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x202\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'3_0\x20=\x20-0.5'+'9004358992'+'66435f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_1\x20=\x202.'+'8906114426'+'40554f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_2\x20=\x20-0'+'.457045799'+'4644658f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C3_3\x20=\x20'+'0.37317633'+'25901154f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20float'+'\x20SH_C3_4\x20='+'\x20-0.457045'+'7994644658'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_5'+'\x20=\x201.44530'+'5721320277'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_6'+'\x20=\x20-0.5900'+'4358992664'+'35f;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+('ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'\x20\x20\x20\x20vec3\x20e'+'valSH(in\x20v'+'ec3\x20sh[SH_'+'COEFFS],\x20i'+'n\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20dir.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20y\x20=\x20dir'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201st\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20resul'+'t\x20=\x20SH_C1\x20'+'*\x20(-sh[0]\x20'+'*\x20y\x20+\x20sh[1'+']\x20*\x20z\x20-\x20sh'+'[2]\x20*\x20x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x201\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x202nd\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xx\x20=\x20x\x20*\x20x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'zz\x20=\x20z\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yz\x20=\x20y\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xz\x20=\x20x\x20*\x20z'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[3]\x20*\x20('+'SH_C2_0\x20*\x20'+'xy)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[4]\x20*\x20'+'(SH_C2_1\x20*'+'\x20yz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[5]\x20*'+'\x20(SH_C2_2\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x20xx\x20-\x20y'+'y))\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[6]\x20*\x20'+'(SH_C2_3\x20*'+'\x20xz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20*'+'\x20(SH_C2_4\x20'+'*\x20(xx\x20-\x20yy'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'+=\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20')+('xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20#endif\x0a'),X1='\x0amat3\x20quat'+'ToMat3(vec'+'4\x20R)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20R2\x20='+'\x20R\x20+\x20R;\x0a\x20\x20'+'\x20\x20float\x20X\x20'+'=\x20R2.x\x20*\x20R'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20Y\x20\x20=\x20R2'+'.y\x20*\x20R;\x0a\x20\x20'+'\x20\x20vec4\x20Z\x20\x20'+'=\x20R2.z\x20*\x20R'+';\x0a\x20\x20\x20\x20floa'+'t\x20W\x20=\x20R2.w'+'\x20*\x20R.w;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x201.0\x20-\x20'+'Z.z\x20-\x20W,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20Y.z\x20+\x20X'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20Y.z\x20-\x20X,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x201.'+'0\x20-\x20Y.y\x20-\x20'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20+\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20Y.w\x20+\x20Z.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20-\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',q1='\x0auniform\x20m'+'ediump\x20sam'+'pler2D\x20sh0'+';\x0a\x0auniform'+'\x20vec4\x20sh0_'+'mins;\x0aunif'+'orm\x20vec4\x20s'+'h0_maxs;\x0a\x0a'+'float\x20SH_C'+'0\x20=\x200.2820'+'9479177387'+'814;\x0a\x0avec4'+'\x20readColor'+'(in\x20SplatS'+'ource\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20clr\x20='+'\x20mix(sh0_m'+'ins,\x20sh0_m'+'axs,\x20texel'+'Fetch(sh0,'+'\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(vec3(0.'+'5)\x20+\x20clr.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'clr.w)));\x0a'+'}\x0a',j1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0a\x0auniform\x20'+'vec3\x20means'+'_mins;\x0auni'+'form\x20vec3\x20'+'means_maxs'+';\x0a\x0auniform'+'\x20vec3\x20scal'+'es_mins;\x0au'+'niform\x20vec'+'3\x20scales_m'+'axs;\x0a\x0avec4'+'\x20unpackU32'+'(uint\x20v)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((v\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((v\x20>>'+'\x2016u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float((v'+'\x20>>\x208u)\x20&\x20'+'0xFFu)\x20/\x202'+'55.0,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float('+'v\x20&\x200xFFu)'+'\x20/\x20255.0\x0a\x20'+'\x20\x20\x20);\x0a}\x0a\x0au'+'vec4\x20packe'+'dSample;\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20th'+'e\x20packed\x20t'+'exture\x20sam'+'ple\x0a\x20\x20\x20\x20pa'+'ckedSample'+'\x20=\x20texelFe'+'tch(packed'+'Texture,\x20s'+'ource.uv,\x20'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20l\x20=\x20un'+'packU32(pa'+'ckedSample'+'.x).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20u\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20n\x20=\x20(l\x20*'+'\x20255.0\x20+\x20u'+'\x20*\x20255.0\x20*'+'\x20256.0)\x20/\x20'+'65535.0;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20mix(mean'+'s_mins,\x20me'+'ans_maxs,\x20'+'n);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20sign'+'(v)\x20*\x20(exp'+'(abs(v))\x20-'+'\x201.0);\x0a}\x0a\x0a'+'const\x20floa'+'t\x20norm\x20=\x202'+'.0\x20/\x20sqrt('+'2.0);\x0a\x0a//\x20'+'sample\x20cov'+'ariance\x20ve'+'ctors\x0avoid'+'\x20readCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'qdata\x20=\x20un'+'packU32(pa'+'ckedSample'+'.z);\x0a\x20\x20\x20\x20v'+'ec3\x20sdata\x20'+('=\x20unpackU3'+'2(packedSa'+'mple.w).xy'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20abc\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20f'+'loat\x20d\x20=\x20s'+'qrt(max(0.'+'0,\x201.0\x20-\x20d'+'ot(abc,\x20ab'+'c)));\x0a\x0a\x20\x20\x20'+'\x20uint\x20mode'+'\x20=\x20uint(qd'+'ata.w\x20*\x2025'+'5.0\x20+\x200.5)'+'\x20-\x20252u;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20q'+'uat\x20=\x20(mod'+'e\x20==\x200u)\x20?'+'\x20vec4(d,\x20a'+'bc)\x20:\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20((mode\x20='+'=\x201u)\x20?\x20ve'+'c4(abc.x,\x20'+'d,\x20abc.yz)'+'\x20:\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'(mode\x20==\x202'+'u)\x20?\x20vec4('+'abc.xy,\x20d,'+'\x20abc.z)\x20:\x20'+'vec4(abc,\x20'+'d)));\x0a\x0a\x20\x20\x20'+'\x20mat3\x20rot\x20'+'=\x20quatToMa'+'t3(quat);\x0a'+'\x20\x20\x20\x20vec3\x20s'+'cale\x20=\x20exp'+'(mix(scale'+'s_mins,\x20sc'+'ales_maxs,'+'\x20sdata));\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a'),Y1='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20sh_ce'+'ntroids;\x0a\x0a'+'uniform\x20fl'+'oat\x20shN_mi'+'ns;\x0aunifor'+'m\x20float\x20sh'+'N_maxs;\x0a\x0a/'+'/\x20To\x20suppo'+'rt\x20each\x20SH'+'\x20degree,\x20r'+'eadSHData\x20'+'is\x20overloa'+'ded\x20based\x20'+'on\x20the\x20SH\x20'+'vector\x20dep'+'th\x20\x0a\x0avoid\x20'+'readSHData'+'(in\x20SplatS'+'ource\x20sour'+'ce,\x20out\x20ve'+'c3\x20sh[SH_C'+'OEFFS],\x20ou'+'t\x20float\x20sc'+'ale)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'ivec2\x20t\x20=\x20'+'ivec2(pack'+'edSample.x'+'\x20&\x20255u,\x20p'+'ackedSampl'+'e.y\x20&\x20255u'+');\x0a\x20\x20\x20\x20int'+'\x20n\x20=\x20t.x\x20+'+'\x20t.y\x20*\x20256'+';\x0a\x20\x20\x20\x20int\x20'+'u\x20=\x20(n\x20%\x206'+'4)\x20*\x20SH_CO'+'EFFS;\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20n\x20'+'/\x2064;\x0a\x0a\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20offset'+'\x20into\x20the\x20'+'centroids\x20'+'texture\x20an'+'d\x20read\x20con'+'secutive\x20t'+'exels\x0a\x20\x20\x20\x20'+'for\x20(int\x20i'+'\x20=\x200;\x20i\x20<\x20'+'SH_COEFFS;'+'\x20i++)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[i'+']\x20=\x20mix(ve'+'c3(shN_min'+'s),\x20vec3(s'+'hN_maxs),\x20'+'texelFetch'+'(sh_centro'+'ids,\x20ivec2'+'(u\x20+\x20i,\x20v)'+',\x200).xyz);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20scale\x20=\x20'+'1.0;\x0a}\x0a',K1='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0auniform\x20'+'float\x20rend'+'erSpace;\x0au'+'niform\x20flo'+'at\x20endSpac'+'e;\x0auniform'+'\x20int\x20uShap'+'eN;\x0a\x0a//\x20ca'+'lculate\x20th'+'e\x20clip-spa'+'ce\x20offset\x20'+'from\x20the\x20c'+'enter\x20for\x20'+'this\x20gauss'+'ian\x0abool\x20i'+'nitCorner('+'SplatSourc'+'e\x20source,\x20'+'SplatCente'+'r\x20center,\x20'+'out\x20SplatC'+'orner\x20corn'+'er,\x20int\x20po'+'intCloudMo'+'deEnabled)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'get\x20covari'+'ance\x0a\x20\x20\x20\x20v'+'ec3\x20covA,\x20'+'covB;\x0a\x20\x20\x20\x20'+'readCovari'+'ance(sourc'+'e,\x20covA,\x20c'+'ovB);\x0a\x0a\x20\x20\x20'+'\x20mat3\x20Vrk\x20'+'=\x20mat3(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.x,\x20covA.y'+',\x20covA.z,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.y,\x20covB'+'.x,\x20covB.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'covA.z,\x20co'+'vB.y,\x20covB'+'.z\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20focal\x20=\x20v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'v\x20=\x20camera'+'_params.w\x20'+'==\x201.0\x20?\x20v'+'ec3(0.0,\x200'+'.0,\x201.0)\x20:'+'\x20center.vi'+'ew.xyz;\x0a\x20\x20'+'\x20\x20float\x20J1'+'\x20=\x20focal\x20/'+'\x20v.z;\x0a\x20\x20\x20\x20'+'vec2\x20J2\x20=\x20'+'-J1\x20/\x20v.z\x20'+'*\x20v.xy;\x0a\x20\x20'+'\x20\x20mat3\x20J\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20J1,\x200'+'.0,\x20J2.x,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x200.'+'0,\x20J1,\x20J2.'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.0,\x200.0,'+'\x200.0\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20mat'+'3\x20W\x20=\x20tran'+'spose(mat3'+'(center.mo'+'delView));'+'\x0a\x20\x20\x20\x20mat3\x20'+'T\x20=\x20W\x20*\x20J;'+'\x0a\x20\x20\x20\x20mat3\x20'+'cov\x20=\x20tran'+'spose(T)\x20*'+('\x20Vrk\x20*\x20T;\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'calculate\x20'+'AA\x20factor\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20detOri'+'g\x20=\x20cov[0]'+'[0]\x20*\x20cov['+'1][1]\x20-\x20co'+'v[0][1]\x20*\x20'+'cov[0][1];'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20detBl'+'ur\x20=\x20(cov['+'0][0]\x20+\x200.'+'3)\x20*\x20(cov['+'1][1]\x20+\x200.'+'3)\x20-\x20cov[0'+'][1]\x20*\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20corn'+'er.aaFacto'+'r\x20=\x20sqrt(m'+'ax(detOrig'+'\x20/\x20detBlur'+',\x200.0));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20diagonal1'+'\x20=\x20cov[0]['+'0]\x20+\x200.3;\x0a'+'\x20\x20\x20\x20float\x20'+'offDiagona'+'l\x20=\x20cov[0]'+'[1];\x0a\x20\x20\x20\x20f'+'loat\x20diago'+'nal2\x20=\x20cov'+'[1][1]\x20+\x200'+'.3;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mid\x20='+'\x200.5\x20*\x20(di'+'agonal1\x20+\x20'+'diagonal2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20radius\x20='+'\x20length(ve'+'c2((diagon'+'al1\x20-\x20diag'+'onal2)\x20/\x202'+'.0,\x20offDia'+'gonal));\x0a\x20'+'\x20\x20\x20float\x20l'+'ambda1\x20=\x20m'+'id\x20+\x20radiu'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20lambda2'+'\x20=\x20max(mid'+'\x20-\x20radius,'+'\x200.1);\x0a\x20\x20\x20'+'\x20if\x20(point'+'CloudModeE'+'nabled\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20l'+'ambda1\x20=\x20l'+'ambda2\x20=\x202'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Us'+'e\x20the\x20smal'+'ler\x20viewpo'+'rt\x20dimensi'+'on\x20to\x20limi'+'t\x20the\x20kern'+'el\x20size\x20re'+'lative\x20to\x20'+'the\x20screen'+'\x20resolutio'+'n.\x0a\x20\x20\x20\x20flo'+'at\x20vmin\x20=\x20'+'min(1024.0'+',\x20min(view'+'port.x,\x20vi'+'ewport.y))'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20l1\x20=\x202.'+'0\x20*\x20min(sq'+'rt(2.0\x20*\x20l'+'ambda1),\x20v'+'min);\x0a\x20\x20\x20\x20'+'float\x20l2\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda2)'+',\x20vmin);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20')+('\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec2\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'viewport;\x0a'+'\x0a\x20\x20\x20\x20//\x20cu'+'ll\x20against'+'\x20frustum\x20x'+'/y\x20axes\x0a\x20\x20'+'\x20\x20if\x20(any('+'greaterTha'+'n(abs(cent'+'er.proj.xy'+')\x20-\x20vec2(m'+'ax(l1,\x20l2)'+')\x20*\x20c,\x20cen'+'ter.proj.w'+'w)))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20false;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec2\x20diago'+'nalVector\x20'+'=\x20normaliz'+'e(vec2(off'+'Diagonal,\x20'+'lambda1\x20-\x20'+'diagonal1)'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20bool\x20inRe'+'nderSpace\x20'+'=\x20(center.'+'view.x\x20>=\x20'+'-renderSpa'+'ce\x20&&\x20cent'+'er.view.x\x20'+'<=\x20renderS'+'pace)\x20&&\x20('+'center.vie'+'w.y\x20>=\x20-re'+'nderSpace\x20'+'&&\x20center.'+'view.y\x20<=\x20'+'renderSpac'+'e);\x0a\x20\x20\x20\x20bo'+'ol\x20openRen'+'derAnim\x20=\x20'+'renderSpac'+'e\x20<\x20endSpa'+'ce;\x0a\x20\x20\x20\x20bo'+'ol\x20inRende'+'r\x20=\x20render'+'Space\x20>=\x20e'+'ndSpace\x20||'+'\x20inRenderS'+'pace\x20||\x20po'+'intCloudMo'+'deEnabled\x20'+'==\x201;\x0a\x20\x20\x20\x20'+'if(!openRe'+'nderAnim\x20&'+'&\x20uSplatSc'+'ale\x20>\x200.0\x20'+'&&\x20uSplatS'+'cale\x20<=\x205.'+'0){\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale\x20=\x20'+'uSplatScal'+'e;\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(in'+'Render){\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(openR'+'enderAnim)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'scale\x20=\x20in'+'RenderSpac'+'e\x20?\x20uSplat'+'Scale\x20:\x200.'+'1;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20vec2\x20v1'+'\x20=\x20scale\x20*'+'\x20l1\x20*\x20diag'+'onalVector'+';\x0a\x20\x20\x20\x20vec2'+'\x20v2\x20=\x20scal'+'e\x20*\x20l2\x20*\x20v'+'ec2(diagon'+'alVector.y'+',\x20-diagona'+'lVector.x)')+(';\x0a\x0a\x20\x20\x20\x20cor'+'ner.offset'+'\x20=\x20(source'+'.cornerUV.'+'x\x20*\x20v1\x20+\x20s'+'ource.corn'+'erUV.y\x20*\x20v'+'2)\x20*\x20c;\x0a\x20\x20'+'\x20\x20//\x20corne'+'r.uv\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20if\x20(uSh'+'apeN\x20<\x203)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'corner.uv\x20'+'=\x20source.c'+'ornerUV;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'corner.cSi'+'ze\x20=\x20(v1\x20+'+'\x20v2)\x20*\x20c;\x0a'+'\x20\x20\x20\x20corner'+'.cUV\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),Z1='\x0a\x0auniform\x20'+'highp\x20samp'+'ler2D\x20tran'+'sformA;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20transfor'+'mB;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformR;\x0a'+'\x0a#ifdef\x20IS'+'_4D\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformMot'+'ion;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformLi'+'fecycle;\x0a#'+'endif\x0a\x0a//\x20'+'work\x20value'+'s\x0a//\x20uint\x20'+'tAw;\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20retu'+'rn\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a}\x0a\x0ama'+'t3\x20quatToM'+'at3v2(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.w;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(vec3\x20pack'+'ed)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(packed.x'+'yz,\x20sqrt(m'+'ax(0.0,\x201.'+'0\x20-\x20dot(pa'+'cked,\x20pack'+'ed))));\x0a}\x0a'+'\x0a//\x20sample'+'\x20covarianc'+'e\x20vectors\x0a'+'void\x20readC'+'ovariance('+'in\x20SplatSo'+'urce\x20sourc'+'e,\x20out\x20vec'+'3\x20covA,\x20ou'+'t\x20vec3\x20cov'+'B)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3v'+'2(unpackRo'+'tation(tR)'+');\x0a\x20\x20\x20\x20vec'+'3\x20scale\x20=\x20'+'tB.xyz;\x0a\x0a\x20'+'\x20\x20\x20//\x20M\x20=\x20'+'S\x20*\x20R\x0a\x20\x20\x20\x20'+'mat3\x20M\x20=\x20t'+'ranspose(m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.x'+'\x20*\x20rot[0],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.y\x20*\x20r'+'ot[1],\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.z\x20*\x20rot[2'+']\x0a\x20\x20\x20\x20));\x0a'+'\x0a\x20\x20\x20\x20covA\x20'+'=\x20vec3(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20covB\x20=\x20'+'vec3(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a\x0a'+'//\x20sample\x20'+'4D\x20covaria'+'nce\x20vector'+'s\x0avoid\x20rea'+'dFTGSCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB,ou'+'t\x20vec4\x20cov'+'ariance4D)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tB\x20=\x20tex'+'elFetch(tr'+'ansformB,\x20'+'source.uv,')+('\x200);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20tR\x20=\x20'+'texelFetch'+'(transform'+'R,\x20source.'+'uv,\x200).xyz'+';\x0a\x20\x20\x20\x20mat3'+'\x20rot\x20=\x20qua'+'tToMat3v2('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormLifecyc'+'le,\x20source'+'.uv,\x200).xy'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'muT\x20=\x20tDat'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20t'+'Scale\x20=\x20tD'+'ata.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20margi'+'nal\x20=\x20comp'+'uteMargina'+'lT(time,\x20m'+'uT,\x20tScale'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20re'+'turn\x20margi'+'nal;\x0a}\x0a\x0ave'+'c3\x20readCen'+'ter4D(Spla'+'tSource\x20so'+'urce,\x20floa'+'t\x20time)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20if(m'+'uT\x20>\x20-5.0)'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20movin'+'gSpeed\x20=\x20t')+('exelFetch('+'transformM'+'otion,\x20sou'+'rce.uv,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'platOffset'+'\x20=\x20movingS'+'peed\x20*\x20(ti'+'me\x20-\x20muT);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'platCenter'+'\x20+=\x20splatO'+'ffset;\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20spla'+'tCenter;\x0a}'+'\x0a'),Q1='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',J1='\x0auniform\x20i'+'nt\x20mode;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x200:\x20c'+'enters,\x201:'+'\x20rings\x0auni'+'form\x20float'+'\x20ringSize;'+'\x0auniform\x20i'+'nt\x20uShapeN'+';\x0a\x0a#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bay'+'erPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'opacityDit'+'herPS\x22\x0a\x20\x20\x20'+'\x20varying\x20f'+'loat\x20id;\x0a#'+'endif\x0a\x0a#if'+'def\x20PICK_P'+'ASS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pi'+'ckPS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20alphaC'+'lip;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20vLinearDe'+'pth;\x0a\x20\x20\x20\x20#'+'include\x20\x22f'+'loatAsUint'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20Fast\x20'+'approximat'+'e\x20e^x\x20base'+'d\x20on\x20https'+'://nic.sch'+'raudolph.o'+'rg/pubs/Sc'+'hraudolph9'+'9.pdf\x0acons'+'t\x20float\x20\x20E'+'XP_A\x20\x20\x20\x20\x20\x20'+'=\x2012102203'+'.0;\x20\x20\x20//\x20'+'\x202^23\x20/\x20ln'+'(2)\x0aconst\x20'+'int\x20\x20\x20\x20EXP'+'_BC_RMS\x20=\x20'+'1064866808'+';\x20\x20\x20//\x20(12'+'7\x20<<\x2023)\x20-'+'\x2060801\x20*\x208'+'\x0afloat\x20fas'+'tExp(float'+'\x20x)\x20{\x0a\x20\x20\x20\x20'+'int\x20i\x20=\x20in'+'t(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20in'+'tBitsToFlo'+'at(i);\x0a}\x0a\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianU'+'V;\x0avarying'+'\x20mediump\x20v'+'ec4\x20gaussi'+'anColor;\x0av'+'arying\x20med'+'iump\x20vec2\x20'+'gaussianSi'+'ze;\x0avaryin'+'g\x20mediump\x20'+'vec2\x20gauss'+'ianCUV;\x0ava'+'rying\x20medi'+'ump\x20float\x20'+'saveMargin'+'al;\x0a\x0a//\x20'+'\x20p\x20\x20N'+'\x20\x0a//\x20p:'+'\x20\x20(UV\x20'+')\x0a//'+'\x20N:\x20\x0a//\x20'+'r:\x20'+('1\x0a/'+'/\x20center:\x20'+'\x0abool\x20'+'insideRegu'+'larPolygon'+'(vec2\x20p,\x20i'+'nt\x20N,\x20floa'+'t\x20r,\x20vec2\x20'+'center)\x20{\x0a'+'\x20\x20\x20\x20//\x20'+'\x0a\x20'+'\x20\x20\x20vec2\x20d\x20'+'=\x20p\x20-\x20cent'+'er;\x0a\x20\x20\x20\x20fl'+'oat\x20theta\x20'+'=\x20atan(d.y'+',\x20d.x);\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20flo'+'at\x20len\x20=\x20l'+'ength(d);\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20float'+'\x20anglePerS'+'ide\x20=\x202.0\x20'+'*\x203.141592'+'65\x20/\x20float'+'(N);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x200\x20~'+'\x20anglePerS'+'ide\x20\x0a\x20\x20\x20'+'\x20float\x20loc'+'alAngle\x20=\x20'+'mod(theta,'+'\x20anglePerS'+'ide);\x0a\x0a\x20\x20\x20'+'\x20//\x20'+'\x20'+'N\x20\x0a\x20\x20'+'\x20\x20float\x20ma'+'xR\x20=\x20r\x20*\x20c'+'os(anglePe'+'rSide\x20/\x202.'+'0)\x20/\x20cos(l'+'ocalAngle\x20'+'-\x20anglePer'+'Side\x20/\x202.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20len\x20<'+'=\x20maxR;\x0a}\x0a'+'\x0a//\x20'+'N\x20soft\x20'+'mask\x0afloat'+'\x20polygonSo'+'ftMask(vec'+'2\x20p,\x20int\x20N'+',\x20float\x20ra'+'dius,\x20floa'+'t\x20edgeSoft'+'ness)\x20{\x0a\x20\x20'+'\x20\x20float\x20an'+'gle\x20=\x20atan'+'(p.y,\x20p.x)'+';\x0a\x20\x20\x20\x20floa'+'t\x20sector\x20='+'\x206.2831853'+'\x20/\x20float(N'+');\x20\x20//\x20'+'\x0a\x20\x20\x20\x20//'+'\x20\x20['+'-sector/2,'+'\x20sector/2]'+'\x0a\x20\x20\x20\x20float'+'\x20halfSecto'+'r\x20=\x20sector'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20float\x20lo'+'calAngle\x20='+'\x20mod(angle'+'\x20+\x20halfSec'+'tor,\x20secto'+'r)\x20-\x20halfS'+'ector;\x0a\x0a\x20\x20'+'\x20\x20//\x20'+'\x0a'+'\x20\x20\x20\x20float\x20'+'boundary\x20='+'\x20radius\x20*\x20'+'cos(halfSe'+'ctor)\x20/\x20co'+'s(localAng'+'le);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20=\x20'+'\x0a\x20\x20\x20\x20'+'float\x20dist'+'\x20=\x20boundar'+'y\x20-\x20length'+'(p);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20smoot')+('hstep\x20'+'\x20(edgeSof'+'tness\x20'+')\x0a\x20\x20\x20\x20'+'float\x20alph'+'a\x20=\x20smooth'+'step(0.0,\x20'+'edgeSoftne'+'ss,\x20dist);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20alpha;\x20'+'//\x200~1\x0a}\x0a\x0a'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20mediump\x20'+'float\x20A\x20=\x20'+'dot(gaussi'+'anUV,\x20gaus'+'sianUV);\x0a\x20'+'\x20\x20\x20if\x20(A\x20>'+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'valuate\x20al'+'pha\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20alpha\x20=\x20'+'fastExp(-A'+'\x20*\x204.0)\x20*\x20'+'gaussianCo'+'lor.a;\x0a\x20\x20\x20'+'\x20//\x20TODO\x20u'+'ShapeN\x20alp'+'ha\x0a\x20\x20\x20\x20//\x20'+'float\x20dx\x20='+'\x20abs(gauss'+'ianCUV.x)\x20'+'/\x20gaussian'+'Size.x;\x0a\x20\x20'+'\x20\x20//\x20float'+'\x20dy\x20=\x20abs('+'gaussianCU'+'V.y)\x20/\x20gau'+'ssianSize.'+'y;\x0a\x20\x20\x20\x20//\x20'+'float\x20B\x20=\x20'+'max(dx,\x20dy'+');\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20'+'\x0a\x20\x20\x20\x20//\x20'+'mediump\x20fl'+'oat\x20alpha\x20'+'=\x20exp(-pow'+'(B,\x202.0)\x20*'+'\x204.0)\x20*\x20ga'+'ussianColo'+'r.a;\x0a\x0a\x20\x20\x20\x20'+'bool\x20openR'+'ingMode\x20=\x20'+'ringSize\x20>'+'\x200.0\x20&&\x20mo'+'de\x20==\x201;\x20/'+'/\x20&&\x20uCont'+'rolMode\x20=='+'\x201;\x20\x0a\x20\x20\x20\x20i'+'f\x20(openRin'+'gMode\x20&&\x20s'+'aveMargina'+'l\x20>=\x200.05)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(A\x20<\x201'+'.0\x20-\x20ringS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'lpha\x20=\x20max'+'(0.05,\x20alp'+'ha);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alpha\x20'+'=\x200.6;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20bool\x20ope'+'nShapeMode'+'\x20=\x20uShapeN'+'\x20>\x202;\x20//\x20&'+'&\x20uControl'+'Mode\x20==\x201;'+'\x0a\x20\x20\x20\x20if\x20(o'+'penShapeMo'+'de)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20gaussi'+'anCUV\x20*\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20rad'+'ius\x20=\x201.0;')+('\x20//\x201.0\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20edgeSoft'+'ness\x20=\x200.0'+'5;\x20//\x200.05'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v\x20*=\x201.0;/'+'/0.9;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20c'+'enter\x20=\x20ve'+'c2(0.0,\x200.'+'0);\x20\x20\x20//\x20'+''+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20alpha\x20'+'=\x20polygonS'+'oftMask(uv'+',\x20uShapeN,'+'\x20radius,\x20e'+'dgeSoftnes'+'s);\x20//\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(!insideR'+'egularPoly'+'gon(uv,\x20uS'+'hapeN,\x20rad'+'ius,\x20cente'+'r))\x20{\x20//'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20defined(S'+'HADOW_PASS'+')\x20||\x20defin'+'ed(PICK_PA'+'SS)\x20||\x20def'+'ined(PREPA'+'SS_PASS)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20a'+'lphaClip)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'getPickOut'+'put();\x0a\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'ADOW_PASS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(0'+'.0,\x200.0,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#elif'+'\x20PREPASS_P'+'ASS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2vec4(v'+'LinearDept'+'h);\x0a\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x201.0\x20/'+'\x20255.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20DI'+'THER_NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(alph'+'a,\x20id\x20*\x200.'+'013);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'gaussianCo'+'lor.xyz,\x20a'+'lpha);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),eP='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),tP='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',sP='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0aunifor'+'m\x20float\x20pr'+'erenderCTi'+'me;\x0aunifor'+'m\x20float\x20uS'+'aturation;'+'\x20//\x200.0-2.'+'01.0\x20'+'\x0auniform'+'\x20float\x20uHu'+'eOffset;\x20\x20'+'//\x20'+'360'+'\x0auniform\x20v'+'ec3\x20clrOff'+'set;\x0aunifo'+'rm\x20vec4\x20cl'+'rScale;\x0aun'+'iform\x20floa'+'t\x20uOpacity'+';\x0auniform\x20'+'int\x20uInver'+'tOpacity;\x0a'+'\x0avarying\x20m'+'ediump\x20vec'+'2\x20gaussian'+'UV;\x0avaryin'+'g\x20mediump\x20'+'vec4\x20gauss'+'ianColor;\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianS'+'ize;\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianCUV;\x0av'+'arying\x20med'+'iump\x20float'+'\x20saveMargi'+'nal;\x0a\x0a//\x20='+'====\x20\x20H'+'SV/RGB\x20\x20'+'=====\x0ahigh'+'p\x20vec3\x20rgb'+'2hsv(highp'+'\x20vec3\x20c)\x20{'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20cMa'+'x\x20=\x20max(ma'+'x(c.r,\x20c.g'+'),\x20c.b);\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20cMin\x20'+'=\x20min(min('+'c.r,\x20c.g),'+'\x20c.b);\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20delta\x20='+'\x20cMax\x20-\x20cM'+'in\x20+\x201e-10'+';\x20//\x200\x0a'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20h\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'if\x20(delta\x20'+'>\x201e-6)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(cMax\x20==\x20'+'c.r)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20=\x20mod((c.'+'g\x20-\x20c.b)\x20/'+'\x20delta,\x206.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(cMax\x20=='+'\x20c.g)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.b\x20-'+'\x20c.r)\x20/\x20de'+'lta\x20+\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.r\x20-'+'\x20c.g)\x20/\x20de'+'lta\x20+\x204.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20/=\x206.0;\x20/'+'/\x20\x20[0,1]'+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(h\x20<\x200.0'+')\x20h\x20+=\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20s\x20=\x20('+'cMax\x20<\x201e-'+'6)\x20?\x200.0\x20:'+'\x20delta\x20/\x20c'+'Max;\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20v\x20=\x20cMax;'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec3(h,\x20'+'s,\x20v);\x0a}\x0a\x0a'+'highp\x20vec3'+'\x20hsv2rgb(h'+'ighp\x20vec3\x20'+'c)\x20{\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20h\x20=\x20c.x\x20*'+'\x206.0;\x20//\x200'+'-6\x0a\x20\x20\x20\x20hig'+'hp\x20float\x20s'+'\x20=\x20c.y;\x0a\x20\x20'+'\x20\x20highp\x20fl'+'oat\x20v\x20=\x20c.'+'z;\x0a\x0a\x20\x20\x20\x20hi'+'ghp\x20int\x20i\x20'+'=\x20int(floo'+'r(h));\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20f\x20=\x20h\x20-'+'\x20float(i);'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20p\x20='+'\x20v\x20*\x20(1.0\x20'+'-\x20s);\x0a\x20\x20\x20\x20'+'highp\x20floa'+'t\x20q\x20=\x20v\x20*\x20'+'(1.0\x20-\x20s\x20*'+'\x20f);\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20t\x20=\x20v\x20*\x20('+'1.0\x20-\x20s\x20*\x20'+'(1.0\x20-\x20f))'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(i\x20==\x200)\x20r'+'eturn\x20vec3'+'(v,\x20t,\x20p);'+'\x0a\x20\x20\x20\x20else\x20'+'if\x20(i\x20==\x201'+')\x20return\x20v'+'ec3(q,\x20v,\x20'+'p);\x0a\x20\x20\x20\x20el'+'se\x20if\x20(i\x20='+'=\x202)\x20retur'+'n\x20vec3(p,\x20'+'v,\x20t);\x0a\x20\x20\x20'+'\x20else\x20if\x20('+'i\x20==\x203)\x20re'+'turn\x20vec3('+'p,\x20q,\x20v);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(i\x20==\x204)'+'\x20return\x20ve'+'c3(t,\x20p,\x20v'+');\x0a\x20\x20\x20\x20els'+'e\x20return\x20v'+'ec3(v,\x20p,\x20'+'q);\x20//\x20i=='+'5\x0a}\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0a#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20varying\x20'+'float\x20vLin'+'earDepth;\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20')+('=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20saveMargi'+'nal\x20=\x20getM'+'arginalT(s'+'ource,\x20uTi'+'me);\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'marginal\x20='+'\x20uOpenAnim'+'\x20==\x201\x20?\x201.'+'0\x20:\x20saveMa'+'rginal;\x0a\x20\x20'+'\x20\x20if\x20(marg'+'inal\x20<\x200.0'+'5)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20dis'+'cardVec;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20modelCent'+'er;\x0a\x20\x20\x20\x20bo'+'ol\x20isCente'+'r4D\x20=\x20save'+'Marginal\x20>'+'=\x200.05;\x0a\x20\x20'+'\x20\x20if\x20(isCe'+'nter4D)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'delCenter\x20'+'=\x20readCent'+'er4D(sourc'+'e,\x20uTime);'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20modelCen'+'ter\x20=\x20read'+'Center(sou'+'rce);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20Spl'+'atCenter\x20c'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'center))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return;'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20int\x20'+'showCloud\x20'+'=\x20pointClo'+'udModeEnab'+'led;\x0a\x20\x20\x20\x20i'+'f\x20(prerend'+'erCTime\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(prer'+'enderCTime'+'\x20>=\x201.0\x20&&'+'\x20prerender'+'CTime\x20<\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20showClo'+'ud\x20=\x201;\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(prerend'+'erCTime\x20>='+'\x202.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20proje'+'ct\x20center\x20'+'to\x20screen\x20'+'space\x0a\x20\x20\x20\x20'+'SplatCorne'+'r\x20corner;\x0a'+'\x20\x20\x20\x20if\x20(!i'+'nitCorner('+'source,\x20ce'+'nter,\x20corn'+'er,\x20showCl'+'oud))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20')+('discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20vec'+'4\x20clr\x20=\x20re'+'adColor(so'+'urce,\x20uTim'+'e,\x20!isCent'+'er4D,\x20poin'+'tCloudMode'+'Enabled);\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'apply\x20AA\x20c'+'ompensatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.a\x20*=\x20c'+'orner.aaFa'+'ctor;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20if(margi'+'nal\x20>\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.w\x20*=\x20'+'marginal;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20\x0a\x20'+'\x20\x20\x20if\x20(uCo'+'ntrolColor'+'Mode\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'tint/brigh'+'tness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr\x20=\x20'+'clr\x20*\x20clrS'+'cale\x20+\x20vec'+'4(clrOffse'+'t,\x200.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(uInvertO'+'pacity\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20clr'+'.a\x20=\x201.0\x20-'+'\x20clr.a;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20don\x27t\x20'+'allow\x20out-'+'of-range\x20a'+'lpha\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20clr\x20=\x20c'+'lamp(clr,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20spheri'+'cal\x20harmon'+'ics\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20the\x20'+'model-spac'+'e\x20view\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20norm'+'alize(cent'+'er.view\x20*\x20'+'mat3(cente'+'r.modelVie'+'w));\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20rea'+'d\x20sh\x20coeff'+'icients\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sh[SH_COE'+'FFS];\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20readS'+'HData(sour'+'ce,\x20sh,\x20sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.x'+'yz\x20+=\x20eval'+'SH(sh,\x20dir'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(co'+'rner,\x20clr.'+'w);\x0a\x0a\x20\x20\x20\x20/')+('/\x20pointClo'+'udMode\x0a\x20\x20\x20'+'\x20//\x20if\x20(po'+'intCloudMo'+'deEnabled\x20'+'==\x201)\x20{\x0a\x20\x20'+'\x20\x20//\x20\x20\x20\x20\x20c'+'lr.a\x20=\x201.0'+';\x0a\x20\x20\x20\x20//\x20}'+'\x0a\x20\x20\x20\x20highp'+'\x20vec3\x20colo'+'r\x20=\x20max(cl'+'r.xyz,\x200.0'+');\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20\x0a'+'\x20\x20\x20\x20if\x20(uC'+'ontrolColo'+'rMode\x20==\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20\x20HSV'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'ighp\x20vec3\x20'+'hsv\x20=\x20rgb2'+'hsv(color)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20hsv.'+'y\x20*=\x20uSatu'+'ration;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20hsv.x\x20=\x20f'+'ract(hsv.x'+'\x20+\x20uHueOff'+'set\x20/\x20360.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20\x20RGB'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor\x20=\x20hsv'+'2rgb(hsv);'+'\x20\x20\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wri'+'te\x20output\x0a'+'\x20\x20\x20\x20gl_Pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4(cor'+'ner.offset'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20gaussia'+'nUV\x20=\x20corn'+'er.uv;\x0a\x20\x20\x20'+'\x20gaussianC'+'UV\x20=\x20corne'+'r.cUV;\x0a\x20\x20\x20'+'\x20gaussianS'+'ize\x20=\x20corn'+'er.cSize;\x0a'+'\x20\x20\x20\x20gaussi'+'anColor\x20=\x20'+'vec4(prepa'+'reOutputFr'+'omGamma(co'+'lor),\x20clr.'+'w);\x0a\x20\x20\x20\x20ga'+'ussianColo'+'r\x20=\x20clamp('+'gaussianCo'+'lor,\x200.0,\x20'+'1.0);\x0a\x0a\x20\x20\x20'+'\x20#ifndef\x20D'+'ITHER_NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'d\x20=\x20float('+'source.id)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vLin'+'earDepth\x20='+'\x20-center.v'+'iew.z;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),iP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'aPosition;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x0a\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(aPos'+'ition,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20getImage'+'EffectUV(('+'aPosition.'+'xy\x20+\x201.0)\x20'+'*\x200.5);\x0a\x20\x20'+'\x20\x20}\x0a',rP='\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a',aP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec4\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec4\x20vert'+'ex_color;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20v'+'oid\x20main(v'+'oid)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20=\x20vertex_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20matrix_'+'model\x20*\x20ve'+'rtex_posit'+'ion;\x0a\x20\x20\x20\x20}'+'\x0a',nP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0afloat\x20i'+'ridescence'+'_iorToFres'+'nel(float\x20'+'transmitte'+'dIor,\x20floa'+'t\x20incident'+'Ior)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'incidentIo'+'r)\x20/\x20(tran'+'smittedIor'+'\x20+\x20inciden'+'tIor),\x202.0'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_iorToFr'+'esnel(vec3'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20vec3(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3(incid'+'entIor)),\x20'+'vec3(2.0))'+';\x0a}\x0a\x0avec3\x20'+'iridescenc'+'e_fresnelT'+'oIor(vec3\x20'+'f0)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20sqrtF'+'0\x20=\x20sqrt(f'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20(vec3'+'(1.0)\x20+\x20sq'+'rtF0)\x20/\x20(v'+'ec3(1.0)\x20-'+'\x20sqrtF0);\x0a'+'}\x0a\x0avec3\x20ir'+'idescence_'+'sensitivit'+'y(float\x20op'+'d,\x20vec3\x20sh'+'ift)\x20{\x0a\x20\x20\x20'+'\x20float\x20PI\x20'+'=\x203.141592'+'653589793;'+'\x0a\x20\x20\x20\x20float'+'\x20phase\x20=\x202'+'.0\x20*\x20PI\x20*\x20'+'opd\x20*\x201.0e'+'-9;\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20v'+'al\x20=\x20vec3('+'5.4856e-13'+',\x204.4201e-'+'13,\x205.2481'+'e-13);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20pos\x20=\x20ve'+'c3(1.6810e'+'+06,\x201.795'+'3e+06,\x202.2'+'084e+06);\x0a'+'\x20\x20\x20\x20const\x20'+'vec3\x20var\x20='+'\x20vec3(4.32'+'78e+09,\x209.'+'3046e+09,\x20'+'6.6121e+09'+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20xyz\x20=\x20v'+'al\x20*\x20sqrt('+'2.0\x20*\x20PI\x20*'+'\x20var)\x20*\x20co'+'s(pos\x20*\x20ph'+'ase\x20+\x20shif'+'t)\x20*\x20exp(-'+'pow(phase,'+'\x202.0)\x20*\x20va'+'r);\x0a\x20\x20\x20\x20xy'+'z.x\x20+=\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+('cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20/=\x20vec3(1'+'.0685e-07)'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20mat3\x20XY'+'Z_TO_REC70'+'9\x20=\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x203.'+'2404542,\x20-'+'0.9692660,'+'\x20\x200.055643'+'4,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-1.5371385'+',\x20\x201.87601'+'08,\x20-0.204'+'0259,\x0a\x20\x20\x20\x20'+'\x20\x20\x20-0.4985'+'314,\x20\x200.04'+'15560,\x20\x201.'+'0572252\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'return\x20XYZ'+'_TO_REC709'+'\x20*\x20xyz;\x0a}\x0a'+'\x0afloat\x20iri'+'descence_f'+'resnel(flo'+'at\x20cosThet'+'a,\x20float\x20f'+'0)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20x\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x2\x20=\x20x\x20*'+'\x20x;\x0a\x20\x20\x20\x20fl'+'oat\x20x5\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x20\x0a\x0av'+'ec3\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'vec3\x20f0)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20clamp'+'(1.0\x20-\x20cos'+'Theta,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20float\x20x2'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'x5\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x20\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(vec3'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0avec3\x20calc'+'Iridescenc'+'e(float\x20ou'+'tsideIor,\x20'+'float\x20cosT'+'heta,\x20vec3'+'\x20base_f0,\x20'+'float\x20irid'+'escenceThi'+'ckness)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceIor\x20'+'=\x20mix(outs'+'ideIor,\x20ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20float'+'\x20sinTheta2'+'Sq\x20=\x20pow(o'+'utsideIor\x20'+'/\x20iridesce')+('nceIor,\x202.'+'0)\x20*\x20(1.0\x20'+'-\x20pow(cosT'+'heta,\x202.0)'+');\x0a\x20\x20\x20\x20flo'+'at\x20cosThet'+'a2Sq\x20=\x201.0'+'\x20-\x20sinThet'+'a2Sq;\x0a\x0a\x20\x20\x20'+'\x20if\x20(cosTh'+'eta2Sq\x20<\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec3(1.0)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20c'+'osTheta2\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20r0\x20=\x20irid'+'escence_io'+'rToFresnel'+'(iridescen'+'ceIor,\x20out'+'sideIor);\x0a'+'\x20\x20\x20\x20float\x20'+'r12\x20=\x20irid'+'escence_fr'+'esnel(cosT'+'heta,\x20r0);'+'\x0a\x20\x20\x20\x20float'+'\x20r21\x20=\x20r12'+';\x0a\x20\x20\x20\x20floa'+'t\x20t121\x20=\x201'+'.0\x20-\x20r12;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20phi12\x20=\x20i'+'ridescence'+'Ior\x20<\x20outs'+'ideIor\x20?\x20P'+'I\x20:\x200.0;\x0a\x20'+'\x20\x20\x20float\x20p'+'hi21\x20=\x20PI\x20'+'-\x20phi12;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20b'+'aseIor\x20=\x20i'+'ridescence'+'_fresnelTo'+'Ior(base_f'+'0\x20+\x20vec3(0'+'.0001));\x0a\x20'+'\x20\x20\x20vec3\x20r1'+'\x20=\x20iridesc'+'ence_iorTo'+'Fresnel(ba'+'seIor,\x20iri'+'descenceIo'+'r);\x0a\x20\x20\x20\x20ve'+'c3\x20r23\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta2,\x20'+'r1);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20phi23'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20if'+'\x20(baseIor['+'0]\x20<\x20iride'+'scenceIor)'+'\x20phi23[0]\x20'+'=\x20PI;\x0a\x20\x20\x20\x20'+'if\x20(baseIo'+'r[1]\x20<\x20iri'+'descenceIo'+'r)\x20phi23[1'+']\x20=\x20PI;\x0a\x20\x20'+'\x20\x20if\x20(base'+'Ior[2]\x20<\x20i'+'ridescence'+'Ior)\x20phi23'+'[2]\x20=\x20PI;\x0a'+'\x20\x20\x20\x20float\x20'+'opd\x20=\x202.0\x20'+'*\x20iridesce'+'nceIor\x20*\x20i'+'ridescence'+'Thickness\x20'+'*\x20cosTheta'+'2;\x0a\x20\x20\x20\x20vec'+'3\x20phi\x20=\x20ve'+'c3(phi21)\x20'+'+\x20phi23;\x20\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123Sq\x20=\x20c'+'lamp(r12\x20*'+'\x20r23,\x201e-5'+',\x200.9999);'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123\x20=\x20sqr')+('t(r123Sq);'+'\x0a\x20\x20\x20\x20vec3\x20'+'rs\x20=\x20pow(t'+'121,\x202.0)\x20'+'*\x20r23\x20/\x20(1'+'.0\x20-\x20r123S'+'q);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20c0\x20=\x20r'+'12\x20+\x20rs;\x0a\x20'+'\x20\x20\x20vec3\x20i\x20'+'=\x20c0;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cm\x20='+'\x20rs\x20-\x20t121'+';\x0a\x20\x20\x20\x20for\x20'+'(int\x20m\x20=\x201'+';\x20m\x20<=\x202;\x20'+'m++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20cm\x20*='+'\x20r123;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'sm\x20=\x202.0\x20*'+'\x20iridescen'+'ce_sensiti'+'vity(float'+'(m)\x20*\x20opd,'+'\x20float(m)\x20'+'*\x20phi);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20i\x20+='+'\x20cm\x20*\x20sm;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20max'+'(i,\x20vec3(0'+'.0));\x0a}\x0a\x0av'+'ec3\x20getIri'+'descence(f'+'loat\x20cosTh'+'eta,\x20vec3\x20'+'specularit'+'y,\x20float\x20i'+'ridescence'+'Thickness)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),oP='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_irid'+'escence;\x0a#'+'endif\x0a\x0avoi'+'d\x20getIride'+'scence()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_IRID'+'ESCENCE_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20iridescen'+'ce\x20*=\x20mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20textur'+'e2DBias({S'+'TD_IRIDESC'+'ENCE_TEXTU'+'RE_NAME},\x20'+'{STD_IRIDE'+'SCENCE_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCE_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scence\x20=\x20i'+'ridescence'+';\x20\x0a}\x0a',lP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_iridesc'+'enceThickn'+'essMin;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'end\x20=\x20text'+'ure2DBias('+'{STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE_NAME},'+'\x20{STD_IRID'+'ESCENCETHI'+'CKNESS_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCET'+'HICKNESS_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20iridescen'+'ceThicknes'+'s\x20=\x20mix(ma'+'terial_iri'+'descenceTh'+'icknessMin'+',\x20material'+'_iridescen'+'ceThicknes'+'sMax,\x20blen'+'d);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',cP='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'fractionIn'+'dex;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tIor()\x20{\x0a#'+'ifdef\x20STD_'+'IOR_CONSTA'+'NT\x0a\x20\x20\x20\x20dIo'+'r\x20=\x20materi'+'al_refract'+'ionIndex;\x0a'+'#else\x0a\x20\x20\x20\x20'+'dIor\x20=\x201.0'+'\x20/\x201.5;\x0a#e'+'ndif\x0a}\x0a',hP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20light{i}_'+'color;\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec3\x20light'+'{i}_direct'+'ion;\x0a\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20LIT_CODE'+'_LIGHTS_PO'+'INT\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20point\x20l'+'ights\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_pos'+'ition;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_ra'+'dius;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20SPOT\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20spot\x20ligh'+'ts\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20l'+'ight{i}_di'+'rection;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20light'+'{i}_innerC'+'oneAngle;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_outer'+'ConeAngle;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'3\x20light{i}'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20vec3\x20lig'+'ht{i}_half'+'Width;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_hal'+'fHeight;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'FALLOFF\x20=='+'\x20LINEAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+('T_CODE_FAL'+'LOFF_LINEA'+'R\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20linear\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}FALLOFF\x20'+'==\x20INVERSE'+'SQUARED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ca'+'sting\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'CASTSHADOW'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20light{'+'i}_shadowM'+'atrix;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_sh'+'adowIntens'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec4\x20ligh'+'t{i}_shado'+'wParams;\x20/'+'/\x20width,\x20h'+'eight,\x20bia'+'s,\x20radius\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_s'+'hadowSearc'+'hArea;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20light{i}'+'_cameraPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_sof'+'tShadowPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20direction'+'al\x20(cascad'+'ed)\x20shadow'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrixPa'+'lette[4];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec4\x20light'+'{i}_shadow'+'CascadeDis'+'tances;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20in'+'t\x20light{i}'+'_shadowCas')+('cadeCount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_shad'+'owCascadeB'+'lend;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'SHADOW_PCF'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2DShado'+'w\x20light{i}'+'_shadowMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_shadowM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'okie\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIGHT{i}C'+'OOKIE)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_COOKIE\x20'+'//\x20include'+'\x20functiona'+'lity\x20for\x20c'+'ookies\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20light{i'+'}_cookie;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_cooki'+'eIntensity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d'+'efined(LIG'+'HT{i}CASTS'+'HADOW)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20ligh'+'t{i}_shado'+'wMatrix;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20SPOT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20lig')+('ht{i}_cook'+'ie;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_c'+'ookieInten'+'sity;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIGHT{i}C'+'ASTSHADOW)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'light{i}_s'+'hadowMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIGH'+'T{i}COOKIE'+'_TRANSFORM'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20light{i}_'+'cookieMatr'+'ix;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c2\x20light{i'+'}_cookieOf'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),dP='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',fP='\x0avec3\x20eval'+'OmniLight('+'vec3\x20light'+'PosW)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'PositionW\x20'+'-\x20lightPos'+'W;\x0a}\x0a',uP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',pP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0avoid\x20e'+'valuateLig'+'ht{i}(\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20iridesc'+'enceFresne'+'l\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20color\x0a\x20\x20\x20'+'\x20vec3\x20ligh'+'tColor\x20=\x20l'+'ight{i}_co'+'lor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x20&&\x20!defi'+'ned(LIT_SH'+'ADOW_CATCH'+'ER)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20return\x20if'+'\x20the\x20light'+'\x20color\x20is\x20'+'black\x20(use'+'d\x20by\x20shado'+'w\x20catcher\x20'+'-\x20this\x20way'+'\x20this\x20ligh'+'t\x20is\x20very\x20'+'cheap)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(a'+'ll(equal(l'+'ightColor,'+'\x20vec3(0.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20dir'+'ectional\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light{i}_'+'direction;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20omn'+'i\x20or\x20spot\x20'+'light\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtDirW\x20=\x20'+'evalOmniLi'+'ght(light{'+'i}_positio'+'n);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightDi'+'rNormW\x20=\x20n'+'ormalize(l'+'ightDirW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20cookie\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'COOKIE)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_FALLOF'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_TRANSF'+'ORM\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2DXform('+('light{i}_c'+'ookie,\x20lig'+'ht{i}_shad'+'owMatrix,\x20'+'light{i}_c'+'ookieInten'+'sity,\x20ligh'+'t{i}_cooki'+'eMatrix,\x20l'+'ight{i}_co'+'okieOffset'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2D(light'+'{i}_cookie'+',\x20light{i}'+'_shadowMat'+'rix,\x20light'+'{i}_cookie'+'Intensity)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}COOKIE_TR'+'ANSFORM\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'Cookie2DCl'+'ipXform(li'+'ght{i}_coo'+'kie,\x20light'+'{i}_shadow'+'Matrix,\x20li'+'ght{i}_coo'+'kieIntensi'+'ty,\x20light{'+'i}_cookieM'+'atrix,\x20lig'+'ht{i}_cook'+'ieOffset).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20cookieAtt'+'enuation\x20='+'\x20getCookie'+'2DClip(lig'+'ht{i}_cook'+'ie,\x20light{'+'i}_shadowM'+'atrix,\x20lig'+'ht{i}_cook'+'ieIntensit'+'y).{LIGHT{'+'i}COOKIE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20OMNI\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'CookieCube'+'(light{i}_'+'cookie,\x20li'+'ght{i}_sha')+('dowMatrix,'+'\x20light{i}_'+'cookieInte'+'nsity).{LI'+'GHT{i}COOK'+'IE_CHANNEL'+'};\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'ltiply\x20lig'+'ht\x20color\x20b'+'y\x20the\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lig'+'htColor\x20*='+'\x20cookieAtt'+'enuation;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20di'+'stance\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20==\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}FAL'+'LOFF\x20==\x20LI'+'NEAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Linear(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20=\x20g'+'etFalloffI'+'nvSquared('+'light{i}_r'+'adius,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20non'+'\x20punctual\x20'+'lights\x20onl'+'y\x20gets\x20the'+'\x20range\x20win'+'dow\x20here\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Window(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20angle\x20'+'falloff\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20SPOT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20!de'+'fined(LIGH'+'T{i}COOKIE'+')\x20||\x20defin'+'ed(LIGHT{i'+'}COOKIE_FA'+'LLOFF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dAtten\x20'+'*=\x20getSpot'+'Effect(lig'+'ht{i}_dire'+'ction,\x20lig'+'ht{i}_inne'+'rConeAngle'+',\x20light{i}'+'_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20if\x20(dA'+'tten\x20<\x200.0')+('0001)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20are'+'a\x20light\x20va'+'lues\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcR'+'ectLightVa'+'lues(light'+'{i}_positi'+'on,\x20light{'+'i}_halfWid'+'th,\x20light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20calcDi'+'skLightVal'+'ues(light{'+'i}_positio'+'n,\x20light{i'+'}_halfWidt'+'h,\x20light{i'+'}_halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcS'+'phereLight'+'Values(lig'+'ht{i}_posi'+'tion,\x20ligh'+'t{i}_halfW'+'idth,\x20ligh'+'t{i}_halfH'+'eight);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'lighting\x20-'+'\x20LTC\x20light'+'s\x20do\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20'+'into\x20atten'+'uation\x20tha'+'t\x20affects\x20'+'specular\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20atten'+'Diffuse\x20-\x20'+'separate\x20d'+'iffuse\x20att'+'enuation\x20f'+'or\x20non-pun'+'ctual\x20ligh'+'t\x20sources\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20NB:\x20'+'A\x20better\x20a'+'pproximati'+'on\x20perhaps'+'\x20using\x20wra'+'p\x20lighting'+'\x20could\x20be\x20'+'implemente'+'d\x20here\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20atten'+'Diffuse\x20=\x20'+'getLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dL'+'ightDirNor'+'mW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x2016.0\x20i'+'s\x20a\x20consta'+'nt\x20that\x20is'+'\x20in\x20getFal'+'loffInvSqu'+'ared()\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20==\x20'+'RECT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getRectL'+'ightDiffus'+'e(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20lightD'+'irW,\x20dLigh'+'tDirNormW)'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20attenDiff'+'use\x20=\x20getD'+'iskLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20li'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getSpher'+'eLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20ligh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20one\x20'+'parameter\x20'+'is\x20unused\x20'+'for\x20punctu'+'al\x20lights\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20*=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20vec3('+'0.0),\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20apply\x20th'+'e\x20shadow\x20a'+'ttenuation'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'CASTSHADOW'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadow{i'+'}(vec3(0.0'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adow{i}(li'+'ghtDirW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20App')+('ly\x20shadow\x20'+'intensity\x20'+'to\x20the\x20sha'+'dow\x20value\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20=\x20mix'+'(1.0,\x20shad'+'ow,\x20light{'+'i}_shadowI'+'ntensity);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20*=\x20'+'shadow;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_SHADOW_'+'CATCHER)\x20&'+'&\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20accum'+'ulate\x20shad'+'ows\x20for\x20di'+'rectional\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ShadowCatc'+'her\x20*=\x20sha'+'dow;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20-\x20they\x20do'+'\x20not\x20mix\x20d'+'iffuse\x20lig'+'hting\x20into'+'\x20specular\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20('+'(attenDiff'+'use\x20*\x20dAtt'+'en)\x20*\x20ligh'+'tColor)\x20*\x20'+'(1.0\x20-\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(atte'+'nDiffuse\x20*'+'\x20dAtten)\x20*'+'\x20lightColo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20punctua'+'l\x20light\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(AR'+'EA_LIGHTS)'+'\x20&&\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(dAtt'+'en\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20litA'+'rgs_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20spec'+'ular\x20light'+'ing\x0a\x20\x20\x20\x20#i'+'fdef\x20LIGHT')+('{i}AFFECT_'+'SPECULARIT'+'Y\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x20//\x20area\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccSpecula'+'rLight\x20+=\x20'+'ccLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_clear'+'coat_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20ccLTC'+'SpecFres\x20*'+'\x20getDiskLi'+'ghtSpecula'+'r(litArgs_'+'clearcoat_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ge'+'tSphereLig'+'htSpecular'+'(litArgs_c'+'learcoat_w'+'orldNormal'+',\x20dViewDir'+'W)\x20*\x20dAtte'+'n\x20*\x20lightC'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20dLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp')+('ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20SPHERE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20d'+'LTCSpecFre'+'s\x20*\x20getSph'+'ereLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20punctual'+'\x20light\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20is\x20fres'+'nel\x20needed'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20LI'+'T_FRESNEL_'+'MODEL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'GHT{i}FRES'+'NEL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20hal'+'fDirW\x20=\x20no'+'rmalize(-d'+'LightDirNo'+'rmW\x20+\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20if\x20LTC\x20'+'lights\x20are'+'\x20present,\x20'+'specular\x20m'+'ust\x20be\x20acc'+'umulated\x20w'+'ith\x20specul'+'arity\x20(spe'+'cularity\x20i'+'s\x20pre\x20mult'+'iplied\x20by\x20'+'punctual\x20l'+'ight\x20fresn'+'el)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtspecula'+'rCC\x20=\x20getL'+'ightSpecul'+'ar(halfDir'+'W,\x20ccReflD'+'irW,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_clearcoat'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tspecularC'+'C\x20*=\x20getFr'+'esnelCC(do'+'t(dViewDir'+'W,\x20halfDir'+'W));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20lightsp'+'ecularCC;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20lightSpec'+'ular\x20=\x20get'+'LightSpecu'+'lar(halfDi'+'rW,\x20dReflD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightSpecu'+'lar\x20*=\x20get'+'Fresnel(do'+'t(dViewDir'+'W,\x20halfDir'+'W),\x20litArg'+'s_gloss,\x20l'+'itArgs_spe'+'cularity,\x20'+'iridescenc'+'eFresnel,\x20'+'litArgs_ir'+'idescence_'+'intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20*=\x20g'+'etFresnel('+'dot(dViewD'+'irW,\x20halfD'+'irW),\x20litA'+'rgs_gloss,'+'\x20litArgs_s')+('pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20lightSp'+'ecular\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20+=\x20light'+'Specular;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a#en'+'dif\x0a'),mP='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20vec3\x20'+'getShadowS'+'ampleCoord'+'{i}(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'urfacePosi'+'tion\x20=\x20wor'+'ldPosition'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT{i}_SHA'+'DOW_SAMPLE'+'_POINT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20len'+'gth(lightD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightDir'+'\x20=\x20surface'+'Position\x20-'+'\x20lightPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_S'+'OURCE_ZBUF'+'FER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+('NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20distScal'+'e\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20abs'+'(dot(vPosi'+'tionW\x20-\x20li'+'ghtPos,\x20li'+'ghtDirNorm'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20posi'+'tionInShad'+'owSpace\x20=\x20'+'shadowTran'+'sform\x20*\x20ve'+'c4(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM'+'PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.')+('w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20posit'+'ionInShado'+'wSpace.xy\x20'+'/=\x20positio'+'nInShadowS'+'pace.w;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20po'+'sitionInSh'+'adowSpace.'+'z\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20thi'+'s\x20is\x20curre'+'ntly\x20unuse'+'d\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SHADOW_SA'+'MPLE_Z_BIA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20positionI'+'nShadowSpa'+'ce.z\x20+=\x20ge'+'tShadowBia'+'s(shadowPa'+'rams.x,\x20sh'+'adowParams'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20positi'+'onInShadow'+'Space.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20surfaceP'+'osition;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'evaluation'+'\x20function\x0a'+'\x20\x20\x20\x20float\x20'+'getShadow{'+'i}(vec3\x20li'+'ghtDirW)\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20shado'+'w\x20cascades'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_CASCADES'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20sel'+'ect\x20shadow'+'\x20cascade\x20m'+'atrix\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'t\x20cascadeI'+'ndex\x20=\x20get'+'ShadowCasc'+'adeIndex(l'+'ight{i}_sh'+'adowCascad'+'eDistances'+',\x20light{i}'+'_shadowCas'+'cadeCount)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'_SHADOW_CA'+'SCADE_BLEN'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'scadeIndex'+'\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex'+',\x20light{i}'+'_shadowCas'+'cadeDistan'+'ces,\x20light')+('{i}_shadow'+'CascadeCou'+'nt,\x20light{'+'i}_shadowC'+'ascadeBlen'+'d);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mat4'+'\x20shadowMat'+'rix\x20=\x20ligh'+'t{i}_shado'+'wMatrixPal'+'ette[casca'+'deIndex];\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t4\x20shadowM'+'atrix\x20=\x20li'+'ght{i}_sha'+'dowMatrix;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20DIRE'+'CTIONAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20light'+'\x20does\x20not\x20'+'have\x20a\x20pos'+'ition\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20light'+'{i}_shadow'+'Params,\x20vP'+'ositionW,\x20'+'vec3(0.0),'+'\x20lightDirW'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20shad'+'owCoord\x20=\x20'+'getShadowS'+'ampleCoord'+'{i}(shadow'+'Matrix,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20vPosition'+'W,\x20light{i'+'}_position'+',\x20lightDir'+'W,\x20dLightD'+'irNormW,\x20d'+'VertexNorm'+'alW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Fade\x20di'+'rectional\x20'+'shadow\x20at\x20'+'the\x20far\x20di'+'stance\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadowCoord'+'\x20=\x20fadeSha'+'dow(shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owCascadeD'+'istances);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20--'+'---\x20sample'+'\x20the\x20shado'+'w\x20-----\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x20/'+'/\x20-----\x20di'+'rectional\x20'+'light\x20----')+('-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wVSM16(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x205'+'.54);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20VSM_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowVSM32('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x2015.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCS'+'S_32F\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sh'+'adowSearch'+'Area\x20=\x20vec'+'2(length(l'+'ight{i}_ha'+'lfWidth),\x20'+'length(lig'+'ht{i}_half'+'Height))\x20*'+'\x20light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCSS(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20light{i}_'+'cameraPara'+'ms,\x20shadow'+'SearchArea'+',\x20lightDir'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20light{i}'+'_softShado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF1_16'+'F\x20||\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'1_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF3'+'_16F\x20||\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCF3x3(SH'+'ADOWMAP_PA'+'SS(light{i'+'}_shadowMa'+'p),\x20shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF5_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF5_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(SHADOWMAP'+'_PASS(ligh'+'t{i}_shado'+'wMap),\x20sha'+'dowCoord,\x20'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20S'+'POT\x20//\x20---'+'--\x20spot\x20li'+'ght\x20-----\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20V'+'SM_16F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potVSM16(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x205.54,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowSpo')+('tVSM32(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x201'+'5.0,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20shad'+'owSearchAr'+'ea\x20=\x20vec2('+'length(lig'+'ht{i}_half'+'Width),\x20le'+'ngth(light'+'{i}_halfHe'+'ight))\x20*\x20l'+'ight{i}_sh'+'adowSearch'+'Area;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(lig'+'ht{i}_shad'+'owSearchAr'+'ea);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotPCSS('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x20light{i}'+'_cameraPar'+'ams,\x20shado'+'wSearchAre'+'a,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF1_1'+'6F\x20||\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA')+('DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F5_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_PASS(l'+'ight{i}_sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20light{i'+'}_shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x20//\x20'+'-----\x20omni'+'\x20light\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCSS_32F'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P'+'UNCTUAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(len'+'gth(light{'+'i}_halfWid'+'th),\x20lengt'+'h(light{i}'+'_halfHeigh'+'t))\x20*\x20ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2(light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20shadowSe'+'archArea,\x20'+'lightDirW)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_')+('32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF3_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF3_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowOmniPC'+'F3x3(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),_P='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20areaLight'+'sLutTex2;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCSSPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22shadow'+'SoftPS\x22\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(SH'+'ADOW_KIND_'+'VSM)\x0a\x20\x20\x20\x20#'+'include\x20\x22s'+('hadowEVSMP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_LINEA'+'R\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fall'+'offLinearP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22fal'+'loffInvSqu'+'aredPS\x22\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20LIT_COD'+'E_LIGHTS_P'+'OINT\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'ightDirPoi'+'ntPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22spot'+'PS\x22\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_CODE_CO'+'OKIE\x0a\x20\x20\x20\x20#'+'include\x20\x22c'+'ookiePS\x22\x0a#'+'endif\x0a\x0a//\x20'+'clustered\x20'+'lighting\x0a#'+'ifdef\x20LIT_'+'CLUSTERED_'+'LIGHTS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22clustered'+'LightPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHT_'+'COUNT\x20>\x200\x0a'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20genera'+'te\x20shadow\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionSha'+'dowPS,\x20LIG'+'HT_COUNT\x22\x0a'+'\x0a\x20\x20\x20\x20//\x20LO'+'OP\x20-\x20gener'+'ate\x20light\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionLig'+'htPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a'),gP='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'rectional\x20'+'lightmap\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x20&'+'&\x20defined('+'LIT_DIR_LI'+'GHTMAP)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dot(dir,\x20'+'dir)\x20<\x200.0'+'001)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'lightmap;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20vligh'+'t\x20=\x20satura'+'te(dot(dir'+',\x20-vertexN'+'ormal));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fli'+'ght\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20nl'+'ight\x20=\x20(fl'+'ight\x20/\x20max'+'(vlight,\x200'+'.01))\x20*\x200.'+'5;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p\x20*\x20nlight'+'\x20*\x202.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20half'+'Dir\x20=\x20norm'+'alize(-dir'+'\x20+\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'specularLi'+'ght\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20getFre'+'snel(dot(v'+'iewDir,\x20ha'+'lfDir),\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceInt'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20non-dire'+'ctional\x20li'+'ghtmap\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),SP='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'vec3\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_d'+'irLightMap'+';\x0a#endif\x0a\x0a'+'void\x20getLi'+'ghtMap()\x20{'+'\x0a\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_LIGHT'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dLi'+'ghtmap\x20*=\x20'+'{STD_LIGHT'+'_TEXTURE_D'+'ECODE}(tex'+'ture2DBias'+'({STD_LIGH'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'LIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_LIGHTM'+'AP_DIR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dir\x20=\x20'+'texture2DB'+'ias(textur'+'e_dirLight'+'Map,\x20{STD_'+'LIGHT_TEXT'+'URE_UV},\x20t'+'extureBias'+').xyz\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dir'+'Dot\x20=\x20dot('+'dir,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightm'+'apDir\x20=\x20(d'+'irDot\x20>\x200.'+'001)\x20?\x20dir'+'\x20/\x20sqrt(di'+'rDot)\x20:\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_LIGHT_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_LIGHT_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a',yP='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20alp'+'haRoughnes'+'s\x20=\x20roughn'+'ess\x20*\x20roug'+'hness;\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'dAnisotrop'+'y;\x0a\x20\x20\x20\x20vec'+'2\x20directio'+'n\x20=\x20dAniso'+'tropyRotat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'float\x20at\x20='+'\x20mix(alpha'+'Roughness,'+'\x201.0,\x20anis'+'otropy\x20*\x20a'+'nisotropy)'+';\x0a\x20\x20\x20\x20floa'+'t\x20ab\x20=\x20cla'+'mp(alphaRo'+'ughness,\x200'+'.001,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20anisotro'+'picT\x20=\x20nor'+'malize(tbn'+'\x20*\x20vec3(di'+'rection,\x200'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicB\x20=\x20'+'normalize('+'cross(tbn['+'2],\x20anisot'+'ropicT));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20NoH\x20=\x20dot'+'(worldNorm'+'al,\x20h);\x0a\x20\x20'+'\x20\x20float\x20To'+'H\x20=\x20dot(an'+'isotropicT'+',\x20h);\x0a\x20\x20\x20\x20'+'float\x20BoH\x20'+'=\x20dot(anis'+'otropicB,\x20'+'h);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20a2\x20=\x20'+'at\x20*\x20ab;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20vec3(ab\x20'+'*\x20ToH,\x20at\x20'+'*\x20BoH,\x20a2\x20'+'*\x20NoH);\x0a\x20\x20'+'\x20\x20float\x20v2'+'\x20=\x20dot(v,\x20'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20w2\x20=\x20a'+'2\x20/\x20v2;\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'ToV\x20=\x20dot('+'anisotropi'+'cT,\x20viewDi'+'r);\x0a\x20\x20\x20\x20fl'+'oat\x20BoV\x20=\x20'+'dot(anisot'+'ropicB,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20float\x20To'+'L\x20=\x20dot(an'+'isotropicT'+(',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20Bo'+'L\x20=\x20dot(an'+'isotropicB'+',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20No'+'V\x20=\x20dot(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20float'+'\x20NoL\x20=\x20dot'+'(worldNorm'+'al,\x20-light'+'DirNorm);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20lambdaV\x20='+'\x20NoL\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToV,\x20a'+'b\x20*\x20BoV,\x20N'+'oV));\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daL\x20=\x20NoV\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oL,\x20ab\x20*\x20B'+'oL,\x20NoL));'+'\x0a\x20\x20\x20\x20float'+'\x20G\x20=\x200.5\x20/'+'\x20(lambdaV\x20'+'+\x20lambdaL)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20D\x20*\x20G;'+'\x0a}\x0a\x0afloat\x20'+'getLightSp'+'ecular(vec'+'3\x20h,\x20vec3\x20'+'reflDir,\x20v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'float\x20glos'+'s,\x20mat3\x20tb'+'n)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'LightSpecu'+'lar(gloss,'+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20h,\x20ligh'+'tDirNorm,\x20'+'tbn);\x0a}\x0a'),vP='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',xP='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20PI\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',TP='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'hWithParam'+'s(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec4\x20ca'+'mera_param'+'s;\x20//\x20x:\x201'+'\x20/\x20camera_'+'far,\x20\x20\x20\x20\x20\x20'+'y:\x20camera_'+'far,\x20\x20\x20\x20\x20z'+':\x20camera_n'+'ear,\x20\x20\x20\x20\x20\x20'+'\x20\x20w:\x20is_or'+'tho\x0a#endif'+'\x0a\x0afloat\x20li'+'nearizeDep'+'th(float\x20z'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20linea'+'rizeDepthW'+'ithParams('+'z,\x20camera_'+'params);\x0a}'+'\x0a#endif\x0a',wP='\x0avoid\x20eval'+'uateBacken'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'SSAO\x20durin'+'g\x20lighting'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_SSAO'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ao\x20'+'*=\x20texture'+'2DLod(ssao'+'Texture,\x20g'+'l_FragCoor'+'d.xy\x20*\x20ssa'+'oTextureSi'+'zeInv,\x200.0'+').r;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20transf'+'orm\x20tangen'+'t\x20space\x20no'+'rmals\x20to\x20w'+'orld\x20space'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_NEED'+'S_NORMAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etReflDir('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20litArgs_'+'gloss,\x20dTB'+'N);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W\x20=\x20normal'+'ize(-refle'+'ct(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR_OR'+'_REFLECTIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20f'+'0\x20=\x201.0\x20/\x20'+'litArgs_io'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20f0\x20=\x20'+'(f0\x20-\x201.0)'+'\x20/\x20(f0\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20f0\x20'+'*=\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+('ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'mbient\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20addAmbie'+'nt(litArgs'+'_worldNorm'+'al);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20dDiffuse'+'Light\x20*\x20(1'+'.0\x20-\x20litAr'+'gs_specula'+'rity);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20move\x20a'+'mbient\x20col'+'or\x20out\x20of\x20'+'diffuse\x20(u'+'sed\x20by\x20Lig'+'htmapper,\x20'+'to\x20multipl'+'y\x20ambient\x20'+'color\x20by\x20a'+'ccumulated'+'\x20AO)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SEPARA'+'TE_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dA'+'mbientLigh'+'t\x20=\x20dDiffu'+'seLight;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_O'+'LD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20*=\x20mate'+'rial_ambie'+'nt;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OCCLUD'+'E_DIRECT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20occludeDi'+'ffuse(litA'+'rgs_ao);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTMAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'dLightMap('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_lightmap'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dViewDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dRef'+'lDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dTBN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTING\x20'+'||\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tionCC(ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_glo'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_FRESNE'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccFresne'+'l\x20=\x20getFre'+'snelCC(dot'+'(dViewDirW'+',\x20litArgs_'+'clearcoat_'+'worldNorma'+'l));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccRef'+'lection\x20*='+'\x20ccFresnel'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20*=\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'addReflect'+'ionSheen(l'+'itArgs_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20litArgs_s'+'heen_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Fr')+('esnel\x20has\x20'+'to\x20be\x20appl'+'ied\x20to\x20ref'+'lections\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tion(dRefl'+'DirW,\x20litA'+'rgs_gloss)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_FRES'+'NEL_MODEL\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dRe'+'flection.r'+'gb\x20*=\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.rgb\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n.rgb\x20*=\x20l'+'itArgs_spe'+'cularityFa'+'ctor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20ARE'+'A_LIGHTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20has\x20to\x20'+'be\x20accumul'+'ated\x20diffe'+'rently\x20if\x20'+'we\x20want\x20ar'+'ea\x20lights\x20'+'to\x20look\x20co'+'rrect\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dS'+'pecularLig'+'ht\x20*=\x20litA'+'rgs_specul'+'arity;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'valuate\x20ma'+'terial\x20bas'+'ed\x20area\x20li'+'ghts\x20data,')+('\x20shared\x20by'+'\x20all\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcLTC'+'LightValue'+'s(litArgs_'+'gloss,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_gl'+'oss,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20LOOP\x20-\x20e'+'valuate\x20al'+'l\x20non-clus'+'tered\x20ligh'+'ts\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT_COUNT\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tEvaluatio'+'nPS,\x20LIGHT'+'_COUNT\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clust'+'ered\x20light'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addClust'+'eredLights'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dReflDi'+'rW,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_CLEA'+'RCOAT)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20litAr'+'gs_specula'+'rity,\x20dVer'+'texNormalW'+',\x20dTBN,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_gloss,'+'\x20litArgs_s'+'heen_gloss'+',\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20AR'+'EA_LIGHTS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x20=\x20ve'+'c3(1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'thickness,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_albe'+'do,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_t'+'ransmissio'+'n,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_disp'+'ersion\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_iridesc'+'ence_inten'+'sity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20ambient'+'\x20occlusion'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_OC')+('CLUDE_DIRE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20occlu'+'deDiffuse('+'litArgs_ao'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIT_OCCLU'+'DE_SPECULA'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeS'+'pecular(li'+'tArgs_glos'+'s,\x20litArgs'+'_ao,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULARIT'+'Y_FACTOR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20litAr'+'gs_specula'+'rityFactor'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIT_OPACI'+'TY_FADES_S'+'PECULAR)\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIT_BLEN'+'D_TYPE\x20==\x20'+'NORMAL\x20||\x20'+'LIT_BLEND_'+'TYPE\x20==\x20PR'+'EMULTIPLIE'+'D\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20specLum\x20='+'\x20dot((dSpe'+'cularLight'+'\x20+\x20dReflec'+'tion.rgb\x20*'+'\x20dReflecti'+'on.a),\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecLum\x20+=\x20'+'dot(ccSpec'+'ularLight\x20'+'*\x20litArgs_'+'clearcoat_'+'specularit'+'y\x20+\x20ccRefl'+'ection\x20*\x20l'+'itArgs_cle'+'arcoat_spe'+'cularity,\x20'+'vec3(\x200.21'+'26,\x200.7152'+',\x200.0722\x20)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_opacity\x20'+'=\x20clamp(li'+'tArgs_opac'+'ity\x20+\x20gamm'+'aCorrectIn'+'put(specLu'+'m),\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;\x0a\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nd\x20chunks\x20'+'-\x20when\x20bak'+'ing\x20lightm'+'ap\x0a\x20\x20\x20\x20#if'+'def\x20LIT_LI')+('GHTMAP_BAK'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22bak'+'eLmEndPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_LIGHTM'+'AP_BAKING_'+'DIR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22bake'+'DirLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20en'+'d\x20chunks\x20-'+'\x20in\x20all\x20ot'+'her\x20cases\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22en'+'dPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22outputA'+'lphaPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_MSDF\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20applyMs'+'df(gl_Frag'+'Color);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22output'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22de'+'bugOutputP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HADOW_CATC'+'HER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20when\x20the'+'\x20shadow\x20ca'+'tcher\x20is\x20e'+'nabled\x20-\x20a'+'ccumulated'+'\x20shadows\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20=\x20vec3'+'(dShadowCa'+'tcher);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a'),EP='\x0a\x0a//\x20globa'+'ls\x0avec3\x20sR'+'eflection;'+'\x0avec3\x20dVer'+'texNormalW'+';\x0avec3\x20dTa'+'ngentW;\x0ave'+'c3\x20dBinorm'+'alW;\x0avec3\x20'+'dViewDirW;'+'\x0avec3\x20dRef'+'lDirW;\x0avec'+'3\x20ccReflDi'+'rW;\x0a\x0a//\x20Pe'+'r-light\x20te'+'mporaries\x0a'+'vec3\x20dLigh'+'tDirNormW;'+'\x0afloat\x20dAt'+'ten;\x0a\x0a//\x20O'+'utputs\x0amat'+'3\x20dTBN;\x0ave'+'c4\x20dReflec'+'tion;\x0avec3'+'\x20dDiffuseL'+'ight;\x0avec3'+'\x20dSpecular'+'Light;\x0aflo'+'at\x20ccFresn'+'el;\x0avec3\x20c'+'cReflectio'+'n;\x0avec3\x20cc'+'SpecularLi'+'ght;\x0afloat'+'\x20ccSpecula'+'rityNoFres'+';\x0avec3\x20sSp'+'ecularLigh'+'t;\x0a\x0a//\x20FRA'+'GMENT\x20SHAD'+'ER\x20INPUTS:'+'\x20UNIFORMS\x0a'+'\x0a#ifdef\x20LI'+'T_DISPERSI'+'ON\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'dispersion'+';\x0a#endif\x0a\x0a'+'#ifndef\x20LI'+'T_OPACITY_'+'FADES_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_alphaFad'+'e;\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_SSAO\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20unif'+'orm\x20vec2\x20s'+'saoTexture'+'SizeInv;\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20a'+'nd\x20shadowi'+'ng\x20declara'+'tions\x0a\x0a#if'+'def\x20LIT_SH'+'ADOW_CATCH'+'ER\x0a\x20\x20\x20\x20//\x20'+'a\x20variable'+'\x20to\x20accumu'+'late\x20shado'+'ws\x20for\x20sha'+'dow\x20catche'+'r\x20material'+'s\x0a\x20\x20\x20\x20floa'+'t\x20dShadowC'+'atcher\x20=\x201'+'.0;\x0a#endif'+'\x0a\x0a//\x20LOOP\x20'+'-\x20uniform\x20'+'declaratio'+'ns\x20for\x20all'+'\x20non-clust'+'ered\x20light'+'s\x0a#if\x20LIGH'+'T_COUNT\x20>\x20'+'0\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDeclarati'+'onPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+('\x20#if\x20LIT_F'+'RESNEL_MOD'+'EL\x20==\x20NONE'+'\x20&&\x20!defin'+'ed(LIT_REF'+'LECTIONS)\x20'+'&&\x20!define'+'d(LIT_DIFF'+'USE_MAP)\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a//\x20lightm'+'ap\x20baking\x0a'+'#ifdef\x20STD'+'_LIGHTMAP_'+'DIR\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20bakeDir;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_L'+'IGHTMAP_BA'+'KING_ADD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20ambie'+'ntBakeOccl'+'usionContr'+'ast;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20ambient'+'BakeOcclus'+'ionBrightn'+'ess;\x0a#endi'+'f\x0a'),bP='\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4(0'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ccS'+'pecularLig'+'ht\x20=\x20vec3('+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'NONE_SLICE'+'_MODE\x20==\x20S'+'LICED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22startN'+'ineSlicedP'+'S\x22\x0a\x20\x20\x20\x20#el'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20TILE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'startNineS'+'licedTiled'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_NEEDS_NOR'+'MAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW\x20=\x20n'+'ormalize(v'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'TANGENTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_HEI'+'GHTS)\x20||\x20d'+'efined(LIT'+'_USE_NORMA'+'LS)\x20||\x20def'+'ined(LIT_U'+'SE_CLEARCO'+'AT_NORMALS'+')\x20||\x20defin'+'ed(LIT_GGX'+'_SPECULAR)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dTa'+'ngentW\x20=\x20v'+'TangentW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dBin'+'ormalW\x20=\x20v'+'BinormalW;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20getVie'+'wDir();\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_TB'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_TWO_S'+'IDED_LIGHT'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'handleTwoS'+'idedLighti'+'ng();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20i'+'nvoke\x20fron'+'tend\x20funct'+'ions\x0a\x20\x20\x20\x20e'+'valuateFro'+'ntend();\x0a\x0a'+('\x20\x20\x20\x20#inclu'+'de\x20\x22debugP'+'rocessFron'+'tendPS\x22\x0a\x0a\x20'+'\x20\x20\x20evaluat'+'eBackend()'+';\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a'),AP='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20vec3\x20mate'+'rial_ambie'+'nt;\x0a\x0a#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTING\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightSp'+'ecularAnis'+'oGGXPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightS'+'pecularBli'+'nnPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'combinePS\x22'+'\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tmapAddPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'ADD_AMBIEN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ambi'+'entPS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIT_MSDF'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22msdfP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'include\x20\x22v'+'iewDirPS\x22\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flDirAniso'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a//\x20li'+'ghting\x20fun'+'ctionality')+('\x0a#include\x20'+'\x22lightingP'+'S\x22\x0a\x0a'),CP='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',PP='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',MP='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec4\x20ve'+'rtex_color'+';\x0a#endif\x0a\x0a'+'#ifdef\x20NIN'+'ESLICED\x0a\x0a\x20'+'\x20\x20\x20varying'+'\x20vec2\x20vMas'+'k;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'vTiledUv;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20v'+'ec2\x20outerS'+'cale;\x0a\x20\x20\x20\x20'+'uniform\x20me'+'diump\x20vec4'+'\x20atlasRect'+';\x0a\x0a#endif\x0a'+'\x0avec3\x20dPos'+'itionW;\x0ama'+'t4\x20dModelM'+'atrix;\x0a\x0a#i'+'nclude\x20\x22tr'+'ansformCor'+'eVS\x22\x0a\x0a#ifd'+'ef\x20UV0\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'c2\x20vertex_'+'texCoord1;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22uv1VS'+'\x22\x0a#endif\x0a\x0a'+'\x0a#ifdef\x20LI'+'NEAR_DEPTH'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20#d'+'efine\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'transformV'+'S\x22\x0a\x0a#ifdef'+'\x20NORMALS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22normalC'+'oreVS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22normalVS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20TANG'+'ENTS\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_tangent;\x0a'+'#endif\x0a\x0a//'+'\x20expand\x20un'+'iforms\x20for'+'\x20uv\x20transf'+'orms\x0a#incl'+'ude\x20\x22uvTra'+'nsformUnif'+'ormsPS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'#ifdef\x20MSD'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22msdf'+'VS\x22\x0a#endif'+'\x0a\x0a#include'+'\x20\x20\x22litUser'+'CodeVS\x22\x0a\x0av'+'oid\x20main(v'+'oid)\x20{\x0a\x0a\x20\x20'+'\x20\x20#include'+('\x20\x22litUserM'+'ainStartVS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'default\x20po'+'int\x20size\x20t'+'o\x201\x20in\x20cas'+'e\x20the\x20shad'+'er\x20is\x20used'+'\x20with\x20poin'+'ts\x0a\x20\x20\x20\x20gl_'+'PointSize\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20getP'+'osition();'+'\x0a\x20\x20\x20\x20vPosi'+'tionW\x20=\x20ge'+'tWorldPosi'+'tion();\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'NORMALS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vNor'+'malW\x20=\x20get'+'Normal();\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20TANGENT'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vTangentW\x20'+'=\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vBi'+'normalW\x20=\x20'+'cross(vNor'+'malW,\x20vTan'+'gentW)\x20*\x20v'+'ertex_tang'+'ent.w;\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(GGX_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3(0,\x201'+',\x200));\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV0\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv0'+'\x20=\x20getUv0('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20UV'+'0_UNMODIFI'+'ED\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv1\x20=\x20ge'+'tUv1();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20UV1_UNM'+'ODIFIED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vUv1\x20=\x20uv1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20expa'+'nd\x20code\x20fo'+'r\x20uv\x20trans'+'forms\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'uvTransfor'+'mVS,\x20UV_TR'+'ANSFORMS_C'+'OUNT\x22\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20VE'+'RTEX_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition')+(',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vPosi'+'tionW,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'SDF\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20unpackMs'+'dfParams()'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tUserMainE'+'ndVS\x22\x0a}\x0a'),DP='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20g'+'etPickOutp'+'ut();\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'REPASS_PAS'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20float'+'2vec4(vLin'+'earDepth);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a',IP='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LP='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20te'+'xtureBias\x20'+'=\x20-1000.0;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20texture'+'Bias;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litShade'+'rArgsPS\x22\x0a',RP='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20vec3\x20v'+'iew_positi'+'on;\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20light_ra'+'dius;\x0a#end'+'if\x0a\x0a#if\x20SH'+'ADOW_TYPE\x20'+'==\x20PCSS_32'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22line'+'arizeDepth'+'PS\x22\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'evaluateFr'+'ontend();\x0a'+'\x0a\x20\x20\x20\x20//\x20us'+'ing\x20non-st'+'andard\x20dep'+'th,\x20i.e\x20gl'+'_FragCoord'+'.z\x0a\x20\x20\x20\x20#if'+'def\x20PERSPE'+'CTIVE_DEPT'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20gl_Fra'+'gCoord.z;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SHADOW_'+'TYPE\x20==\x20PC'+'SS_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot/omn'+'i\x20shadows\x20'+'currently\x20'+'use\x20linear'+'\x20depth.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20TODO:\x20u'+'se\x20perspec'+'tive\x20depth'+'\x20for\x20spot/'+'omni\x20the\x20s'+'ame\x20way\x20as'+'\x20direction'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT_TYPE\x20'+'!=\x20DIRECTI'+'ONAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20depth\x20=\x20l'+'inearizeDe'+'pthWithPar'+'ams(depth,'+'\x20camera_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20min(di'+'stance(vie'+'w_position'+',\x20vPositio'+'nW)\x20/\x20ligh'+'t_radius,\x20'+'0.99999);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20MODI'+'FIED_DEPTH'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20VSM_'+'16F\x20||\x20SHA'+'DOW_TYPE\x20='+'=\x20VSM_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20exponen'+'t\x20=\x2015.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+('t\x20exponent'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20depth\x20=\x20'+'2.0\x20*\x20dept'+'h\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dep'+'th\x20=\x20\x20exp('+'exponent\x20*'+'\x20depth);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(dep'+'th,\x20depth*'+'depth,\x201.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'SHADOW_TYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'tore\x20depth'+'\x20into\x20R32\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.r\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ODIFIED_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20If\x20we\x20e'+'nd\x20up\x20usin'+'g\x20modified'+'\x20depth,\x20it'+'\x20needs\x20to\x20'+'be\x20explici'+'tly\x20writte'+'n\x20to\x20gl_Fr'+'agDepth\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20just\x20the\x20'+'simplest\x20c'+'ode,\x20color'+'\x20is\x20not\x20wr'+'itten\x20anyw'+'ay\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'}\x0a'),OP='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20vec2'+'\x20ccLTCUV;\x0a'+'#endif\x0a\x0ave'+'c2\x20getLTCL'+'ightUV(flo'+'at\x20gloss,\x20'+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x0a{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20max('+'(1.0\x20-\x20glo'+'ss)\x20*\x20(1.0'+'\x20-\x20gloss),'+'\x200.001);\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Uv(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'roughness\x20'+');\x0a}\x0a\x0a//\x20u'+'sed\x20for\x20en'+'ergy\x20conse'+'rvation\x20an'+'d\x20to\x20modul'+'ate\x20specul'+'ar\x0avec3\x20dL'+'TCSpecFres'+';\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20vec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0a\x0avec3\x20'+'getLTCLigh')+('tSpecFres('+'vec2\x20uv,\x20v'+'ec3\x20specul'+'arity)\x0a{\x0a\x20'+'\x20\x20\x20vec4\x20t2'+'\x20=\x20texture'+'2DLod(area'+'LightsLutT'+'ex2,\x20uv,\x200'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20spec'+'ularity\x20*\x20'+'t2.x\x20+\x20(\x20v'+'ec3(\x201.0\x20)'+'\x20-\x20specula'+'rity)\x20*\x20t2'+'.y;\x0a}\x0a\x0avoi'+'d\x20calcLTCL'+'ightValues'+'(float\x20glo'+'ss,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20speculari'+'ty,\x20float\x20'+'clearcoatG'+'loss,\x20vec3'+'\x20clearcoat'+'WorldNorma'+'l,\x20float\x20c'+'learcoatSp'+'ecularity)'+'\x0a{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x20\x0a\x0a#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20cc'+'LTCUV\x20=\x20ge'+'tLTCLightU'+'V(clearcoa'+'tGloss,\x20cl'+'earcoatWor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20ccLTCS'+'pecFres\x20=\x20'+'getLTCLigh'+'tSpecFres('+'ccLTCUV,\x20v'+'ec3(clearc'+'oatSpecula'+'rity));\x0a#e'+'ndif\x0a}\x0a\x0avo'+'id\x20calcRec'+'tLightValu'+'es(vec3\x20li'+'ghtPos,\x20ve'+'c3\x20halfWid'+'th,\x20vec3\x20h'+'alfHeight)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0avoid\x20c'+'alcDiskLig'+'htValues(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight)\x20{\x0a\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0av'+'oid\x20calcSp'+'hereLightV'+'alues(vec3'+'\x20lightPos,'+'\x20vec3\x20half'+'Width,\x20vec'+'3\x20halfHeig'+'ht)\x20{\x0a\x20\x20\x20\x20')+('dLTCCoords'+'\x20=\x20getSphe'+'reLightCoo'+'rds(lightP'+'os,\x20halfWi'+'dth,\x20halfH'+'eight);\x0a}\x0a'+'\x0a//\x20An\x20ext'+'ended\x20vers'+'ion\x20of\x20the'+'\x20implement'+'ation\x20from'+'\x20\x22How\x20to\x20s'+'olve\x20a\x20cub'+'ic\x20equatio'+'n,\x20revisit'+'ed\x22\x0a//\x20htt'+'p://moment'+'singraphic'+'s.de/?p=10'+'5\x0avec3\x20Sol'+'veCubic(ve'+'c4\x20Coeffic'+'ient)\x0a{\x0a\x20\x20'+'\x20\x20float\x20pi'+'\x20=\x203.14159'+';\x0a\x20\x20\x20\x20//\x20N'+'ormalize\x20t'+'he\x20polynom'+'ial\x0a\x20\x20\x20\x20Co'+'efficient.'+'xyz\x20/=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20//\x20D'+'ivide\x20midd'+'le\x20coeffic'+'ients\x20by\x20t'+'hree\x0a\x20\x20\x20\x20C'+'oefficient'+'.yz\x20/=\x203.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20A\x20=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20floa'+'t\x20B\x20=\x20Coef'+'ficient.z;'+'\x0a\x20\x20\x20\x20float'+'\x20C\x20=\x20Coeff'+'icient.y;\x0a'+'\x20\x20\x20\x20float\x20'+'D\x20=\x20Coeffi'+'cient.x;\x0a\x0a'+'\x20\x20\x20\x20//\x20Com'+'pute\x20the\x20H'+'essian\x20and'+'\x20the\x20discr'+'iminant\x0a\x20\x20'+'\x20\x20vec3\x20Del'+'ta\x20=\x20vec3('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20-'+'Coefficien'+'t.z\x20*\x20Coef'+'ficient.z\x20'+'+\x20Coeffici'+'ent.y,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20-Coef'+'ficient.y\x20'+'*\x20Coeffici'+'ent.z\x20+\x20Co'+'efficient.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dot(vec2('+'Coefficien'+'t.z,\x20-Coef'+'ficient.y)'+',\x20Coeffici'+'ent.xy)\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'float\x20Disc'+'riminant\x20='+'\x20dot(vec2('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xlc'+',\x20xsc;\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20A\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20C_a\x20=\x20De'+'lta.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20D_a\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(sqr'+'t(Discrimi'+'nant),\x20-D_'+'a)\x20/\x203.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_1a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20x_3'+'a\x20=\x202.0\x20*\x20'+'sqrt(-C_a)'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20((x_1a'+'\x20+\x20x_3a)\x20>'+'\x202.0\x20*\x20B)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xl\x20=\x20x_1'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'\x20=\x20x_3a;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'c\x20=\x20vec2(x'+'l\x20-\x20B,\x20A);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20D\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_d'+'\x20=\x20D;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_d\x20=\x20Delt'+'a.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_d\x20=\x20-D\x20*\x20'+'Delta.y\x20+\x20'+'2.0\x20*\x20C\x20*\x20'+'Delta.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20Take\x20the\x20'+'cubic\x20root'+'\x20of\x20a\x20norm'+'alized\x20com'+'plex\x20numbe'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20Thet'+'a\x20=\x20atan(D'+'\x20*\x20sqrt(Di'+'scriminant'+'),\x20-D_d)\x20/'+'\x203.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_1d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_3d\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_d)\x20*\x20c'+'os(Theta\x20+'+'\x20(2.0\x20/\x203.'+'0)\x20*\x20pi);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20xs;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(x_1d\x20+\x20x_'+'3d\x20<\x202.0\x20*'+'\x20C)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xs\x20='+'\x20x_1d;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xs\x20=\x20x_3'+'d;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20xsc\x20=\x20ve'+'c2(-D,\x20xs\x20'+'+\x20C);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20flo'+'at\x20E\x20=\x20\x20xl'+'c.y\x20*\x20xsc.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20F\x20=\x20-xl'+'c.x\x20*\x20xsc.'+'y\x20-\x20xlc.y\x20')+('*\x20xsc.x;\x0a\x20'+'\x20\x20\x20float\x20G'+'\x20=\x20\x20xlc.x\x20'+'*\x20xsc.x;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20x'+'mc\x20=\x20vec2('+'C\x20*\x20F\x20-\x20B\x20'+'*\x20G,\x20-B\x20*\x20'+'F\x20+\x20C\x20*\x20E)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20Root\x20=\x20v'+'ec3(xsc.x\x20'+'/\x20xsc.y,\x20x'+'mc.x\x20/\x20xmc'+'.y,\x20xlc.x\x20'+'/\x20xlc.y);\x0a'+'\x0a\x20\x20\x20\x20if\x20(R'+'oot.x\x20<\x20Ro'+'ot.y\x20&&\x20Ro'+'ot.x\x20<\x20Roo'+'t.z)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root.xy'+'z\x20=\x20Root.y'+'xz;\x0a\x20\x20\x20\x20el'+'se\x20if\x20(Roo'+'t.z\x20<\x20Root'+'.x\x20&&\x20Root'+'.z\x20<\x20Root.'+'y)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.xzy'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20Root;\x0a'+'}\x0a\x0afloat\x20L'+'TC_Evaluat'+'eDisk(vec3'+'\x20N,\x20vec3\x20V'+',\x20vec3\x20P,\x20'+'mat3\x20Minv,'+'\x20Coords\x20po'+'ints)\x0a{\x0a\x20\x20'+'\x20\x20//\x20const'+'ruct\x20ortho'+'normal\x20bas'+'is\x20around\x20'+'N\x0a\x20\x20\x20\x20vec3'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'vec3\x20T2\x20=\x20'+'cross(N,\x20T'+'1);\x0a\x0a\x20\x20\x20\x20/'+'/\x20rotate\x20a'+'rea\x20light\x20'+'in\x20(T1,\x20T2'+',\x20N)\x20basis'+'\x0a\x20\x20\x20\x20//mat'+'3\x20R\x20=\x20tran'+'spose(mat3'+'(T1,\x20T2,\x20N'+'));\x0a\x20\x20\x20\x20ma'+'t3\x20R\x20=\x20tra'+'nsposeMat3'+'(\x20mat3(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'polygon\x20(a'+'llocate\x205\x20'+'vertices\x20f'+'or\x20clippin'+'g)\x0a\x20\x20\x20\x20vec'+'3\x20L_[\x203\x20];'+'\x0a\x20\x20\x20\x20L_[\x200'+'\x20]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[\x20'+'1\x20]\x20=\x20R\x20*\x20'+'(\x20points.c'+'oord1\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20L_['+'\x202\x20]\x20=\x20R\x20*'+'\x20(\x20points.'+'coord2\x20-\x20P'+'\x20);\x0a\x0a\x20\x20\x20\x20/'+'/\x20init\x20ell'+'ipse\x0a\x20\x20\x20\x20v'+'ec3\x20C\x20\x20=\x200'+'.5\x20*\x20(L_[0'+']\x20+\x20L_[2])'+';\x0a\x20\x20\x20\x20vec3'+'\x20V1\x20=\x200.5\x20'+'*\x20(L_[1]\x20-'+'\x20L_[2]);\x0a\x20'+'\x20\x20\x20vec3\x20V2'+'\x20=\x200.5\x20*\x20('+'L_[1]\x20-\x20L_'+'[0]);\x0a\x0a\x20\x20\x20'+'\x20C\x20\x20=\x20Minv')+('\x20*\x20C;\x0a\x20\x20\x20\x20'+'V1\x20=\x20Minv\x20'+'*\x20V1;\x0a\x20\x20\x20\x20'+'V2\x20=\x20Minv\x20'+'*\x20V2;\x0a\x0a\x20\x20\x20'+'\x20//if(dot('+'cross(V1,\x20'+'V2),\x20C)\x20>\x20'+'0.0)\x0a\x20\x20\x20\x20/'+'/\x20\x20\x20\x20retur'+'n\x200.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20compu'+'te\x20eigenve'+'ctors\x20of\x20e'+'llipse\x0a\x20\x20\x20'+'\x20float\x20a,\x20'+'b;\x0a\x20\x20\x20\x20flo'+'at\x20d11\x20=\x20d'+'ot(V1,\x20V1)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d22\x20=\x20do'+'t(V2,\x20V2);'+'\x0a\x20\x20\x20\x20float'+'\x20d12\x20=\x20dot'+'(V1,\x20V2);\x0a'+'\x20\x20\x20\x20if\x20(ab'+'s(d12)\x20/\x20s'+'qrt(d11\x20*\x20'+'d22)\x20>\x200.0'+'001)\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20tr\x20=\x20'+'d11\x20+\x20d22;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20det\x20='+'\x20-d12\x20*\x20d1'+'2\x20+\x20d11\x20*\x20'+'d22;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20use'+'\x20sqrt\x20matr'+'ix\x20to\x20solv'+'e\x20for\x20eige'+'nvalues\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20det\x20'+'=\x20sqrt(det'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20u\x20='+'\x200.5\x20*\x20sqr'+'t(tr\x20-\x202.0'+'\x20*\x20det);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20v\x20=\x200.5'+'\x20*\x20sqrt(tr'+'\x20+\x202.0\x20*\x20d'+'et);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20e'+'_max\x20=\x20(u\x20'+'+\x20v)\x20*\x20(u\x20'+'+\x20v);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_min\x20=\x20(u'+'\x20-\x20v)\x20*\x20(u'+'\x20-\x20v);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20V1_,\x20V2_;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(d11\x20>\x20'+'d22)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20V2_\x20'+'=\x20d12\x20*\x20V1'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12*V2'+'\x20+\x20(e_max\x20'+'-\x20d22)*V1;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20V2_\x20=\x20d'+'12*V2\x20+\x20(e'+'_min\x20-\x20d22'+')*V1;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20e_max'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'b\x20=\x201.0\x20/\x20'+'e_min;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V1\x20=\x20'+'normalize('+'V1_);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20V2\x20=\x20n'+'ormalize(V'+'2_);\x0a\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20dot(V1'+',\x20V1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20b\x20=\x201'+'.0\x20/\x20dot(V'+'2,\x20V2);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20*'+'=\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20*=\x20sqrt('+'b);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'V3\x20=\x20norma'+'lize(cross'+'(V1,\x20V2));'+'\x0a\x20\x20\x20\x20if\x20(d'+'ot(C,\x20V3)\x20'+'<\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V3\x20*='+'\x20-1.0;\x0a\x0a\x20\x20'+'\x20\x20float\x20L\x20'+'\x20=\x20dot(V3,'+'\x20C);\x0a\x20\x20\x20\x20f'+'loat\x20x0\x20=\x20'+'dot(V1,\x20C)'+'\x20/\x20L;\x0a\x20\x20\x20\x20'+'float\x20y0\x20='+'\x20dot(V2,\x20C'+')\x20/\x20L;\x0a\x0a\x20\x20'+'\x20\x20float\x20E1'+'\x20=\x20inverse'+'sqrt(a);\x0a\x20'+'\x20\x20\x20float\x20E'+'2\x20=\x20invers'+'esqrt(b);\x0a'+'\x0a\x20\x20\x20\x20a\x20*=\x20'+'L\x20*\x20L;\x0a\x20\x20\x20'+'\x20b\x20*=\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20c0\x20=\x20a'+'\x20*\x20b;\x0a\x20\x20\x20\x20'+'float\x20c1\x20='+'\x20a\x20*\x20b\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0\x20+\x20y0\x20*'+'\x20y0)\x20-\x20a\x20-'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20c2\x20=\x201'+'.0\x20-\x20a\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0)\x20-\x20b\x20*'+'\x20(1.0\x20+\x20y0'+'\x20*\x20y0);\x0a\x20\x20'+'\x20\x20float\x20c3'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ro'+'ots\x20=\x20Solv'+'eCubic(vec'+'4(c0,\x20c1,\x20'+'c2,\x20c3));\x0a'+'\x20\x20\x20\x20float\x20'+'e1\x20=\x20roots'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20e2\x20=\x20r'+'oots.y;\x0a\x20\x20'+'\x20\x20float\x20e3'+'\x20=\x20roots.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20avgDir\x20='+'\x20vec3(a\x20*\x20'+'x0\x20/\x20(a\x20-\x20'+'e2),\x20b\x20*\x20y'+'0\x20/\x20(b\x20-\x20e'+'2),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'rotate\x20=\x20m'+'at3(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20L1\x20=\x20sqrt'+'(-e2\x20/\x20e3)'+';\x0a\x20\x20\x20\x20floa'+'t\x20L2\x20=\x20sqr'+'t(-e2\x20/\x20e1'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20formFa'+'ctor\x20=\x20max'+'(0.0,\x20L1\x20*'+'\x20L2\x20*\x20inve')+('rsesqrt((1'+'.0\x20+\x20L1\x20*\x20'+'L1)\x20*\x20(1.0'+'\x20+\x20L2\x20*\x20L2'+')));\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20const\x20'+'float\x20LUT_'+'SIZE\x20=\x2064.'+'0;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_SCALE\x20='+'\x20(\x20LUT_SIZ'+'E\x20-\x201.0\x20)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20float\x20LU'+'T_BIAS\x20=\x200'+'.5\x20/\x20LUT_S'+'IZE;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20tab'+'ulated\x20hor'+'izon-clipp'+'ed\x20sphere\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vec2(a'+'vgDir.z\x20*\x20'+'0.5\x20+\x200.5,'+'\x20formFacto'+'r);\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv*LUT_'+'SCALE\x20+\x20LU'+'T_BIAS;\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'cale\x20=\x20tex'+'ture2DLod('+'areaLights'+'LutTex2,\x20u'+'v,\x200.0).w;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20formFac'+'tor*scale;'+'\x0a}\x0a\x0a//\x20LTC'+'_EvaluateD'+'isk\x20in\x20som'+'e\x20rare\x20cas'+'es\x20generea'+'tes\x20NaN\x20va'+'lues\x20in\x20a\x20'+'or\x20b,\x20just'+'\x20before\x20\x27f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x27\x0a//'+'\x20Get\x20rid\x20o'+'f\x20those\x20Na'+'n\x20values\x20b'+'efore\x20they'+'\x20propagate'+'\x20further,\x20'+'as\x20in\x20case'+'\x20of\x20bloom\x20'+'/\x20DOF\x20blur'+'s\x20they\x0a//\x20'+'propagate\x20'+'to\x20large\x20a'+'reas.\x20I\x20di'+'dn\x27t\x20find\x20'+'the\x20actual'+'\x20reason\x20wh'+'ere\x20those\x20'+'come\x20from,'+'\x20so\x20that\x20i'+'s\x20still\x20TO'+'DO.\x0a//\x20Not'+'e\x20that\x20onl'+'y\x20disk/sph'+'ere\x20lights'+'\x20are\x20causi'+'ng\x20it,\x20so\x20'+'only\x20handl'+'e\x20those.\x0af'+'loat\x20FixNa'+'n(float\x20va'+'lue)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'value\x20!=\x20v'+'alue\x20?\x200.0'+'\x20:\x20value;\x20'+'\x20//\x20isnan\x20'+'does\x20not\x20t'+'ranspile\x20c'+'orrectly,\x20'+'use\x20a\x20work'+'around\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20isnan(va'+'lue)\x20?\x200.0'+'\x20:\x20value;\x0a')+('\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afloat\x20'+'getRectLig'+'htDiffuse('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm)\x20{\x0a\x20\x20'+'\x20\x20return\x20L'+'TC_Evaluat'+'eRect(\x20wor'+'ldNormal,\x20'+'viewDir,\x20v'+'PositionW,'+'\x20mat3(\x201.0'+'\x20),\x20dLTCCo'+'ords\x20);\x0a}\x0a'+'\x0afloat\x20get'+'DiskLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20FixN'+'an(LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mat3('+'\x201.0\x20),\x20dL'+'TCCoords\x20)'+');\x0a}\x0a\x0afloa'+'t\x20getSpher'+'eLightDiff'+'use(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm)\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20float\x20fa'+'lloff\x20=\x20dS'+'phereRadiu'+'s\x20/\x20(dot(l'+'ightDir,\x20l'+'ightDir)\x20+'+'\x20dSphereRa'+'dius);\x0a\x20\x20\x20'+'\x20return\x20Fi'+'xNan(getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNorm)\x20*\x20f'+'alloff);\x0a}'+'\x0a\x0amat3\x20get'+'LTCLightIn'+'vMat(vec2\x20'+'uv)\x0a{\x0a\x20\x20\x20\x20'+'vec4\x20t1\x20=\x20'+'texture2DL'+'od(areaLig'+'htsLutTex1'+',\x20uv,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3(\x20t1.x,\x20'+'0,\x20t1.y\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3(\x20\x20\x20\x200,'+'\x201,\x20\x20\x20\x200\x20)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3(\x20t1.z'+',\x200,\x20t1.w\x20'+')\x0a\x20\x20\x20\x20);\x0a}'+'\x0a\x0afloat\x20ca'+'lcRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir')+(',\x20vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20mat'+'3\x20mInv\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afl'+'oat\x20getRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'calcRectLi'+'ghtSpecula'+'r(worldNor'+'mal,\x20viewD'+'ir,\x20dLTCUV'+');\x0a}\x0a\x0afloa'+'t\x20calcDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20mInv'+'\x20=\x20getLTCL'+'ightInvMat'+'(uv);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'Inv,\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a\x0a'+'float\x20getS'+'phereLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a'),FP='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_metaln'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tMetalness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20metal'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20materi'+'al_metalne'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_METAL'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_METAL'+'NESS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_META'+'LNESS_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_VERTEX\x0a\x20\x20'+'\x20\x20metalnes'+'s\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_METALNES'+'S_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dMet'+'alness\x20=\x20m'+'etalness;\x0a'+'}\x0a',NP='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifndef'+'\x20LIT_MSDF_'+'TEXT_ATTRI'+'BUTE\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20shadow_co'+'lor;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20shadow_o'+'ffset;\x0a#el'+'se\x0a\x20\x20\x20\x20var'+'ying\x20vec4\x20'+'outline_co'+'lor;\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20outline'+'_thickness'+';\x0a\x20\x20\x20\x20vary'+'ing\x20vec4\x20s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'shadow_off'+'set;\x0a#endi'+'f\x0a\x0avec4\x20ap'+'plyMsdf(ve'+'c4\x20color)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Convert\x20to'+'\x20linear\x20sp'+'ace\x20before'+'\x20processin'+'g\x0a\x20\x20\x20\x20//\x20T'+'ODO:\x20ideal'+'ly\x20this\x20wo'+'uld\x20receiv'+'e\x20the\x20colo'+'r\x20in\x20linea'+'r\x20space,\x20b'+'ut\x20that\x20wo'+'uld\x20requir'+'e\x20larger\x20c'+'hanges\x0a\x20\x20\x20'+('\x20//\x20on\x20the'+'\x20engine\x20si'+'de,\x20with\x20t'+'he\x20way\x20pre'+'multiplied'+'\x20alpha\x20is\x20'+'handled\x20as'+'\x20well.\x0a\x20\x20\x20'+'\x20color.rgb'+'\x20=\x20gammaCo'+'rrectInput'+'(color.rgb'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20sample\x20th'+'e\x20field\x0a\x20\x20'+'\x20\x20vec3\x20tsa'+'mple\x20=\x20tex'+'ture2D(tex'+'ture_msdfM'+'ap,\x20vUv0).'+'rgb;\x0a\x20\x20\x20\x20v'+'ec2\x20uvShdw'+'\x20=\x20vUv0\x20-\x20'+'shadow_off'+'set;\x0a\x20\x20\x20\x20v'+'ec3\x20ssampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20uvShdw).r'+'gb;\x0a\x0a\x20\x20\x20\x20/'+'/\x20get\x20the\x20'+'signed\x20dis'+'tance\x20valu'+'e\x0a\x20\x20\x20\x20floa'+'t\x20sigDist\x20'+'=\x20median(t'+'sample.r,\x20'+'tsample.g,'+'\x20tsample.b'+');\x0a\x20\x20\x20\x20flo'+'at\x20sigDist'+'Shdw\x20=\x20med'+'ian(ssampl'+'e.r,\x20ssamp'+'le.g,\x20ssam'+'ple.b);\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20limi'+'t\x20-\x20smalle'+'r\x20value\x20ma'+'kes\x20for\x20sh'+'arper\x20but\x20'+'more\x20alias'+'ed\x20text,\x20e'+'specially\x20'+'on\x20angles\x0a'+'\x20\x20\x20\x20//\x20too'+'\x20large\x20val'+'ue\x20(0.5)\x20c'+'reates\x20a\x20d'+'ark\x20glow\x20a'+'round\x20the\x20'+'letters\x0a\x20\x20'+'\x20\x20float\x20sm'+'oothingMax'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20vec'+'2\x20w\x20=\x20fwid'+'th(vUv0);\x0a'+'\x20\x20\x20\x20float\x20'+'smoothing\x20'+'=\x20clamp(w.'+'x\x20*\x20font_t'+'extureWidt'+'h\x20/\x20font_p'+'xrange,\x200.'+'0,\x20smoothi'+'ngMax);\x0a\x0a\x20'+'\x20\x20\x20float\x20m'+'apMin\x20=\x200.'+'05;\x0a\x20\x20\x20\x20fl'+'oat\x20mapMax'+'\x20=\x20clamp(1'+'.0\x20-\x20font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20float\x20')+('sigDistInn'+'er\x20=\x20map(m'+'apMin,\x20map'+'Max,\x20sigDi'+'st);\x0a\x20\x20\x20\x20f'+'loat\x20sigDi'+'stOutline\x20'+'=\x20map(mapM'+'in,\x20mapMax'+',\x20sigDist\x20'+'+\x20outline_'+'thickness)'+';\x0a\x20\x20\x20\x20sigD'+'istShdw\x20=\x20'+'map(mapMin'+',\x20mapMax,\x20'+'sigDistShd'+'w\x20+\x20outlin'+'e_thicknes'+'s);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20cente'+'r\x20=\x200.5;\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20smoo'+'thing\x20and\x20'+'use\x20to\x20gen'+'erate\x20opac'+'ity\x0a\x20\x20\x20\x20fl'+'oat\x20inside'+'\x20=\x20smooths'+'tep(center'+'-smoothing'+',\x20center+s'+'moothing,\x20'+'sigDistInn'+'er);\x0a\x20\x20\x20\x20f'+'loat\x20outli'+'ne\x20=\x20smoot'+'hstep(cent'+'er-smoothi'+'ng,\x20center'+'+smoothing'+',\x20sigDistO'+'utline);\x0a\x20'+'\x20\x20\x20float\x20s'+'hadow\x20=\x20sm'+'oothstep(c'+'enter-smoo'+'thing,\x20cen'+'ter+smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20vec4\x20t'+'color\x20=\x20(o'+'utline\x20>\x20i'+'nside)\x20?\x20o'+'utline\x20*\x20v'+'ec4(outlin'+'e_color.a\x20'+'*\x20outline_'+'color.rgb,'+'\x20outline_c'+'olor.a)\x20:\x20'+'vec4(0.0);'+'\x0a\x20\x20\x20\x20tcolo'+'r\x20=\x20mix(tc'+'olor,\x20colo'+'r,\x20inside)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20scolor\x20='+'\x20(shadow\x20>'+'\x20outline)\x20'+'?\x20shadow\x20*'+'\x20vec4(shad'+'ow_color.a'+'\x20*\x20shadow_'+'color.rgb,'+'\x20shadow_co'+'lor.a)\x20:\x20t'+'color;\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(scolor'+',\x20tcolor,\x20'+'outline);\x0a'+'\x0a\x20\x20\x20\x20//\x20Co'+'nvert\x20back'+'\x20to\x20gamma\x20'+'space\x20befo'+'re\x20returni'+'ng\x0a\x20\x20\x20\x20tco'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctOutput(t'+'color.rgb)'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20return\x20tc'+'olor;\x0a}\x0a'),kP='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',UP='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20vec2\x20u'+'v0;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2DArra'+'y\x20morphTex'+'ture;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r[{MORPH_T'+'EXTURE_MAX'+'_COUNT}];\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20ui'+'nt\x20morphIn'+'dex[{MORPH'+'_TEXTURE_M'+'AX_COUNT}]'+';\x0a\x20\x20\x20\x20unif'+'orm\x20int\x20co'+'unt;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PH_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20aa'+'bbSize;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20highp\x20vec'+'3\x20color\x20=\x20'+'vec3(0,\x200,'+'\x200);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'pixelCoord'+'s\x20=\x20ivec2('+'uv0\x20*\x20vec2'+'(textureSi'+'ze(morphTe'+'xture,\x200).'+'xy));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20count;\x20'+'i++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20textur'+'eIndex\x20=\x20m'+'orphIndex['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20delta\x20=\x20t'+'exelFetch('+'morphTextu'+'re,\x20ivec3('+'pixelCoord'+'s,\x20int(tex'+'tureIndex)'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20+'+'=\x20morphFac'+'tor[i]\x20*\x20d'+'elta;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20MORPH_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20color\x20'+'=\x20(color\x20-'+'\x20aabbMin)\x20'+'/\x20aabbSize'+'\x20*\x2065535.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20u'+'vec4(color'+',\x201u);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(color,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a',BP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a',zP='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',VP='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',GP='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0a\x0a#ifdef\x20M'+'ORPHING_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20morphNor'+'malTex;\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'morphNorma'+'lTex;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0avec3\x20'+'getLocalNo'+'rmal(vec3\x20'+'vertexNorm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lNormal\x20=\x20'+'vertex_nor'+'mal;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_NORM'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphNormal'+'\x20=\x20vec3(te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz)\x20/'+'\x2065535.0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphNo'+'rmal\x20=\x20tex'+'elFetch(mo'+'rphNormalT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20localNor'+'mal\x20+=\x20mor'+'phNormal;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20localN'+'ormal;\x0a}\x0a\x0a'+'#if\x20define'+'d(SKIN)\x20||'+'\x20defined(B'+'ATCH)\x0a\x20\x20\x20\x20'+'mat3\x20getNo'+'rmalMatrix'+'(mat4\x20mode'+'lMatrix)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mat3'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20ma'+'t3\x20getNorm'+'alMatrix(m'+'at4\x20modelM'+'atrix)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20mat3(m'+'odelMatrix'+'[0].xyz,\x20m'+('odelMatrix'+'[1].xyz,\x20m'+'odelMatrix'+'[2].xyz);\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20mat3'+'\x20getNormal'+'Matrix(mat'+'4\x20modelMat'+'rix)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_n'+'ormal;\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'),HP='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_bumpin'+'ess;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_NORMAL'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20bl'+'endNormals'+'(vec3\x20n1,\x20'+'vec3\x20n2)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20https://'+'blog.selfs'+'hadow.com/'+'publicatio'+'ns/blendin'+'g-in-detai'+'l/#detail-'+'oriented\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20n1\x20'+'+=\x20vec3(0,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20n2\x20*'+'=\x20vec3(-1,'+'\x20-1,\x201);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20getNorm'+'al()\x20{\x0a#if'+'def\x20STD_NO'+'RMAL_TEXTU'+'RE\x0a\x20\x20\x20\x20vec'+'3\x20normalMa'+'p\x20=\x20{STD_N'+'ORMAL_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_NORMAL_TE'+'XTURE_NAME'+'},\x20{STD_NO'+'RMAL_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+');\x0a\x20\x20\x20\x20nor'+'malMap\x20=\x20m'+'ix(vec3(0.'+'0,\x200.0,\x201.'+'0),\x20normal'+'Map,\x20mater'+'ial_bumpin'+'ess);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMALDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20norm'+'alDetailMa'+'p\x20=\x20{STD_N'+'ORMALDETAI'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_NOR'+'MALDETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'NORMALDETA'+'IL_TEXTURE'+'_UV},\x20text'+'ureBias));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20blend'+'Normals(no'+'rmalMap,\x20n'+('ormalDetai'+'lMap);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20normalMap'+');\x0a#else\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20dVerte'+'xNormalW;\x0a'+'#endif\x0a}\x0a'),WP='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_OPACITY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20dAlpha\x20*='+'\x20texture2D'+'Bias({STD_'+'OPACITY_TE'+'XTURE_NAME'+'},\x20{STD_OP'+'ACITY_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20*=\x20c'+'lamp(vVert'+'exColor.{S'+'TD_OPACITY'+'_VERTEX_CH'+'ANNEL},\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',$P='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20vec4\x20b'+'lueNoiseJi'+'tter;\x0a\x0a#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BLUENOI'+'SE\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blueN'+'oiseTex32;'+'\x0a#endif\x0a\x0av'+'oid\x20opacit'+'yDither(fl'+'oat\x20alpha,'+'\x20float\x20id)'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BAYER8\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20bayer8('+'floor(mod('+'gl_FragCoo'+'rd.xy\x20+\x20bl'+'ueNoiseJit'+'ter.xy\x20+\x20i'+'d,\x208.0)))\x20'+'/\x2064.0;\x0a\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20==\x20'+'IGNNOISE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20based\x20'+'on\x20https:/'+'/www.iryok'+'u.com/next'+'-generatio'+'n-post-pro'+'cessing-in'+'-call-of-d'+'uty-advanc'+'ed-warfare'+'/\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'agic\x20=\x20vec'+'3(0.067110'+'56,\x200.0058'+'3715,\x2052.9'+'829189);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20fract'+'(magic.z\x20*'+'\x20fract(dot'+'(gl_FragCo'+'ord.xy\x20+\x20b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id,\x20magic.'+'xy)));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20convert\x20'+'the\x20noise\x20'+'to\x20linear\x20'+'space,\x20as\x20'+'that\x20is\x20sp'+'ecified\x20in'+('\x20sRGB\x20spac'+'e\x20(stores\x20'+'perceptual'+'\x20values)\x0a\x20'+'\x20\x20\x20noise\x20='+'\x20pow(noise'+',\x202.2);\x0a\x0a\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x20noise'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a}'+'\x0a'),XP='\x0a',qP='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20litArgs_'+'opacity;\x0a\x0a'+'#elif\x20LIT_'+'BLEND_TYPE'+'\x20==\x20PREMUL'+'TIPLIED\x0a\x0a\x20'+'\x20\x20\x20gl_Frag'+'Color.rgb\x20'+'*=\x20litArgs'+'_opacity;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.a\x20='+'\x20litArgs_o'+'pacity;\x0a\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x201.0'+';\x0a\x0a#endif\x0a',jP='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',YP='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEEN_'+'TEXTURE\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20{STD'+'_SHEEN_TEX'+'TURE_DECOD'+'E}(texture'+'2DBias({ST'+'D_SHEEN_TE'+'XTURE_NAME'+'},\x20{STD_SH'+'EEN_TEXTUR'+'E_UV},\x20tex'+'tureBias))'+'.{STD_SHEE'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_VERTEX\x0a'+'\x20\x20\x20\x20sheenC'+'olor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sSpec'+'ularity\x20=\x20'+'sheenColor'+';\x0a}\x0a',KP='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20*'+'=\x20texture2'+'DBias({STD'+'_SHEENGLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_SHEENGLO'+'SS_TEXTURE'+'_UV},\x20text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20*='+'\x20saturate('+'vVertexCol'+'or.{STD_SH'+'EENGLOSS_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_INVER'+'T\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x201.0\x20-\x20'+'sheenGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20sGlossi'+'ness\x20=\x20she'+'enGlossine'+'ss\x20+\x200.000'+'0001;\x0a}\x0a',ZP='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_H'+'EIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20he'+'ight\x20=\x20hei'+'ght\x20*\x20para'+'llaxScale\x20'+'-\x20parallax'+'Scale\x20*\x200.'+'5;\x0a\x20\x20\x20\x20vec'+'3\x20viewDirT'+'\x20=\x20dViewDi'+'rW\x20*\x20dTBN;'+'\x0a\x0a\x20\x20\x20\x20view'+'DirT.z\x20+=\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',QP='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20co'+'nst\x20uvec4\x20'+'shifts\x20=\x20u'+'vec4(16,\x208'+',\x200,\x2024);\x0a'+'\x20\x20\x20\x20uvec4\x20'+'col\x20=\x20(uve'+'c4(meshIns'+'tanceId)\x20>'+'>\x20shifts)\x20'+'&\x20uvec4(0x'+'ff);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'(col)\x20*\x20in'+'v;\x0a}\x0a',JP='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',e2='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x0a\x20\x20\x20\x20'+'vec2\x20direc'+'tion\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicT\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3(directi'+'on,\x200.0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cB\x20=\x20norma'+'lize(cross'+'(tbn[2],\x20a'+'nisotropic'+'T));\x0a\x0a\x20\x20\x20\x20'+'float\x20anis'+'otropy\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20vec3'+'\x20anisotrop'+'icDirectio'+'n\x20=\x20anisot'+'ropicB;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicTa'+'ngent\x20=\x20cr'+'oss(anisot'+'ropicDirec'+'tion,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicNorm'+'al\x20=\x20cross'+'(anisotrop'+'icTangent,'+'\x20anisotrop'+'icDirectio'+'n);\x0a\x20\x20\x20\x20fl'+'oat\x20bendFa'+'ctor\x20=\x201.0'+'\x20-\x20anisotr'+'opy\x20*\x20(1.0'+'\x20-\x20roughne'+'ss);\x0a\x20\x20\x20\x20f'+'loat\x20bendF'+'actor4\x20=\x20b'+'endFactor\x20'+'*\x20bendFact'+'or\x20*\x20bendF'+'actor\x20*\x20be'+'ndFactor;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'entNormal\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}\x0a',t2='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',s2='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20{re'+'flectionDe'+'code}(text'+'ureCube(te'+'xture_cube'+'Map,\x20looku'+'pVec));\x0a}\x0a'+'\x0avoid\x20addR'+'eflection('+'vec3\x20reflD'+'ir,\x20float\x20'+'gloss)\x20{\x20\x20'+'\x20\x0a\x20\x20\x20\x20dRef'+'lection\x20+='+'\x20vec4(calc'+'Reflection'+'(reflDir,\x20'+'gloss),\x20ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',i2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_envAtlas;'+'\x0a#endif\x0aun'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'flectivity'+';\x0a\x0avec3\x20ca'+'lcReflecti'+'on(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20cub'+'eMapProjec'+'t(reflDir)'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'Uv(dir);\x0a\x0a'+'\x20\x20\x20\x20//\x20cal'+'culate\x20rou'+'ghness\x20lev'+'el\x0a\x20\x20\x20\x20flo'+'at\x20level\x20='+'\x20saturate('+'1.0\x20-\x20glos'+'s)\x20*\x205.0;\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel\x20=\x20f'+'loor(level'+');\x0a\x20\x20\x20\x20flo'+'at\x20flevel\x20'+'=\x20level\x20-\x20'+'ilevel;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'arp\x20=\x20{ref'+'lectionCub'+'emapDecode'+'}(textureC'+'ube(textur'+'e_cubeMap,'+'\x20dir));\x0a\x20\x20'+'\x20\x20vec3\x20rou'+'ghA\x20=\x20{ref'+'lectionDec'+'ode}(textu'+'re2D(textu'+'re_envAtla'+'s,\x20mapRoug'+'hnessUv(uv'+',\x20ilevel))'+');\x0a\x20\x20\x20\x20vec'+'3\x20roughB\x20='+'\x20{reflecti'+'onDecode}('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',r2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_env'+'Atlas;\x0a#en'+'dif\x0aunifor'+'m\x20float\x20ma'+'terial_ref'+'lectivity;'+'\x0a\x0a//\x20calcu'+'late\x20mip\x20l'+'evel\x20for\x20s'+'hiny\x20refle'+'ction\x20give'+'n\x20equirect'+'\x20coords\x20uv'+'.\x0afloat\x20sh'+'inyMipLeve'+'l(vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20dx\x20=\x20dFd'+'x(uv);\x0a\x20\x20\x20'+'\x20vec2\x20dy\x20='+'\x20dFdy(uv);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20s'+'econd\x20dF\x20a'+'t\x20180\x20degr'+'ees\x0a\x20\x20\x20\x20ve'+'c2\x20uv2\x20=\x20v'+'ec2(fract('+'uv.x\x20+\x200.5'+'),\x20uv.y);\x0a'+'\x20\x20\x20\x20vec2\x20d'+'x2\x20=\x20dFdx('+'uv2);\x0a\x20\x20\x20\x20'+'vec2\x20dy2\x20='+'\x20dFdy(uv2)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'min\x20of\x20bot'+'h\x20sets\x20of\x20'+'dF\x20to\x20hand'+'le\x20discont'+'inuity\x20at\x20'+'the\x20azim\x20e'+'dge\x0a\x20\x20\x20\x20fl'+'oat\x20maxd\x20='+'\x20min(max(d'+'ot(dx,\x20dx)'+',\x20dot(dy,\x20'+'dy)),\x20max('+'dot(dx2,\x20d'+'x2),\x20dot(d'+'y2,\x20dy2)))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'0.5\x20*\x20log2'+'(maxd)\x20-\x201'+'.0\x20+\x20textu'+'reBias,\x200.'+'0,\x205.0);\x0a}'+'\x0a\x0avec3\x20cal'+'cReflectio'+'n(vec3\x20ref'+'lDir,\x20floa'+'t\x20gloss)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3(-1.'+'0,\x201.0,\x201.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20to'+'SphericalU'+'v(dir);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20roug'+'hness\x20leve'+'l\x0a\x20\x20\x20\x20floa'+'t\x20level\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20float\x20i'+'level\x20=\x20fl'+'oor(level)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'accessing\x20'+'the\x20shiny\x20'+'(top\x20level'+')\x20reflecti'+'on\x20-\x20perfo'+'rm\x20manual\x20'+'mipmap\x20loo'+'kup\x0a\x20\x20\x20\x20fl'+('oat\x20level2'+'\x20=\x20shinyMi'+'pLevel(uv\x20'+'*\x20atlasSiz'+'e);\x0a\x20\x20\x20\x20fl'+'oat\x20ilevel'+'2\x20=\x20floor('+'level2);\x0a\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v0,\x20uv1;\x0a\x20'+'\x20\x20\x20float\x20w'+'eight;\x0a\x20\x20\x20'+'\x20if\x20(ileve'+'l\x20==\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20mapS'+'hinyUv(uv,'+'\x20ilevel2);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v1\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x20level2\x20'+'-\x20ilevel2;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20acces'+'sing\x20rough'+'\x20reflectio'+'n\x20-\x20just\x20s'+'ample\x20the\x20'+'same\x20part\x20'+'twice\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'uv1\x20=\x20mapR'+'oughnessUv'+'(uv,\x20ileve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20weight\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'3\x20linearA\x20'+'=\x20{reflect'+'ionDecode}'+'(texture2D'+'(texture_e'+'nvAtlas,\x20u'+'v0));\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'rB\x20=\x20{refl'+'ectionDeco'+'de}(textur'+'e2D(textur'+'e_envAtlas'+',\x20uv1));\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near0\x20=\x20mi'+'x(linearA,'+'\x20linearB,\x20'+'weight);\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near1\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(line'+'ar0,\x20linea'+'r1,\x20level\x20'+'-\x20ilevel))'+';\x0a}\x0a\x0avoid\x20'+'addReflect'+'ion(vec3\x20r'+'eflDir,\x20fl'+'oat\x20gloss)'+'\x20{\x20\x20\x20\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20+=\x20vec4('+'calcReflec'+'tion(reflD'+'ir,\x20gloss)'+',\x20material'+'_reflectiv'+'ity);\x0a}\x0a'),a2='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'uniform\x20sa'+'mpler2D\x20te'+'xture_sphe'+'reMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20reflDir'+'V\x20=\x20(mat3('+'matrix_vie'+'w)\x20*\x20reflD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20m\x20=\x20'+'2.0\x20*\x20sqrt'+'(dot(reflD'+'irV.xy,\x20re'+'flDirV.xy)'+'\x20+\x20(reflDi'+'rV.z\x20+\x201.0'+')\x20*\x20(reflD'+'irV.z\x20+\x201.'+'0));\x0a\x20\x20\x20\x20v'+'ec2\x20sphere'+'MapUv\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(texture2'+'D(texture_'+'sphereMap,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0av'+'oid\x20addRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x20\x20\x20\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20+=\x20v'+'ec4(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20mate'+'rial_refle'+'ctivity);\x0a'+'}\x0a',n2='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',o2='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',l2='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bas'+'ed\x20on\x20the\x20'+'dispersion'+'\x20material\x20'+'property,\x20'+'calculate\x20'+'modified\x20r'+'efraction\x20'+'index\x20valu'+'es\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20for\x20R\x20'+'and\x20B\x20chan'+'nels\x20and\x20e'+'valuate\x20th'+'e\x20refracti'+'on\x20color\x20f'+'or\x20them.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20halfSpr'+'ead\x20=\x20(1.0'+'\x20/\x20refract'+'ionIndex\x20-')+('\x201.0)\x20*\x200.'+'025\x20*\x20disp'+'ersion;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20refract'+'ionIndexR\x20'+'=\x20refracti'+'onIndex\x20-\x20'+'halfSpread'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'refraction'+'Vector\x20=\x20n'+'ormalize(r'+'efract(-vi'+'ewDir,\x20wor'+'ldNormal,\x20'+'refraction'+'IndexR))\x20*'+'\x20scale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'action.r\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'xR).r;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20refracti'+'onIndexB\x20='+'\x20refractio'+'nIndex\x20+\x20h'+'alfSpread;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efractionV'+'ector\x20=\x20no'+'rmalize(re'+'fract(-vie'+'wDir,\x20worl'+'dNormal,\x20r'+'efractionI'+'ndexB))\x20*\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ction.b\x20=\x20'+'evalRefrac'+'tionColor('+'refraction'+'Vector,\x20gl'+'oss,\x20refra'+'ctionIndex'+'B).b;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Trans'+'mittance\x20i'+'s\x20our\x20fina'+'l\x20refracti'+'on\x20color\x0a\x20'+'\x20\x20\x20vec3\x20tr'+'ansmittanc'+'e;\x0a\x20\x20\x20\x20if\x20'+'(material_'+'invAttenua'+'tionDistan'+'ce\x20!=\x200.0)'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'attenuatio'+'n\x20=\x20-log(m'+'aterial_at'+'tenuation)'+'\x20*\x20materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans'+'mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20vec3'+'\x20fresnel\x20='+'\x20vec3(1.0)'+'\x20-\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot(')+('viewDir,\x20w'+'orldNormal'+'),\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20ref'+'raction\x20*\x20'+'transmitta'+'nce\x20*\x20fres'+'nel,\x20trans'+'mission);\x0a'+'}\x0a'),c2='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0a//\x20sourc'+'e\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20so'+'urceCube;\x0a'+'#else\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20so'+'urceTex;\x0a#'+'endif\x0a\x0a#if'+'def\x20USE_SA'+'MPLES_TEX\x0a'+'\x20\x20\x20\x20//\x20sam'+'ples\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20sam'+'plesTex;\x0a\x20'+'\x20\x20\x20uniform'+'\x20vec2\x20samp'+'lesTexInve'+'rseSize;\x0a#'+'endif\x0a\x0a//\x20'+'params:\x0a//'+'\x20x\x20-\x20targe'+'t\x20cubemap\x20'+'face\x200..6\x0a'+'//\x20y\x20-\x20tar'+'get\x20image\x20'+'total\x20pixe'+'ls\x0a//\x20z\x20-\x20'+'source\x20cub'+'emap\x20size\x0a'+'uniform\x20ve'+'c3\x20params;'+'\x0a\x0afloat\x20ta'+'rgetFace()'+'\x20{\x20return\x20'+'params.x;\x20'+'}\x0afloat\x20ta'+'rgetTotalP'+'ixels()\x20{\x20'+'return\x20par'+'ams.y;\x20}\x0af'+'loat\x20sourc'+'eTotalPixe'+'ls()\x20{\x20ret'+'urn\x20params'+'.z;\x20}\x0a\x0aflo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0a#i'+'nclude\x20\x22de'+'codePS\x22\x0a#i'+'nclude\x20\x22en'+'codePS\x22\x0a\x0a/'+'/--\x20suppor'+'ted\x20projec'+'tions\x0a\x0avec'+'3\x20modifySe'+'ams(vec3\x20d'+'ir,\x20float\x20'+'scale)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20ad'+'ir\x20=\x20abs(d'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20M\x20=\x20m'+'ax(max(adi'+'r.x,\x20adir.'+'y),\x20adir.z'+');\x0a\x20\x20\x20\x20ret'+'urn\x20dir\x20/\x20'+'M\x20*\x20vec3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.x\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20adir.y\x20'+'==\x20M\x20?\x201.0'+'\x20:\x20scale,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.z\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+('\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec3\x20f'+'romSpheric'+'al(vec2\x20uv'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec3('+'cos(uv.y)\x20'+'*\x20sin(uv.x'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'in(uv.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cos('+'uv.y)\x20*\x20co'+'s(uv.x));\x0a'+'}\x0a\x0avec3\x20ge'+'tDirection'+'Equirect()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20fromSp'+'herical((v'+'ec2(vUv0.x'+',\x201.0\x20-\x20vU'+'v0.y)\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20vec2(PI,\x20'+'PI\x20*\x200.5))'+';\x0a}\x0a\x0a//\x20oc'+'tahedral\x20c'+'ode,\x20based'+'\x20on\x20https:'+'//jcgt.org'+'/published'+'/0003/02/0'+'1/\x0a//\x20\x22Sur'+'vey\x20of\x20Eff'+'icient\x20Rep'+'resentatio'+'ns\x20for\x20Ind'+'ependent\x20U'+'nit\x20Vector'+'s\x22\x20by\x20Cigo'+'lle,\x20Donow'+',\x20Evangela'+'kos,\x20Mara,'+'\x20McGuire,\x20'+'Meyer\x0a\x0aflo'+'at\x20signNot'+'Zero(float'+'\x20k){\x0a\x20\x20\x20\x20r'+'eturn(k\x20>='+'\x200.0)\x20?\x201.'+'0\x20:\x20-1.0;\x0a'+'}\x0a\x0avec2\x20si'+'gnNotZero('+'vec2\x20v)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec2(sign'+'NotZero(v.'+'x),\x20signNo'+'tZero(v.y)'+');\x0a}\x0a\x0a//\x20R'+'eturns\x20a\x20u'+'nit\x20vector'+'.\x20Argument'+'\x20o\x20is\x20an\x20o'+'ctahedral\x20'+'vector\x20pac'+'ked\x20via\x20oc'+'tEncode,\x20o'+'n\x20the\x20[-1,'+'\x20+1]\x20squar'+'e\x0avec3\x20oct'+'Decode(vec'+'2\x20o)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20v\x20=\x20'+'vec3(o.x,\x20'+'1.0\x20-\x20abs('+'o.x)\x20-\x20abs'+'(o.y),\x20o.y'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20v.xz\x20=\x20('+'1.0\x20-\x20abs('+'v.zx))\x20*\x20s'+'ignNotZero'+'(v.xz);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lize(v);\x0a}'+'\x0a\x0avec3\x20get'+'DirectionO'+'ctahedral('+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20octDe'+'code(vec2(')+('vUv0.x,\x201.'+'0\x20-\x20vUv0.y'+')\x20*\x202.0\x20-\x20'+'1.0);\x0a}\x0a\x0a/'+'/\x20Assumes\x20'+'that\x20v\x20is\x20'+'a\x20unit\x20vec'+'tor.\x20The\x20r'+'esult\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'on\x20the\x20[-1'+',\x20+1]\x20squa'+'re\x0avec2\x20oc'+'tEncode(in'+'\x20vec3\x20v)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20vec2'+'\x20result\x20=\x20'+'v.xz\x20*\x20(1.'+'0\x20/\x20l1norm'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20result\x20='+'\x20(1.0\x20-\x20ab'+'s(result.y'+'x))\x20*\x20sign'+'NotZero(re'+'sult.xy);\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20res'+'ult;\x0a}\x0a\x0a//'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'///////\x0a\x0a#'+'ifdef\x20CUBE'+'MAP_SOURCE'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleCube'+'map(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureCu'+'be(sourceC'+'ube,\x20modif'+'ySeams(dir'+',\x201.0));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eCubemap(v'+'ec2\x20sph)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leCubemap('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleCubemap'+'(vec3\x20dir,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCubeLod(s'+'ourceCube,'+'\x20modifySea'+'ms(dir,\x201.'+'0),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleCub'+'emap(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleCubema'+'p(fromSphe'+'rical(sph)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eEquirect('+'vec2\x20sph)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'sph\x20/\x20vec2'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleEqu'+'irect(toSp'+'herical(di'+'r));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleEqu'+'irect(vec2'+'\x20sph,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20sph\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2DLo'+'d(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20sampleEq'+'uirect(toS'+'pherical(d'+'ir),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20o'+'ctEncode(d'+'ir)\x20*\x200.5\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Octahedral'+'(vec2\x20sph)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20octEn'+'code(dir)\x20'+'*\x200.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20te'+'xture2DLod'+'(sourceTex'+',\x20vec2(uv.'+'x,\x201.0\x20-\x20u'+'v.y),\x20mipL'+'evel);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20sampleO'+'ctahedral('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph),\x20')+('mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0avec3'+'\x20getDirect'+'ionCubemap'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20st\x20=\x20v'+'Uv0\x20*\x202.0\x20'+'-\x201.0;\x0a\x20\x20\x20'+'\x20float\x20fac'+'e\x20=\x20target'+'Face();\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ve'+'c;\x0a\x20\x20\x20\x20if\x20'+'(face\x20==\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(1,\x20-s'+'t.y,\x20-st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3(-1,\x20-st.'+'y,\x20st.x);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x202.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x201,\x20st'+'.y);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x203.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'-1,\x20-st.y)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(fac'+'e\x20==\x204.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec\x20=\x20vec3'+'(st.x,\x20-st'+'.y,\x201);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'-st.x,\x20-st'+'.y,\x20-1);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(mod'+'ifySeams(v'+'ec,\x201.0));'+'\x0a}\x0a\x0amat3\x20m'+'atrixFromV'+'ector(vec3'+'\x20n)\x20{\x20//\x20f'+'risvad\x0a\x20\x20\x20'+'\x20float\x20a\x20='+'\x201.0\x20/\x20(1.'+'0\x20+\x20n.z);\x0a'+'\x20\x20\x20\x20float\x20'+'b\x20=\x20-n.x\x20*'+'\x20n.y\x20*\x20a;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'1\x20=\x20vec3(1'+'.0\x20-\x20n.x\x20*'+'\x20n.x\x20*\x20a,\x20'+'b,\x20-n.x);\x0a'+'\x20\x20\x20\x20vec3\x20b'+'2\x20=\x20vec3(b'+',\x201.0\x20-\x20n.'+'y\x20*\x20n.y\x20*\x20'+'a,\x20-n.y);\x0a'+'\x20\x20\x20\x20return'+'\x20mat3(b1,\x20'+'b2,\x20n);\x0a}\x0a'+'\x0amat3\x20matr'+'ixFromVect'+'orSlow(vec'+'3\x20n)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20up\x20='+'\x20(1.0\x20-\x20ab'+'s(n.y)\x20<=\x20'+'0.0000001)'+'\x20?\x20vec3(0.'+'0,\x200.0,\x20n.'+'y\x20>\x200.0\x20?\x20'+'1.0\x20:\x20-1.0'+')\x20:\x20vec3(0'+'.0,\x201.0,\x200'+'.0);\x0a\x20\x20\x20\x20v'+'ec3\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20vec'+'3\x20y\x20=\x20cros')+('s(n,\x20x);\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(x,\x20y,'+'\x20n);\x0a}\x0a\x0ave'+'c4\x20reproje'+'ct()\x20{\x0a\x20\x20\x20'+'\x20if\x20({NUM_'+'SAMPLES}\x20<'+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20si'+'ngle\x20sampl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20{EN'+'CODE_FUNC}'+'({DECODE_F'+'UNC}({SOUR'+'CE_FUNC}({'+'TARGET_FUN'+'C}())));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multi\x20s'+'ample\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20t'+'\x20=\x20{TARGET'+'_FUNC}();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tu\x20=\x20dF'+'dx(t);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'tv\x20=\x20dFdy('+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(float\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'++u)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'v\x20=\x200.0;\x20v'+'\x20<\x20{NUM_SA'+'MPLES_SQRT'+'};\x20++v)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20{DEC'+'ODE_FUNC}('+'{SOURCE_FU'+'NC}(normal'+'ize(t\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20tu'+'\x20*\x20(u\x20/\x20{N'+'UM_SAMPLES'+'_SQRT}\x20-\x200'+'.5)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20tv\x20*'+'\x20(v\x20/\x20{NUM'+'_SAMPLES_S'+'QRT}\x20-\x200.5'+'))));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20({'+'NUM_SAMPLE'+'S_SQRT}\x20*\x20'+'{NUM_SAMPL'+'ES_SQRT}))'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0avec4\x20unpa'+'ckFloat\x20=\x20'+'vec4(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20void\x20'+'unpackSamp'+'le(int\x20i,\x20'+'out\x20vec3\x20L'+',\x20out\x20floa')+('t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x20(float(i'+'\x20*\x204)\x20+\x200.'+'5)\x20*\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x20(f'+'loor(u)\x20+\x20'+'0.5)\x20*\x20sam'+'plesTexInv'+'erseSize.y'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20raw;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.x\x20=\x20dot'+'(texture2D'+'(samplesTe'+'x,\x20vec2(u,'+'\x20v)),\x20unpa'+'ckFloat);\x20'+'u\x20+=\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'texture2D('+'samplesTex'+',\x20vec2(u,\x20'+'v)),\x20unpac'+'kFloat);\x20u'+'\x20+=\x20sample'+'sTexInvers'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.z\x20=\x20dot(t'+'exture2D(s'+'amplesTex,'+'\x20vec2(u,\x20v'+')),\x20unpack'+'Float);\x20u\x20'+'+=\x20samples'+'TexInverse'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20raw.'+'w\x20=\x20dot(te'+'xture2D(sa'+'mplesTex,\x20'+'vec2(u,\x20v)'+'),\x20unpackF'+'loat);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20L.xy'+'z\x20=\x20raw.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mipLeve'+'l\x20=\x20raw.w\x20'+'*\x208.0;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20convolve\x20'+'an\x20environ'+'ment\x20given'+'\x20pre-gener'+'ated\x20sampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamples()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L')+(',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level))\x20*\x20'+'L.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tot'+'alWeight\x20+'+'=\x20L.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20{ENCODE'+'_FUNC}(res'+'ult\x20/\x20tota'+'lWeight);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20unweig'+'hted\x20versi'+'on\x20of\x20pref'+'ilterSampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamplesUn'+'weighted()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20fl'+'oat({NUM_S'+'AMPLES}));'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20{PROCESS'+'_FUNC}();\x0a'+'}\x0a'),h2='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0auniform'+'\x20vec4\x20uvMo'+'d;\x0avarying'+'\x20vec2\x20vUv0'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(vertex_po'+'sition.xy\x20'+'*\x200.5\x20+\x200.'+'5)\x20*\x20uvMod'+'.xy\x20+\x20uvMo'+'d.zw);\x0a}\x0a',d2='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SCREENS'+'IZE\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#ifndef'+'\x20CAMERAPLA'+'NES\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20camera'+'_params;\x20/'+'/\x20x:\x201\x20/\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20\x20y:\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20z:\x20ca'+'mera_near,'+'\x20\x20\x20\x20\x20\x20\x20\x20w:'+'\x20is_ortho\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20lineariz'+'eDepth(flo'+'at\x20z)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'camera_par'+'ams.w\x20==\x200'+'.0)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(camera'+'_params.z\x20'+'*\x20camera_p'+'arams.y)\x20/'+'\x20(camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(camer'+'a_params.z'+'\x20-\x20camera_'+'params.y))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20camera'+'_params.z\x20'+'+\x20z\x20*\x20(cam'+'era_params'+'.y\x20-\x20camer'+'a_params.z'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0aflo'+'at\x20delinea'+'rizeDepth('+'float\x20line'+'arDepth)\x20{'+'\x0a\x20\x20\x20\x20if\x20(c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'(camera_pa'+'rams.y\x20*\x20('+'camera_par'+'ams.z\x20-\x20li'+'nearDepth)'+')\x20/\x20(linea'+'rDepth\x20*\x20('+'camera_par'+'ams.z\x20-\x20ca'+'mera_param'+'s.y));\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(line'+'arDepth\x20-\x20'+'camera_par'+'ams.z)\x20/\x20('+('camera_par'+'ams.y\x20-\x20ca'+'mera_param'+'s.z);\x0a\x20\x20\x20\x20'+'}\x0a}\x0a\x0a//\x20Re'+'trieves\x20re'+'ndered\x20lin'+'ear\x20camera'+'\x20depth\x20by\x20'+'UV\x0afloat\x20g'+'etLinearSc'+'reenDepth('+'vec2\x20uv)\x20{'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SCENE_DE'+'PTHMAP_LIN'+'EAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_FLOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2D(u'+'SceneDepth'+'Map,\x20uv).r'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20textu'+'reSize\x20=\x20t'+'extureSize'+'(uSceneDep'+'thMap,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20t'+'exel\x20=\x20ive'+'c2(uv\x20*\x20ve'+'c2(texture'+'Size));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20data\x20'+'=\x20texelFet'+'ch(uSceneD'+'epthMap,\x20t'+'exel,\x200);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(data.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(uint(d'+'ata.g\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20|\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.b\x20*\x20255.'+'0)\x20<<\x208u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(data.a\x20'+'*\x20255.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uintBitsTo'+'Float(intB'+'its);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20line'+'arizeDepth'+'(texture2D'+'(uSceneDep'+'thMap,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20float\x20'+'getLinearS'+'creenDepth'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20uv'+'\x20=\x20gl_Frag'+'Coord.xy\x20*'+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afloat\x20'+'getLinearD'+'epth(vec3\x20'+'pos)\x20{\x0a\x20\x20\x20'+'\x20return\x20-('+'matrix_vie'+'w\x20*\x20vec4(p'+'os,\x201.0)).'+'z;\x0a}\x0a'),f2='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avec3\x20'+'fadeShadow'+'(vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'CascadeDis'+'tances)\x20{\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20if\x20th'+'e\x20pixel\x20is'+'\x20past\x20the\x20'+'shadow\x20dis'+'tance,\x20rem'+'ove\x20shadow'+'\x0a\x20\x20\x20\x20//\x20th'+'is\x20enforce'+'s\x20straight'+'\x20line\x20inst'+'ead\x20of\x20cor'+'ner\x20of\x20sha'+'dow\x20which\x20'+'moves\x20when'+'\x20camera\x20ro'+'tates\x20\x20\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x20\x20'+'\x20\x20if\x20(dept'+'h\x20>\x20shadow'+'CascadeDis'+'tances.w)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'shadowCoor'+'d.z\x20=\x20-999'+'9999.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20shad'+'owCoord;\x0a}'+'\x0a'),u2='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+('\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a\x0a//\x20'+'------\x20VSM'+'\x2016\x20------'+'\x0a\x0afloat\x20VS'+'M16(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec2\x20'+'texCoords,'+'\x20float\x20res'+'olution,\x20f'+'loat\x20Z,\x20fl'+'oat\x20vsmBia'+'s,\x20float\x20e'+'xponent)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'moments\x20=\x20'+'texture2DL'+'od(tex,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM16('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM16(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM16(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20VSM16('+'TEXTURE_PA'+'SS(shadowM'+'ap),\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----')+('--\x0a\x0afloat\x20'+'VSM32(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20texCoord'+'s,\x20float\x20r'+'esolution,'+'\x20float\x20Z,\x20'+'float\x20vsmB'+'ias,\x20float'+'\x20exponent)'+'\x20{\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20CAPS_'+'TEXTURE_FL'+'OAT_FILTER'+'ABLE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2DLod'+'(tex,\x20texC'+'oords,\x200.0'+').xyz;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ma'+'nual\x20bilin'+'ear\x20filter'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pi'+'xelSize\x20=\x20'+'1.0\x20/\x20reso'+'lution;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20texC'+'oords\x20-=\x20v'+'ec2(pixelS'+'ize);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'00\x20=\x20textu'+'re2DLod(te'+'x,\x20texCoor'+'ds,\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20s10'+'\x20=\x20texture'+'2DLod(tex,'+'\x20texCoords'+'\x20+\x20vec2(pi'+'xelSize,\x200'+'),\x200.0).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20s01\x20'+'=\x20texture2'+'DLod(tex,\x20'+'texCoords\x20'+'+\x20vec2(0,\x20'+'pixelSize)'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20s11\x20='+'\x20texture2D'+'Lod(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20fr\x20=\x20frac'+'t(texCoord'+'s\x20*\x20resolu'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'h0\x20=\x20mix(s'+'00,\x20s10,\x20f'+'r.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20h'+'1\x20=\x20mix(s0'+'1,\x20s11,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20mi'+'x(h0,\x20h1,\x20'+'fr.y);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM32('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM32(T')+('EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM32(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20Z\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd.xy,\x20sha'+'dowParams.'+'x,\x20Z,\x20shad'+'owParams.y'+',\x20exponent'+');\x0a}\x0a'),p2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20textur'+'eShadow(sh'+'adowMap,\x20s'+'hadowCoord'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wSpotPCF1x'+'1(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSh'+'adow(shado'+'wMap,\x20shad'+'owCoord);\x0a'+'}\x0a\x0a//\x20----'+'-\x20Omni\x20Sam'+'pling\x20----'+'-\x0a\x0a#ifndef'+'\x20WEBGPU\x0a\x0af'+'loat\x20getSh'+'adowOmniPC'+'F1x1(sampl'+'erCubeShad'+'ow\x20shadowM'+'ap,\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20return'+'\x20texture(s'+'hadowMap,\x20'+'vec4(light'+'Dir,\x20shado'+'wZ));\x0a}\x0a\x0a#'+'endif\x0a',m2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x20\x0a\x20\x20'+'\x20\x20base_uv\x20'+'-=\x20vec2(0.'+'5);\x0a\x20\x20\x20\x20ba'+'se_uv\x20*=\x20s'+'hadowMapSi'+'zeInv;\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'uw0\x20=\x20(3.0'+'\x20-\x202.0\x20*\x20s'+');\x0a\x20\x20\x20\x20flo'+'at\x20uw1\x20=\x20('+'1.0\x20+\x202.0\x20'+'*\x20s);\x0a\x0a\x20\x20\x20'+'\x20float\x20u0\x20'+'=\x20(2.0\x20-\x20s'+')\x20/\x20uw0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20f'+'loat\x20u1\x20=\x20'+'s\x20/\x20uw1\x20+\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(3.0\x20-\x202'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20t)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20v0\x20=\x20(2'+'.0\x20-\x20t)\x20/\x20'+'vw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20v1\x20=\x20t\x20/\x20'+'vw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20u0\x20='+'\x20u0\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v0\x20=\x20v0\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u1\x20=\x20'+'u1\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'1\x20=\x20v1\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+('sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw0\x20*\x20v'+'w1\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u0,\x20v'+'1,\x20z));\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w1\x20*\x20vw1\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u1,\x20v1,\x20z'+'));\x0a\x0a\x20\x20\x20\x20s'+'um\x20*=\x201.0f'+'\x20/\x2016.0;\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF3x3('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'3x3(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0a//\x20-----'+'\x20Omni\x20Samp'+'ling\x20-----'+'\x0a\x0a#ifndef\x20'+'WEBGPU\x0a\x0afl'+'oat\x20getSha'+'dowOmniPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict')+('\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wOmniPCF3x'+'3(samplerC'+'ubeShadow\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowOmniP'+'CF3x3(shad'+'owMap,\x20sha'+'dowParams,'+'\x20lightDir)'+';\x0a}\x0a\x0a#endi'+'f\x0a'),_2='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20saturate'+'(sum);\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF5x5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F5x5(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado')+('wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF5'+'x5(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'),g2='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epthWithPa'+'rams(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20const\x20f'+'loat\x20PI\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa')+('dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam'+'pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec')+('4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow'+'Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowOm'+'niPCSS(sam'+'plerCube\x20s'+'hadowMap,\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'4\x20cameraPa'+'rams,\x20vec2'+'\x20shadowSea'+'rchArea,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SCube(shad'+'owMap,\x20sha'+'dowParams,'+'\x20shadowCoo'+'rd,\x20camera'+'Params,\x20sh'+'adowSearch'+'Area.x,\x20li'+'ghtDir);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'float\x20getS'+'hadowSpotP'+'CSS(TEXTUR'+'E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SS(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20cameraPar'+'ams,\x20shado'+'wSearchAre'+'a);\x0a}\x0a\x0a'),S2='\x0a\x0ahighp\x20fl'+'oat\x20fractS'+'inRand(con'+'st\x20in\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x20\x20\x20'+'\x20const\x20hig'+'hp\x20float\x20a'+'\x20=\x2012.9898'+',\x20b\x20=\x2078.2'+'33,\x20c\x20=\x2043'+'758.5453;\x0a'+'\x20\x20\x20\x20highp\x20'+'float\x20dt\x20='+'\x20dot(uv.xy'+',\x20vec2(a,\x20'+'b)),\x20sn\x20=\x20'+'mod(dt,\x20PI'+');\x0a\x20\x20\x20\x20ret'+'urn\x20fract('+'sin(sn)\x20*\x20'+'c);\x0a}\x0a\x0a//\x20'+'struct\x20to\x20'+'hold\x20preco'+'mputed\x20con'+'stants\x20and'+'\x20current\x20s'+'tate\x0astruc'+'t\x20VogelDis'+'kData\x20{\x0a\x20\x20'+'\x20\x20float\x20in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20initial'+'Angle;\x0a\x20\x20\x20'+'\x20float\x20cur'+'rentPointI'+'d;\x0a};\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'void\x20prepa'+'reDiskCons'+'tants(out\x20'+'VogelDiskD'+'ata\x20data,\x20'+'int\x20sample'+'Count,\x20flo'+'at\x20randomS'+'eed)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20pi2\x20=\x206'+'.283185307'+'18;\x0a\x20\x20\x20\x20da'+'ta.invNumS'+'amples\x20=\x201'+'.0\x20/\x20float'+'(sampleCou'+'nt);\x0a\x20\x20\x20\x20d'+'ata.initia'+'lAngle\x20=\x20r'+'andomSeed\x20'+'*\x20pi2;\x0a\x20\x20\x20'+'\x20data.curr'+'entPointId'+'\x20=\x200.0;\x0a}\x0a'+'\x0a\x0avec2\x20gen'+'erateDiskS'+'ample(inou'+'t\x20VogelDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'GOLDEN_ANG'+'LE\x20=\x202.399'+'963;\x0a\x20\x20\x20\x20f'+'loat\x20r\x20=\x20s'+'qrt((data.'+'currentPoi'+'ntId\x20+\x200.5'+')\x20*\x20data.i'+'nvNumSampl'+'es);\x0a\x20\x20\x20\x20f'+'loat\x20theta'+'\x20=\x20data.cu'+'rrentPoint'+'Id\x20*\x20GOLDE'+'N_ANGLE\x20+\x20'+'data.initi'+'alAngle;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20o'+'ffset\x20=\x20ve'+('c2(cos(the'+'ta),\x20sin(t'+'heta))\x20*\x20p'+'ow(r,\x201.33'+');\x0a\x0a\x20\x20\x20\x20da'+'ta.current'+'PointId\x20+='+'\x201.0;\x0a\x20\x20\x20\x20'+'return\x20off'+'set;\x0a}\x0a\x0avo'+'id\x20PCSSFin'+'dBlocker(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20out\x20'+'float\x20avgB'+'lockerDept'+'h,\x20out\x20int'+'\x20numBlocke'+'rs,\x0a\x20\x20\x20\x20ve'+'c2\x20shadowC'+'oords,\x20flo'+'at\x20z,\x20int\x20'+'shadowBloc'+'kerSamples'+',\x20float\x20pe'+'numbraSize'+',\x20float\x20in'+'vShadowMap'+'Size,\x20floa'+'t\x20randomSe'+'ed)\x20{\x0a\x0a\x20\x20\x20'+'\x20VogelDisk'+'Data\x20diskD'+'ata;\x0a\x20\x20\x20\x20p'+'repareDisk'+'Constants('+'diskData,\x20'+'shadowBloc'+'kerSamples'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'float\x20sear'+'chWidth\x20=\x20'+'penumbraSi'+'ze\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x20\x20\x20\x20flo'+'at\x20blocker'+'Sum\x20=\x200.0;'+'\x0a\x20\x20\x20\x20numBl'+'ockers\x20=\x200'+';\x0a\x0a\x20\x20\x20\x20for'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowBlocker'+'Samples;\x20+'+'+i\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'diskUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20sampleUV'+'\x20=\x20shadowC'+'oords\x20+\x20di'+'skUV\x20*\x20sea'+'rchWidth;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'MapDepth\x20='+'\x20texture2D'+'Lod(shadow'+'Map,\x20sampl'+'eUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(\x20shad'+'owMapDepth'+'\x20<\x20z\x20)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20blockerSu'+'m\x20+=\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers++;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20av'+'gBlockerDe'+'pth\x20=\x20bloc'+'kerSum\x20/\x20f'+'loat(numBl'+'ockers);\x0a}'+'\x0a\x0afloat\x20PC'+'SSFilter(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20uv,\x20float')+('\x20receiverD'+'epth,\x20int\x20'+'shadowSamp'+'les,\x20float'+'\x20filterRad'+'ius,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'VogelDiskD'+'ata\x20diskDa'+'ta;\x0a\x20\x20\x20\x20pr'+'epareDiskC'+'onstants(d'+'iskData,\x20s'+'hadowSampl'+'es,\x20random'+'Seed);\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20shadowS'+'amples;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20of'+'fsetUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x20text'+'ure2DLod(s'+'hadowMap,\x20'+'uv\x20+\x20offse'+'tUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sum\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20retu'+'rn\x20sum\x20/\x20f'+'loat(shado'+'wSamples);'+'\x0a}\x0a\x0afloat\x20'+'getPenumbr'+'a(float\x20db'+'locker,\x20fl'+'oat\x20drecei'+'ver,\x20float'+'\x20penumbraS'+'ize,\x20float'+'\x20penumbraF'+'alloff)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'dist\x20=\x20dre'+'ceiver\x20-\x20d'+'blocker;\x0a\x20'+'\x20\x20\x20float\x20p'+'enumbra\x20=\x20'+'1.0\x20-\x20pow('+'1.0\x20-\x20dist'+',\x20penumbra'+'Falloff);\x0a'+'\x20\x20\x20\x20return'+'\x20penumbra\x20'+'*\x20penumbra'+'Size;\x0a}\x0a\x0af'+'loat\x20PCSSD'+'irectional'+'(TEXTURE_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20vec4'+'\x20softShado'+'wParams)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20receiver'+'Depth\x20=\x20sh'+'adowCoords'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20random'+'Seed\x20=\x20fra'+'ctSinRand('+'gl_FragCoo'+'rd.xy);\x0a\x20\x20'+'\x20\x20int\x20shad'+'owSamples\x20'+'=\x20int(soft'+'ShadowPara'+'ms.x);\x0a\x20\x20\x20'+'\x20int\x20shado'+'wBlockerSa'+'mples\x20=\x20in'+'t(softShad')+('owParams.y'+');\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'aSize\x20=\x20so'+'ftShadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20float\x20pe'+'numbraFall'+'off\x20=\x20soft'+'ShadowPara'+'ms.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20normal'+'ized\x20inver'+'se\x20shadow\x20'+'map\x20size\x20t'+'o\x20preserve'+'\x20the\x20shado'+'w\x20softness'+'\x20regardles'+'s\x20of\x20the\x20s'+'hadow\x20reso'+'lution\x0a\x20\x20\x20'+'\x20int\x20shado'+'wMapSize\x20='+'\x20textureSi'+'ze(shadowM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20float\x20'+'invShadowM'+'apSize\x20=\x201'+'.0\x20/\x20float'+'(shadowMap'+'Size);\x0a\x20\x20\x20'+'\x20invShadow'+'MapSize\x20*='+'\x20float(sha'+'dowMapSize'+')\x20/\x202048.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'a;\x0a\x0a\x20\x20\x20\x20//'+'\x20contact\x20h'+'ardening\x20p'+'ath\x0a\x20\x20\x20\x20if'+'\x20(shadowBl'+'ockerSampl'+'es\x20>\x200)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20find\x20ave'+'rage\x20block'+'er\x20depth\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20avgBloc'+'kerDepth\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20nu'+'mBlockers\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20avgBlo'+'ckerDepth,'+'\x20numBlocke'+'rs,\x20shadow'+'Coords.xy,'+'\x20receiverD'+'epth,\x20shad'+'owBlockerS'+'amples,\x20pe'+'numbraSize'+',\x20invShado'+'wMapSize,\x20'+'randomSeed'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20out\x20when\x20'+'no\x20blocker'+'s\x20are\x20pres'+'ent\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(numB'+'lockers\x20<\x20'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x201.0f;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'penumbra\x20s'+'ize\x20is\x20bas'+'ed\x20on\x20the\x20'+'blocker\x20de'+'pth\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20penumbra'+'\x20=\x20getPenu'+'mbra(avgBl'+'ockerDepth'+',\x20shadowCo'+'ords.z,\x20pe'+'numbraSize'+',\x20penumbra')+('Falloff);\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'tant\x20filte'+'r\x20size,\x20no'+'\x20contact\x20h'+'ardening\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pen'+'umbra\x20=\x20pe'+'numbraSize'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ilterRadiu'+'s\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoords'+'.xy,\x20recei'+'verDepth,\x20'+'shadowSamp'+'les,\x20filte'+'rRadius,\x20r'+'andomSeed)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSSDirecti'+'onal(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20cameraP'+'arams,\x20sof'+'tShadowPar'+'ams);\x0a}\x0a\x0a'),y2='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0a\x0a'+'mat4\x20getBo'+'neMatrix(c'+'onst\x20in\x20fl'+'oat\x20indexF'+'loat)\x20{\x0a\x0a\x20'+'\x20\x20\x20int\x20wid'+'th\x20=\x20textu'+'reSize(tex'+'ture_poseM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20int\x20in'+'dex\x20=\x20int('+'indexFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x20\x20\x20\x20int'+'\x20iy\x20=\x20inde'+'x\x20/\x20width;'+'\x0a\x20\x20\x20\x20int\x20i'+'x\x20=\x20index\x20'+'%\x20width;\x0a\x0a'+'\x20\x20\x20\x20//\x20rea'+'d\x20elements'+'\x20of\x204x3\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20v1\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x200,'+'\x20iy),\x200);\x0a'+'\x20\x20\x20\x20vec4\x20v'+'2\x20=\x20texelF'+'etch(textu'+'re_poseMap'+',\x20ivec2(ix'+'\x20+\x201,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20v'+'ec4\x20v3\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x202,'+'\x20iy),\x200);\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',v2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0a\x0avoid\x20'+'getBoneMat'+'rix(const\x20'+'in\x20int\x20wid'+'th,\x20const\x20'+'in\x20int\x20ind'+'ex,\x20out\x20ve'+'c4\x20v1,\x20out'+'\x20vec4\x20v2,\x20'+'out\x20vec4\x20v'+'3)\x20{\x0a\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20in'+'dex\x20/\x20widt'+'h;\x0a\x20\x20\x20\x20int'+'\x20u\x20=\x20index'+'\x20%\x20width;\x0a'+'\x0a\x20\x20\x20\x20v1\x20=\x20'+'texelFetch'+'(texture_p'+'oseMap,\x20iv'+'ec2(u\x20+\x200,'+'\x20v),\x200);\x0a\x20'+'\x20\x20\x20v2\x20=\x20te'+'xelFetch(t'+'exture_pos'+'eMap,\x20ivec'+'2(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20v3\x20=\x20texe'+'lFetch(tex'+'ture_poseM'+'ap,\x20ivec2('+'u\x20+\x202,\x20v),'+'\x200);\x0a}\x0a\x0ama'+'t4\x20getSkin'+'Matrix(con'+'st\x20in\x20vec4'+'\x20indicesFl'+'oat,\x20const'+'\x20in\x20vec4\x20w'+'eights)\x20{\x0a'+'\x0a\x20\x20\x20\x20int\x20w'+'idth\x20=\x20tex'+'tureSize(t'+'exture_pos'+'eMap,\x200).x'+';\x0a\x20\x20\x20\x20ivec'+'4\x20indices\x20'+'=\x20ivec4(in'+'dicesFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20get\x204\x20bon'+'e\x20matrices'+'\x0a\x20\x20\x20\x20vec4\x20'+'a1,\x20a2,\x20a3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.x,\x20a1'+',\x20a2,\x20a3);'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20b1,\x20b2,\x20b'+'3;\x0a\x20\x20\x20\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y,\x20b'+'1,\x20b2,\x20b3)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20c1,\x20c2,\x20'+'c3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.z,\x20'+'c1,\x20c2,\x20c3'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20d1,\x20d2,'+'\x20d3;\x0a\x20\x20\x20\x20g'+'etBoneMatr'+'ix(width,\x20'+'indices.w,'+'\x20d1,\x20d2,\x20d'+'3);\x0a\x0a\x20\x20\x20\x20/'+'/\x20multiply'+'\x20them\x20by\x20w'+'eights\x20and'+'\x20add\x20up\x20to'+'\x20get\x20final'+'\x204x3\x20matri'+('x\x0a\x20\x20\x20\x20vec4'+'\x20v1\x20=\x20a1\x20*'+'\x20weights.x'+'\x20+\x20b1\x20*\x20we'+'ights.y\x20+\x20'+'c1\x20*\x20weigh'+'ts.z\x20+\x20d1\x20'+'*\x20weights.'+'w;\x0a\x20\x20\x20\x20vec'+'4\x20v2\x20=\x20a2\x20'+'*\x20weights.'+'x\x20+\x20b2\x20*\x20w'+'eights.y\x20+'+'\x20c2\x20*\x20weig'+'hts.z\x20+\x20d2'+'\x20*\x20weights'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20v3\x20=\x20a3'+'\x20*\x20weights'+'.x\x20+\x20b3\x20*\x20'+'weights.y\x20'+'+\x20c3\x20*\x20wei'+'ghts.z\x20+\x20d'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20add\x20up\x20'+'weights\x0a\x20\x20'+'\x20\x20float\x20on'+'e\x20=\x20dot(we'+'ights,\x20vec'+'4(1.0));\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.x'+',\x20v2.x,\x20v3'+'.x,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.y,'+'\x20v2.y,\x20v3.'+'y,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.z,\x20'+'v2.z,\x20v3.z'+',\x200,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20v1.w,\x20v'+'2.w,\x20v3.w,'+'\x20one\x0a\x20\x20\x20\x20)'+';\x0a}\x0a'),x2='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20float\x20v'+'LinearDept'+'h;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22floatAsUi'+'ntPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec3\x20vView'+'Dir;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20skyboxH'+'ighlightMu'+'ltiplier;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SKY_CUBE'+'MAP\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20texture'+'_cubeMap;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec3\x20v'+'WorldPos;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20project'+'edSkydomeC'+'enter;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#el'+'se\x20//\x20env-'+'atlas\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22spher'+'icalPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22envA'+'tlasPS\x22\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mipLe'+'vel;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20linear\x20d'+'epth\x20durin'+'g\x20prepass\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20flo'+'at2vec4(vL'+'inearDepth'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SK'+'Y_CUBEMAP\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SKYMES'+'H\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+('\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envDir\x20=\x20n'+'ormalize(v'+'WorldPos\x20-'+'\x20projected'+'SkydomeCen'+'ter);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20env'+'Dir\x20*\x20cube'+'MapRotatio'+'nMatrix;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20vViewD'+'ir;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir.x'+'\x20*=\x20-1.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20linear\x20=\x20'+'{SKYBOX_DE'+'CODE_FNC}('+'textureCub'+'e(texture_'+'cubeMap,\x20d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20vVie'+'wDir\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20toSph'+'ericalUv(n'+'ormalize(d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20mipLev'+'el)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20our\x20HDR'+'\x20encodes\x20v'+'alues\x20up\x20t'+'o\x2064,\x20so\x20a'+'llow\x20extra'+'\x20brightnes'+'s\x20for\x20the\x20'+'clipped\x20va'+'lues\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(any(great'+'erThanEqua'+'l(linear,\x20'+'vec3(64.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20skyboxHi'+'ghlightMul'+'tiplier;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(toneM'+'ap(process'+'Environmen'+'t(linear))'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20}'+'\x0a'),T2='\x0aattribute'+'\x20vec4\x20aPos'+'ition;\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tionSkybox'+';\x0auniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x0av'+'arying\x20vec'+'3\x20vViewDir'+';\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20//\x20'+'when\x20skydo'+'me\x20renders'+'\x20depth\x20dur'+'ing\x20prepas'+'s,\x20generat'+'e\x20linear\x20d'+'epth\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20vLinear'+'Depth;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20SKYMESH\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec3\x20vW'+'orldPos;\x0a#'+'endif\x0a\x0avoi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'mat4\x20view\x20'+'=\x20matrix_v'+'iew;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'MESH\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec4\x20w'+'orldPos\x20=\x20'+'matrix_mod'+'el\x20*\x20aPosi'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vWorld'+'Pos\x20=\x20worl'+'dPos.xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20PREPASS'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20linear\x20de'+'pth\x20from\x20t'+'he\x20worldPo'+'sition,\x20se'+'e\x20getLinea'+'rDepth\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vWorl'+'dPos,\x201.0)'+').z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20(view\x20*\x20'+'aPosition)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vViewDir\x20='+'\x20aPosition'+'.xyz\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20//\x20for\x20in'+'finite\x20sky'+'box,\x20use\x20n'+'egative\x20gl'+'_Position.'+'w\x20to\x20get\x20p'+'ositive\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vLinear'+'Depth\x20=\x20-g'+'l_Position'+'.w;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20Fo'+'rce\x20skybox'+'\x20to\x20far\x20Z,'+'\x20regardles'+'s\x20of\x20the\x20c'+'lip\x20planes'+'\x20on\x20the\x20ca'+'mera\x0a\x20\x20\x20\x20/'+'/\x20Subtract'+'\x20a\x20tiny\x20fu'+'dge\x20factor'+'\x20to\x20ensure'+'\x20floating\x20'+'point\x20erro'+'rs\x20don\x27t\x0a\x20'+'\x20\x20\x20//\x20stil'+'l\x20push\x20pix'+'els\x20beyond'+'\x20far\x20Z.\x20Se'+'e:\x0a\x20\x20\x20\x20//\x20'+'https://co'+'mmunity.kh'+'ronos.org/'+'t/skybox-p'+'roblem/618'+'57\x0a\x0a\x20\x20\x20\x20gl'+'_Position.'+'z\x20=\x20gl_Pos'+'ition.w\x20-\x20'+'1.0e-7;\x0a}\x0a'),w2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0auniform\x20v'+'ec3\x20materi'+'al_specula'+'r;\x0a#endif\x0a'+'\x0avoid\x20getS'+'pecularity'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20specul'+'arColor\x20=\x20'+'vec3(1,1,1'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20specularC'+'olor\x20*=\x20ma'+'terial_spe'+'cular;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'AR_TEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_SPECULAR_'+'TEXTURE_NA'+'ME},\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20textureB'+'ias)).{STD'+'_SPECULAR_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SPECU'+'LAR_VERTEX'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_S'+'PECULAR_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20spe'+'cularColor'+';\x0a}\x0a',E2='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'2\x20toSpheri'+'calUv(vec3'+'\x20dir)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PI\x20=\x203'+'.141592653'+'589793;\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20toSpheri'+'cal(dir)\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+';\x0a}\x0a',b2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_specula'+'rityFactor'+';\x0a#endif\x0a\x0a'+'void\x20getSp'+'ecularityF'+'actor()\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'specularit'+'yFactor\x20=\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULARI'+'TYFACTOR_C'+'ONSTANT\x0a\x20\x20'+'\x20\x20specular'+'ityFactor\x20'+'*=\x20materia'+'l_specular'+'ityFactor;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20t'+'exture2DBi'+'as({STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE_NAME},'+'\x20{STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_VERT'+'EX\x0a\x20\x20\x20\x20spe'+'cularityFa'+'ctor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SPECU'+'LARITYFACT'+'OR_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dSp'+'ecularityF'+'actor\x20=\x20sp'+'ecularityF'+'actor;\x0a}\x0a',A2='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',C2='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2(vUv0.'+'x,\x201.0\x20-\x20v'+'Uv0.y);\x0a',P2='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',M2='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20float\x20dAl'+'pha\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_o'+'pacityMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20global'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dAlbe'+'do;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dSpeculari'+'ty\x20=\x20vec3('+'0.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dGlossines'+'s\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20dT'+'ransmissio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dThicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SC'+'ENE_COLOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'uSceneColo'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SCREEN_SI'+'ZE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20uS'+'creenSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_TRAN'+'SFORMS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20matrix_v'+'iewProject'+'ion;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_mod'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20parallax\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20dUv'+'Offset;\x0a\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_he'+'ightMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20diffu'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20tex'+'ture_diffu'+'seMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_diffuseDe'+'tailMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_normal'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'NORMALDETA'+'IL_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_no'+'rmalDetail'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20refracti'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_THICKNES'+'S_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_thi'+'cknessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_REFRA'+'CTION_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_refractio'+'nMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20iridesc'+'ence\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_IRIDES'+'CENCE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20dIride'+'scence;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dIri'+'descenceTh')+('ickness;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_irides'+'cenceThick'+'nessMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_iridesce'+'nceMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20ccNorm'+'alW;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dAnisotro'+'py;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20&\x20glossin'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_OR_REFLE'+'CTION\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20sheen\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20sGloss'+'iness;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SHEEN'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_sheenM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_sh'+'eenGlossMa')+('p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20metalness'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dMet'+'alness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dIor;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_met'+'alnessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20dSpecula'+'rityFactor'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_speculari'+'tyFactorMa'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20specular\x20'+'color\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_specula'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20gloss\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_gl'+'ossMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dAo'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_aoM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_aoDeta'+'ilMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dEmis'+'sion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_EMISS'+'IVE_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_e'+'missiveMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'learcoat\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'EARCOAT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatG'+'lossMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'NORMAL_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_clea'+'rCoatNorma'+'lMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'anisotropy'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde')+('f\x20STD_ANIS'+'OTROPY_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_anis'+'otropyMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dLightma'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_LIGH'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_lightMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20front\x20'+'end\x20output'+'s\x20to\x20lit\x20s'+'hader\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'litShaderC'+'orePS\x22\x0a'),D2='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20voi'+'d\x20getSpecu'+'larity()\x20{'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20vec'+'3(1);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20g'+'loss\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22glo'+'ssPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20ao\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'aoPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'emissivePS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO')+('AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22clear'+'CoatPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatG'+'lossPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatN'+'ormalPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20anis'+'otropy\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ani'+'sotropyPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(STD'+'_LIGHTMAP)'+'\x20||\x20define'+'d(STD_LIGH'+'T_VERTEX_C'+'OLOR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20void\x20eval'+'uateFronte'+'nd()\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIT'+'_BLEND_TYP'+'E\x20!=\x20NONE\x20'+'||\x20defined'+'(LIT_ALPHA'+'_TEST)\x20||\x20'+'defined(LI'+'T_ALPHA_TO'+'_COVERAGE)'+'\x20||\x20STD_OP'+'ACITY_DITH'+'ER\x20!=\x20NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getOpac'+'ity();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_ALPH'+'A_TEST)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alphaT'+'est(dAlpha'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(dAlp'+'ha,\x200.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'opacity\x20=\x20'+'dAlpha;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20pa'+'rallax\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'HEIGHT_MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Parallax()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Albedo();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20d'+'Albedo;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20normal'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getNorm'+'al();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'worldNorma'+'l\x20=\x20dNorma'+'lW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_REFRACT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getRefract'+'ion();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_transmiss'+'ion\x20=\x20dTra'+'nsmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tThickness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_th'+'ickness\x20=\x20'+'dThickness'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_d'+'ispersion\x20'+'=\x20material'+'_dispersio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20iridescen'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_IRID'+'ESCENCE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getIri'+'descence()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tIridescen'+'ceThicknes'+'s();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_i'+'ridescence'+'_intensity'+'\x20=\x20dIrides'+'cence;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_iridescen'+'ce_thickne'+'ss\x20=\x20dIrid'+'escenceThi'+'ckness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('//\x20specula'+'rity\x20&\x20glo'+'ssiness\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR_'+'OR_REFLECT'+'ION\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getShee'+'n();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_sheen_s'+'pecularity'+'\x20=\x20sSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'SheenGloss'+'iness();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_she'+'en_gloss\x20='+'\x20sGlossine'+'ss;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20met'+'alness\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getMet'+'alness();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_me'+'talness\x20=\x20'+'dMetalness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getIor()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior\x20=\x20dIor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20specu'+'larity\x20fac'+'tor\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rityFactor'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ityFactor\x20'+'=\x20dSpecula'+'rityFactor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20gloss'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rity();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20dSpe'+'cularity;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss\x20'+'=\x20dGlossin')+('ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getAO'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ao'+'\x20=\x20dAo;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getEmi'+'ssion();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_e'+'mission\x20=\x20'+'dEmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cle'+'arcoat\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getC'+'learCoat()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tClearCoat'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getClearCo'+'atNormal()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20=\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_g'+'loss\x20=\x20ccG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_clear'+'coat_world'+'Normal\x20=\x20c'+'cNormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20aniso'+'tropy\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x20&&\x20def'+'ined(LIT_L'+'IGHTING)\x20&'+'&\x20defined('+'LIT_GGX_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getAni'+'sotropy();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20ligh'+'tmap\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(S'+'TD_LIGHTMA'+'P)\x20||\x20defi'+'ned(STD_LI'+'GHT_VERTEX'+'_COLOR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htMap();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_lightma'+'p\x20=\x20dLight'+'map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_lightm'+'apDir\x20=\x20dL'+'ightmapDir'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a'),I2='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20tbnBasis'+';\x0a#endif\x0a\x0a'+'void\x20getTB'+'N(vec3\x20tan'+'gent,\x20vec3'+'\x20binormal,'+'\x20vec3\x20norm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TB'+'N_TANGENTS'+'\x20//\x20tangen'+'ts\x20/\x20binor'+'mals\x20based'+'\x20TBN\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(tang'+'ent),\x20norm'+'alize(bino'+'rmal),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(TBN_'+'DERIVATIVE'+'S)\x20//\x20deri'+'vatives\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20{li'+'ghtingUv};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20get\x20edg'+'e\x20vectors\x20'+'of\x20the\x20pix'+'el\x20triangl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dp1\x20='+'\x20dFdx(\x20vPo'+'sitionW\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dp2\x20=\x20'+'dFdy(\x20vPos'+'itionW\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20duv2\x20'+'=\x20dFdy(\x20uv'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20solv'+'e\x20the\x20line'+'ar\x20system\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20dp2perp'+'\x20=\x20cross(\x20'+'dp2,\x20norma'+'l\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dp'+'1perp\x20=\x20cr'+'oss(\x20norma'+'l,\x20dp1\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+'dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+('ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'nom\x20=\x20max('+'\x20dot(T,T),'+'\x20dot(B,B)\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20inv'+'max\x20=\x20(den'+'om\x20==\x200.0)'+'\x20?\x200.0\x20:\x20t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20object'+'\x20space\x20TBN'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20B\x20=\x20c'+'ross(norma'+'l,\x20vObject'+'SpaceUpW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20T\x20=\x20cr'+'oss(normal'+',\x20B);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(d'+'ot(B,B)==0'+'.0)\x20//\x20dea'+'l\x20with\x20cas'+'e\x20when\x20vOb'+'jectSpaceU'+'pW\x20normal\x20'+'are\x20parall'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20major=max'+'(max(norma'+'l.x,\x20norma'+'l.y),\x20norm'+'al.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(normal'+'.x\x20==\x20majo'+'r)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20B\x20=\x20cro'+'ss(normal,'+'\x20vec3(0,1,'+'0));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20T\x20=\x20cross'+'(normal,\x20B'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x20if\x20(no'+'rmal.y\x20==\x20'+'major)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B\x20='+'\x20cross(nor'+'mal,\x20vec3('+'0,0,1));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20if'+'\x20(normal.z'+'\x20==\x20major)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20B\x20=\x20cross'+'(normal,\x20v'+'ec3(1,0,0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(T),\x20'+'normalize('+'B),\x20normal'+'ize(normal'+'));\x0a\x0a\x20\x20\x20\x20#')+'endif\x0a}\x0a',L2='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_thickn'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tThickness'+'()\x20{\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_THICKNE'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dThi'+'ckness\x20*=\x20'+'material_t'+'hickness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_THI'+'CKNESS_TEX'+'TURE\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20texture'+'2DBias({ST'+'D_THICKNES'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_THICKNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_TH'+'ICKNESS_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',R2='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',O2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',F2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',N2='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',k2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',U2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',B2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',z2='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',V2='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sc'+'reenPos\x20=\x20'+'vec4(verte'+'x_texCoord'+'1.xy\x20*\x202.0'+'\x20-\x201.0,\x200.'+'5,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20WEBGPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20SCREENSP'+'ACE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.y\x20*='+'\x20projectio'+'nFlipY;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PIX'+'ELSNAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20snap\x20ver'+'tex\x20to\x20a\x20p'+'ixel\x20bound'+'ary\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x200.5'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.xy\x20*=\x20uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'ScreenSize'+'.zw;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x202.'+'0)\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}')+('\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),G2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifdef\x20MORP'+'HING\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20morph_te'+'x_params;\x0a'+'\x20\x20\x20\x20attrib'+'ute\x20uint\x20m'+'orph_verte'+'x_id;\x0a\x0a\x20\x20\x20'+'\x20ivec2\x20get'+'TextureMor'+'phCoords()'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20turn\x20'+'morph_vert'+'ex_id\x20into'+'\x20int\x20grid\x20'+'coordinate'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ivec2\x20text'+'ureSize\x20=\x20'+'ivec2(morp'+'h_tex_para'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20mor'+'phGridV\x20=\x20'+'int(morph_'+'vertex_id)'+'\x20/\x20texture'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'morphGridU'+'\x20=\x20int(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20flipY\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20morphGrid'+'V\x20=\x20textur'+'eSize.y\x20-\x20'+'morphGridV'+'\x20-\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ivec'+'2(morphGri'+'dU,\x20morphG'+'ridV);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec3\x20aabb'+'Size;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'usampler2D'+'\x20morphPosi'+'tionTex;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20highp\x20s'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a#ifdef\x20de'+'fined(BATC'+'H)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ski'+'nBatchVS\x22\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getBon'+'eMatrix(ve'+'rtex_boneI'+'ndices);\x0a\x20'+'\x20\x20\x20}\x0a\x0a#eli'+'f\x20defined('+'SKIN)\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20get'+'SkinMatrix'+'(vertex_bo'+'neIndices,'+'\x20vertex_bo'+'neWeights)'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'elif\x20defin'+'ed(INSTANC'+'ING)\x0a\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'transformI'+'nstancingV'+'S\x22\x0a\x0a#else\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20matrix'+'_model;\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tLocalPosi'+'tion(vec3\x20'+'vertexPosi'+'tion)\x20{\x0a\x0a\x20'+'\x20\x20\x20vec3\x20lo'+'calPos\x20=\x20v'+'ertexPosit'+'ion;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'morphUV\x20=\x20'+'getTexture'+'MorphCoord'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPHING_'+'INT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20vec3(tex'+'elFetch(mo'+'rphPositio'+'nTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x20aabbSize'+'\x20+\x20aabbMin'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphPo'+'s\x20=\x20texelF'+'etch(morph'+'PositionTe'+'x,\x20ivec2(m'+'orphUV),\x200'+').xyz;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20localPos\x20'+'+=\x20morphPo'+'s;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20loc'+'alPos;\x0a}\x0a\x0a'),H2='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',W2='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_refr'+'action;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getRefrac'+'tion()\x20{\x0a\x20'+'\x20\x20\x20float\x20r'+'efraction\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_RE'+'FRACTION_T'+'EXTURE\x0a\x20\x20\x20'+'\x20refractio'+'n\x20*=\x20textu'+'re2DBias({'+'STD_REFRAC'+'TION_TEXTU'+'RE_NAME},\x20'+'{STD_REFRA'+'CTION_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_REF'+'RACTION_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_VERTEX'+'\x0a\x20\x20\x20\x20refra'+'ction\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_REFR'+'ACTION_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dTransmis'+'sion\x20=\x20ref'+'raction;\x0a}'+'\x0a',$2='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',X2='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20vec2\x20ge'+'tUv0()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20ver'+'tex_positi'+'on.xz;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20o'+'ffset\x20inne'+'r\x20vertices'+'\x20inside\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20('+'original\x20v'+'ertices\x20mu'+'st\x20be\x20in\x20['+'-1;1]\x20rang'+'e)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20n'+'egativeUni'+'tOffset\x20=\x20'+'clamp(-ver'+'tex_positi'+'on.xz,\x20vec'+'2(0.0),\x20ve'+'c2(1.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20-0.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20atlasRe'+'ct.zw\x20+\x20at'+'lasRect.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uv;\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20vec2'+'\x20getUv0()\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a',q2='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',j2='\x0avUV{TRANS'+'FORM_UV_{i'+'}}_{TRANSF'+'ORM_ID_{i}'+'}\x20=\x20vec2(\x0a'+'\x20\x20\x20\x20dot(ve'+'c3(uv{TRAN'+'SFORM_UV_{'+'i}},\x201),\x20{'+'TRANSFORM_'+'NAME_{i}}0'+'),\x0a\x20\x20\x20\x20dot'+'(vec3(uv{T'+'RANSFORM_U'+'V_{i}},\x201)'+',\x20{TRANSFO'+'RM_NAME_{i'+'}}1)\x0a);\x0a',Y2='\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}0;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}1;'+'\x0a',K2='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',Z2={'alphaTestPS':YC,'ambientPS':KC,'anisotropyPS':ZC,'aoPS':QC,'aoDiffuseOccPS':JC,'aoSpecOccPS':e1,'bakeDirLmEndPS':t1,'bakeLmEndPS':s1,'basePS':i1,'baseNineSlicedPS':r1,'baseNineSlicedTiledPS':a1,'bayerPS':n1,'blurVSMPS':o1,'clearCoatPS':l1,'clearCoatGlossPS':c1,'clearCoatNormalPS':h1,'clusteredLightCookiesPS':f1,'clusteredLightShadowsPS':u1,'clusteredLightUtilsPS':d1,'clusteredLightPS':p1,'combinePS':m1,'cookieBlit2DPS':_1,'cookieBlitCubePS':g1,'cookieBlitVS':S1,'cookiePS':y1,'cubeMapProjectPS':v1,'cubeMapRotatePS':x1,'debugOutputPS':T1,'debugProcessFrontendPS':w1,'detailModesPS':b1,'diffusePS':A1,'decodePS':E1,'emissivePS':C1,'encodePS':P1,'endPS':M1,'envAtlasPS':D1,'envProcPS':I1,'falloffInvSquaredPS':L1,'falloffLinearPS':R1,'floatAsUintPS':O1,'fogPS':F1,'fresnelSchlickPS':N1,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':k1,'gammaPS':U1,'gles3PS':Vy,'gles3VS':Gy,'glossPS':B1,'gsplatCenterVS':z1,'gsplatCornerVS':K1,'gsplatColorVS':V1,'gsplatCommonVS':G1,'gsplatCompressedDataVS':H1,'gsplatCompressedSHVS':W1,'gsplatEvalSHVS':$1,'gsplatQuatToMat3VS':X1,'gsplatSogsColorVS':q1,'gsplatSogsDataVS':j1,'gsplatSogsSHVS':Y1,'gsplatDataVS':Z1,'gsplatOutputVS':Q1,'gsplatPS':J1,'gsplatSHVS':eP,'gsplatSourceVS':tP,'gsplatVS':sP,'quadVS':iP,'immediateLinePS':rP,'immediateLineVS':aP,'iridescenceDiffractionPS':nP,'iridescencePS':oP,'iridescenceThicknessPS':lP,'iorPS':cP,'lightDeclarationPS':hP,'lightDiffuseLambertPS':dP,'lightDirPointPS':fP,'lightEvaluationPS':uP,'lightFunctionLightPS':pP,'lightFunctionShadowPS':mP,'lightingPS':_P,'lightmapAddPS':gP,'lightmapPS':SP,'lightSpecularAnisoGGXPS':yP,'lightSpecularBlinnPS':vP,'lightSheenPS':xP,'linearizeDepthPS':TP,'litForwardBackendPS':wP,'litForwardDeclarationPS':EP,'litForwardMainPS':bP,'litForwardPostCodePS':AP,'litForwardPreCodePS':CP,'litMainPS':PP,'litMainVS':MP,'litOtherMainPS':DP,'litShaderArgsPS':IP,'litShaderCorePS':LP,'litShadowMainPS':RP,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':OP,'metalnessPS':FP,'metalnessModulatePS':kP,'morphPS':UP,'morphVS':BP,'msdfPS':NP,'msdfVS':zP,'normalVS':VP,'normalCoreVS':GP,'normalMapPS':HP,'opacityPS':WP,'opacityDitherPS':$P,'outputPS':XP,'outputAlphaPS':qP,'outputTex2DPS':jP,'sheenPS':YP,'sheenGlossPS':KP,'parallaxPS':ZP,'pickPS':QP,'reflDirPS':JP,'reflDirAnisoPS':e2,'reflectionCCPS':t2,'reflectionCubePS':s2,'reflectionEnvHQPS':i2,'reflectionEnvPS':r2,'reflectionSpherePS':a2,'reflectionSheenPS':n2,'refractionCubePS':o2,'refractionDynamicPS':l2,'reprojectPS':c2,'reprojectVS':h2,'screenDepthPS':d2,'shadowCascadesPS':f2,'shadowEVSMPS':u2,'shadowPCF1PS':p2,'shadowPCF3PS':m2,'shadowPCF5PS':_2,'shadowPCSSPS':g2,'shadowSoftPS':S2,'skinBatchVS':y2,'skinVS':v2,'skyboxPS':x2,'skyboxVS':T2,'specularPS':w2,'sphericalPS':E2,'specularityFactorPS':b2,'spotPS':A2,'startNineSlicedPS':C2,'startNineSlicedTiledPS':P2,'stdDeclarationPS':M2,'stdFrontEndPS':D2,'TBNPS':I2,'thicknessPS':L2,'tonemappingPS':R2,'tonemappingAcesPS':O2,'tonemappingAces2PS':F2,'tonemappingFilmicPS':N2,'tonemappingHejlPS':k2,'tonemappingLinearPS':U2,'tonemappingNeutralPS':B2,'tonemappingNonePS':z2,'transformVS':V2,'transformCoreVS':G2,'transformInstancingVS':H2,'transmissionPS':W2,'twoSidedLightingPS':$2,'uv0VS':X2,'uv1VS':q2,'uvTransformVS':j2,'uvTransformUniformsPS':Y2,'viewDirPS':K2,'webgpuPS':Hy,'webgpuVS':Wy},Q2='\x0auniform\x20a'+'lpha_ref:\x20'+'f32;\x0a\x0afn\x20a'+'lphaTest(a'+':\x20f32)\x20{\x0a\x20'+'\x20\x20\x20if\x20(a\x20<'+'\x20uniform.a'+'lpha_ref)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',J2='\x0a\x0a#if\x20LIT_'+'AMBIENT_SO'+'URCE\x20==\x20AM'+'BIENTSH\x0a\x20\x20'+'\x20\x20uniform\x20'+'ambientSH:'+'\x20array<vec'+'3f,\x209>;\x0a#e'+'ndif\x0a\x0a#if\x20'+'LIT_AMBIEN'+'T_SOURCE\x20='+'=\x20ENVALATL'+'AS\x0a\x20\x20\x20\x20#in'+'clude\x20\x22env'+'AtlasPS\x22\x0a\x0a'+'\x20\x20\x20\x20#ifnde'+'f\x20ENV_ATLA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_en'+'vAtlas:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_envAt'+'lasSampler'+':\x20sampler;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'fn\x20addAmbi'+'ent(worldN'+'ormal:\x20vec'+'3f)\x20{\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20A'+'MBIENTSH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20n:\x20vec3f'+'\x20=\x20cubeMap'+'Rotate(wor'+'ldNormal);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20color:\x20'+'vec3f\x20=\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[0]'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[1]\x20*\x20n.'+'x\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm.ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form.ambie'+'ntSH[3]\x20*\x20'+'n.z\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform.ambi'+'entSH[4]\x20*'+'\x20n.x\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[5]\x20*\x20n.'+'z\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform.'+'ambientSH['+'6]\x20*\x20n.y\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform.amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[8]'+'\x20*\x20(n.x\x20*\x20'+'n.x\x20-\x20n.y\x20'+'*\x20n.y);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20proces'+'sEnvironme'+'nt(max(col'+'or,\x20vec3f('+'0.0)));\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+('\x20ENVALATLA'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3f(-1.0,\x201'+'.0,\x201.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20mapUv'+'(toSpheric'+'alUv(dir),'+'\x20vec4f(128'+'.0,\x20256.0\x20'+'+\x20128.0,\x206'+'4.0,\x2032.0)'+'\x20/\x20atlasSi'+'ze);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20ra'+'w:\x20vec4f\x20='+'\x20textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20uv'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20linea'+'r:\x20vec3f\x20='+'\x20{ambientD'+'ecode}(raw'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(lin'+'ear);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20C'+'ONSTANT\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20unifor'+'m.light_gl'+'obalAmbien'+'t;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),eM='\x0a#ifdef\x20LI'+'T_GGX_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_anis'+'otropyInte'+'nsity:\x20f32'+';\x0a\x20\x20\x20\x20unif'+'orm\x20materi'+'al_anisotr'+'opyRotatio'+'n:\x20vec2f;\x0a'+'#endif\x0a\x0afn'+'\x20getAnisot'+'ropy()\x20{\x0a\x20'+'\x20\x20\x20dAnisot'+'ropy\x20=\x200.0'+';\x0a\x20\x20\x20\x20dAni'+'sotropyRot'+'ation\x20=\x20ve'+'c2f(1.0,\x200'+'.0);\x0a\x0a#ifd'+'ef\x20LIT_GGX'+'_SPECULAR\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20=\x20un'+'iform.mate'+'rial_aniso'+'tropyInten'+'sity;\x0a\x20\x20\x20\x20'+'dAnisotrop'+'yRotation\x20'+'=\x20uniform.'+'material_a'+'nisotropyR'+'otation;\x0a#'+'endif\x0a\x0a#if'+'def\x20STD_AN'+'ISOTROPY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyTex:\x20'+'vec3f\x20=\x20te'+'xtureSampl'+'eBias({STD'+'_ANISOTROP'+'Y_TEXTURE_'+'NAME},\x20{ST'+'D_ANISOTRO'+'PY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'ANISOTROPY'+'_TEXTURE_U'+'V},\x20unifor'+'m.textureB'+'ias).rgb;\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20*=\x20a'+'nisotropyT'+'ex.b;\x0a\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyRotat'+'ionFromTex'+':\x20vec2f\x20=\x20'+'anisotropy'+'Tex.rg\x20*\x202'+'.0\x20-\x20vec2f'+'(1.0);\x0a\x20\x20\x20'+'\x20let\x20rotat'+'ionMatrix:'+'\x20mat2x2f\x20='+'\x20mat2x2f(d'+'Anisotropy'+'Rotation.x'+',\x20dAnisotr'+'opyRotatio'+'n.y,\x20-dAni'+'sotropyRot'+'ation.y,\x20d'+'Anisotropy'+'Rotation.x'+');\x0a\x20\x20\x20\x20dAn'+'isotropyRo'+'tation\x20=\x20r'+'otationMat'+'rix\x20*\x20anis'+'otropyRota'+'tionFromTe'+'x;\x0a#endif\x0a'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20c'+'lamp(dAnis'+'otropy,\x200.'+'0,\x201.0);\x0a}'+'\x0a',tM='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_aoI'+'ntensity:\x20'+'f32;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_AODETA'+'IL_TEXTURE'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22detai'+'lModesPS\x22\x0a'+'#endif\x0a\x0afn'+'\x20getAO()\x20{'+'\x0a\x20\x20\x20\x20dAo\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20aoBas'+'e:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_AO_TEXTU'+'RE_NAME},\x20'+'{STD_AO_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AO_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_AO_'+'TEXTURE_CH'+'ANNEL};\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_AO'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20aoDetail:'+'\x20f32\x20=\x20tex'+'tureSample'+'Bias({STD_'+'AODETAIL_T'+'EXTURE_NAM'+'E},\x20{STD_A'+'ODETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AODET'+'AIL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_AODETAI'+'L_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20aoBase\x20='+'\x20detailMod'+'e_{STD_AOD'+'ETAIL_DETA'+'ILMODE}(ve'+'c3f(aoBase'+'),\x20vec3f(a'+'oDetail)).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dAo'+'\x20=\x20dAo\x20*\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20=\x20dA'+'o\x20*\x20satura'+'te(vVertex'+'Color.{STD'+'_AO_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'STD_AO_TEX'+'TURE)\x20||\x20d'+'efined(STD'+'_AO_VERTEX'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'uniform.ma'+'terial_aoI'+'ntensity);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',sM='\x0afn\x20occlud'+'eDiffuse(a'+'o:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20ao;\x0a'+'}\x0a',iM='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'aterial_oc'+'cludeSpecu'+'larIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0afn'+'\x20occludeSp'+'ecular(glo'+'ss:\x20f32,\x20a'+'o:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f)\x20{\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20==\x20A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_OCCLUDE_S'+'PECULAR_FL'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'specOcc:\x20f'+'32\x20=\x20mix(1'+'.0,\x20ao,\x20un'+'iform.mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specOcc:'+'\x20f32\x20=\x20ao;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'GLOSSDEPEN'+'DENT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'roximated\x20'+'specular\x20o'+'cclusion\x20f'+'rom\x20AO\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ht'+'tp://resea'+'rch.tri-ac'+'e.com/Data'+'/cedec2011'+'_RealtimeP'+'BR_Impleme'+'ntation_e.'+'pptx\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20spe'+'cPow:\x20f32\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20specOc'+'c:\x20f32\x20=\x20s'+'aturate(po'+'w(dot(worl'+'dNormal,\x20v'+'iewDir)\x20+\x20'+'ao,\x200.01\x20*'+'\x20specPow)\x20'+'-\x201.0\x20+\x20ao'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_OCCLUDE'+'_SPECULAR_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecOcc\x20=\x20mi'+'x(1.0,\x20spe'+'cOcc,\x20unif'+'orm.materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20*\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20dRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'*\x20specOcc;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sReflec'+'tion\x20=\x20sRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a'),rM='\x0a\x20\x20\x20\x20let\x20d'+'irLm\x20=\x20tex'+'tureSample'+'(texture_d'+'irLightMap'+',\x20texture_'+'dirLightMa'+'pSampler,\x20'+'vUv1);\x0a\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.bakeDi'+'r\x20>\x200.5)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(dAtten\x20'+'>\x200.00001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'npacked_di'+'r\x20=\x20dirLm.'+'xyz\x20*\x202.0\x20'+'-\x20vec3f(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x20clamp'+'(dAtten,\x200'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20comb'+'ined_dir\x20='+'\x20dLightDir'+'NormW.xyz\x20'+'*\x20dAtten\x20+'+'\x20unpacked_'+'dir\x20*\x20dirL'+'m.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20finalRgb\x20'+'=\x20normaliz'+'e(combined'+'_dir)\x20*\x200.'+'5\x20+\x20vec3f('+'0.5);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20finalA\x20='+'\x20max(dirLm'+'.w\x20+\x20dAtte'+'n,\x201.0\x20/\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalRgb,\x20'+'finalA);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20dirLm;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20alpha'+'_min\x20=\x20sel'+'ect(0.0,\x201'+'.0\x20/\x20255.0'+',\x20dAtten\x20>'+'\x200.00001);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20finalA\x20'+'=\x20max(dirL'+'m.w,\x20alpha'+'_min);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(dirL'+'m.rgb,\x20fin'+'alA);\x0a\x20\x20\x20\x20'+'}\x0a',aM='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'uniform.am'+'bientBakeO'+'cclusionCo'+'ntrast\x20+\x201'+'.0,\x200.0))\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20vec3f(u'+'niform.amb'+'ientBakeOc'+'clusionBri'+'ghtness);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'saturate3('+'dDiffuseLi'+'ght);\x0a\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20=\x20dDif'+'fuseLight\x20'+'*\x20dAmbient'+'Light;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIGHTMAP'+'_RGBM\x0a\x20\x20\x20\x20'+'//\x20encode\x20'+'to\x20RGBM\x0a\x20\x20'+'\x20\x20var\x20temp'+'_color_rgb'+'m\x20=\x20vec4f('+'dDiffuseLi'+'ght,\x201.0);'+'\x0a\x20\x20\x20\x20temp_'+'color_rgbm'+'\x20=\x20vec4f(p'+'ow(temp_co'+'lor_rgbm.r'+'gb,\x20vec3f('+'0.5)),\x20tem'+'p_color_rg'+'bm.a);\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+'color_rgbm'+'.rgb\x20/\x208.0'+',\x20temp_col'+'or_rgbm.a)'+';\x0a\x20\x20\x20\x20let\x20'+'max_g_b\x20=\x20'+'max(temp_c'+'olor_rgbm.'+'g,\x20max(tem'+'p_color_rg'+'bm.b,\x201.0\x20'+'/\x20255.0));'+'\x0a\x20\x20\x20\x20let\x20m'+'ax_rgb\x20=\x20m'+'ax(temp_co'+'lor_rgbm.r'+',\x20max_g_b)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20ceil'+'(temp_colo'+'r_rgbm.a\x20*'+'\x20255.0)\x20/\x20'+'255.0;\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+('color_rgbm'+'.rgb\x20/\x20tem'+'p_color_rg'+'bm.a,\x20temp'+'_color_rgb'+'m.a);\x0a\x20\x20\x20\x20'+'output.col'+'or\x20=\x20temp_'+'color_rgbm'+';\x0a#else\x0a\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20vec'+'4f(dDiffus'+'eLight,\x201.'+'0);\x0a#endif'+'\x0a'),nM='\x0auniform\x20v'+'iew_positi'+'on:\x20vec3f;'+'\x0a\x0auniform\x20'+'light_glob'+'alAmbient:'+'\x20vec3f;\x0a\x0af'+'n\x20square(x'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20x*x'+';\x0a}\x0a\x0afn\x20sa'+'turate(x:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0afn'+'\x20saturate3'+'(x:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3f(0.'+'0),\x20vec3f('+'1.0));\x0a}\x0a',oM='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'Mask:\x20vec2'+'f;\x0avarying'+'\x20vTiledUv:'+'\x20vec2f;\x0a\x0au'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0auni'+'form\x20outer'+'Scale:\x20vec'+'2f;\x0aunifor'+'m\x20atlasRec'+'t:\x20vec4f;\x0a'+'\x0avar<priva'+'te>\x20nineSl'+'icedUv:\x20ve'+'c2f;\x0a',lM='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vMask:\x20v'+'ec2f;\x0avary'+'ing\x20vTiled'+'Uv:\x20vec2f;'+'\x0a\x0auniform\x20'+'innerOffse'+'t:\x20vec4f;\x0a'+'uniform\x20ou'+'terScale:\x20'+'vec2f;\x0auni'+'form\x20atlas'+'Rect:\x20vec4'+'f;\x0a\x0avar<pr'+'ivate>\x20nin'+'eSlicedUv:'+'\x20vec2f;\x0a',cM='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afn\x20bay'+'er2(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(2.0\x20*'+'\x20p.y\x20+\x20p.x'+'\x20+\x201.0)\x20%\x20'+'4.0;\x0a}\x0a\x0a//'+'\x204x4\x20matri'+'x,\x20p\x20-\x20pix'+'el\x20coordin'+'ate\x0afn\x20bay'+'er4(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20p1:\x20vec2f'+'\x20=\x20p\x20%\x20vec'+'2f(2.0);\x0a\x20'+'\x20\x20\x20let\x20p2:'+'\x20vec2f\x20=\x20f'+'loor(0.5\x20*'+'\x20(p\x20%\x20vec2'+'f(4.0)));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afn\x20bayer8'+'(p:\x20vec2f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20p1'+':\x20vec2f\x20=\x20'+'p\x20%\x20vec2f('+'2.0);\x0a\x20\x20\x20\x20'+'let\x20p2:\x20ve'+'c2f\x20=\x20floo'+'r(0.5\x20*\x20(p'+'\x20%\x20vec2f(4'+'.0)));\x0a\x20\x20\x20'+'\x20let\x20p4:\x20v'+'ec2f\x20=\x20flo'+'or(0.25\x20*\x20'+'(p\x20%\x20vec2f'+'(8.0)));\x0a\x20'+'\x20\x20\x20return\x20'+'4.0\x20*\x20(4.0'+'\x20*\x20bayer2('+'p1)\x20+\x20baye'+'r2(p2))\x20+\x20'+'bayer2(p4)'+';\x0a}\x0a',hM='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20sou'+'rce:\x20textu'+'re_2d<f32>'+';\x0avar\x20sour'+'ceSampler:'+'\x20sampler;\x0a'+'\x0a#ifdef\x20GA'+'USS\x0a\x20\x20\x20\x20un'+'iform\x20weig'+'ht:\x20array<'+'f32,\x20{SAMP'+'LES}>;\x0a#en'+'dif\x0aunifor'+'m\x20pixelOff'+'set:\x20vec2f'+';\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20var'+'\x20moments:\x20'+'vec3f\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20let\x20uv'+':\x20vec2f\x20=\x20'+'input.vUv0'+'\x20-\x20uniform'+'.pixelOffs'+'et\x20*\x20(f32('+'{SAMPLES})'+'\x20*\x200.5);\x0a\x0a'+'\x20\x20\x20\x20for\x20(v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20{'+'SAMPLES};\x20'+'i\x20=\x20i\x20+\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20c:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'source,\x20so'+'urceSample'+'r,\x20uv\x20+\x20un'+'iform.pixe'+'lOffset\x20*\x20'+'f32(i));\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20moments'+'\x20=\x20moments'+'\x20+\x20c.xyz\x20*'+'\x20uniform.w'+'eight[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20=\x20moment'+'s\x20+\x20c.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'oments\x20=\x20m'+'oments\x20*\x20('+'1.0\x20/\x20f32('+'{SAMPLES})'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'moments,\x201'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a',dM='\x0auniform\x20m'+'aterial_cl'+'earCoat:\x20f'+'32;\x0a\x0afn\x20ge'+'tClearCoat'+'()\x20{\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20=\x20unifo'+'rm.materia'+'l_clearCoa'+'t;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_C'+'LEARCOAT_T'+'EXTURE\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20=\x20ccS'+'pecularity'+'\x20*\x20texture'+'SampleBias'+'({STD_CLEA'+'RCOAT_TEXT'+'URE_NAME},'+'\x20{STD_CLEA'+'RCOAT_TEXT'+'URE_NAME}S'+'ampler,\x20{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_CLE'+'ARCOAT_VER'+'TEX\x0a\x20\x20\x20\x20cc'+'Specularit'+'y\x20=\x20ccSpec'+'ularity\x20*\x20'+'saturate(v'+'VertexColo'+'r.{STD_CLE'+'ARCOAT_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a',fM='\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_clearCoa'+'tGloss:\x20f3'+'2;\x0a\x0afn\x20get'+'ClearCoatG'+'lossiness('+')\x20{\x0a\x20\x20\x20\x20cc'+'Glossiness'+'\x20=\x20uniform'+'.material_'+'clearCoatG'+'loss;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE_NAME}'+',\x20{STD_CLE'+'ARCOATGLOS'+'S_TEXTURE_'+'NAME}Sampl'+'er,\x20{STD_C'+'LEARCOATGL'+'OSS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_CLEA'+'RCOATGLOSS'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_INVERT\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20=\x201.0'+'\x20-\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20ccGloss'+'iness\x20+=\x200'+'.0000001;\x0a'+'}\x0a',uM='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_cle'+'arCoatBump'+'iness:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getClea'+'rCoatNorma'+'l()\x20{\x0a#ifd'+'ef\x20STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'\x0a\x20\x20\x20\x20var\x20n'+'ormalMap:\x20'+'vec3f\x20=\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_DEC'+'ODE}(textu'+'reSampleBi'+'as({STD_CL'+'EARCOATNOR'+'MAL_TEXTUR'+'E_NAME},\x20{'+'STD_CLEARC'+'OATNORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias));\x0a\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20mix(v'+'ec3f(0.0,\x20'+'0.0,\x201.0),'+'\x20normalMap'+',\x20uniform.'+'material_c'+'learCoatBu'+'mpiness);\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20norm'+'alize(dTBN'+'\x20*\x20normalM'+'ap);\x0a#else'+'\x0a\x20\x20\x20\x20ccNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a',pM='\x0astruct\x20Fa'+'ceCoords\x20{'+'\x0a\x20\x20\x20\x20uv:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Or'+'iginal\x20ret'+'urn\x20value\x0a'+'\x20\x20\x20\x20faceIn'+'dex:\x20f32,\x20'+'\x20\x20\x20//\x20Was\x20'+'out\x20parame'+'ter\x0a\x20\x20\x20\x20ti'+'leOffset:\x20'+'vec2f,\x20//\x20'+'Was\x20out\x20pa'+'rameter\x0a}\x0a'+'\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0afn\x20getC'+'ubemapFace'+'Coordinate'+'s(dir:\x20vec'+'3f)\x20->\x20Fac'+'eCoords\x20{\x0a'+'\x20\x20\x20\x20var\x20fa'+'ceIndex:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20tileOffs'+'et:\x20vec2f;'+'\x0a\x20\x20\x20\x20var\x20u'+'v:\x20vec2f;\x20'+'//\x20This\x20is'+'\x20the\x20face\x20'+'UV\x20[0..1]\x0a'+'\x20\x20\x20\x20let\x20vA'+'bs:\x20vec3f\x20'+'=\x20abs(dir)'+';\x0a\x20\x20\x20\x20var\x20'+'ma:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20if\x20(vA'+'bs.z\x20>=\x20vA'+'bs.x\x20&&\x20vA'+'bs.z\x20>=\x20vA'+'bs.y)\x20{\x20\x20\x20'+'//\x20front\x20/'+'\x20back\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20i'+'s_neg_z\x20=\x20'+'dir.z\x20<\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20faceIndex'+'\x20=\x20select('+'4.0,\x205.0,\x20'+'is_neg_z);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'a\x20=\x200.5\x20/\x20'+'vAbs.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv\x20='+'\x20vec2f(sel'+'ect(dir.x,'+'\x20-dir.x,\x20i'+'s_neg_z),\x20'+'-dir.y);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20til'+'eOffset\x20=\x20'+'vec2f(2.0,'+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_z));\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(vAbs'+'.y\x20>=\x20vAbs'+'.x)\x20{\x20\x20//\x20'+'top\x20index\x20'+'2,\x20bottom\x20'+'index\x203\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20is_neg_y\x20'+'=\x20dir.y\x20<\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20selec'+('t(2.0,\x203.0'+',\x20is_neg_y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2f(d'+'ir.x,\x20sele'+'ct(dir.z,\x20'+'-dir.z,\x20is'+'_neg_y));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ti'+'leOffset\x20='+'\x20vec2f(1.0'+',\x20select(0'+'.0,\x201.0,\x20i'+'s_neg_y));'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20is_'+'neg_x\x20=\x20di'+'r.x\x20<\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'aceIndex\x20='+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_x);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2f(selec'+'t(-dir.z,\x20'+'dir.z,\x20is_'+'neg_x),\x20-d'+'ir.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset\x20=\x20ve'+'c2f(0.0,\x20s'+'elect(0.0,'+'\x201.0,\x20is_n'+'eg_x));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv\x20*\x20m'+'a\x20+\x200.5;\x0a\x20'+'\x20\x20\x20return\x20'+'FaceCoords'+'(uv,\x20faceI'+'ndex,\x20tile'+'Offset);\x0a}'+'\x0a\x0a//\x20conve'+'rts\x20unnorm'+'alized\x20dir'+'ection\x20vec'+'tor\x20to\x20a\x20t'+'exture\x20coo'+'rdinate\x20fo'+'r\x20a\x20cubema'+'p\x20face\x20sto'+'red\x20within'+'\x20texture\x20a'+'tlas\x20descr'+'ibed\x20by\x20th'+'e\x20viewport'+'\x0afn\x20getCub'+'emapAtlasC'+'oordinates'+'(omniAtlas'+'Viewport:\x20'+'vec3f,\x20sha'+'dowEdgePix'+'els:\x20f32,\x20'+'shadowText'+'ureResolut'+'ion:\x20f32,\x20'+'dir:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20faceData'+':\x20FaceCoor'+'ds\x20=\x20getCu'+'bemapFaceC'+'oordinates'+'(dir);\x0a\x20\x20\x20'+'\x20var\x20uv:\x20v'+'ec2f\x20=\x20fac'+'eData.uv;\x0a'+'\x20\x20\x20\x20let\x20ti'+'leOffset:\x20'+'vec2f\x20=\x20fa'+'ceData.til'+'eOffset;\x0a\x0a'+'\x20\x20\x20\x20//\x20mov'+'e\x20uv\x20coord'+'inates\x20inw'+'ards\x20insid'+'e\x20to\x20compe'+'nsate\x20for\x20')+('larger\x20fov'+'\x20when\x20rend'+'ering\x20shad'+'ow\x20into\x20at'+'las\x0a\x20\x20\x20\x20le'+'t\x20atlasFac'+'eSize:\x20f32'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20le'+'t\x20tileSize'+':\x20f32\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20var\x20off'+'set:\x20f32\x20='+'\x20shadowEdg'+'ePixels\x20/\x20'+'tileSize;\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20*\x20(1.0\x20-'+'\x20offset\x20*\x20'+'2.0)\x20+\x20off'+'set;\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20='+'\x20uv\x20*\x20atla'+'sFaceSize;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x20into'+'\x20face\x20of\x20t'+'he\x20atlas\x20('+'3x3\x20grid)\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20+\x20tileOf'+'fset\x20*\x20atl'+'asFaceSize'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'offset\x20int'+'o\x20the\x20atla'+'s\x20viewport'+'\x0a\x20\x20\x20\x20uv\x20=\x20'+'uv\x20+\x20omniA'+'tlasViewpo'+'rt.xy;\x0a\x0a\x20\x20'+'\x20\x20return\x20u'+'v;\x0a}\x0a'),mM='\x0afn\x20_getCo'+'okieCluste'+'red(tex:\x20t'+'exture_2d<'+'f32>,\x20texS'+'ampler:\x20sa'+'mpler,\x20uv:'+'\x20vec2f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20pixel'+':\x20vec4f\x20=\x20'+'mix(vec4f('+'1.0),\x20text'+'ureSampleL'+'evel(tex,\x20'+'texSampler'+',\x20uv,\x200.0)'+',\x20intensit'+'y);\x0a\x20\x20\x20\x20le'+'t\x20isRgb:\x20b'+'ool\x20=\x20dot('+'cookieChan'+'nel.rgb,\x20v'+'ec3f(1.0))'+'\x20==\x203.0;\x0a\x20'+'\x20\x20\x20return\x20'+'select(vec'+'3f(dot(pix'+'el,\x20cookie'+'Channel)),'+'\x20pixel.rgb'+',\x20isRgb);\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0afn'+'\x20getCookie'+'2DClustere'+'d(tex:\x20tex'+'ture_2d<f3'+'2>,\x20texSam'+'pler:\x20samp'+'ler,\x20trans'+'form:\x20mat4'+'x4f,\x20world'+'Position:\x20'+'vec3f,\x20int'+'ensity:\x20f3'+'2,\x20cookieC'+'hannel:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20projPo'+'s:\x20vec4f\x20='+'\x20transform'+'\x20*\x20vec4f(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(tex,\x20texS'+'ampler,\x20pr'+'ojPos.xy\x20/'+'\x20projPos.w'+',\x20intensit'+'y,\x20cookieC'+'hannel);\x0a}'+'\x0a\x0a//\x20getCo'+'okie\x20for\x20c'+'lustered\x20o'+'mni\x20light\x20'+'with\x20the\x20c'+'ookie\x20text'+'ure\x20being\x20'+'stored\x20in\x20'+'the\x20cookie'+'\x20atlas\x0afn\x20'+'getCookieC'+'ubeCluster'+'ed(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20dir:'+'\x20vec3f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f,\x20shad'+'owTextureR'+'esolution:'+'\x20f32,\x20shad'+('owEdgePixe'+'ls:\x20f32,\x20o'+'mniAtlasVi'+'ewport:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20dir);'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getCook'+'ieClustere'+'d(tex,\x20tex'+'Sampler,\x20u'+'v,\x20intensi'+'ty,\x20cookie'+'Channel);\x0a'+'}\x0a'),_M='\x0a\x0afn\x20_getS'+'hadowCoord'+'PerspZbuff'+'er(shadowM'+'atrix:\x20mat'+'4x4f,\x20shad'+'owParams:\x20'+'vec4f,\x20wPo'+'s:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20p'+'rojPos\x20=\x20s'+'hadowMatri'+'x\x20*\x20vec4f('+'wPos,\x201.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20projPos'+'.xyz\x20/\x20pro'+'jPos.w;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0afn'+'\x20getShadow'+'CoordPersp'+'ZbufferNor'+'malOffset('+'shadowMatr'+'ix:\x20mat4x4'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20normal'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20wP'+'os:\x20vec3f\x20'+'=\x20vPositio'+'nW\x20+\x20norma'+'l\x20*\x20shadow'+'Params.y;\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wCoordPers'+'pZbuffer(s'+'hadowMatri'+'x,\x20shadowP'+'arams,\x20wPo'+'s);\x0a}\x0a\x0afn\x20'+'normalOffs'+'etPointSha'+'dow(shadow'+'Params:\x20ve'+'c4f,\x20light'+'Pos:\x20vec3f'+',\x20lightDir'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'normal:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20let\x20wPo'+'s:\x20vec3f\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y\x20*\x20'+'clamp(1.0\x20'+'-\x20dot(norm'+'al,\x20-light'+'DirNorm),\x20'+'0.0,\x201.0)\x20'+'*\x20distScal'+'e;\x20//0.02\x0a'+'\x20\x20\x20\x20let\x20di'+'r:\x20vec3f\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0a\x20\x20\x20\x20'+'fn\x20getShad'+'owOmniClus'+'teredPCF1('+'shadowMap:'+'\x20texture_d'+'epth_2d,\x20s'+'hadowMapSa'+'mpler:\x20sam'+'pler_compa'+'rison,\x20sha'+'dowParams:'+('\x20vec4f,\x20om'+'niAtlasVie'+'wport:\x20vec'+'3f,\x20shadow'+'EdgePixels'+':\x20f32,\x20lig'+'htDir:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shad'+'owTextureR'+'esolution:'+'\x20f32\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowZ:\x20f'+'32\x20=\x20lengt'+'h(lightDir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv,'+'\x20shadowZ);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'wOmniClust'+'eredPCF3(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owParams:\x20'+'vec4f,\x20omn'+'iAtlasView'+'port:\x20vec3'+'f,\x20shadowE'+'dgePixels:'+'\x20f32,\x20ligh'+'tDir:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wTextureRe'+'solution:\x20'+'f32\x20=\x20shad'+'owParams.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20light'+'Dir);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadowZ:\x20f3'+'2\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w\x20+\x20'+'shadowPara'+'ms.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowCoord:'+'\x20vec3f\x20=\x20v'+'ec3f(uv,\x20s'+'hadowZ);\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF3x3('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowOmn'+'iClustered'+'PCF5(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20omniAtl'+'asViewport'+':\x20vec3f,\x20s'+'hadowEdgeP'+'ixels:\x20f32'+',\x20lightDir'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadowTex'+'tureResolu'+'tion:\x20f32\x20'+'=\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'uv:\x20vec2f\x20'+'=\x20getCubem'+'apAtlasCoo'+'rdinates(o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20shad'+'owTextureR'+'esolution,'+'\x20lightDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20vec3f'+'(uv,\x20shado'+'wZ);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CF5x5(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'#endif\x0a\x0a//'+'\x20Clustered'+'\x20Spot\x20Samp'+'ling\x20using'+'\x20atlas\x0a\x0a#i'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF1)\x0a\x0a\x20\x20\x20'+'\x20fn\x20getSha'+'dowSpotClu'+'steredPCF1'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu')+('rn\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Coord.z);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0a\x20\x20'+'\x20\x20fn\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'3x3(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF5)\x0a\x0a\x20'+'\x20\x20\x20fn\x20getS'+'hadowSpotC'+'lusteredPC'+'F5(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),gM='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0avar\x20clu'+'sterWorldT'+'exture:\x20te'+'xture_2d<f'+'32>;\x0avar\x20l'+'ightsTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x0a#ifdef\x20C'+'LUSTER_SHA'+'DOWS\x0a\x20\x20\x20\x20/'+'/\x20TODO:\x20wh'+'en\x20VSM\x20sha'+'dow\x20is\x20sup'+'ported,\x20it'+'\x20needs\x20to\x20'+'use\x20sample'+'r2D\x20in\x20web'+'gl2\x0a\x20\x20\x20\x20va'+'r\x20shadowAt'+'lasTexture'+':\x20texture_'+'depth_2d;\x0a'+'\x20\x20\x20\x20var\x20sh'+'adowAtlasT'+'extureSamp'+'ler:\x20sampl'+'er_compari'+'son;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'var\x20cookie'+'AtlasTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20c'+'ookieAtlas'+'TextureSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0auniform'+'\x20clusterMa'+'xCells:\x20i3'+'2;\x0a\x0a//\x201.0'+'\x20if\x20cluste'+'red\x20lighti'+'ng\x20can\x20be\x20'+'skipped\x20(0'+'\x20lights\x20in'+'\x20the\x20clust'+'ers)\x0aunifo'+'rm\x20cluster'+'Skip:\x20f32;'+'\x0a\x0auniform\x20'+'clusterCel'+'lsCountByB'+'oundsSize:'+'\x20vec3f;\x0aun'+'iform\x20clus'+'terTexture'+'Size:\x20vec3'+'f;\x0auniform'+'\x20clusterBo'+'undsMin:\x20v'+'ec3f;\x0aunif'+'orm\x20cluste'+'rBoundsDel'+'ta:\x20vec3f;'+'\x0auniform\x20c'+'lusterCell'+'sDot:\x20vec3'+'f;\x0auniform'+'\x20clusterCe'+'llsMax:\x20ve'+('c3f;\x0aunifo'+'rm\x20shadowA'+'tlasParams'+':\x20vec2f;\x0a\x0a'+'//\x20structu'+'re\x20storing'+'\x20light\x20pro'+'perties\x20of'+'\x20a\x20cluster'+'ed\x20light\x0a/'+'/\x20it\x27s\x20sor'+'ted\x20to\x20hav'+'e\x20all\x20vect'+'ors\x20aligne'+'d\x20to\x204\x20flo'+'ats\x20to\x20lim'+'it\x20padding'+'\x0astruct\x20Cl'+'usterLight'+'Data\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x2032bit'+'\x20of\x20flags\x0a'+'\x20\x20\x20\x20flags:'+'\x20u32,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfWidth:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20isSpot:\x20'+'bool,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfHeight:'+'\x20vec3f,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20index\x0a\x20\x20'+'\x20\x20lightInd'+'ex:\x20i32,\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x0a\x20\x20'+'\x20\x20position'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20sh'+'ape:\x20u32,\x0a'+'\x0a\x20\x20\x20\x20//\x20wo'+'rld\x20space\x20'+'direction\x20'+'(spot\x20ligh'+'t\x20only)\x0a\x20\x20'+'\x20\x20directio'+'n:\x20vec3f,\x0a'+'\x0a\x20\x20\x20\x20//\x20li'+'ght\x20follow'+'\x20mode\x0a\x20\x20\x20\x20'+'falloffMod'+'eLinear:\x20b'+'ool,\x0a\x0a\x20\x20\x20\x20'+'//\x20color\x0a\x20'+'\x20\x20\x20color:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20//\x200.0\x20i'+'f\x20the\x20ligh'+'t\x20doesn\x27t\x20'+'cast\x20shado'+'ws\x0a\x20\x20\x20\x20sha'+'dowIntensi'+'ty:\x20f32,\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20omniAtl'+'asViewport'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'range:\x20f32'+',\x0a\x0a\x20\x20\x20\x20//\x20'+'channel\x20ma'+'sk\x20-\x20one\x20o'+'f\x20the\x20chan'+'nels\x20has\x201'+',\x20the\x20othe')+('rs\x20are\x200\x0a\x20'+'\x20\x20\x20cookieC'+'hannelMask'+':\x20vec4f,\x0a\x0a'+'\x20\x20\x20\x20//\x20com'+'pressed\x20bi'+'ases,\x20two\x20'+'haf-floats'+'\x20stored\x20in'+'\x20a\x20float\x0a\x20'+'\x20\x20\x20biasesD'+'ata:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20bias\x20'+'values\x0a\x20\x20\x20'+'\x20shadowBia'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20shadowNo'+'rmalBias:\x20'+'f32,\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20a'+'nglesData:'+'\x20f32,\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20inner'+'\x20and\x20outer'+'\x20angle\x20cos'+'ine\x0a\x20\x20\x20\x20in'+'nerConeAng'+'leCos:\x20f32'+',\x0a\x20\x20\x20\x20oute'+'rConeAngle'+'Cos:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'tensity\x20of'+'\x20the\x20cooki'+'e\x0a\x20\x20\x20\x20cook'+'ieIntensit'+'y:\x20f32,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20mask\x0a\x20\x20\x20'+'\x20//float\x20m'+'ask;\x0a\x20\x20\x20\x20i'+'sDynamic:\x20'+'bool,\x0a\x20\x20\x20\x20'+'isLightmap'+'ped:\x20bool\x0a'+'}\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0av'+'ar<private'+'>\x20lightPro'+'jectionMat'+'rix:\x20mat4x'+'4f;\x0a\x0afn\x20sa'+'mpleLightT'+'extureF(li'+'ghtIndex:\x20'+'i32,\x20index'+':\x20i32)\x20->\x20')+('vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureLoad'+'(lightsTex'+'ture,\x20vec2'+'<i32>(inde'+'x,\x20lightIn'+'dex),\x200);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightCore(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>,\x20'+'lightIndex'+':\x20f32)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20index\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'lightIndex'+'\x20=\x20i32(lig'+'htIndex);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20data\x20'+'encoding\x20h'+'alf-float\x20'+'values\x20int'+'o\x2032bit\x20ui'+'nts\x0a\x20\x20\x20\x20le'+'t\x20halfData'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_COLO'+'R_ANGLES_B'+'IAS});\x0a\x0a\x20\x20'+'\x20\x20//\x20store'+'\x20floats\x20we'+'\x20decode\x20la'+'ter\x20as\x20nee'+'ded\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.angle'+'sData\x20=\x20ha'+'lfData.z;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.biasesDat'+'a\x20=\x20halfDa'+'ta.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20decomp'+'ress\x20color'+'\x20half-floa'+'ts\x0a\x20\x20\x20\x20let'+'\x20colorRG:\x20'+'vec2f\x20=\x20un'+'pack2x16fl'+'oat(bitcas'+'t<u32>(hal'+'fData.x));'+'\x0a\x20\x20\x20\x20let\x20c'+'olorB_:\x20ve'+'c2f\x20=\x20unpa'+'ck2x16floa'+'t(bitcast<'+'u32>(halfD'+'ata.y));\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'color\x20=\x20ve'+'c3f(colorR'+'G,\x20colorB_'+'.x)\x20*\x20{LIG'+'HT_COLOR_D'+'IVIDER};\x0a\x0a'+'\x20\x20\x20\x20//\x20pos'+'ition\x20and\x20'+'range,\x20ful'+'l\x20floats\x0a\x20'+'\x20\x20\x20let\x20lig'+'htPosRange'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_POSI'+'TION_RANGE'+'});\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.posit')+('ion\x20=\x20ligh'+'tPosRange.'+'xyz;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.rang'+'e\x20=\x20lightP'+'osRange.w;'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'pot\x20direct'+'ion\x20&\x20flag'+'s\x20data\x0a\x20\x20\x20'+'\x20let\x20light'+'Dir_Flags:'+'\x20vec4f\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData.ligh'+'tIndex,\x20{C'+'LUSTER_TEX'+'TURE_DIREC'+'TION_FLAGS'+'});\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20directi'+'on\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.direct'+'ion\x20=\x20ligh'+'tDir_Flags'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x2032bit\x20'+'flags\x0a\x20\x20\x20\x20'+'let\x20flags_'+'uint:\x20u32\x20'+'=\x20bitcast<'+'u32>(light'+'Dir_Flags.'+'w);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20flags_u'+'int;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.isSp'+'ot\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2030u)'+')\x20!=\x200u;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'shape\x20=\x20(f'+'lags_uint\x20'+'>>\x2028u)\x20&\x20'+'0x3u;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.fal'+'loffModeLi'+'near\x20=\x20(fl'+'ags_uint\x20&'+'\x20(1u\x20<<\x2027'+'u))\x20==\x200u;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.shadowIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x200'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x208'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.isDynami'+'c\x20=\x20(flags'+'_uint\x20&\x20(1'+'u\x20<<\x2022u))'+'\x20!=\x200u;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sLightmapp'+'ed\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2021u)'+')\x20!=\x200u;\x0a}'+'\x0a\x0afn\x20decod'+'eClusterLi'+'ghtSpot(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{')+('\x0a\x20\x20\x20\x20//\x20sp'+'ot\x20light\x20c'+'os\x20angles\x0a'+'\x20\x20\x20\x20let\x20an'+'gles:\x20vec2'+'f\x20=\x20unpack'+'2x16float('+'bitcast<u3'+'2>(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'OmniAtlasV'+'iewport(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.omniAtla'+'sViewport\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData.l'+'ightIndex,'+'\x20{CLUSTER_'+'TEXTURE_PR'+'OJ_MAT_0})'+'.xyz;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'AreaData(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>)\x20'+'{\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.halfWid'+'th\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a.lightInd'+'ex,\x20{CLUST'+'ER_TEXTURE'+'_AREA_DATA'+'_WIDTH}).x'+'yz;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.halfH'+'eight\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data.light'+'Index,\x20{CL'+'USTER_TEXT'+'URE_AREA_D'+'ATA_HEIGHT'+'}).xyz;\x0a}\x0a'+'\x0afn\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(cluster'+'LightData:'+'\x20ptr<funct'+'ion,\x20Clust'+'erLightDat'+'a>)\x20{\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'matrix\x0a\x20\x20\x20'+'\x20let\x20m0:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_0});\x0a\x20\x20\x20'+'\x20let\x20m1:\x20v')+('ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_1});\x0a\x20\x20\x20'+'\x20let\x20m2:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_2});\x0a\x20\x20\x20'+'\x20let\x20m3:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4x'+'4f(m0,\x20m1,'+'\x20m2,\x20m3);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightShadow'+'Data(clust'+'erLightDat'+'a:\x20ptr<fun'+'ction,\x20Clu'+'sterLightD'+'ata>)\x20{\x0a\x20\x20'+'\x20\x20//\x20shado'+'w\x20biases\x0a\x20'+'\x20\x20\x20let\x20bia'+'ses:\x20vec2f'+'\x20=\x20unpack2'+'x16float(b'+'itcast<u32'+'>(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'fn\x20decodeC'+'lusterLigh'+'tCookieDat'+'a(clusterL'+'ightData:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20extract'+'\x20channel\x20m'+'ask\x20from\x20f'+'lags\x0a\x20\x20\x20\x20l'+'et\x20cookieF'+'lags:\x20u32\x20'+'=\x20(cluster'+'LightData.'+'flags\x20>>\x202'+'3u)\x20&\x200x0F'+'u;\x20\x20//\x204bi'+'ts,\x20each\x20b'+'it\x20enables'+'\x20a\x20channel'+'\x0a\x20\x20\x20\x20let\x20m'+'ask_uvec:\x20'+'vec4<u32>\x20'+'=\x20vec4<u32'+'>(cookieFl'+'ags)\x20&\x20vec'+'4<u32>(1u,'+'\x202u,\x204u,\x208'+'u);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eChannelMa'+'sk\x20=\x20step('+'vec4f(1.0)')+(',\x20vec4f(ma'+'sk_uvec));'+'\x20//\x20Normal'+'ize\x20to\x200.0'+'\x20or\x201.0\x0a}\x0a'+'\x0afn\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20light:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>,\x0a\x20\x20\x20\x20wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20reflectio'+'nDir:\x20vec3'+'f,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20clearc'+'oatReflect'+'ionDir:\x20ve'+'c3f,\x0a#endi'+'f\x0a\x20\x20\x20\x20glos'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20specular'+'ity:\x20vec3f'+',\x0a\x20\x20\x20\x20geom'+'etricNorma'+'l:\x20vec3f,\x0a'+'\x20\x20\x20\x20tbn:\x20m'+'at3x3f,\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a#e'+'ndif\x0a\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20clearco'+'at_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20s'+'heen_gloss'+':\x20f32,\x0a\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty:\x20f32\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ve'+'c3f(1.0);\x0a'+'\x20\x20\x20\x20var\x20di'+'ffuseAtten'+'uation:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20var\x20fal'+'loffAttenu'+'ation:\x20f32'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20omni\x20'+'part\x20of\x20th'+'e\x20light\x0a\x20\x20'+'\x20\x20let\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(l'+'ight.posit'+'ion);\x0a\x20\x20\x20\x20'+'let\x20lightD'+'irNormW:\x20v'+'ec3f\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20')+('handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffL'+'inear(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20='+'\x20getFallof'+'fInvSquare'+'d(light.ra'+'nge,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20if'+'\x20(falloffA'+'ttenuation'+'\x20>\x200.00001'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_AR'+'EALIGHTS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20!=\x20{LI'+'GHTSHAPE_P'+'UNCTUAL})\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20='+'=\x20{LIGHTSH'+'APE_RECT})'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getRectLig'+'htDiffuse('+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'W,\x20lightDi'+'rNormW)\x20*\x20'+'16.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20diffuseAt'+'tenuation\x20'+'=\x20getDiskL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x20/'+'/\x20sphere\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getS'+'phereLight'+'Diffuse(wo'+'rldNormal,'+'\x20viewDir,\x20'+'lightDirW,'+'\x20lightDirN'+'ormW)\x20*\x2016'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNormW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.is'+'Spot)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'decodeClus'+'terLightSp'+'ot(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getSp'+'otEffect(l'+'ight.direc'+'tion,\x20ligh'+'t.innerCon'+'eAngleCos,'+'\x20light.out'+'erConeAngl'+'eCos,\x20ligh'+'tDirNormW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_COOKIES)\x20'+'||\x20defined'+'(CLUSTER_S'+'HADOWS)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'hadow\x20/\x20co')+('okie\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'dowIntensi'+'ty\x20>\x200.0\x20|'+'|\x20light.co'+'okieIntens'+'ity\x20>\x200.0)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20shared\x20'+'shadow\x20/\x20c'+'ookie\x20data'+'\x20depends\x20o'+'n\x20light\x20ty'+'pe\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.i'+'sSpot)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ecodeClust'+'erLightPro'+'jectionMat'+'rixData(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightO'+'mniAtlasVi'+'ewport(lig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'TextureRes'+'olution:\x20f'+'32\x20=\x20unifo'+'rm.shadowA'+'tlasParams'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'EdgePixels'+':\x20f32\x20=\x20un'+'iform.shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'cookieInte'+'nsity\x20>\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(light)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'!!!!!!!!!!'+'!\x20TEXTURE_'+'PASS\x20likel'+'y\x20needs\x20sa'+'mpler.\x20Ass'+'uming\x20cook'+'ieAtlasTex'+'tureSample'+'r\x20exists.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(cooki'+'eAtlasText'+'ure,\x20cooki'+'eAtlasText'+'ureSampler'+',\x20lightPro'+'jectionMat'+'rix,\x20vPosi'+'tionW,\x20lig')+('ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20!!!!!!!!'+'!!!\x20TEXTUR'+'E_PASS\x20lik'+'ely\x20needs\x20'+'sampler.\x20A'+'ssuming\x20co'+'okieAtlasT'+'extureSamp'+'ler\x20exists'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cook'+'ieAttenuat'+'ion\x20=\x20getC'+'ookieCubeC'+'lustered(c'+'ookieAtlas'+'Texture,\x20c'+'ookieAtlas'+'TextureSam'+'pler,\x20ligh'+'tDirW,\x20lig'+'ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask,\x20shado'+'wTextureRe'+'solution,\x20'+'shadowEdge'+'Pixels,\x20li'+'ght.omniAt'+'lasViewpor'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20CLUSTER_'+'SHADOWS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(light'+'.shadowInt'+'ensity\x20>\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightShadow'+'Data(light'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowParams'+':\x20vec4f\x20=\x20'+'vec4f(shad'+'owTextureR'+'esolution,'+'\x20light.sha'+'dowNormalB'+'ias,\x20light'+'.shadowBia'+'s,\x201.0\x20/\x20l'+'ight.range'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20shadowCo'+'ord:\x20vec3f'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat')+('rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20!!!!!'+'!!!!!!\x20SHA'+'DOWMAP_PAS'+'S\x20needs\x20te'+'xture\x20and\x20'+'sampler_co'+'mparison.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20!!!'+'!!!!!!!!\x20S'+'hadow\x20func'+'tions\x20need'+'\x20update\x20fo'+'r\x20WGSL\x20tex'+'tureSample'+'Compare\x20et'+'c.\x20Assumin'+'g\x20these\x20ar'+'e\x20handled\x20'+'in\x20include'+'s.\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'SpotCluste'+'redPCF1(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadow:\x20f32'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF3('+'shadowAtla'+'sTexture,\x20'+'shadowAtla'+'sTextureSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadow:\x20f'+'32\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'5(shadowAt'+'lasTexture'+',\x20shadowAt'+'lasTexture'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCSS)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l')+('et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CSS(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20mix('+'1.0,\x20shado'+'w,\x20light.s'+'hadowInten'+'sity);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20omni\x20'+'shadow\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalOffset'+'PointShado'+'w(shadowPa'+'rams,\x20ligh'+'t.position'+',\x20lightDir'+'W,\x20lightDi'+'rNormW,\x20ge'+'ometricNor'+'mal);\x20\x20//\x20'+'normalBias'+'\x20adjusted\x20'+'for\x20distan'+'ce\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20!!!!!!!!!'+'!!\x20SHADOWM'+'AP_PASS\x20ne'+'eds\x20textur'+'e\x20and\x20samp'+'ler_compar'+'ison.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20!!!!!!!'+'!!!!\x20Shado'+'w\x20function'+'s\x20need\x20upd'+'ate\x20for\x20WG'+'SL\x20texture'+'SampleComp'+'are\x20etc.\x20A'+'ssuming\x20th'+'ese\x20are\x20ha'+'ndled\x20in\x20i'+'ncludes.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowOmni'+'ClusteredP'+'CF1(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowPar'+'ams,\x20light'+'.omniAtlas'+'Viewport,\x20'+'shadowEdge'+'Pixels,\x20di'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20getSha'+'dowOmniClu'+'steredPCF3'+'(shadowAtl'+'asTexture,'+'\x20shadowAtl'+'asTextureS'+'ampler,\x20sh'+'adowParams'+',\x20light.om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'OmniCluste'+'redPCF5(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20areaDif'+'fuse:\x20vec3'+'f\x20=\x20(diffu'+'seAttenuat'+'ion\x20*\x20fall'+'offAttenua'+'tion)\x20*\x20li')+('ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaDi'+'ffuse\x20=\x20mi'+'x(areaDiff'+'use,\x20vec3f'+'(0.0),\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20diff'+'use\x20-\x20it\x20d'+'oes\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20areaDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20areaL'+'ightSpecul'+'ar:\x20f32;\x20/'+'/\x20Use\x20var\x20'+'because\x20as'+'signed\x20in\x20'+'if/else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_RECT'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getRe'+'ctLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(ligh'+'t.shape\x20=='+'\x20{LIGHTSHA'+'PE_DISK})\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getDiskL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x20//\x20sphere'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'Specular\x20='+'\x20getSphere'+'LightSpecu')+('lar(worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20dLTC'+'SpecFres\x20*'+'\x20areaLight'+'Specular\x20*'+'\x20falloffAt'+'tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sp'+'ecular\x20cle'+'ar\x20coat\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20areaLigh'+'tSpecularC'+'C:\x20f32;\x20//'+'\x20Use\x20var\x20b'+'ecause\x20ass'+'igned\x20in\x20i'+'f/else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20==\x20{LI'+'GHTSHAPE_R'+'ECT})\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getRec'+'tLightSpec'+'ular(clear'+'coat_world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecularCC\x20='+'\x20getDiskLi'+'ghtSpecula'+'r(clearcoa'+'t_worldNor'+'mal,\x20viewD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20{\x20//\x20sph'+'ere\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getSphereL'+'ightSpecul'+'ar(clearco'+'at_worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'cSpecularL'+'ight\x20=\x20ccS'+'pecularLig'+'ht\x20+\x20ccLTC'+'SpecFres\x20*'+'\x20areaLight'+'SpecularCC'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20\x20*\x20c'+'ookieAtten')+('uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20punctual'+'\x20light\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20p'+'unctualDif'+'fuse:\x20vec3'+'f\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_AREAL'+'IGHTS)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'unctualDif'+'fuse\x20=\x20mix'+'(punctualD'+'iffuse,\x20ve'+'c3f(0.0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20dDiffus'+'eLight\x20+\x20p'+'unctualDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Dir:\x20vec3f'+'\x20=\x20normali'+'ze(-lightD'+'irNormW\x20+\x20'+'viewDir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR_FRESN'+'EL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20=\x20'+'dSpecularL'+'ight\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD')+('ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20halfD'+'ir),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'=\x20ccSpecul'+'arLight\x20+\x20'+'getLightSp'+'ecular(hal'+'fDir,\x20clea'+'rcoatRefle'+'ctionDir,\x20'+'clearcoat_'+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'NormW,\x20cle'+'arcoat_glo'+'ss,\x20tbn)\x20*'+'\x20falloffAt')+('tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion\x20*\x20getF'+'resnelCC(d'+'ot(viewDir'+',\x20halfDir)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20='+'\x20ccSpecula'+'rLight\x20+\x20g'+'etLightSpe'+'cular(half'+'Dir,\x20clear'+'coatReflec'+'tionDir,\x20c'+'learcoat_w'+'orldNormal'+',\x20viewDir,'+'\x20lightDirN'+'ormW,\x20clea'+'rcoat_glos'+'s,\x20tbn)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'+\x20getLight'+'SpecularSh'+'een(halfDi'+'r,\x20worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'sheen_glos'+'s)\x20*\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20'+'cookieAtte'+'nuation;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20Writ'+'e\x20to\x20globa'+'l\x20attenuat'+'ion\x20values'+'\x20(for\x20ligh'+'tmapper)\x0a\x20'+'\x20\x20\x20dAtten\x20'+'=\x20falloffA'+'ttenuation'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20lightDi'+'rNormW;\x0a}\x0a'+'\x0a\x0afn\x20evalu'+'ateCluster'+'Light(\x0a\x20\x20\x20'+'\x20lightInde'+'x:\x20f32,\x0a\x20\x20'+'\x20\x20worldNor'+'mal:\x20vec3f'+',\x0a\x20\x20\x20\x20view'+'Dir:\x20vec3f'+',\x0a\x20\x20\x20\x20refl'+'ectionDir:'+'\x20vec3f,\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20c'+'learcoatRe'+'flectionDi'+'r:\x20vec3f,\x0a'+'#endif\x0a\x20\x20\x20')+('\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20geometric'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20t'+'bn:\x20mat3x3'+'f,\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20clearc'+'oat_worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20cl'+'earcoat_gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20sheen_'+'gloss:\x20f32'+',\x0a\x20\x20\x20\x20irid'+'escence_in'+'tensity:\x20f'+'32\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr'+'om\x20texture'+'s\x0a\x20\x20\x20\x20var\x20'+'clusterLig'+'htData:\x20Cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(&cluste'+'rLightData'+',\x20lightInd'+'ex);\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20light\x20if'+'\x20it\x20uses\x20a'+'ccepted\x20li'+'ght\x20mask\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'acceptLigh'+'tMask:\x20boo'+'l\x20=\x20cluste'+'rLightData'+'.isDynamic'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20accept'+'LightMask:'+'\x20bool\x20=\x20cl'+'usterLight'+'Data.isLig'+'htmapped;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'acceptLigh'+'tMask)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20eva'+'luateLight'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20&clust'+'erLightDat'+'a,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'viewDir,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20reflectio'+'nDir,\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20geometri'+'cNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20tbn,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE')+('NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'sheen_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a\x0a\x0afn'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20world'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20v'+'iewDir:\x20ve'+'c3f,\x0a\x20\x20\x20\x20r'+'eflectionD'+'ir:\x20vec3f,'+'\x0a#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20clearcoa'+'tReflectio'+'nDir:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'specularit'+'y:\x20vec3f,\x0a'+'\x20\x20\x20\x20geomet'+'ricNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20tbn:\x20mat'+'3x3f,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a#end'+'if\x0a\x20\x20\x20\x20cle'+'arcoat_wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20clearcoat'+'_gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20she'+'en_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20i'+'ridescence'+'_intensity'+':\x20f32\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20sk'+'ip\x20lights\x20'+'if\x20no\x20ligh'+'ts\x20at\x20all\x0a'+'\x20\x20\x20\x20if\x20(un'+'iform.clus'+'terSkip\x20>\x20'+'0.5)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x20to'+'\x203d\x20intege'+'r\x20cell\x20cor'+'dinates\x20in'+'\x20the\x20clust'+'er\x20structu'+'re\x0a\x20\x20\x20\x20let'+'\x20cellCoord'+'s:\x20vec3f\x20='+'\x20floor((vP'+'ositionW\x20-'+'\x20uniform.c'+'lusterBoun'+'dsMin)\x20*\x20u'+'niform.clu'+'sterCellsC'+'ountByBoun'+'dsSize);\x0a\x0a'+'\x20\x20\x20\x20//\x20no\x20'+'lighting\x20w'+'hen\x20cell\x20c'+'oordinate\x20'+'is\x20out\x20of\x20'+'range\x0a\x20\x20\x20\x20'+'if\x20(!(any('+'cellCoords')+('\x20<\x20vec3f(0'+'.0))\x20||\x20an'+'y(cellCoor'+'ds\x20>=\x20unif'+'orm.cluste'+'rCellsMax)'+'))\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cel'+'l\x20index\x20(m'+'apping\x20fro'+'m\x203d\x20cell\x20'+'coordinate'+'s\x20to\x20linea'+'r\x20memory)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20cellInde'+'x:\x20f32\x20=\x20d'+'ot(uniform'+'.clusterCe'+'llsDot,\x20ce'+'llCoords);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20convert'+'\x20cell\x20inde'+'x\x20to\x20uv\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20clusterV'+':\x20f32\x20=\x20fl'+'oor(cellIn'+'dex\x20*\x20unif'+'orm.cluste'+'rTextureSi'+'ze.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20c'+'lusterU:\x20f'+'32\x20=\x20cellI'+'ndex\x20-\x20(cl'+'usterV\x20*\x20u'+'niform.clu'+'sterTextur'+'eSize.x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20loop\x20ove'+'r\x20maximum\x20'+'number\x20of\x20'+'light\x20cell'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(var\x20l'+'ightCellIn'+'dex:\x20i32\x20='+'\x200;\x20lightC'+'ellIndex\x20<'+'\x20uniform.c'+'lusterMaxC'+'ells;\x20ligh'+'tCellIndex'+'\x20=\x20lightCe'+'llIndex\x20+\x20'+'1)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20using\x20a\x20s'+'ingle\x20chan'+'nel\x20textur'+'e\x20with\x20dat'+'a\x20in\x20red\x20c'+'hannel\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20lightIn'+'dexPacked:'+'\x20f32\x20=\x20tex'+'tureLoad(c'+'lusterWorl'+'dTexture,\x20'+'vec2<i32>('+'i32(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20i32(clus'+'terV)),\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(lightInde'+'xPacked\x20<='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20break;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndexPack'+'ed\x20*\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20vie'+'wDir,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'eometricNo'+'rmal,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20clearc'+'oat_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a}'),SM='\x0afn\x20combin'+'eColor(alb'+'edo:\x20vec3f'+',\x20sheenSpe'+'cularity:\x20'+'vec3f,\x20cle'+'arcoatSpec'+'ularity:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20ret:\x20ve'+'c3f\x20=\x20vec3'+'f(0.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ret\x20=\x20'+'ret\x20+\x20((dD'+'iffuseLigh'+'t\x20-\x20unifor'+'m.light_gl'+'obalAmbien'+'t)\x20*\x20albed'+'o\x20+\x20unifor'+'m.material'+'_ambient\x20*'+'\x20uniform.l'+'ight_globa'+'lAmbient);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(albedo\x20*'+'\x20dDiffuseL'+'ight);\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_OLD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20dSpecular'+'Light;\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(dReflect'+'ion.rgb\x20*\x20'+'dReflectio'+'n.a);\x0a\x20\x20\x20\x20'+'#endif\x20//\x20'+'LIT_REFLEC'+'TIONS\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'sheenScali'+'ng:\x20f32\x20=\x20'+'1.0\x20-\x20max('+'max(sheenS'+'pecularity'+'.r,\x20sheenS'+'pecularity'+'.g),\x20sheen'+'Specularit'+'y.b)\x20*\x200.1'+'57;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20sheenS'+'caling\x20+\x20('+'sSpecularL'+'ight\x20+\x20sRe'+'flection.r'+'gb)\x20*\x20shee'+'nSpeculari'+'ty;\x0a\x20\x20\x20\x20#e'+'ndif\x20//\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20clear'+'CoatScalin'+'g:\x20f32\x20=\x201'+'.0\x20-\x20ccFre'+'snel\x20*\x20cle'+'arcoatSpec'+'ularity;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'\x20=\x20ret\x20*\x20c'+'learCoatSc'+'aling\x20+\x20(c'+'cSpecularL'+'ight\x20+\x20ccR'+'eflection)'+('\x20*\x20clearco'+'atSpecular'+'ity;\x0a\x20\x20\x20\x20#'+'endif\x20//\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20re'+'turn\x20ret;\x0a'+'}\x0a'),yM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x0a\x20\x20\x20\x20'+'var\x20blitTe'+'xture:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20blitText'+'ureSampler'+'\x20:\x20sampler'+';\x0a\x0a\x20\x20\x20\x20@fr'+'agment\x0a\x20\x20\x20'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20t'+'extureSamp'+'le(blitTex'+'ture,\x20blit'+'TextureSam'+'pler,\x20inpu'+'t.uv0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20}\x0a',vM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20u'+'niform\x20inv'+'ViewProj:\x20'+'mat4x4<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'re:\x20textur'+'e_cube<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'reSampler\x20'+':\x20sampler;'+'\x0a\x0a\x20\x20\x20\x20@fra'+'gment\x0a\x20\x20\x20\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20pro'+'jPos\x20=\x20vec'+'4f(input.u'+'v0\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20w'+'orldPos\x20=\x20'+'uniform.in'+'vViewProj\x20'+'*\x20projPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20textur'+'eSample(bl'+'itTexture,'+'\x20blitTextu'+'reSampler,'+'\x20worldPos.'+'xyz);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20}\x0a',xM='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.uv0.y'+'\x20=\x201.0\x20-\x20o'+'utput.uv0.'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',TM='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMin:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMax:\x20v'+'ec3f;\x0a#end'+'if\x0a\x0afn\x20cub'+'eMapProjec'+'t(nrdir:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20cubeMapR'+'otate(nrdi'+'r);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIT_CU'+'BEMAP_PROJ'+'ECTION\x20==\x20'+'BOX\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20nrd'+'ir_rotated'+':\x20vec3f\x20=\x20'+'cubeMapRot'+'ate(nrdir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20rbmax'+':\x20vec3f\x20=\x20'+'(uniform.e'+'nvBoxMax\x20-'+'\x20vPosition'+'W)\x20/\x20nrdir'+'_rotated;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20rbmin:\x20v'+'ec3f\x20=\x20(un'+'iform.envB'+'oxMin\x20-\x20vP'+'ositionW)\x20'+'/\x20nrdir_ro'+'tated;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'rbminmax:\x20'+'vec3f\x20=\x20se'+'lect(rbmin'+',\x20rbmax,\x20n'+'rdir_rotat'+'ed\x20>\x20vec3f'+'(0.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'fa:\x20f32\x20=\x20'+'min(min(rb'+'minmax.x,\x20'+'rbminmax.y'+'),\x20rbminma'+'x.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20p'+'osonbox:\x20v'+'ec3f\x20=\x20vPo'+'sitionW\x20+\x20'+'nrdir_rota'+'ted\x20*\x20fa;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20envBoxPo'+'s:\x20vec3f\x20='+'\x20(uniform.'+'envBoxMin\x20'+'+\x20uniform.'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20normali'+'ze(posonbo'+'x\x20-\x20envBox'+'Pos);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',wM='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20cubeMap'+'RotationMa'+'trix:\x20mat3'+'x3f;\x0a#endi'+'f\x0a\x0afn\x20cube'+'MapRotate('+'refDir:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a#ifd'+'ef\x20CUBEMAP'+'_ROTATION\x0a'+'\x20\x20\x20\x20return'+'\x20refDir\x20*\x20'+'uniform.cu'+'beMapRotat'+'ionMatrix;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir;\x0a#end'+'if\x0a}\x0a',EM='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0aoutp'+'ut.color\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0aoutput.co'+'lor\x20=\x20vec4'+'f(litArgs_'+'albedo\x20,\x201'+'.0);\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'DEBUG_WORL'+'D_NORMAL_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(litAr'+'gs_worldNo'+'rmal\x20*\x200.5'+'\x20+\x200.5,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_OPACI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_opacity'+')\x20,\x201.0);\x0a'+'#endif\x0a\x0a#i'+'fdef\x20DEBUG'+'_SPECULARI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(l'+'itArgs_spe'+'cularity,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_GLO'+'SS_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_gloss)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_M'+'ETALNESS_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(vec3f'+'(litArgs_m'+'etalness)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_A'+'O_PASS\x0aout'+'put.color\x20'+'=\x20vec4f(ve'+'c3f(litArg'+'s_ao)\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_EMISS'+'ION_PASS\x0ao'+'utput.colo'+'r\x20=\x20vec4f('+'gammaCorre'+'ctOutput(l'+'itArgs_emi'+'ssion),\x201.'+'0);\x0a#endif'+'\x0a',bM='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0a\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20v'+'ec3f(0.5);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0a#ifdef\x20VA'+'RYING_VUV0'+'\x0a\x20\x20\x20\x20litAr'+'gs_albedo\x20'+'=\x20vec3f(vU'+'v0,\x200.0);\x0a'+'#else\x0a\x20\x20\x20\x20'+'litArgs_al'+'bedo\x20=\x20vec'+'3f(0.0);\x0a#'+'endif\x0a#end'+'if\x0a',AM='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0afn\x20de'+'codeLinear'+'(raw:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20raw.r'+'gb;\x0a}\x0a\x0afn\x20'+'decodeGamm'+'aFloat(raw'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20pow'+'(raw,\x202.2)'+';\x0a}\x0a\x0afn\x20de'+'codeGamma3'+'(raw:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(r'+'aw,\x20vec3f('+'2.2));\x0a}\x0a\x0a'+'fn\x20decodeG'+'amma(raw:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow(raw.xyz'+',\x20vec3f(2.'+'2));\x0a}\x0a\x0afn'+'\x20decodeRGB'+'M(raw:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20color\x20='+'\x20(8.0\x20*\x20ra'+'w.a)\x20*\x20raw'+'.rgb;\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0afn\x20de'+'codeRGBP(r'+'aw:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20ra'+'w.rgb\x20*\x20(-'+'raw.a\x20*\x207.'+'0\x20+\x208.0);\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0af'+'n\x20decodeRG'+'BE(raw:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(vec3f('+'0.0),\x20raw.'+'xyz\x20*\x20pow('+'2.0,\x20raw.w'+'\x20*\x20255.0\x20-'+'\x20128.0),\x20r'+'aw.a\x20!=\x200.'+'0);\x0a}\x0a\x0afn\x20'+'passThroug'+'h(raw:\x20vec'+'4f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw;'+'\x0a}\x0a\x0afn\x20unp'+'ackNormalX'+'YZ(nmap:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20nm'+'ap.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'}\x0a\x0afn\x20unpa'+'ckNormalXY'+'(nmap:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20xy\x20=\x20nm'+'ap.wy\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'vec3f(xy,\x20'+'sqrt(1.0\x20-'+'\x20clamp(dot'+'(xy,\x20xy),\x20'+'0.0,\x201.0))'+');\x0a}\x0a\x0a#end'+'if\x0a',CM='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0afn\x20de'+'tailMode_m'+'ul(c1:\x20vec'+'3f,\x20c2:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20c1\x20'+'*\x20c2;\x0a}\x0a\x0af'+'n\x20detailMo'+'de_add(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20c1\x20+\x20c2;\x0a'+'}\x0a\x0a//\x20http'+'s://en.wik'+'ipedia.org'+'/wiki/Blen'+'d_modes#Sc'+'reen\x0afn\x20de'+'tailMode_s'+'creen(c1:\x20'+'vec3f,\x20c2:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'1.0\x20-\x20(1.0'+'\x20-\x20c1)*(1.'+'0\x20-\x20c2);\x0a}'+'\x0a\x0a//\x20https'+'://en.wiki'+'pedia.org/'+'wiki/Blend'+'_modes#Ove'+'rlay\x0afn\x20de'+'tailMode_o'+'verlay(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20mix(1.0\x20-'+'\x202.0\x20*\x20(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0\x20*\x20c1\x20*'+'\x20c2,\x20step('+'c1,\x20vec3f('+'0.5)));\x0a}\x0a'+'\x0afn\x20detail'+'Mode_min(c'+'1:\x20vec3f,\x20'+'c2:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20min(c1,'+'\x20c2);\x0a}\x0a\x0af'+'n\x20detailMo'+'de_max(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(c1,\x20c'+'2);\x0a}\x0a\x0a#en'+'dif\x0a',PM='\x0auniform\x20m'+'aterial_di'+'ffuse:\x20vec'+'3f;\x0a\x0a#ifde'+'f\x20STD_DIFF'+'USEDETAIL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22detailMo'+'desPS\x22\x0a#en'+'dif\x0a\x0afn\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20unif'+'orm.materi'+'al_diffuse'+'.rgb;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoText'+'ure:\x20vec3f'+'\x20=\x20{STD_DI'+'FFUSE_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_DIFFU'+'SE_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'_TEXTURE_N'+'AME}Sample'+'r,\x20{STD_DI'+'FFUSE_TEXT'+'URE_UV},\x20u'+'niform.tex'+'tureBias))'+'.{STD_DIFF'+'USE_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoDeta'+'il:\x20vec3f\x20'+'=\x20{STD_DIF'+'FUSEDETAIL'+'_TEXTURE_D'+'ECODE}(tex'+'tureSample'+'Bias({STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_NAME},\x20{'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_DIFFU'+'SEDETAIL_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20=\x20dAlbe'+'do\x20*\x20albed'+'oTexture;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_DIF'+'FUSE_VERTE'+'X\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAlbedo\x20=\x20'+'dAlbedo\x20*\x20'+'gammaCorre'+'ctInputVec'+'3(saturate'+'3(vVertexC'+'olor.{STD_'+('DIFFUSE_VE'+'RTEX_CHANN'+'EL}));\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),MM='\x0auniform\x20m'+'aterial_em'+'issive:\x20ve'+'c3f;\x0aunifo'+'rm\x20materia'+'l_emissive'+'Intensity:'+'\x20f32;\x0a\x0afn\x20'+'getEmissio'+'n()\x20{\x0a\x20\x20\x20\x20'+'dEmission\x20'+'=\x20uniform.'+'material_e'+'missive\x20*\x20'+'uniform.ma'+'terial_emi'+'ssiveInten'+'sity;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_EMISSIVE'+'_TEXTURE\x0a\x20'+'\x20\x20\x20dEmissi'+'on\x20*=\x20{STD'+'_EMISSIVE_'+'TEXTURE_DE'+'CODE}(text'+'ureSampleB'+'ias({STD_E'+'MISSIVE_TE'+'XTURE_NAME'+'},\x20{STD_EM'+'ISSIVE_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_EMISSI'+'VE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias)).{S'+'TD_EMISSIV'+'E_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_VERT'+'EX\x0a\x20\x20\x20\x20dEm'+'ission\x20=\x20d'+'Emission\x20*'+'\x20gammaCorr'+'ectInputVe'+'c3(saturat'+'e3(vVertex'+'Color.{STD'+'_EMISSIVE_'+'VERTEX_CHA'+'NNEL}));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',DM='\x0afn\x20encode'+'Linear(sou'+'rce:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'source,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeGamm'+'a(source:\x20'+'vec3f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4f(pow(s'+'ource\x20+\x20ve'+'c3f(0.0000'+'001),\x20vec3'+'f(1.0\x20/\x202.'+'2)),\x201.0);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBM(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+'r\x20color:\x20v'+'ec3f\x20=\x20pow'+'(source,\x20v'+'ec3f(0.5))'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x201.0\x20/'+'\x208.0;\x0a\x0a\x20\x20\x20'+'\x20var\x20a:\x20f3'+'2\x20=\x20satura'+'te(max(max'+'(color.r,\x20'+'color.g),\x20'+'max(color.'+'b,\x201.0\x20/\x202'+'55.0)));\x0a\x20'+'\x20\x20\x20a\x20=\x20cei'+'l(a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20col'+'or\x20/=\x20a;\x0a\x20'+'\x20\x20\x20return\x20'+'vec4f(colo'+'r,\x20a);\x0a}\x0a\x0a'+'fn\x20encodeR'+'GBP(source'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20//\x20con'+'vert\x20incom'+'ing\x20linear'+'\x20to\x20gamma('+'ish)\x0a\x20\x20\x20\x20v'+'ar\x20gamma:\x20'+'vec3f\x20=\x20po'+'w(source,\x20'+'vec3f(0.5)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20the\x20maxim'+'um\x20compone'+'nt\x20clamped'+'\x20to\x201..8\x0a\x20'+'\x20\x20\x20var\x20max'+'Val:\x20f32\x20='+'\x20min(8.0,\x20'+'max(1.0,\x20m'+'ax(gamma.x'+',\x20max(gamm'+'a.y,\x20gamma'+'.z))));\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20stor'+'age\x20factor'+'\x0a\x20\x20\x20\x20var\x20v'+':\x20f32\x20=\x201.'+'0\x20-\x20((maxV'+'al\x20-\x201.0)\x20'+'/\x207.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20roun'+'d\x20the\x20valu'+'e\x20for\x20stor'+'age\x20in\x208bi'+'t\x20channel\x0a'+'\x20\x20\x20\x20v\x20=\x20ce'+'il(v\x20*\x20255'+'.0)\x20/\x20255.'+'0;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(gamma\x20/\x20('+'-v\x20*\x207.0\x20+'+'\x208.0),\x20v);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBE(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+('r\x20maxVal:\x20'+'f32\x20=\x20max('+'source.x,\x20'+'max(source'+'.y,\x20source'+'.z));\x0a\x20\x20\x20\x20'+'if\x20(maxVal'+'\x20<\x201e-32)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+':\x20f32\x20=\x20ce'+'il(log2(ma'+'xVal));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(s'+'ource\x20/\x20po'+'w(2.0,\x20e),'+'\x20(e\x20+\x20128.'+'0)\x20/\x20255.0'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a'),IM='\x0a\x20\x20\x20\x20var\x20f'+'inalRgb:\x20v'+'ec3f\x20=\x20com'+'bineColor('+'litArgs_al'+'bedo,\x20litA'+'rgs_sheen_'+'specularit'+'y,\x20litArgs'+'_clearcoat'+'_speculari'+'ty);\x0a\x0a\x20\x20\x20\x20'+'finalRgb\x20='+'\x20finalRgb\x20'+'+\x20litArgs_'+'emission;\x0a'+'\x20\x20\x20\x20finalR'+'gb\x20=\x20addFo'+'g(finalRgb'+');\x0a\x20\x20\x20\x20fin'+'alRgb\x20=\x20to'+'neMap(fina'+'lRgb);\x0a\x20\x20\x20'+'\x20finalRgb\x20'+'=\x20gammaCor'+'rectOutput'+'(finalRgb)'+';\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(fin'+'alRgb,\x20out'+'put.color.'+'a);\x0a',LM='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20atla'+'sSize\x20:\x20f3'+'2\x20=\x20512.0;'+'\x0aconst\x20sea'+'mSize\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0afn\x20mapU'+'v(uv\x20:\x20vec'+'2f,\x20rect\x20:'+'\x20vec4f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec2f(mix('+'rect.x\x20+\x20s'+'eamSize,\x20r'+'ect.x\x20+\x20re'+'ct.z\x20-\x20sea'+'mSize,\x20uv.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20mix(rect.'+'y\x20+\x20seamSi'+'ze,\x20rect.y'+'\x20+\x20rect.w\x20'+'-\x20seamSize'+',\x20uv.y));\x0a'+'}\x0a\x0a//\x20map\x20'+'a\x20normaliz'+'ed\x20equirec'+'t\x20UV\x20and\x20r'+'oughness\x20l'+'evel\x20to\x20th'+'e\x20correct\x20'+'atlas\x20rect'+'.\x0afn\x20mapRo'+'ughnessUv('+'uv\x20:\x20vec2f'+',\x20level\x20:\x20'+'f32)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20t\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'exp2(level'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mapUv('+'uv,\x20vec4f('+'0.0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0afn\x20mapS'+'hinyUv(uv\x20'+':\x20vec2f,\x20l'+'evel\x20:\x20f32'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20t\x20:\x20f32\x20='+'\x201.0\x20/\x20exp'+'2(level);\x0a'+'\x20\x20\x20\x20return'+'\x20mapUv(uv,'+'\x20vec4f(1.0'+'\x20-\x20t,\x201.0\x20'+'-\x20t,\x20t,\x20t\x20'+'*\x200.5));\x0a}'+'\x0a\x0a#endif\x0a',RM='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20skyboxInt'+'ensity\x20:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20proce'+'ssEnvironm'+'ent(color\x20'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20unifo'+'rm.skyboxI'+'ntensity;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',OM='\x0afn\x20getFal'+'loffWindow'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20sqrDist'+':\x20f32\x20=\x20do'+'t(lightDir'+',\x20lightDir'+');\x0a\x20\x20\x20\x20let'+'\x20invRadius'+':\x20f32\x20=\x201.'+'0\x20/\x20lightR'+'adius;\x0a\x20\x20\x20'+'\x20return\x20sq'+'uare(satur'+'ate(1.0\x20-\x20'+'square(sqr'+'Dist\x20*\x20squ'+'are(invRad'+'ius))));\x0a}'+'\x0a\x0afn\x20getFa'+'lloffInvSq'+'uared(ligh'+'tRadius:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20sq'+'rDist:\x20f32'+'\x20=\x20dot(lig'+'htDir,\x20lig'+'htDir);\x0a\x20\x20'+'\x20\x20var\x20fall'+'off:\x20f32\x20='+'\x201.0\x20/\x20(sq'+'rDist\x20+\x201.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20invRadiu'+'s:\x20f32\x20=\x201'+'.0\x20/\x20light'+'Radius;\x0a\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x20square('+'saturate(1'+'.0\x20-\x20squar'+'e(sqrDist\x20'+'*\x20square(i'+'nvRadius))'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20fall'+'off;\x0a}\x0a',FM='\x0afn\x20getFal'+'loffLinear'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20length(l'+'ightDir);\x0a'+'\x20\x20\x20\x20return'+'\x20max(((lig'+'htRadius\x20-'+'\x20d)\x20/\x20ligh'+'tRadius),\x20'+'0.0);\x0a}\x0a',NM='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x20re'+'presentati'+'on\x20(0.0-1.'+'0\x20range)\x0af'+'n\x20float2ui'+'nt(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20intBit'+'s\x20=\x20bitcas'+'t<u32>(val'+'ue);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20f32((intB'+'its\x20>>\x2024u'+')\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((intBi'+'ts\x20>>\x2016u)'+'\x20&\x200xffu),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((intBit'+'s\x20>>\x208u)\x20&'+'\x200xffu),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20f32'+'(intBits\x20&'+'\x200xffu)\x0a\x20\x20'+'\x20\x20)\x20/\x20255.'+'0;\x0a}\x0a\x0a//\x20d'+'ecode\x20RGBA'+'8\x20value\x20to'+'\x20float\x0afn\x20'+'uint2float'+'(value:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20rgba_u32'+'\x20=\x20vec4<u3'+'2>(value\x20*'+'\x20255.0);\x0a\x20'+'\x20\x20\x20let\x20int'+'Bits:\x20u32\x20'+'=\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'r\x20<<\x2024u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'g\x20<<\x2016u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'b\x20<<\x208u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20rgba_u32.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20bitcas'+'t<f32>(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0af'+'n\x20float2ve'+'c4(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CAPS_TEX'+'TURE_FLOAT'+'_RENDERABL'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(value,'+'\x201.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20float2ui'+'nt(value);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#endi'+'f\x20//\x20FLOAT'+'_AS_UINT\x0a',kM='\x0a\x0avar<priv'+'ate>\x20dBlen'+'dModeFogFa'+'ctor\x20:\x20f32'+'\x20=\x201.0;\x0a\x0a#'+'if\x20(FOG\x20!='+'\x20NONE)\x0a\x20\x20\x20'+'\x20uniform\x20f'+'og_color\x20:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20fog_sta'+'rt\x20:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20fog_'+'end\x20:\x20f32;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20fog'+'_density\x20:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afn\x20ge'+'tFogFactor'+'()\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20depth\x20=\x20p'+'cPosition.'+'z\x20/\x20pcPosi'+'tion.w;\x0a\x0a\x20'+'\x20\x20\x20var\x20fog'+'Factor\x20:\x20f'+'32\x20=\x200.0;\x0a'+'\x0a\x20\x20\x20\x20#if\x20('+'FOG\x20==\x20LIN'+'EAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20(unif'+'orm.fog_en'+'d\x20-\x20depth)'+'\x20/\x20(unifor'+'m.fog_end\x20'+'-\x20uniform.'+'fog_start)'+';\x0a\x20\x20\x20\x20#eli'+'f\x20(FOG\x20==\x20'+'EXP)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20exp(-'+'depth\x20*\x20un'+'iform.fog_'+'density);\x0a'+'\x20\x20\x20\x20#elif\x20'+'(FOG\x20==\x20EX'+'P2)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fogFacto'+'r\x20=\x20exp(-d'+'epth\x20*\x20dep'+'th\x20*\x20unifo'+'rm.fog_den'+'sity\x20*\x20uni'+'form.fog_d'+'ensity);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(fo'+'gFactor,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0afn\x20addF'+'og(color\x20:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'uniform.fo'+'g_color\x20*\x20'+'dBlendMode'+'FogFactor,'+'\x20color,\x20ge'+'tFogFactor'+'());\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'color;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',UM='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0afn'+'\x20getFresne'+'l(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20cosTheta:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y:\x20f32\x0a\x20\x20\x20'+'\x20#endif\x0a)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20f'+'resnel:\x20f3'+'2\x20=\x20pow(1.'+'0\x20-\x20satura'+'te(cosThet'+'a),\x205.0);\x0a'+'\x20\x20\x20\x20let\x20gl'+'ossSq:\x20f32'+'\x20=\x20gloss\x20*'+'\x20gloss;\x0a\x20\x20'+'\x20\x20let\x20ret:'+'\x20vec3f\x20=\x20s'+'pecularity'+'\x20+\x20(max(ve'+'c3f(glossS'+'q),\x20specul'+'arity)\x20-\x20s'+'pecularity'+')\x20*\x20fresne'+'l;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20mix(ret,'+'\x20iridescen'+'ceFresnel,'+'\x20iridescen'+'ceIntensit'+'y);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20r'+'et;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0afn'+'\x20getFresne'+'lCC(cosThe'+'ta:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20fres'+'nel:\x20f32\x20='+'\x20pow(1.0\x20-'+'\x20saturate('+'cosTheta),'+'\x205.0);\x0a\x20\x20\x20'+'\x20return\x200.'+'04\x20+\x20(1.0\x20'+'-\x200.04)\x20*\x20'+'fresnel;\x0a}',BM='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x0avary'+'ing\x20vUv0:\x20'+'vec2f;\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4f(inpu'+'t.vertex_p'+'osition,\x200'+'.5,\x201.0);\x0a'+'\x20\x20\x20\x20output'+'.vUv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x20vec2f(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',zM='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInput(c'+'olor:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGammaFloa'+'t(color);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20fn\x20gammaC'+'orrectInpu'+'tVec3(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20deco'+'deGamma3(c'+'olor);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInputVe'+'c4(color:\x20'+'vec4f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(d'+'ecodeGamma'+'3(color.xy'+'z),\x20color.'+'w);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Output(col'+'or:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20pow'+'(color\x20+\x200'+'.0000001,\x20'+'vec3f(1.0\x20'+'/\x202.2));\x0a\x20'+'\x20\x20\x20}\x0a\x0a#els'+'e\x20//\x20NONE\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Input(colo'+'r:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20gammaCo'+'rrectInput'+'Vec3(color'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20gamm'+'aCorrectIn'+'putVec4(co'+'lor:\x20vec4f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20g'+'ammaCorrec'+'tOutput(co'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a',VM='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_gl'+'oss:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getGlossi'+'ness()\x20{\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_GL'+'OSS_CONSTA'+'NT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20unifo'+'rm.materia'+'l_gloss;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_GLOS'+'S_TEXTURE\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x20dG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_GLOSS'+'_TEXTURE_N'+'AME},\x20{STD'+'_GLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_GLOSS_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_GLOSS_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_I'+'NVERT\x0a\x20\x20\x20\x20'+'dGlossines'+'s\x20=\x201.0\x20-\x20'+'dGlossines'+'s;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20d'+'Glossiness'+'\x20=\x20dGlossi'+'ness\x20+\x200.0'+'000001;\x0a}\x0a',GM='\x0auniform\x20m'+'atrix_mode'+'l:\x20mat4x4f'+';\x0auniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0auniform\x20'+'matrix_pro'+'jection:\x20m'+'at4x4f;\x0a\x0a/'+'/\x20project\x20'+'the\x20model\x20'+'space\x20gaus'+'sian\x20cente'+'r\x20to\x20view\x20'+'and\x20clip\x20s'+'pace\x0afn\x20in'+'itCenter(m'+'odelCenter'+':\x20vec3f,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>)\x20->\x20bo'+'ol\x20{\x0a\x20\x20\x20\x20l'+'et\x20modelVi'+'ew:\x20mat4x4'+'f\x20=\x20unifor'+'m.matrix_v'+'iew\x20*\x20unif'+'orm.matrix'+'_model;\x0a\x20\x20'+'\x20\x20let\x20cent'+'erView:\x20ve'+'c4f\x20=\x20mode'+'lView\x20*\x20ve'+'c4f(modelC'+'enter,\x201.0'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20if\x20splat\x20'+'is\x20behind\x20'+'the\x20camera'+'\x0a\x20\x20\x20\x20if\x20(c'+'enterView.'+'z\x20>\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20ce'+'nterProj:\x20'+'vec4f\x20=\x20un'+'iform.matr'+'ix_project'+'ion\x20*\x20cent'+'erView;\x0a\x0a\x20'+'\x20\x20\x20//\x20ensu'+'re\x20gaussia'+'ns\x20are\x20not'+'\x20clipped\x20b'+'y\x20camera\x20n'+'ear\x20and\x20fa'+'r\x0a\x20\x20\x20\x20cent'+'erProj.z\x20='+'\x20clamp(cen'+'terProj.z,'+'\x200.0,\x20abs('+'centerProj'+'.w));\x0a\x0a\x20\x20\x20'+'\x20center.vi'+'ew\x20=\x20cente'+'rView.xyz\x20'+'/\x20centerVi'+'ew.w;\x0a\x20\x20\x20\x20'+'center.pro'+'j\x20=\x20center'+'Proj;\x0a\x20\x20\x20\x20'+'center.pro'+'jMat00\x20=\x20u'+'niform.mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',HM='\x0a\x0avar\x20spla'+'tColor:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20r'+'eadColor(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20tex'+'tureLoad(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a}\x0a',WM='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20order:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20id:\x20u3'+'2,\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'uv:\x20vec2<i'+'32>,\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20corn'+'erUV:\x20vec2'+'f,\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a}\x0a\x0a'+'//\x20stores\x20'+'the\x20camera'+'\x20and\x20clip\x20'+'space\x20posi'+'tion\x20of\x20th'+'e\x20gaussian'+'\x20center\x0ast'+'ruct\x20Splat'+'Center\x20{\x0a\x20'+'\x20\x20\x20view:\x20v'+'ec3f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20vi'+'ew\x20space\x0a\x20'+'\x20\x20\x20proj:\x20v'+'ec4f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20cl'+'ip\x20space\x0a\x20'+'\x20\x20\x20modelVi'+'ew:\x20mat4x4'+'f,\x20\x20\x20//\x20mo'+'del-view\x20m'+'atrix\x0a\x20\x20\x20\x20'+'projMat00:'+'\x20f32,\x20\x20\x20\x20\x20'+'\x20\x20//\x20eleme'+'mt\x20[0][0]\x20'+'of\x20the\x20pro'+'jection\x20ma'+'trix\x0a}\x0a\x0a//'+'\x20stores\x20th'+'e\x20offset\x20f'+'rom\x20center'+'\x20for\x20the\x20c'+'urrent\x20gau'+'ssian\x0astru'+'ct\x20SplatCo'+'rner\x20{\x0a\x20\x20\x20'+'\x20offset:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20corn'+'er\x20offset\x20'+'from\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'uv:\x20vec2f,'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20aaFactor:'+'\x20f32,\x20//\x20f'+'or\x20scenes\x20'+'generated\x20'+'with\x20antia'+'liasing\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0a#include'+'\x20\x22gsplatEv'+'alSHVS\x22\x0a#i'+'nclude\x20\x22gs'+'platQuatTo'+'Mat3VS\x22\x0a\x0a#'+'if\x20GSPLAT_'+'COMPRESSED'+'_DATA\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatComp'+'ressedData'+'VS\x22\x0a\x20\x20\x20\x20#i'+('f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsDataVS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tSogsColor'+'VS\x22\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsSHVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#else\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatData'+'VS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22gs'+'platColorV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0afn\x20'+'clipCorner'+'(corner:\x20p'+'tr<functio'+'n,\x20SplatCo'+'rner>,\x20alp'+'ha:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'lip:\x20f32\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20(255'+'.0\x20*\x20alpha'+')))\x20/\x202.0)'+';\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20corner.o'+'ffset\x20*\x20cl'+'ip;\x0a\x20\x20\x20\x20co'+'rner.uv\x20=\x20'+'corner.uv\x20'+'*\x20clip;\x0a}\x0a'+'\x0a'),$M='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0avar'+'\x20chunkText'+'ure:\x20textu'+'re_2d<f32>'+';\x0a\x0a//\x20work'+'\x20values\x0ava'+'r<private>'+'\x20chunkData'+'A:\x20vec4f;\x20'+'\x20\x20\x20//\x20x:\x20m'+'in_x,\x20y:\x20m'+'in_y,\x20z:\x20m'+'in_z,\x20w:\x20m'+'ax_x\x0avar<p'+'rivate>\x20ch'+'unkDataB:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20max_'+'y,\x20y:\x20max_'+'z,\x20z:\x20scal'+'e_min_x,\x20w'+':\x20scale_mi'+'n_y\x0avar<pr'+'ivate>\x20chu'+'nkDataC:\x20v'+'ec4f;\x20\x20\x20\x20/'+'/\x20x:\x20scale'+'_min_z,\x20y:'+'\x20scale_max'+'_x,\x20z:\x20sca'+'le_max_y,\x20'+'w:\x20scale_m'+'ax_z\x0avar<p'+'rivate>\x20ch'+'unkDataD:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20min_'+'r,\x20y:\x20min_'+'g,\x20z:\x20min_'+'b,\x20w:\x20max_'+'r\x0avar<priv'+'ate>\x20chunk'+'DataE:\x20vec'+'4f;\x20\x20\x20\x20//\x20'+'x:\x20max_g,\x20'+'y:\x20max_b,\x20'+'z:\x20unused,'+'\x20w:\x20unused'+'\x0avar<priva'+'te>\x20packed'+'Data:\x20vec4'+'u;\x20\x20\x20\x20//\x20x'+':\x20position'+'\x20bits,\x20y:\x20'+'rotation\x20b'+'its,\x20z:\x20sc'+'ale\x20bits,\x20'+'w:\x20color\x20b'+'its\x0a\x0afn\x20un'+'pack111011'+'(bits:\x20u32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(vec3f'+'((vec3<u32'+'>(bits)\x20>>'+'\x20vec3<u32>'+'(21u,\x2011u,'+'\x200u))\x20&\x20ve'+'c3<u32>(0x'+'7ffu,\x200x3f'+'fu,\x200x7ffu'+')))\x20/\x20vec3'+'f(2047.0,\x20'+'1023.0,\x2020'+'47.0);\x0a}\x0a\x0a'+'fn\x20unpack8'+'888(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20f32((bit'+'s\x20>>\x2024u)\x20'+'&\x200xffu),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((bits\x20>>'+'\x2016u)\x20&\x200x'+'ffu),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20f32((b'+'its\x20>>\x208u)'+'\x20\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(bits\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20&\x200'+'xffu)\x0a\x20\x20\x20\x20'+')\x20/\x20255.0;'+('\x0a}\x0a\x0aconst\x20'+'norm_const'+':\x20f32\x20=\x201.'+'0\x20/\x20(sqrt('+'2.0)\x20*\x200.5'+');\x0a\x0afn\x20unp'+'ackRotatio'+'n(bits:\x20u3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x20(f32'+'((bits\x20>>\x20'+'20u)\x20&\x200x3'+'ffu)\x20/\x20102'+'3.0\x20-\x200.5)'+'\x20*\x20norm_co'+'nst;\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20(f3'+'2((bits\x20>>'+'\x2010u)\x20&\x200x'+'3ffu)\x20/\x2010'+'23.0\x20-\x200.5'+')\x20*\x20norm_c'+'onst;\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20(f'+'32(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+'_const;\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'sqrt(1.0\x20-'+'\x20(a\x20*\x20a\x20+\x20'+'b\x20*\x20b\x20+\x20c\x20'+'*\x20c));\x0a\x0a\x20\x20'+'\x20\x20let\x20mode'+'\x20=\x20bits\x20>>'+'\x2030u;\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x200u)\x20{\x20re'+'turn\x20vec4f'+'(m,\x20a,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20m,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x202u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20b,\x20m,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(a,\x20b,\x20c'+',\x20m);\x0a}\x0a\x0a/'+'/\x20read\x20cen'+'ter\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex_siz'+'e_u\x20=\x20text'+'ureDimensi'+'ons(chunkT'+'exture,\x200)'+';\x0a\x20\x20\x20\x20let\x20'+'w:\x20u32\x20=\x20t'+'ex_size_u.'+'x\x20/\x205u;\x0a\x20\x20'+'\x20\x20let\x20chun'+'kId:\x20u32\x20='+'\x20source.id'+'\x20/\x20256u;\x0a\x20'+'\x20\x20\x20let\x20chu'+'nkUV:\x20vec2'+'<i32>\x20=\x20ve'+'c2<i32>(i3'+'2((chunkId'+'\x20%\x20w)\x20*\x205u'+'),\x20i32(chu'+'nkId\x20/\x20w))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'read\x20chunk'+'\x20and\x20packe'+'d\x20compress'+'ed\x20data\x0a\x20\x20'+'\x20\x20chunkDat'+'aA\x20=\x20textu'+'reLoad(chu'+'nkTexture,'+'\x20chunkUV\x20+'+'\x20vec2<i32>'+'(0,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataB\x20=\x20t'+'extureLoad')+('(chunkText'+'ure,\x20chunk'+'UV\x20+\x20vec2<'+'i32>(1,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataC'+'\x20=\x20texture'+'Load(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20v'+'ec2<i32>(2'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataD\x20=\x20tex'+'tureLoad(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20vec2<i3'+'2>(3,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataE\x20='+'\x20textureLo'+'ad(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20vec'+'2<i32>(4,\x20'+'0),\x200);\x0a\x20\x20'+'\x20\x20packedDa'+'ta\x20=\x20textu'+'reLoad(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(chunkDa'+'taA.xyz,\x20v'+'ec3f(chunk'+'DataA.w,\x20c'+'hunkDataB.'+'xy),\x20unpac'+'k111011(pa'+'ckedData.x'+'));\x0a}\x0a\x0afn\x20'+'readColor('+'source:\x20pt'+'r<function'+',\x20SplatSou'+'rce>)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20let\x20r\x20=\x20u'+'npack8888('+'packedData'+'.w);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(mix(chun'+'kDataD.xyz'+',\x20vec3f(ch'+'unkDataD.w'+',\x20chunkDat'+'aE.xy),\x20r.'+'rgb),\x20r.w)'+';\x0a}\x0a\x0afn\x20ge'+'tRotation('+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20unpack'+'Rotation(p'+'ackedData.'+'y);\x0a}\x0a\x0afn\x20'+'getScale()'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20exp(mix'+'(vec3f(chu'+'nkDataB.zw'+',\x20chunkDat'+'aC.x),\x20chu'+'nkDataC.yz'+'w,\x20unpack1'+'11011(pack'+'edData.z))'+');\x0a}\x0a\x0a//\x20g'+'iven\x20a\x20rot'+'ation\x20matr'+'ix\x20and\x20sca'+'le\x20vector,'+'\x20compute\x203'+'d\x20covarian'+'ce\x20A\x20and\x20B'+'\x0afn\x20readCo'+'variance(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>,\x20covA_'+'ptr:\x20ptr<f'+'unction,\x20v'+'ec3f>,\x20cov'+'B_ptr:\x20ptr'+'<function,')+('\x20vec3f>)\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'ot\x20=\x20quatT'+'oMat3(getR'+'otation())'+';\x0a\x20\x20\x20\x20let\x20'+'scale\x20=\x20ge'+'tScale();\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20let\x20M\x20=\x20'+'transpose('+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.x\x20*\x20rot'+'[0],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.y'+'\x20*\x20rot[1],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.z\x20*\x20r'+'ot[2]\x0a\x20\x20\x20\x20'+'));\x0a\x0a\x20\x20\x20\x20*'+'covA_ptr\x20='+'\x20vec3f(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20*covB_p'+'tr\x20=\x20vec3f'+'(dot(M[1],'+'\x20M[1]),\x20do'+'t(M[1],\x20M['+'2]),\x20dot(M'+'[2],\x20M[2])'+');\x0a}\x0a'),XM='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0av'+'ar\x20shTextu'+'re0:\x20textu'+'re_2d<u32>'+';\x0avar\x20shTe'+'xture1:\x20te'+'xture_2d<u'+'32>;\x0avar\x20s'+'hTexture2:'+'\x20texture_2'+'d<u32>;\x0a\x0af'+'n\x20unpack88'+'88s(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20unpack'+'ed_u\x20=\x20(ve'+'c4<u32>(bi'+'ts)\x20>>\x20vec'+'4<u32>(0u,'+'\x208u,\x2016u,\x20'+'24u))\x20&\x20ve'+'c4<u32>(0x'+'ffu);\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(unpacke'+'d_u)\x20*\x20(8.'+'0\x20/\x20255.0)'+'\x20-\x204.0;\x0a}\x0a'+'\x0afn\x20readSH'+'Data(sourc'+'e:\x20ptr<fun'+'ction,\x20Spl'+'atSource>,'+'\x20sh:\x20ptr<f'+'unction,\x20a'+'rray<vec3f'+',\x2015>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20read\x20t'+'he\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20let\x20shD'+'ata0:\x20vec4'+'<u32>\x20=\x20te'+'xtureLoad('+'shTexture0'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20let\x20shDat'+'a1:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(sh'+'Texture1,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20shData2'+':\x20vec4<u32'+'>\x20=\x20textur'+'eLoad(shTe'+'xture2,\x20so'+'urce.uv,\x200'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20r0\x20=\x20unp'+'ack8888s(s'+'hData0.x);'+'\x0a\x20\x20\x20\x20let\x20r'+'1\x20=\x20unpack'+'8888s(shDa'+'ta0.y);\x0a\x20\x20'+'\x20\x20let\x20r2\x20='+'\x20unpack888'+'8s(shData0'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20r3\x20=\x20un'+'pack8888s('+'shData0.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20g0\x20=\x20unpa'+'ck8888s(sh'+'Data1.x);\x0a'+'\x20\x20\x20\x20let\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20let\x20g2\x20=\x20'+'unpack8888'+'s(shData1.'+'z);\x0a\x20\x20\x20\x20le'+'t\x20g3\x20=\x20unp'+'ack8888s(s'+'hData1.w);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'b0\x20=\x20unpac'+'k8888s(shD'+'ata2.x);\x0a\x20'+'\x20\x20\x20let\x20b1\x20'+('=\x20unpack88'+'88s(shData'+'2.y);\x0a\x20\x20\x20\x20'+'let\x20b2\x20=\x20u'+'npack8888s'+'(shData2.z'+');\x0a\x20\x20\x20\x20let'+'\x20b3\x20=\x20unpa'+'ck8888s(sh'+'Data2.w);\x0a'+'\x0a\x20\x20\x20\x20sh[0]'+'\x20=\x20\x20vec3f('+'r0.x,\x20g0.x'+',\x20b0.x);\x0a\x20'+'\x20\x20\x20sh[1]\x20='+'\x20\x20vec3f(r0'+'.y,\x20g0.y,\x20'+'b0.y);\x0a\x20\x20\x20'+'\x20sh[2]\x20=\x20\x20'+'vec3f(r0.z'+',\x20g0.z,\x20b0'+'.z);\x0a\x20\x20\x20\x20s'+'h[3]\x20=\x20\x20ve'+'c3f(r0.w,\x20'+'g0.w,\x20b0.w'+');\x0a\x20\x20\x20\x20sh['+'4]\x20=\x20\x20vec3'+'f(r1.x,\x20g1'+'.x,\x20b1.x);'+'\x0a\x20\x20\x20\x20sh[5]'+'\x20=\x20\x20vec3f('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3f(r1'+'.z,\x20g1.z,\x20'+'b1.z);\x0a\x20\x20\x20'+'\x20sh[7]\x20=\x20\x20'+'vec3f(r1.w'+',\x20g1.w,\x20b1'+'.w);\x0a\x20\x20\x20\x20s'+'h[8]\x20=\x20\x20ve'+'c3f(r2.x,\x20'+'g2.x,\x20b2.x'+');\x0a\x20\x20\x20\x20sh['+'9]\x20=\x20\x20vec3'+'f(r2.y,\x20g2'+'.y,\x20b2.y);'+'\x0a\x20\x20\x20\x20sh[10'+']\x20=\x20vec3f('+'r2.z,\x20g2.z'+',\x20b2.z);\x0a\x20'+'\x20\x20\x20sh[11]\x20'+'=\x20vec3f(r2'+'.w,\x20g2.w,\x20'+'b2.w);\x0a\x20\x20\x20'+'\x20sh[12]\x20=\x20'+'vec3f(r3.x'+',\x20g3.x,\x20b3'+'.x);\x0a\x20\x20\x20\x20s'+'h[13]\x20=\x20ve'+'c3f(r3.y,\x20'+'g3.y,\x20b3.y'+');\x0a\x20\x20\x20\x20sh['+'14]\x20=\x20vec3'+'f(r3.z,\x20g3'+'.z,\x20b3.z);'+'\x0a\x0a\x20\x20\x20\x20*sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),qM='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'COEFFS:\x20i3'+'2\x20=\x203;\x0a\x20\x20\x20'+'\x20#elif\x20SH_'+'BANDS\x20==\x202'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20SH_CO'+'EFFS:\x20i32\x20'+'=\x208;\x0a\x20\x20\x20\x20#'+'elif\x20SH_BA'+'NDS\x20==\x203\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20con'+'st\x20SH_COEF'+'FS:\x20i32\x20=\x20'+'15;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20const\x20SH'+'_COEFFS:\x20i'+'32\x20=\x200;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20SH'+'_BANDS\x20>\x200'+'\x0a\x0a\x20\x20\x20\x20cons'+'t\x20SH_C1:\x20f'+'32\x20=\x200.488'+'6025119029'+'199;\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x201\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20const'+'\x20SH_C2_0:\x20'+'f32\x20=\x201.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_1:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_2:\x20f'+'32\x20=\x200.315'+'3915652525'+'2005;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_3:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_4:\x20f'+'32\x20=\x200.546'+'2742152960'+'396;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SH_BA'+'NDS\x20>\x202\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_0:'+'\x20f32\x20=\x20-0.'+'5900435899'+'266435;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_1:'+'\x20f32\x20=\x202.8'+'9061144264'+'0554;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_2:\x20f'+'32\x20=\x20-0.45'+'7045799464'+'4658;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_3:\x20f'+'32\x20=\x200.373'+'1763325901'+'154;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_4:\x20f3'+'2\x20=\x20-0.457'+'0457994644'+'658;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_5:\x20f3'+'2\x20=\x201.4453'+'0572132027'+'7;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'C3_6:\x20f32\x20'+'=\x20-0.59004'+'3589926643'+'5;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20see\x20http'+'s://github'+'.com/graph'+'deco-inria'+('/gaussian-'+'splatting/'+'blob/main/'+'utils/sh_u'+'tils.py\x0a\x20\x20'+'\x20\x20fn\x20evalS'+'H(sh:\x20ptr<'+'function,\x20'+'array<vec3'+'f,\x20SH_COEF'+'FS>>,\x20dir:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x\x20=\x20dir.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20y\x20=\x20di'+'r.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20z\x20='+'\x20dir.z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'1st\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20result\x20'+'=\x20SH_C1\x20*\x20'+'(-sh[0]\x20*\x20'+'y\x20+\x20sh[1]\x20'+'*\x20z\x20-\x20sh[2'+']\x20*\x20x);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x201\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x202'+'nd\x20degree\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xx\x20='+'\x20x\x20*\x20x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20yy\x20=\x20y'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20yz'+'\x20=\x20y\x20*\x20z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xz\x20='+'\x20x\x20*\x20z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'result\x20+\x20('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'3]\x20*\x20(SH_C'+'2_0\x20*\x20xy)\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[4]\x20*\x20(SH_'+'C2_1\x20*\x20yz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[5]\x20*\x20(SH'+'_C2_2\x20*\x20(2'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[6]\x20*\x20(SH_'+'C2_3\x20*\x20xz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[7]\x20*\x20(SH'+'_C2_4\x20*\x20(x'+'x\x20-\x20yy))\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'=\x20result\x20+'+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20re'+'sult;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20#end'+'if\x0a'),jM='\x0afn\x20quatTo'+'Mat3(R:\x20ve'+'c4<f32>)\x20-'+'>\x20mat3x3<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'let\x20R2:\x20ve'+'c4<f32>\x20=\x20'+'R\x20+\x20R;\x0a\x20\x20\x20'+'\x20let\x20X:\x20f3'+'2\x20\x20\x20\x20\x20\x20\x20=\x20'+'R2.x\x20*\x20R.w'+';\x0a\x20\x20\x20\x20let\x20'+'Y:\x20vec4<f3'+'2>\x20=\x20R2.y\x20'+'*\x20R;\x0a\x20\x20\x20\x20l'+'et\x20Z:\x20vec4'+'<f32>\x20=\x20R2'+'.z\x20*\x20R;\x0a\x20\x20'+'\x20\x20let\x20W:\x20f'+'32\x20\x20\x20\x20\x20\x20\x20='+'\x20R2.w\x20*\x20R.'+'w;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20mat3x'+'3<f32>(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Z.z\x20-\x20W,'+'\x20\x20Y.z\x20+\x20X,'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.z\x20-'+'\x20X,\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x20Y.y'+'\x20-\x20W,\x20Z.w\x20'+'+\x20Y.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.w\x20+'+'\x20Z.x,\x20\x20\x20\x20\x20'+'\x20Z.w\x20-\x20Y.x'+',\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',YM='\x0avar\x20sh0:\x20'+'texture_2d'+'<f32>;\x0a\x0aun'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0auniform'+'\x20sh0_maxs:'+'\x20vec4f;\x0a\x0ac'+'onst\x20SH_C0'+':\x20f32\x20=\x200.'+'2820947917'+'7387814;\x0a\x0a'+'fn\x20readCol'+'or(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20let\x20cl'+'r:\x20vec4f\x20='+'\x20mix(unifo'+'rm.sh0_min'+'s,\x20uniform'+'.sh0_maxs,'+'\x20textureLo'+'ad(sh0,\x20so'+'urce.uv,\x200'+'));\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(vec3f(0.5'+')\x20+\x20clr.xy'+'z\x20*\x20SH_C0,'+'\x201.0\x20/\x20(1.'+'0\x20+\x20exp(-c'+'lr.w)));\x0a}'+'\x0a',KM='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0a\x0aun'+'iform\x20mean'+'s_mins:\x20ve'+'c3f;\x0aunifo'+'rm\x20means_m'+'axs:\x20vec3f'+';\x0a\x0auniform'+'\x20scales_mi'+'ns:\x20vec3f;'+'\x0auniform\x20s'+'cales_maxs'+':\x20vec3f;\x0a\x0a'+'fn\x20unpackU'+'32(u:\x20u32)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20vec4f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((u\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((u\x20>>\x201'+'6u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((u\x20>>\x20'+'8u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(u\x20&\x200x'+'FFu)\x20/\x20255'+'.0\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avar<pri'+'vate>\x20pack'+'edSample:\x20'+'vec4<u32>;'+'\x0a\x0a//\x20read\x20'+'the\x20model-'+'space\x20cent'+'er\x20of\x20the\x20'+'gaussian\x0af'+'n\x20readCent'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec3f\x20{\x0a'+'\x0a\x20\x20\x20\x20packe'+'dSample\x20=\x20'+'textureLoa'+'d(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20l:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.x).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20u:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20n:\x20vec3f\x20'+'=\x20(l\x20*\x20255'+'.0\x20+\x20u\x20*\x202'+'55.0\x20*\x20256'+'.0)\x20/\x206553'+'5.0;\x0a\x20\x20\x20\x20l'+'et\x20v:\x20vec3'+'f\x20=\x20mix(un'+'iform.mean'+'s_mins,\x20un'+'iform.mean'+'s_maxs,\x20n)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20sign(v'+')\x20*\x20(exp(a'+'bs(v))\x20-\x201'+'.0);\x0a}\x0a\x0aco'+'nst\x20norm:\x20'+'f32\x20=\x202.0\x20'+'/\x20sqrt(2.0'+');\x0a\x0a//\x20sam'+'ple\x20covari'+'ance\x20vecto'+'rs\x0afn\x20read'+'Covariance'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>,\x20cov'+'A_ptr:\x20ptr'+'<function,'+'\x20vec3f>,\x20c'+('ovB_ptr:\x20p'+'tr<functio'+'n,\x20vec3f>)'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20qdata:\x20ve'+'c4f\x20=\x20unpa'+'ckU32(pack'+'edSample.z'+');\x0a\x20\x20\x20\x20let'+'\x20sdata:\x20ve'+'c3f\x20=\x20unpa'+'ckU32(pack'+'edSample.w'+').xyz;\x0a\x0a\x20\x20'+'\x20\x20let\x20abc:'+'\x20vec3f\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(abc,'+'\x20abc)));\x0a\x0a'+'\x20\x20\x20\x20let\x20mo'+'de:\x20u32\x20=\x20'+'u32(qdata.'+'w\x20*\x20255.0\x20'+'+\x200.5)\x20-\x202'+'52u;\x0a\x0a\x20\x20\x20\x20'+'var\x20quat:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20if\x20(mode\x20'+'==\x200u)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20qua'+'t\x20=\x20vec4f('+'d,\x20abc);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20quat'+'\x20=\x20vec4f(a'+'bc.x,\x20d,\x20a'+'bc.y,\x20abc.'+'z);\x0a\x20\x20\x20\x20}\x20'+'else\x20if\x20(m'+'ode\x20==\x202u)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20quat\x20=\x20ve'+'c4f(abc.x,'+'\x20abc.y,\x20d,'+'\x20abc.z);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'quat\x20=\x20vec'+'4f(abc.x,\x20'+'abc.y,\x20abc'+'.z,\x20d);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x0a\x20\x20\x20\x20'+'let\x20rot:\x20m'+'at3x3f\x20=\x20q'+'uatToMat3('+'quat);\x0a\x20\x20\x20'+'\x20let\x20scale'+':\x20vec3f\x20=\x20'+'exp(mix(un'+'iform.scal'+'es_mins,\x20u'+'niform.sca'+'les_maxs,\x20'+'sdata));\x0a\x0a'+'\x20\x20\x20\x20//\x20M\x20='+'\x20S\x20*\x20R\x0a\x20\x20\x20'+'\x20let\x20M:\x20ma'+'t3x3f\x20=\x20tr'+'anspose(ma'+'t3x3f(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20*co'+'vA_ptr\x20=\x20v'+'ec3f(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20*covB_ptr'+'\x20=\x20vec3f(d'+'ot(M[1],\x20M'+'[1]),\x20dot('+'M[1],\x20M[2]'+'),\x20dot(M[2'+'],\x20M[2]));')+'\x0a}\x0a',ZM='\x0avar\x20sh_ce'+'ntroids:\x20t'+'exture_2d<'+'f32>;\x0a\x0auni'+'form\x20shN_m'+'ins:\x20f32;\x0a'+'uniform\x20sh'+'N_maxs:\x20f3'+'2;\x0a\x0afn\x20rea'+'dSHData(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>,\x20sh:\x20pt'+'r<function'+',\x20array<ve'+'c3f,\x20SH_CO'+'EFFS>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'let\x20t:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'32(packedS'+'ample.x\x20&\x20'+'255u),\x20i32'+'(packedSam'+'ple.y\x20&\x2025'+'5u));\x0a\x20\x20\x20\x20'+'let\x20n:\x20i32'+'\x20=\x20t.x\x20+\x20t'+'.y\x20*\x20256;\x0a'+'\x20\x20\x20\x20let\x20u:'+'\x20i32\x20=\x20(n\x20'+'%\x2064)\x20*\x20SH'+'_COEFFS;\x0a\x20'+'\x20\x20\x20let\x20v:\x20'+'i32\x20=\x20n\x20/\x20'+'64;\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20offset\x20i'+'nto\x20the\x20ce'+'ntroids\x20te'+'xture\x20and\x20'+'read\x20conse'+'cutive\x20tex'+'els\x0a\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'i32\x20=\x200;\x20i'+'\x20<\x20SH_COEF'+'FS;\x20i\x20=\x20i\x20'+'+\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[i]'+'\x20=\x20mix(vec'+'3f(uniform'+'.shN_mins)'+',\x20vec3f(un'+'iform.shN_'+'maxs),\x20tex'+'tureLoad(s'+'h_centroid'+'s,\x20vec2<i3'+'2>(u\x20+\x20i,\x20'+'v),\x200).xyz'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20*scale'+'\x20=\x201.0;\x0a}\x0a',QM='\x0auniform\x20v'+'iewport:\x20v'+'ec2f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20view'+'port\x20dimen'+'sions\x0aunif'+'orm\x20camera'+'_params:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201\x20/\x20far,\x20'+'far,\x20near,'+'\x20isOrtho\x0a\x0a'+'//\x20calcula'+'te\x20the\x20cli'+'p-space\x20of'+'fset\x20from\x20'+'the\x20center'+'\x20for\x20this\x20'+'gaussian\x0af'+'n\x20initCorn'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>,\x20corne'+'r:\x20ptr<fun'+'ction,\x20Spl'+'atCorner>)'+'\x20->\x20bool\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20var'+'\x20covA:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20covB:\x20ve'+'c3f;\x0a\x20\x20\x20\x20r'+'eadCovaria'+'nce(source'+',\x20&covA,\x20&'+'covB);\x0a\x0a\x20\x20'+'\x20\x20let\x20Vrk\x20'+'=\x20mat3x3f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(covA.'+'x,\x20covA.y,'+'\x20covA.z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(covA.y'+',\x20covB.x,\x20'+'covB.y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(covA.z,'+'\x20covB.y,\x20c'+'ovB.z)\x0a\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20l'+'et\x20focal\x20='+'\x20uniform.v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20let\x20v'+'\x20=\x20select('+'center.vie'+'w.xyz,\x20vec'+'3f(0.0,\x200.'+'0,\x201.0),\x20u'+'niform.cam'+'era_params'+'.w\x20==\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'J1\x20=\x20focal'+'\x20/\x20v.z;\x0a\x20\x20'+'\x20\x20let\x20J2\x20='+'\x20-J1\x20/\x20v.z'+'\x20*\x20v.xy;\x0a\x20'+'\x20\x20\x20let\x20J\x20='+'\x20mat3x3f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(J1,\x200.'+'0,\x20J2.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x20J'+'1,\x20J2.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x200'+'.0,\x200.0)\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20W\x20=\x20t'+'ranspose(m'+'at3x3f(cen'+'ter.modelV'+'iew[0].xyz'+',\x20center.m'+'odelView[1'+'].xyz,\x20cen'+('ter.modelV'+'iew[2].xyz'+'));\x0a\x20\x20\x20\x20le'+'t\x20T\x20=\x20W\x20*\x20'+'J;\x0a\x20\x20\x20\x20let'+'\x20cov\x20=\x20tra'+'nspose(T)\x20'+'*\x20Vrk\x20*\x20T;'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'GSPLAT_AA\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20calculate'+'\x20AA\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20detOrig'+'\x20=\x20cov[0]['+'0]\x20*\x20cov[1'+'][1]\x20-\x20cov'+'[0][1]\x20*\x20c'+'ov[1][0];\x20'+'//\x20Using\x20['+'0][1]\x20*\x20[1'+'][0]\x20as\x20ma'+'trix\x20might'+'\x20not\x20be\x20pe'+'rfectly\x20sy'+'mmetric\x20nu'+'merically\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20detBlur\x20'+'=\x20(cov[0]['+'0]\x20+\x200.3)\x20'+'*\x20(cov[1]['+'1]\x20+\x200.3)\x20'+'-\x20cov[0][1'+']\x20*\x20cov[1]'+'[0];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20corner.'+'aaFactor\x20='+'\x20sqrt(detO'+'rig\x20/\x20detB'+'lur);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal1\x20=\x20co'+'v[0][0]\x20+\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20offDiag'+'onal\x20=\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal2\x20=\x20co'+'v[1][1]\x20+\x20'+'0.3;\x0a\x0a\x20\x20\x20\x20'+'let\x20mid\x20=\x20'+'0.5\x20*\x20(dia'+'gonal1\x20+\x20d'+'iagonal2);'+'\x0a\x20\x20\x20\x20let\x20r'+'adius\x20=\x20le'+'ngth(vec2f'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20let\x20lambd'+'a1\x20=\x20mid\x20+'+'\x20radius;\x0a\x20'+'\x20\x20\x20let\x20lam'+'bda2\x20=\x20max'+'(mid\x20-\x20rad'+'ius,\x200.1);'+'\x0a\x0a\x20\x20\x20\x20//\x20U'+'se\x20the\x20sma'+'ller\x20viewp'+'ort\x20dimens'+'ion\x20to\x20lim'+'it\x20the\x20ker'+'nel\x20size\x20r'+'elative\x20to'+'\x20the\x20scree'+'n\x20resoluti'+'on.\x0a\x20\x20\x20\x20le'+'t\x20vmin\x20=\x20m'+'in(1024.0,'+'\x20min(unifo'+'rm.viewpor'+'t.x,\x20unifo'+'rm.viewpor'+'t.y));\x0a\x0a\x20\x20'+'\x20\x20let\x20l1\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda1)'+',\x20vmin);\x0a\x20'+'\x20\x20\x20let\x20l2\x20'+'=\x202.0\x20*\x20mi'+'n(sqrt(2.0'+'\x20*\x20lambda2')+('),\x20vmin);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly-out\x20ga'+'ussians\x20sm'+'aller\x20than'+'\x202\x20pixels\x0a'+'\x20\x20\x20\x20if\x20(l1'+'\x20<\x202.0\x20&&\x20'+'l2\x20<\x202.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20fal'+'se;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'uniform.vi'+'ewport;\x0a\x0a\x20'+'\x20\x20\x20//\x20cull'+'\x20against\x20f'+'rustum\x20x/y'+'\x20axes\x0a\x20\x20\x20\x20'+'if\x20(any((a'+'bs(center.'+'proj.xy)\x20-'+'\x20vec2f(max'+'(l1,\x20l2))\x20'+'*\x20c)\x20>\x20cen'+'ter.proj.w'+'w))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20diagona'+'lVector\x20=\x20'+'normalize('+'vec2f(offD'+'iagonal,\x20l'+'ambda1\x20-\x20d'+'iagonal1))'+';\x0a\x20\x20\x20\x20let\x20'+'v1\x20=\x20l1\x20*\x20'+'diagonalVe'+'ctor;\x0a\x20\x20\x20\x20'+'let\x20v2\x20=\x20l'+'2\x20*\x20vec2f('+'diagonalVe'+'ctor.y,\x20-d'+'iagonalVec'+'tor.x);\x20//'+'\x20Swizzle\x0a\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20=\x20'+'(source.co'+'rnerUV.x\x20*'+'\x20v1\x20+\x20sour'+'ce.cornerU'+'V.y\x20*\x20v2)\x20'+'*\x20c;\x0a\x20\x20\x20\x20c'+'orner.uv\x20='+'\x20source.co'+'rnerUV;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),JM='\x0avar\x20trans'+'formA:\x20tex'+'ture_2d<u3'+'2>;\x0avar\x20tr'+'ansformB:\x20'+'texture_2d'+'<f32>;\x0a\x0a//'+'\x20work\x20valu'+'es\x0avar<pri'+'vate>\x20tAw:'+'\x20u32;\x0a\x0a//\x20'+'read\x20the\x20m'+'odel-space'+'\x20center\x20of'+'\x20the\x20gauss'+'ian\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20let\x20'+'tA:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20t'+'Aw\x20=\x20tA.w;'+'\x0a\x20\x20\x20\x20retur'+'n\x20bitcast<'+'vec3f>(tA.'+'xyz);\x0a}\x0a\x0af'+'n\x20unpackRo'+'tation(pac'+'ked:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'packed.xyz'+',\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(pack'+'ed,\x20packed'+'))));\x0a}\x0a\x0a/'+'/\x20sample\x20c'+'ovariance\x20'+'vectors\x0afn'+'\x20readCovar'+'iance(sour'+'ce:\x20ptr<fu'+'nction,\x20Sp'+'latSource>'+',\x20covA_ptr'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20covB_p'+'tr:\x20ptr<fu'+'nction,\x20ve'+'c3f>)\x20{\x0a\x20\x20'+'\x20\x20let\x20tB:\x20'+'vec4f\x20=\x20te'+'xtureLoad('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20let\x20rot:'+'\x20mat3x3f\x20='+'\x20quatToMat'+'3(unpackRo'+'tation(vec'+'3f(unpack2'+'x16float(b'+'itcast<u32'+'>(tAw)),\x20t'+'B.w)).wxyz'+');\x0a\x20\x20\x20\x20let'+'\x20scale:\x20ve'+'c3f\x20=\x20tB.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x20M\x20=\x20S\x20*\x20'+'R\x0a\x20\x20\x20\x20let\x20'+'M\x20=\x20transp'+'ose(mat3x3'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20*covA_p'+'tr\x20=\x20vec3f'+'(dot(M[0],'+'\x20M[0]),\x20do'+('t(M[0],\x20M['+'1]),\x20dot(M'+'[0],\x20M[2])'+');\x0a\x20\x20\x20\x20*co'+'vB_ptr\x20=\x20v'+'ec3f(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a'),eD='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0afn\x20'+'prepareOut'+'putFromGam'+'ma(gammaCo'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20TONEMAP\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20G'+'AMMA\x20==\x20NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nvert\x20to\x20l'+'inear\x20spac'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20decodeGam'+'ma3(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20gamma\x20'+'space\x20colo'+'r\x20directly'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'gammaColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ap'+'ply\x20tonema'+'pping\x20in\x20l'+'inear\x20spac'+'e\x20and\x20outp'+'ut\x20to\x20line'+'ar\x20or\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20gam'+'ma\x20(which\x20'+'is\x20handled'+'\x20by\x20gammaC'+'orrectOutp'+'ut)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaCorrec'+'tOutput(to'+'neMap(deco'+'deGamma3(g'+'ammaColor)'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',tD='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20PICK_PAS'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22pick'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_PASS)\x20||\x20'+'defined(PI'+'CK_PASS)\x20|'+'|\x20defined('+'PREPASS_PA'+'SS)\x0a\x20\x20\x20\x20un'+'iform\x20alph'+'aClip:\x20f32'+';\x0a#endif\x0a\x0a'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vLinearD'+'epth:\x20f32;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22float'+'AsUintPS\x22\x0a'+'#endif\x0a\x0a//'+'\x20Fast\x20appr'+'oximate\x20e^'+'x\x20based\x20on'+'\x20https://n'+'ic.schraud'+'olph.org/p'+'ubs/Schrau'+'dolph99.pd'+'f\x0aconst\x20EX'+'P_A:\x20f32\x20\x20'+'\x20\x20\x20\x20=\x201210'+'2203.0;\x20\x20\x20'+'//\x20\x202^23\x20'+'/\x20ln(2)\x0aco'+'nst\x20EXP_BC'+'_RMS:\x20i32\x20'+'=\x2010648668'+'08;\x20\x20\x20//\x20('+'127\x20<<\x2023)'+'\x20-\x2060801\x20*'+'\x208\x0afn\x20fast'+'Exp(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20var\x20i'+':\x20i32\x20=\x20i3'+'2(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20bi'+'tcast<f32>'+'(i);\x0a}\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x0a\x20\x20\x20'+'\x20let\x20A:\x20f3'+'2\x20=\x20dot(ga'+'ussianUV,\x20'+'gaussianUV'+');\x0a\x20\x20\x20\x20if\x20'+'(A\x20>\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20alpha'+'\x0a\x20\x20\x20\x20var\x20a'+'lpha:\x20f32\x20'+'=\x20fastExp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+('Color.a;\x0a\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(al'+'pha\x20<\x20unif'+'orm.alphaC'+'lip)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20PI'+'CK_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20getPickO'+'utput();\x0a\x0a'+'\x20\x20\x20\x20#elif\x20'+'SHADOW_PAS'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(0.0,\x200.0'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20PREPAS'+'S_PASS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20float2vec'+'4(vLinearD'+'epth);\x0a\x0a\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20('+'1.0\x20/\x20255.'+'0))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20opaci'+'tyDither(&'+'alpha,\x20id\x20'+'*\x200.013);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(input'+'.gaussianC'+'olor.xyz,\x20'+'alpha);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'),sD='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0afn\x20unpack'+'111011s(bi'+'ts:\x20u32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20(vec3f((v'+'ec3<u32>(b'+'its)\x20>>\x20ve'+'c3<u32>(21'+'u,\x2011u,\x200u'+'))\x20&\x20vec3<'+'u32>(0x7ff'+'u,\x200x3ffu,'+'\x200x7ffu))\x20'+'/\x20vec3f(20'+'47.0,\x201023'+'.0,\x202047.0'+'))\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0as'+'truct\x20Scal'+'eAndSH\x20{\x0a\x20'+'\x20\x20\x20scale:\x20'+'f32,\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f\x0a};\x0a\x0a'+'//\x20fetch\x20q'+'uantized\x20s'+'pherical\x20h'+'armonic\x20co'+'efficients'+'\x0afn\x20fetchS'+'cale(t_in:'+'\x20vec4<u32>'+')\x20->\x20Scale'+'AndSH\x20{\x0a\x20\x20'+'\x20\x20var\x20resu'+'lt:\x20ScaleA'+'ndSH;\x0a\x20\x20\x20\x20'+'result.sca'+'le\x20=\x20bitca'+'st<f32>(t_'+'in.x);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20unpack11'+'1011s(t_in'+'.y);\x0a\x20\x20\x20\x20r'+'esult.b\x20=\x20'+'unpack1110'+'11s(t_in.z'+');\x0a\x20\x20\x20\x20res'+'ult.c\x20=\x20un'+'pack111011'+'s(t_in.w);'+'\x0a\x20\x20\x20\x20retur'+'n\x20result;\x0a'+'}\x0a\x0astruct\x20'+'SH\x20{\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20d:\x20vec3f\x0a'+'};\x0a\x0a//\x20fet'+'ch\x20quantiz'+'ed\x20spheric'+'al\x20harmoni'+'c\x20coeffici'+'ents\x0afn\x20fe'+'tch4(t_in:'+'\x20vec4<u32>'+')\x20->\x20SH\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'sult:\x20SH;\x0a'+'\x20\x20\x20\x20result'+'.a\x20=\x20unpac'+'k111011s(t'+'_in.x);\x0a\x20\x20'+'\x20\x20result.b'+'\x20=\x20unpack1'+'11011s(t_i'+'n.y);\x0a\x20\x20\x20\x20'+'result.c\x20='+'\x20unpack111'+'011s(t_in.'+'z);\x0a\x20\x20\x20\x20re'+'sult.d\x20=\x20u'+'npack11101'+'1s(t_in.w)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20result;'+'\x0a}\x0a\x0afn\x20fet'+'ch1(t_in:\x20'+'u32)\x20->\x20ve'+('c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20unp'+'ack111011s'+'(t_in);\x0a}\x0a'+'\x0a#if\x20SH_BA'+'NDS\x20==\x201\x0a\x20'+'\x20\x20\x20var\x20spl'+'atSH_1to3:'+'\x20texture_2'+'d<u32>;\x0a\x0a\x20'+'\x20\x20\x20fn\x20read'+'SHData(sou'+'rce:\x20ptr<f'+'unction,\x20S'+'platSource'+'>,\x20sh:\x20ptr'+'<function,'+'\x20array<vec'+'3f,\x203>>,\x20s'+'cale:\x20ptr<'+'function,\x20'+'f32>)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'result\x20=\x20f'+'etchScale('+'textureLoa'+'d(splatSH_'+'1to3,\x20sour'+'ce.uv,\x200))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'*scale\x20=\x20r'+'esult.scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[0]\x20=\x20r'+'esult.a;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'1]\x20=\x20resul'+'t.b;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[2]\x20='+'\x20result.c;'+'\x0a\x20\x20\x20\x20}\x0a#el'+'if\x20SH_BAND'+'S\x20==\x202\x0a\x20\x20\x20'+'\x20var\x20splat'+'SH_1to3:\x20t'+'exture_2d<'+'u32>;\x0a\x20\x20\x20\x20'+'var\x20splatS'+'H_4to7:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_8to11:\x20te'+'xture_2d<u'+'32>;\x0a\x0a\x20\x20\x20\x20'+'fn\x20readSHD'+'ata(source'+':\x20ptr<func'+'tion,\x20Spla'+'tSource>,\x20'+'sh:\x20ptr<fu'+'nction,\x20ar'+'ray<vec3f,'+'\x208>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se')+('cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20='+'\x20fetch1(te'+'xtureLoad('+'splatSH_8t'+'o11,\x20sourc'+'e.uv,\x200).x'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_1to3:\x20tex'+'ture_2d<u3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20splatSH_'+'4to7:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_8'+'to11:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_1'+'2to15:\x20tex'+'ture_2d<u3'+'2>;\x0a\x0a\x20\x20\x20\x20f'+'n\x20readSHDa'+'ta(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20s'+'h:\x20ptr<fun'+'ction,\x20arr'+'ay<vec3f,\x20'+'15>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se'+'cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20thi'+'rd:\x20SH\x20=\x20f'+'etch4(text'+'ureLoad(sp'+'latSH_8to1'+'1,\x20source.'+'uv,\x200));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'7]\x20=\x20third'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20=\x20'+'third.b;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'9]\x20=\x20third'+'.c;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[10]\x20='+'\x20third.d;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20fourth:'+'\x20SH\x20=\x20fetc'+'h4(texture'+'Load(splat'+'SH_12to15,')+('\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[11'+']\x20=\x20fourth'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[12]\x20='+'\x20fourth.b;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[13]\x20=\x20fo'+'urth.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20=\x20fourt'+'h.d;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a\x0a#'+'endif\x0a'),iD='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c3f;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20xy:\x20'+'cornerUV,\x20'+'z:\x20render\x20'+'order\x20offs'+'et\x0aattribu'+'te\x20vertex_'+'id_attrib:'+'\x20u32;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'nder\x20order'+'\x20base\x0a\x0auni'+'form\x20numSp'+'lats:\x20u32;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20total\x20nu'+'mber\x20of\x20sp'+'lats\x0avar\x20s'+'platOrder:'+'\x20texture_2'+'d<u32>;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'per-splat\x20'+'index\x20to\x20s'+'ource\x20gaus'+'sian\x0a\x0a//\x20i'+'nitialize\x20'+'the\x20splat\x20'+'source\x20str'+'ucture\x0afn\x20'+'initSource'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20let\x20w:\x20u3'+'2\x20=\x20textur'+'eDimension'+'s(splatOrd'+'er,\x200).x;\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20u3'+'2(vertex_p'+'osition.z)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'return\x20if\x20'+'out\x20of\x20ran'+'ge\x20(since\x20'+'the\x20last\x20b'+'lock\x20of\x20sp'+'lats\x20may\x20b'+'e\x20partiall'+'y\x20full)\x0a\x20\x20'+'\x20\x20if\x20(sour'+'ce.order\x20>'+'=\x20uniform.'+'numSplats)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20fa'+'lse;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'orderUV\x20=\x20'+'vec2i(vec2'+'u(source.o'+'rder\x20%\x20w,\x20'+'source.ord'+'er\x20/\x20w));\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20splat\x20i'+'d\x0a\x20\x20\x20\x20sour'+'ce.id\x20=\x20te'+'xtureLoad('+'splatOrder'+',\x20orderUV,'+'\x200).r;\x0a\x0a\x20\x20'+'\x20\x20//\x20map\x20i'+'d\x20to\x20uv\x0a\x20\x20'+'\x20\x20source.u'+'v\x20=\x20vec2i('+'vec2u(sour'+'ce.id\x20%\x20w,'+'\x20source.id'+'\x20/\x20w));\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+('turn\x20true;'+'\x0a}\x0a'),rD='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a#ifn'+'def\x20DITHER'+'_NONE\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0aconst'+'\x20discardVe'+'c:\x20vec4f\x20='+'\x20vec4f(0.0'+',\x200.0,\x202.0'+',\x201.0);\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20varying'+'\x20vLinearDe'+'pth:\x20f32;\x0a'+'#endif\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20gaussian\x20'+'details\x0a\x20\x20'+'\x20\x20var\x20sour'+'ce:\x20SplatS'+'ource;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Source(&so'+'urce))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.positi'+'on\x20=\x20disca'+'rdVec;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20let\x20model'+'Center:\x20ve'+'c3f\x20=\x20read'+'Center(&so'+'urce);\x0a\x0a\x20\x20'+'\x20\x20var\x20cent'+'er:\x20SplatC'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'&center))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20di'+'scardVec;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20pro'+'ject\x20cente'+'r\x20to\x20scree'+'n\x20space\x0a\x20\x20'+'\x20\x20var\x20corn'+'er:\x20SplatC'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(&so'+'urce,\x20&cen'+'ter,\x20&corn'+'er))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20clr:\x20vec4'+'f\x20=\x20readCo'+'lor(&sourc'+'e);\x0a\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'AA\x20compens'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr.a\x20'+('=\x20clr.a\x20*\x20'+'corner.aaF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20spher'+'ical\x20harmo'+'nics\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cal'+'culate\x20the'+'\x20model-spa'+'ce\x20view\x20di'+'rection\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'modelView3'+'x3\x20=\x20mat3x'+'3f(center.'+'modelView['+'0].xyz,\x20ce'+'nter.model'+'View[1].xy'+'z,\x20center.'+'modelView['+'2].xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dir\x20=\x20nor'+'malize(mod'+'elView3x3\x20'+'*\x20center.v'+'iew);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20sh:\x20array'+'<vec3f,\x20SH'+'_COEFFS>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20scale:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20readSHDa'+'ta(&source'+',\x20&sh,\x20&sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr\x20='+'\x20vec4f(clr'+'.xyz\x20+\x20eva'+'lSH(&sh,\x20d'+'ir)\x20*\x20scal'+'e,\x20clr.a);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(&c'+'orner,\x20clr'+'.w);\x0a\x0a\x20\x20\x20\x20'+'//\x20write\x20o'+'utput\x0a\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4f(co'+'rner.offse'+'t,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20ou'+'tput.gauss'+'ianUV\x20=\x20co'+'rner.uv;\x0a\x20'+'\x20\x20\x20output.'+'gaussianCo'+'lor\x20=\x20vec4'+'f(prepareO'+'utputFromG'+'amma(max(c'+'lr.xyz,\x20ve'+'c3f(0.0)))'+',\x20clr.w);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'id\x20=\x20f32(s'+'ource.id);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vLinearD'+'epth\x20=\x20-ce'+'nter.view.'+'z;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),aD='\x0a\x20\x20\x20\x20attri'+'bute\x20aPosi'+'tion:\x20vec2'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20uv0:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20@vertex\x20f'+'n\x20vertexMa'+'in(input:\x20'+'VertexInpu'+'t)\x20->\x20Vert'+'exOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20vec4f(inp'+'ut.aPositi'+'on,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'uv0\x20=\x20getI'+'mageEffect'+'UV((input.'+'aPosition\x20'+'+\x201.0)\x20*\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a',nD='\x0a//\x20Indire'+'ct\x20indexed'+'\x20draw\x20call'+'\x20parameter'+'s\x0astruct\x20D'+'rawIndexed'+'IndirectAr'+'gs\x20{\x0a\x20\x20\x20\x20i'+'ndexCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Numb'+'er\x20of\x20indi'+'ces\x20to\x20dra'+'w\x0a\x20\x20\x20\x20inst'+'anceCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20instanc'+'es\x20to\x20draw'+'\x0a\x20\x20\x20\x20first'+'Index:\x20u32'+',\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Index\x20of'+'\x20the\x20first'+'\x20index\x20in\x20'+'the\x20index\x20'+'buffer\x0a\x20\x20\x20'+'\x20baseVerte'+'x:\x20i32,\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Of'+'fset\x20added'+'\x20to\x20each\x20i'+'ndex\x20befor'+'e\x20fetching'+'\x20vertex\x0a\x20\x20'+'\x20\x20firstIns'+'tance:\x20u32'+'\x20\x20\x20\x20\x20\x20//\x20F'+'irst\x20insta'+'nce\x20ID\x0a};\x0a'+'\x0a//\x20Indire'+'ct\x20non-ind'+'exed\x20draw\x20'+'call\x20param'+'eters\x0astru'+'ct\x20DrawInd'+'irectArgs\x20'+'{\x0a\x20\x20\x20\x20vert'+'exCount:\x20u'+'32,\x20\x20\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20vertice'+'s\x20to\x20draw\x0a'+'\x20\x20\x20\x20instan'+'ceCount:\x20u'+'32,\x20\x20\x20\x20\x20//'+'\x20Number\x20of'+'\x20instances'+'\x20to\x20draw\x0a\x20'+'\x20\x20\x20firstVe'+'rtex:\x20u32,'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Index\x20of\x20t'+'he\x20first\x20v'+'ertex\x0a\x20\x20\x20\x20'+'firstInsta'+'nce:\x20u32,\x20'+'\x20\x20\x20\x20//\x20Fir'+'st\x20instanc'+'e\x20ID\x0a\x20\x20\x20\x20_'+'pad:\x20u32\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Padd'+'ing\x20to\x20mat'+'ch\x20indexed'+'\x20size\x20(unu'+'sed)\x0a};\x0a',oD='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gamma'+'PS\x22\x0a\x20\x20\x20\x20va'+'rying\x20colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(decodeGam'+'ma3(input.'+'color.rgb)'+'),\x20input.c'+'olor.a);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a',lD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20matr'+'ix_model:\x20'+'mat4x4f;\x0a\x20'+'\x20\x20\x20uniform'+'\x20matrix_vi'+'ewProjecti'+'on:\x20mat4x4'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output\x20:\x20V'+'ertexOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20inpu'+'t.vertex_c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20unifor'+'m.matrix_m'+'odel\x20*\x20inp'+'ut.vertex_'+'position;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',cD='\x0auniform\x20m'+'aterial_ir'+'idescenceR'+'efractionI'+'ndex:\x20f32;'+'\x0a\x0afn\x20iride'+'scence_ior'+'ToFresnelS'+'calar(tran'+'smittedIor'+':\x20f32,\x20inc'+'identIor:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(('+'transmitte'+'dIor\x20-\x20inc'+'identIor)\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'incidentIo'+'r),\x202.0);\x0a'+'}\x0a\x0afn\x20irid'+'escence_io'+'rToFresnel'+'Vec3(trans'+'mittedIor:'+'\x20vec3f,\x20in'+'cidentIor:'+'\x20f32)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'vec3f(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3f(inci'+'dentIor)),'+'\x20vec3f(2.0'+'));\x0a}\x0a\x0afn\x20'+'iridescenc'+'e_fresnelT'+'oIor(f0:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20sqrtF'+'0:\x20vec3f\x20='+'\x20sqrt(f0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20(vec3f(1'+'.0)\x20+\x20sqrt'+'F0)\x20/\x20(vec'+'3f(1.0)\x20-\x20'+'sqrtF0);\x0a}'+'\x0a\x0aconst\x20XY'+'Z_TO_REC70'+'9:\x20mat3x3f'+'\x20=\x20mat3x3f'+'(\x0a\x20\x20\x20\x20vec3'+'f(3.240454'+'2,\x20-1.5371'+'385,\x20-0.49'+'85314),\x0a\x20\x20'+'\x20\x20vec3f(-0'+'.9692660,\x20'+'\x201.8760108'+',\x20\x200.04155'+'60),\x0a\x20\x20\x20\x20v'+'ec3f(0.055'+'6434,\x20-0.2'+'040259,\x20\x201'+'.0572252)\x0a'+');\x0a\x0afn\x20iri'+'descence_s'+'ensitivity'+'(opd:\x20f32,'+'\x20shift:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x20\x20\x20\x20let'+'\x20phase:\x20f3'+'2\x20=\x202.0\x20*\x20'+'PI\x20*\x20opd\x20*'+'\x201.0e-9;\x0a\x20'+'\x20\x20\x20const\x20v'+'al:\x20vec3f\x20'+'=\x20vec3f(5.'+'4856e-13,\x20'+'4.4201e-13'+',\x205.2481e-'+'13);\x0a\x20\x20\x20\x20c'+'onst\x20pos:\x20'+'vec3f\x20=\x20ve'+'c3f(1.6810'+'e+06,\x201.79'+('53e+06,\x202.'+'2084e+06);'+'\x0a\x20\x20\x20\x20const'+'\x20var_:\x20vec'+'3f\x20=\x20vec3f'+'(4.3278e+0'+'9,\x209.3046e'+'+09,\x206.612'+'1e+09);\x0a\x0a\x20'+'\x20\x20\x20var\x20xyz'+':\x20vec3f\x20=\x20'+'val\x20*\x20sqrt'+'(2.0\x20*\x20PI\x20'+'*\x20var_)\x20*\x20'+'cos(pos\x20*\x20'+'phase\x20+\x20sh'+'ift)\x20*\x20exp'+'(-pow(phas'+'e,\x202.0)\x20*\x20'+'var_);\x0a\x20\x20\x20'+'\x20xyz.x\x20=\x20x'+'yz.x\x20+\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+'cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20=\x20xyz\x20/\x20v'+'ec3f(1.068'+'5e-07);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'XYZ_TO_REC'+'709\x20*\x20xyz;'+'\x0a}\x0a\x0afn\x20iri'+'descence_f'+'resnelScal'+'ar(cosThet'+'a:\x20f32,\x20f0'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20x:\x20f32'+'\x20=\x20clamp(1'+'.0\x20-\x20cosTh'+'eta,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'let\x20x2:\x20f3'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20let\x20x'+'5:\x20f32\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0afn'+'\x20iridescen'+'ce_fresnel'+'Vec3(cosTh'+'eta:\x20f32,\x20'+'f0:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'x:\x20f32\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'x2:\x20f32\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20let\x20x5:\x20f'+'32\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x0a\x20\x20'+'\x20\x20return\x20f'+'0\x20+\x20(vec3f'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0afn\x20calcIr'+'idescence('+'outsideIor'+':\x20f32,\x20cos'+'Theta:\x20f32'+',\x20base_f0:'+'\x20vec3f,\x20ir'+'idescenceT'+'hickness:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0a\x20\x20\x20\x20le'+'t\x20iridesce'+'nceIor:\x20f3'+'2\x20=\x20mix(ou')+('tsideIor,\x20'+'uniform.ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20let\x20s'+'inTheta2Sq'+':\x20f32\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c'+'osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2Sq:\x20f32'+'\x20=\x201.0\x20-\x20s'+'inTheta2Sq'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(cosTheta2'+'Sq\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3f(1.0);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2:\x20f32\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20let\x20r'+'0:\x20f32\x20=\x20i'+'ridescence'+'_iorToFres'+'nelScalar('+'iridescenc'+'eIor,\x20outs'+'ideIor);\x0a\x20'+'\x20\x20\x20let\x20r12'+':\x20f32\x20=\x20ir'+'idescence_'+'fresnelSca'+'lar(cosThe'+'ta,\x20r0);\x0a\x20'+'\x20\x20\x20let\x20r21'+':\x20f32\x20=\x20r1'+'2;\x0a\x20\x20\x20\x20let'+'\x20t121:\x20f32'+'\x20=\x201.0\x20-\x20r'+'12;\x0a\x0a\x20\x20\x20\x20l'+'et\x20phi12:\x20'+'f32\x20=\x20sele'+'ct(0.0,\x20PI'+',\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor)'+';\x0a\x20\x20\x20\x20let\x20'+'phi21:\x20f32'+'\x20=\x20PI\x20-\x20ph'+'i12;\x0a\x0a\x20\x20\x20\x20'+'let\x20baseIo'+'r:\x20vec3f\x20='+'\x20iridescen'+'ce_fresnel'+'ToIor(base'+'_f0\x20+\x20vec3'+'f(0.0001))'+';\x0a\x20\x20\x20\x20let\x20'+'r1:\x20vec3f\x20'+'=\x20iridesce'+'nce_iorToF'+'resnelVec3'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20let\x20r23:\x20'+'vec3f\x20=\x20ir'+'idescence_'+'fresnelVec'+'3(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20let\x20phi'+'23:\x20vec3f\x20'+'=\x20select(v'+'ec3f(0.0),'+'\x20vec3f(PI)'+',\x20baseIor\x20'+'<\x20vec3f(ir'+'idescenceI'+'or));\x0a\x20\x20\x20\x20'+'let\x20opd:\x20f'+'32\x20=\x202.0\x20*'+'\x20iridescen'+'ceIor\x20*\x20ir'+'idescenceT')+('hickness\x20*'+'\x20cosTheta2'+';\x0a\x20\x20\x20\x20let\x20'+'phi:\x20vec3f'+'\x20=\x20vec3f(p'+'hi21)\x20+\x20ph'+'i23;\x20//\x20Pr'+'omote\x20scal'+'ar\x20phi21\x20t'+'o\x20vec3f\x0a\x0a\x20'+'\x20\x20\x20let\x20r12'+'3Sq:\x20vec3f'+'\x20=\x20clamp(v'+'ec3f(r12)\x20'+'*\x20r23,\x20vec'+'3f(1e-5),\x20'+'vec3f(0.99'+'99));\x0a\x20\x20\x20\x20'+'let\x20r123:\x20'+'vec3f\x20=\x20sq'+'rt(r123Sq)'+';\x0a\x20\x20\x20\x20let\x20'+'rs:\x20vec3f\x20'+'=\x20pow(vec3'+'f(t121),\x20v'+'ec3f(2.0))'+'\x20*\x20r23\x20/\x20('+'vec3f(1.0)'+'\x20-\x20r123Sq)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20c0:\x20vec3f'+'\x20=\x20vec3f(r'+'12)\x20+\x20rs;\x0a'+'\x20\x20\x20\x20var\x20i_'+'irid:\x20vec3'+'f\x20=\x20c0;\x0a\x0a\x20'+'\x20\x20\x20var\x20cm:'+'\x20vec3f\x20=\x20r'+'s\x20-\x20vec3f('+'t121);\x0a\x0a\x20\x20'+'\x20\x20cm\x20=\x20cm\x20'+'*\x20r123;\x0a\x20\x20'+'\x20\x20let\x20sm1:'+'\x20vec3f\x20=\x202'+'.0\x20*\x20iride'+'scence_sen'+'sitivity(1'+'.0\x20*\x20opd,\x20'+'1.0\x20*\x20phi)'+';\x0a\x20\x20\x20\x20i_ir'+'id\x20=\x20i_iri'+'d\x20+\x20cm\x20*\x20s'+'m1;\x0a\x0a\x20\x20\x20\x20c'+'m\x20=\x20cm\x20*\x20r'+'123;\x0a\x20\x20\x20\x20l'+'et\x20sm2:\x20ve'+'c3f\x20=\x202.0\x20'+'*\x20iridesce'+'nce_sensit'+'ivity(2.0\x20'+'*\x20opd,\x202.0'+'\x20*\x20phi);\x0a\x20'+'\x20\x20\x20i_irid\x20'+'=\x20i_irid\x20+'+'\x20cm\x20*\x20sm2;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20max(i_i'+'rid,\x20vec3f'+'(0.0));\x0a}\x0a'+'\x0afn\x20getIri'+'descenceDi'+'ffraction('+'cosTheta:\x20'+'f32,\x20specu'+'larity:\x20ve'+'c3f,\x20iride'+'scenceThic'+'kness:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),hD='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_irides'+'cence:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getIrid'+'escence()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'iridescenc'+'e\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_CON'+'STANT\x0a\x20\x20\x20\x20'+'iridescenc'+'e\x20=\x20irides'+'cence\x20*\x20un'+'iform.mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20=\x20iridesc'+'ence\x20*\x20tex'+'tureSample'+'Bias({STD_'+'IRIDESCENC'+'E_TEXTURE_'+'NAME},\x20{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_CHANNEL}'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dI'+'ridescence'+'\x20=\x20iridesc'+'ence;\x20\x0a}\x0a',dD='\x0auniform\x20m'+'aterial_ir'+'idescenceT'+'hicknessMa'+'x:\x20f32;\x0a\x0a#'+'ifdef\x20STD_'+'IRIDESCENC'+'ETHICKNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20uniform'+'\x20material_'+'iridescenc'+'eThickness'+'Min:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20blen'+'d:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_IRIDESCE'+'NCETHICKNE'+'SS_TEXTURE'+'_NAME},\x20{S'+'TD_IRIDESC'+'ENCETHICKN'+'ESS_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20iridesce'+'nceThickne'+'ss:\x20f32\x20=\x20'+'mix(unifor'+'m.material'+'_iridescen'+'ceThicknes'+'sMin,\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax,\x20bl'+'end);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceT'+'hickness:\x20'+'f32\x20=\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scenceThic'+'kness\x20=\x20ir'+'idescenceT'+'hickness;\x20'+'\x0a}\x0a',fD='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_refr'+'actionInde'+'x:\x20f32;\x0a#e'+'ndif\x0a\x0afn\x20g'+'etIor()\x20{\x0a'+'#ifdef\x20STD'+'_IOR_CONST'+'ANT\x0a\x20\x20\x20\x20dI'+'or\x20=\x20unifo'+'rm.materia'+'l_refracti'+'onIndex;\x0a#'+'else\x0a\x20\x20\x20\x20d'+'Ior\x20=\x201.0\x20'+'/\x201.5;\x0a#en'+'dif\x0a}\x0a',uD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_color'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_direction'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_POINT\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20poi'+'nt\x20lights\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20lig'+'ht{i}_posi'+'tion:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ra'+'dius:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'SPOT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_SPOT\x20//\x20'+'include\x20fu'+'nctionalit'+'y\x20for\x20spot'+'\x20lights\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_di'+'rection:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_inner'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_outer'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_FALLOFF_'+'SQUARED\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20inv'+'erse\x20squar'+'ed\x20falloff'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_position:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ha'+'lfWidth:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_halfHeigh'+'t:\x20vec3f;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}FALLOFF\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_LINE'+'AR\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20linear\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}FALLOFF'+'\x20==\x20INVERS'+'ESQUARED\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_SQUA'+'RED\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20inverse'+'\x20squared\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20shadow\x20c'+'asting\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowMatri'+'x:\x20mat4x4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20li'+'ght{i}_sha'+'dowIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'{i}_shadow'+'Params:\x20ve'+'c4f;\x20//\x20wi'+'dth,\x20heigh'+'t,\x20bias,\x20r'+'adius\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowSearc'+'hArea:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_cameraPar'+'ams:\x20vec4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'oftShadowP'+'arams:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'directiona'+'l\x20(cascade'+'d)\x20shadows'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20light{i}_'+'shadowMatr'+'ixPalette:'+'\x20array<mat'+'4x4f,\x204>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deDistance'+'s:\x20vec4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deCount:\x20i'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20light{'+'i}_shadowC'+'ascadeBlen'+'d:\x20f32;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20N'+'OT\x20SUPPORT'+'ED\x0a/*\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIG'+'HT{i}SHADO'+'W_PCF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMap:\x20tex'+'ture_depth'+'_2d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'{i}_shadow'+'MapSampler'+':\x20sampler_'+'comparison'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'light{i}_s'+'hadowMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMapSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIGHT{i}CO'+'OKIE)\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_COOKIE\x20/'+'/\x20include\x20'+'functional'+'ity\x20for\x20co'+'okies\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20OMNI\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20NOT\x20SUPP'+'ORTED\x0a/*\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'plerCube\x20l'+'ight{i}_co'+'okie;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un')+('iform\x20floa'+'t\x20light{i}'+'_cookieInt'+'ensity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20!defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20light{i}'+'_shadowMat'+'rix;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20NO'+'T\x20SUPPORTE'+'D\x0a/*\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_cookie;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_cook'+'ieIntensit'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20!'+'defined(LI'+'GHT{i}CAST'+'SHADOW)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrix;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}COOKIE_TR'+'ANSFORM)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_coo'+'kieMatrix;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'light{i}_c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a*/\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),pD='\x0afn\x20getLig'+'htDiffuse('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',mD='\x0afn\x20evalOm'+'niLight(li'+'ghtPosW:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a}\x0a',_D='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',gD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0afn\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x20\x20\x20'+'\x20//\x20light\x20'+'color\x0a\x20\x20\x20\x20'+'var\x20lightC'+'olor:\x20vec3'+'f\x20=\x20unifor'+'m.light{i}'+'_color;\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20!d'+'efined(LIT'+'_SHADOW_CA'+'TCHER)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ea'+'rly\x20return'+'\x20if\x20the\x20li'+'ght\x20color\x20'+'is\x20black\x20('+'used\x20by\x20sh'+'adow\x20catch'+'er\x20-\x20this\x20'+'way\x20this\x20l'+'ight\x20is\x20ve'+'ry\x20cheap)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(all(ligh'+'tColor\x20==\x20'+'vec3f(0.0,'+'\x200.0,\x200.0)'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20DIRECTION'+'AL\x20//\x20dire'+'ctional\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightD'+'irNormW\x20=\x20'+'uniform.li'+'ght{i}_dir'+'ection;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20omni\x20o'+'r\x20spot\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(u'+'niform.lig'+'ht{i}_posi'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tDirNormW\x20'+'=\x20normaliz'+'e(lightDir'+'W);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIGHT'+'{i}COOKIE)'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20SPOT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_FAL'+'LOFF\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+('eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DXform(u'+'niform.lig'+'ht{i}_cook'+'ie,\x20unifor'+'m.light{i}'+'_shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_cookieIn'+'tensity,\x20u'+'niform.lig'+'ht{i}_cook'+'ieMatrix,\x20'+'uniform.li'+'ght{i}_coo'+'kieOffset)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookie2D('+'uniform.li'+'ght{i}_coo'+'kie,\x20unifo'+'rm.light{i'+'}_shadowMa'+'trix,\x20unif'+'orm.light{'+'i}_cookieI'+'ntensity).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClipXfo'+'rm(uniform'+'.light{i}_'+'cookie,\x20un'+'iform.ligh'+'t{i}_shado'+'wMatrix,\x20u'+'niform.lig'+'ht{i}_cook'+'ieIntensit'+'y,\x20uniform'+'.light{i}_'+'cookieMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieOff'+'set).{LIGH'+'T{i}COOKIE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClip(un'+'iform.ligh'+'t{i}_cooki'+'e,\x20uniform'+'.light{i}_'+'shadowMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieInt'+'ensity).{L'+'IGHT{i}COO'+'KIE_CHANNE'+'L};\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookieCub'+'e(uniform.'+'light{i}_c'+'ookie,\x20uni'+'form.light'+'{i}_shadow'+'Matrix,\x20un'+'iform.ligh'+'t{i}_cooki'+'eIntensity'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multipl'+'y\x20light\x20co'+'lor\x20by\x20the'+'\x20cookie\x20at'+'tenuation\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightCol'+'or\x20=\x20light'+'Color\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dista'+'nce\x20fallof'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20PUNCTUAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}FALLOF'+'F\x20==\x20LINEA'+'R\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20=\x20get'+'FalloffLin'+'ear(unifor'+'m.light{i}'+'_radius,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20getFal'+'loffInvSqu'+'ared(unifo'+'rm.light{i'+'}_radius,\x20'+'lightDirW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'non\x20punctu'+'al\x20lights\x20'+'only\x20gets\x20'+'the\x20range\x20'+'window\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'uniform.li'+'ght{i}_rad'+'ius,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20angle'+'\x20falloff\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20SPO'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d')+('efined(LIG'+'HT{i}COOKI'+'E)\x20||\x20defi'+'ned(LIGHT{'+'i}COOKIE_F'+'ALLOFF)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20dAtten\x20'+'*\x20getSpotE'+'ffect(unif'+'orm.light{'+'i}_directi'+'on,\x20unifor'+'m.light{i}'+'_innerCone'+'Angle,\x20uni'+'form.light'+'{i}_outerC'+'oneAngle,\x20'+'dLightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20if\x20'+'(dAtten\x20<\x20'+'0.00001)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20evaluate\x20'+'area\x20light'+'\x20values\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20RECT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcRectLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20calcDiskL'+'ightValues'+'(uniform.l'+'ight{i}_po'+'sition,\x20un'+'iform.ligh'+'t{i}_halfW'+'idth,\x20unif'+'orm.light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20SPH'+'ERE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20calc'+'SphereLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20dif'+'fuse\x20light'+'ing\x20-\x20LTC\x20'+'lights\x20do\x20'+'not\x20mix\x20di'+'ffuse\x20ligh'+'ting\x20into\x20'+'attenuatio'+'n\x20that\x20aff'+'ects\x20specu'+'lar\x0a\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P')+('UNCTUAL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'attenDiffu'+'se\x20-\x20separ'+'ate\x20diffus'+'e\x20attenuat'+'ion\x20for\x20no'+'n-punctual'+'\x20light\x20sou'+'rces\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20NB:\x20A\x20bet'+'ter\x20approx'+'imation\x20pe'+'rhaps\x20usin'+'g\x20wrap\x20lig'+'hting\x20coul'+'d\x20be\x20imple'+'mented\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20at'+'tenDiffuse'+':\x20f32\x20=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x2016.0\x20is\x20'+'a\x20constant'+'\x20that\x20is\x20i'+'n\x20getFallo'+'ffInvSquar'+'ed()\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20attenDi'+'ffuse:\x20f32'+'\x20=\x20getRect'+'LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20light'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20DISK\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'attenDiffu'+'se:\x20f32\x20=\x20'+'getDiskLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20lightDir'+'W,\x20dLightD'+'irNormW)\x20*'+'\x2016.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20LIGHT'+'{i}SHAPE\x20='+'=\x20SPHERE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20a'+'ttenDiffus'+'e:\x20f32\x20=\x20g'+'etSphereLi'+'ghtDiffuse'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20lightDi'+'rW,\x20dLight'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20one\x20par'+'ameter\x20is\x20'+'unused\x20for')+('\x20punctual\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20dAtten'+'\x20*\x20getLigh'+'tDiffuse(l'+'itArgs_wor'+'ldNormal,\x20'+'vec3(0.0),'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20the\x20sha'+'dow\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}CASTS'+'HADOW\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20shadow:'+'\x20f32\x20=\x20get'+'Shadow{i}('+'vec3(0.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20shadow:\x20'+'f32\x20=\x20getS'+'hadow{i}(l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Ap'+'ply\x20shadow'+'\x20intensity'+'\x20to\x20the\x20sh'+'adow\x20value'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadow\x20=\x20mi'+'x(1.0,\x20sha'+'dow,\x20unifo'+'rm.light{i'+'}_shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20dA'+'tten\x20*\x20sha'+'dow;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SHADOW_CAT'+'CHER)\x20&&\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20accumula'+'te\x20shadows'+'\x20for\x20direc'+'tional\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSha'+'dowCatcher'+'\x20=\x20dShadow'+'Catcher\x20*\x20'+'shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20-\x20they'+'\x20do\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((('+'attenDiffu'+'se\x20*\x20dAtte'+'n)\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20dLTC'+'SpecFres))')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'((attenDif'+'fuse\x20*\x20dAt'+'ten)\x20*\x20lig'+'htColor);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(AREA_'+'LIGHTS)\x20&&'+'\x20defined(L'+'IT_SPECULA'+'R)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((d'+'Atten\x20*\x20li'+'ghtColor)\x20'+'*\x20(1.0\x20-\x20l'+'itArgs_spe'+'cularity))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'(dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20spe'+'cular\x20ligh'+'ting\x0a\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}AFFECT'+'_SPECULARI'+'TY\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20==\x20REC'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getRe'+'ctLightSpe'+'cular(litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20dVi'+'ewDirW)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20ccSpec'+'ularLight\x20'+'+\x20(ccLTCSp'+'ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20SPHER'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_clea'+'rcoat_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20=\x20dS'+'pecularLig'+'ht\x20+\x20(dLTC'+'SpecFres\x20*'+'\x20getRectLi'+'ghtSpecula'+'r(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20(dLT'+'CSpecFres\x20'+'*\x20getDiskL'+'ightSpecul'+'ar(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW)\x20*\x20dAt'+'ten\x20*\x20ligh'+'tColor);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'=\x20dSpecula'+'rLight\x20+\x20('+'dLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20//\x20punctu'+'al\x20light\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20is\x20fr'+'esnel\x20need'+'ed\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC')+('TIONAL\x20&&\x20'+'LIT_FRESNE'+'L_MODEL\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ha'+'lfDirW:\x20ve'+'c3f\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20if\x20LTC\x20li'+'ghts\x20are\x20p'+'resent,\x20sp'+'ecular\x20mus'+'t\x20be\x20accum'+'ulated\x20wit'+'h\x20specular'+'ity\x20(specu'+'larity\x20is\x20'+'pre\x20multip'+'lied\x20by\x20pu'+'nctual\x20lig'+'ht\x20fresnel'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'specularCC'+':\x20vec3f\x20=\x20'+'getLightSp'+'ecular(hal'+'fDirW,\x20ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20dLightDir'+'NormW,\x20lit'+'Args_clear'+'coat_gloss'+',\x20dTBN)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightspecu'+'larCC\x20=\x20li'+'ghtspecula'+'rCC\x20*\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20halfDi'+'rW));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20=\x20ccSpecu'+'larLight\x20+'+'\x20lightspec'+'ularCC;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sSpecul'+'arLight\x20=\x20'+'sSpecularL'+'ight\x20+\x20(ge'+'tLightSpec'+'ularSheen('+'halfDirW,\x20'+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi')+('rNormW,\x20li'+'tArgs_shee'+'n_gloss)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tSpecular:'+'\x20vec3f\x20=\x20g'+'etLightSpe'+'cular(half'+'DirW,\x20dRef'+'lDirW,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20d'+'LightDirNo'+'rmW,\x20litAr'+'gs_gloss,\x20'+'dTBN)\x20*\x20dA'+'tten\x20*\x20lig'+'htColor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'FRESNEL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20=\x20li'+'ghtSpecula'+'r\x20*\x20getFre'+'snel(dot(d'+'ViewDirW,\x20'+'halfDirW),'+'\x20litArgs_g'+'loss,\x20litA'+'rgs_specul'+'arity,\x20iri'+'descenceFr'+'esnel,\x20lit'+'Args_iride'+'scence_int'+'ensity);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightSpecul'+'ar\x20=\x20light'+'Specular\x20*'+'\x20getFresne'+'l(dot(dVie'+'wDirW,\x20hal'+'fDirW),\x20li'+'tArgs_glos'+'s,\x20litArgs'+'_speculari'+'ty);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20light'+'Specular\x20='+'\x20lightSpec'+'ular\x20*\x20lit'+'Args_specu'+'larity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20+\x20li'+'ghtSpecula'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'#endif\x0a'),SD='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowSam'+'pleCoord{i'+'}(shadowTr'+'ansform:\x20m'+'at4x4f,\x20sh'+'adowParams'+':\x20vec4f,\x20w'+'orldPositi'+'on:\x20vec3f,'+'\x20lightPos:'+'\x20vec3f,\x20li'+'ghtDir:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'lightDirNo'+'rm:\x20vec3f,'+'\x20normal:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'surfacePos'+'ition\x20=\x20wo'+'rldPositio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_POINT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(*l'+'ightDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y\x20*\x20cl'+'amp(1.0\x20-\x20'+'dot(normal'+',\x20-lightDi'+'rNorm),\x200.'+'0,\x201.0)\x20*\x20'+'distScale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20*li'+'ghtDir\x20=\x20s'+'urfacePosi'+'tion\x20-\x20lig'+'htPos;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'*lightDir;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}_SHADOW_'+'SAMPLE_NOR'+'MAL_OFFSET'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_SAMP'+'LE_ORTHO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dis'+'tScale:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20distSca'+'le:\x20f32\x20=\x20'+'abs(dot(vP'+'ositionW\x20-'+'\x20lightPos,'+'\x20lightDirN'+'orm));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Use'+'\x20var\x20for\x20m'+'odificatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20po'+'sitionInSh'+'adowSpace:'+'\x20vec4f\x20=\x20s'+'hadowTrans'+'form\x20*\x20vec'+'4f(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM')+('PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20=\x20pos'+'itionInSha'+'dowSpace.x'+'yz\x20/\x20posit'+'ionInShado'+'wSpace.w;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.xy\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/\x20posi'+'tionInShad'+'owSpace.w;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20positionI'+'nShadowSpa'+'ce.z\x20=\x20len'+'gth(*light'+'Dir)\x20*\x20sha'+'dowParams.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20this\x20is\x20c'+'urrently\x20u'+'nused\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_Z'+'_BIAS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20posit'+'ionInShado'+'wSpace.z\x20+'+'=\x20getShado'+'wBias(shad'+'owParams.x'+',\x20shadowPa'+'rams.z);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sur'+'facePositi'+'on;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20evalu'+'ation\x20func'+'tion\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'w{i}(light'+'DirW_in:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20s'+'hadow\x20casc'+'ades\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_CASC'+'ADES\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20select\x20sh'+'adow\x20casca'+'de\x20matrix\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20casc'+'adeIndex:\x20'+'i32\x20=\x20getS'+'hadowCasca'+'deIndex(un'+'iform.ligh'+'t{i}_shado'+'wCascadeDi'+'stances,\x20u'+'niform.lig'+'ht{i}_shad')+('owCascadeC'+'ount);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_CASCADE'+'_BLEND\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20cascade'+'Index\x20=\x20di'+'therShadow'+'CascadeInd'+'ex(cascade'+'Index,\x20uni'+'form.light'+'{i}_shadow'+'CascadeDis'+'tances,\x20un'+'iform.ligh'+'t{i}_shado'+'wCascadeCo'+'unt,\x20unifo'+'rm.light{i'+'}_shadowCa'+'scadeBlend'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowMatri'+'x:\x20mat4x4f'+'\x20=\x20uniform'+'.light{i}_'+'shadowMatr'+'ixPalette['+'cascadeInd'+'ex];\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20sha'+'dowMatrix:'+'\x20mat4x4f\x20='+'\x20uniform.l'+'ight{i}_sh'+'adowMatrix'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20lightDirA'+'rg\x20=\x20light'+'DirW_in;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20direc'+'tional\x20lig'+'ht\x20does\x20no'+'t\x20have\x20a\x20p'+'osition\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20getSh'+'adowSample'+'Coord{i}(s'+'hadowMatri'+'x,\x20uniform'+'.light{i}_'+'shadowPara'+'ms,\x20vPosit'+'ionW,\x20vec3'+'f(0.0),\x20&l'+'ightDirArg'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owCoord:\x20v'+'ec3f\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_shadowPa'+'rams,\x20vPos'+'itionW,\x20un'+'iform.ligh'+'t{i}_posit'+'ion,\x20&ligh'+'tDirArg,\x20d'+'LightDirNo'+'rmW,\x20dVert'+'exNormalW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('#endif\x0a\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Fade\x20direc'+'tional\x20sha'+'dow\x20at\x20the'+'\x20far\x20dista'+'nce\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'owCoord\x20=\x20'+'fadeShadow'+'(shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowCas'+'cadeDistan'+'ces);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20-----\x20s'+'ample\x20the\x20'+'shadow\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20---'+'--\x20directi'+'onal\x20light'+'\x20-----\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20VSM_'+'16F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowVSM1'+'6(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s,\x205.54);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20VS'+'M_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowVS'+'M32(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x2015.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2f(lengt'+'h(uniform.'+'light{i}_h'+'alfWidth),'+'\x20length(un'+'iform.ligh'+'t{i}_halfH'+'eight))\x20*\x20'+'uniform.li'+'ght{i}_sha'+'dowSearchA'+'rea;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCSS(ligh'+'t{i}_shado'+'wMap,\x20ligh'+'t{i}_shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20unif'+'orm.light{'+'i}_shadowP'+'arams,\x20uni'+'form.light'+'{i}_camera'+'Params,\x20sh'+'adowSearch'+'Area,\x20ligh'+'tDirW_in);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CSS(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x20unifo'+'rm.light{i'+'}_cameraPa'+'rams,\x20unif'+'orm.light{'+'i}_softSha'+'dowParams,'+'\x20lightDirW'+'_in);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF1_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF1x1('+'light{i}_s'+'hadowMap,\x20'+'light{i}_s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'uniform.li'+'ght{i}_sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_16F\x20|'+'|\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF3_3'+'2F\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowPCF3x'+'3(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_16F'+'\x20||\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF5')+('_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x20//\x20-'+'----\x20spot\x20'+'light\x20----'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM16'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x205.54,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM32'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x2015.0,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20!=\x20PU'+'NCTUAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f\x20=\x20vec'+'2f(length('+'uniform.li'+'ght{i}_hal'+'fWidth),\x20l'+'ength(unif'+'orm.light{'+'i}_halfHei'+'ght))\x20*\x20un'+'iform.ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowSearc'+'hArea:\x20vec')+('2f\x20=\x20vec2f'+'(uniform.l'+'ight{i}_sh'+'adowSearch'+'Area);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCSS'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x20uniform.'+'light{i}_c'+'ameraParam'+'s,\x20shadowS'+'earchArea,'+'\x20lightDirW'+'_in);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'16F\x20||\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF1_32F\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF1x1'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'5_16F\x20||\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF5_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCF5'+'x5(light{i'+'}_shadowMa'+'p,\x20light{i'+'}_shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20uniform'+'.light{i}_'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20')+('\x20\x20\x20#endif\x0a'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x20//\x20--'+'---\x20omni\x20l'+'ight\x20-----'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f;\x20//\x20U'+'se\x20var\x20bec'+'ause\x20assig'+'ned\x20in\x20if/'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owSearchAr'+'ea:\x20vec2f\x20'+'=\x20vec2f(le'+'ngth(unifo'+'rm.light{i'+'}_halfWidt'+'h),\x20length'+'(uniform.l'+'ight{i}_ha'+'lfHeight))'+'\x20*\x20uniform'+'.light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'SearchArea'+':\x20vec2f\x20=\x20'+'vec2f(unif'+'orm.light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20un'+'iform.ligh'+'t{i}_camer'+'aParams,\x20s'+'hadowSearc'+'hArea,\x20lig'+'htDirW_in)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in')+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),yD='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'var\x20areaLi'+'ghtsLutTex'+'1:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20areaLight'+'sLutTex2:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20areaL'+'ightsLutTe'+'x2Sampler:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'omni\x20/\x20spo'+'t\x20PCSS\x20is\x20'+('not\x20suppor'+'ted\x20on\x20Web'+'GPU\x20curren'+'tly,\x20as\x20th'+'is\x20is\x20only'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0a\x20\x20\x20\x20'+'//\x20#includ'+'e\x20\x22shadowP'+'CSSPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22shadowSof'+'tPS\x22\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(SHADO'+'W_KIND_VSM'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owEVSMPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22falloff'+'LinearPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_SQUARED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fallof'+'fInvSquare'+'dPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_CODE_L'+'IGHTS_POIN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDirPointP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22spotPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'CODE_COOKI'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22cook'+'iePS\x22\x0a#end'+'if\x0a\x0a//\x20clu'+'stered\x20lig'+'hting\x0a#ifd'+'ef\x20LIT_CLU'+'STERED_LIG'+'HTS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22cl'+'usteredLig'+'htPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIGHT_COU'+'NT\x20>\x200\x0a\x20\x20\x20'+'\x20//\x20LOOP\x20-'+'\x20generate\x20'+'shadow\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionShadow'+'PS,\x20LIGHT_'+'COUNT\x22\x0a\x0a\x20\x20'+'\x20\x20//\x20LOOP\x20'+'-\x20generate'+'\x20light\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionLightP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a'),vD='\x0afn\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20lightmap:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20dir:\x20vec'+'3f,\x0a\x20\x20\x20\x20wo'+'rldNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20viewDir:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20reflecti'+'onDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20ve'+'rtexNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20tbn:\x20ma'+'t3x3f\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20iridesce'+'nceIntensi'+'ty:\x20f32\x0a#e'+'ndif\x0a)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x20&&'+'\x20defined(L'+'IT_DIR_LIG'+'HTMAP)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'dot(dir,\x20d'+'ir)\x20<\x200.00'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20dD'+'iffuseLigh'+'t\x20+\x20lightm'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20vli'+'ght:\x20f32\x20='+'\x20saturate('+'dot(dir,\x20-'+'vertexNorm'+'al));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20flight:\x20'+'f32\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20nlig'+'ht:\x20f32\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20=\x20dDiff'+'useLight\x20+'+'\x20lightmap\x20'+'*\x20nlight\x20*'+'\x202.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20halfDir'+':\x20vec3f\x20=\x20'+'normalize('+'-dir\x20+\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20specula'+'rLight:\x20ve'+'c3f\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+('_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'=\x20specular'+'Light\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(d'+'ot(viewDir'+',\x20halfDir)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20,\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20specularL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'non-direct'+'ional\x20ligh'+'tmap\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20+\x20ligh'+'tmap;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),xD='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'var<privat'+'e>\x20dLightm'+'apDir:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'dirLightMa'+'p:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_dirL'+'ightMapSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0afn\x20getL'+'ightMap()\x20'+'{\x0a\x0a\x20\x20\x20\x20dLi'+'ghtmap\x20=\x20v'+'ec3f(1.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_TEXTURE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Lightmap\x20='+'\x20dLightmap'+'\x20*\x20{STD_LI'+'GHT_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_LIGHT_T'+'EXTURE_NAM'+'E},\x20{STD_L'+'IGHT_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+')).{STD_LI'+'GHT_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_LIGHTMAP'+'_DIR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20dir:\x20vec3'+'f\x20=\x20textur'+'eSampleBia'+'s(texture_'+'dirLightMa'+'p,\x20texture'+'_dirLightM'+'apSampler,'+'\x20{STD_LIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).xyz\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20d'+'irDot\x20=\x20do'+'t(dir,\x20dir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tmapDir\x20=\x20'+'select(vec'+'3(0.0),\x20di'+'r\x20/\x20sqrt(d'+'irDot),\x20di'+'rDot\x20>\x200.0'+'01);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dL'+'ightmap\x20=\x20'+'dLightmap\x20'+'*\x20saturate'+'(vVertexCo'+'lor.{STD_L'+'IGHT_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',TD='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'fn\x20calcLig'+'htSpecular'+'(gloss:\x20f3'+'2,\x20worldNo'+'rmal:\x20vec3'+'f,\x20viewDir'+':\x20vec3f,\x20h'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'tbn:\x20mat3x'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20PI:\x20f32\x20='+'\x203.1415926'+'53589793;\x0a'+'\x20\x20\x20\x20let\x20ro'+'ughness:\x20f'+'32\x20=\x20max(('+'1.0\x20-\x20glos'+'s)\x20*\x20(1.0\x20'+'-\x20gloss),\x20'+'0.001);\x0a\x20\x20'+'\x20\x20let\x20alph'+'aRoughness'+':\x20f32\x20=\x20ro'+'ughness\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20let\x20a'+'nisotropy:'+'\x20f32\x20=\x20dAn'+'isotropy;\x0a'+'\x20\x20\x20\x20let\x20di'+'rection:\x20v'+'ec2f\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x0a\x20'+'\x20\x20\x20let\x20at:'+'\x20f32\x20=\x20mix'+'(alphaRoug'+'hness,\x201.0'+',\x20anisotro'+'py\x20*\x20aniso'+'tropy);\x0a\x20\x20'+'\x20\x20let\x20ab:\x20'+'f32\x20=\x20clam'+'p(alphaRou'+'ghness,\x200.'+'001,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20NoH:\x20f32\x20'+'=\x20dot(worl'+'dNormal,\x20h'+');\x0a\x20\x20\x20\x20let'+'\x20ToH:\x20f32\x20'+'=\x20dot(anis'+'otropicT,\x20'+'h);\x0a\x20\x20\x20\x20le'+'t\x20BoH:\x20f32'+'\x20=\x20dot(ani'+'sotropicB,'+'\x20h);\x0a\x0a\x20\x20\x20\x20'+'let\x20a2:\x20f3'+'2\x20=\x20at\x20*\x20a'+'b;\x0a\x20\x20\x20\x20let'+'\x20v:\x20vec3f\x20'+'=\x20vec3f(ab'+'\x20*\x20ToH,\x20at'+'\x20*\x20BoH,\x20a2'+'\x20*\x20NoH);\x0a\x20'+'\x20\x20\x20let\x20v2:'+'\x20f32\x20=\x20dot'+'(v,\x20v);\x0a\x20\x20'+'\x20\x20let\x20w2:\x20'+'f32\x20=\x20a2\x20/'+'\x20v2;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20let\x20To'+'V:\x20f32\x20=\x20d'+'ot(anisotr'+'opicT,\x20vie'+('wDir);\x0a\x20\x20\x20'+'\x20let\x20BoV:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20viewDi'+'r);\x0a\x20\x20\x20\x20le'+'t\x20ToL:\x20f32'+'\x20=\x20dot(ani'+'sotropicT,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20let\x20BoL:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20let\x20No'+'V:\x20f32\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'let\x20NoL:\x20f'+'32\x20=\x20dot(w'+'orldNormal'+',\x20-lightDi'+'rNorm);\x0a\x0a\x20'+'\x20\x20\x20let\x20lam'+'bdaV:\x20f32\x20'+'=\x20NoL\x20*\x20le'+'ngth(vec3f'+'(at\x20*\x20ToV,'+'\x20ab\x20*\x20BoV,'+'\x20NoV));\x0a\x20\x20'+'\x20\x20let\x20lamb'+'daL:\x20f32\x20='+'\x20NoV\x20*\x20len'+'gth(vec3f('+'at\x20*\x20ToL,\x20'+'ab\x20*\x20BoL,\x20'+'NoL));\x0a\x20\x20\x20'+'\x20let\x20G:\x20f3'+'2\x20=\x200.5\x20/\x20'+'(lambdaV\x20+'+'\x20lambdaL);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20D\x20*\x20G;\x0a'+'}\x0a\x0afn\x20getL'+'ightSpecul'+'ar(h:\x20vec3'+'f,\x20reflDir'+':\x20vec3f,\x20w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'DirNorm:\x20v'+'ec3f,\x20glos'+'s:\x20f32,\x20tb'+'n:\x20mat3x3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20calcLigh'+'tSpecular('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir,\x20h'+',\x20lightDir'+'Norm,\x20tbn)'+';\x0a}\x0a'),wD='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afn\x20c'+'alcLightSp'+'ecular(glo'+'ss:\x20f32,\x20w'+'orldNormal'+':\x20vec3f,\x20h'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20nh:\x20'+'f32\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'specPow:\x20f'+'32\x20=\x20exp2('+'gloss\x20*\x2011'+'.0);\x20//\x20gl'+'ossiness\x20i'+'s\x20linear,\x20'+'power\x20is\x20n'+'ot;\x200\x20-\x2020'+'48\x0a\x0a\x20\x20\x20\x20//'+'\x20Hack:\x20On\x20'+'Mac\x20OS\x20X,\x20'+'calling\x20po'+'w\x20with\x20zer'+'o\x20for\x20the\x20'+'exponent\x20g'+'enerates\x20h'+'ideous\x20art'+'ifacts\x20so\x20'+'bias\x20up\x20a\x20'+'little\x0a\x20\x20\x20'+'\x20specPow\x20='+'\x20max(specP'+'ow,\x200.0001'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20pow(n'+'h,\x20specPow'+')\x20*\x20(specP'+'ow\x20+\x202.0)\x20'+'/\x208.0;\x0a}\x0a\x0a'+'fn\x20getLigh'+'tSpecular('+'h:\x20vec3f,\x20'+'reflDir:\x20v'+'ec3f,\x20worl'+'dNormal:\x20v'+'ec3f,\x20view'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20tbn:\x20'+'mat3x3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',ED='\x0a\x0afn\x20sheen'+'D(normal:\x20'+'vec3f,\x20h:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'PI:\x20f32\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20let\x20inv'+'R:\x20f32\x20=\x201'+'.0\x20/\x20(roug'+'hness\x20*\x20ro'+'ughness);\x0a'+'\x20\x20\x20\x20var\x20co'+'s2h:\x20f32\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20=\x20c'+'os2h\x20*\x20cos'+'2h;\x0a\x20\x20\x20\x20le'+'t\x20sin2h:\x20f'+'32\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'fn\x20sheenV('+'normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20light:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20max(dot'+'(normal,\x20v'+'iewDir),\x200'+'.000001);\x0a'+'\x20\x20\x20\x20let\x20No'+'L:\x20f32\x20=\x20m'+'ax(dot(nor'+'mal,\x20light'+'),\x200.00000'+'1);\x0a\x20\x20\x20\x20re'+'turn\x201.0\x20/'+'\x20(4.0\x20*\x20(N'+'oL\x20+\x20NoV\x20-'+'\x20NoL\x20*\x20NoV'+'));\x0a}\x0a\x0afn\x20'+'getLightSp'+'ecularShee'+'n(h:\x20vec3f'+',\x20worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f,\x20li'+'ghtDirNorm'+':\x20vec3f,\x20s'+'heenGloss:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20let\x20V:\x20f'+'32\x20=\x20sheen'+'V(worldNor'+'mal,\x20viewD'+'ir,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20return'+'\x20D\x20*\x20V;\x0a}',bD='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afn\x20linear'+'izeDepthWi'+'thParams(z'+':\x20f32,\x20cam'+'eraParams:'+'\x20vec4f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'aParams.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(came'+'raParams.z'+'\x20*\x20cameraP'+'arams.y)\x20/'+'\x20(cameraPa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'Params.z\x20-'+'\x20cameraPar'+'ams.y));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20cam'+'eraParams.'+'z\x20+\x20z\x20*\x20(c'+'ameraParam'+'s.y\x20-\x20came'+'raParams.z'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0a#ifndef\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20#de'+'fine\x20CAMER'+'APLANES\x0a\x20\x20'+'\x20\x20uniform\x20'+'camera_par'+'ams:\x20vec4f'+';\x20\x20\x20//\x20x:\x20'+'1\x20/\x20camera'+'_far,\x20\x20\x20\x20\x20'+'\x20y:\x20camera'+'_far,\x20\x20\x20\x20\x20'+'z:\x20camera_'+'near,\x20\x20\x20\x20\x20'+'\x20\x20\x20w:\x20is_o'+'rtho\x0a#endi'+'f\x0a\x0afn\x20line'+'arizeDepth'+'(z:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pthWithPar'+'ams(z,\x20uni'+'form.camer'+'a_params);'+'\x0a}\x0a#endif\x20'+'//\x20LINEARI'+'ZE_DEPTH\x0a',AD='\x0afn\x20evalua'+'teBackend('+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'//\x20apply\x20S'+'SAO\x20during'+'\x20lighting\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SSAO\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ao\x20='+'\x20litArgs_a'+'o\x20*\x20textur'+'eSampleLev'+'el(ssaoTex'+'ture,\x20ssao'+'TextureSam'+'pler,\x20pcPo'+'sition.xy\x20'+'*\x20uniform.'+'ssaoTextur'+'eSizeInv,\x20'+'0.0).r;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nsform\x20tan'+'gent\x20space'+'\x20normals\x20t'+'o\x20world\x20sp'+'ace\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_N'+'EEDS_NORMA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getReflD'+'ir(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_gloss,\x20'+'dTBN);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'f0:\x20f32\x20=\x20'+'1.0\x20/\x20litA'+'rgs_ior;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20f0\x20=\x20(f0\x20'+'-\x201.0)\x20/\x20('+'f0\x20+\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20f0\x20=\x20f0'+'\x20*\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+('ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceF'+'resnel:\x20ve'+'c3f\x20=\x20getI'+'ridescence'+'Diffractio'+'n(saturate'+'(dot(dView'+'DirW,\x20litA'+'rgs_worldN'+'ormal)),\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_ir'+'idescence_'+'thickness)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20ambi'+'ent\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddAmbient('+'litArgs_wo'+'rldNormal)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20move\x20ambi'+'ent\x20color\x20'+'out\x20of\x20dif'+'fuse\x20(used'+'\x20by\x20Lightm'+'apper,\x20to\x20'+'multiply\x20a'+'mbient\x20col'+'or\x20by\x20accu'+'mulated\x20AO'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SEPARATE_'+'AMBIENT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20dAmbie'+'ntLight:\x20v'+'ec3f\x20=\x20dDi'+'ffuseLight'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20unif'+'orm.materi'+'al_ambient'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20LI'+'T_OCCLUDE_'+'DIRECT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeDiff'+'use(litArg'+'s_ao);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTMAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20litArgs_l'+'ightmap,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmapDi'+'r,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dViewDirW,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dReflD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'BN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_irides'+'cence_inte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTING\x20||'+'\x20LIT_REFLE'+'CTIONS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddReflecti'+'onCC(ccRef'+'lDirW,\x20lit'+'Args_clear'+'coat_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'ccFresnel\x20'+'=\x20getFresn'+'elCC(dot(d'+'ViewDirW,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccRefle'+'ction\x20=\x20cc'+'Reflection'+'\x20*\x20ccFresn'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccFr'+'esnel\x20=\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'ection\x20=\x20c'+'cReflectio'+'n\x20*\x20litArg'+'s_specular'+'ityFactor;')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20addR'+'eflectionS'+'heen(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_sheen'+'_gloss);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20Fresne'+'l\x20has\x20to\x20b'+'e\x20applied\x20'+'to\x20reflect'+'ions\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'Reflection'+'(dReflDirW'+',\x20litArgs_'+'gloss);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_FRESNEL_'+'MODEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'dReflectio'+'n.rgb\x20*\x20li'+'tArgs_spec'+'ularity,\x20d'+'Reflection'+'.a);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve')+('c4f(dRefle'+'ction.rgb\x20'+'*\x20litArgs_'+'specularit'+'yFactor,\x20d'+'Reflection'+'.a);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20AREA'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20*'+'\x20litArgs_s'+'pecularity'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20evalua'+'te\x20materia'+'l\x20based\x20ar'+'ea\x20lights\x20'+'data,\x20shar'+'ed\x20by\x20all\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcLTCLight'+'Values(lit'+'Args_gloss'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20litArg'+'s_specular'+'ity,\x20litAr'+'gs_clearco'+'at_gloss,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20evalua'+'te\x20all\x20non'+'-clustered'+'\x20lights\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22lightEval'+'uationPS,\x20'+'LIGHT_COUN'+'T\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'USTERED_LI'+'GHTS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'ClusteredL'+'ights(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_CLEARCOAT'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20ccRe'+'flDirW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'litArgs_sp'+'ecularity,'+'\x20dVertexNo'+'rmalW,\x20dTB'+'N,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_sheen_'+'gloss,\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20AREA_LI'+'GHTS\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x20has'+'\x20to\x20be\x20acc'+'umulated\x20d'+'ifferently'+'\x20if\x20we\x20wan'+'t\x20area\x20lig'+'hts\x20to\x20loo'+'k\x20correct\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_clearc'+'oat_specul'+'arity\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20vec3(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addRefra'+'ction(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dViewDirW'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_specu'+'larity,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr')+('gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_tran'+'smission,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_ior,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_dispers'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'ambient\x20oc'+'clusion\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_OCCLU'+'DE_DIRECT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeD'+'iffuse(lit'+'Args_ao);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeSpec'+'ular(litAr'+'gs_gloss,\x20'+'litArgs_ao'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20*\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20!defi'+'ned(LIT_OP'+'ACITY_FADE'+'S_SPECULAR'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'==\x20NORMAL\x20'+'||\x20LIT_BLE'+'ND_TYPE\x20=='+'\x20PREMULTIP'+'LIED\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specLum:'+'\x20f32\x20=\x20dot'+'((dSpecula'+'rLight\x20+\x20d'+'Reflection'+'.rgb\x20*\x20dRe'+'flection.a'+'),\x20vec3f(\x20'+'0.2126,\x200.'+'7152,\x200.07'+'22\x20));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'Lum\x20=\x20spec'+'Lum\x20+\x20dot('+'ccSpecular'+'Light\x20*\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20+\x20'+'ccReflecti'+'on\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity,\x20vec3'+'f(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20c'+'lamp(litAr'+'gs_opacity'+'\x20+\x20gammaCo'+'rrectInput'+'(specLum),'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_opaci'+'ty\x20=\x20litAr'+'gs_opacity'+'\x20*\x20uniform'+'.material_'+'alphaFade;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20end\x20chunk'+'s\x20-\x20when\x20b'+'aking\x20ligh'+'tmap\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTMAP_B'+'AKING\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_COLOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22b'+'akeLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_LIGH'+'TMAP_BAKIN'+'G_DIR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22ba'+'keDirLmEnd'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'end\x20chunks'+'\x20-\x20in\x20all\x20'+'other\x20case'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'endPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22outpu'+'tAlphaPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_MSD'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20apply'+'Msdf(outpu'+'t.color);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22outp'+'utPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'debugOutpu'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHADOW_CA'+'TCHER\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20when\x20t'+'he\x20shadow\x20'+'catcher\x20is'+'\x20enabled\x20-'+'\x20accumulat'+'ed\x20shadows')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'vec3f(dSha'+'dowCatcher'+'),\x20output.'+'color.a);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),CD='\x0a\x0a//\x20globa'+'ls\x0avar<pri'+'vate>\x20sRef'+'lection:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'VertexNorm'+'alW:\x20vec3f'+';\x0avar<priv'+'ate>\x20dTang'+'entW:\x20vec3'+'f;\x0avar<pri'+'vate>\x20dBin'+'ormalW:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dV'+'iewDirW:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'ReflDirW:\x20'+'vec3f;\x0avar'+'<private>\x20'+'ccReflDirW'+':\x20vec3f;\x0a\x0a'+'//\x20Per-lig'+'ht\x20tempora'+'ries\x0avar<p'+'rivate>\x20dL'+'ightDirNor'+'mW:\x20vec3f;'+'\x0avar<priva'+'te>\x20dAtten'+':\x20f32;\x0a\x0a//'+'\x20Outputs\x0av'+'ar<private'+'>\x20dTBN:\x20ma'+'t3x3f;\x0avar'+'<private>\x20'+'dReflectio'+'n:\x20vec4f;\x0a'+'var<privat'+'e>\x20dDiffus'+'eLight:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccFres'+'nel:\x20f32;\x0a'+'var<privat'+'e>\x20ccRefle'+'ction:\x20vec'+'3f;\x0avar<pr'+'ivate>\x20ccS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccSpec'+'ularityNoF'+'res:\x20f32;\x0a'+'var<privat'+'e>\x20sSpecul'+'arLight:\x20v'+'ec3f;\x0a\x0a//\x20'+'FRAGMENT\x20S'+'HADER\x20INPU'+'TS:\x20UNIFOR'+'MS\x0a\x0a#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_dis'+'persion:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_al'+'phaFade:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_SSAO\x0a\x20\x20'+'\x20\x20var\x20ssao'+'Texture\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20ssaoT'+'extureSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20u'+'niform\x20ssa'+'oTextureSi'+'zeInv:\x20vec'+'2f;\x0a#endif'+'\x0a\x0a//\x20light'+'ing\x20and\x20sh'+'adowing\x20de'+('clarations'+'\x0a\x0a#ifdef\x20L'+'IT_SHADOW_'+'CATCHER\x0a\x20\x20'+'\x20\x20//\x20a\x20var'+'iable\x20to\x20a'+'ccumulate\x20'+'shadows\x20fo'+'r\x20shadow\x20c'+'atcher\x20mat'+'erials\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dShado'+'wCatcher:\x20'+'f32\x20=\x201.0;'+'\x0a#endif\x0a\x0a/'+'/\x20LOOP\x20-\x20u'+'niform\x20dec'+'larations\x20'+'for\x20all\x20no'+'n-clustere'+'d\x20lights\x0a#'+'if\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightDe'+'clarationP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'f\x20LIT_FRES'+'NEL_MODEL\x20'+'==\x20NONE\x20&&'+'\x20!defined('+'LIT_REFLEC'+'TIONS)\x20&&\x20'+'!defined(L'+'IT_DIFFUSE'+'_MAP)\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_OLD'+'_AMBIENT\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0a//'+'\x20lightmap\x20'+'baking\x0a#if'+'def\x20STD_LI'+'GHTMAP_DIR'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20bakeDir'+':\x20f32;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_ADD_AMBIE'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20ambie'+'ntBakeOccl'+'usionContr'+'ast:\x20f32;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20ambientB'+'akeOcclusi'+'onBrightne'+'ss:\x20f32;\x0a#'+'endif\x0a'),PD='\x0a\x0a@fragmen'+'t\x0afn\x20fragm'+'entMain(in'+'put:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ccSpecular'+'Light\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'Reflection'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_N'+'ONE_SLICE_'+'MODE\x20==\x20SL'+'ICED\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22startNi'+'neSlicedPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20LIT_NONE'+'_SLICE_MOD'+'E\x20==\x20TILED'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'tartNineSl'+'icedTiledP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'NEEDS_NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dVertexNo'+'rmalW\x20=\x20no'+'rmalize(vN'+'ormalW);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_T'+'ANGENTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_HEIG'+'HTS)\x20||\x20de'+'fined(LIT_'+'USE_NORMAL'+'S)\x20||\x20defi'+'ned(LIT_US'+'E_CLEARCOA'+'T_NORMALS)'+'\x20||\x20define'+'d(LIT_GGX_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dTan'+'gentW\x20=\x20vT'+'angentW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dBino'+'rmalW\x20=\x20vB'+'inormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20getView'+'Dir();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_TBN'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getTBN('+'dTangentW,'+'\x20dBinormal'+'W,\x20dVertex'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'andleTwoSi'+'dedLightin'+'g();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+('\x0a\x20\x20\x20\x20//\x20in'+'voke\x20front'+'end\x20functi'+'ons\x0a\x20\x20\x20\x20ev'+'aluateFron'+'tend();\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22debugPr'+'ocessFront'+'endPS\x22\x0a\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput\x20='+'\x20evaluateB'+'ackend();\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainEndP'+'S\x22\x0a\x0a\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a}\x0a'),MD='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20material_'+'ambient:\x20v'+'ec3f;\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_LIGHTING'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22light'+'SpecularAn'+'isoGGXPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tSpecularB'+'linnPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0a#include'+'\x20\x22combineP'+'S\x22\x0a\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapAddP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22am'+'bientPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_MS'+'DF\x0a\x20\x20\x20\x20#in'+'clude\x20\x22msd'+'fPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22viewDirPS'+'\x22\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_GGX_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirAni'+'soPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22reflDirP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20f'+'unctionali')+('ty\x0a#includ'+'e\x20\x22lightin'+'gPS\x22\x0a\x0a'),DD='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',ID='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',LD='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a#endif'+'\x0a\x0a#ifdef\x20N'+'INESLICED\x0a'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vMask:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20varying\x20v'+'TiledUv:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dMaskG'+'lobal:\x20vec'+'2f;\x0a\x20\x20\x20\x20va'+'r<private>'+'\x20dTiledUvG'+'lobal:\x20vec'+'2f;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'uterScale:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'atlasRect:'+'\x20vec4f;\x0a\x0a#'+'endif\x0a\x0avar'+'<private>\x20'+'dPositionW'+':\x20vec3f;\x0av'+'ar<private'+'>\x20dModelMa'+'trix:\x20mat4'+'x4f;\x0a\x0a#inc'+'lude\x20\x22tran'+'sformCoreV'+'S\x22\x0a\x0a#ifdef'+'\x20UV0\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ertex_texC'+'oord0:\x20vec'+'2f;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'rtex_texCo'+'ord1:\x20vec2'+'f;\x0a\x20\x20\x20\x20#in'+'clude\x20\x22uv1'+'VS\x22\x0a#endif'+'\x0a\x0a\x0a#ifdef\x20'+'LINEAR_DEP'+'TH\x0a\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'#define\x20VI'+'EWMATRIX\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22tran'+'sformVS\x22\x0a\x0a'+'#ifdef\x20NOR'+'MALS\x0a\x20\x20\x20\x20#'+'include\x20\x22n'+'ormalCoreV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malVS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20TANGENTS'+'\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_tangent:'+'\x20vec4f;\x0a#e'+'ndif\x0a\x0a//\x20e'+'xpand\x20unif'+'orms\x20for\x20u'+'v\x20transfor'+'ms\x0a#includ'+'e\x20\x22uvTrans'+'formUnifor'+'msPS,\x20UV_T'+'RANSFORMS_'+('COUNT\x22\x0a\x0a#i'+'fdef\x20MSDF\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22msdfVS'+'\x22\x0a#endif\x0a\x0a'+'#include\x20\x20'+'\x22litUserCo'+'deVS\x22\x0a\x0a@ve'+'rtex\x0afn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'MainStartV'+'S\x22\x0a\x0a\x20\x20\x20\x20va'+'r\x20output\x20:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20get'+'Position()'+';\x0a\x20\x20\x20\x20outp'+'ut.vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20NO'+'RMALS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vNormalW\x20'+'=\x20getNorma'+'l();\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TA'+'NGENTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vTangent'+'W\x20=\x20normal'+'ize(dNorma'+'lMatrix\x20*\x20'+'vertex_tan'+'gent.xyz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vBin'+'ormalW\x20=\x20c'+'ross(outpu'+'t.vNormalW'+',\x20output.v'+'TangentW)\x20'+'*\x20vertex_t'+'angent.w;\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(GG'+'X_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20UV0'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f\x20=\x20getU'+'v0();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20UV0_UNMOD'+'IFIED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20uv1:\x20vec2'+'f\x20=\x20getUv1'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20U'+'V1_UNMODIF'+'IED\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.vUv1\x20=\x20'+'uv1;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'xpand\x20code'+'\x20for\x20uv\x20tr'+'ansforms\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22uvTrans')+('formVS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20VERTEX_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition'+',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-(uniform'+'.matrix_vi'+'ew\x20*\x20vec4f'+'(output.vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MSDF\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unpac'+'kMsdfParam'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.outline_c'+'olor\x20=\x20dOu'+'tlineColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.out'+'line_thick'+'ness\x20=\x20dOu'+'tlineThick'+'ness;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.shadow_co'+'lor\x20=\x20dSha'+'dowColor;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.shado'+'w_offset\x20='+'\x20dShadowOf'+'fset;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vMask'+'\x20=\x20dMaskGl'+'obal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vTiledUv\x20'+'=\x20dTiledUv'+'Global;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndVS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),RD='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20evaluateF'+'rontend();'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20getP'+'ickOutput('+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20float2ve'+'c4(vLinear'+'Depth);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndPS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',OD='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avar<priva'+'te>\x20litArg'+'s_albedo:\x20'+'vec3f;\x0a\x0a//'+'\x20Transpare'+'ncy\x0avar<pr'+'ivate>\x20lit'+'Args_opaci'+'ty:\x20f32;\x0a\x0a'+'//\x20Emissio'+'n\x20color\x0ava'+'r<private>'+'\x20litArgs_e'+'mission:\x20v'+'ec3f;\x0a\x0a//\x20'+'Normal\x20dir'+'ection\x20in\x20'+'world\x20spac'+'e\x0avar<priv'+'ate>\x20litAr'+'gs_worldNo'+'rmal:\x20vec3'+'f;\x0a\x0a//\x20Amb'+'ient\x20occlu'+'sion\x20amoun'+'t,\x20range\x20['+'0..1]\x0avar<'+'private>\x20l'+'itArgs_ao:'+'\x20f32;\x0a\x0a//\x20'+'Light\x20map\x20'+'color\x0avar<'+'private>\x20l'+'itArgs_lig'+'htmap:\x20vec'+'3f;\x0a\x0a//\x20Li'+'ght\x20map\x20di'+'rection\x0ava'+'r<private>'+'\x20litArgs_l'+'ightmapDir'+':\x20vec3f;\x0a\x0a'+'//\x20Surface'+'\x20metalness'+'\x20factor,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_metalne'+'ss:\x20f32;\x0a\x0a'+'//\x20The\x20f0\x20'+'specularit'+'y\x20factor\x0av'+'ar<private'+'>\x20litArgs_'+'specularit'+'y:\x20vec3f;\x0a'+'\x0a//\x20Specul'+'arity\x20inte'+'nsity\x20fact'+'or,\x20range\x20'+'[0..1]\x0avar'+'<private>\x20'+'litArgs_sp'+'ecularityF'+'actor:\x20f32'+';\x0a\x0a//\x20The\x20'+'microfacet'+'\x20glossines'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0avar<pri'+'vate>\x20litA'+'rgs_gloss:'+'\x20f32;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_sheen'+'_gloss:\x20f3'+'2;\x0a\x0a//\x20The'+'\x20color\x20of\x20'+'the\x20f0\x20spe'+'cularity\x20f'+'actor\x20for\x20'+'the\x20sheen\x20'+'layer\x0avar<'+'private>\x20l'+'itArgs_she'+'en_specula'+'rity:\x20vec3'+'f;\x0a\x0a//\x20Tra'+'nsmission\x20'+'factor\x20(re'+('fraction),'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_trans'+'mission:\x20f'+'32;\x0a\x0a//\x20Un'+'iform\x20thic'+'kness\x20of\x20m'+'edium,\x20use'+'d\x20by\x20trans'+'mission,\x20r'+'ange\x20[0..i'+'nf]\x0avar<pr'+'ivate>\x20lit'+'Args_thick'+'ness:\x20f32;'+'\x0a\x0a//\x20Index'+'\x20of\x20refrac'+'tion\x0avar<p'+'rivate>\x20li'+'tArgs_ior:'+'\x20f32;\x0a\x0a//\x20'+'Dispersion'+',\x20range\x20[0'+'..1]\x20typic'+'ally,\x20but\x20'+'can\x20be\x20hig'+'her\x0avar<pr'+'ivate>\x20lit'+'Args_dispe'+'rsion:\x20f32'+';\x0a\x0a//\x20Irid'+'escence\x20ef'+'fect\x20inten'+'sity,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'iridescenc'+'e_intensit'+'y:\x20f32;\x0a\x0a/'+'/\x20Thicknes'+'s\x20of\x20the\x20i'+'ridescent\x20'+'microfilm\x20'+'layer,\x20val'+'ue\x20is\x20in\x20n'+'anometers,'+'\x20range\x20[0.'+'.1000]\x0avar'+'<private>\x20'+'litArgs_ir'+'idescence_'+'thickness:'+'\x20f32;\x0a\x0a//\x20'+'The\x20normal'+'\x20used\x20for\x20'+'the\x20clearc'+'oat\x20layer\x0a'+'var<privat'+'e>\x20litArgs'+'_clearcoat'+'_worldNorm'+'al:\x20vec3f;'+'\x0a\x0a//\x20Inten'+'sity\x20of\x20th'+'e\x20clearcoa'+'t\x20layer,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_clearco'+'at_specula'+'rity:\x20f32;'+'\x0a\x0a//\x20Gloss'+'iness\x20of\x20c'+'learcoat\x20l'+'ayer,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'clearcoat_'+'gloss:\x20f32'+';\x0a\x0a'),FD='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20t'+'extureBias'+':\x20f32\x20=\x20-1'+'000.0;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20texture'+'Bias:\x20f32;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ShaderArgs'+'PS\x22\x0a',ND='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20view_p'+'osition:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20li'+'ght_radius'+':\x20f32;\x0a#en'+'dif\x0a\x0a#if\x20S'+'HADOW_TYPE'+'\x20==\x20PCSS_3'+'2F\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lin'+'earizeDept'+'hPS\x22\x0a#endi'+'f\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serMainSta'+'rtPS\x22\x0a\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20/'+'/\x20using\x20no'+'n-standard'+'\x20depth,\x20i.'+'e\x20gl_FragC'+'oord.z\x0a\x20\x20\x20'+'\x20#ifdef\x20PE'+'RSPECTIVE_'+'DEPTH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20de'+'pth:\x20f32\x20='+'\x20input.pos'+'ition.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20PCS'+'S_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot/omni'+'\x20shadows\x20c'+'urrently\x20u'+'se\x20linear\x20'+'depth.\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20TODO:\x20us'+'e\x20perspect'+'ive\x20depth\x20'+'for\x20spot/o'+'mni\x20the\x20sa'+'me\x20way\x20as\x20'+'directiona'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT_TYPE\x20!'+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'depth\x20=\x20li'+'nearizeDep'+'thWithPara'+'ms(depth,\x20'+'camera_par'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20depth:\x20'+'f32\x20=\x20min('+'distance(u'+'niform.vie'+'w_position'+',\x20input.vP'+'ositionW)\x20'+'/\x20uniform.'+'light_radi'+'us,\x200.9999'+'9);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'MODIFIED_D'+'EPTH\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SHADO'+'W_TYPE\x20==\x20'+'VSM_16F\x20||'+'\x20SHADOW_TY'+('PE\x20==\x20VSM_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20SHAD'+'OW_TYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20expon'+'ent:\x20f32\x20='+'\x2015.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20exp'+'onent:\x20f32'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dep'+'th_vsm\x20=\x202'+'.0\x20*\x20depth'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dept'+'h_vsm\x20=\x20ex'+'p(exponent'+'\x20*\x20depth_v'+'sm);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(depth_'+'vsm,\x20depth'+'_vsm\x20*\x20dep'+'th_vsm,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20PCSS'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(de'+'pth,\x200.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MODIFI'+'ED_DEPTH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20If'+'\x20we\x20end\x20up'+'\x20using\x20mod'+'ified\x20dept'+'h,\x20it\x20need'+'s\x20to\x20be\x20ex'+'plicitly\x20w'+'ritten\x20to\x20'+'gl_FragDep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.frag'+'Depth\x20=\x20de'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'just\x20the\x20s'+'implest\x20co'+'de,\x20color\x20'+'is\x20not\x20wri'+'tten\x20anywa'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),kD='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0afn\x20'+'LTC_Uv(N:\x20'+'vec3f,\x20V:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20co'+'nst\x20LUT_SI'+'ZE:\x20f32\x20=\x20'+'64.0;\x0a\x20\x20\x20\x20'+'const\x20LUT_'+'SCALE:\x20f32'+'\x20=\x20(LUT_SI'+'ZE\x20-\x201.0)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_BIAS'+':\x20f32\x20=\x200.'+'5\x20/\x20LUT_SI'+'ZE;\x0a\x20\x20\x20\x20le'+'t\x20dotNV:\x20f'+'32\x20=\x20satur'+'ate(dot(\x20N'+',\x20V\x20));\x0a\x20\x20'+'\x20\x20//\x20textu'+'re\x20paramet'+'erized\x20by\x20'+'sqrt(\x20GGX\x20'+'alpha\x20)\x20an'+'d\x20sqrt(\x201\x20'+'-\x20cos(\x20the'+'ta\x20)\x20)\x0a\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20vec'+'2f(\x20roughn'+'ess,\x20sqrt('+'\x201.0\x20-\x20dot'+'NV\x20)\x20);\x0a\x20\x20'+'\x20\x20return\x20u'+'v\x20*\x20LUT_SC'+'ALE\x20+\x20LUT_'+'BIAS;\x0a}\x0a\x0af'+'n\x20LTC_Clip'+'pedSphereF'+'ormFactor('+'\x20f:\x20vec3f\x20'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20//\x20Re'+'al-Time\x20Ar'+'ea\x20Lightin'+'g:\x20a\x20Journ'+'ey\x20from\x20Re'+'search\x20to\x20'+'Production'+'\x20(p.102)\x0a\x20'+'\x20\x20\x20//\x20An\x20a'+'pproximati'+'on\x20of\x20the\x20'+'form\x20facto'+'r\x20of\x20a\x20hor'+'izon-clipp'+'ed\x20rectang'+'le.\x0a\x20\x20\x20\x20le'+'t\x20l:\x20f32\x20='+'\x20length(\x20f'+'\x20);\x0a\x20\x20\x20\x20re'+'turn\x20max(\x20'+'(\x20l\x20*\x20l\x20+\x20'+'f.z\x20)\x20/\x20(\x20'+'l\x20+\x201.0\x20),'+'\x200.0\x20);\x0a}\x0a'+'\x0afn\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'v1:\x20vec3f,'+'\x20v2:\x20vec3f'+'\x20)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20x:\x20f32\x20='+'\x20dot(\x20v1,\x20'+'v2\x20);\x0a\x20\x20\x20\x20'+'let\x20y:\x20f32'+('\x20=\x20abs(\x20x\x20'+');\x0a\x20\x20\x20\x20//\x20'+'rational\x20p'+'olynomial\x20'+'approximat'+'ion\x20to\x20the'+'ta\x20/\x20sin(\x20'+'theta\x20)\x20/\x20'+'2PI\x0a\x20\x20\x20\x20le'+'t\x20a:\x20f32\x20='+'\x200.8543985'+'\x20+\x20(\x200.496'+'5155\x20+\x200.0'+'145206\x20*\x20y'+'\x20)\x20*\x20y;\x0a\x20\x20'+'\x20\x20let\x20b:\x20f'+'32\x20=\x203.417'+'5940\x20+\x20(\x204'+'.1616724\x20+'+'\x20y\x20)\x20*\x20y;\x0a'+'\x20\x20\x20\x20let\x20v:'+'\x20f32\x20=\x20a\x20/'+'\x20b;\x0a\x20\x20\x20\x20le'+'t\x20inv_sqrt'+'_term\x20=\x20in'+'verseSqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7f\x20)\x20);\x0a'+'\x20\x20\x20\x20let\x20th'+'eta_sinthe'+'ta:\x20f32\x20=\x20'+'select(\x20(0'+'.5\x20*\x20inv_s'+'qrt_term\x20-'+'\x20v),\x20v,\x20x\x20'+'>\x200.0\x20);\x0a\x20'+'\x20\x20\x20return\x20'+'cross(\x20v1,'+'\x20v2\x20)\x20*\x20th'+'eta_sinthe'+'ta;\x0a}\x0a\x0astr'+'uct\x20Coords'+'\x20{\x0a\x20\x20\x20\x20coo'+'rd0:\x20vec3f'+',\x0a\x20\x20\x20\x20coor'+'d1:\x20vec3f,'+'\x0a\x20\x20\x20\x20coord'+'2:\x20vec3f,\x0a'+'\x20\x20\x20\x20coord3'+':\x20vec3f,\x0a}'+'\x0a\x0afn\x20LTC_E'+'valuateRec'+'t(\x20N:\x20vec3'+'f,\x20V:\x20vec3'+'f,\x20P:\x20vec3'+'f,\x20mInv:\x20m'+'at3x3f,\x20re'+'ctCoords:\x20'+'Coords)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20//\x20bail\x20i'+'f\x20point\x20is'+'\x20on\x20back\x20s'+'ide\x20of\x20pla'+'ne\x20of\x20ligh'+'t\x0a\x20\x20\x20\x20//\x20a'+'ssumes\x20ccw'+'\x20winding\x20o'+'rder\x20of\x20li'+'ght\x20vertic'+'es\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec3f'+'\x20=\x20rectCoo'+'rds.coord1'+'\x20-\x20rectCoo'+'rds.coord0'+';\x0a\x20\x20\x20\x20let\x20'+'v2:\x20vec3f\x20'+'=\x20rectCoor'+'ds.coord3\x20'+'-\x20rectCoor'+'ds.coord0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'lightNorma'+'l:\x20vec3f\x20='+'\x20cross(\x20v1'+',\x20v2\x20);\x0a\x20\x20'+'\x20\x20let\x20fact'+'or:\x20f32\x20=\x20'+'sign(-dot('+'\x20lightNorm'+'al,\x20P\x20-\x20re'+'ctCoords.c'+'oord0\x20));\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'nstruct\x20or'+'thonormal\x20'+'basis\x20arou'+'nd\x20N\x0a\x20\x20\x20\x20l')+('et\x20T1:\x20vec'+'3f\x20=\x20norma'+'lize(\x20V\x20-\x20'+'N\x20*\x20dot(\x20V'+',\x20N\x20)\x20);\x0a\x20'+'\x20\x20\x20let\x20T2:'+'\x20vec3f\x20=\x20f'+'actor\x20*\x20cr'+'oss(\x20N,\x20T1'+'\x20);\x20//\x20neg'+'ated\x20from\x20'+'paper;\x20pos'+'sibly\x20due\x20'+'to\x20a\x20diffe'+'rent\x20hande'+'dness\x20of\x20w'+'orld\x20coord'+'inate\x20syst'+'em\x0a\x20\x20\x20\x20//\x20'+'compute\x20tr'+'ansform\x0a\x20\x20'+'\x20\x20let\x20mat:'+'\x20mat3x3f\x20='+'\x20mInv\x20*\x20tr'+'anspose(\x20m'+'at3x3f(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'transform\x20'+'rect\x0a\x20\x20\x20\x20v'+'ar\x20coords:'+'\x20array<vec'+'3f,\x204>;\x0a\x20\x20'+'\x20\x20coords[0'+']\x20=\x20mat\x20*\x20'+'(\x20rectCoor'+'ds.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20coords[1]'+'\x20=\x20mat\x20*\x20('+'\x20rectCoord'+'s.coord1\x20-'+'\x20P\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20mat\x20*\x20(\x20'+'rectCoords'+'.coord2\x20-\x20'+'P\x20);\x0a\x20\x20\x20\x20c'+'oords[3]\x20='+'\x20mat\x20*\x20(\x20r'+'ectCoords.'+'coord3\x20-\x20P'+'\x20);\x0a\x20\x20\x20\x20//'+'\x20project\x20r'+'ect\x20onto\x20s'+'phere\x0a\x20\x20\x20\x20'+'coords[0]\x20'+'=\x20normaliz'+'e(\x20coords['+'0]\x20);\x0a\x20\x20\x20\x20'+'coords[1]\x20'+'=\x20normaliz'+'e(\x20coords['+'1]\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20normaliz'+'e(\x20coords['+'2]\x20);\x0a\x20\x20\x20\x20'+'coords[3]\x20'+'=\x20normaliz'+'e(\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20vector\x20'+'form\x20facto'+'r\x0a\x20\x20\x20\x20var\x20'+'vectorForm'+'Factor:\x20ve'+'c3f\x20=\x20vec3'+'f(\x200.0\x20);\x0a'+'\x20\x20\x20\x20vector'+'FormFactor'+'\x20=\x20vectorF'+'ormFactor\x20'+'+\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[0],\x20c'+'oords[1]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20=\x20vecto'+'rFormFacto'+'r\x20+\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'coords[1],'+'\x20coords[2]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa')+('ctor\x20=\x20vec'+'torFormFac'+'tor\x20+\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[2'+'],\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20=\x20v'+'ectorFormF'+'actor\x20+\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[3],\x20coord'+'s[0]\x20);\x0a\x20\x20'+'\x20\x20//\x20adjus'+'t\x20for\x20hori'+'zon\x20clippi'+'ng\x0a\x20\x20\x20\x20let'+'\x20result:\x20f'+'32\x20=\x20LTC_C'+'lippedSphe'+'reFormFact'+'or(\x20vector'+'FormFactor'+'\x20);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20resu'+'lt;\x0a}\x0a\x0avar'+'<private>\x20'+'dLTCCoords'+':\x20Coords;\x0a'+'fn\x20getLTCL'+'ightCoords'+'(lightPos:'+'\x20vec3f,\x20ha'+'lfWidth:\x20v'+'ec3f,\x20half'+'Height:\x20ve'+'c3f)\x20->\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20var\x20coord'+'s:\x20Coords;'+'\x0a\x20\x20\x20\x20coord'+'s.coord0\x20='+'\x20lightPos\x20'+'+\x20halfWidt'+'h\x20-\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd1\x20=\x20ligh'+'tPos\x20-\x20hal'+'fWidth\x20-\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20coord'+'s.coord2\x20='+'\x20lightPos\x20'+'-\x20halfWidt'+'h\x20+\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd3\x20=\x20ligh'+'tPos\x20+\x20hal'+'fWidth\x20+\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20retur'+'n\x20coords;\x0a'+'}\x0a\x0avar<pri'+'vate>\x20dSph'+'ereRadius:'+'\x20f32;\x0afn\x20g'+'etSphereLi'+'ghtCoords('+'lightPos:\x20'+'vec3f,\x20hal'+'fWidth:\x20ve'+'c3f,\x20halfH'+'eight:\x20vec'+'3f)\x20->\x20Coo'+'rds\x20{\x0a\x20\x20\x20\x20'+'//\x20used\x20fo'+'r\x20simple\x20s'+'phere\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20//\x20als'+'o,\x20the\x20cod'+'e\x20only\x20han'+'dles\x20a\x20sph'+'erical\x20lig'+'ht,\x20it\x20can'+'not\x20be\x20non'+'-uniformly'+'\x20scaled\x20in'+'\x20world\x20spa'+'ce,\x20and\x20so'+'\x20we\x20enforc'+'e\x20it\x20here\x0a'+'\x20\x20\x20\x20dSpher'+'eRadius\x20=\x20')+('max(length'+'(halfWidth'+'),\x20length('+'halfHeight'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20Billboar'+'d\x20the\x202d\x20l'+'ight\x20quad\x20'+'to\x20reflect'+'ion\x20vector'+',\x20as\x20it\x27s\x20'+'used\x20for\x20s'+'pecular.\x20T'+'his\x20allows'+'\x20us\x20to\x20use'+'\x20disk\x20math'+'\x20for\x20the\x20s'+'phere.\x0a\x20\x20\x20'+'\x20let\x20f:\x20ve'+'c3f\x20=\x20refl'+'ect(normal'+'ize(lightP'+'os\x20-\x20unifo'+'rm.view_po'+'sition),\x20v'+'NormalW);\x0a'+'\x20\x20\x20\x20let\x20w:'+'\x20vec3f\x20=\x20n'+'ormalize(c'+'ross(f,\x20ha'+'lfHeight))'+';\x0a\x20\x20\x20\x20let\x20'+'h:\x20vec3f\x20='+'\x20normalize'+'(cross(f,\x20'+'w));\x0a\x0a\x20\x20\x20\x20'+'return\x20get'+'LTCLightCo'+'ords(light'+'Pos,\x20w\x20*\x20d'+'SphereRadi'+'us,\x20h\x20*\x20dS'+'phereRadiu'+'s);\x0a}\x0a\x0a//\x20'+'used\x20for\x20L'+'TC\x20LUT\x20tex'+'ture\x20looku'+'p\x0avar<priv'+'ate>\x20dLTCU'+'V:\x20vec2f;\x0a'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20var<p'+'rivate>\x20cc'+'LTCUV:\x20vec'+'2f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightUV(g'+'loss:\x20f32,'+'\x20worldNorm'+'al:\x20vec3f,'+'\x20viewDir:\x20'+'vec3f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20roug'+'hness:\x20f32'+'\x20=\x20max((1.'+'0\x20-\x20gloss)'+'\x20*\x20(1.0\x20-\x20'+'gloss),\x200.'+'001);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_Uv(\x20world'+'Normal,\x20vi'+'ewDir,\x20rou'+'ghness\x20);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20energ'+'y\x20conserva'+'tion\x20and\x20t'+'o\x20modulate'+'\x20specular\x0a'+'var<privat'+'e>\x20dLTCSpe'+'cFres:\x20vec'+'3f;\x0a#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20v'+'ar<private'+'>\x20ccLTCSpe'+'cFres:\x20vec'+'3f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightSpec'+'Fres(uv:\x20v'+'ec2f,\x20spec'+'ularity:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20t2:\x20v')+('ec4f\x20=\x20tex'+'tureSample'+'Level(area'+'LightsLutT'+'ex2,\x20areaL'+'ightsLutTe'+'x2Sampler,'+'\x20uv,\x200.0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20specular'+'ity\x20*\x20t2.x'+'\x20+\x20(\x20vec3f'+'(\x201.0\x20)\x20-\x20'+'specularit'+'y)\x20*\x20t2.y;'+'\x0a}\x0a\x0afn\x20cal'+'cLTCLightV'+'alues(glos'+'s:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f,\x20specul'+'arity:\x20vec'+'3f,\x20clearc'+'oatGloss:\x20'+'f32,\x20clear'+'coatWorldN'+'ormal:\x20vec'+'3f,\x20clearc'+'oatSpecula'+'rity:\x20f32)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'UV\x20=\x20getLT'+'CLightUV(c'+'learcoatGl'+'oss,\x20clear'+'coatWorldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'SpecFres\x20='+'\x20getLTCLig'+'htSpecFres'+'(ccLTCUV,\x20'+'vec3f(clea'+'rcoatSpecu'+'larity));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0afn\x20cal'+'cDiskLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20cal'+'cRectLight'+'Values(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0afn\x20calc'+'SphereLigh'+'tValues(li'+'ghtPos:\x20ve'+'c3f,\x20halfW'+'idth:\x20vec3'+'f,\x20halfHei')+('ght:\x20vec3f'+')\x20{\x0a\x20\x20\x20\x20dL'+'TCCoords\x20='+'\x20getSphere'+'LightCoord'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0a\x0a/'+'/\x20An\x20exten'+'ded\x20versio'+'n\x20of\x20the\x20i'+'mplementat'+'ion\x20from\x20\x22'+'How\x20to\x20sol'+'ve\x20a\x20cubic'+'\x20equation,'+'\x20revisited'+'\x22\x0a//\x20http:'+'//momentsi'+'ngraphics.'+'de/?p=105\x0a'+'fn\x20SolveCu'+'bic(Coeffi'+'cient_in:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20pi:\x20'+'f32\x20=\x203.14'+'159;\x0a\x20\x20\x20\x20v'+'ar\x20Coeffic'+'ient\x20=\x20Coe'+'fficient_i'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t\x20=\x20vec4f('+'Coefficien'+'t.xyz\x20/\x20Co'+'efficient.'+'w,\x20Coeffic'+'ient.w);\x0a\x0a'+'\x20\x20\x20\x20//\x20Div'+'ide\x20middle'+'\x20coefficie'+'nts\x20by\x20thr'+'ee\x0a\x20\x20\x20\x20let'+'\x20new_yz:\x20v'+'ec2f\x20=\x20Coe'+'fficient.y'+'z\x20/\x203.0;\x0a\x20'+'\x20\x20\x20Coeffic'+'ient\x20=\x20vec'+'4f(Coeffic'+'ient.x,\x20ne'+'w_yz.x,\x20ne'+'w_yz.y,\x20Co'+'efficient.'+'w);\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20let\x20A:\x20'+'f32\x20=\x20Coef'+'ficient.w;'+'\x0a\x20\x20\x20\x20let\x20B'+':\x20f32\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20let'+'\x20C:\x20f32\x20=\x20'+'Coefficien'+'t.y;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20Coeffici'+'ent.x;\x0a\x0a\x20\x20'+'\x20\x20//\x20Compu'+'te\x20the\x20Hes'+'sian\x20and\x20t'+'he\x20discrim'+'inant\x0a\x20\x20\x20\x20'+'let\x20Delta:'+'\x20vec3f\x20=\x20v'+'ec3f(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20-Coeff'+'icient.z\x20*'+'\x20Coefficie'+'nt.z\x20+\x20Coe'+'fficient.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'-Coefficie'+'nt.y\x20*\x20Coe'+'fficient.z'+'\x20+\x20Coeffic'+'ient.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'vec2f(Coef'+'ficient.z,'+'\x20-Coeffici'+'ent.y),\x20Co'+'efficient.'+'xy)\x0a\x20\x20\x20\x20);')+('\x0a\x0a\x20\x20\x20\x20let\x20'+'Discrimina'+'nt:\x20f32\x20=\x20'+'dot(vec2f('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20var\x20xlc:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20var\x20xsc:'+'\x20vec2f;\x0a\x0a\x20'+'\x20\x20\x20//\x20Algo'+'rithm\x20A\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20A_a:'+'\x20f32\x20=\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_a:\x20f'+'32\x20=\x20Delta'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_a:'+'\x20f32\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20Theta:\x20f'+'32\x20=\x20atan2'+'(sqrt(Disc'+'riminant),'+'\x20-D_a)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sqr'+'t_neg_Ca\x20='+'\x20sqrt(-C_a'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20x_1a:'+'\x20f32\x20=\x202.0'+'\x20*\x20sqrt_ne'+'g_Ca\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x_3a:\x20f32'+'\x20=\x202.0\x20*\x20s'+'qrt_neg_Ca'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20xl:'+'\x20f32\x20=\x20sel'+'ect(x_3a,\x20'+'x_1a,\x20(x_1'+'a\x20+\x20x_3a)\x20'+'>\x202.0\x20*\x20B)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xlc\x20=\x20vec2'+'f(xl\x20-\x20B,\x20'+'A);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Al'+'gorithm\x20D\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20A_'+'d:\x20f32\x20=\x20D'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_d:\x20f'+'32\x20=\x20Delta'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_d:'+'\x20f32\x20=\x20-D\x20'+'*\x20Delta.y\x20'+'+\x202.0\x20*\x20C\x20'+'*\x20Delta.z;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Take\x20th'+'e\x20cubic\x20ro'+'ot\x20of\x20a\x20no'+'rmalized\x20c'+'omplex\x20num'+'ber\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20Thet'+'a:\x20f32\x20=\x20a'+'tan2(D\x20*\x20s'+'qrt(Discri'+'minant),\x20-'+'D_d)\x20/\x203.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20sqrt_'+'neg_Cd\x20=\x20s'+'qrt(-C_d);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20x_1d:\x20f'+'32\x20=\x202.0\x20*')+('\x20sqrt_neg_'+'Cd\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20x'+'_3d:\x20f32\x20='+'\x202.0\x20*\x20sqr'+'t_neg_Cd\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20xs:\x20f'+'32\x20=\x20selec'+'t(x_3d,\x20x_'+'1d,\x20x_1d\x20+'+'\x20x_3d\x20<\x202.'+'0\x20*\x20C);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xsc\x20'+'=\x20vec2f(-D'+',\x20xs\x20+\x20C);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20let\x20E:\x20f'+'32\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20let\x20F'+':\x20f32\x20=\x20-x'+'lc.x\x20*\x20xsc'+'.y\x20-\x20xlc.y'+'\x20*\x20xsc.x;\x0a'+'\x20\x20\x20\x20let\x20G:'+'\x20f32\x20=\x20\x20xl'+'c.x\x20*\x20xsc.'+'x;\x0a\x0a\x20\x20\x20\x20le'+'t\x20xmc:\x20vec'+'2f\x20=\x20vec2f'+'(C\x20*\x20F\x20-\x20B'+'\x20*\x20G,\x20-B\x20*'+'\x20F\x20+\x20C\x20*\x20E'+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20Root:\x20ve'+'c3f\x20=\x20vec3'+'f(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root\x20=\x20'+'Root.yxz;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root\x20=\x20Ro'+'ot.xzy;\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20Root;'+'\x0a}\x0a\x0afn\x20LTC'+'_EvaluateD'+'isk(N:\x20vec'+'3f,\x20V:\x20vec'+'3f,\x20P:\x20vec'+'3f,\x20Minv:\x20'+'mat3x3f,\x20p'+'oints:\x20Coo'+'rds)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20let\x20T1:\x20'+'vec3f\x20=\x20no'+'rmalize(V\x20'+'-\x20N\x20*\x20dot('+'V,\x20N));\x0a\x20\x20'+'\x20\x20let\x20T2:\x20'+'vec3f\x20=\x20cr'+'oss(N,\x20T1)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'rotate\x20are'+'a\x20light\x20in'+'\x20(T1,\x20T2,\x20'+'N)\x20basis\x0a\x20'+'\x20\x20\x20let\x20R:\x20'+'mat3x3f\x20=\x20'+'transpose('+'\x20mat3x3f(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20polygon\x20'+'(allocate\x20'+'5\x20vertices'+'\x20for\x20clipp')+('ing\x0a\x20\x20\x20\x20va'+'r\x20L_:\x20arra'+'y<vec3f,\x203'+'>;\x0a\x20\x20\x20\x20L_['+'0]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[1'+']\x20=\x20R\x20*\x20(\x20'+'points.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20L_[2]'+'\x20=\x20R\x20*\x20(\x20p'+'oints.coor'+'d2\x20-\x20P\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'it\x20ellipse'+'\x0a\x20\x20\x20\x20let\x20C'+':\x20vec3f\x20\x20='+'\x200.5\x20*\x20(L_'+'[0]\x20+\x20L_[2'+']);\x0a\x20\x20\x20\x20va'+'r\x20V1:\x20vec3'+'f\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[2]);\x0a\x20\x20\x20'+'\x20var\x20V2:\x20v'+'ec3f\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[0]);\x0a'+'\x0a\x20\x20\x20\x20let\x20C'+'_Minv:\x20vec'+'3f\x20\x20=\x20Minv'+'\x20*\x20C;\x0a\x20\x20\x20\x20'+'let\x20V1_Min'+'v:\x20vec3f\x20='+'\x20Minv\x20*\x20V1'+';\x0a\x20\x20\x20\x20let\x20'+'V2_Minv:\x20v'+'ec3f\x20=\x20Min'+'v\x20*\x20V2;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20var\x20a:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20b:\x20f32;\x0a'+'\x20\x20\x20\x20let\x20d1'+'1:\x20f32\x20=\x20d'+'ot(V1_Minv'+',\x20V1_Minv)'+';\x0a\x20\x20\x20\x20let\x20'+'d22:\x20f32\x20='+'\x20dot(V2_Mi'+'nv,\x20V2_Min'+'v);\x0a\x20\x20\x20\x20le'+'t\x20d12:\x20f32'+'\x20=\x20dot(V1_'+'Minv,\x20V2_M'+'inv);\x0a\x20\x20\x20\x20'+'if\x20(abs(d1'+'2)\x20/\x20sqrt('+'d11\x20*\x20d22)'+'\x20>\x200.0001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20tr:\x20f'+'32\x20=\x20d11\x20+'+'\x20d22;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'t_inner:\x20f'+'32\x20=\x20-d12\x20'+'*\x20d12\x20+\x20d1'+'1\x20*\x20d22;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20det:\x20f32\x20'+'=\x20sqrt(det'+'_inner);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20u:\x20f32\x20=\x20'+'0.5\x20*\x20sqrt'+'(tr\x20-\x202.0\x20'+'*\x20det);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'v:\x20f32\x20=\x200'+'.5\x20*\x20sqrt('+'tr\x20+\x202.0\x20*'+'\x20det);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20e'+'_max:\x20f32\x20'+'=\x20(u\x20+\x20v)\x20'+'*\x20(u\x20+\x20v);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20e_min:\x20'+'f32\x20=\x20(u\x20-'+'\x20v)\x20*\x20(u\x20-'+'\x20v);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20V1'+'_:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va')+('r\x20V2_:\x20vec'+'3f;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(d11'+'\x20>\x20d22)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V1_\x20=\x20d1'+'2\x20*\x20V1_Min'+'v\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2_Minv;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20V2_\x20=\x20d12'+'\x20*\x20V1_Minv'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2_Minv;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12*V2_'+'Minv\x20+\x20(e_'+'max\x20-\x20d22)'+'*V1_Minv;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V2_\x20=\x20d1'+'2*V2_Minv\x20'+'+\x20(e_min\x20-'+'\x20d22)*V1_M'+'inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20e_max;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20b'+'\x20=\x201.0\x20/\x20e'+'_min;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20V1\x20=\x20n'+'ormalize(V'+'1_);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20V2\x20=\x20no'+'rmalize(V2'+'_);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1_Minv,\x20V1'+'_Minv);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2_Minv,\x20V'+'2_Minv);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'=\x20V1_Minv\x20'+'*\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20=\x20V2_Min'+'v\x20*\x20sqrt(b'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20V3'+':\x20vec3f\x20=\x20'+'normalize('+'cross(V1,\x20'+'V2));\x0a\x20\x20\x20\x20'+'if\x20(dot(C_'+'Minv,\x20V3)\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V3\x20'+'=\x20V3\x20*\x20-1.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20let\x20L:'+'\x20f32\x20\x20=\x20do'+'t(V3,\x20C_Mi'+'nv);\x0a\x20\x20\x20\x20l'+'et\x20x0:\x20f32'+'\x20=\x20dot(V1,'+'\x20C_Minv)\x20/'+'\x20L;\x0a\x20\x20\x20\x20le'+'t\x20y0:\x20f32\x20'+'=\x20dot(V2,\x20'+'C_Minv)\x20/\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20E1:\x20f32\x20'+'=\x20inverseS'+'qrt(a);\x0a\x20\x20'+'\x20\x20let\x20E2:\x20'+'f32\x20=\x20inve'+'rseSqrt(b)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20a_scaled\x20'+'=\x20a\x20*\x20L\x20*\x20'+'L;\x0a\x20\x20\x20\x20let'+'\x20b_scaled\x20'+'=\x20b\x20*\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20c0:\x20f32\x20'+'=\x20a_scaled'+'\x20*\x20b_scale'+'d;\x0a\x20\x20\x20\x20let'+'\x20c1:\x20f32\x20='+'\x20a_scaled\x20'+'*\x20b_scaled')+('\x20*\x20(1.0\x20+\x20'+'x0\x20*\x20x0\x20+\x20'+'y0\x20*\x20y0)\x20-'+'\x20a_scaled\x20'+'-\x20b_scaled'+';\x0a\x20\x20\x20\x20let\x20'+'c2:\x20f32\x20=\x20'+'1.0\x20-\x20a_sc'+'aled\x20*\x20(1.'+'0\x20+\x20x0\x20*\x20x'+'0)\x20-\x20b_sca'+'led\x20*\x20(1.0'+'\x20+\x20y0\x20*\x20y0'+');\x0a\x20\x20\x20\x20let'+'\x20c3:\x20f32\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20let\x20roots'+':\x20vec3f\x20=\x20'+'SolveCubic'+'(vec4f(c0,'+'\x20c1,\x20c2,\x20c'+'3));\x0a\x20\x20\x20\x20l'+'et\x20e1:\x20f32'+'\x20=\x20roots.x'+';\x0a\x20\x20\x20\x20let\x20'+'e2:\x20f32\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20let\x20e3:'+'\x20f32\x20=\x20roo'+'ts.z;\x0a\x0a\x20\x20\x20'+'\x20var\x20avgDi'+'r:\x20vec3f\x20='+'\x20vec3f(a_s'+'caled\x20*\x20x0'+'\x20/\x20(a_scal'+'ed\x20-\x20e2),\x20'+'b_scaled\x20*'+'\x20y0\x20/\x20(b_s'+'caled\x20-\x20e2'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20let\x20ro'+'tate:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20let\x20L'+'1:\x20f32\x20=\x20s'+'qrt(-e2\x20/\x20'+'e3);\x0a\x20\x20\x20\x20l'+'et\x20L2:\x20f32'+'\x20=\x20sqrt(-e'+'2\x20/\x20e1);\x0a\x0a'+'\x20\x20\x20\x20let\x20fo'+'rmFactor:\x20'+'f32\x20=\x20max('+'0.0,\x20L1\x20*\x20'+'L2\x20*\x20inver'+'seSqrt((1.'+'0\x20+\x20L1\x20*\x20L'+'1)\x20*\x20(1.0\x20'+'+\x20L2\x20*\x20L2)'+'));\x0a\x0a\x20\x20\x20\x20c'+'onst\x20LUT_S'+'IZE_disk:\x20'+'f32\x20=\x2064.0'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_SCAL'+'E_disk:\x20f3'+'2\x20=\x20(\x20LUT_'+'SIZE_disk\x20'+'-\x201.0\x20)\x20/\x20'+'LUT_SIZE_d'+'isk;\x0a\x20\x20\x20\x20c'+'onst\x20LUT_B'+'IAS_disk:\x20'+'f32\x20=\x200.5\x20'+'/\x20LUT_SIZE'+'_disk;\x0a\x0a\x20\x20'+'\x20\x20//\x20use\x20t'+'abulated\x20h'+'orizon-cli'+'pped\x20spher'+'e\x0a\x20\x20\x20\x20var\x20'+'uv:\x20vec2f\x20'+'=\x20vec2f(av'+'gDir.z\x20*\x200'+'.5\x20+\x200.5,\x20'+'formFactor'+');\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20LUT'+'_SCALE_dis'+'k\x20+\x20LUT_BI'+'AS_disk;\x0a\x0a'+'\x20\x20\x20\x20let\x20sc')+('ale:\x20f32\x20='+'\x20textureSa'+'mpleLevel('+'areaLights'+'LutTex2,\x20a'+'reaLightsL'+'utTex2Samp'+'ler,\x20uv,\x200'+'.0).w;\x0a\x0a\x20\x20'+'\x20\x20return\x20f'+'ormFactor\x20'+'*\x20scale;\x0a}'+'\x0a\x0a//\x20LTC_E'+'valuateDis'+'k\x20in\x20some\x20'+'rare\x20cases'+'\x20genereate'+'s\x20NaN\x20valu'+'es\x20in\x20a\x20or'+'\x20b,\x20just\x20b'+'efore\x20\x27flo'+'at\x20c0\x20=\x20a\x20'+'*\x20b;\x27\x0a//\x20G'+'et\x20rid\x20of\x20'+'those\x20Nan\x20'+'values\x20bef'+'ore\x20they\x20p'+'ropagate\x20f'+'urther,\x20as'+'\x20in\x20case\x20o'+'f\x20bloom\x20/\x20'+'DOF\x20blurs\x20'+'they\x0a//\x20pr'+'opagate\x20to'+'\x20large\x20are'+'as.\x20I\x20didn'+'\x27t\x20find\x20th'+'e\x20actual\x20r'+'eason\x20wher'+'e\x20those\x20co'+'me\x20from,\x20s'+'o\x20that\x20is\x20'+'still\x20TODO'+'.\x0a//\x20Note\x20'+'that\x20only\x20'+'disk/spher'+'e\x20lights\x20a'+'re\x20causing'+'\x20it,\x20so\x20on'+'ly\x20handle\x20'+'those.\x0afn\x20'+'FixNan(val'+'ue:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20v'+'alue\x20!=\x20va'+'lue\x20check\x20'+'for\x20NaN\x20as'+'\x20isnan()\x20i'+'s\x20not\x20avai'+'lable\x20in\x20W'+'GSL\x0a\x20\x20\x20\x20re'+'turn\x20selec'+'t(value,\x200'+'.0,\x20value\x20'+'!=\x20value);'+'\x0a}\x0a\x0afn\x20get'+'RectLightD'+'iffuse(wor'+'ldNormal:\x20'+'vec3f,\x20vie'+'wDir:\x20vec3'+'f,\x20lightDi'+'r:\x20vec3f,\x20'+'lightDirNo'+'rm:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20id'+'entityMat\x20'+'=\x20mat3x3f('+'vec3f(1.0,'+'\x200.0,\x200.0)'+',\x20vec3f(0.'+'0,\x201.0,\x200.'+'0),\x20vec3f('+'0.0,\x200.0,\x20'+'1.0));\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'identityMa'+'t,\x20dLTCCoo'+'rds\x20);\x0a}\x0a\x0a'+'fn\x20getDisk'+'LightDiffu'+'se(worldNo'+'rmal:\x20vec3')+('f,\x20viewDir'+':\x20vec3f,\x20l'+'ightDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20identi'+'tyMat\x20=\x20ma'+'t3x3f(vec3'+'f(1.0,\x200.0'+',\x200.0),\x20ve'+'c3f(0.0,\x201'+'.0,\x200.0),\x20'+'vec3f(0.0,'+'\x200.0,\x201.0)'+');\x0a\x20\x20\x20\x20ret'+'urn\x20FixNan'+'(LTC_Evalu'+'ateDisk(\x20w'+'orldNormal'+',\x20viewDir,'+'\x20vPosition'+'W,\x20identit'+'yMat,\x20dLTC'+'Coords\x20));'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tDiffuse(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20let\x20fall'+'off:\x20f32\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20FixNan(ge'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNorm)\x20'+'*\x20falloff)'+';\x0a}\x0a\x0afn\x20ge'+'tLTCLightI'+'nvMat(uv:\x20'+'vec2f)\x20->\x20'+'mat3x3f\x20{\x0a'+'\x20\x20\x20\x20let\x20t1'+':\x20vec4f\x20=\x20'+'textureSam'+'pleLevel(a'+'reaLightsL'+'utTex1,\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er,\x20uv,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(\x20'+'t1.x,\x200.0,'+'\x20t1.y\x20),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(\x200.0,\x201'+'.0,\x200.0\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(\x20t1.z'+',\x200.0,\x20t1.'+'w\x20)\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight')+('InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getRectLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20cal'+'cDiskLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getDiskLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcDiskLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tSpecular('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'DiskLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir,\x20'+'dLTCUV);\x0a}'+'\x0a'),UD='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_me'+'talness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getMe'+'talness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'metalness:'+'\x20f32\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20metal'+'ness\x20=\x20met'+'alness\x20*\x20u'+'niform.mat'+'erial_meta'+'lness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'metalness\x20'+'=\x20metalnes'+'s\x20*\x20textur'+'eSampleBia'+'s({STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+',\x20{STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_METALN'+'ESS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_METALNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_VE'+'RTEX\x0a\x20\x20\x20\x20m'+'etalness\x20='+'\x20metalness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'METALNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dMetal'+'ness\x20=\x20met'+'alness;\x0a}\x0a',BD='\x0avar\x20textu'+'re_msdfMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20texture'+'_msdfMapSa'+'mpler:\x20sam'+'pler;\x0a\x0afn\x20'+'median(r:\x20'+'f32,\x20g:\x20f3'+'2,\x20b:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(min(r'+',\x20g),\x20min('+'max(r,\x20g),'+'\x20b));\x0a}\x0a\x0af'+'n\x20map(min:'+'\x20f32,\x20max:'+'\x20f32,\x20v:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(v\x20-\x20m'+'in)\x20/\x20(max'+'\x20-\x20min);\x0a}'+'\x0a\x0auniform\x20'+'font_sdfIn'+'tensity:\x20f'+'32;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20font_px'+'range:\x20f32'+';\x20\x20\x20\x20\x20\x20//\x20'+'the\x20number'+'\x20of\x20pixels'+'\x20between\x20i'+'nside\x20and\x20'+'outside\x20th'+'e\x20font\x20in\x20'+'SDF\x0aunifor'+'m\x20font_tex'+'tureWidth:'+'\x20f32;\x20//\x20t'+'he\x20width\x20o'+'f\x20the\x20text'+'ure\x20atlas\x0a'+'\x0a#ifndef\x20L'+'IT_MSDF_TE'+'XT_ATTRIBU'+'TE\x0a\x20\x20\x20\x20uni'+'form\x20outli'+'ne_color:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'utline_thi'+'ckness:\x20f3'+'2;\x0a\x20\x20\x20\x20uni'+'form\x20shado'+'w_color:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'uniform\x20sh'+'adow_offse'+'t:\x20vec2f;\x0a'+'#else\x0a\x20\x20\x20\x20'+'varying\x20ou'+'tline_colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20outline_'+'thickness:'+'\x20f32;\x0a\x20\x20\x20\x20'+'varying\x20sh'+'adow_color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20varying'+'\x20shadow_of'+'fset:\x20vec2'+'f;\x0a#endif\x0a'+'\x0afn\x20applyM'+'sdf(color_'+'in:\x20vec4f)'+'\x20->\x20vec4f\x20'+'{\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_M'+'SDF_TEXT_A'+'TTRIBUTE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20uniform.'+'outline_co'+'lor;\x0a\x20\x20\x20\x20\x20'+('\x20\x20\x20var\x20out'+'line_thick'+'nessValue\x20'+'=\x20uniform.'+'outline_th'+'ickness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_co'+'lorValue\x20='+'\x20uniform.s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_offsetVa'+'lue\x20=\x20unif'+'orm.shadow'+'_offset;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utline_thi'+'cknessValu'+'e\x20=\x20outlin'+'e_thicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_colorVal'+'ue\x20=\x20shado'+'w_color;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_of'+'fsetValue\x20'+'=\x20shadow_o'+'ffset;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20Conv'+'ert\x20to\x20lin'+'ear\x20space\x20'+'before\x20pro'+'cessing\x0a\x20\x20'+'\x20\x20//\x20TODO:'+'\x20ideally\x20t'+'his\x20would\x20'+'receive\x20th'+'e\x20color\x20in'+'\x20linear\x20sp'+'ace,\x20but\x20t'+'hat\x20would\x20'+'require\x20la'+'rger\x20chang'+'es\x0a\x20\x20\x20\x20//\x20'+'on\x20the\x20eng'+'ine\x20side,\x20'+'with\x20the\x20w'+'ay\x20premult'+'iplied\x20alp'+'ha\x20is\x20hand'+'led\x20as\x20wel'+'l.\x0a\x20\x20\x20\x20var'+'\x20color\x20=\x20v'+'ec4f(gamma'+'CorrectInp'+'utVec3(col'+'or_in.rgb)'+',\x20color_in'+'.a);\x0a\x0a\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20field\x0a'+'\x20\x20\x20\x20let\x20ts'+'ample:\x20vec'+'3f\x20=\x20textu'+'reSample(t'+'exture_msd'+'fMap,\x20text'+'ure_msdfMa'+'pSampler,\x20'+'vUv0).rgb;'+'\x0a\x20\x20\x20\x20let\x20u'+'vShdw:\x20vec'+'2f\x20=\x20vUv0\x20'+'-\x20shadow_o'+'ffsetValue'+';\x0a\x20\x20\x20\x20let\x20'+'ssample:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'(texture_m'+'sdfMap,\x20te'+'xture_msdf'+'MapSampler'+',\x20uvShdw).'+'rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20get\x20the'+'\x20signed\x20di'+'stance\x20val'+'ue\x0a\x20\x20\x20\x20let')+('\x20sigDist:\x20'+'f32\x20=\x20medi'+'an(tsample'+'.r,\x20tsampl'+'e.g,\x20tsamp'+'le.b);\x0a\x20\x20\x20'+'\x20var\x20sigDi'+'stShdw:\x20f3'+'2\x20=\x20median'+'(ssample.r'+',\x20ssample.'+'g,\x20ssample'+'.b);\x0a\x0a\x20\x20\x20\x20'+'//\x20smoothi'+'ng\x20limit\x20-'+'\x20smaller\x20v'+'alue\x20makes'+'\x20for\x20sharp'+'er\x20but\x20mor'+'e\x20aliased\x20'+'text,\x20espe'+'cially\x20on\x20'+'angles\x0a\x20\x20\x20'+'\x20//\x20too\x20la'+'rge\x20value\x20'+'(0.5)\x20crea'+'tes\x20a\x20dark'+'\x20glow\x20arou'+'nd\x20the\x20let'+'ters\x0a\x20\x20\x20\x20l'+'et\x20smoothi'+'ngMax:\x20f32'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20let'+'\x20w:\x20vec2f\x20'+'=\x20abs(dpdx'+'(vUv0))\x20+\x20'+'abs(dpdy(v'+'Uv0));\x0a\x20\x20\x20'+'\x20let\x20smoot'+'hing:\x20f32\x20'+'=\x20clamp(w.'+'x\x20*\x20unifor'+'m.font_tex'+'tureWidth\x20'+'/\x20uniform.'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20l'+'et\x20mapMin:'+'\x20f32\x20=\x200.0'+'5;\x0a\x20\x20\x20\x20let'+'\x20mapMax:\x20f'+'32\x20=\x20clamp'+'(1.0\x20-\x20uni'+'form.font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20let\x20si'+'gDistInner'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist);\x0a\x20\x20'+'\x20\x20let\x20sigD'+'istOutline'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'knessValue'+');\x0a\x20\x20\x20\x20sig'+'DistShdw\x20='+'\x20map(mapMi'+'n,\x20mapMax,'+'\x20sigDistSh'+'dw\x20+\x20outli'+'ne_thickne'+'ssValue);\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'enter:\x20f32'+'\x20=\x200.5;\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20smoot'+'hing\x20and\x20u'+'se\x20to\x20gene')+('rate\x20opaci'+'ty\x0a\x20\x20\x20\x20let'+'\x20inside:\x20f'+'32\x20=\x20smoot'+'hstep(cent'+'er\x20-\x20smoot'+'hing,\x20cent'+'er\x20+\x20smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20let\x20o'+'utline:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stOutline)'+';\x0a\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20let\x20tc'+'olor_outli'+'ne:\x20vec4f\x20'+'=\x20outline\x20'+'*\x20vec4f(ou'+'tline_colo'+'rValue.a\x20*'+'\x20outline_c'+'olorValue.'+'rgb,\x20outli'+'ne_colorVa'+'lue.a);\x0a\x20\x20'+'\x20\x20var\x20tcol'+'or:\x20vec4f\x20'+'=\x20select(v'+'ec4f(0.0),'+'\x20tcolor_ou'+'tline,\x20out'+'line\x20>\x20ins'+'ide);\x0a\x20\x20\x20\x20'+'tcolor\x20=\x20m'+'ix(tcolor,'+'\x20color,\x20in'+'side);\x0a\x0a\x20\x20'+'\x20\x20let\x20scol'+'or_shadow:'+'\x20vec4f\x20=\x20s'+'hadow\x20*\x20ve'+'c4f(shadow'+'_colorValu'+'e.a\x20*\x20shad'+'ow_colorVa'+'lue.rgb,\x20s'+'hadow_colo'+'rValue.a);'+'\x0a\x20\x20\x20\x20let\x20s'+'color:\x20vec'+'4f\x20=\x20selec'+'t(tcolor,\x20'+'scolor_sha'+'dow,\x20shado'+'w\x20>\x20outlin'+'e);\x0a\x20\x20\x20\x20tc'+'olor\x20=\x20mix'+'(scolor,\x20t'+'color,\x20out'+'line);\x0a\x0a\x20\x20'+'\x20\x20//\x20Conve'+'rt\x20back\x20to'+'\x20gamma\x20spa'+'ce\x20before\x20'+'returning\x0a'+'\x20\x20\x20\x20tcolor'+'\x20=\x20vec4f(g'+'ammaCorrec'+'tOutput(tc'+'olor.rgb),'+'\x20tcolor.a)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),zD='\x0a\x0afn\x20getSp'+'ecularModu'+'late(specu'+'larity:\x20ve'+'c3f,\x20albed'+'o:\x20vec3f,\x20'+'metalness:'+'\x20f32,\x20f0:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20dielec'+'tricF0:\x20ve'+'c3f\x20=\x20f0\x20*'+'\x20speculari'+'ty;\x0a\x20\x20\x20\x20re'+'turn\x20mix(d'+'ielectricF'+'0,\x20albedo,'+'\x20metalness'+');\x0a}\x0a\x0afn\x20g'+'etAlbedoMo'+'dulate(alb'+'edo:\x20vec3f'+',\x20metalnes'+'s:\x20f32)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'albedo\x20*\x20('+'1.0\x20-\x20meta'+'lness);\x0a}\x0a',VD='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var\x20morph'+'Texture:\x20t'+'exture_2d_'+'array<f32>'+';\x0a\x20\x20\x20\x20unif'+'orm\x20morphF'+'actor:\x20arr'+'ay<f32,\x20{M'+'ORPH_TEXTU'+'RE_MAX_COU'+'NT}>;\x0a\x20\x20\x20\x20'+'uniform\x20mo'+'rphIndex:\x20'+'array<u32,'+'\x20{MORPH_TE'+'XTURE_MAX_'+'COUNT}>;\x0a\x20'+'\x20\x20\x20uniform'+'\x20count:\x20u3'+'2;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x0a\x20\x20'+'\x20\x20fn\x20fragm'+'entMain(in'+'put\x20:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20color\x20='+'\x20vec3f(0,\x20'+'0,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20t'+'extureDims'+'\x20=\x20texture'+'Dimensions'+'(morphText'+'ure);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20pi'+'xelCoords\x20'+'=\x20vec2i(in'+'put.uv0\x20*\x20'+'vec2f(text'+'ureDims));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'u32\x20=\x200;\x20i'+'\x20<\x20uniform'+'.count;\x20i\x20'+'=\x20i\x20+\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'tureIndex:'+'\x20u32\x20=\x20uni'+'form.morph'+'Index[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20delta\x20'+'=\x20textureL'+'oad(morphT'+'exture,\x20pi'+'xelCoords,'+'\x20textureIn'+'dex,\x200).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20+=\x20unifor'+'m.morphFac'+'tor[i].ele'+'ment\x20*\x20del'+'ta;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'color,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',GD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',HD='\x0aattribute'+'\x20vertex_ou'+'tlineParam'+'eters:\x20vec'+'3f;\x0aattrib'+'ute\x20vertex'+'_shadowPar'+'ameters:\x20v'+'ec3f;\x0a\x0avar'+'ying\x20outli'+'ne_color:\x20'+'vec4f;\x0avar'+'ying\x20outli'+'ne_thickne'+'ss:\x20f32;\x0av'+'arying\x20sha'+'dow_color:'+'\x20vec4f;\x0ava'+'rying\x20shad'+'ow_offset:'+'\x20vec2f;\x0a\x0av'+'ar<private'+'>\x20dOutline'+'Color:\x20vec'+'4f;\x0avar<pr'+'ivate>\x20dOu'+'tlineThick'+'ness:\x20f32;'+'\x0avar<priva'+'te>\x20dShado'+'wColor:\x20ve'+'c4f;\x0avar<p'+'rivate>\x20dS'+'hadowOffse'+'t:\x20vec2f;\x0a'+'\x0afn\x20unpack'+'MsdfParams'+'()\x20{\x0a\x20\x20\x20\x20l'+'et\x20little:'+'\x20vec3f\x20=\x20v'+'ertex_outl'+'ineParamet'+'ers\x20%\x20vec3'+'f(256.0);\x0a'+'\x20\x20\x20\x20let\x20bi'+'g:\x20vec3f\x20='+'\x20(vertex_o'+'utlinePara'+'meters\x20-\x20l'+'ittle)\x20/\x202'+'56.0;\x0a\x0a\x20\x20\x20'+'\x20dOutlineC'+'olor\x20=\x20vec'+'4f(little.'+'x,\x20big.x,\x20'+'little.y,\x20'+'big.y)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20//\x20_outli'+'neThicknes'+'sScale\x20==='+'\x200.2\x0a\x20\x20\x20\x20d'+'OutlineThi'+'ckness\x20=\x20l'+'ittle.z\x20/\x20'+'255.0\x20*\x200.'+'2;\x0a\x0a\x20\x20\x20\x20le'+'t\x20little_s'+'hadow\x20=\x20ve'+'rtex_shado'+'wParameter'+'s\x20%\x20vec3f('+'256.0);\x0a\x20\x20'+'\x20\x20let\x20big_'+'shadow\x20=\x20('+'vertex_sha'+'dowParamet'+'ers\x20-\x20litt'+'le_shadow)'+'\x20/\x20256.0;\x0a'+'\x0a\x20\x20\x20\x20dShad'+'owColor\x20=\x20'+'vec4f(litt'+'le_shadow.'+'x,\x20big_sha'+'dow.x,\x20lit'+'tle_shadow'+'.y,\x20big_sh'+'adow.y)\x20/\x20'+'255.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+('ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20dShad'+'owOffset\x20='+'\x20(vec2f(li'+'ttle_shado'+'w.z,\x20big_s'+'hadow.z)\x20/'+'\x20127.0\x20-\x201'+'.0)\x20*\x200.00'+'5;\x0a}\x0a'),WD='\x0avar<priva'+'te>\x20dNorma'+'lMatrix:\x20m'+'at3x3f;\x0a\x0af'+'n\x20getNorma'+'l()\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20d'+'NormalMatr'+'ix\x20=\x20getNo'+'rmalMatrix'+'(dModelMat'+'rix);\x0a\x20\x20\x20\x20'+'let\x20localN'+'ormal:\x20vec'+'3f\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}',$D='\x0a\x0aattribut'+'e\x20vertex_n'+'ormal:\x20vec'+'3f;\x0a\x0aunifo'+'rm\x20matrix_'+'normal:\x20ma'+'t3x3f;\x0a\x0a#i'+'fdef\x20MORPH'+'ING_NORMAL'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MORPHING'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20mor'+'phNormalTe'+'x:\x20texture'+'_2d<u32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphNor'+'malTexSamp'+'ler:\x20sampl'+'er;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hNormalTex'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20morphNorm'+'alTexSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0afn\x20getLo'+'calNormal('+'vertexNorm'+'al:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20localNorm'+'al:\x20vec3f\x20'+'=\x20vertexNo'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20mor'+'phUV:\x20vec2'+'i\x20=\x20getTex'+'tureMorphC'+'oords();\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_INT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20morphN'+'ormalInt:\x20'+'vec4u\x20=\x20te'+'xtureLoad('+'morphNorma'+'lTex,\x20morp'+'hUV,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20morph'+'NormalF:\x20v'+'ec3f\x20=\x20vec'+'3f(morphNo'+'rmalInt.xy'+'z)\x20/\x2065535'+'.0\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormalF;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'morphNorma'+'l:\x20vec3f\x20='+'\x20textureLo'+'ad(morphNo'+'rmalTex,\x20m'+'orphUV,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormal;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20lo'+'calNormal;'+'\x0a}\x0a\x0a#if\x20de'+'fined(SKIN'+')\x20||\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20fn\x20get'+('NormalMatr'+'ix(modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ma'+'t3x3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3x3f'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20fn'+'\x20getNormal'+'Matrix(mod'+'elMatrix:\x20'+'mat4x4f)\x20-'+'>\x20mat3x3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20mat'+'3x3f(model'+'Matrix[0].'+'xyz,\x20model'+'Matrix[1].'+'xyz,\x20model'+'Matrix[2].'+'xyz);\x0a\x20\x20\x20\x20'+'}\x0a#else\x0a\x20\x20'+'\x20\x20fn\x20getNo'+'rmalMatrix'+'(modelMatr'+'ix:\x20mat4x4'+'f)\x20->\x20mat3'+'x3f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),XD='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_bu'+'mpiness:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20un'+'iform\x20mate'+'rial_norma'+'lDetailMap'+'Bumpiness:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20fn\x20bl'+'endNormals'+'(inN1:\x20vec'+'3f,\x20inN2:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'n1:\x20vec3f\x20'+'=\x20inN1\x20+\x20v'+'ec3f(0.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20n2:\x20vec'+'3f\x20=\x20inN2\x20'+'*\x20vec3f(-1'+'.0,\x20-1.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20n1\x20*\x20dot('+'n1,\x20n2)\x20/\x20'+'n1.z\x20-\x20n2;'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0afn\x20ge'+'tNormal()\x20'+'{\x0a#ifdef\x20S'+'TD_NORMAL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20var\x20norm'+'alMap:\x20vec'+'3f\x20=\x20{STD_'+'NORMAL_TEX'+'TURE_DECOD'+'E}(texture'+'SampleBias'+'({STD_NORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_NORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_NOR'+'MAL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias));\x0a'+'\x20\x20\x20\x20normal'+'Map\x20=\x20mix('+'vec3f(0.0,'+'\x200.0,\x201.0)'+',\x20normalMa'+'p,\x20uniform'+'.material_'+'bumpiness)'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_NO'+'RMALDETAIL'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20normalDet'+'ailMap:\x20ve'+'c3f\x20=\x20{STD'+'_NORMALDET'+'AIL_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE_NAME},'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_NAM'+'E}Sampler,'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_UV}'+(',\x20uniform.'+'textureBia'+'s));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalD'+'etailMap\x20='+'\x20mix(vec3f'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malDetailM'+'ap,\x20unifor'+'m.material'+'_normalDet'+'ailMapBump'+'iness);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20norm'+'alMap\x20=\x20bl'+'endNormals'+'(normalMap'+',\x20normalDe'+'tailMap);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20nor'+'malize(dTB'+'N\x20*\x20normal'+'Map);\x0a#els'+'e\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a'),qD='\x0auniform\x20m'+'aterial_op'+'acity:\x20f32'+';\x0a\x0afn\x20getO'+'pacity()\x20{'+'\x0a\x20\x20\x20\x20dAlph'+'a\x20=\x20unifor'+'m.material'+'_opacity;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E\x0a\x20\x20\x20\x20dAlp'+'ha\x20=\x20dAlph'+'a\x20*\x20textur'+'eSampleBia'+'s({STD_OPA'+'CITY_TEXTU'+'RE_NAME},\x20'+'{STD_OPACI'+'TY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'OPACITY_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20=\x20dA'+'lpha\x20*\x20cla'+'mp(vVertex'+'Color.{STD'+'_OPACITY_V'+'ERTEX_CHAN'+'NEL},\x200.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',jD='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20blueNo'+'iseJitter:'+'\x20vec4f;\x0a\x0a#'+'if\x20STD_OPA'+'CITY_DITHE'+'R\x20==\x20BLUEN'+'OISE\x0a\x20\x20\x20\x20v'+'ar\x20blueNoi'+'seTex32\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20blueN'+'oiseTex32S'+'ampler\x20:\x20s'+'ampler;\x0a#e'+'ndif\x0a\x0afn\x20o'+'pacityDith'+'er(alpha:\x20'+'f32,\x20id:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'#if\x20STD_OP'+'ACITY_DITH'+'ER\x20==\x20BAYE'+'R8\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20nois'+'e:\x20f32\x20=\x20b'+'ayer8(floo'+'r((pcPosit'+'ion.xy\x20+\x20u'+'niform.blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+')\x20%\x20vec2f('+'8.0)))\x20/\x206'+'4.0;\x0a\x0a\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20=='+'\x20BLUENOISE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uv\x20'+'=\x20fract(pc'+'Position.x'+'y\x20/\x2032.0\x20+'+'\x20uniform.b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20noise:\x20f3'+'2\x20=\x20textur'+'eSampleLev'+'el(blueNoi'+'seTex32,\x20b'+'lueNoiseTe'+'x32Sampler'+',\x20uv,\x200.0)'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20IGNNOI'+'SE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ba'+'sed\x20on\x20htt'+'ps://www.i'+'ryoku.com/'+'next-gener'+'ation-post'+'-processin'+'g-in-call-'+'of-duty-ad'+'vanced-war'+'fare/\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20magic\x20=\x20'+'vec3f(0.06'+'711056,\x200.'+'00583715,\x20'+'52.9829189'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'oise:\x20f32\x20'+'=\x20fract(ma'+'gic.z\x20*\x20fr'+'act(dot(pc'+'Position.x'+'y\x20+\x20unifor'+'m.blueNois'+'eJitter.xy'+'\x20+\x20id,\x20mag'+('ic.xy)));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20conve'+'rt\x20the\x20noi'+'se\x20to\x20line'+'ar\x20space,\x20'+'as\x20that\x20is'+'\x20specified'+'\x20in\x20sRGB\x20s'+'pace\x20(stor'+'es\x20percept'+'ual\x20values'+')\x0a\x20\x20\x20\x20nois'+'e\x20=\x20pow(no'+'ise,\x202.2);'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'alpha\x20<\x20no'+'ise)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),YD='\x0a',KD='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(outp'+'ut.color.r'+'gb,\x20litArg'+'s_opacity)'+';\x0a\x0a#elif\x20L'+'IT_BLEND_T'+'YPE\x20==\x20PRE'+'MULTIPLIED'+'\x0a\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(out'+'put.color.'+'rgb\x20*\x20litA'+'rgs_opacit'+'y,\x20litArgs'+'_opacity);'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(output'+'.color.rgb'+',\x201.0);\x0a\x0a#'+'endif\x0a',ZD='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0avar\x20sour'+'ce:\x20textur'+'e_2d<f32>;'+'\x0avar\x20sourc'+'eSampler:\x20'+'sampler;\x0a\x0a'+'@fragment\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'textureSam'+'ple(source'+',\x20sourceSa'+'mpler,\x20inp'+'ut.vUv0);\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'+'\x0a',QD='\x0a\x0auniform\x20'+'material_s'+'heen:\x20vec3'+'f;\x0a\x0afn\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20var\x20sh'+'eenColor\x20='+'\x20uniform.m'+'aterial_sh'+'een;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_TEX'+'TURE\x0a\x20\x20\x20\x20s'+'heenColor\x20'+'=\x20sheenCol'+'or\x20*\x20{STD_'+'SHEEN_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SHEEN'+'_TEXTURE_N'+'AME},\x20{STD'+'_SHEEN_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEEN_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as)).{STD_'+'SHEEN_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_VER'+'TEX\x0a\x20\x20\x20\x20sh'+'eenColor\x20='+'\x20sheenColo'+'r\x20*\x20satura'+'te3(vVerte'+'xColor.{ST'+'D_SHEEN_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20sSpecula'+'rity\x20=\x20she'+'enColor;\x0a}'+'\x0a',JD='\x0auniform\x20m'+'aterial_sh'+'eenGloss:\x20'+'f32;\x0a\x0afn\x20g'+'etSheenGlo'+'ssiness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'sheenGloss'+'iness\x20=\x20un'+'iform.mate'+'rial_sheen'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SHEENGL'+'OSS_TEXTUR'+'E\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_SHEEN'+'GLOSS_TEXT'+'URE_NAME},'+'\x20{STD_SHEE'+'NGLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_UV},\x20un'+'iform.text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20=\x20'+'sheenGloss'+'iness\x20*\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'GLOSS_VERT'+'EX_CHANNEL'+'});\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEENGLOS'+'S_INVERT\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20='+'\x201.0\x20-\x20she'+'enGlossine'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'+\x200.000000'+'1;\x0a}\x0a',eI='\x0auniform\x20m'+'aterial_he'+'ightMapFac'+'tor:\x20f32;\x0a'+'\x0afn\x20getPar'+'allax()\x20{\x0a'+'\x20\x20\x20\x20var\x20pa'+'rallaxScal'+'e\x20=\x20unifor'+'m.material'+'_heightMap'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20var\x20hei'+'ght:\x20f32\x20='+'\x20textureSa'+'mpleBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_HEIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_HEIGHT_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'height\x20=\x20h'+'eight\x20*\x20pa'+'rallaxScal'+'e\x20-\x20parall'+'axScale\x20*\x20'+'0.5;\x0a\x20\x20\x20\x20v'+'ar\x20viewDir'+'T:\x20vec3f\x20='+'\x20dViewDirW'+'\x20*\x20dTBN;\x0a\x0a'+'\x20\x20\x20\x20viewDi'+'rT.z\x20=\x20vie'+'wDirT.z\x20+\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',tI='\x0auniform\x20m'+'eshInstanc'+'eId:\x20u32;\x0a'+'\x0afn\x20getPic'+'kOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20let\x20i'+'nv:\x20vec4f\x20'+'=\x20vec4f(1.'+'0\x20/\x20255.0)'+';\x0a\x20\x20\x20\x20let\x20'+'shifts:\x20ve'+'c4u\x20=\x20vec4'+'u(16u,\x208u,'+'\x200u,\x2024u);'+'\x0a\x20\x20\x20\x20let\x20c'+'ol:\x20vec4u\x20'+'=\x20(vec4u(u'+'niform.mes'+'hInstanceI'+'d)\x20>>\x20shif'+'ts)\x20&\x20vec4'+'u(0xffu);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4f(col'+')\x20*\x20inv;\x0a}',sI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20dReflDi'+'rW\x20=\x20norma'+'lize(-refl'+'ect(viewDi'+'r,\x20worldNo'+'rmal));\x0a}\x0a',iI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20rou'+'ghness:\x20f3'+'2\x20=\x20sqrt(1'+'.0\x20-\x20min(g'+'loss,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20directio'+'n:\x20vec2f\x20='+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20anisotrop'+'y:\x20f32\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cDirection'+':\x20vec3f\x20=\x20'+'anisotropi'+'cB;\x0a\x20\x20\x20\x20le'+'t\x20anisotro'+'picTangent'+':\x20vec3f\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20let\x20anis'+'otropicNor'+'mal:\x20vec3f'+'\x20=\x20cross(a'+'nisotropic'+'Tangent,\x20a'+'nisotropic'+'Direction)'+';\x0a\x20\x20\x20\x20let\x20'+'bendFactor'+':\x20f32\x20=\x201.'+'0\x20-\x20anisot'+'ropy\x20*\x20(1.'+'0\x20-\x20roughn'+'ess);\x0a\x20\x20\x20\x20'+'let\x20bendFa'+'ctor4:\x20f32'+'\x20=\x20bendFac'+'tor\x20*\x20bend'+'Factor\x20*\x20b'+'endFactor\x20'+'*\x20bendFact'+'or;\x0a\x20\x20\x20\x20le'+'t\x20bentNorm'+'al:\x20vec3f\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}',rI='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0afn\x20addRe'+'flectionCC'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20ccRef'+'lection\x20=\x20'+'ccReflecti'+'on\x20+\x20calcR'+'eflection('+'reflDir,\x20g'+'loss);\x0a}\x0a#'+'endif\x0a',aI='\x0avar\x20textu'+'re_cubeMap'+':\x20texture_'+'cube<f32>;'+'\x0avar\x20textu'+'re_cubeMap'+'Sampler:\x20s'+'ampler;\x0aun'+'iform\x20mate'+'rial_refle'+'ctivity:\x20f'+'32;\x0a\x0afn\x20ca'+'lcReflecti'+'on(reflDir'+':\x20vec3f,\x20g'+'loss:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'lookupVec:'+'\x20vec3f\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r);\x0a\x20\x20\x20\x20lo'+'okupVec.x\x20'+'=\x20lookupVe'+'c.x\x20*\x20-1.0'+';\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_cubeMa'+'p,\x20texture'+'_cubeMapSa'+'mpler,\x20loo'+'kupVec));\x0a'+'}\x0a\x0afn\x20addR'+'eflection('+'reflDir:\x20v'+'ec3f,\x20glos'+'s:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20dR'+'eflection\x20'+'+\x20vec4f(ca'+'lcReflecti'+'on(reflDir'+',\x20gloss),\x20'+'uniform.ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',nI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20var\x20t'+'exture_env'+'Atlas:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'envAtlasSa'+'mpler:\x20sam'+'pler;\x0a#end'+'if\x0a\x0avar\x20te'+'xture_cube'+'Map:\x20textu'+'re_cube<f3'+'2>;\x0avar\x20te'+'xture_cube'+'MapSampler'+':\x20sampler;'+'\x0auniform\x20m'+'aterial_re'+'flectivity'+':\x20f32;\x0a\x0afn'+'\x20calcRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20dir:\x20ve'+'c3f\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20toSph'+'ericalUv(d'+'ir);\x0a\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20roughne'+'ss\x20level\x0a\x20'+'\x20\x20\x20let\x20lev'+'el:\x20f32\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20let\x20ile'+'vel:\x20f32\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20l'+'et\x20flevel:'+'\x20f32\x20=\x20lev'+'el\x20-\x20ileve'+'l;\x0a\x0a\x20\x20\x20\x20le'+'t\x20sharp:\x20v'+'ec3f\x20=\x20{re'+'flectionCu'+'bemapDecod'+'e}(texture'+'Sample(tex'+'ture_cubeM'+'ap,\x20textur'+'e_cubeMapS'+'ampler,\x20di'+'r));\x0a\x20\x20\x20\x20l'+'et\x20roughA:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+')));\x0a\x20\x20\x20\x20l'+'et\x20roughB:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(shar'+'p,\x20mix(rou'+('ghA,\x20rough'+'B,\x20flevel)'+',\x20min(leve'+'l,\x201.0)));'+'\x0a}\x0a\x0afn\x20add'+'Reflection'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20=\x20d'+'Reflection'+'\x20+\x20vec4f(c'+'alcReflect'+'ion(reflDi'+'r,\x20gloss),'+'\x20uniform.m'+'aterial_re'+'flectivity'+');\x0a}\x0a'),oI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_envA'+'tlasSample'+'r:\x20sampler'+';\x0a#endif\x0au'+'niform\x20mat'+'erial_refl'+'ectivity:\x20'+'f32;\x0a\x0a//\x20c'+'alculate\x20m'+'ip\x20level\x20f'+'or\x20shiny\x20r'+'eflection\x20'+'given\x20equi'+'rect\x20coord'+'s\x20uv.\x0afn\x20s'+'hinyMipLev'+'el(uv:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20dx:\x20vec2f'+'\x20=\x20dpdx(uv'+');\x0a\x20\x20\x20\x20let'+'\x20dy:\x20vec2f'+'\x20=\x20dpdy(uv'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20second\x20dF'+'\x20at\x20180\x20de'+'grees\x0a\x20\x20\x20\x20'+'let\x20uv2:\x20v'+'ec2f\x20=\x20vec'+'2f(fract(u'+'v.x\x20+\x200.5)'+',\x20uv.y);\x0a\x20'+'\x20\x20\x20let\x20dx2'+':\x20vec2f\x20=\x20'+'dpdx(uv2);'+'\x0a\x20\x20\x20\x20let\x20d'+'y2:\x20vec2f\x20'+'=\x20dpdy(uv2'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20min\x20of\x20bo'+'th\x20sets\x20of'+'\x20dF\x20to\x20han'+'dle\x20discon'+'tinuity\x20at'+'\x20the\x20azim\x20'+'edge\x0a\x20\x20\x20\x20l'+'et\x20maxd:\x20f'+'32\x20=\x20min(m'+'ax(dot(dx,'+'\x20dx),\x20dot('+'dy,\x20dy)),\x20'+'max(dot(dx'+'2,\x20dx2),\x20d'+'ot(dy2,\x20dy'+'2)));\x0a\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(0.5\x20*\x20'+'log2(maxd)'+'\x20-\x201.0\x20+\x20u'+'niform.tex'+'tureBias,\x20'+'0.0,\x205.0);'+'\x0a}\x0a\x0afn\x20cal'+'cReflectio'+'n(reflDir:'+'\x20vec3f,\x20gl'+'oss:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20d'+'ir:\x20vec3f\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3f(-1.0,\x20'+'1.0,\x201.0);'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20l'+'et\x20level:\x20'+'f32\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20l'+('et\x20ilevel:'+'\x20f32\x20=\x20flo'+'or(level);'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ccessing\x20t'+'he\x20shiny\x20('+'top\x20level)'+'\x20reflectio'+'n\x20-\x20perfor'+'m\x20manual\x20m'+'ipmap\x20look'+'up\x0a\x20\x20\x20\x20let'+'\x20level2:\x20f'+'32\x20=\x20shiny'+'MipLevel(u'+'v\x20*\x20atlasS'+'ize);\x0a\x20\x20\x20\x20'+'let\x20ilevel'+'2:\x20f32\x20=\x20f'+'loor(level'+'2);\x0a\x0a\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20uv1:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20weight:'+'\x20f32;\x0a\x20\x20\x20\x20'+'if\x20(ilevel'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'1\x20=\x20mapShi'+'nyUv(uv,\x20i'+'level2\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20weight\x20'+'=\x20level2\x20-'+'\x20ilevel2;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20access'+'ing\x20rough\x20'+'reflection'+'\x20-\x20just\x20sa'+'mple\x20the\x20s'+'ame\x20part\x20t'+'wice\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv0\x20=\x20m'+'apRoughnes'+'sUv(uv,\x20il'+'evel);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20linearA'+':\x20vec3f\x20=\x20'+'{reflectio'+'nDecode}(t'+'extureSamp'+'le(texture'+'_envAtlas,'+'\x20texture_e'+'nvAtlasSam'+'pler,\x20uv0)'+');\x0a\x20\x20\x20\x20let'+'\x20linearB:\x20'+'vec3f\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'tureSample'+'(texture_e'+'nvAtlas,\x20t'+'exture_env'+'AtlasSampl'+'er,\x20uv1));'+'\x0a\x20\x20\x20\x20let\x20l'+'inear0:\x20ve'+'c3f\x20=\x20mix('+'linearA,\x20l'+'inearB,\x20we'+'ight);\x0a\x20\x20\x20'+'\x20let\x20linea'+'r1:\x20vec3f\x20'+'=\x20{reflect'+'ionDecode}'+'(textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r')+('eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0afn'+'\x20addReflec'+'tion(reflD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20=\x20dReflec'+'tion\x20+\x20vec'+'4f(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20unifo'+'rm.materia'+'l_reflecti'+'vity);\x0a}\x0a'),lI='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a#en'+'dif\x0a\x0avar\x20t'+'exture_sph'+'ereMap:\x20te'+'xture_2d<f'+'32>;\x0avar\x20t'+'exture_sph'+'ereMapSamp'+'ler:\x20sampl'+'er;\x0aunifor'+'m\x20material'+'_reflectiv'+'ity:\x20f32;\x0a'+'\x0afn\x20calcRe'+'flection(r'+'eflDir:\x20ve'+'c3f,\x20gloss'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20view'+'RotationMa'+'trix\x20=\x20mat'+'3x3f(unifo'+'rm.matrix_'+'view[0].xy'+'z,\x20uniform'+'.matrix_vi'+'ew[1].xyz,'+'\x20uniform.m'+'atrix_view'+'[2].xyz);\x0a'+'\x20\x20\x20\x20let\x20re'+'flDirV:\x20ve'+'c3f\x20=\x20view'+'RotationMa'+'trix\x20*\x20ref'+'lDir;\x0a\x0a\x20\x20\x20'+'\x20let\x20m:\x20f3'+'2\x20=\x202.0\x20*\x20'+'sqrt(dot(r'+'eflDirV.xy'+',\x20reflDirV'+'.xy)\x20+\x20(re'+'flDirV.z\x20+'+'\x201.0)\x20*\x20(r'+'eflDirV.z\x20'+'+\x201.0));\x0a\x20'+'\x20\x20\x20let\x20sph'+'ereMapUv:\x20'+'vec2f\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_sphere'+'Map,\x20textu'+'re_sphereM'+'apSampler,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0af'+'n\x20addRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20dRefle'+'ction\x20+\x20ve'+'c4f(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20unif'+'orm.materi'+'al_reflect'+'ivity);\x0a}\x0a',cI='\x0a\x0afn\x20addRe'+'flectionSh'+'een(worldN'+'ormal:\x20vec'+'3f,\x20viewDi'+'r:\x20vec3f,\x20'+'gloss:\x20f32'+')\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20dot(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20let\x20al'+'phaG:\x20f32\x20'+'=\x20gloss\x20*\x20'+'gloss;\x0a\x0a\x20\x20'+'\x20\x20//\x20Avoid'+'\x20using\x20a\x20L'+'UT\x20and\x20app'+'roximate\x20t'+'he\x20values\x20'+'analytical'+'ly\x0a\x20\x20\x20\x20let'+'\x20a:\x20f32\x20=\x20'+'select(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20-339.2\x20*'+'\x20alphaG\x20+\x20'+'161.4\x20*\x20gl'+'oss\x20-\x2025.9'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gloss\x20<\x200.'+'25\x0a\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20let\x20b:'+'\x20f32\x20=\x20sel'+'ect(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.97\x20*\x20'+'alphaG\x20-\x203'+'.27\x20*\x20glos'+'s\x20+\x200.72,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x2044'+'.0\x20*\x20alpha'+'G\x20-\x2023.7\x20*'+'\x20gloss\x20+\x203'+'.26,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss\x20<'+'\x200.25\x0a\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20let'+'\x20dg_add:\x20f'+'32\x20=\x20selec'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.1\x20*\x20(\x20g'+'loss\x20-\x200.2'+'5\x20),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x200.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s\x20<\x200.25\x0a\x20'+'\x20\x20\x20);\x0a\x20\x20\x20\x20'+'let\x20dg:\x20f3'+'2\x20=\x20exp(\x20a'+'\x20*\x20NoV\x20+\x20b'+'\x20)\x20+\x20dg_ad'+'d;\x0a\x20\x20\x20\x20sRe'+'flection\x20='+'\x20sReflecti'+'on\x20+\x20(calc'+'Reflection'+'(worldNorm'+'al,\x200.0)\x20*'+'\x20saturate('+'dg));\x0a}',hI='\x0afn\x20refrac'+'t2(viewVec'+':\x20vec3f,\x20n'+'ormal:\x20vec'+'3f,\x20IOR:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20vn:\x20f32'+'\x20=\x20dot(vie'+'wVec,\x20norm'+'al);\x0a\x20\x20\x20\x20l'+'et\x20k:\x20f32\x20'+'=\x201.0\x20-\x20IO'+'R\x20*\x20IOR\x20*\x20'+'(1.0\x20-\x20vn\x20'+'*\x20vn);\x0a\x20\x20\x20'+'\x20let\x20refrV'+'ec:\x20vec3f\x20'+'=\x20IOR\x20*\x20vi'+'ewVec\x20-\x20(I'+'OR\x20*\x20vn\x20+\x20'+'sqrt(k))\x20*'+'\x20normal;\x0a\x20'+'\x20\x20\x20return\x20'+'refrVec;\x0a}'+'\x0a\x0afn\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20vi'+'ewDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20th'+'ickness:\x20f'+'32,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20al'+'bedo:\x20vec3'+'f,\x0a\x20\x20\x20\x20tra'+'nsmission:'+'\x20f32,\x0a\x20\x20\x20\x20'+'refraction'+'Index:\x20f32'+',\x0a\x20\x20\x20\x20disp'+'ersion:\x20f3'+'2\x0a#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20,\x20iri'+'descenceFr'+'esnel:\x20vec'+'3f,\x0a\x20\x20\x20\x20ir'+'idescenceI'+'ntensity:\x20'+'f32\x0a#endif'+'\x0a)\x20{\x0a\x20\x20\x20\x20/'+'/\x20use\x20same'+'\x20reflectio'+'n\x20code\x20wit'+'h\x20refracti'+'on\x20vector\x0a'+'\x20\x20\x20\x20let\x20tm'+'pRefl:\x20vec'+'4f\x20=\x20dRefl'+'ection;\x0a\x20\x20'+'\x20\x20let\x20refl'+'ectionDir:'+'\x20vec3f\x20=\x20r'+'efract2(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndex);\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(0.0);\x0a\x20'+'\x20\x20\x20addRefl'+'ection(ref'+'lectionDir'+',\x20gloss);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'mix(dDiffu'+'seLight,\x20d'+'Reflection'+'.rgb\x20*\x20alb'+'edo,\x20trans'+'mission);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20tm'+'pRefl;\x0a}\x0a',dI='\x0auniform\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+':\x20f32;\x0auni'+'form\x20mater'+'ial_attenu'+'ation:\x20vec'+'3f;\x0a\x0afn\x20ev'+'alRefracti'+'onColor(re'+'fractionVe'+'ctor:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20refra'+'ctionIndex'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20The\x20'+'refraction'+'\x20point\x20is\x20'+'the\x20entry\x20'+'point\x20+\x20ve'+'ctor\x20to\x20ex'+'it\x20point\x0a\x20'+'\x20\x20\x20let\x20poi'+'ntOfRefrac'+'tion:\x20vec4'+'f\x20=\x20vec4f('+'vPositionW'+'\x20+\x20refract'+'ionVector,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20//\x20Proje'+'ct\x20to\x20text'+'ure\x20space\x20'+'so\x20we\x20can\x20'+'sample\x20it\x0a'+'\x20\x20\x20\x20let\x20pr'+'ojectionPo'+'int:\x20vec4f'+'\x20=\x20uniform'+'.matrix_vi'+'ewProjecti'+'on\x20*\x20point'+'OfRefracti'+'on;\x0a\x0a\x20\x20\x20\x20/'+'/\x20use\x20buil'+'t-in\x20getGr'+'abScreenPo'+'s\x20function'+'\x20to\x20conver'+'t\x20screen\x20p'+'osition\x20to'+'\x20grab\x20text'+'ure\x20uv\x20coo'+'rds\x0a\x20\x20\x20\x20le'+'t\x20uv:\x20vec2'+'f\x20=\x20getGra'+'bScreenPos'+'(projectio'+'nPoint);\x0a\x0a'+'\x20\x20\x20\x20//\x20Use'+'\x20IOR\x20and\x20r'+'oughness\x20t'+'o\x20select\x20m'+'ip\x0a\x20\x20\x20\x20let'+'\x20iorToRoug'+'hness:\x20f32'+'\x20=\x20(1.0\x20-\x20'+'gloss)\x20*\x20c'+'lamp((1.0\x20'+'/\x20refracti'+'onIndex)\x20*'+'\x202.0\x20-\x202.0'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20let'+'\x20refractio'+'nLod:\x20f32\x20'+'=\x20log2(uni'+'form.uScre'+'enSize.x)\x20'+'*\x20iorToRou'+'ghness;\x0a\x20\x20'+'\x20\x20let\x20refr'+'action:\x20ve'+'c3f\x20=\x20text'+'ureSampleL'+'evel(uScen'+'eColorMap,'+'\x20uSceneCol'+'orMapSampl'+'er,\x20uv,\x20re'+'fractionLo'+'d).rgb;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'refraction'+';\x0a}\x0a\x0afn\x20ad'+'dRefractio'+'n(\x0a\x20\x20\x20\x20wor'+('ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20thickness'+':\x20f32,\x0a\x20\x20\x20'+'\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20albedo:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'transmissi'+'on:\x20f32,\x0a\x20'+'\x20\x20\x20refract'+'ionIndex:\x20'+'f32,\x0a\x20\x20\x20\x20d'+'ispersion:'+'\x20f32,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'iridescenc'+'eIntensity'+':\x20f32\x0a#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20Extra'+'ct\x20scale\x20f'+'rom\x20the\x20mo'+'del\x20transf'+'orm\x0a\x20\x20\x20\x20va'+'r\x20modelSca'+'le:\x20vec3f;'+'\x0a\x20\x20\x20\x20model'+'Scale.x\x20=\x20'+'length(uni'+'form.matri'+'x_model[0]'+'.xyz);\x0a\x20\x20\x20'+'\x20modelScal'+'e.y\x20=\x20leng'+'th(uniform'+'.matrix_mo'+'del[1].xyz'+');\x0a\x20\x20\x20\x20mod'+'elScale.z\x20'+'=\x20length(u'+'niform.mat'+'rix_model['+'2].xyz);\x0a\x0a'+'\x20\x20\x20\x20//\x20Cal'+'culate\x20the'+'\x20refractio'+'n\x20vector,\x20'+'scaled\x20by\x20'+'the\x20thickn'+'ess\x20and\x20sc'+'ale\x20of\x20the'+'\x20object\x0a\x20\x20'+'\x20\x20let\x20scal'+'e:\x20vec3f\x20='+'\x20thickness'+'\x20*\x20modelSc'+'ale;\x0a\x20\x20\x20\x20v'+'ar\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndex))'+'\x20*\x20scale;\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'x);\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20the\x20dispe'+'rsion\x20mate'+'rial\x20prope'+'rty,\x20calcu'+'late\x20modif'+'ied\x20refrac'+'tion\x20index'+'\x20values\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20f'+'or\x20R\x20and\x20B'+'\x20channels\x20')+('and\x20evalua'+'te\x20the\x20ref'+'raction\x20co'+'lor\x20for\x20th'+'em.\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Spread:\x20f3'+'2\x20=\x20(1.0\x20/'+'\x20refractio'+'nIndex\x20-\x201'+'.0)\x20*\x200.02'+'5\x20*\x20disper'+'sion;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20r'+'efractionI'+'ndexR:\x20f32'+'\x20=\x20refract'+'ionIndex\x20-'+'\x20halfSprea'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'nVector\x20=\x20'+'normalize('+'refract(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndexR))\x20'+'*\x20scale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ref'+'raction.r\x20'+'=\x20evalRefr'+'actionColo'+'r(refracti'+'onVector,\x20'+'gloss,\x20ref'+'ractionInd'+'exR).r;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20refractio'+'nIndexB:\x20f'+'32\x20=\x20refra'+'ctionIndex'+'\x20+\x20halfSpr'+'ead;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndexB)'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efraction.'+'b\x20=\x20evalRe'+'fractionCo'+'lor(refrac'+'tionVector'+',\x20gloss,\x20r'+'efractionI'+'ndexB).b;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20T'+'ransmittan'+'ce\x20is\x20our\x20'+'final\x20refr'+'action\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20transmitt'+'ance:\x20vec3'+'f;\x0a\x20\x20\x20\x20if\x20'+'(uniform.m'+'aterial_in'+'vAttenuati'+'onDistance'+'\x20!=\x200.0)\x0a\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20att'+'enuation:\x20'+'vec3f\x20=\x20-l'+'og(uniform'+'.material_'+'attenuatio'+'n)\x20*\x20unifo'+'rm.materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans')+('mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20let\x20'+'fresnel:\x20v'+'ec3f\x20=\x20vec'+'3f(1.0)\x20-\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20world'+'Normal),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scenceInte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20mix(dDif'+'fuseLight,'+'\x20refractio'+'n\x20*\x20transm'+'ittance\x20*\x20'+'fresnel,\x20t'+'ransmissio'+'n);\x0a}\x0a'),fI='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0a#ifdef'+'\x20CUBEMAP_S'+'OURCE\x0a\x20\x20\x20\x20'+'var\x20source'+'Cube:\x20text'+'ure_cube<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20sourceC'+'ubeSampler'+'\x20:\x20sampler'+';\x0a#else\x0a\x20\x20'+'\x20\x20var\x20sour'+'ceTex:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sourceTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20//\x20sa'+'mples\x0a\x20\x20\x20\x20'+'var\x20sample'+'sTex:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20samplesTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplesT'+'exInverseS'+'ize:\x20vec2f'+';\x0a#endif\x0a\x0a'+'//\x20params:'+'\x0a//\x20x\x20-\x20ta'+'rget\x20cubem'+'ap\x20face\x200.'+'.6\x0a//\x20y\x20-\x20'+'target\x20ima'+'ge\x20total\x20p'+'ixels\x0a//\x20z'+'\x20-\x20source\x20'+'cubemap\x20si'+'ze\x0auniform'+'\x20params:\x20v'+'ec3f;\x0a\x0afn\x20'+'targetFace'+'()\x20->\x20f32\x20'+'{\x20return\x20u'+'niform.par'+'ams.x;\x20}\x0af'+'n\x20targetTo'+'talPixels('+')\x20->\x20f32\x20{'+'\x20return\x20un'+'iform.para'+'ms.y;\x20}\x0afn'+'\x20sourceTot'+'alPixels()'+'\x20->\x20f32\x20{\x20'+'return\x20uni'+'form.param'+'s.z;\x20}\x0a\x0aco'+'nst\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22enc'+'odePS\x22\x0a\x0a//'+'--\x20support'+'ed\x20project'+'ions\x0a\x0afn\x20m'+'odifySeams'+'(dir:\x20vec3'+'f,\x20scale:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20adir\x20='+'\x20abs(dir);'+'\x0a\x20\x20\x20\x20let\x20M'+'\x20=\x20max(max'+'(adir.x,\x20a'+'dir.y),\x20ad'+'ir.z);\x0a\x20\x20\x20'+'\x20return\x20di'+'r\x20/\x20M\x20*\x20ve'+'c3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20select('+('scale,\x201.0'+',\x20adir.x\x20='+'=\x20M),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20select'+'(scale,\x201.'+'0,\x20adir.y\x20'+'==\x20M),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20selec'+'t(scale,\x201'+'.0,\x20adir.z'+'\x20==\x20M)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0afn\x20'+'toSpherica'+'l(dir:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20l'+'et\x20nonZero'+'XZ\x20=\x20any(d'+'ir.xz\x20!=\x20v'+'ec2f(0.0,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2f(select'+'(0.0,\x20atan'+'2(dir.x,\x20d'+'ir.z),\x20non'+'ZeroXZ),\x20a'+'sin(dir.y)'+');\x0a}\x0a\x0afn\x20f'+'romSpheric'+'al(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20vec3'+'f(cos(uv.y'+')\x20*\x20sin(uv'+'.x),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sin(uv.y)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'s(uv.y)\x20*\x20'+'cos(uv.x))'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Equirect(u'+'v:\x20vec2f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20fromSphe'+'rical((vec'+'2f(uv.x,\x201'+'.0\x20-\x20uv.y)'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20vec2'+'f(PI,\x20PI\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20octahe'+'dral\x20code,'+'\x20based\x20on\x20'+'https://jc'+'gt.org/pub'+'lished/000'+'3/02/01/\x0a/'+'/\x20\x22Survey\x20'+'of\x20Efficie'+'nt\x20Represe'+'ntations\x20f'+'or\x20Indepen'+'dent\x20Unit\x20'+'Vectors\x22\x20b'+'y\x20Cigolle,'+'\x20Donow,\x20Ev'+'angelakos,'+'\x20Mara,\x20McG'+'uire,\x20Meye'+'r\x0a\x0afn\x20sign'+'NotZero(k:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20sele'+'ct(-1.0,\x201'+'.0,\x20k\x20>=\x200'+'.0);\x0a}\x0a\x0afn'+'\x20signNotZe'+'roVec2(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2f(signN'+'otZero(v.x'+'),\x20signNot'+'Zero(v.y))'+';\x0a}\x0a\x0a//\x20Re'+'turns\x20a\x20un'+'it\x20vector.'+'\x20Argument\x20'+'o\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20pack')+('ed\x20via\x20oct'+'Encode,\x20on'+'\x20the\x20[-1,\x20'+'+1]\x20square'+'\x0afn\x20octDec'+'ode(o:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20v\x20=\x20vec'+'3f(o.x,\x201.'+'0\x20-\x20abs(o.'+'x)\x20-\x20abs(o'+'.y),\x20o.y);'+'\x0a\x20\x20\x20\x20if\x20(v'+'.y\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20temp:\x20'+'vec2f\x20=\x20(1'+'.0\x20-\x20abs(v'+'.zx))\x20*\x20si'+'gnNotZeroV'+'ec2(v.xz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'\x20=\x20vec3f(t'+'emp.x,\x20v.y'+',\x20temp.y);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Octahedral'+'(uv:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20octDec'+'ode(vec2f('+'uv.x,\x201.0\x20'+'-\x20uv.y)\x20*\x20'+'2.0\x20-\x201.0)'+';\x0a}\x0a\x0a//\x20As'+'sumes\x20that'+'\x20v\x20is\x20a\x20un'+'it\x20vector.'+'\x20The\x20resul'+'t\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20on\x20t'+'he\x20[-1,\x20+1'+']\x20square\x0af'+'n\x20octEncod'+'e(v:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20var\x20'+'result\x20=\x20v'+'.xz\x20*\x20(1.0'+'\x20/\x20l1norm)'+';\x0a\x20\x20\x20\x20if\x20('+'v.y\x20<\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'(1.0\x20-\x20abs'+'(result.yx'+'))\x20*\x20signN'+'otZeroVec2'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20fn'+'\x20sampleCub'+'emapDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'sourceCube'+',\x20sourceCu'+'beSampler,'+'\x20modifySea'+'ms(dir,\x201.'+'0));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleCubem'+'apSph(sph:')+('\x20vec2f)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20sample'+'CubemapDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leCubemapD'+'irLod(dir:'+'\x20vec3f,\x20mi'+'pLevel:\x20f3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leLevel(so'+'urceCube,\x20'+'sourceCube'+'Sampler,\x20m'+'odifySeams'+'(dir,\x201.0)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleCubemap'+'SphLod(sph'+':\x20vec2f,\x20m'+'ipLevel:\x20f'+'32)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'sampleCube'+'mapDirLod('+'fromSpheri'+'cal(sph),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a#el'+'se\x0a\x0a\x20\x20\x20\x20fn'+'\x20sampleEqu'+'irectSph(s'+'ph:\x20vec2f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv\x20=\x20s'+'ph\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'(sourceTex'+',\x20sourceTe'+'xSampler,\x20'+'vec2f(uv.x'+',\x201.0\x20-\x20uv'+'.y));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20fn\x20'+'sampleEqui'+'rectDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'Sph(toSphe'+'rical(dir)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleEquirec'+'tSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20uv'+'\x20=\x20sph\x20/\x20v'+'ec2f(PI\x20*\x20'+'2.0,\x20PI)\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleLevel('+'sourceTex,'+'\x20sourceTex'+'Sampler,\x20v'+'ec2f(uv.x,'+'\x201.0\x20-\x20uv.'+'y),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleEquir'+'ectDirLod('+'dir:\x20vec3f'+',\x20mipLevel'+':\x20f32)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleE')+('quirectSph'+'Lod(toSphe'+'rical(dir)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleOctahed'+'ralDir(dir'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20=\x20oct'+'Encode(dir'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'textureSam'+'ple(source'+'Tex,\x20sourc'+'eTexSample'+'r,\x20vec2f(u'+'v.x,\x201.0\x20-'+'\x20uv.y));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20sampleO'+'ctahedralS'+'ph(sph:\x20ve'+'c2f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leOctahedr'+'alDirLod(d'+'ir:\x20vec3f,'+'\x20mipLevel:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'Level(sour'+'ceTex,\x20sou'+'rceTexSamp'+'ler,\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20sampl'+'eOctahedra'+'lSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'Lod(fromSp'+'herical(sp'+'h),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a\x0a'+'fn\x20getDire'+'ctionCubem'+'ap(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20st\x20=\x20uv'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20le'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20vec:\x20vec'+'3f;\x0a\x20\x20\x20\x20if'+'\x20(face\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(1,\x20'+'-st.y,\x20-st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3f(-1,\x20-'+'st.y,\x20st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x202.0)')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3f(st.x,\x201'+',\x20st.y);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(face\x20='+'=\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'\x20=\x20vec3f(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(st.'+'x,\x20-st.y,\x20'+'1);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(-st'+'.x,\x20-st.y,'+'\x20-1);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20normal'+'ize(modify'+'Seams(vec,'+'\x201.0));\x0a}\x0a'+'\x0afn\x20matrix'+'FromVector'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20-n.'+'x\x20*\x20n.y\x20*\x20'+'a;\x0a\x20\x20\x20\x20let'+'\x20b1\x20=\x20vec3'+'f(1.0\x20-\x20n.'+'x\x20*\x20n.x\x20*\x20'+'a,\x20b,\x20-n.x'+');\x0a\x20\x20\x20\x20let'+'\x20b2\x20=\x20vec3'+'f(b,\x201.0\x20-'+'\x20n.y\x20*\x20n.y'+'\x20*\x20a,\x20-n.y'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mat3x3'+'f(b1,\x20b2,\x20'+'n);\x0a}\x0a\x0afn\x20'+'matrixFrom'+'VectorSlow'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20up\x20=\x20sel'+'ect(vec3f('+'0.0,\x200.0,\x20'+'select(-1.'+'0,\x201.0,\x20n.'+'y\x20>\x200.0)),'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'),\x20abs(n.y'+')\x20>\x200.0000'+'001);\x0a\x20\x20\x20\x20'+'let\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20let'+'\x20y\x20=\x20cross'+'(n,\x20x);\x0a\x20\x20'+'\x20\x20return\x20m'+'at3x3f(x,\x20'+'y,\x20n);\x0a}\x0a\x0a'+'fn\x20reproje'+'ct(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20i'+'f\x20({NUM_SA'+'MPLES}\x20<=\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20sing'+'le\x20sample\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}({'+'DECODE_FUN'+'C}({SOURCE'+'_FUNC}Dir('+'{TARGET_FU'+'NC}(uv))))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mult'+'i\x20sample\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20t\x20=\x20{TARG')+('ET_FUNC}(u'+'v);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20tu\x20='+'\x20dpdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20tv\x20=\x20dpd'+'y(t);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'u\x20+=\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20for\x20(v'+'ar\x20v\x20=\x200.0'+';\x20v\x20<\x20{NUM'+'_SAMPLES_S'+'QRT};\x20v\x20+='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}Dir(norma'+'lize(t\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'u\x20*\x20(u\x20/\x20{'+'NUM_SAMPLE'+'S_SQRT}\x20-\x20'+'0.5)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tv\x20'+'*\x20(v\x20/\x20{NU'+'M_SAMPLES_'+'SQRT}\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20{ENC'+'ODE_FUNC}('+'result\x20/\x20('+'{NUM_SAMPL'+'ES_SQRT}\x20*'+'\x20{NUM_SAMP'+'LES_SQRT})'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0aconst\x20un'+'packFloat:'+'\x20vec4f\x20=\x20v'+'ec4f(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20fn\x20un'+'packSample'+'(i:\x20i32,\x20L'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20mipLev'+'el:\x20ptr<fu'+'nction,\x20f3'+'2>)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20u\x20'+'=\x20(f32(i\x20*'+'\x204)\x20+\x200.5)'+'\x20*\x20uniform'+'.samplesTe'+'xInverseSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20v\x20'+'=\x20(floor(u'+')\x20+\x200.5)\x20*'+'\x20uniform.s'+'amplesTexI'+'nverseSize'+'.y;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20raw'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.x\x20=\x20dot(t'+'extureSamp')+('le(samples'+'Tex,\x20sampl'+'esTexSampl'+'er,\x20vec2f('+'u,\x20v)),\x20un'+'packFloat)'+';\x20u\x20+=\x20uni'+'form.sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'textureSam'+'ple(sample'+'sTex,\x20samp'+'lesTexSamp'+'ler,\x20vec2f'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20un'+'iform.samp'+'lesTexInve'+'rseSize.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.z\x20=\x20dot'+'(textureSa'+'mple(sampl'+'esTex,\x20sam'+'plesTexSam'+'pler,\x20vec2'+'f(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20u'+'niform.sam'+'plesTexInv'+'erseSize.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'raw.w\x20=\x20do'+'t(textureS'+'ample(samp'+'lesTex,\x20sa'+'mplesTexSa'+'mpler,\x20vec'+'2f(u,\x20v)),'+'\x20unpackFlo'+'at);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20*L\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*m'+'ipLevel\x20=\x20'+'raw.w\x20*\x208.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20con'+'volve\x20an\x20e'+'nvironment'+'\x20given\x20pre'+'-generated'+'\x20samples\x0a\x20'+'\x20\x20\x20fn\x20pref'+'ilterSampl'+'es(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'truct\x20vect'+'or\x20space\x20g'+'iven\x20targe'+'t\x20directio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vecSpa'+'ce\x20=\x20matri'+'xFromVecto'+'rSlow({TAR'+'GET_FUNC}('+'uv));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20L'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20mipLevel:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(var\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20i\x20+=\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unpa'+'ckSample(i'+',\x20&L,\x20&mip'+'Level);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'result\x20+=\x20'+'{DECODE_FU')+('NC}({SOURC'+'E_FUNC}Dir'+'Lod(vecSpa'+'ce\x20*\x20L,\x20mi'+'pLevel))\x20*'+'\x20L.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20to'+'talWeight\x20'+'+=\x20L.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20{ENCOD'+'E_FUNC}(re'+'sult\x20/\x20tot'+'alWeight);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20unwei'+'ghted\x20vers'+'ion\x20of\x20pre'+'filterSamp'+'les\x0a\x20\x20\x20\x20fn'+'\x20prefilter'+'SamplesUnw'+'eighted(uv'+':\x20vec2f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20construct'+'\x20vector\x20sp'+'ace\x20given\x20'+'target\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20v'+'ecSpace\x20=\x20'+'matrixFrom'+'VectorSlow'+'({TARGET_F'+'UNC}(uv));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20L:\x20vec'+'3f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20mipL'+'evel:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20result'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(va'+'r\x20i\x20=\x200;\x20i'+'\x20<\x20{NUM_SA'+'MPLES};\x20i\x20'+'+=\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'unpackSamp'+'le(i,\x20&L,\x20'+'&mipLevel)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}DirLod(ve'+'cSpace\x20*\x20L'+',\x20mipLevel'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'{ENCODE_FU'+'NC}(result'+'\x20/\x20f32({NU'+'M_SAMPLES}'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20{P'+'ROCESS_FUN'+'C}(input.v'+'Uv0);\x0a\x20\x20\x20\x20'+'return\x20out'+'put;\x0a}\x0a'),uI='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0aunifo'+'rm\x20uvMod:\x20'+'vec4f;\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0a\x0a@'+'vertex\x0afn\x20'+'vertexMain'+'(input:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20var\x20outpu'+'t:\x20VertexO'+'utput;\x0a\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(input.v'+'ertex_posi'+'tion,\x200.5,'+'\x201.0);\x0a\x20\x20o'+'utput.vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(input.ver'+'tex_positi'+'on\x20*\x200.5\x20+'+'\x20vec2f(0.5'+',\x200.5))\x20*\x20'+'uniform.uv'+'Mod.xy\x20+\x20u'+'niform.uvM'+'od.zw);\x0a\x20\x20'+'return\x20out'+'put;\x0a}\x0a',pI='\x0a\x0avar\x20uSce'+'neDepthMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20uSceneD'+'epthMapSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifn'+'def\x20SCREEN'+'SIZE\x0a\x20\x20\x20\x20#'+'define\x20SCR'+'EENSIZE\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20#define\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20unifor'+'m\x20matrix_v'+'iew:\x20mat4x'+'4f;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20CAM'+'ERAPLANES\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20CAME'+'RAPLANES\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20camer'+'a_params:\x20'+'vec4f;\x20//\x20'+'x:\x201\x20/\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20\x20y:\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20z:\x20came'+'ra_near,\x20\x20'+'\x20\x20\x20\x20\x20\x20w:\x20i'+'s_ortho\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20fn\x20lin'+'earizeDept'+'h(z:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uniform.c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x20//\x20Pe'+'rspective\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20('+'uniform.ca'+'mera_param'+'s.z\x20*\x20unif'+'orm.camera'+'_params.y)'+'\x20/\x20(unifor'+'m.camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.z\x20-'+'\x20uniform.c'+'amera_para'+'ms.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20unifor'+'m.camera_p'+'arams.z\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'+'\x0afn\x20deline'+'arizeDepth'+'(linearDep'+'th:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.camera'+'_params.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(unif'+'orm.camera'+('_params.y\x20'+'*\x20(uniform'+'.camera_pa'+'rams.z\x20-\x20l'+'inearDepth'+'))\x20/\x20(line'+'arDepth\x20*\x20'+'(uniform.c'+'amera_para'+'ms.z\x20-\x20uni'+'form.camer'+'a_params.y'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(linearD'+'epth\x20-\x20uni'+'form.camer'+'a_params.z'+')\x20/\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20by'+'\x20UV\x0afn\x20get'+'LinearScre'+'enDepth(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_LINEAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SCEN'+'E_DEPTHMAP'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'uSceneDept'+'hMap,\x20uSce'+'neDepthMap'+'Sampler,\x20u'+'v).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20tex'+'tureSize\x20='+'\x20textureDi'+'mensions(u'+'SceneDepth'+'Map,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20texel'+':\x20vec2i\x20=\x20'+'vec2i(uv\x20*'+'\x20vec2f(tex'+'tureSize))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta:\x20vec4f\x20'+'=\x20textureL'+'oad(uScene'+'DepthMap,\x20'+'texel,\x200);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta_u32:\x20ve'+'c4u\x20=\x20vec4'+'u(data\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20intBits'+':\x20u32\x20=\x20(d'+'ata_u32.r\x20'+'<<\x2024u)\x20|\x20'+'(data_u32.'+'g\x20<<\x2016u)\x20'+'|\x20(data_u3'+'2.b\x20<<\x208u)'+'\x20|\x20data_u3'+'2.a;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20bitca'+'st<f32>(in'+'tBits);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pth(textur'+'eSample(uS'+'ceneDepthM')+('ap,\x20uScene'+'DepthMapSa'+'mpler,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20fn\x20get'+'LinearScre'+'enDepthFra'+'g()\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20pcP'+'osition.xy'+'\x20*\x20uniform'+'.uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afn\x20get'+'LinearDept'+'h(pos:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(unif'+'orm.matrix'+'_view\x20*\x20ve'+'c4f(pos,\x201'+'.0)).z;\x0a}\x0a'),mI='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x0afn'+'\x20getShadow'+'CascadeInd'+'ex(shadowC'+'ascadeDist'+'ances:\x20vec'+'4f,\x20shadow'+'CascadeCou'+'nt:\x20i32)\x20-'+'>\x20i32\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20dept'+'h\x20in\x200\x20..\x20'+'far\x20plane\x20'+'range\x0a\x20\x20\x20\x20'+'let\x20depth:'+'\x20f32\x20=\x201.0'+'\x20/\x20pcPosit'+'ion.w;\x0a\x0a\x20\x20'+'\x20\x20//\x201.0\x20i'+'f\x20depth\x20>='+'\x20distance,'+'\x200.0\x20other'+'wise\x0a\x20\x20\x20\x20l'+'et\x20compari'+'sons:\x20vec4'+'f\x20=\x20step(s'+'hadowCasca'+'deDistance'+'s,\x20vec4f(d'+'epth));\x0a\x0a\x20'+'\x20\x20\x20//\x20sum\x20'+'is\x20the\x20ind'+'ex\x0a\x20\x20\x20\x20let'+'\x20cascadeIn'+'dex:\x20i32\x20='+'\x20i32(dot(c'+'omparisons'+',\x20vec4f(1.'+'0)));\x0a\x0a\x20\x20\x20'+'\x20//\x20limit\x20'+'to\x20actual\x20'+'number\x20of\x20'+'used\x20casca'+'des\x0a\x20\x20\x20\x20re'+'turn\x20min(c'+'ascadeInde'+'x,\x20shadowC'+'ascadeCoun'+'t\x20-\x201);\x0a}\x0a'+'\x0a//\x20functi'+'on\x20which\x20m'+'odifies\x20ca'+'scade\x20inde'+'x\x20to\x20dithe'+'r\x20between\x20'+'cascades\x0af'+'n\x20ditherSh'+'adowCascad'+'eIndex(cas'+'cadeIndex_'+'in:\x20i32,\x20s'+'hadowCasca'+'deDistance'+'s:\x20vec4f,\x20'+'shadowCasc'+'adeCount:\x20'+'i32,\x20blend'+'Factor:\x20f3'+'2)\x20->\x20i32\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Use\x20var\x20as'+'\x20cascadeIn'+'dex\x20might\x20'+'be\x20modifie'+'d\x0a\x20\x20\x20\x20var\x20'+'cascadeInd'+'ex:\x20i32\x20=\x20'+'cascadeInd'+'ex_in;\x0a\x20\x20\x20'+'\x20if\x20(casca'+'deIndex\x20<\x20'+'shadowCasc'+'adeCount\x20-'+'\x201)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20cu'+'rrentRange'+'End:\x20f32\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+('\x20transitio'+'nStart:\x20f3'+'2\x20=\x20blendF'+'actor\x20*\x20cu'+'rrentRange'+'End;\x20//\x20St'+'art\x20overla'+'p\x20factor\x20a'+'way\x20from\x20t'+'he\x20end\x20dis'+'tance\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(depth\x20'+'>\x20transiti'+'onStart)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20a\x20tr'+'ansition\x20f'+'actor\x20(0.0'+'\x20to\x201.0)\x20w'+'ithin\x20the\x20'+'overlap\x20ra'+'nge\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'transition'+'Factor:\x20f3'+'2\x20=\x20smooth'+'step(trans'+'itionStart'+',\x20currentR'+'angeEnd,\x20d'+'epth);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Add\x20pse'+'udo-random'+'\x20dithering'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20TODO'+':\x20replace\x20'+'by\x20user\x20se'+'lectable\x20d'+'ithering\x20m'+'ethod\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20dither:\x20'+'f32\x20=\x20frac'+'t(sin(dot('+'pcPosition'+'.xy,\x20vec2f'+'(12.9898,\x20'+'78.233)))\x20'+'*\x2043758.54'+'53);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dither\x20<\x20'+'transition'+'Factor)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20casc'+'adeIndex\x20='+'\x20cascadeIn'+'dex\x20+\x201;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20cascadeIn'+'dex;\x0a}\x0a\x0afn'+'\x20fadeShado'+'w(shadowCo'+'ord_in:\x20ve'+'c3f,\x20shado'+'wCascadeDi'+'stances:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20//\x20if\x20the'+'\x20pixel\x20is\x20'+'past\x20the\x20s'+'hadow\x20dist'+'ance,\x20remo'+'ve\x20shadow\x0a'+'\x20\x20\x20\x20//\x20thi'+'s\x20enforces'+'\x20straight\x20'+'line\x20inste'+'ad\x20of\x20corn'+'er\x20of\x20shad'+'ow\x20which\x20m'+'oves\x20when\x20'+'camera\x20rot'+'ates\x0a\x20\x20\x20\x20v'+'ar\x20shadowC'+'oord:\x20vec3'+'f\x20=\x20shadow')+('Coord_in;\x0a'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x20\x20\x20\x20if\x20(d'+'epth\x20>\x20sha'+'dowCascade'+'Distances.'+'w)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20shadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'hadowCoord'+';\x0a}\x0a'),_I='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afn\x20linste'+'p(a:\x20f32,\x20'+'b:\x20f32,\x20v:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20/'+'/\x20WGSL\x20sat'+'urate\x20->\x20c'+'lamp\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p((v\x20-\x20a)\x20'+'/\x20(b\x20-\x20a),'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0afn\x20re'+'duceLightB'+'leeding(pM'+'ax:\x20f32,\x20a'+'mount:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'fn\x20chebysh'+'evUpperBou'+'nd(moments'+':\x20vec2f,\x20m'+'ean:\x20f32,\x20'+'minVarianc'+'e:\x20f32,\x20li'+'ghtBleedin'+'gReduction'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'//\x20Compute'+'\x20variance\x0a'+'\x20\x20\x20\x20var\x20va'+'riance:\x20f3'+'2\x20=\x20moment'+'s.y\x20-\x20(mom'+'ents.x\x20*\x20m'+'oments.x);'+'\x0a\x20\x20\x20\x20varia'+'nce\x20=\x20max('+'variance,\x20'+'minVarianc'+'e);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'probabilis'+'tic\x20upper\x20'+'bound\x0a\x20\x20\x20\x20'+'let\x20d:\x20f32'+'\x20=\x20mean\x20-\x20'+'moments.x;'+'\x0a\x20\x20\x20\x20var\x20p'+'Max:\x20f32\x20='+'\x20variance\x20'+'/\x20(varianc'+'e\x20+\x20(d\x20*\x20d'+'));\x0a\x0a\x20\x20\x20\x20p'+'Max\x20=\x20redu'+'ceLightBle'+'eding(pMax'+',\x20lightBle'+'edingReduc'+'tion);\x0a\x0a\x20\x20'+'\x20\x20//\x20One-t'+'ailed\x20Cheb'+'yshev\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(pMax,\x20'+'1.0,\x20mean\x20'+'<=\x20moments'+'.x);\x0a}\x0a\x0afn'+'\x20calculate'+'EVSM(momen'+'ts_in:\x20vec'+'3f,\x20Z_in:\x20'+'f32,\x20vsmBi'+'as:\x20f32,\x20e'+'xponent:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20Z:\x20f32\x20=\x20'+'2.0\x20*\x20Z_in'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20let\x20warp'+'edDepth:\x20f'+'32\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20l'+('et\x20moments'+':\x20vec2f\x20=\x20'+'moments_in'+'.xy\x20+\x20vec2'+'f(warpedDe'+'pth,\x20warpe'+'dDepth*war'+'pedDepth)\x20'+'*\x20(1.0\x20-\x20m'+'oments_in.'+'z);\x0a\x0a\x20\x20\x20\x20l'+'et\x20VSMBias'+':\x20f32\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20let\x20d'+'epthScale:'+'\x20f32\x20=\x20VSM'+'Bias\x20*\x20exp'+'onent\x20*\x20wa'+'rpedDepth;'+'\x0a\x20\x20\x20\x20let\x20m'+'inVariance'+'1:\x20f32\x20=\x20d'+'epthScale\x20'+'*\x20depthSca'+'le;\x0a\x20\x20\x20\x20re'+'turn\x20cheby'+'shevUpperB'+'ound(momen'+'ts,\x20warped'+'Depth,\x20min'+'Variance1,'+'\x200.1);\x0a}\x0a/'+'/\x20------\x20V'+'SM\x2016\x20----'+'--\x0a\x0afn\x20VSM'+'16(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords:\x20vec'+'2f,\x20resolu'+'tion:\x20f32,'+'\x20Z:\x20f32,\x20v'+'smBias:\x20f3'+'2,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20let\x20momen'+'ts:\x20vec3f\x20'+'=\x20textureS'+'ampleLevel'+'(tex,\x20texS'+'ampler,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'n\x20getShado'+'wVSM16(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M16(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord.xy,\x20s'+'hadowParam'+'s.x,\x20shado'+'wCoord.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotVSM1'+'6(shadowMa'+'p:\x20texture'+'_2d<f32>,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler,\x20sha'+'dowCoord:\x20'+'vec3f,\x20sha')+('dowParams:'+'\x20vec4f,\x20ex'+'ponent:\x20f3'+'2,\x20lightDi'+'r:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20Z:\x20'+'f32\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20V'+'SM16(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20Z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----'+'--\x0a\x0afn\x20VSM'+'32(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords_in:\x20'+'vec2f,\x20res'+'olution:\x20f'+'32,\x20Z:\x20f32'+',\x20vsmBias:'+'\x20f32,\x20expo'+'nent:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20CAPS_TEX'+'TURE_FLOAT'+'_FILTERABL'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20moment'+'s:\x20vec3f\x20='+'\x20textureSa'+'mpleLevel('+'tex,\x20texSa'+'mpler,\x20tex'+'Coords_in,'+'\x200.0).xyz;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20manual\x20b'+'ilinear\x20fi'+'ltering\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'pixelSize\x20'+':\x20f32\x20=\x201.'+'0\x20/\x20resolu'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20te'+'xCoords:\x20v'+'ec2f\x20=\x20tex'+'Coords_in\x20'+'-\x20vec2f(pi'+'xelSize);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20s00:\x20vec'+'3f\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20texCoords'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20s10:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20texCoor'+'ds\x20+\x20vec2f'+'(pixelSize'+',\x200.0),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'s01:\x20vec3f'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'exCoords\x20+'+'\x20vec2f(0.0'+',\x20pixelSiz'+'e),\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s11:')+('\x20vec3f\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20texCo'+'ords\x20+\x20vec'+'2f(pixelSi'+'ze),\x200.0).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fr:'+'\x20vec2f\x20=\x20f'+'ract(texCo'+'ords\x20*\x20res'+'olution);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20h0:\x20vec3'+'f\x20=\x20mix(s0'+'0,\x20s10,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20h1:'+'\x20vec3f\x20=\x20m'+'ix(s01,\x20s1'+'1,\x20fr.x);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20moments:'+'\x20vec3f\x20=\x20m'+'ix(h0,\x20h1,'+'\x20fr.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owVSM32(sh'+'adowMap:\x20t'+'exture_2d<'+'f32>,\x20shad'+'owMapSampl'+'er:\x20sample'+'r,\x20shadowC'+'oord:\x20vec3'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20expone'+'nt:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20V'+'SM32(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afn\x20getSha'+'dowSpotVSM'+'32(shadowM'+'ap:\x20textur'+'e_2d<f32>,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20e'+'xponent:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20Z:'+'\x20f32\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20Z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a'),gI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afn\x20getS'+'hadowPCF1x'+'1(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowCoo'+'rd.z);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotPCF1'+'x1(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20shad'+'owCoord.xy'+',\x20shadowCo'+'ord.z);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a//\x20Not\x20su'+'pported\x20on'+'\x20WebGPU\x20de'+'vice\x0a//\x20fn'+'\x20getShadow'+'OmniPCF1x1'+'(shadowMap'+':\x20texture_'+'depth_cube'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f,'+'\x20lightDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a//\x20'+'\x20\x20\x20\x20let\x20sh'+'adowZ:\x20f32'+'\x20=\x20length('+'lightDir)\x20'+'*\x20shadowPa'+'rams.w\x20+\x20s'+'hadowParam'+'s.z;\x0a//\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20lightD'+'ir,\x20shadow'+'Z);\x0a//\x20}\x0a',SI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0afn\x20_getS'+'hadowPCF3x'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20sum:\x20f3'+'2\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20let\x20uw'+'0:\x20f32\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20s);\x0a\x20\x20\x20\x20'+'let\x20uw1:\x20f'+'32\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20s)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20u0_offset'+':\x20f32\x20=\x20(2'+'.0\x20-\x20s)\x20/\x20'+'uw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20let\x20u'+'1_offset:\x20'+'f32\x20=\x20s\x20/\x20'+'uw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'vw0:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20let\x20vw1:'+'\x20f32\x20=\x20(1.'+'0\x20+\x202.0\x20*\x20'+'t);\x0a\x0a\x20\x20\x20\x20l'+'et\x20v0_offs'+'et:\x20f32\x20=\x20'+'(2.0\x20-\x20t)\x20'+'/\x20vw0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20let'+'\x20v1_offset'+':\x20f32\x20=\x20t\x20'+'/\x20vw1\x20+\x201.'+'0;\x0a\x0a\x20\x20\x20\x20le'+'t\x20u0:\x20f32\x20'+'=\x20u0_offse'+'t\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20v0:\x20f32\x20'+'=\x20v0_offse'+'t\x20*\x20shadow'+('MapSizeInv'+'\x20+\x20base_uv'+'.y;\x0a\x0a\x20\x20\x20\x20l'+'et\x20u1:\x20f32'+'\x20=\x20u1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20l'+'et\x20v1:\x20f32'+'\x20=\x20v1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'sum\x20=\x20sum\x20'+'+\x20uw0\x20*\x20vw'+'0\x20*\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20v'+'ec2f(u0,\x20v'+'0),\x20z);\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw1\x20*\x20'+'vw0\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u1,'+'\x20v0),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw0\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'0,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u1,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20*'+'\x20(1.0\x20/\x2016'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20sum;'+'\x0a}\x0a\x0afn\x20get'+'ShadowPCF3'+'x3(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wPCF3x3(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0afn\x20getSh'+'adowSpotPC'+'F3x3(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3(')+('shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams.xyz);'+'\x0a}\x0a\x0a//\x20---'+'--\x20Omni\x20Sa'+'mpling\x20---'+'--\x0a\x0a//\x20Not'+'\x20currently'+'\x20supported'+'\x20on\x20WebGPU'+'\x20device\x0a//'+'\x20fn\x20getSha'+'dowOmniPCF'+'3x3(shadow'+'Map:\x20textu'+'re_depth_c'+'ube,\x20shado'+'wMapSample'+'r:\x20sampler'+'_compariso'+'n,\x20shadowP'+'arams:\x20vec'+'4f,\x20dir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a//\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a//\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(dir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x0a//'+'\x20\x20\x20\x20\x20//\x20of'+'fset\x0a//\x20\x20\x20'+'\x20\x20let\x20texS'+'ize_i\x20=\x20te'+'xtureDimen'+'sions(shad'+'owMap,\x200);'+'\x0a//\x20\x20\x20\x20\x20le'+'t\x20z:\x20f32\x20='+'\x201.0\x20/\x20f32'+'(texSize_i'+'.x);\x0a//\x20\x20\x20'+'\x20\x20let\x20tc:\x20'+'vec3f\x20=\x20no'+'rmalize(di'+'r);\x0a\x0a//\x20\x20\x20'+'\x20\x20//\x20avera'+'ge\x204\x20sampl'+'es\x20-\x20not\x20a'+'\x20strict\x203x'+'3\x20PCF\x20but\x20'+'that\x27s\x20tri'+'cky\x20with\x20c'+'ubemaps\x0a//'+'\x20\x20\x20\x20\x20var\x20s'+'hadows:\x20ve'+'c4f;\x0a//\x20\x20\x20'+'\x20\x20shadows.'+'x\x20=\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20t'+'c\x20+\x20vec3f('+'\x20z,\x20\x20z,\x20\x20z'+'),\x20shadowZ'+');\x0a//\x20\x20\x20\x20\x20'+'shadows.y\x20'+'=\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20tc\x20'+'+\x20vec3f(-z'+',\x20-z,\x20\x20z),'+'\x20shadowZ);'+'\x0a//\x20\x20\x20\x20\x20sh'+'adows.z\x20=\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20tc\x20+\x20'+'vec3f(-z,\x20'+'\x20z,\x20-z),\x20s'+'hadowZ);\x0a/')+('/\x20\x20\x20\x20\x20shad'+'ows.w\x20=\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20tc\x20+\x20ve'+'c3f(\x20z,\x20-z'+',\x20-z),\x20sha'+'dowZ);\x0a\x0a//'+'\x20\x20\x20\x20\x20retur'+'n\x20dot(shad'+'ows,\x20vec4f'+'(0.25));\x0a/'+'/\x20}\x0a\x0a//\x20fn'+'\x20getShadow'+'OmniPCF3x3'+'_Wrapper(s'+'hadowMap:\x20'+'texture_de'+'pth_cube,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a//\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCF3x3(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowParams'+',\x20lightDir'+');\x0a//\x20}\x0a'),yI='\x0a//\x20http:/'+'/the-witne'+'ss.net/new'+'s/2013/09/'+'shadow-map'+'ping-summa'+'ry-part-1/'+'\x0afn\x20_getSh'+'adowPCF5x5'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20l'+'et\x20uw0:\x20f3'+'2\x20=\x20(4.0\x20-'+'\x203.0\x20*\x20s);'+'\x0a\x20\x20\x20\x20let\x20u'+'w1:\x20f32\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20l'+'et\x20uw2:\x20f3'+'2\x20=\x20(1.0\x20+'+'\x203.0\x20*\x20s);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'u0_offset:'+'\x20f32\x20=\x20(3.'+'0\x20-\x202.0\x20*\x20'+'s)\x20/\x20uw0\x20-'+'\x202.0;\x0a\x20\x20\x20\x20'+'let\x20u1_off'+'set:\x20f32\x20='+'\x20(3.0\x20+\x20s)'+'\x20/\x20uw1;\x0a\x20\x20'+'\x20\x20let\x20u2_o'+'ffset:\x20f32'+'\x20=\x20s\x20/\x20uw2'+'\x20+\x202.0;\x0a\x0a\x20'+'\x20\x20\x20let\x20vw0'+':\x20f32\x20=\x20(4'+'.0\x20-\x203.0\x20*'+'\x20t);\x0a\x20\x20\x20\x20l'+'et\x20vw1:\x20f3'+'2\x20=\x207.0;\x0a\x20'+'\x20\x20\x20let\x20vw2'+':\x20f32\x20=\x20(1'+'.0\x20+\x203.0\x20*'+'\x20t);\x0a\x0a\x20\x20\x20\x20'+'let\x20v0_off'+'set:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t)\x20/\x20v'+'w0\x20-\x202.0;\x0a'+'\x20\x20\x20\x20let\x20v1'+'_offset:\x20f'+'32\x20=\x20(3.0\x20'+('+\x20t)\x20/\x20vw1'+';\x0a\x20\x20\x20\x20let\x20'+'v2_offset:'+'\x20f32\x20=\x20t\x20/'+'\x20vw2\x20+\x202.0'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20sum:\x20f32\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20let\x20u0:\x20'+'f32\x20=\x20u0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.x;\x0a\x20\x20'+'\x20\x20let\x20v0:\x20'+'f32\x20=\x20v0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20u1:'+'\x20f32\x20=\x20u1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.x;\x0a\x20'+'\x20\x20\x20let\x20v1:'+'\x20f32\x20=\x20v1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20let\x20u2'+':\x20f32\x20=\x20u2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.x;\x0a'+'\x20\x20\x20\x20let\x20v2'+':\x20f32\x20=\x20v2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20sum\x20='+'\x20sum\x20+\x20uw0'+'\x20*\x20vw0\x20*\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20vec2f('+'u0,\x20v0),\x20z'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20sum\x20+\x20u'+'w1\x20*\x20vw0\x20*'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20vec2'+'f(u1,\x20v0),'+'\x20z);\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw2\x20*\x20vw0'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u2,\x20v0'+'),\x20z);\x0a\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw0\x20*\x20'+'vw1\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u0,'+'\x20v1),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'1,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'2\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare')+('Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u2,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw0\x20*\x20vw2'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u0,\x20v2'+'),\x20z);\x0a\x20\x20\x20'+'\x20sum\x20=\x20sum'+'\x20+\x20uw1\x20*\x20v'+'w2\x20*\x20textu'+'reSampleCo'+'mpareLevel'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'vec2f(u1,\x20'+'v2),\x20z);\x0a\x20'+'\x20\x20\x20sum\x20=\x20s'+'um\x20+\x20uw2\x20*'+'\x20vw2\x20*\x20tex'+'tureSample'+'CompareLev'+'el(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20vec2f(u2'+',\x20v2),\x20z);'+'\x0a\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20*\x20(1'+'.0\x20/\x20144.0'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afn'+'\x20getShadow'+'PCF5x5(sha'+'dowMap:\x20te'+'xture_dept'+'h_2d,\x20shad'+'owMapSampl'+'er:\x20sample'+'r_comparis'+'on,\x20shadow'+'Coord:\x20vec'+'3f,\x20shadow'+'Params:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20_getS'+'hadowPCF5x'+'5(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params.xyz'+');\x0a}\x0a\x0afn\x20g'+'etShadowSp'+'otPCF5x5(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owCoord:\x20v'+'ec3f,\x20shad'+'owParams:\x20'+'vec4f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20_ge'+'tShadowPCF'+'5x5(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a'),vI='\x0a\x0afn\x20fract'+'SinRand(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20PI:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20a:\x20f32\x20'+'=\x2012.9898;'+'\x20let\x20b:\x20f3'+'2\x20=\x2078.233'+';\x20let\x20c:\x20f'+'32\x20=\x2043758'+'.5453;\x0a\x20\x20\x20'+'\x20let\x20dt:\x20f'+'32\x20=\x20dot(u'+'v.xy,\x20vec2'+'f(a,\x20b));\x0a'+'\x20\x20\x20\x20let\x20sn'+':\x20f32\x20=\x20dt'+'\x20%\x20PI;\x0a\x20\x20\x20'+'\x20return\x20fr'+'act(sin(sn'+')\x20*\x20c);\x0a}\x0a'+'\x0a//\x20struct'+'\x20to\x20hold\x20p'+'recomputed'+'\x20constants'+'\x20and\x20curre'+'nt\x20state\x0as'+'truct\x20Voge'+'lDiskData\x20'+'{\x0a\x20\x20\x20\x20invN'+'umSamples:'+'\x20f32,\x0a\x20\x20\x20\x20'+'initialAng'+'le:\x20f32,\x0a\x20'+'\x20\x20\x20current'+'PointId:\x20f'+'32,\x0a}\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'fn\x20prepare'+'DiskConsta'+'nts(data:\x20'+'ptr<functi'+'on,\x20VogelD'+'iskData>,\x20'+'sampleCoun'+'t:\x20i32,\x20ra'+'ndomSeed:\x20'+'f32)\x20{\x0a\x20\x20\x20'+'\x20let\x20pi2:\x20'+'f32\x20=\x206.28'+'318530718;'+'\x0a\x20\x20\x20\x20data.'+'invNumSamp'+'les\x20=\x201.0\x20'+'/\x20f32(samp'+'leCount);\x0a'+'\x20\x20\x20\x20data.i'+'nitialAngl'+'e\x20=\x20random'+'Seed\x20*\x20pi2'+';\x0a\x20\x20\x20\x20data'+'.currentPo'+'intId\x20=\x200.'+'0;\x0a}\x0a\x0a\x0afn\x20'+'generateDi'+'skSample(d'+'ata:\x20ptr<f'+'unction,\x20V'+'ogelDiskDa'+'ta>)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20GOLDEN'+'_ANGLE:\x20f3'+'2\x20=\x202.3999'+'63;\x0a\x20\x20\x20\x20le'+'t\x20r:\x20f32\x20='+'\x20sqrt((dat'+'a.currentP'+'ointId\x20+\x200'+'.5)\x20*\x20data'+'.invNumSam'+'ples);\x0a\x20\x20\x20'+'\x20let\x20theta'+':\x20f32\x20=\x20da'+'ta.current'+'PointId\x20*\x20'+'GOLDEN_ANG'+'LE\x20+\x20data.'+'initialAng'+('le;\x0a\x0a\x20\x20\x20\x20l'+'et\x20offset:'+'\x20vec2f\x20=\x20v'+'ec2f(cos(t'+'heta),\x20sin'+'(theta))\x20*'+'\x20pow(r,\x201.'+'33);\x0a\x0a\x20\x20\x20\x20'+'data.curre'+'ntPointId\x20'+'=\x20data.cur'+'rentPointI'+'d\x20+\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'offset;\x0a}\x0a'+'\x0afn\x20PCSSFi'+'ndBlocker('+'shadowMap:'+'\x20texture_2'+'d<f32>,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler,\x20avgBl'+'ockerDepth'+':\x20ptr<func'+'tion,\x20f32>'+',\x20numBlock'+'ers:\x20ptr<f'+'unction,\x20i'+'32>,\x0a\x20\x20\x20\x20s'+'hadowCoord'+'s:\x20vec2f,\x20'+'z:\x20f32,\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32,\x20penum'+'braSize:\x20f'+'32,\x20invSha'+'dowMapSize'+':\x20f32,\x20ran'+'domSeed:\x20f'+'32)\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20diskD'+'ata:\x20Vogel'+'DiskData;\x0a'+'\x20\x20\x20\x20prepar'+'eDiskConst'+'ants(&disk'+'Data,\x20shad'+'owBlockerS'+'amples,\x20ra'+'ndomSeed);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'searchWidt'+'h:\x20f32\x20=\x20p'+'enumbraSiz'+'e\x20*\x20invSha'+'dowMapSize'+';\x0a\x20\x20\x20\x20var\x20'+'blockerSum'+':\x20f32\x20=\x200.'+'0;\x0a\x20\x20\x20\x20var'+'\x20numBlocke'+'rs_local:\x20'+'i32\x20=\x200;\x0a\x0a'+'\x20\x20\x20\x20for(\x20v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20s'+'hadowBlock'+'erSamples;'+'\x20i\x20=\x20i\x20+\x201'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20dis'+'kUV:\x20vec2f'+'\x20=\x20generat'+'eDiskSampl'+'e(&diskDat'+'a);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20samp'+'leUV:\x20vec2'+'f\x20=\x20shadow'+'Coords\x20+\x20d'+'iskUV\x20*\x20se'+'archWidth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadowM'+'apDepth:\x20f'+'32\x20=\x20textu'+'reSampleLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20sampleU'+'V,\x200.0).r;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(\x20shadow'+'MapDepth\x20<'+'\x20z\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20b'+'lockerSum\x20')+('=\x20blockerS'+'um\x20+\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers_local'+'\x20=\x20numBloc'+'kers_local'+'\x20+\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20*avg'+'BlockerDep'+'th\x20=\x20block'+'erSum\x20/\x20f3'+'2(numBlock'+'ers_local)'+';\x0a\x20\x20\x20\x20*num'+'Blockers\x20='+'\x20numBlocke'+'rs_local;\x0a'+'}\x0a\x0afn\x20PCSS'+'Filter(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20uv:\x20vec2'+'f,\x20receive'+'rDepth:\x20f3'+'2,\x20shadowS'+'amples:\x20i3'+'2,\x20filterR'+'adius:\x20f32'+',\x20randomSe'+'ed:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20var\x20dis'+'kData:\x20Vog'+'elDiskData'+';\x0a\x20\x20\x20\x20prep'+'areDiskCon'+'stants(&di'+'skData,\x20sh'+'adowSample'+'s,\x20randomS'+'eed);\x0a\x0a\x20\x20\x20'+'\x20var\x20sum:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20for\x20('+'var\x20i:\x20i32'+'\x20=\x200;\x20i\x20<\x20'+'shadowSamp'+'les;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'offsetUV:\x20'+'vec2f\x20=\x20ge'+'nerateDisk'+'Sample(&di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dept'+'h:\x20f32\x20=\x20t'+'extureSamp'+'leLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv\x20'+'+\x20offsetUV'+',\x200.0).r;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20su'+'m\x20=\x20sum\x20+\x20'+'step(recei'+'verDepth,\x20'+'depth);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20sum\x20/'+'\x20f32(shado'+'wSamples);'+'\x0a}\x0a\x0afn\x20get'+'Penumbra(d'+'blocker:\x20f'+'32,\x20drecei'+'ver:\x20f32,\x20'+'penumbraSi'+'ze:\x20f32,\x20p'+'enumbraFal'+'loff:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20di'+'st:\x20f32\x20=\x20'+'dreceiver\x20'+'-\x20dblocker'+';\x0a\x20\x20\x20\x20let\x20'+'penumbra:\x20'+'f32\x20=\x201.0\x20'+'-\x20pow(1.0\x20'+'-\x20dist,\x20pe')+('numbraFall'+'off);\x0a\x20\x20\x20\x20'+'return\x20pen'+'umbra\x20*\x20pe'+'numbraSize'+';\x0a}\x0a\x0afn\x20PC'+'SSDirectio'+'nal(shadow'+'Map:\x20textu'+'re_2d<f32>'+',\x20shadowMa'+'pSampler:\x20'+'sampler,\x20s'+'hadowCoord'+'s:\x20vec3f,\x20'+'cameraPara'+'ms:\x20vec4f,'+'\x20softShado'+'wParams:\x20v'+'ec4f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'let\x20receiv'+'erDepth:\x20f'+'32\x20=\x20shado'+'wCoords.z;'+'\x0a\x20\x20\x20\x20let\x20r'+'andomSeed:'+'\x20f32\x20=\x20fra'+'ctSinRand('+'pcPosition'+'.xy);\x0a\x20\x20\x20\x20'+'let\x20shadow'+'Samples:\x20i'+'32\x20=\x20i32(s'+'oftShadowP'+'arams.x);\x0a'+'\x20\x20\x20\x20let\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32\x20=\x20i32('+'softShadow'+'Params.y);'+'\x0a\x20\x20\x20\x20let\x20p'+'enumbraSiz'+'e:\x20f32\x20=\x20s'+'oftShadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20let\x20pen'+'umbraFallo'+'ff:\x20f32\x20=\x20'+'softShadow'+'Params.w;\x0a'+'\x0a\x20\x20\x20\x20let\x20s'+'hadowMapSi'+'ze:\x20i32\x20=\x20'+'i32(textur'+'eDimension'+'s(shadowMa'+'p,\x200).x);\x0a'+'\x20\x20\x20\x20var\x20in'+'vShadowMap'+'Size:\x20f32\x20'+'=\x201.0\x20/\x20f3'+'2(shadowMa'+'pSize);\x0a\x20\x20'+'\x20\x20invShado'+'wMapSize\x20='+'\x20invShadow'+'MapSize\x20*\x20'+'(f32(shado'+'wMapSize)\x20'+'/\x202048.0);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'penumbra:\x20'+'f32;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20avgBloc'+'kerDepth:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20numBloc'+'kers:\x20i32\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20&a'+'vgBlockerD'+'epth,\x20&num')+('Blockers,\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowBl'+'ockerSampl'+'es,\x20penumb'+'raSize,\x20in'+'vShadowMap'+'Size,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20when\x20no\x20b'+'lockers\x20ar'+'e\x20present\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(numBlock'+'ers\x20<\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20pen'+'umbra\x20size'+'\x20is\x20based\x20'+'on\x20the\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'getPenumbr'+'a(avgBlock'+'erDepth,\x20s'+'hadowCoord'+'s.z,\x20penum'+'braSize,\x20p'+'enumbraFal'+'loff);\x0a\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20constan'+'t\x20filter\x20s'+'ize,\x20no\x20co'+'ntact\x20hard'+'ening\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20penum'+'braSize;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20filter'+'Radius:\x20f3'+'2\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ords.xy,\x20r'+'eceiverDep'+'th,\x20shadow'+'Samples,\x20f'+'ilterRadiu'+'s,\x20randomS'+'eed);\x0a}\x0a\x0af'+'n\x20getShado'+'wPCSS(shad'+'owMap:\x20tex'+'ture_2d<f3'+'2>,\x20shadow'+'MapSampler'+':\x20sampler,'+'\x20shadowCoo'+'rd:\x20vec3f,'+'\x20shadowPar'+'ams:\x20vec4f'+',\x20cameraPa'+'rams:\x20vec4'+'f,\x20softSha'+'dowParams:'+'\x20vec4f,\x20li'+'ghtDir:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x20//\x20lig'+'htDir\x20unus'+'ed?\x20Kept\x20p'+'aram.\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SDirection'+'al(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP')+'arams);\x0a}\x0a',xI='\x0aattribute'+'\x20vertex_bo'+'neIndices:'+'\x20f32;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20g'+'etBoneMatr'+'ix(indexFl'+'oat:\x20f32)\x20'+'->\x20mat4x4f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20width\x20=\x20'+'i32(textur'+'eDimension'+'s(texture_'+'poseMap).x'+');\x0a\x20\x20\x20\x20let'+'\x20index:\x20i3'+'2\x20=\x20i32(in'+'dexFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x20\x20\x20\x20let\x20i'+'y:\x20i32\x20=\x20i'+'ndex\x20/\x20wid'+'th;\x0a\x20\x20\x20\x20le'+'t\x20ix:\x20i32\x20'+'=\x20index\x20%\x20'+'width;\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'elements\x20o'+'f\x204x3\x20matr'+'ix\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec4f'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(ix'+'\x20+\x200,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20v2:\x20vec'+'4f\x20=\x20textu'+'reLoad(tex'+'ture_poseM'+'ap,\x20vec2i('+'ix\x20+\x201,\x20iy'+'),\x200);\x0a\x20\x20\x20'+'\x20let\x20v3:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(ix\x20+\x202,\x20'+'iy),\x200);\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4x4f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.x,\x20v2.x,'+'\x20v3.x,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.y,\x20v2.y,\x20'+'v3.y,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'z,\x20v2.z,\x20v'+'3.z,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.w'+',\x20v2.w,\x20v3'+'.w,\x201.0\x0a\x20\x20'+'\x20\x20);\x0a}\x0a',TI='\x0a\x0aattribut'+'e\x20vertex_b'+'oneWeights'+':\x20vec4f;\x0aa'+'ttribute\x20v'+'ertex_bone'+'Indices:\x20v'+'ec4f;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0astru'+'ct\x20BoneMat'+'rix\x20{\x0a\x20\x20\x20\x20'+'v1:\x20vec4f,'+'\x0a\x20\x20\x20\x20v2:\x20v'+'ec4f,\x0a\x20\x20\x20\x20'+'v3:\x20vec4f,'+'\x0a}\x0a\x0afn\x20get'+'BoneMatrix'+'(width:\x20i3'+'2,\x20index:\x20'+'i32)\x20->\x20Bo'+'neMatrix\x20{'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'v\x20=\x20index\x20'+'/\x20width;\x0a\x20'+'\x20\x20\x20let\x20u\x20='+'\x20index\x20%\x20w'+'idth;\x0a\x0a\x20\x20\x20'+'\x20var\x20resul'+'t:\x20BoneMat'+'rix;\x0a\x20\x20\x20\x20r'+'esult.v1\x20='+'\x20textureLo'+'ad(texture'+'_poseMap,\x20'+'vec2i(u\x20+\x20'+'0,\x20v),\x200);'+'\x0a\x20\x20\x20\x20resul'+'t.v2\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20result.v3'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(u\x20'+'+\x202,\x20v),\x200'+');\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0afn\x20ge'+'tSkinMatri'+'x(indicesF'+'loat:\x20vec4'+'f,\x20weights'+':\x20vec4f)\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20width\x20=\x20i'+'32(texture'+'Dimensions'+'(texture_p'+'oseMap).x)'+';\x0a\x20\x20\x20\x20var\x20'+'indices\x20=\x20'+'vec4i(indi'+'cesFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'boneA\x20=\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.x);'+'\x0a\x20\x20\x20\x20let\x20b'+'oneB\x20=\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y);\x0a'+'\x20\x20\x20\x20let\x20bo'+'neC\x20=\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.z);\x0a\x20'+'\x20\x20\x20let\x20bon'+'eD\x20=\x20getBo'+'neMatrix(w'+'idth,\x20indi'+'ces.w);\x0a\x0a\x20'+'\x20\x20\x20//\x20...\x20'+'rest\x20of\x20ge'+'tSkinMatri'+'x\x20remains\x20'+'the\x20same\x20.'+'..\x0a\x20\x20\x20\x20let'+'\x20v1\x20=\x20bone'+'A.v1\x20*\x20wei'+('ghts.x\x20+\x20b'+'oneB.v1\x20*\x20'+'weights.y\x20'+'+\x20boneC.v1'+'\x20*\x20weights'+'.z\x20+\x20boneD'+'.v1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20let\x20v2\x20=\x20'+'boneA.v2\x20*'+'\x20weights.x'+'\x20+\x20boneB.v'+'2\x20*\x20weight'+'s.y\x20+\x20bone'+'C.v2\x20*\x20wei'+'ghts.z\x20+\x20b'+'oneD.v2\x20*\x20'+'weights.w;'+'\x0a\x20\x20\x20\x20let\x20v'+'3\x20=\x20boneA.'+'v3\x20*\x20weigh'+'ts.x\x20+\x20bon'+'eB.v3\x20*\x20we'+'ights.y\x20+\x20'+'boneC.v3\x20*'+'\x20weights.z'+'\x20+\x20boneD.v'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'let\x20one\x20=\x20'+'dot(weight'+'s,\x20vec4f(1'+'.0,\x201.0,\x201'+'.0,\x201.0));'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'ranspose\x20t'+'o\x204x4\x20matr'+'ix\x0a\x20\x20\x20\x20ret'+'urn\x20mat4x4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20v1.x,\x20v2.'+'x,\x20v3.x,\x200'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.y,\x20v2.y'+',\x20v3.y,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.z,\x20v2.z,'+'\x20v3.z,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.w,\x20v2.w,\x20'+'v3.w,\x20one\x0a'+'\x20\x20\x20\x20);\x0a}\x0a'),wI='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vLinear'+'Depth:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'floatAsUin'+'tPS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20Varyin'+'g\x20and\x20unif'+'orm\x20declar'+'ations\x0a\x20\x20\x20'+'\x20varying\x20v'+'ViewDir\x20:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20uniform\x20s'+'kyboxHighl'+'ightMultip'+'lier\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20SKY_CU'+'BEMAP\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cub'+'eMap\x20:\x20tex'+'ture_cube<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_cube'+'Map_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vWo'+'rldPos\x20:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20p'+'rojectedSk'+'ydomeCente'+'r\x20:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'env-atlas\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'phericalPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'envAtlasPS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_envAtlas_'+'sampler\x20:\x20'+'sampler;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20mipL'+'evel\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20@'+'fragment\x0a\x20'+'\x20\x20\x20fn\x20frag'+'mentMain(i'+'nput\x20:\x20Fra'+'gmentInput'+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20PREPA'+('SS_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20output'+'\x20linear\x20de'+'pth\x20during'+'\x20prepass\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20floa'+'t2vec4(vLi'+'nearDepth)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20linear'+'\x20:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20dir\x20'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KY_CUBEMAP'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+'\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+'nvDir\x20:\x20ve'+'c3f\x20=\x20norm'+'alize(inpu'+'t.vWorldPo'+'s\x20-\x20unifor'+'m.projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'\x20=\x20envDir\x20'+'*\x20uniform.'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir\x20='+'\x20input.vVi'+'ewDir;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'.x\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'tureSample'+'(texture_c'+'ubeMap,\x20te'+'xture_cube'+'Map_sample'+'r,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20env-atla'+'s\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ir\x20=\x20input'+'.vViewDir\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv\x20:\x20'+'vec2f\x20=\x20to'+'SphericalU'+'v(normaliz'+'e(dir));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20linea'+'r\x20=\x20{SKYBO'+'X_DECODE_F'+'NC}(textur'+'eSample(te'+'xture_envA'+'tlas,\x20text'+'ure_envAtl'+'as_sampler'+',\x20mapRough'+'nessUv(uv,')+('\x20uniform.m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ou'+'r\x20HDR\x20enco'+'des\x20values'+'\x20up\x20to\x2064,'+'\x20so\x20allow\x20'+'extra\x20brig'+'htness\x20for'+'\x20the\x20clipp'+'ed\x20values\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(any('+'linear\x20>=\x20'+'vec3f(64.0'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20uniform.'+'skyboxHigh'+'lightMulti'+'plier;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),EI='\x0a\x20\x20\x20\x20//\x20At'+'tribute\x0a\x20\x20'+'\x20\x20attribut'+'e\x20aPositio'+'n\x20:\x20vec4f;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20matrix'+'_view\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20uniform\x20m'+'atrix_proj'+'ectionSkyb'+'ox\x20:\x20mat4x'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vViewDir'+'\x20:\x20vec3f;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PREPASS_'+'PASS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20when'+'\x20skydome\x20r'+'enders\x20dep'+'th\x20during\x20'+'prepass,\x20g'+'enerate\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vLi'+'nearDepth:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vWorldP'+'os\x20:\x20vec3f'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input\x20'+':\x20VertexIn'+'put)\x20->\x20Ve'+'rtexOutput'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut\x20:\x20Verte'+'xOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20view\x20:\x20ma'+'t4x4f\x20=\x20un'+'iform.matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'worldPos\x20:'+'\x20vec4f\x20=\x20u'+'niform.mat'+'rix_model\x20'+'*\x20input.aP'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vW'+'orldPos\x20=\x20'+'worldPos.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'inear\x20dept'+'h\x20from\x20the'+'\x20worldPosi'+'tion,\x20see\x20'+'getLinearD'+'epth\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vL'+'inearDepth'+'\x20=\x20-(unifo'+('rm.matrix_'+'view\x20*\x20vec'+'4f(worldPo'+'s.xyz,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[0]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[1]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[2]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20uniform.m'+'atrix_proj'+'ectionSkyb'+'ox\x20*\x20(view'+'\x20*\x20input.a'+'Position);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'vViewDir\x20='+'\x20input.aPo'+'sition.xyz'+'\x20*\x20uniform'+'.cubeMapRo'+'tationMatr'+'ix;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20for\x20'+'infinite\x20s'+'kybox,\x20use'+'\x20negative\x20'+'gl_Positio'+'n.w\x20to\x20get'+'\x20positive\x20'+'linear\x20dep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-pcPositi'+'on.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Force\x20sk'+'ybox\x20to\x20fa'+'r\x20Z,\x20regar'+'dless\x20of\x20t'+'he\x20clip\x20pl'+'anes\x20on\x20th'+'e\x20camera\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Subtract\x20a'+'\x20tiny\x20fudg'+'e\x20factor\x20t'+'o\x20ensure\x20f'+'loating\x20po'+'int\x20errors'+'\x20don\x27t\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20st'+'ill\x20push\x20p'+'ixels\x20beyo'+'nd\x20far\x20Z.\x20'+'See:\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20http'+'s://commun'+'ity.khrono'+'s.org/t/sk'+'ybox-probl'+'em/61857\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.posit'+'ion.z\x20=\x20ou'+'tput.posit'+'ion.w\x20-\x201.'+'0e-7;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),bI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_specular'+':\x20vec3f;\x0a#'+'endif\x0a\x0afn\x20'+'getSpecula'+'rity()\x20{\x0a\x20'+'\x20\x20\x20var\x20spe'+'cularColor'+'\x20=\x20vec3f(1'+'.0,\x201.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'CONSTANT\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20unifo'+'rm.materia'+'l_specular'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_TE'+'XTURE\x0a\x20\x20\x20\x20'+'specularCo'+'lor\x20=\x20spec'+'ularColor\x20'+'*\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SPECU'+'LAR_TEXTUR'+'E_NAME},\x20{'+'STD_SPECUL'+'AR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_S'+'PECULAR_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SPECULA'+'R_VERTEX\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20satur'+'ate3(vVert'+'exColor.{S'+'TD_SPECULA'+'R_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dSpe'+'cularity\x20='+'\x20specularC'+'olor;\x0a}\x0a',AI='\x0a\x0afn\x20toSph'+'erical(dir'+':\x20vec3f)\x20-'+'>\x20vec2f\x20{\x0a'+'\x20\x20\x20\x20let\x20an'+'gle_xz\x20=\x20s'+'elect(0.0,'+'\x20atan2(dir'+'.x,\x20dir.z)'+',\x20any(dir.'+'xz\x20!=\x20vec2'+'f(0.0)));\x0a'+'\x20\x20\x20\x20return'+'\x20vec2f(ang'+'le_xz,\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0afn\x20toS'+'phericalUv'+'(dir\x20:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20c'+'onst\x20PI\x20:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20uv\x20:\x20ve'+'c2f\x20=\x20toSp'+'herical(di'+'r)\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x20vec'+'2f(0.5,\x200.'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y);\x0a'+'}\x0a',CI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'\x20\x20\x20\x20unifor'+'m\x20material'+'_speculari'+'tyFactor:\x20'+'f32;\x0a#endi'+'f\x0a\x0afn\x20getS'+'pecularity'+'Factor()\x20{'+'\x0a\x20\x20\x20\x20var\x20s'+'pecularity'+'Factor\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20speculari'+'tyFactor\x20='+'\x20speculari'+'tyFactor\x20*'+'\x20uniform.m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'ARITYFACTO'+'R_TEXTURE\x0a'+'\x20\x20\x20\x20specul'+'arityFacto'+'r\x20=\x20specul'+'arityFacto'+'r\x20*\x20textur'+'eSampleBia'+'s({STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_NAME},\x20'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_VE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_SPEC'+'ULARITYFAC'+'TOR_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dS'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor;\x0a}\x0a',PI='\x0afn\x20getSpo'+'tEffect(li'+'ghtSpotDir'+':\x20vec3f,\x20l'+'ightInnerC'+'oneAngle:\x20'+'f32,\x20light'+'OuterConeA'+'ngle:\x20f32,'+'\x20lightDirN'+'orm:\x20vec3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'osAngle:\x20f'+'32\x20=\x20dot(l'+'ightDirNor'+'m,\x20lightSp'+'otDir);\x0a\x20\x20'+'\x20\x20return\x20s'+'moothstep('+'lightOuter'+'ConeAngle,'+'\x20lightInne'+'rConeAngle'+',\x20cosAngle'+');\x0a}',MI='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2f(vUv0'+'.x,\x201.0\x20-\x20'+'vUv0.y);\x0a',DI='\x0a\x20\x20\x20\x20let\x20t'+'ileMask:\x20v'+'ec2f\x20=\x20ste'+'p(vMask,\x20v'+'ec2f(0.999'+'99));\x0a\x20\x20\x20\x20'+'let\x20tileSi'+'ze:\x20vec2f\x20'+'=\x200.5\x20*\x20(i'+'nnerOffset'+'.xy\x20+\x20inne'+'rOffset.zw'+');\x0a\x20\x20\x20\x20let'+'\x20tileScale'+':\x20vec2f\x20=\x20'+'vec2f(1.0)'+'\x20/\x20(vec2f('+'1.0)\x20-\x20til'+'eSize);\x0a\x20\x20'+'\x20\x20var\x20clam'+'pedUv:\x20vec'+'2f\x20=\x20mix(i'+'nnerOffset'+'.xy\x20*\x200.5,'+'\x20vec2f(1.0'+')\x20-\x20innerO'+'ffset.zw\x20*'+'\x200.5,\x20frac'+'t((vTiledU'+'v\x20-\x20tileSi'+'ze)\x20*\x20tile'+'Scale));\x0a\x20'+'\x20\x20\x20clamped'+'Uv\x20=\x20clamp'+'edUv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x20\x20\x20\x20'+'var\x20nineSl'+'icedUv:\x20ve'+'c2f\x20=\x20vUv0'+'\x20*\x20tileMas'+'k\x20+\x20clampe'+'dUv\x20*\x20(vec'+'2f(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x0a',II='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dAlpha'+':\x20f32\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20//'+'\x20all\x20passe'+'s\x20handle\x20o'+'pacity\x0a\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'!=\x20NONE\x20||'+'\x20defined(L'+'IT_ALPHA_T'+'EST)\x20||\x20de'+'fined(LIT_'+'ALPHA_TO_C'+'OVERAGE)\x20|'+'|\x20STD_OPAC'+'ITY_DITHER'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_OP'+'ACITY_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_opa'+'cityMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_opacityMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20globals'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dAlbedo:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'NormalW:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dSp'+'ecularity:'+'\x20vec3f\x20=\x20v'+'ec3f(0.0,\x20'+'0.0,\x200.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dGlossin'+'ess:\x20f32\x20='+'\x200.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_REFR'+'ACTION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dTransmi'+'ssion:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dTh'+'ickness:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'CENE_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SCREE'+'N_SIZE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20uSc'+'reenSize:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+('f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_TRANSFOR'+'MS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20ma'+'trix_viewP'+'rojection:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20matri'+'x_model:\x20m'+'at4x4f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20paral'+'lax\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_HEIGHT_'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'UvOffset:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'DIFFUSE_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_heightM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'heightMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'diffuseMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_diffus'+'eMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSEDETAI'+'L_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20norma'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_NORMAL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_normalMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20#ifdef'+'\x20STD_NORMA'+'LDETAIL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalDetai'+'lMap\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_no'+'rmalDetail'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_T'+'HICKNESS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'thicknessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_thic'+'knessMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_REFRACTIO'+'N_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_refract'+'ionMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'refraction'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20i'+'ridescence'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dIr'+'idescence:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20dIridesce'+'nceThickne'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'iridescenc'+'eThickness'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_iridescen'+'ceThicknes'+'sMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur')+('e_iridesce'+'nceMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_irides'+'cenceMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20ccSp'+'ecularity:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20ccGlossin'+'ess:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20ccNor'+'malW:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dAni'+'sotropy:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'Anisotropy'+'Rotation:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'arity\x20&\x20gl'+'ossiness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20she'+'en\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sSpecular'+'ity:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sGlossine'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'HEENGLOSS_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_s'+'heenGlossM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_sheenG'+'lossMapSam'+'pler\x20:\x20sam'+'pler;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_MET'+'ALNESS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dMet'+'alness:\x20f3'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dIor:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'metalnessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_metaln'+'essMapSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'rity\x20facto'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var<privat'+'e>\x20dSpecul'+'arityFacto'+'r:\x20f32;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rityFactor'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_specu'+'larityFact'+'orMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_SPECULAR'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_')+('specularMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20gloss\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_glossMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_glo'+'ssMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dAo:\x20f32;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_aoMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_AODETAIL_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoDet'+'ailMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_aoDeta'+'ilMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dEmission'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_EM'+'ISSIVE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_em'+'issiveMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_emissiv'+'eMapSample'+'r\x20:\x20sample')+('r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatG'+'lossMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_clear'+'CoatGlossM'+'apSampler\x20'+':\x20sampler;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_clearC'+'oatNormalM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatN'+'ormalMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20anisotr'+'opy\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_A'+'NISOTROPY_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aniso'+'tropyMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_anis'+'otropyMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20lightm'+'ap\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(STD_LIG'+'HTMAP)\x20||\x20')+('defined(ST'+'D_LIGHT_VE'+'RTEX_COLOR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dLi'+'ghtmap:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_LI'+'GHT_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_l'+'ightMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_light'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20front'+'\x20end\x20outpu'+'ts\x20to\x20lit\x20'+'shader\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22litShader'+'CorePS\x22\x0a'),LI='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fn\x20'+'getSpecula'+'rity()\x20{\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20vec3f'+'(1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'gloss\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22gl'+'ossPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22aoPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20emissi'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22emissiveP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clear'+'coat\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20')+('LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22clea'+'rCoatPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'GlossPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'NormalPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ani'+'sotropy\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x20&&\x20defin'+'ed(LIT_LIG'+'HTING)\x20&&\x20'+'defined(LI'+'T_GGX_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22an'+'isotropyPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(ST'+'D_LIGHTMAP'+')\x20||\x20defin'+'ed(STD_LIG'+'HT_VERTEX_'+'COLOR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22l'+'ightmapPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20fn\x20evalu'+'ateFronten'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20al'+'l\x20passes\x20h'+'andle\x20opac'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIT_'+'BLEND_TYPE'+'\x20!=\x20NONE\x20|'+'|\x20defined('+'LIT_ALPHA_'+'TEST)\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x20'+'||\x20STD_OPA'+'CITY_DITHE'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getOpaci'+'ty();\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_ALPHA'+'_TEST)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20alphaTe'+'st(dAlpha)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20opacityDi'+'ther(dAlph'+'a,\x200.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20d'+'Alpha;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20par')+('allax\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getP'+'arallax();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getA'+'lbedo();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_a'+'lbedo\x20=\x20dA'+'lbedo;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20normal\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getNorma'+'l();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_w'+'orldNormal'+'\x20=\x20dNormal'+'W;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'fraction\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etRefracti'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'transmissi'+'on\x20=\x20dTran'+'smission;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Thickness('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness\x20=\x20d'+'Thickness;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_D'+'ISPERSION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_di'+'spersion\x20='+'\x20uniform.m'+'aterial_di'+'spersion;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_IRIDESC'+'ENCE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getIrides'+'cence();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getIr'+'idescenceT'+'hickness()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x20=\x20'+'dIridescen'+'ce;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specularit'+'y\x20&\x20glossi'+'ness\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20sheen\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSheen()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'sheen_spec'+'ularity\x20=\x20'+'sSpeculari'+'ty;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getShe'+'enGlossine'+'ss();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_sheen_'+'gloss\x20=\x20sG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getMetaln'+'ess();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_metal'+'ness\x20=\x20dMe'+'talness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etIor();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+'\x20=\x20dIor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'ity\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULARITY_'+'FACTOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'yFactor();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'Factor\x20=\x20d'+'Specularit'+'yFactor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20gloss\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'y();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20dSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs')+('_gloss\x20=\x20d'+'Glossiness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ao\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getAO();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_ao\x20=\x20'+'dAo;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getEmissi'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_emis'+'sion\x20=\x20dEm'+'ission;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getClea'+'rCoat();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getCl'+'earCoatGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'ClearCoatN'+'ormal();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20=\x20ccS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_glos'+'s\x20=\x20ccGlos'+'siness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal\x20=\x20ccNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20anisotro'+'py\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getAnisot'+'ropy();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightM'+'ap();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmap\x20='+'\x20dLightmap'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_')+('LIGHTMAP_D'+'IR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmapD'+'ir\x20=\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a'),RI='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20tbnB'+'asis:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getTBN(t'+'angent:\x20ve'+'c3f,\x20binor'+'mal:\x20vec3f'+',\x20normal:\x20'+'vec3f)\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20TBN_TANGE'+'NTS\x20//\x20tan'+'gents\x20/\x20bi'+'normals\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dTB'+'N\x20=\x20mat3x3'+'f(normaliz'+'e(tangent)'+',\x20normaliz'+'e(binormal'+'),\x20normali'+'ze(normal)'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20define'+'d(TBN_DERI'+'VATIVES)\x20/'+'/\x20derivati'+'ves\x20based\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2f\x20=\x20{'+'lightingUv'+'};\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dp1:'+'\x20vec3f\x20=\x20d'+'pdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dp2:\x20vec3'+'f\x20=\x20dpdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20duv1'+':\x20vec2f\x20=\x20'+'dpdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20duv2:\x20'+'vec2f\x20=\x20dp'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20solve\x20th'+'e\x20linear\x20s'+'ystem\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20dp'+'2perp:\x20vec'+'3f\x20=\x20cross'+'(\x20dp2,\x20nor'+'mal\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20d'+'p1perp:\x20ve'+'c3f\x20=\x20cros'+'s(\x20normal,'+'\x20dp1\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'T:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.x\x20+\x20'+'dp1perp\x20*\x20'+'duv2.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'B:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+('dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+'ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20deno'+'m:\x20f32\x20=\x20m'+'ax(\x20dot(T,'+'\x20T),\x20dot(B'+',\x20B)\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'invmax:\x20f3'+'2\x20=\x20select'+'(uniform.t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20),\x200.0,\x20'+'denom\x20==\x200'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3x3f(T\x20'+'*\x20invmax,\x20'+'-B\x20*\x20invma'+'x,\x20normal\x20'+');\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20obj'+'ect\x20space\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20B:\x20'+'vec3f\x20=\x20cr'+'oss(normal'+',\x20vObjectS'+'paceUpW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20T:\x20vec3f'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dot(B,'+'B)\x20==\x200.0)'+'\x20//\x20deal\x20w'+'ith\x20case\x20w'+'hen\x20vObjec'+'tSpaceUpW\x20'+'normal\x20are'+'\x20parallel\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20majo'+'r:\x20f32\x20=\x20m'+'ax(max(nor'+'mal.x,\x20nor'+'mal.y),\x20no'+'rmal.z);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20B\x20=\x20c'+'ross(norma'+'l,\x20vec3f(0'+'.0,\x201.0,\x200'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x20if\x20(n'+'ormal.y\x20=='+'\x20major)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20B\x20'+'=\x20cross(no'+'rmal,\x20vec3'+'f(0.0,\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20//'+'\x20removed\x20\x22'+'if\x20(normal'+'.z\x20==\x20majo'+'r)\x22\x20assumi'+'ng\x20it\x27s\x20th'+'e\x20only\x20rem'+'aining\x20cas'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20B\x20=\x20cros'+'s(normal,\x20'+'vec3f(1.0,'+'\x200.0,\x200.0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3x3f(n'+'ormalize(T'+'),\x20normali'+'ze(B),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a}'),OI='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_th'+'ickness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getTh'+'ickness()\x20'+'{\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'THICKNESS_'+'CONSTANT\x0a\x20'+'\x20\x20\x20dThickn'+'ess\x20=\x20dThi'+'ckness\x20*\x20u'+'niform.mat'+'erial_thic'+'kness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_THICKN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x20d'+'Thickness\x20'+'*\x20textureS'+'ampleBias('+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_THICKNESS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_THIC'+'KNESS_VERT'+'EX\x0a\x20\x20\x20\x20dTh'+'ickness\x20=\x20'+'dThickness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',FI='\x0a#if\x20(TONE'+'MAP\x20==\x20NON'+'E)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingNo'+'nePS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20FILMIC\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingFilmi'+'cPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22tonemap'+'pingLinear'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20HEJL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gHejlPS\x22\x0a#'+'elif\x20TONEM'+'AP\x20==\x20ACES'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingAces'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20ACES2\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngAces2PS\x22'+'\x0a#elif\x20TON'+'EMAP\x20==\x20NE'+'UTRAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gNeutralPS'+'\x22\x0a#endif\x0a',NI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20t'+'A:\x20f32\x20=\x202'+'.51;\x0a\x20\x20\x20\x20l'+'et\x20tB:\x20f32'+'\x20=\x200.03;\x0a\x20'+'\x20\x20\x20let\x20tC:'+'\x20f32\x20=\x202.4'+'3;\x0a\x20\x20\x20\x20let'+'\x20tD:\x20f32\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20let\x20tE:\x20f'+'32\x20=\x200.14;'+'\x0a\x20\x20\x20\x20let\x20x'+':\x20vec3f\x20=\x20'+'color\x20*\x20un'+'iform.expo'+'sure;\x0a\x20\x20\x20\x20'+'return\x20(x\x20'+'*\x20(tA\x20*\x20x\x20'+'+\x20tB))\x20/\x20('+'x\x20*\x20(tC\x20*\x20'+'x\x20+\x20tD)\x20+\x20'+'tE);\x0a}\x0a',kI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0a//\x20AC'+'ES\x20approxi'+'mation\x20by\x20'+'Stephen\x20Hi'+'ll\x0a\x0a//\x20sRG'+'B\x20=>\x20XYZ\x20='+'>\x20D65_2_D6'+'0\x20=>\x20AP1\x20='+'>\x20RRT_SAT\x0a'+'const\x20ACES'+'InputMat:\x20'+'mat3x3f\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20vec3f(0'+'.59719,\x200.'+'35458,\x200.0'+'4823),\x0a\x20\x20\x20'+'\x20vec3f(0.0'+'7600,\x200.90'+'834,\x200.015'+'66),\x0a\x20\x20\x20\x20v'+'ec3f(0.028'+'40,\x200.1338'+'3,\x200.83777'+')\x0a);\x0a\x0a//\x20O'+'DT_SAT\x20=>\x20'+'XYZ\x20=>\x20D60'+'_2_D65\x20=>\x20'+'sRGB\x0aconst'+'\x20ACESOutpu'+'tMat:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20v'+'ec3f(\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367),\x0a\x20\x20\x20\x20'+'vec3f(-0.1'+'0208,\x20\x201.1'+'0813,\x20-0.0'+'0605),\x0a\x20\x20\x20'+'\x20vec3f(-0.'+'00327,\x20-0.'+'07276,\x20\x201.'+'07602)\x0a);\x0a'+'\x0afn\x20RRTAnd'+'ODTFit(v:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20a:\x20v'+'ec3f\x20=\x20v\x20*'+'\x20(v\x20+\x20vec3'+'f(0.024578'+'6))\x20-\x20vec3'+'f(0.000090'+'537);\x0a\x20\x20\x20\x20'+'let\x20b:\x20vec'+'3f\x20=\x20v\x20*\x20('+'vec3f(0.98'+'3729)\x20*\x20v\x20'+'+\x20vec3f(0.'+'4329510))\x20'+'+\x20vec3f(0.'+'238081);\x0a\x20'+'\x20\x20\x20return\x20'+'a\x20/\x20b;\x0a}\x0a\x0a'+'fn\x20toneMap'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'var\x20c:\x20vec'+'3f\x20=\x20color'+'\x20*\x20(unifor'+'m.exposure'+'\x20/\x200.6);\x0a\x20'+'\x20\x20\x20c\x20=\x20c\x20*'+'\x20ACESInput'+'Mat;\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20R'+'RT\x20and\x20ODT'+'\x0a\x20\x20\x20\x20c\x20=\x20R'+'RTAndODTFi'+'t(c);\x0a\x20\x20\x20\x20'+'c\x20=\x20c\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(c,\x20vec'+'3f(0.0),\x20v'+'ec3f(1.0))'+';\x0a}\x0a',UI='\x0aconst\x20A:\x20'+'f32\x20=\x200.15'+';\x0aconst\x20B:'+'\x20f32\x20=\x200.5'+'0;\x0aconst\x20C'+':\x20f32\x20=\x200.'+'10;\x0aconst\x20'+'D:\x20f32\x20=\x200'+'.20;\x0aconst'+'\x20E:\x20f32\x20=\x20'+'0.02;\x0acons'+'t\x20F:\x20f32\x20='+'\x200.30;\x0acon'+'st\x20W:\x20f32\x20'+'=\x2011.2;\x0a\x0au'+'niform\x20exp'+'osure:\x20f32'+';\x0a\x0afn\x20unch'+'arted2Tone'+'map(x:\x20vec'+'3f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20((x\x20'+'*\x20(A\x20*\x20x\x20+'+'\x20C\x20*\x20B)\x20+\x20'+'D\x20*\x20E)\x20/\x20('+'x\x20*\x20(A\x20*\x20x'+'\x20+\x20B)\x20+\x20D\x20'+'*\x20F))\x20-\x20ve'+'c3f(E\x20/\x20F)'+';\x0a}\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20c'+':\x20vec3f\x20=\x20'+'uncharted2'+'Tonemap(co'+'lor\x20*\x20unif'+'orm.exposu'+'re);\x0a\x20\x20\x20\x20l'+'et\x20whiteSc'+'ale:\x20vec3f'+'\x20=\x20vec3f(1'+'.0)\x20/\x20unch'+'arted2Tone'+'map(vec3f('+'W,\x20W,\x20W));'+'\x0a\x20\x20\x20\x20c\x20*=\x20'+'whiteScale'+';\x0a\x20\x20\x20\x20retu'+'rn\x20c;\x0a}\x0a',BI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20A'+':\x20f32\x20=\x200.'+'22;\x0a\x20\x20\x20\x20le'+'t\x20B:\x20f32\x20='+'\x200.3;\x0a\x20\x20\x20\x20'+'let\x20C:\x20f32'+'\x20=\x200.1;\x0a\x20\x20'+'\x20\x20let\x20D:\x20f'+'32\x20=\x200.2;\x0a'+'\x20\x20\x20\x20let\x20E:'+'\x20f32\x20=\x200.0'+'1;\x0a\x20\x20\x20\x20let'+'\x20F:\x20f32\x20=\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20Scl:\x20f3'+'2\x20=\x201.25;\x0a'+'\x0a\x20\x20\x20\x20let\x20a'+'djusted_co'+'lor\x20=\x20colo'+'r\x20*\x20unifor'+'m.exposure'+';\x0a\x20\x20\x20\x20let\x20'+'h\x20=\x20max(ve'+'c3f(0.0),\x20'+'adjusted_c'+'olor\x20-\x20vec'+'3f(0.004))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20(h\x20*\x20('+'(Scl\x20*\x20A)\x20'+'*\x20h\x20+\x20Scl\x20'+'*\x20vec3f(C\x20'+'*\x20B))\x20+\x20Sc'+'l\x20*\x20vec3f('+'D\x20*\x20E))\x20/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(h\x20*\x20(A\x20*'+'\x20h\x20+\x20vec3f'+'(B))\x20+\x20vec'+'3f(D\x20*\x20F))'+'\x20-\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20Scl\x20*\x20'+'vec3f(E\x20/\x20'+'F);\x0a}\x0a',zI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'uniform.ex'+'posure;\x0a}\x0a',VI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(col:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20var\x20col'+'or\x20=\x20col\x20*'+'\x20uniform.e'+'xposure;\x0a\x0a'+'\x20\x20\x20\x20let\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20let\x20des'+'aturation\x20'+'=\x200.15;\x0a\x0a\x20'+'\x20\x20\x20let\x20x\x20='+'\x20min(color'+'.r,\x20min(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20let\x20offs'+'et\x20=\x20selec'+'t(0.04,\x20x\x20'+'-\x206.25\x20*\x20x'+'\x20*\x20x,\x20x\x20<\x20'+'0.08);\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'vec3f(offs'+'et);\x0a\x0a\x20\x20\x20\x20'+'let\x20peak\x20='+'\x20max(color'+'.r,\x20max(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20if\x20(peak'+'\x20<\x20startCo'+'mpression)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'d\x20=\x201.0\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20let\x20newP'+'eak\x20=\x201.0\x20'+'-\x20d\x20*\x20d\x20/\x20'+'(peak\x20+\x20d\x20'+'-\x20startCom'+'pression);'+'\x0a\x20\x20\x20\x20color'+'\x20*=\x20newPea'+'k\x20/\x20peak;\x0a'+'\x0a\x20\x20\x20\x20let\x20g'+'\x20=\x201.0\x20-\x201'+'.0\x20/\x20(desa'+'turation\x20*'+'\x20(peak\x20-\x20n'+'ewPeak)\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ve'+'c3f(newPea'+'k),\x20vec3f('+'g));\x0a}\x0a',GI='\x0afn\x20toneMa'+'p(color:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a}\x0a',HI='\x0a#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20SCREE'+'NSPACE\x0a\x20\x20\x20'+'\x20uniform\x20p'+'rojectionF'+'lipY:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20evalWorl'+'dPosition('+'vertexPosi'+'tion:\x20vec3'+'f,\x20modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ve'+'c4f\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20local'+'Pos:\x20vec3f'+'\x20=\x20getLoca'+'lPosition('+'vertexPosi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20outer\x20and'+'\x20inner\x20ver'+'tices\x20are\x20'+'at\x20the\x20sam'+'e\x20position'+',\x20scale\x20bo'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20local'+'PosXZ:\x20vec'+'2f\x20=\x20local'+'Pos.xz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20loca'+'lPosXZ\x20=\x20l'+'ocalPosXZ\x20'+'*\x20uniform.'+'outerScale'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20offset'+'\x20inner\x20ver'+'tices\x20insi'+'de\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20(origi'+'nal\x20vertic'+'es\x20must\x20be'+'\x20in\x20[-1;1]'+'\x20range)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'positiveUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(vertex'+'Position.x'+'z,\x20vec2f(0'+'.0),\x20vec2f'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(-verte'+'xPosition.'+'xz,\x20vec2f('+'0.0),\x20vec2'+'f(1.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20loc'+'alPosXZ\x20=\x20'+'localPosXZ'+'\x20+\x20(-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy\x20+'+'\x20negativeU'+'nitOffset\x20'+'*\x20uniform.'+'innerOffse'+'t.zw)\x20*\x20ve'+'rtex_texCo'+'ord0.xy;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'iledUvGlob'+'al\x20=\x20(loca'+'lPosXZ\x20-\x20u'+'niform.out'+'erScale\x20+\x20'+'uniform.in'+'nerOffset.'+'xy)\x20*\x20-0.5'+'\x20+\x201.0;\x20//'+'\x20uv\x20=\x20loca'+'l\x20pos\x20-\x20in'+('ner\x20corner'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPosXZ'+'\x20=\x20localPo'+'sXZ\x20*\x20-0.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20='+'\x20vec3f(loc'+'alPosXZ.x,'+'\x20localPosX'+'Z.y,\x20local'+'Pos.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20var\x20po'+'sW:\x20vec4f\x20'+'=\x20modelMat'+'rix\x20*\x20vec4'+'f(localPos'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'posW\x20=\x20vec'+'4f(posW.xy'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20posW'+';\x0a}\x0a\x0afn\x20ge'+'tPosition('+')\x20->\x20vec4f'+'\x20{\x0a\x0a\x20\x20\x20\x20dM'+'odelMatrix'+'\x20=\x20getMode'+'lMatrix();'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'posW:\x20vec4'+'f\x20=\x20evalWo'+'rldPositio'+'n(vertex_p'+'osition.xy'+'z,\x20dModelM'+'atrix);\x0a\x20\x20'+'\x20\x20dPositio'+'nW\x20=\x20posW.'+'xyz;\x0a\x0a\x20\x20\x20\x20'+'var\x20screen'+'Pos:\x20vec4f'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20UV1LAYO'+'UT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20vec4f(v'+'ertex_texC'+'oord1.xy\x20*'+'\x202.0\x20-\x201.0'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SCR'+'EENSPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20posW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20unif'+'orm.projec'+'tionFlipY;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos\x20=\x20u'+'niform.mat'+'rix_viewPr'+'ojection\x20*'+'\x20posW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20snap\x20ve'+'rtex\x20to\x20a\x20'+'pixel\x20boun'+'dary\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x200.'+'5)\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20screenPo'+'s.xy\x20*=\x20un'+'iforms.uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'niforms.uS'+'creenSize.'+'zw;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x202.0'+')\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20scr'+'eenPos;\x0a}\x0a'+'\x0afn\x20getWor'+'ldPosition'+'()\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20dPosi'+'tionW;\x0a}\x0a'),WI='\x0a\x0a\x20\x20\x20\x20attr'+'ibute\x20vert'+'ex_positio'+'n:\x20vec4f;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'rix_model:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20morph_te'+'x_params:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20attri'+'bute\x20morph'+'_vertex_id'+':\x20u32;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etTextureM'+'orphCoords'+'()\x20->\x20vec2'+'i\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'turn\x20morph'+'_vertex_id'+'\x20into\x20int\x20'+'grid\x20coord'+'inates\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'Size:\x20vec2'+'i\x20=\x20vec2i('+'uniform.mo'+'rph_tex_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphGr'+'idV:\x20i32\x20='+'\x20i32(morph'+'_vertex_id'+')\x20/\x20textur'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20morph'+'GridU:\x20i32'+'\x20=\x20i32(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'rphGridV\x20='+'\x20textureSi'+'ze.y\x20-\x20mor'+'phGridV\x20-\x20'+'1;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec2i(mo'+'rphGridU,\x20'+'morphGridV'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_PO'+'SITION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20aabbSiz'+'e:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20aabbMi'+'n:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'morphPosit'+'ionTex:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'sitionTex:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+('if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inBatchVS\x22'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fn\x20getMode'+'lMatrix()\x20'+'->\x20mat4x4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(SKIN'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etModelMat'+'rix()\x20->\x20m'+'at4x4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20un'+'iform.matr'+'ix_model\x20*'+'\x20getSkinMa'+'trix(verte'+'x_boneIndi'+'ces,\x20verte'+'x_boneWeig'+'hts);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(INSTA'+'NCING)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22tran'+'sformInsta'+'ncingVS\x22\x0a\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'n\x20getModel'+'Matrix()\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'fn\x20getLoca'+'lPosition('+'vertexPosi'+'tion:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20loc'+'alPos:\x20vec'+'3f\x20=\x20verte'+'xPosition;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphUV:'+'\x20vec2i\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MORPHI'+'NG_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Use\x20'+'textureLoa'+'d\x20instead\x20'+'of\x20texelFe'+'tch.\x20Coord'+'inates\x20mus'+'t\x20be\x20integ'+'er\x20type\x20(v'+'ec2i).\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20WGSL'+'\x20requires\x20'+'explicit\x20t'+'ype\x20conver'+'sion\x20for\x20v'+'ectors.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Div'+'ision\x20by\x20f'+'loat\x20liter')+('al\x20ensures'+'\x20floating\x20'+'point\x20divi'+'sion.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hPos:\x20vec3'+'f\x20=\x20vec3f('+'textureLoa'+'d(morphPos'+'itionTex,\x20'+'morphUV,\x200'+').xyz)\x20/\x206'+'5535.0\x20*\x20u'+'niform.aab'+'bSize\x20+\x20un'+'iform.aabb'+'Min;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Use\x20text'+'ureLoad\x20in'+'stead\x20of\x20t'+'exelFetch.'+'\x20Coordinat'+'es\x20must\x20be'+'\x20integer\x20t'+'ype\x20(vec2i'+').\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'s:\x20vec3f\x20='+'\x20textureLo'+'ad(morphPo'+'sitionTex,'+'\x20morphUV,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20+'+'=\x20morphPos'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20localP'+'os;\x0a\x20\x20\x20\x20}\x0a'),$I='\x0a\x0aattribut'+'e\x20instance'+'_line1:\x20ve'+'c4f;\x0aattri'+'bute\x20insta'+'nce_line2:'+'\x20vec4f;\x0aat'+'tribute\x20in'+'stance_lin'+'e3:\x20vec4f;'+'\x0aattribute'+'\x20instance_'+'line4:\x20vec'+'4f;\x0a\x0afn\x20ge'+'tModelMatr'+'ix()\x20->\x20ma'+'t4x4f\x20{\x0a\x20\x20'+'\x20\x20return\x20u'+'niform.mat'+'rix_model\x20'+'*\x20mat4x4f('+'instance_l'+'ine1,\x20inst'+'ance_line2'+',\x20instance'+'_line3,\x20in'+'stance_lin'+'e4);\x0a}\x0a',XI='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_refrac'+'tion:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getRefra'+'ction()\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction:\x20'+'f32\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20refractio'+'n\x20=\x20unifor'+'m.material'+'_refractio'+'n;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'REFRACTION'+'_TEXTURE\x0a\x20'+'\x20\x20\x20refract'+'ion\x20=\x20refr'+'action\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_REFRACTI'+'ON_TEXTURE'+'_NAME},\x20{S'+'TD_REFRACT'+'ION_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_REFRACTIO'+'N_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_REFRACTIO'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_VE'+'RTEX\x0a\x20\x20\x20\x20r'+'efraction\x20'+'=\x20refracti'+'on\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_REFRACTI'+'ON_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dTr'+'ansmission'+'\x20=\x20refract'+'ion;\x0a}\x0a',qI='\x0auniform\x20t'+'woSidedLig'+'htingNegSc'+'aleFactor:'+'\x20f32;\x0a\x0afn\x20'+'handleTwoS'+'idedLighti'+'ng()\x20{\x0a\x20\x20\x20'+'\x20dTBN[2]\x20='+'\x20dTBN[2]\x20*'+'\x20select(-u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20p'+'cFrontFaci'+'ng);\x0a}\x0a',jI='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20fn\x20getU'+'v0()\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20uv'+'\x20=\x20vertex_'+'position.x'+'z;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20offse'+'t\x20inner\x20ve'+'rtices\x20ins'+'ide\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2f(0'+'.0,\x200.0),\x20'+'vec2f(1.0,'+'\x201.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset\x20='+'\x20clamp(-ve'+'rtex_posit'+'ion.xz,\x20ve'+'c2f(0.0,\x200'+'.0),\x20vec2f'+'(1.0,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uv\x20=\x20uv\x20'+'+\x20((-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy)\x20'+'+\x20(negativ'+'eUnitOffse'+'t\x20*\x20unifor'+'m.innerOff'+'set.zw))\x20*'+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x20ve'+'c2f(0.5,\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20uniform'+'.atlasRect'+'.zw\x20+\x20unif'+'orm.atlasR'+'ect.xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dMa'+'skGlobal\x20='+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20uv'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20fn'+'\x20getUv0()\x20'+'->\x20vec2f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a',YI='\x0afn\x20getUv1'+'()\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20verte'+'x_texCoord'+'1;\x0a}\x0a',KI='\x0aoutput.vU'+'V{TRANSFOR'+'M_UV_{i}}_'+'{TRANSFORM'+'_ID_{i}}\x20='+'\x20vec2f(\x0a\x20\x20'+'\x20\x20dot(vec3'+'f(uv{TRANS'+'FORM_UV_{i'+'}},\x201),\x20un'+'iform.{TRA'+'NSFORM_NAM'+'E_{i}}0),\x0a'+'\x20\x20\x20\x20dot(ve'+'c3f(uv{TRA'+'NSFORM_UV_'+'{i}},\x201),\x20'+'uniform.{T'+'RANSFORM_N'+'AME_{i}}1)'+'\x0a);\x0a',ZI='\x0a\x20\x20\x20\x20unifo'+'rm\x20{TRANSF'+'ORM_NAME_{'+'i}}0:\x20vec3'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20{TRAN'+'SFORM_NAME'+'_{i}}1:\x20ve'+'c3f;\x0a',QI='\x0afn\x20getVie'+'wDir()\x20{\x0a\x20'+'\x20\x20\x20dViewDi'+'rW\x20=\x20norma'+'lize(unifo'+'rm.view_po'+'sition\x20-\x20v'+'PositionW)'+';\x0a}\x0a',JI={'alphaTestPS':Q2,'ambientPS':J2,'anisotropyPS':eM,'aoPS':tM,'aoDiffuseOccPS':sM,'aoSpecOccPS':iM,'bakeDirLmEndPS':rM,'bakeLmEndPS':aM,'basePS':nM,'baseNineSlicedPS':oM,'baseNineSlicedTiledPS':lM,'bayerPS':cM,'blurVSMPS':hM,'clearCoatPS':dM,'clearCoatGlossPS':fM,'clearCoatNormalPS':uM,'clusteredLightCookiesPS':mM,'clusteredLightShadowsPS':_M,'clusteredLightUtilsPS':pM,'clusteredLightPS':gM,'combinePS':SM,'cookieBlit2DPS':yM,'cookieBlitCubePS':vM,'cookieBlitVS':xM,'cubeMapProjectPS':TM,'cubeMapRotatePS':wM,'debugOutputPS':EM,'debugProcessFrontendPS':bM,'detailModesPS':CM,'diffusePS':PM,'decodePS':AM,'emissivePS':MM,'encodePS':DM,'endPS':IM,'envAtlasPS':LM,'envProcPS':RM,'falloffInvSquaredPS':OM,'falloffLinearPS':FM,'floatAsUintPS':NM,'fogPS':kM,'fresnelSchlickPS':UM,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':BM,'gammaPS':zM,'glossPS':VM,'gsplatCenterVS':GM,'gsplatCornerVS':QM,'gsplatColorVS':HM,'gsplatCommonVS':WM,'gsplatCompressedDataVS':$M,'gsplatCompressedSHVS':XM,'gsplatEvalSHVS':qM,'gsplatQuatToMat3VS':jM,'gsplatSogsColorVS':YM,'gsplatSogsDataVS':KM,'gsplatSogsSHVS':ZM,'gsplatDataVS':JM,'gsplatOutputVS':eD,'gsplatPS':tD,'gsplatSHVS':sD,'gsplatSourceVS':iD,'gsplatVS':rD,'quadVS':aD,'indirectCoreCS':nD,'immediateLinePS':oD,'immediateLineVS':lD,'iridescenceDiffractionPS':cD,'iridescencePS':hD,'iridescenceThicknessPS':dD,'iorPS':fD,'lightDeclarationPS':uD,'lightDiffuseLambertPS':pD,'lightDirPointPS':mD,'lightEvaluationPS':_D,'lightFunctionLightPS':gD,'lightFunctionShadowPS':SD,'lightingPS':yD,'lightmapAddPS':vD,'lightmapPS':xD,'lightSpecularAnisoGGXPS':TD,'lightSpecularBlinnPS':wD,'lightSheenPS':ED,'linearizeDepthPS':bD,'litForwardBackendPS':AD,'litForwardDeclarationPS':CD,'litForwardMainPS':PD,'litForwardPostCodePS':MD,'litForwardPreCodePS':DD,'litMainPS':ID,'litMainVS':LD,'litOtherMainPS':RD,'litShaderArgsPS':OD,'litShaderCorePS':FD,'litShadowMainPS':ND,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':kD,'metalnessPS':UD,'metalnessModulatePS':zD,'morphPS':VD,'morphVS':GD,'msdfPS':BD,'msdfVS':HD,'normalVS':WD,'normalCoreVS':$D,'normalMapPS':XD,'opacityPS':qD,'opacityDitherPS':jD,'outputPS':YD,'outputAlphaPS':KD,'outputTex2DPS':ZD,'sheenPS':QD,'sheenGlossPS':JD,'parallaxPS':eI,'pickPS':tI,'reflDirPS':sI,'reflDirAnisoPS':iI,'reflectionCCPS':rI,'reflectionCubePS':aI,'reflectionEnvHQPS':nI,'reflectionEnvPS':oI,'reflectionSpherePS':lI,'reflectionSheenPS':cI,'refractionCubePS':hI,'refractionDynamicPS':dI,'reprojectPS':fI,'reprojectVS':uI,'screenDepthPS':pI,'shadowCascadesPS':mI,'shadowEVSMPS':_I,'shadowPCF1PS':gI,'shadowPCF3PS':SI,'shadowPCF5PS':yI,'shadowSoftPS':vI,'skinBatchVS':xI,'skinVS':TI,'skyboxPS':wI,'skyboxVS':EI,'specularPS':bI,'sphericalPS':AI,'specularityFactorPS':CI,'spotPS':PI,'startNineSlicedPS':MI,'startNineSlicedTiledPS':DI,'stdDeclarationPS':II,'stdFrontEndPS':LI,'TBNPS':RI,'thicknessPS':OI,'tonemappingPS':FI,'tonemappingAcesPS':NI,'tonemappingAces2PS':kI,'tonemappingFilmicPS':UI,'tonemappingHejlPS':BI,'tonemappingLinearPS':zI,'tonemappingNeutralPS':VI,'tonemappingNonePS':GI,'transformVS':HI,'transformCoreVS':WI,'transformInstancingVS':$I,'transmissionPS':XI,'twoSidedLightingPS':qI,'uv0VS':jI,'uv1VS':YI,'uvTransformVS':KI,'uvTransformUniformsPS':ZI,'viewDirPS':QI,'webgpuPS':$y,'webgpuVS':Xy},ea=class ea extends me{constructor(_0x174ad2){super(),h(this,'_batcher',null),h(this,'_destroyRe'+'quested',!(-0x467*-0x7+-0x128f*-0x1+-0x315f)),h(this,'_inFrameUp'+'date',!(0x11*-0x12d+-0x5*0x14b+0xd*0x209)),h(this,'_libraries'+'Loaded',!(-0x1*-0x1ed6+-0x1*0x1214+-0xcc1)),h(this,'_fillMode',Tg),h(this,'_resolutio'+'nMode',MC),h(this,'_allowResi'+'ze',!(0x21a9+-0x4*0x2d7+-0x164d)),h(this,'_skyboxAss'+'et',null),h(this,'_soundMana'+'ger'),h(this,'_visibilit'+'yChangeHan'+'dler'),h(this,'_entityInd'+'ex',{}),h(this,'_inTools',!(0x2668+-0x9fb*0x3+-0x876)),h(this,'_scriptPre'+'fix',''),h(this,'_time',0x272*0xe+-0x4c9*0x1+0x7*-0x435),h(this,'enableBund'+'les',typeof TextDecoder<'u'),h(this,'frameReque'+'stId'),h(this,'timeScale',-0xa6b*-0x2+-0x59*-0x37+0x2*-0x13fa),h(this,'maxDeltaTi'+'me',0x593+0x1*0xde7+-0x137a+0.1),h(this,'frame',0x261f+0x22*0x8e+0x1d*-0x1f7),h(this,'frameGraph',new DC()),h(this,'renderer'),h(this,'scriptsOrd'+'er',[]),h(this,'stats'),h(this,'autoRender',!(-0xa2b+-0x1c5*-0x9+-0x5c2)),h(this,'renderNext'+'Frame',!(-0xd3e+-0x20ee+0x2e2d)),h(this,'graphicsDe'+'vice'),h(this,'root'),h(this,'scene'),h(this,'lightmappe'+'r',null),h(this,'loader',new Cn(this)),h(this,'assets'),h(this,'bundles'),h(this,'scenes',new qC(this)),h(this,'scripts',new HC(this)),h(this,'systems',new BC()),h(this,'i18n',new wa(this)),h(this,'keyboard',null),h(this,'mouse',null),h(this,'touch',null),h(this,'gamepads',null),h(this,'elementInp'+'ut',null),h(this,'xr',null),((hn==null?void(0x997+0x56*-0x61+-0x349*-0x7):hn['indexOf']('$'))<0x5*-0x577+0x5c3*-0x6+0x3de5&&w['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+hn+'\x20'+$S),ea['_applicati'+'ons'][_0x174ad2['id']]=this,_u(this),this['root']=new lt(),this['root']['_enabledIn'+'Hierarchy']=!(-0x129a+-0x9f8+0x1c92));}['init'](_0x3eb1bf){const {assetPrefix:_0x32ea4e,batchManager:_0x552576,componentSystems:_0x848f0,elementInput:_0x8a6818,gamepads:_0x389c22,graphicsDevice:_0x2f5fa9,keyboard:_0x345f62,lightmapper:_0x97795e,mouse:_0x3e9d23,resourceHandlers:_0x24364d,scriptsOrder:_0x48bb02,scriptPrefix:_0x5a61ec,soundManager:_0x269dca,touch:_0x48b465,xr:_0x5d83af}=_0x3eb1bf;w['assert'](_0x2f5fa9,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x2f5fa9,Pe['get'](_0x2f5fa9,Fe)['add'](Z2),Pe['get'](_0x2f5fa9,it)['add'](JI),this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new jC(_0x2f5fa9),this['_soundMana'+'ger']=_0x269dca,this['scene']=new Et(_0x2f5fa9),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new mn(this['loader']),_0x32ea4e&&(this['assets']['prefix']=_0x32ea4e),this['bundles']=new UC(this['assets']),this['scriptsOrd'+'er']=_0x48bb02||[],this['defaultLay'+'erWorld']=new Ot({'name':'World','id':er}),this['defaultLay'+'erDepth']=new Ot({'name':'Depth','id':ps,'enabled':!(-0x24b0+-0x227f*0x1+-0x430*-0x11),'opaqueSortMode':Yc}),this['defaultLay'+'erSkybox']=new Ot({'name':'Skybox','id':Kp,'opaqueSortMode':Yc}),this['defaultLay'+'erUi']=new Ot({'name':'UI','id':Il,'transparentSortMode':jw}),this['defaultLay'+'erImmediat'+'e']=new Ot({'name':'Immediate','id':Zp,'opaqueSortMode':Yc});const _0x59abef=new du('default');_0x59abef['pushOpaque'](this['defaultLay'+'erWorld']),_0x59abef['pushOpaque'](this['defaultLay'+'erDepth']),_0x59abef['pushOpaque'](this['defaultLay'+'erSkybox']),_0x59abef['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0x59abef['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0x59abef['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0x59abef['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0x59abef,ia['createPlac'+'eholder'](_0x2f5fa9),this['renderer']=new fl(_0x2f5fa9),this['renderer']['scene']=this['scene'],_0x97795e&&(this['lightmappe'+'r']=new _0x97795e(_0x2f5fa9,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0x552576&&(this['_batcher']=new _0x552576(_0x2f5fa9,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x345f62||null,this['mouse']=_0x3e9d23||null,this['touch']=_0x48b465||null,this['gamepads']=_0x389c22||null,_0x8a6818&&(this['elementInp'+'ut']=_0x8a6818,this['elementInp'+'ut']['app']=this),this['xr']=_0x5d83af?new _0x5d83af(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x5a61ec||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new VC(this)),_0x24364d['forEach'](_0x46e09e=>{const _0x34963c=new _0x46e09e(this);this['loader']['addHandler'](_0x34963c['handlerTyp'+'e'],_0x34963c);}),_0x848f0['forEach'](_0x5489a6=>{this['systems']['add'](new _0x5489a6(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(0x3*0xf5+-0x1040+0xd61)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x1*-0x17e9+0x16*-0xb0+0x270a))):document['mozHidden']!==void(0x105f+-0x1495+-0x1*-0x436)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x44b*-0x2+0x1bb4+-0x131d))):document['msHidden']!==void(-0xfa5+-0x51*0x68+0x308d)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x6be+0x2445+-0x1d86))):document['webkitHidd'+'en']!==void(-0x12*0xe0+-0x8+0xfc8)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x461+0x1*0xf4c+-0x13ac)))),this['tick']=eL(this);}static['getApplica'+'tion'](_0x3eb3f4){return _0x3eb3f4?ea['_applicati'+'ons'][_0x3eb3f4]:Ms();}['_initDefau'+'ltMaterial'](){const _0x45fc55=new Ut();_0x45fc55['name']='Default\x20Ma'+'terial',xE(this['graphicsDe'+'vice'],_0x45fc55);}['_initProgr'+'amLibrary'](){const _0x3f59c8=new qA(this['graphicsDe'+'vice'],new Ut());cE(this['graphicsDe'+'vice'],_0x3f59c8);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return w['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x48c0e1,_0x5dd8a1){ot['get'](_0x48c0e1,(_0x3d4418,_0x4e5506)=>{if(_0x3d4418){_0x5dd8a1(_0x3d4418);return;}const _0x133f7b=_0x4e5506['applicatio'+'n_properti'+'es'],_0x2d0c2d=_0x4e5506['scenes'],_0x5dbebd=_0x4e5506['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x133f7b,_0x15dfa7=>{this['_parseScen'+'es'](_0x2d0c2d),this['_parseAsse'+'ts'](_0x5dbebd),_0x5dd8a1(_0x15dfa7||null);});});}['preload'](_0x2887fc){this['fire']('preload:st'+'art');const _0x189c54=this['assets']['list']({'preload':!(-0xf29+0x41*0xb+-0x2*-0x62f)});if(_0x189c54['length']===0x25c9+0x16d9+-0x3ca2){this['fire']('preload:en'+'d'),_0x2887fc();return;}let _0x326fff=-0x13*-0xad+0x9ec+-0x16c3;const _0x1a1715=()=>{_0x326fff++,this['fire']('preload:pr'+'ogress',_0x326fff/_0x189c54['length']),_0x326fff===_0x189c54['length']&&(this['fire']('preload:en'+'d'),_0x2887fc());};_0x189c54['forEach'](_0x588777=>{_0x588777['loaded']?_0x1a1715():(_0x588777['once']('load',_0x1a1715),_0x588777['once']('error',_0x1a1715),this['assets']['load'](_0x588777));});}['_preloadSc'+'ripts'](_0x40c3de,_0x1ac2b4){_0x1ac2b4();}['_parseAppl'+'icationPro'+'perties'](_0x55e774,_0x13ebba){if(typeof _0x55e774['maxAssetRe'+'tries']=='number'&&_0x55e774['maxAssetRe'+'tries']>0x2*0x6a5+0x210+-0x106*0xf&&this['loader']['enableRetr'+'y'](_0x55e774['maxAssetRe'+'tries']),_0x55e774['useDeviceP'+'ixelRatio']||(_0x55e774['useDeviceP'+'ixelRatio']=_0x55e774['use_device'+'_pixel_rat'+'io']),_0x55e774['resolution'+'Mode']||(_0x55e774['resolution'+'Mode']=_0x55e774['resolution'+'_mode']),_0x55e774['fillMode']||(_0x55e774['fillMode']=_0x55e774['fill_mode']),this['_width']=_0x55e774['width'],this['_height']=_0x55e774['height'],_0x55e774['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x55e774['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x55e774['fillMode'],this['_width'],this['_height']),_0x55e774['layers']&&_0x55e774['layerOrder']){const _0x4da386=new du('applicatio'+'n'),_0x2a74a3={};for(const _0xcaa45e in _0x55e774['layers']){const _0x4449e9=_0x55e774['layers'][_0xcaa45e];_0x4449e9['id']=parseInt(_0xcaa45e,0x2b3*-0x4+-0x5*-0x18d+0x315),_0x4449e9['enabled']=_0x4449e9['id']!==ps,_0x2a74a3[_0xcaa45e]=new Ot(_0x4449e9);}for(let _0x2bb9d7=-0xee0+0x1fd5+-0x10f5*0x1,_0x307664=_0x55e774['layerOrder']['length'];_0x2bb9d7<_0x307664;_0x2bb9d7++){const _0x3c6d6a=_0x55e774['layerOrder'][_0x2bb9d7],_0x512cb4=_0x2a74a3[_0x3c6d6a['layer']];_0x512cb4&&(_0x3c6d6a['transparen'+'t']?_0x4da386['pushTransp'+'arent'](_0x512cb4):_0x4da386['pushOpaque'](_0x512cb4),_0x4da386['subLayerEn'+'abled'][_0x2bb9d7]=_0x3c6d6a['enabled']);}this['scene']['layers']=_0x4da386;}if(_0x55e774['batchGroup'+'s']){const _0x5d81de=this['batcher'];if(_0x5d81de)for(let _0x31113e=0x2*0x47+0x1c40+-0x1cce,_0x5655ca=_0x55e774['batchGroup'+'s']['length'];_0x31113e<_0x5655ca;_0x31113e++){const _0x1478c4=_0x55e774['batchGroup'+'s'][_0x31113e];_0x5d81de['addGroup'](_0x1478c4['name'],_0x1478c4['dynamic'],_0x1478c4['maxAabbSiz'+'e'],_0x1478c4['id'],_0x1478c4['layers']);}}_0x55e774['i18nAssets']&&(this['i18n']['assets']=_0x55e774['i18nAssets']),this['_loadLibra'+'ries'](_0x55e774['libraries'],_0x13ebba);}['_loadLibra'+'ries'](_0x5a2087,_0x2ec6f0){const _0x259376=_0x5a2087['length'];let _0x3713c9=_0x259376;const _0x5872ca=/^https?:\/\//;if(_0x259376){const _0x51a9d1=(_0x56ddbd,_0x190368)=>{_0x3713c9--,_0x56ddbd?_0x2ec6f0(_0x56ddbd):_0x3713c9===0x2a3*-0x7+-0x16ed+0x14b1*0x2&&(this['onLibrarie'+'sLoaded'](),_0x2ec6f0(null));};for(let _0x444c54=0x27e*-0x4+-0x3cb*0x5+0x1cef;_0x444c54<_0x259376;++_0x444c54){let _0x52a2fe=_0x5a2087[_0x444c54];!_0x5872ca['test'](_0x52a2fe['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x52a2fe=xe['join'](this['_scriptPre'+'fix'],_0x52a2fe)),this['loader']['load'](_0x52a2fe,'script',_0x51a9d1);}}else this['onLibrarie'+'sLoaded'](),_0x2ec6f0(null);}['_parseScen'+'es'](_0x4717c5){if(_0x4717c5){for(let _0x1fdc8c=-0xa81*0x1+0x8a7+-0x1da*-0x1;_0x1fdc8c<_0x4717c5['length'];_0x1fdc8c++)this['scenes']['add'](_0x4717c5[_0x1fdc8c]['name'],_0x4717c5[_0x1fdc8c]['url']);}}['_parseAsse'+'ts'](_0x79c5b9){const _0x21ffc3=[],_0x15bf15={},_0x470243={};for(let _0x3e5110=0x3*-0x291+-0xa56*-0x1+-0x2a3;_0x3e5110<this['scriptsOrd'+'er']['length'];_0x3e5110++){const _0xe3dd00=this['scriptsOrd'+'er'][_0x3e5110];_0x79c5b9[_0xe3dd00]&&(_0x15bf15[_0xe3dd00]=!(0x7be+-0x35*-0x7e+0x6c4*-0x5),_0x21ffc3['push'](_0x79c5b9[_0xe3dd00]));}if(this['enableBund'+'les']){for(const _0x57ffa1 in _0x79c5b9)_0x79c5b9[_0x57ffa1]['type']==='bundle'&&(_0x470243[_0x57ffa1]=!(-0x3*-0x1+-0x15f*0x16+0x1e27),_0x21ffc3['push'](_0x79c5b9[_0x57ffa1]));}for(const _0x6842fc in _0x79c5b9)_0x15bf15[_0x6842fc]||_0x470243[_0x6842fc]||_0x21ffc3['push'](_0x79c5b9[_0x6842fc]);for(let _0x4501be=0xf5*0xa+0x351*-0x3+0x61;_0x4501be<_0x21ffc3['length'];_0x4501be++){const _0x31b9ba=_0x21ffc3[_0x4501be],_0x352573=new pe(_0x31b9ba['name'],_0x31b9ba['type'],_0x31b9ba['file'],_0x31b9ba['data']);if(_0x352573['id']=parseInt(_0x31b9ba['id'],0x206e+-0x2c5*-0x5+-0x2e3d),_0x352573['preload']=_0x31b9ba['preload']?_0x31b9ba['preload']:!(-0x17*-0x17b+0x10ee+-0x5aa*0x9),_0x352573['loaded']=_0x31b9ba['type']==='script'&&_0x31b9ba['data']&&_0x31b9ba['data']['loadingTyp'+'e']>-0x1*-0x1949+0xc2*-0x2f+0x1*0xa55,_0x352573['tags']['add'](_0x31b9ba['tags']),_0x31b9ba['i18n']){for(const _0xbc32eb in _0x31b9ba['i18n'])_0x352573['addLocaliz'+'edAssetId'](_0xbc32eb,_0x31b9ba['i18n'][_0xbc32eb]);}this['assets']['add'](_0x352573);}}['start'](){w['call'](()=>{w['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(-0x125+-0x8ff+0xec*0xb);}),this['frame']=0x167c+-0xaa*-0x11+0x83*-0x42,this['fire']('start',{'timestamp':de(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0xff3ec9){this['controller']&&this['controller']['update'](_0xff3ec9),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x135de9){this['frame']++,this['graphicsDe'+'vice']['update'](),this['stats']['frame']['updateStar'+'t']=de(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x135de9),this['systems']['fire']('animationU'+'pdate',_0x135de9),this['systems']['fire']('postUpdate',_0x135de9),this['fire']('update',_0x135de9),this['inputUpdat'+'e'](_0x135de9),this['stats']['frame']['updateTime']=de()-this['stats']['frame']['updateStar'+'t'];}['render'](){this['updateCanv'+'asSize'](),this['graphicsDe'+'vice']['frameStart'](),this['stats']['frame']['renderStar'+'t']=de(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),fl['_skipRende'+'rCounter']=-0x1547+-0x5*0x649+0x4*0xd2d,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=de()-this['stats']['frame']['renderStar'+'t'],this['graphicsDe'+'vice']['frameEnd']();}['renderComp'+'osition'](_0xdf2c91){Q['clearGpuMa'+'rkers'](),this['renderer']['update'](_0xdf2c91),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0xdf2c91),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0x124007,_0x5accf8,_0x464d2e){const _0x5d3632=this['stats']['frame'];_0x5d3632['dt']=_0x5accf8,_0x5d3632['ms']=_0x464d2e,_0x124007>_0x5d3632['_timeToCou'+'ntFrames']?(_0x5d3632['fps']=_0x5d3632['_fpsAccum'],_0x5d3632['_fpsAccum']=0x3*-0x397+0x17c*0x13+-0x116f,_0x5d3632['_timeToCou'+'ntFrames']=_0x124007+(-0x21a+-0x47*0x24+-0x17*-0xb2)):_0x5d3632['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=-0x61*-0x5+0x15b3+-0x1798;}['_fillFrame'+'Stats'](){let _0x74a740=this['stats']['frame'];_0x74a740['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x74a740['materials']=this['renderer']['_materialS'+'witches'],_0x74a740['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x74a740['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x74a740['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x74a740['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x74a740['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x4c414e=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x74a740['triangles']=_0x4c414e[js]/(0x1*-0x206e+-0x4c1*-0x5+0x1*0x8ac)+Math['max'](_0x4c414e[Er]-(-0x1*0xf1+0x1691+-0x159e),0x9*-0x33e+0x29*0x59+0xeed)+Math['max'](_0x4c414e[oa]-(-0x1*0x1c3e+0x1*0x45a+0x17e6),0x1450+0x1e35+-0x3285),_0x74a740['cullTime']=this['renderer']['_cullTime'],_0x74a740['sortTime']=this['renderer']['_sortTime'],_0x74a740['skinTime']=this['renderer']['_skinTime'],_0x74a740['morphTime']=this['renderer']['_morphTime'],_0x74a740['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x74a740['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x74a740['otherPrimi'+'tives']=0xe09*-0x1+0xbe*-0x34+-0x1b*-0x1f3;for(let _0x392b9a=0x20de*-0x1+0x1f93+0x14b;_0x392b9a<_0x4c414e['length'];_0x392b9a++)_0x392b9a<js&&(_0x74a740['otherPrimi'+'tives']+=_0x4c414e[_0x392b9a]),_0x4c414e[_0x392b9a]=-0xa1*-0x1+-0x161b+-0xabd*-0x2;this['renderer']['_camerasRe'+'ndered']=0x2301+-0x6d*-0x26+-0x1*0x332f,this['renderer']['_materialS'+'witches']=0x22df+-0x2105+-0x1da,this['renderer']['_shadowMap'+'Updates']=0xea+0x1ac4+-0xdd7*0x2,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=-0x1b98+0x21d+0x197b,this['renderer']['_cullTime']=-0x325+0x1c0b+-0x18e6,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=-0x296*-0x9+-0x3*-0x5a0+0x23b*-0x12,this['renderer']['_lightClus'+'tersTime']=-0x84b*-0x4+0x15d*-0xa+-0x138a,this['renderer']['_sortTime']=0x1ac5+-0xdc9*0x2+-0x29*-0x5,this['renderer']['_skinTime']=0x92+-0xade+0x293*0x4,this['renderer']['_morphTime']=0x1caa+0x7c0+0x246a*-0x1,this['renderer']['_shadowMap'+'Time']=-0x1*0xf6+-0x18e+-0x17*-0x1c,this['renderer']['_depthMapT'+'ime']=-0x200b+-0x1*-0x4f9+0x1b12,this['renderer']['_forwardTi'+'me']=-0x9*-0x449+0xcf3+-0x112c*0x3,_0x74a740=this['stats']['drawCalls'],_0x74a740['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x74a740['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x74a740['depth']=0x32f*-0x5+-0x10eb+-0x3*-0xaf2,_0x74a740['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x74a740['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x74a740['immediate']=0x29c*0x1+-0xdb*0xe+-0x95e*-0x1,_0x74a740['instanced']=0x653+-0x713*-0x4+-0x1*0x229f,_0x74a740['removedByI'+'nstancing']=-0x23d7+0x23*-0x59+0x1*0x3002,_0x74a740['misc']=_0x74a740['total']-(_0x74a740['forward']+_0x74a740['shadow']),this['renderer']['_depthDraw'+'Calls']=-0x1bae+0x1e17+-0x269*0x1,this['renderer']['_shadowDra'+'wCalls']=-0xa5+0x15a4+-0x14ff,this['renderer']['_forwardDr'+'awCalls']=0x26f0+0xfd2+0x1*-0x36c2,this['renderer']['_numDrawCa'+'llsCulled']=-0x2507*-0x1+0x117*-0x9+-0x86*0x34,this['renderer']['_skinDrawC'+'alls']=-0x259*0xa+0x1*-0x3f6+0x1b70,this['renderer']['_immediate'+'Rendered']=-0x2*-0x1010+0x3*-0x505+-0x1111,this['renderer']['_instanced'+'DrawCalls']=-0x1*-0x16af+0x4*-0x4cf+0x1*-0x373,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x74a740=this['stats']['particles'],_0x74a740['updatesPer'+'Frame']=_0x74a740['_updatesPe'+'rFrame'],_0x74a740['frameTime']=_0x74a740['_frameTime'],_0x74a740['_updatesPe'+'rFrame']=-0x14a4+0x5df*0x4+-0x2d8,_0x74a740['_frameTime']=0x1e5e+-0x2598+0x73a;}['setCanvasF'+'illMode'](_0x1cc6a6,_0x4cee06,_0x52380c){this['_fillMode']=_0x1cc6a6,this['resizeCanv'+'as'](_0x4cee06,_0x52380c);}['setCanvasR'+'esolution'](_0x55bfaa,_0x167be6,_0x373212){this['_resolutio'+'nMode']=_0x55bfaa,_0x55bfaa===wg&&_0x167be6===void(-0x135b+-0x13*-0x81+0x9c8)&&(_0x167be6=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x373212=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x167be6,_0x373212);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x1d962d,_0x113e94){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0x331a4e=window['innerWidth'],_0xf172a8=window['innerHeigh'+'t'];if(this['_fillMode']===Tg){const _0x152ab8=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x590451=_0x331a4e/_0xf172a8;_0x152ab8>_0x590451?(_0x1d962d=_0x331a4e,_0x113e94=_0x1d962d/_0x152ab8):(_0x113e94=_0xf172a8,_0x1d962d=_0x113e94*_0x152ab8);}else this['_fillMode']===PC&&(_0x1d962d=_0x331a4e,_0x113e94=_0xf172a8);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x1d962d+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x113e94+'px',this['updateCanv'+'asSize'](),{'width':_0x1d962d,'height':_0x113e94};}['updateCanv'+'asSize'](){var _0x261530;if(!(!this['_allowResi'+'ze']||(_0x261530=this['xr'])!=null&&_0x261530['active'])&&this['_resolutio'+'nMode']===wg){const _0x2dce5b=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x2dce5b['clientWidt'+'h'],_0x2dce5b['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(-0xd33+0x157f+0x3*-0x2c4),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x18187b){let _0x360195;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x324d86,_0x5357b9,_0x48db1f]=_0x18187b['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x324d86,_0x5357b9,_0x48db1f);}this['scene']['applySetti'+'ngs'](_0x18187b),_0x18187b['render']['hasOwnProp'+'erty']('skybox')&&(_0x18187b['render']['skybox']?(_0x360195=this['assets']['get'](_0x18187b['render']['skybox']),_0x360195?this['setSkybox'](_0x360195):this['assets']['once']('add:'+_0x18187b['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x1b41c3,_0x2aee70){_0x1b41c3&&_0x2aee70?ia['set'](this['graphicsDe'+'vice'],_0x1b41c3,_0x2aee70):w['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x32213c){if(_0x32213c!==this['_skyboxAss'+'et']){const _0x1734cd=()=>{this['setSkybox'](null);},_0x324523=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x324523,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x1734cd,this),this['_skyboxAss'+'et']['off']('change',_0x324523,this)),this['_skyboxAss'+'et']=_0x32213c,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x324523,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x1734cd,this),this['_skyboxAss'+'et']['on']('change',_0x324523,this),this['scene']['skyboxMip']===0x1*0x1e59+-0x4be*0x6+-0x1e5&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(0x91*0xe+-0x1bd2+-0x86*-0x26)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x324523();}}['_firstBake'](){var _0x17e74a;(_0x17e74a=this['lightmappe'+'r'])==null||_0x17e74a['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x99d327;(_0x99d327=this['batcher'])==null||_0x99d327['generate']();}['_processTi'+'mestamp'](_0x46ef0b){return _0x46ef0b;}['drawLine'](_0x2e8abb,_0x432887,_0x5bdf5e,_0x197f79,_0xc1818){this['scene']['drawLine'](_0x2e8abb,_0x432887,_0x5bdf5e,_0x197f79,_0xc1818);}['drawLines'](_0x378bf9,_0x19ae64,_0x2eb6c9=!(0x1*-0xa49+0x4*0x371+-0x3*0x129),_0xdd86c=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x378bf9,_0x19ae64,_0x2eb6c9,_0xdd86c);}['drawLineAr'+'rays'](_0x2d28b7,_0x2c9d99,_0x50d315=!(0x12c4+0x29d+-0x1561),_0x13dc6a=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x2d28b7,_0x2c9d99,_0x50d315,_0x13dc6a);}['drawWireSp'+'here'](_0x179c64,_0x3879f8,_0x5e8db9=ie['WHITE'],_0x55071c=-0x1687+-0x4ae*-0x2+-0xd3f*-0x1,_0x295717=!(0x269*0x1+-0xd*-0xf+-0x32c*0x1),_0x579995=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x179c64,_0x3879f8,_0x5e8db9,_0x55071c,_0x295717,_0x579995);}['drawWireAl'+'ignedBox'](_0x336a87,_0x4e8101,_0x450f80=ie['WHITE'],_0x4219d7=!(0x15a2+0x13f8+-0x299a),_0x1433cd=this['scene']['defaultDra'+'wLayer'],_0x44dc73){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x336a87,_0x4e8101,_0x450f80,_0x4219d7,_0x1433cd,_0x44dc73);}['drawMeshIn'+'stance'](_0x458c28,_0x5e86ed=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x458c28,_0x5e86ed);}['drawMesh'](_0xd0c0dd,_0xe1f1e9,_0x15bcaa,_0x355cbd=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0xe1f1e9,_0x15bcaa,_0xd0c0dd,null,_0x355cbd);}['drawQuad'](_0x10d622,_0x414999,_0x30f4c9=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x414999,_0x10d622,this['scene']['immediate']['getQuadMes'+'h'](),null,_0x30f4c9);}['drawTextur'+'e'](_0x63e614,_0x229feb,_0x102ec3,_0x1731d8,_0x2d25f2,_0x4ae56a,_0x24b444=this['scene']['defaultDra'+'wLayer'],_0x2dfa1c=!(-0x23ed+0x24a9*-0x1+0x26*0x1e9)){if(_0x2dfa1c===!(0x114+0x17ef+-0xc2*0x21)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x5c6ee0=new te();_0x5c6ee0['setTRS'](new D(_0x63e614,_0x229feb,-0x3*-0x4b1+0x188b+-0x269e*0x1),le['IDENTITY'],new D(_0x102ec3,-_0x1731d8,-0x12ab*0x2+0x33f*-0x5+0x28d*0x15)),_0x4ae56a||(_0x4ae56a=new Xn(),_0x4ae56a['cull']=bt,_0x4ae56a['setParamet'+'er']('colorMap',_0x2d25f2),_0x4ae56a['shaderDesc']=_0x2dfa1c?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0x2d25f2['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x4ae56a['update']()),this['drawQuad'](_0x5c6ee0,_0x4ae56a,_0x24b444);}['drawDepthT'+'exture'](_0x36e9bd,_0x5dd03,_0x210c94,_0x5468ca,_0xecff2a=this['scene']['defaultDra'+'wLayer']){const _0x493f14=new Xn();_0x493f14['cull']=bt,_0x493f14['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x493f14['update'](),this['drawTextur'+'e'](_0x36e9bd,_0x5dd03,_0x210c94,_0x5468ca,null,_0x493f14,_0xecff2a);}['destroy'](){var _0x2a7026,_0xecff6a,_0x21c5c1,_0x17b7c3;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(0x1f7f*-0x1+-0xaa*-0x31+-0x3*0x59);return;}const _0x406f3e=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x64*0x4+-0x11*-0x212+0x1*-0x24c1)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x8f9+0xbc8+-0x2ce*0x1)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x1091+-0xd82*-0x2+-0x1*0x2b94)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x2*-0xba7+-0x1277+0x29c6))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0x1372ec=this['assets']['list']();for(let _0x733764=0x2021+0x1*0x2679+-0x2*0x234d;_0x733764<_0x1372ec['length'];_0x733764++)_0x1372ec[_0x733764]['unload'](),_0x1372ec[_0x733764]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x58ed08=this['loader']['getHandler']('script');_0x58ed08==null||_0x58ed08['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x2a7026=this['lightmappe'+'r'])==null||_0x2a7026['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0xecff6a=this['xr'])==null||_0xecff6a['end'](),(_0x21c5c1=this['xr'])==null||_0x21c5c1['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x17b7c3=this['_soundMana'+'ger'])==null||_0x17b7c3['destroy'](),this['_soundMana'+'ger']=null,ea['_applicati'+'ons'][_0x406f3e]=null,Ms()===this&&_u(null),ea['cancelTick'](this);}static['cancelTick'](_0x3942eb){_0x3942eb['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x3942eb['frameReque'+'stId']),_0x3942eb['frameReque'+'stId']=void(0x6ad*-0x5+0x23ed+-0x4*0xa3));}['getEntityF'+'romIndex'](_0x5ef427){return this['_entityInd'+'ex'][_0x5ef427];}['_registerS'+'ceneImmedi'+'ate'](_0x56d4d7){this['on']('postrender',_0x56d4d7['immediate']['onPostRend'+'er'],_0x56d4d7['immediate']);}};h(ea,'_applicati'+'ons',{});let Ks=ea;const eL=function(_0x404f56){const _0x2b95fb=_0x404f56;return function(_0x2c7f51,_0x48a9cd){var _0x579891,_0x195b46,_0x33b689,_0x529c26;if(!_0x2b95fb['graphicsDe'+'vice'])return;_0x2b95fb['frameReque'+'stId']&&((_0x195b46=(_0x579891=_0x2b95fb['xr'])==null?void(-0x20c2+0x1a7+0x1f1b*0x1):_0x579891['session'])==null||_0x195b46['cancelAnim'+'ationFrame'](_0x2b95fb['frameReque'+'stId']),cancelAnimationFrame(_0x2b95fb['frameReque'+'stId']),_0x2b95fb['frameReque'+'stId']=null),_0x2b95fb['_inFrameUp'+'date']=!(-0x186a+-0x64*-0x1a+-0x1*-0xe42),_u(_0x2b95fb);const _0x3c559e=_0x2b95fb['_processTi'+'mestamp'](_0x2c7f51)||de(),_0x16d2e1=_0x3c559e-(_0x2b95fb['_time']||_0x3c559e);let _0xffd1dd=_0x16d2e1/(-0x21*0x29+-0x1139*-0x2+-0x5*0x50d);if(_0xffd1dd=Y['clamp'](_0xffd1dd,0x3*-0x58+-0xbb*-0xc+-0x7bc,_0x2b95fb['maxDeltaTi'+'me']),_0xffd1dd*=_0x2b95fb['timeScale'],_0x2b95fb['_time']=_0x3c559e,(_0x33b689=_0x2b95fb['xr'])!=null&&_0x33b689['session']?_0x2b95fb['frameReque'+'stId']=_0x2b95fb['xr']['session']['requestAni'+'mationFram'+'e'](_0x2b95fb['tick']):_0x2b95fb['frameReque'+'stId']=Ae['browser']||Ae['worker']?requestAnimationFrame(_0x2b95fb['tick']):null,_0x2b95fb['graphicsDe'+'vice']['contextLos'+'t'])return;_0x2b95fb['_fillFrame'+'StatsBasic'](_0x3c559e,_0xffd1dd,_0x16d2e1),_0x2b95fb['_fillFrame'+'Stats'](),_0x2b95fb['fire']('frameupdat'+'e',_0x16d2e1);let _0x1d8f5f=!(-0x26e8+0xd2c+0x19bd);_0x48a9cd?(_0x1d8f5f=!((_0x529c26=_0x2b95fb['xr'])!=null&&_0x529c26['update'](_0x48a9cd)),_0x2b95fb['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x48a9cd['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x2b95fb['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,!_0x1d8f5f&&!_0x2b95fb['stopSort']&&(w['trace'](W0,'----\x20Frame'+'\x20'+_0x2b95fb['frame']),w['trace'](Ld,'--\x20UpdateS'+'tart\x20'+de()['toFixed'](0x1fec+-0x1627*0x1+-0x9c3)+'ms'),_0x2b95fb['update'](_0xffd1dd),_0x2b95fb['fire']('framerende'+'r'),(_0x2b95fb['autoRender']||_0x2b95fb['renderNext'+'Frame'])&&(w['trace'](Ld,'--\x20RenderS'+'tart\x20'+de()['toFixed'](0x1d67+0x2658+0x1*-0x43bd)+'ms'),_0x2b95fb['render'](),_0x2b95fb['renderNext'+'Frame']=!(0x39*0x71+0x9b+0x1*-0x19c3),w['trace'](Ld,'--\x20RenderE'+'nd\x20'+de()['toFixed'](0xe09+0x20e*-0x2+-0x9eb)+'ms')),_0x2b95fb['fire']('frameend')),_0x2b95fb['_inFrameUp'+'date']=!(-0x1d30+0xa*-0x30a+0x3b95),_0x2b95fb['_destroyRe'+'quested']&&_0x2b95fb['destroy']();};};class tL{constructor(){h(this,'elementInp'+'ut'),h(this,'keyboard'),h(this,'mouse'),h(this,'touch'),h(this,'gamepads'),h(this,'scriptPref'+'ix'),h(this,'assetPrefi'+'x'),h(this,'scriptsOrd'+'er'),h(this,'soundManag'+'er'),h(this,'graphicsDe'+'vice'),h(this,'lightmappe'+'r'),h(this,'batchManag'+'er'),h(this,'xr'),h(this,'componentS'+'ystems',[]),h(this,'resourceHa'+'ndlers',[]);}}const mo=new sp();class Uv{constructor(_0x57502b,_0x1bd055,_0x2a3daf){this['scene']=_0x57502b,this['light']=_0x1bd055,this['store'](),_0x1bd055['numCascade'+'s']=0x10bf+0x877*0x3+0x7*-0x605,this['scene']['clusteredL'+'ightingEna'+'bled']&&!_0x2a3daf['shadowsEna'+'bled']&&(_0x1bd055['castShadow'+'s']=!(-0x287*0xa+0x19d5+0x1*-0x8e)),_0x1bd055['type']!==ve&&(_0x1bd055['_node']['getWorldTr'+'ansform'](),_0x1bd055['getBoundin'+'gSphere'](mo),this['lightBound'+'s']=new De(),this['lightBound'+'s']['center']['copy'](mo['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](mo['radius'],mo['radius'],mo['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x1db89b=this['light'];_0x1db89b['mask']=this['mask'],_0x1db89b['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x1db89b['enabled']=this['enabled'],_0x1db89b['intensity']=this['intensity'],_0x1db89b['_node']['setLocalRo'+'tation'](this['rotation']),_0x1db89b['numCascade'+'s']=this['numCascade'+'s'],_0x1db89b['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(0x573+0x620+0xb93*-0x1),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x3f97a0){const _0x37d399=this['light'];_0x37d399['enabled']=!(-0x1*-0x713+-0x388+-0x1c5*0x2),_0x37d399['shadowMap']&&(_0x37d399['shadowMap']['cached']&&_0x3f97a0['add'](_0x37d399,_0x37d399['shadowMap']),_0x37d399['shadowMap']=null);}}const yc=new J();class sL extends Uv{constructor(_0x127836,_0x341a3e){super(_0x127836['scene'],_0x341a3e,_0x127836['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===ve?this['light']['bakeNumSam'+'ples']:-0x1ab8+0x235d+-0x8a4;}['prepareVir'+'tualLight'](_0x5b79c4,_0x1b08aa){const _0x50a890=this['light'];if(_0x50a890['_node']['setLocalRo'+'tation'](this['rotation']),_0x5b79c4>-0x1805+-0x1b54+0x3359){const _0x1dc1e6=_0x50a890['bakeArea'];Nl['circlePoin'+'tDetermini'+'stic'](yc,_0x5b79c4,_0x1b08aa),yc['mulScalar'](_0x1dc1e6*(-0x19bd+0x37a*0x7+0x167+0.5)),_0x50a890['_node']['rotateLoca'+'l'](yc['x'],-0xa47*0x1+-0x4f9+0x2*0x7a0,yc['y']);}_0x50a890['_node']['getWorldTr'+'ansform']();const _0x2f6821=0x137d+-0xe6b*0x1+-0x510+0.20000000000000018,_0x293e91=Math['pow'](this['intensity'],_0x2f6821);_0x50a890['intensity']=Math['pow'](_0x293e91/_0x1b08aa,(0x5*0x437+-0x10a*0x1+-0x1408*0x1)/_0x2f6821);}}const Pg=new D();class Mg extends Uv{constructor(_0x340244){const _0x13540d=_0x340244['scene'],_0x40550f=new lt('AmbientLig'+'ht');_0x40550f['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(0x1db1+0x1b48+-0x38f9*0x1),'affectLightmapped':!(-0x152a+-0xb53+0x2*0x103f),'bake':!(0x54*-0x58+-0x1d09*-0x1+0x29*-0x1),'bakeNumSamples':_0x13540d['ambientBak'+'eNumSample'+'s'],'castShadows':!(-0x16dd+0x1f21+0x1*-0x844),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':$s,'color':ie['WHITE'],'intensity':0x1,'bakeDir':!(-0x1*0x1b91+0x6a2+0x14f0)}),super(_0x13540d,_0x40550f['light']['light'],_0x340244['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x3db4d0,_0x1ef18b){Nl['spherePoin'+'tDetermini'+'stic'](Pg,_0x3db4d0,_0x1ef18b,0x1*0x7a5+-0xd*-0x9b+0x4*-0x3e1,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](Pg['mulScalar'](-(0x97c+-0x12*-0x1f9+-0x2cfd))),this['light']['_node']['rotateLoca'+'l'](0x22b3+-0x38*0xb1+-0x1*-0x45f,0x7*-0xe3+-0x100b+0x1640,0x1dbf+-0x264a+0x1*0x88b);const _0x1cf73d=0x1fd3*0x1+-0x116e+-0xe63+0.20000000000000018,_0x28046c=(-0xc5*0x27+0xcbd*0x2+0x48b*0x1)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x3a1fd9=Math['pow'](_0x28046c,_0x1cf73d);this['light']['intensity']=Math['pow'](_0x3a1fd9/_0x1ef18b,(-0x1061+0x1884+-0x822)/_0x1cf73d);}}class vc{constructor(_0x39031f,_0x16b692=null){this['node']=_0x39031f,this['component']=_0x39031f['render']||_0x39031f['model'],_0x16b692=_0x16b692||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x16b692,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const iL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0aunifor'+'m\x20sampler2'+'D\x20source;\x0a'+'uniform\x20ve'+'c2\x20pixelOf'+'fset;\x0aunif'+'orm\x20vec2\x20s'+'igmas;\x0auni'+'form\x20float'+'\x20bZnorm;\x0au'+'niform\x20flo'+'at\x20kernel['+'{MSIZE}];\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20ve'+'c4\x20pixel\x20='+'\x20texture2D'+'Lod(source'+',\x20vUv0,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20lightmap'+'\x20specific\x20'+'optimizati'+'on\x20-\x20skip\x20'+'pixels\x20tha'+'t\x20were\x20not'+'\x20baked\x0a\x20\x20\x20'+'\x20//\x20this\x20a'+'lso\x20allows'+'\x20dilate\x20fi'+'lter\x20that\x20'+'work\x20on\x20th'+'e\x20output\x20o'+'f\x20this\x20to\x20'+'work\x20corre'+'ctly,\x20as\x20i'+'t\x20depends\x20'+'on\x20.a\x20bein'+'g\x20zero\x0a\x20\x20\x20'+'\x20//\x20to\x20dil'+'ate,\x20which'+'\x20the\x20follo'+'wing\x20blur\x20'+'filter\x20wou'+'ld\x20otherwi'+'se\x20modify\x0a')+('\x20\x20\x20\x20if\x20(!i'+'sUsed(pixe'+'l))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20p'+'ixel;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20sigma\x20-'+'\x20controls\x20'+'blurriness'+'\x20based\x20on\x20'+'a\x20pixel\x20di'+'stance\x0a\x20\x20\x20'+'\x20float\x20sig'+'ma\x20=\x20sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'float\x20bSig'+'ma\x20=\x20sigma'+'s.y;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20pixel'+'Hdr\x20=\x20deco'+'de(pixel);'+'\x0a\x20\x20\x20\x20vec3\x20'+'accumulate'+'dHdr\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20float\x20ac'+'cumulatedF'+'actor\x20=\x200.'+'000001;\x20\x20/'+'/\x20avoid\x20di'+'vision\x20by\x20'+'zero\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20ou'+'t\x20the\x20texe'+'ls\x0a\x20\x20\x20\x20con'+'st\x20int\x20kSi'+'ze\x20=\x20({MSI'+'ZE}\x20-\x201)\x20/'+'\x202;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x20-kSize;\x20i'+'\x20<=\x20kSize;'+'\x20++i)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20j\x20=\x20-'+'kSize;\x20j\x20<'+'=\x20kSize;\x20+'+'+j)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sample'+'\x20the\x20pixel'+'\x20with\x20offs'+'et\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'coord\x20=\x20vU'+'v0\x20+\x20vec2('+'float(i),\x20'+'float(j))\x20'+'*\x20pixelOff'+'set;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20pix\x20=\x20te'+'xture2DLod'+'(source,\x20c'+'oord,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x20-\x20o'+'nly\x20use\x20ba'+'ked\x20pixels'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isU'+'sed(pix))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20hdr\x20=\x20d'+'ecode(pix)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20bilatera'+'l\x20factors\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20factor\x20='+'\x20kernel[kS'+'ize\x20+\x20j]\x20*'+'\x20kernel[kS')+('ize\x20+\x20i];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fact'+'or\x20*=\x20norm'+'pdf3(hdr\x20-'+'\x20pixelHdr,'+'\x20bSigma)\x20*'+'\x20bZnorm;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ccumulate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20accu'+'mulatedHdr'+'\x20+=\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20+=\x20facto'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20finalHD'+'R\x20=\x20accumu'+'latedHdr\x20/'+'\x20accumulat'+'edFactor;\x0a'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(finalHDR,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'encodeRGBM'+'(finalHDR)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a'),rL='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',aL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afn'+'\x20normpdf3('+'v:\x20vec3f,\x20'+'sigma:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x200.39894\x20'+'*\x20exp(-0.5'+'\x20*\x20dot(v,\x20'+'v)\x20/\x20(sigm'+'a\x20*\x20sigma)'+')\x20/\x20sigma;'+'\x0a}\x0a\x0afn\x20dec'+'odeRGBM(rg'+'bm:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20(8'+'.0\x20*\x20rgbm.'+'a)\x20*\x20rgbm.'+'rgb;\x0a\x20\x20\x20\x20r'+'eturn\x20colo'+'r\x20*\x20color;'+'\x0a}\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeRGBM'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'var\x20encode'+'d:\x20vec4f;\x0a'+'\x20\x20\x20\x20let\x20rg'+'b_processe'+('d\x20=\x20pow(co'+'lor.rgb,\x20v'+'ec3f(0.5))'+'\x20*\x20(1.0\x20/\x20'+'8.0);\x0a\x20\x20\x20\x20'+'encoded\x20=\x20'+'vec4f(rgb_'+'processed,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20let\x20max_'+'g_b\x20=\x20max('+'\x20encoded.g'+',\x20max(\x20enc'+'oded.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20);\x0a\x20\x20\x20\x20l'+'et\x20max_rgb'+'\x20=\x20max(\x20en'+'coded.r,\x20m'+'ax_g_b\x20);\x0a'+'\x20\x20\x20\x20encode'+'d.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20enco'+'ded.a\x20=\x20ce'+'il(encoded'+'.a\x20*\x20255.0'+')\x20/\x20255.0;'+'\x0a\x0a\x20\x20\x20\x20enco'+'ded\x20=\x20vec4'+'f(encoded.'+'rgb\x20/\x20enco'+'ded.a,\x20enc'+'oded.a);\x0a\x20'+'\x20\x20\x20return\x20'+'encoded;\x0a}'+'\x0a\x0afn\x20decod'+'e(pixel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20pixel.'+'rgb;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'decodeRGBM'+'(pixel);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a\x0afn\x20isUs'+'ed(pixel:\x20'+'vec4f)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0ava'+'r\x20source:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20sourceSam'+'pler:\x20samp'+'ler;\x0aunifo'+'rm\x20kernel:'+'\x20array<f32'+',\x20{MSIZE}>'+';\x0auniform\x20'+'pixelOffse'+'t:\x20vec2f;\x0a'+'uniform\x20si'+'gmas:\x20vec2'+'f;\x0auniform'+'\x20bZnorm:\x20f'+'32;\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20pixel\x20'+'=\x20textureS'+'ampleLevel'+'(source,\x20s'+'ourceSampl'+'er,\x20input.')+('vUv0,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'lightmap\x20s'+'pecific\x20op'+'timization'+'\x20-\x20skip\x20pi'+'xels\x20that\x20'+'were\x20not\x20b'+'aked\x0a\x20\x20\x20\x20/'+'/\x20this\x20als'+'o\x20allows\x20d'+'ilate\x20filt'+'er\x20that\x20wo'+'rk\x20on\x20the\x20'+'output\x20of\x20'+'this\x20to\x20wo'+'rk\x20correct'+'ly,\x20as\x20it\x20'+'depends\x20on'+'\x20.a\x20being\x20'+'zero\x0a\x20\x20\x20\x20/'+'/\x20to\x20dilat'+'e,\x20which\x20t'+'he\x20followi'+'ng\x20blur\x20fi'+'lter\x20would'+'\x20otherwise'+'\x20modify\x0a\x20\x20'+'\x20\x20if\x20(!isU'+'sed(pixel)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20pix'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20range\x20sig'+'ma\x20-\x20contr'+'ols\x20blurri'+'ness\x20based'+'\x20on\x20a\x20pixe'+'l\x20distance'+'\x0a\x20\x20\x20\x20let\x20s'+'igma\x20=\x20uni'+'form.sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'let\x20bSigma'+'\x20=\x20uniform'+'.sigmas.y;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'pixelHdr\x20='+'\x20decode(pi'+'xel);\x0a\x20\x20\x20\x20'+'var\x20accumu'+'latedHdr\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20var'+'\x20accumulat'+'edFactor\x20='+'\x200.000001;'+'\x20\x20//\x20avoid'+'\x20division\x20'+'by\x20zero\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20out\x20the\x20t'+'exels\x0a\x20\x20\x20\x20'+'const\x20kSiz'+'e\x20=\x20({MSIZ'+'E}\x20-\x201)\x20/\x20'+'2;\x0a\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x20-kSiz'+'e;\x20i\x20<=\x20kS'+'ize;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(var\x20j:\x20i3'+'2\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20j\x20=\x20j\x20'+'+\x201)\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20pixel\x20'+'with\x20offse'+'t\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20co'+'ord\x20=\x20inpu'+'t.vUv0\x20+\x20v'+'ec2f(f32(i')+('),\x20f32(j))'+'\x20*\x20uniform'+'.pixelOffs'+'et;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'pix\x20=\x20text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20co'+'ord,\x200.0);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x20-\x20on'+'ly\x20use\x20bak'+'ed\x20pixels\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isUs'+'ed(pix))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20hdr\x20=\x20dec'+'ode(pix);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'bilateral\x20'+'factors\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20fa'+'ctor\x20=\x20uni'+'form.kerne'+'l[u32(kSiz'+'e\x20+\x20j)].el'+'ement\x20*\x20un'+'iform.kern'+'el[u32(kSi'+'ze\x20+\x20i)].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20factor'+'\x20=\x20factor\x20'+'*\x20normpdf3'+'(hdr\x20-\x20pix'+'elHdr,\x20bSi'+'gma)\x20*\x20uni'+'form.bZnor'+'m;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20accumul'+'ate\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'accumulate'+'dHdr\x20=\x20acc'+'umulatedHd'+'r\x20+\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20=\x20accumu'+'latedFacto'+'r\x20+\x20factor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20let'+'\x20finalHDR\x20'+'=\x20accumula'+'tedHdr\x20/\x20a'+'ccumulated'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20#if\x20HDR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalHDR,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20e'+'ncodeRGBM('+'finalHDR);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),nL='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0avar\x20so'+'urce:\x20text'+'ure_2d<f32'+'>;\x0avar\x20sou'+'rceSampler'+':\x20sampler;'+'\x0auniform\x20p'+'ixelOffset'+':\x20vec2f;\x0a\x0a'+'fn\x20isUsed('+'pixel:\x20vec'+'4f)\x20->\x20boo'+'l\x20{\x0a\x20\x20\x20\x20#i'+'fdef\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0a@fr'+'agment\x0afn\x20'+'fragmentMa'+'in(input:\x20'+'FragmentIn'+'put)\x20->\x20Fr'+'agmentOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20c:\x20vec4'+'f\x20=\x20textur'+'eSampleLev'+'el(source,'+'\x20sourceSam'+'pler,\x20inpu'+'t.vUv0,\x200.'+'0);\x0a\x20\x20\x20\x20c\x20'+'=\x20select(t'+'extureSamp'+'leLevel(so'+'urce,\x20sour'+'ceSampler,'+'\x20input.vUv'+'0\x20-\x20unifor'+'m.pixelOff'+'set,\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20-un'+'iform.pixe'+'lOffset.y)'+',\x200.0),\x20c,'+'\x20isUsed(c)'+');\x0a\x20\x20\x20\x20c\x20='+'\x20select(te'+'xtureSampl'+'eLevel(sou'+'rce,\x20sourc'+'eSampler,\x20'+'input.vUv0'+'\x20+\x20vec2f(u'+'niform.pix'+'elOffset.x'+',\x20-uniform'+'.pixelOffs'+'et.y),\x200.0'+'),\x20c,\x20isUs'+'ed(c));\x0a\x20\x20'+'\x20\x20c\x20=\x20sele'+'ct(texture'+'SampleLeve'+'l(source,\x20'+'sourceSamp'+'ler,\x20input'+'.vUv0\x20+\x20ve'+'c2f(-unifo'+'rm.pixelOf'+'fset.x,\x200.'+'0),\x200.0),\x20'+'c,\x20isUsed('+'c));\x0a\x20\x20\x20\x20c'+'\x20=\x20select('+'textureSam'+'pleLevel(s'+'ource,\x20sou'+'rceSampler'+',\x20input.vU'+'v0\x20+\x20vec2f'+'(uniform.p'+('ixelOffset'+'.x,\x200.0),\x20'+'0.0),\x20c,\x20i'+'sUsed(c));'+'\x0a\x20\x20\x20\x20c\x20=\x20s'+'elect(text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20in'+'put.vUv0\x20+'+'\x20vec2f(-un'+'iform.pixe'+'lOffset.x,'+'\x20uniform.p'+'ixelOffset'+'.y),\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20uni'+'form.pixel'+'Offset.y),'+'\x200.0),\x20c,\x20'+'isUsed(c))'+';\x0a\x20\x20\x20\x20c\x20=\x20'+'select(tex'+'tureSample'+'Level(sour'+'ce,\x20source'+'Sampler,\x20i'+'nput.vUv0\x20'+'+\x20uniform.'+'pixelOffse'+'t,\x200.0),\x20c'+',\x20isUsed(c'+'));\x0a\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20FragmentO'+'utput;\x0a\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20c;\x0a\x20'+'\x20\x20\x20return\x20'+'output;\x0a}\x0a'),Dg=0x1*-0x159a+-0x19*0xc5+0x417*0xa,oL={'glslBilateralDeNoisePS':iL,'glslDilatePS':rL},lL={'wgslBilateralDeNoisePS':aL,'wgslDilatePS':nL};class cL{constructor(_0x48453c){h(this,'shaderDila'+'te',[]),h(this,'shaderDeno'+'ise',[]),(this['device']=_0x48453c,Pe['get'](this['device'],Fe)['add'](oL),Pe['get'](this['device'],it)['add'](lL),this['constantTe'+'xSource']=_0x48453c['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0x48453c['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(-0x25a6+0x1d4e+0x85a),this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null);}['setSourceT'+'exture'](_0x32fb93){this['constantTe'+'xSource']['setValue'](_0x32fb93);}['prepare'](_0x5d17b4,_0x52f143){this['pixelOffse'+'t'][-0x1*0x1677+0x768+0xf0f]=(-0x11*0xf2+-0x1bc8+0x67*0x6d)/_0x5d17b4,this['pixelOffse'+'t'][-0x2559+-0x33*0x51+0x1*0x357d]=(-0x23c5+0x15*0x142+0x95c)/_0x52f143,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x5bc2c8,_0x3dbee3,_0x18e27d){const _0x3cd2e2=_0x18e27d?0xb*0x1e2+-0x30d+-0x11a9:0x5b*-0x67+-0x1131*-0x2+0xd*0x2c;if(!this['shaderDeno'+'ise'][_0x3cd2e2]){const _0x6fe0=new Map();_0x6fe0['set']('{MSIZE}',0x1d17*-0x1+-0x1*0xbf+0x1de5*0x1),_0x18e27d&&_0x6fe0['set']('HDR',''),this['shaderDeno'+'ise'][_0x3cd2e2]=$t['createShad'+'er'](this['device'],{'uniqueName':'lmBilatera'+'lDeNoise-'+(_0x18e27d?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('glslBilate'+'ralDeNoise'+'PS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('wgslBilate'+'ralDeNoise'+'PS'),'fragmentDefines':_0x6fe0}),this['sigmas']=new Float32Array(-0x321+-0x713+0xa36),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][-0xf8d+-0x2*-0xa57+0x65*-0xd]=_0x5bc2c8,this['sigmas'][0x75b*0x1+0x209d+-0x27f7]=_0x3dbee3,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x5bc2c8,_0x3dbee3);}['getDenoise'](_0x2a728f){const _0x65a9e8=_0x2a728f?0x895+-0x18f+0x1*-0x706:0x23c5*0x1+-0xb*0x147+-0x6d*0x33;return this['shaderDeno'+'ise'][_0x65a9e8];}['getDilate'](_0x29cb9c,_0x5ce9ac){const _0x5898cd=_0x5ce9ac?0xf4f*0x1+0xc35*0x3+-0x33ee:0x1*-0x1731+0x26ee+-0xfbc;if(!this['shaderDila'+'te'][_0x5898cd]){const _0x576959=_0x5ce9ac?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x5898cd]=$t['createShad'+'er'](_0x29cb9c,{'uniqueName':'lmDilate-'+(_0x5ce9ac?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':_0x576959+Pe['get'](this['device'],Fe)['get']('glslDilate'+'PS'),'fragmentWGSL':_0x576959+Pe['get'](this['device'],it)['get']('wgslDilate'+'PS')});}return this['shaderDila'+'te'][_0x5898cd];}['evaluateDe'+'noiseUnifo'+'rms'](_0x48965b,_0x343030){function _0x11ad1d(_0x54388e,_0xabe0d6){return(-0x24d0+0x290+0x2240+0.39894)*Math['exp'](-(-0xc5*-0xa+-0x8b8+-0x2*-0x83+0.5)*_0x54388e*_0x54388e/(_0xabe0d6*_0xabe0d6))/_0xabe0d6;}this['kernel']=this['kernel']||new Float32Array(Dg);const _0x508e9c=this['kernel'],_0x2a794a=Math['floor']((Dg-(-0x13bc+-0x2006+-0x277*-0x15))/(0x68*-0x32+-0x1a09+0x2e5b));for(let _0x44bd2c=-0x2cf*-0x1+0x1*-0x1759+0x148a;_0x44bd2c<=_0x2a794a;++_0x44bd2c){const _0x8324d3=_0x11ad1d(_0x44bd2c,_0x48965b);_0x508e9c[_0x2a794a+_0x44bd2c]=_0x8324d3,_0x508e9c[_0x2a794a-_0x44bd2c]=_0x8324d3;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x748fa2=(0x1389+0x14ca+-0x2852)/_0x11ad1d(-0x76e*-0x2+0x1*-0x1d54+-0xe78*-0x1,_0x343030);this['bZnorm']['setValue'](_0x748fa2);}}class hL extends ys{constructor(_0x396b03,_0x28ce53,_0x26c73e,_0x55fd1c,_0x4030cb,_0x2d3165){super(_0x396b03),h(this,'viewBindGr'+'oups',[]),(this['renderer']=_0x28ce53,this['camera']=_0x26c73e,this['worldClust'+'ers']=_0x55fd1c,this['receivers']=_0x4030cb,this['lightArray']=_0x2d3165);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x40f578=>{_0x40f578['defaultUni'+'formBuffer']['destroy'](),_0x40f578['destroy']();}),this['viewBindGr'+'oups']['length']=-0x895*-0x2+-0x2173+-0x1049*-0x1;}['execute'](){const _0x402f85=this['device'];Q['pushGpuMar'+'ker'](_0x402f85,'Lightmappe'+'r');const {renderer:_0x5f5a37,camera:_0x61223e,receivers:_0x33e3af,renderTarget:_0x1f55c7,worldClusters:_0x448059,lightArray:_0x40e36f}=this;_0x5f5a37['renderForw'+'ardLayer'](_0x61223e,_0x1f55c7,null,void(0xdcc+0x1f49+-0xf07*0x3),Aa,this['viewBindGr'+'oups'],{'meshInstances':_0x33e3af,'splitLights':_0x40e36f,'lightClusters':_0x448059}),Q['popGpuMark'+'er'](_0x402f85);}}const dL=-0xf83+0x157+0x2b*0x84,fL=0xc*-0x1bb+0x2413+0x1*-0xf4f,uL=0x1*-0x2453+0x284*0xb+0x22a*0x4,xc=new D();class pL{constructor(_0x5e2467,_0x1d8be9,_0x5d580b,_0x4328af,_0xc3d354){this['device']=_0x5e2467,this['root']=_0x1d8be9,this['scene']=_0x5d580b,this['renderer']=_0x4328af,this['assets']=_0xc3d354,this['shadowMapC'+'ache']=_0x4328af['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(0x11c1+0x44*0x62+-0x2bc8),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new ie(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x54da6b;zi['decRef'](this['blackTex']),this['blackTex']=null,zi['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x54da6b=this['camera'])==null||_0x54da6b['destroy'](),this['camera']=null;}['initBake'](_0x87c329){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Ne,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(0x1a5f+-0x1d70+0x311),this['lightmapFi'+'lters']=new cL(_0x87c329),this['constantBa'+'keDir']=_0x87c329['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new _e(this['device'],{'width':0x4,'height':0x4,'format':Ne,'type':Zi,'name':'lightmapBl'+'ack'}),zi['incRef'](this['blackTex']);const _0x3c1b09=new Fl();_0x3c1b09['clearColor']['set'](0x98d*-0x2+-0x1*0x1a7d+0xb*0x425,-0x18dc+-0x112*-0x11+0x1*0x6aa,0x1*-0xec3+-0x241e+-0x32e1*-0x1,-0x1*-0x191f+0x2542+-0x3*0x14cb),_0x3c1b09['clearColor'+'Buffer']=!(0xe3d+-0x1*-0x219c+-0x2fd9),_0x3c1b09['clearDepth'+'Buffer']=!(0x4f*0x73+0x2607+-0x4983),_0x3c1b09['clearStenc'+'ilBuffer']=!(0x13d1+0x4c5+-0xd9*0x1d),_0x3c1b09['frustumCul'+'ling']=!(-0x709*-0x2+0x6b2*0x1+-0x1*0x14c3),_0x3c1b09['projection']=En,_0x3c1b09['aspectRati'+'o']=0x6d*0x35+-0x1*-0xdd7+-0x2467,_0x3c1b09['node']=new Ie(),this['camera']=_0x3c1b09,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=Ll,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=sm;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x46299a=new Mv(_0x87c329['supportsAr'+'eaLights'],_0x87c329['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x46299a;const _0x1fee67=this['scene']['lighting'];_0x46299a['shadowsEna'+'bled']=_0x1fee67['shadowsEna'+'bled'],_0x46299a['shadowAtla'+'sResolutio'+'n']=_0x1fee67['shadowAtla'+'sResolutio'+'n'],_0x46299a['cookiesEna'+'bled']=_0x1fee67['cookiesEna'+'bled'],_0x46299a['cookieAtla'+'sResolutio'+'n']=_0x1fee67['cookieAtla'+'sResolutio'+'n'],_0x46299a['areaLights'+'Enabled']=_0x1fee67['areaLights'+'Enabled'],_0x46299a['cells']=new D(0x1*0x22dc+0x1d04+0x1*-0x3fdd,0x1a80+-0x1*-0x17a5+-0x3222,0x1c69+0x6ca+-0x2330),_0x46299a['maxLightsP'+'erCell']=0x266a+0x16a1+0x1*-0x3d07,this['worldClust'+'ers']=new cu(_0x87c329),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x5b6a18){this['materials']=[];function _0x46db51(_0x4626b9){zi['decRef'](_0x4626b9['colorBuffe'+'r']),_0x4626b9['destroy']();}this['renderTarg'+'ets']['forEach'](_0x5623d4=>{_0x46db51(_0x5623d4);}),this['renderTarg'+'ets']['clear'](),_0x5b6a18['forEach'](_0x4f20cc=>{_0x4f20cc['renderTarg'+'ets']['forEach'](_0x1aef84=>{_0x46db51(_0x1aef84);}),_0x4f20cc['renderTarg'+'ets']['length']=-0xbcb*-0x2+-0x405*-0x3+-0x1*0x23a5;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0x47fb2a,_0xc237e2,_0x11de17){const _0x842ee8=new Ut();return _0x842ee8['name']='lmMaterial'+'-pass:'+_0xc237e2+'-ambient:'+_0x11de17,_0x842ee8['setDefine']('UV1LAYOUT',''),_0x842ee8['setDefine']('LIT_LIGHTM'+'AP_BAKING',''),_0xc237e2===fL?(_0x842ee8['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'COLOR',''),_0x11de17?_0x842ee8['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'ADD_AMBIEN'+'T',''):_0x842ee8['ambient']=new ie(0x1*-0xc89+-0xf50+0x1bd9,-0x139*0xd+-0x1343+0x2328*0x1,-0x1a91*0x1+-0x11d4+0x2c65),this['bakeHDR']||_0x842ee8['setDefine']('LIGHTMAP_R'+'GBM',''),_0x842ee8['lightMap']=this['blackTex']):(_0x842ee8['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'DIR',''),_0x842ee8['setDefine']('STD_LIGHTM'+'AP_DIR','')),_0x842ee8['cull']=bt,_0x842ee8['forceUv1']=!(-0xd10+0x102a+0x18d*-0x2),_0x842ee8['update'](),_0x842ee8;}['createMate'+'rials'](_0xee084d,_0x4f2a97,_0x1838ad){for(let _0x6d4b33=-0x1*-0x1e6d+-0x1e01+0x24*-0x3;_0x6d4b33<_0x1838ad;_0x6d4b33++)this['passMateri'+'als'][_0x6d4b33]||(this['passMateri'+'als'][_0x6d4b33]=this['createMate'+'rialForPas'+'s'](_0x4f2a97,_0x6d4b33,!(0x1c42+0x1*0xe96+-0x2ad7)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x4f2a97,-0xa*-0x2ae+-0xe*0x46+-0x16f8,!(-0x1*-0x1cda+-0x843+-0x1*0x1497)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x59e045){return _0x59e045['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0xe24+-0x3b*0x92+0xfee*0x3),_0x59e045['litOptions']['separateAm'+'bient']=!(-0x189*0x9+0x1*-0x1449+0x1e5*0x12),_0x59e045;});}['createText'+'ure'](_0x5906e9,_0x37ef55){return new _e(this['device'],{'profilerHint':vy,'width':_0x5906e9,'height':_0x5906e9,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(-0x16*-0x22+0x1d10+-0x1ffb),'type':this['bakeHDR']?Ds:Zi,'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0x37ef55});}['collectMod'+'els'](_0x528797,_0x3b6593,_0x2b0316){var _0x491333,_0x3f6da,_0x18a251;if(!_0x528797['enabled'])return;let _0x8e9622;if((_0x491333=_0x528797['model'])!=null&&_0x491333['model']&&((_0x3f6da=_0x528797['model'])!=null&&_0x3f6da['enabled'])&&(_0x2b0316&&_0x2b0316['push'](new vc(_0x528797)),_0x528797['model']['lightmappe'+'d']&&_0x3b6593&&(_0x8e9622=_0x528797['model']['model']['meshInstan'+'ces'])),(_0x18a251=_0x528797['render'])!=null&&_0x18a251['enabled']&&(_0x2b0316&&_0x2b0316['push'](new vc(_0x528797)),_0x528797['render']['lightmappe'+'d']&&_0x3b6593&&(_0x8e9622=_0x528797['render']['meshInstan'+'ces'])),_0x8e9622){let _0x43c6dd=!(-0x2*-0x7e1+0x1ec6+-0x2e88*0x1);for(let _0x181ee9=-0x4*0x314+-0x1459*-0x1+0x79*-0x11;_0x181ee9<_0x8e9622['length'];_0x181ee9++)if(!_0x8e9622[_0x181ee9]['mesh']['vertexBuff'+'er']['format']['hasUv1']){w['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x528797['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x43c6dd=!(0x6ef+0xfff+-0x16ed*0x1);break;}if(_0x43c6dd){const _0x552d4b=[];for(let _0x141d2b=0x80e*-0x4+0x10f*-0x18+0x39a0;_0x141d2b<_0x8e9622['length'];_0x141d2b++){const _0xcc3f7d=_0x8e9622[_0x141d2b]['mesh'];this['_tempSet']['has'](_0xcc3f7d)?_0x3b6593['push'](new vc(_0x528797,[_0x8e9622[_0x141d2b]])):_0x552d4b['push'](_0x8e9622[_0x141d2b]),this['_tempSet']['add'](_0xcc3f7d);}this['_tempSet']['clear'](),_0x552d4b['length']>0x3cf+-0x425*0x1+0x2b*0x2&&_0x3b6593['push'](new vc(_0x528797,_0x552d4b));}}for(let _0x20f253=0x3e6*0x1+-0x1d*-0x12a+-0x25a8;_0x20f253<_0x528797['_children']['length'];_0x20f253++)this['collectMod'+'els'](_0x528797['_children'][_0x20f253],_0x3b6593,_0x2b0316);}['prepareSha'+'dowCasters'](_0x37a821){const _0x1b3121=[];for(let _0x33a7b4=0x16e0+-0x3*0x9ff+0x71d;_0x33a7b4<_0x37a821['length'];_0x33a7b4++){const _0x44e99f=_0x37a821[_0x33a7b4]['component'];if(_0x44e99f['castShadow'+'s']=_0x44e99f['castShadow'+'sLightmap'],_0x44e99f['castShadow'+'sLightmap']){const _0x534583=_0x37a821[_0x33a7b4]['meshInstan'+'ces'];for(let _0x3f2dad=0x5b2*-0x6+0x5bb+0x1c71;_0x3f2dad<_0x534583['length'];_0x3f2dad++)_0x534583[_0x3f2dad]['visibleThi'+'sFrame']=!(-0x11c3*0x1+-0x88*0x30+0x2b43),_0x1b3121['push'](_0x534583[_0x3f2dad]);}}return _0x1b3121;}['updateTran'+'sforms'](_0x53a929){for(let _0x17e9a2=0xcac+0x5e*-0x5e+0x1*0x15d8;_0x17e9a2<_0x53a929['length'];_0x17e9a2++){const _0x4d54a2=_0x53a929[_0x17e9a2]['meshInstan'+'ces'];for(let _0x28fe99=-0x1327+-0x31*0xb8+-0x1*-0x365f;_0x28fe99<_0x4d54a2['length'];_0x28fe99++)_0x4d54a2[_0x28fe99]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x273f59){let _0x260864;const _0x58fd31=this['scene']['lightmapSi'+'zeMultipli'+'er']||0x1*-0x18df+0x24e5+0xbf6*-0x1,_0x243835=xc;let _0x633327,_0xd3e844;_0x273f59['model']?(_0xd3e844=_0x273f59['model']['lightmapSi'+'zeMultipli'+'er'],_0x273f59['model']['asset']?(_0x260864=this['assets']['get'](_0x273f59['model']['asset'])['data'],_0x260864['area']&&(_0x633327=_0x260864['area'])):_0x273f59['model']['_area']&&(_0x260864=_0x273f59['model'],_0x260864['_area']&&(_0x633327=_0x260864['_area']))):_0x273f59['render']&&(_0xd3e844=_0x273f59['render']['lightmapSi'+'zeMultipli'+'er'],_0x273f59['render']['type']!=='asset'&&_0x273f59['render']['_area']&&(_0x260864=_0x273f59['render'],_0x260864['_area']&&(_0x633327=_0x260864['_area'])));const _0x199a29={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x633327&&(_0x199a29['x']=_0x633327['x'],_0x199a29['y']=_0x633327['y'],_0x199a29['z']=_0x633327['z'],_0x199a29['uv']=_0x633327['uv']);const _0x34dbcd=_0xd3e844||-0xf*0x10d+0x43f+0xb85;_0x199a29['x']*=_0x34dbcd,_0x199a29['y']*=_0x34dbcd,_0x199a29['z']*=_0x34dbcd;const _0x4ed2d0=_0x273f59['render']||_0x273f59['model'],_0x2cd316=this['computeNod'+'eBounds'](_0x4ed2d0['meshInstan'+'ces']);_0x243835['copy'](_0x2cd316['halfExtent'+'s']);let _0x164577=_0x199a29['x']*_0x243835['y']*_0x243835['z']+_0x199a29['y']*_0x243835['x']*_0x243835['z']+_0x199a29['z']*_0x243835['x']*_0x243835['y'];return _0x164577/=_0x199a29['uv'],_0x164577=Math['sqrt'](_0x164577),Math['min'](Y['nextPowerO'+'fTwo'](_0x164577*_0x58fd31),this['scene']['lightmapMa'+'xResolutio'+'n']||dL);}['setLightma'+'pping'](_0x50f2a0,_0x4c20ff,_0x44dc1a,_0x1b5dc0){for(let _0x29cd02=0x1d*0xe3+0x25a1+0x2*-0x1fac;_0x29cd02<_0x50f2a0['length'];_0x29cd02++){const _0x525988=_0x50f2a0[_0x29cd02],_0x104618=_0x525988['meshInstan'+'ces'];for(let _0x4e329f=-0x2*-0xd09+0x1*0x72b+0x7f*-0x43;_0x4e329f<_0x104618['length'];_0x4e329f++){const _0x26311f=_0x104618[_0x4e329f];if(_0x26311f['setLightma'+'pped'](_0x4c20ff),_0x4c20ff){_0x1b5dc0&&(_0x26311f['_shaderDef'+'s']|=_0x1b5dc0),_0x26311f['mask']=di;for(let _0x237bd2=-0x39a+-0x20d0+0x9e*0x3b;_0x237bd2<_0x44dc1a;_0x237bd2++){const _0x552c73=_0x525988['renderTarg'+'ets'][_0x237bd2]['colorBuffe'+'r'];_0x552c73['minFilter']=vt,_0x552c73['magFilter']=vt,_0x26311f['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0x237bd2],_0x552c73);}}}}}['bake'](_0x506ceb,_0x2e81c0=jc){const _0x4ae1a5=this['device'],_0x29011d=de();this['scene']['_updateSky'+'Mesh'](),_0x4ae1a5['fire']('lightmappe'+'r:start',{'timestamp':_0x29011d,'target':this}),this['stats']['renderPass'+'es']=0x7c*-0xf+-0x193+0x49*0x1f,this['stats']['shadowMapT'+'ime']=-0x1039+-0x2*0xe1e+0x257*0x13,this['stats']['forwardTim'+'e']=0x5*-0x485+-0x17e*-0x3+-0x1*-0x121f;const _0x58d48a=_0x4ae1a5['_shaderSta'+'ts']['linked'],_0x2ed326=_0x4ae1a5['_renderTar'+'getCreatio'+'nTime'],_0x5ebf6b=_0x4ae1a5['_shaderSta'+'ts']['compileTim'+'e'],_0x31f08b=[],_0x553617=[];if(_0x506ceb){for(let _0x5884a6=-0x7ef*0x2+-0x120d+0x21eb;_0x5884a6<_0x506ceb['length'];_0x5884a6++)this['collectMod'+'els'](_0x506ceb[_0x5884a6],_0x31f08b,null);this['collectMod'+'els'](this['root'],null,_0x553617);}else this['collectMod'+'els'](this['root'],_0x31f08b,_0x553617);if(Q['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x31f08b['length']>-0x2428+-0xe*0xa7+0x2d4a){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0x3acb2a=_0x2e81c0===jc?-0x1bbd+-0x6ba+-0x19*-0x161:0x9*-0x2b6+-0x59*0x53+0x3542;this['setLightma'+'pping'](_0x31f08b,!(0x37c*-0xb+-0x1*-0x601+-0x2*-0x102a),_0x3acb2a),this['initBake'](_0x4ae1a5),this['bakeIntern'+'al'](_0x3acb2a,_0x31f08b,_0x553617);let _0x36ff1c=ou;_0x2e81c0===jc&&(_0x36ff1c|=uv),this['scene']['ambientBak'+'e']&&(_0x36ff1c|=pv),this['setLightma'+'pping'](_0x31f08b,!(0x2*0x1216+-0x96+-0x2396),_0x3acb2a,_0x36ff1c),this['finishBake'](_0x31f08b);}Q['popGpuMark'+'er'](this['device']);const _0xd134e4=de();this['stats']['totalRende'+'rTime']=_0xd134e4-_0x29011d,this['stats']['shadersLin'+'ked']=_0x4ae1a5['_shaderSta'+'ts']['linked']-_0x58d48a,this['stats']['compileTim'+'e']=_0x4ae1a5['_shaderSta'+'ts']['compileTim'+'e']-_0x5ebf6b,this['stats']['fboTime']=_0x4ae1a5['_renderTar'+'getCreatio'+'nTime']-_0x2ed326,this['stats']['lightmapCo'+'unt']=_0x31f08b['length'],_0x4ae1a5['fire']('lightmappe'+'r:end',{'timestamp':_0xd134e4,'target':this});}['allocateTe'+'xtures'](_0x2daf47,_0x2c8f92){for(let _0x1e81ac=-0x14ee+0x1*-0x6d3+-0x3f7*-0x7;_0x1e81ac<_0x2daf47['length'];_0x1e81ac++){const _0x319b0c=_0x2daf47[_0x1e81ac],_0xc8d987=this['calculateL'+'ightmapSiz'+'e'](_0x319b0c['node']);for(let _0x4268f9=-0x1324+-0xaef+0x1e13;_0x4268f9<_0x2c8f92;_0x4268f9++){const _0x3c6e5a=this['createText'+'ure'](_0xc8d987,'lightmappe'+'r_lightmap'+'_'+_0x1e81ac);zi['incRef'](_0x3c6e5a),_0x319b0c['renderTarg'+'ets'][_0x4268f9]=new gt({'colorBuffer':_0x3c6e5a,'depth':!(-0x1599+0x1*0xead+-0x6ed*-0x1)});}if(!this['renderTarg'+'ets']['has'](_0xc8d987)){const _0x539e8b=this['createText'+'ure'](_0xc8d987,'lightmappe'+'r_temp_lig'+'htmap_'+_0xc8d987);zi['incRef'](_0x539e8b),this['renderTarg'+'ets']['set'](_0xc8d987,new gt({'colorBuffer':_0x539e8b,'depth':!(-0x1082*-0x1+0x1*0x1ef3+0x1*-0x2f74)}));}}}['prepareLig'+'htsToBake'](_0x69621b,_0x5081f0){if(this['scene']['ambientBak'+'e']){const _0x407990=new Mg(this);_0x5081f0['push'](_0x407990);}const _0x2a7229=this['renderer']['lights'];for(let _0x7d5aed=-0x13f3+0x8c6*0x2+0x267;_0x7d5aed<_0x2a7229['length'];_0x7d5aed++){const _0x2d1411=_0x2a7229[_0x7d5aed],_0x22e678=new sL(this,_0x2d1411);_0x69621b['push'](_0x22e678),_0x2d1411['enabled']&&(_0x2d1411['mask']&fi)!==0x1f55*-0x1+-0x25*0x3d+0x2826&&(_0x2d1411['mask']=fi|di|Ss,_0x2d1411['shadowUpda'+'teMode']=_0x2d1411['type']===ve?lm:xr,_0x5081f0['push'](_0x22e678));}_0x5081f0['sort']();}['restoreLig'+'hts'](_0x33eec7){for(let _0x41d449=0x1*0x88a+0xfac+0x812*-0x3;_0x41d449<_0x33eec7['length'];_0x41d449++)_0x33eec7[_0x41d449]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](0x138c+0x1*0xe27+-0x21b3*0x1,-0x1d4d*0x1+-0x77f*-0x1+0x1*0x15ce,0x1c00+0x1ada+-0x36da),this['renderer']['setSceneCo'+'nstants'](),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Contrast')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Contrast']),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Brightness')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Brightness']);}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0x53ffc4){const _0x56bacd=new De();if(_0x53ffc4['length']>-0x884+-0xb6a*0x1+0x13ee){_0x56bacd['copy'](_0x53ffc4[-0x3*0x83a+-0x7*-0x203+0xa99]['aabb']);for(let _0x4cdf42=0x455+-0xd91+0x93d;_0x4cdf42<_0x53ffc4['length'];_0x4cdf42++)_0x56bacd['add'](_0x53ffc4[_0x4cdf42]['aabb']);}return _0x56bacd;}['computeNod'+'esBounds'](_0x7e38d8){for(let _0x110167=0x1bc5+-0x261f+0xa5a;_0x110167<_0x7e38d8['length'];_0x110167++){const _0x31ec21=_0x7e38d8[_0x110167]['meshInstan'+'ces'];_0x7e38d8[_0x110167]['bounds']=this['computeNod'+'eBounds'](_0x31ec21);}}['computeBou'+'nds'](_0x53b0c4){const _0x65c40a=new De();for(let _0x372eef=0xc2*0x1b+0x23c1+0x27*-0x171;_0x372eef<_0x53b0c4['length'];_0x372eef++){_0x65c40a['copy'](_0x53b0c4[-0x18c9+0x209*0xf+-0x5be]['aabb']);for(let _0x333d30=-0x1747+0x7*0x45d+-0x743;_0x333d30<_0x53b0c4['length'];_0x333d30++)_0x65c40a['add'](_0x53b0c4[_0x333d30]['aabb']);}return _0x65c40a;}['backupMate'+'rials'](_0x365483){for(let _0x87573a=0x4*0x3ce+0xca+-0x1002;_0x87573a<_0x365483['length'];_0x87573a++)this['materials'][_0x87573a]=_0x365483[_0x87573a]['material'];}['restoreMat'+'erials'](_0x3b26ed){for(let _0x17488f=0xa3a+-0xaa9*-0x1+0x1*-0x14e3;_0x17488f<_0x3b26ed['length'];_0x17488f++)_0x3b26ed[_0x17488f]['material']=this['materials'][_0x17488f];}['lightCamer'+'aPrepare'](_0x3f2e05,_0xc7a282){const _0x2101eb=_0xc7a282['light'];let _0x50075c;return _0x2101eb['type']===Ze&&(_0x50075c=_0x2101eb['getRenderD'+'ata'](null,0x6bb*0x1+-0x911+0x17*0x1a)['shadowCame'+'ra'],_0x50075c['_node']['setPositio'+'n'](_0x2101eb['_node']['getPositio'+'n']()),_0x50075c['_node']['setRotatio'+'n'](_0x2101eb['_node']['getRotatio'+'n']()),_0x50075c['_node']['rotateLoca'+'l'](-(0x617+-0x1a52+0x1495),0xfd6*-0x2+-0x10cd+0x3079,0x5b5+-0x219e+0x1be9),_0x50075c['projection']=ni,_0x50075c['nearClip']=_0x2101eb['attenuatio'+'nEnd']/(-0x1*0x227f+0x1*-0x11fa+-0x351*-0x11),_0x50075c['farClip']=_0x2101eb['attenuatio'+'nEnd'],_0x50075c['aspectRati'+'o']=-0x2002+-0x541*0x7+0xa*0x6e1,_0x50075c['fov']=_0x2101eb['_outerCone'+'Angle']*(-0x2*-0xccd+0x4ae+-0x1e46),this['renderer']['updateCame'+'raFrustum'](_0x50075c)),_0x50075c;}['lightCamer'+'aPrepareAn'+'dCull'](_0xb6cf09,_0x5438ec,_0x1bc61c,_0x26e177){const _0x17109a=_0xb6cf09['light'];let _0x1f905c=!(-0x27*-0xcb+-0x6*-0x42+-0x2079);if(_0x17109a['type']===ve){xc['copy'](_0x26e177['center']),xc['y']+=_0x26e177['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n'](xc),this['camera']['node']['setEulerAn'+'gles'](-(0x5*-0x3d3+0x257d+-0x2*0x902),-0x1b4+-0x3d*-0x89+0x59*-0x59,0x2036+0x33d+0x21*-0x113),this['camera']['nearClip']=0x24c8+-0x1669*-0x1+-0x3b31,this['camera']['farClip']=_0x26e177['halfExtent'+'s']['y']*(0x9d3*-0x1+0x233f+-0x196a);const _0x35c1b9=Math['max'](_0x26e177['halfExtent'+'s']['x'],_0x26e177['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0x35c1b9;}else _0xb6cf09['lightBound'+'s']['intersects'](_0x5438ec['bounds'])||(_0x1f905c=!(0x4eb+-0x4*0x336+-0x7ee*-0x1));if(_0x17109a['type']===Ze){let _0x19abf2=!(0x1*-0x1b73+0x1172+0xa02);const _0x130fa6=_0x5438ec['meshInstan'+'ces'];for(let _0x428e77=0x4a8*0x6+0x80c+0x31*-0xbc;_0x428e77<_0x130fa6['length'];_0x428e77++)if(_0x130fa6[_0x428e77]['_isVisible'](_0x1bc61c)){_0x19abf2=!(0x48b*-0x1+0x2*-0x3d6+0x35*0x3b);break;}_0x19abf2||(_0x1f905c=!(-0x1b0+0xd64*0x2+0x1*-0x1917));}return _0x1f905c;}['setupLight'+'Array'](_0x262029,_0x893098){_0x262029[ve]['length']=-0x19db+0x1de0+-0x405,_0x262029[Ke]['length']=-0x64*0x12+-0x3*0x2e7+0x4f*0x33,_0x262029[Ze]['length']=-0x4c5+0x7+0x2*0x25f,_0x262029[_0x893098['type']][-0x9*0x224+0x269f+-0x135b]=_0x893098,_0x893098['visibleThi'+'sFrame']=!(-0x15b3+0x2454+-0xea1);}['renderShad'+'owMap'](_0x2b6983,_0x144788,_0x4be120,_0x1bdca7){const _0x520240=_0x1bdca7['light'],_0x2eab49=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x123c70=_0x520240['castShadow'+'s']&&(!_0x2eab49||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x144788&&_0x123c70){if(!_0x520240['shadowMap']&&!_0x2eab49&&(_0x520240['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x520240)),_0x520240['type']===ve){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x520240,_0x2b6983,this['camera'],_0x4be120);const _0x2fda5f=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x520240,this['camera']);_0x2fda5f==null||_0x2fda5f['render']();}else{if(this['device']['isWebGPU'])return w['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(0xe9*0x12+-0x19*0x7+-0xfb3);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x520240,_0x2b6983,_0x4be120),this['renderer']['shadowRend'+'erer']['render'](_0x520240,this['camera'],!(0xbf*0x2f+0xa13+-0x907*0x5));}}return!(-0x208*0x5+0x9e3*0x1+0x45);}['postproces'+'sTextures'](_0x450e99,_0x28e367,_0x262429){const _0x2ac329=this['lightmapFi'+'lters']['getDilate'](_0x450e99,this['bakeHDR']);let _0x10d600;const _0x4b7fda=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x4b7fda&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x10d600=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x450e99['setBlendSt'+'ate'](pt['NOBLEND']),_0x450e99['setDepthSt'+'ate'](Yt['NODEPTH']),_0x450e99['setStencil'+'State'](null,null);for(let _0x14003c=0xee*-0x2+0x2c*-0x92+-0x1af4*-0x1;_0x14003c<_0x28e367['length'];_0x14003c++){const _0x4f9883=_0x28e367[_0x14003c];Q['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x14003c);for(let _0x2ce94c=0x23b3+-0x1947*-0x1+0x1be*-0x23;_0x2ce94c<_0x262429;_0x2ce94c++){const _0x29d2f3=_0x4f9883['renderTarg'+'ets'][_0x2ce94c],_0x4f0a03=_0x29d2f3['colorBuffe'+'r'],_0x16ee32=this['renderTarg'+'ets']['get'](_0x4f0a03['width']),_0x550773=_0x16ee32['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x4f0a03['width'],_0x4f0a03['height']);for(let _0x189b85=-0x284+0x1f20+-0x1c9c;_0x189b85<0x40*0x26+0x25*0xa3+-0x210e;_0x189b85++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x4f0a03),Ar(_0x450e99,_0x16ee32,_0x4b7fda&&_0x2ce94c===0x1194+-0x39d+-0x113*0xd&&_0x189b85===-0x1b4+0x149e+-0x12ea?_0x10d600:_0x2ac329),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x550773),Ar(_0x450e99,_0x29d2f3,_0x2ac329);}Q['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x54ddc4,_0x7afa07,_0x51c11b){const _0x5b2c3b=this['scene'],_0x2fe92d=_0x5b2c3b['layers'],_0x4cab22=this['device'],_0x53574f=_0x5b2c3b['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x4cab22,_0x5b2c3b,_0x54ddc4),this['setupScene'](),_0x2fe92d['_update'](),this['computeNod'+'esBounds'](_0x7afa07),this['allocateTe'+'xtures'](_0x7afa07,_0x54ddc4),this['renderer']['collectLig'+'hts'](_0x2fe92d);const _0x2b0544=[],_0x14f521=[];this['prepareLig'+'htsToBake'](_0x2b0544,_0x14f521),this['updateTran'+'sforms'](_0x51c11b);const _0x182f65=this['prepareSha'+'dowCasters'](_0x51c11b);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x182f65),this['renderer']['gpuUpdate'](_0x182f65);const _0x2da7d1=this['computeBou'+'nds'](_0x182f65);let _0x560c95,_0xaa37a1,_0x4b11a9,_0x37ee06;for(_0x560c95=0x7a9+0xe5a+0x1603*-0x1;_0x560c95<_0x7afa07['length'];_0x560c95++)for(_0x4b11a9=_0x7afa07[_0x560c95]['meshInstan'+'ces'],_0xaa37a1=-0x1f*0x6f+-0x11aa+0x1*0x1f1b;_0xaa37a1<_0x4b11a9['length'];_0xaa37a1++)_0x37ee06=_0x4b11a9[_0xaa37a1],_0x37ee06['setLightma'+'pped'](!(0x2399*-0x1+-0x1cd3+0x406d)),_0x37ee06['mask']=fi,_0x37ee06['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][0x1*0x2536+0x1f48+-0x447e*0x1],this['blackTex']),_0x37ee06['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][-0x1f0c+-0x1527+0x3434],this['blackTex']);for(_0xaa37a1=-0x201f+0x13b4+-0x11*-0xbb;_0xaa37a1<_0x14f521['length'];_0xaa37a1++)_0x14f521[_0xaa37a1]['light']['enabled']=!(-0x319*0x2+0x21*-0x25+-0x9c*-0x12);const _0x141e84=[[],[],[]];let _0x3a6fa0,_0x481a68,_0x3cb92c=!(0xc70+0x11*-0x8b+-0x334);for(_0x560c95=0x10ea*-0x1+-0x146+0x246*0x8;_0x560c95<_0x14f521['length'];_0x560c95++){const _0x561764=_0x14f521[_0x560c95],_0x354ae0=_0x561764 instanceof Mg,_0x3ced12=_0x561764['light']['type']===ve;let _0x7c9748=_0x561764['numVirtual'+'Lights'];_0x54ddc4>0x5*0x6a8+-0x7c7*-0x2+-0x30d5&&_0x7c9748>-0x6*-0x1ed+0x25a0+-0x1*0x312d&&_0x561764['light']['bakeDir']&&(_0x7c9748=0x25a*-0x10+-0xe55+0x19fb*0x2,w['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0x57ade3=-0x1*0x6cd+0x2a9+0x424;_0x57ade3<_0x7c9748;_0x57ade3++){Q['pushGpuMar'+'ker'](_0x4cab22,'Light:'+_0x561764['light']['_node']['name']+':'+_0x57ade3),_0x7c9748>0x1*-0x1f1b+0x22e0+-0x3c4&&_0x561764['prepareVir'+'tualLight'](_0x57ade3,_0x7c9748),_0x561764['startBake']();let _0x16f59b=!(0x787*-0x1+0x12e2+0x2*-0x5ad);const _0x3f3ee5=this['lightCamer'+'aPrepare'](_0x4cab22,_0x561764);for(_0x481a68=-0x536+0xc1*0x4+0x232*0x1;_0x481a68<_0x7afa07['length'];_0x481a68++){const _0x5a11ff=_0x7afa07[_0x481a68];if(_0x4b11a9=_0x5a11ff['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x561764,_0x5a11ff,_0x3f3ee5,_0x2da7d1))continue;this['setupLight'+'Array'](_0x141e84,_0x561764['light']);const _0x5651d2=_0x3ced12?[]:[_0x561764['light']];for(_0x53574f&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x5651d2,this['lightingPa'+'rams']),_0x16f59b=this['renderShad'+'owMap'](_0x2fe92d,_0x16f59b,_0x182f65,_0x561764),_0x53574f&&this['worldClust'+'ers']['update'](_0x5651d2,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x4b11a9),_0x3a6fa0=-0x1*-0x1882+0x1*-0x5f1+-0x1291;_0x3a6fa0<_0x54ddc4&&!(_0x3a6fa0>0x1dba*0x1+-0x67*0x25+-0xed7&&_0x57ade3>0xd12*-0x1+-0x23ff+0x3111||_0x354ae0&&_0x3a6fa0>0x106*-0xb+0x22b0+-0x2*0xbb7);_0x3a6fa0++){Q['pushGpuMar'+'ker'](_0x4cab22,'LMPass:'+_0x3a6fa0);const _0x2bc9ed=_0x5a11ff['renderTarg'+'ets'][_0x3a6fa0],_0x13c619=_0x5a11ff['renderTarg'+'ets'][_0x3a6fa0]['colorBuffe'+'r']['width'],_0x4db1f5=this['renderTarg'+'ets']['get'](_0x13c619),_0x283676=_0x4db1f5['colorBuffe'+'r'];_0x3a6fa0===0x14af+0x18c6+-0x2d75?_0x3cb92c=_0x5b2c3b['updateShad'+'ers']:_0x3cb92c&&(_0x5b2c3b['updateShad'+'ers']=!(0x261b*-0x1+0x23d5+0x246));let _0xb3f135=this['passMateri'+'als'][_0x3a6fa0];for(_0x354ae0&&_0x57ade3+(-0xc3f+0x17c3*-0x1+0x2403)===_0x7c9748&&_0x3a6fa0===0x122*0x19+0x914+-0x2566*0x1&&(_0xb3f135=this['ambientAOM'+'aterial']),_0xaa37a1=0xe1d+0x1*0x9a7+-0x34*0x75;_0xaa37a1<_0x4b11a9['length'];_0xaa37a1++)_0x4b11a9[_0xaa37a1]['material']=_0xb3f135;if(this['renderer']['updateShad'+'ers'](_0x4b11a9),_0x3a6fa0===uL&&this['constantBa'+'keDir']['setValue'](_0x561764['light']['bakeDir']?0x224c+0x25a3+-0x47ee:-0xd6f+0x17f7+-0xa88),_0x4cab22['isWebGPU']){const _0x1aecbf=new hL(_0x4cab22,this['renderer'],this['camera'],_0x53574f?this['worldClust'+'ers']:null,_0x4b11a9,_0x141e84);_0x1aecbf['init'](_0x4db1f5),_0x1aecbf['render'](),_0x1aecbf['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x4db1f5,!(-0x20df+0x14f6+0xbe9)),_0x53574f&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=0xe45*-0x1+0xadf*-0x2+-0x1b7*-0x15,this['renderer']['_shadowMap'+'Time']=0x14*-0x11a+-0xaf3*-0x3+-0xad1,this['renderer']['renderForw'+'ard'](this['camera'],_0x4db1f5,_0x4b11a9,_0x141e84,Aa),_0x4cab22['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x5a11ff['renderTarg'+'ets'][_0x3a6fa0]=_0x4db1f5,this['renderTarg'+'ets']['set'](_0x13c619,_0x2bc9ed),_0xaa37a1=-0x1*-0x1807+0x167*0x2+-0x1*0x1ad5;_0xaa37a1<_0x4b11a9['length'];_0xaa37a1++)_0x37ee06=_0x4b11a9[_0xaa37a1],_0x37ee06['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0x3a6fa0],_0x283676),_0x37ee06['_shaderDef'+'s']|=ou;Q['popGpuMark'+'er'](_0x4cab22);}this['restoreMat'+'erials'](_0x4b11a9);}_0x561764['endBake'](this['shadowMapC'+'ache']),Q['popGpuMark'+'er'](_0x4cab22);}}for(this['postproces'+'sTextures'](_0x4cab22,_0x7afa07,_0x54ddc4),_0x481a68=0xca4+-0x5fc+0xc*-0x8e;_0x481a68<_0x51c11b['length'];_0x481a68++)_0x51c11b[_0x481a68]['restore']();this['restoreLig'+'hts'](_0x2b0544),this['restoreSce'+'ne'](),_0x53574f||this['shadowMapC'+'ache']['clear']();}}const Wh=class Wh extends me{constructor(_0x2ecd55,_0x490f66){super(),h(this,'system'),h(this,'entity'),(this['system']=_0x2ecd55,this['entity']=_0x490f66,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x20e1fc,_0x6999b,_0x490d03){this['fire']('set_'+_0x20e1fc,_0x20e1fc,_0x6999b,_0x490d03);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x3143fd,_0x3bf34a){_0x3bf34a['forEach'](_0x2a90b8=>{const _0xd721fa=typeof _0x2a90b8=='object'?_0x2a90b8['name']:_0x2a90b8;Object['defineProp'+'erty'](_0x3143fd,_0xd721fa,{'get':function(){return this['data'][_0xd721fa];},'set':function(_0x27561d){const _0x419223=this['data'],_0x20bb29=_0x419223[_0xd721fa];_0x419223[_0xd721fa]=_0x27561d,this['fire']('set',_0xd721fa,_0x20bb29,_0x27561d);},'configurable':!(-0x1b62+-0xa5a+-0x1*-0x25bc)});}),_0x3143fd['_accessors'+'Built']=!(-0x1c7+-0x1*0xabd+0xc84);}['buildAcces'+'sors'](_0x418945){Wh['_buildAcce'+'ssors'](this,_0x418945);}['onSetEnabl'+'ed'](_0x45e62e,_0x471f8b,_0x341c42){_0x471f8b!==_0x341c42&&this['entity']['enabled']&&(_0x341c42?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x46bb6b=this['system']['store'][this['entity']['getGuid']()];return _0x46bb6b?_0x46bb6b['data']:null;}set['enabled'](_0x3b69b5){}get['enabled'](){return!(0x125c+0x97f+0x3*-0x949);}};h(Wh,'order',0x46*-0x71+-0x93*0x36+0x3de8);let we=Wh;class ct extends me{constructor(_0x49fac8){super(),this['app']=_0x49fac8,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x4e3a75,_0x4c5ffc={}){const _0x5a1550=new this['ComponentT'+'ype'](this,_0x4e3a75),_0x5a6b38=new this['DataType']();return this['store'][_0x4e3a75['getGuid']()]={'entity':_0x4e3a75,'data':_0x5a6b38},_0x4e3a75[this['id']]=_0x5a1550,_0x4e3a75['c'][this['id']]=_0x5a1550,this['initialize'+'ComponentD'+'ata'](_0x5a1550,_0x4c5ffc,[]),this['fire']('add',_0x4e3a75,_0x5a1550),_0x5a1550;}['removeComp'+'onent'](_0x4c1f48){const _0x416746=this['id'],_0x548cc6=this['store'][_0x4c1f48['getGuid']()],_0x4b231a=_0x4c1f48['c'][_0x416746];_0x4b231a['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x4c1f48,_0x4b231a),delete this['store'][_0x4c1f48['getGuid']()],_0x4c1f48[_0x416746]=void(0xb7f+-0x18dc+0xd5d),delete _0x4c1f48['c'][_0x416746],this['fire']('remove',_0x4c1f48,_0x548cc6['data']);}['cloneCompo'+'nent'](_0x24171a,_0x3643cd){const _0x5a0c22=this['store'][_0x24171a['getGuid']()];return this['addCompone'+'nt'](_0x3643cd,_0x5a0c22['data']);}['initialize'+'ComponentD'+'ata'](_0xe40deb,_0x16b6f1={},_0x4aa459){for(let _0x403776=-0xa85+0x1693*-0x1+-0x18*-0x161,_0x5b20cb=_0x4aa459['length'];_0x403776<_0x5b20cb;_0x403776++){const _0x6960d9=_0x4aa459[_0x403776];let _0x21f1b7,_0x160d6b;typeof _0x6960d9=='object'?(_0x21f1b7=_0x6960d9['name'],_0x160d6b=_0x6960d9['type']):(_0x21f1b7=_0x6960d9,_0x160d6b=void(-0x631+-0x137e+0x19af));let _0x2048ab=_0x16b6f1[_0x21f1b7];_0x2048ab!==void(0x1*-0x2181+0x3*0x75b+-0x2dc*-0x4)?(_0x160d6b!==void(-0x18*0xe3+-0x21d4+-0x2*-0x1b8e)&&(_0x2048ab=mL(_0x2048ab,_0x160d6b)),_0xe40deb[_0x21f1b7]=_0x2048ab):_0xe40deb[_0x21f1b7]=_0xe40deb['data'][_0x21f1b7];}_0xe40deb['enabled']&&_0xe40deb['entity']['enabled']&&_0xe40deb['onEnable']();}['getPropert'+'iesOfType'](_0x5702d2){const _0x694184=[];return(this['schema']||[])['forEach'](_0x455024=>{_0x455024&&typeof _0x455024=='object'&&_0x455024['type']===_0x5702d2&&_0x694184['push'](_0x455024);}),_0x694184;}['destroy'](){this['off']();}}function mL(_0x3de1b2,_0x2dbc2f){if(!_0x3de1b2)return _0x3de1b2;switch(_0x2dbc2f){case'rgb':return _0x3de1b2 instanceof ie?_0x3de1b2['clone']():new ie(_0x3de1b2[-0x1c4d+-0xa0b+0x2658],_0x3de1b2[0x845+0x1c1e+0x2*-0x1231],_0x3de1b2[0x1942+0x63*-0x39+-0x1*0x335]);case'rgba':return _0x3de1b2 instanceof ie?_0x3de1b2['clone']():new ie(_0x3de1b2[-0x25e7+0x1fd1+0x616],_0x3de1b2[-0xaf7*-0x3+0x2575+0x29b*-0x1b],_0x3de1b2[-0x80b*0x1+-0x3*0xb32+-0xde1*-0x3],_0x3de1b2[-0x2483*-0x1+-0x2e9*0x3+0x1bc5*-0x1]);case'vec2':return _0x3de1b2 instanceof J?_0x3de1b2['clone']():new J(_0x3de1b2[-0x86c+-0x1*-0x436+0x436],_0x3de1b2[0x109*0x21+0x14*-0x1bb+0x74]);case'vec3':return _0x3de1b2 instanceof D?_0x3de1b2['clone']():new D(_0x3de1b2[-0x5*-0x6a9+-0x2354+0x207],_0x3de1b2[0x1c39+-0x1*-0x264b+-0x4283],_0x3de1b2[0x7c2+-0x10ea+0x92a]);case'vec4':return _0x3de1b2 instanceof re?_0x3de1b2['clone']():new re(_0x3de1b2[0x10*0x266+0x59*-0x65+-0x343],_0x3de1b2[0x150+0x1*0x59+-0x1a8],_0x3de1b2[0x7c8+0x6*-0x321+0x580*0x2],_0x3de1b2[0x10f6+-0x1c9*0x12+0xf2f]);case'boolean':case'number':case'string':return _0x3de1b2;case'entity':return _0x3de1b2;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x2dbc2f);}}const Bv=0x249+-0x1d*-0x10b+0x822*-0x4,Su=-0x1224+0x1003+0x222,yu=0x1333+-0x65f*0x5+0xcaa;class _L{constructor(){this['_left']=(-0x393+0x174*0x9+0x98*-0x10)/(-0xd16*0x1+-0x258c+0x32a2),this['_right']=-(0x407+-0x2029+0x3*0x961)/(-0x1*0x1c01+-0xa78+0x2679),this['_len']=0x8fa+0x13ae+-0x418*0x7,this['_recip']=-0xb52+-0x92f*-0x1+0x223,this['_p0']=0xef0+-0xe82+0x2*-0x37,this['_p1']=-0x1c30+0x39*0x53+0x9b5,this['_t']=0x930+-0x1*-0x772+-0x10a2,this['_hermite']={'valid':!(0xc2d+0x2521*-0x1+0x18f5),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x4599e1,_0x57b3a2){if(_0x4599e1<this['_left']||_0x4599e1>=this['_right']){const _0x3473fa=_0x57b3a2['length'];if(!_0x3473fa)this['_left']=-(-0x1409+-0x8*-0x390+0x72*-0x13)/(-0x2*-0x56d+-0x1b7e+0xf*0x11c),this['_right']=(-0x1e52+0x1a9*0x3+-0x1*-0x1958)/(0xaf1*0x3+0x397*-0x5+-0xee0),this['_len']=-0x1a33+0x1e*0xf6+-0x2a1,this['_recip']=0x1a9+0x1088+0x1*-0x1231,this['_p0']=this['_p1']=0xf03+0x66f+-0x1572;else{if(_0x4599e1<_0x57b3a2[-0xcd7+-0x12e1*0x1+-0x91*-0x38])this['_left']=-(0x1*0x6f7+0x7*0x3fe+-0x22e8)/(0x3*-0x704+0xb3*-0x22+0x2cd2),this['_right']=_0x57b3a2[-0xb66+0x746+0x420],this['_len']=0x549+0x1bc4+0x210d*-0x1,this['_recip']=0x40f+0x46*0x13+0x67*-0x17,this['_p0']=this['_p1']=0x95*0x28+-0x26c3+0xf7b*0x1;else{if(_0x4599e1>=_0x57b3a2[_0x3473fa-(0x23e+0x154a+-0x1787)])this['_left']=_0x57b3a2[_0x3473fa-(-0xa36+0x25ac+0x1*-0x1b75)],this['_right']=(0xb*-0x134+-0x1f8e*-0x1+-0x9*0x209)/(-0x7c+0x229*0xa+-0x70a*0x3),this['_len']=0x1*0x16e6+-0x174f+0x5*0x15,this['_recip']=0x1da2+0x3b*0x6a+-0x3610,this['_p0']=this['_p1']=_0x3473fa-(-0xcb5*-0x1+0x1272+-0x1f26);else{const _0x1a7ea5=this['_findKey'](_0x4599e1,_0x57b3a2);this['_left']=_0x57b3a2[_0x1a7ea5],this['_right']=_0x57b3a2[_0x1a7ea5+(-0x8b*0x29+0x3be*0x3+0xb0a)],this['_len']=this['_right']-this['_left'];const _0x403b08=(0x1eab+0x2*0xd01+-0x38ac)/this['_len'];this['_recip']=isFinite(_0x403b08)?_0x403b08:-0x81*0xf+0x100d+-0x87e,this['_p0']=_0x1a7ea5,this['_p1']=_0x1a7ea5+(-0xb*0x91+-0x1832+0x30b*0xa);}}}}this['_t']=this['_recip']===0x1*-0xabf+0x15c0+0xb01*-0x1?0x641+-0x112*0xe+0xf*0x95:(_0x4599e1-this['_left'])*this['_recip'],this['_hermite']['valid']=!(0x2277+-0x1*0x67b+-0x1bfb);}['_findKey'](_0x3779f7,_0x2fc541){let _0x577c1f=0xa56+0x392+0x59*-0x28;for(;_0x3779f7>=_0x2fc541[_0x577c1f+(-0x2b*0x5e+0x1*0xbe1+0x3ea)];)_0x577c1f++;return _0x577c1f;}['eval'](_0x3c49f7,_0x5a4d09,_0x2bb5d5){const _0xeae30a=_0x2bb5d5['_data'],_0x1c86fb=_0x2bb5d5['_component'+'s'],_0x2fd4bf=this['_p0']*_0x1c86fb;if(_0x5a4d09===Bv){for(let _0x5baba9=0x89b+0x14cf+0x2*-0xeb5;_0x5baba9<_0x1c86fb;++_0x5baba9)_0x3c49f7[_0x5baba9]=_0xeae30a[_0x2fd4bf+_0x5baba9];}else{const _0x9ca7ee=this['_t'],_0x15a675=this['_p1']*_0x1c86fb;switch(_0x5a4d09){case Su:for(let _0x158a24=-0x66e+-0x1512+0x1b80;_0x158a24<_0x1c86fb;++_0x158a24)_0x3c49f7[_0x158a24]=Y['lerp'](_0xeae30a[_0x2fd4bf+_0x158a24],_0xeae30a[_0x15a675+_0x158a24],_0x9ca7ee);break;case yu:{const _0x663d85=this['_hermite'];if(!_0x663d85['valid']){const _0x1a1df7=_0x9ca7ee*_0x9ca7ee,_0x1b8f02=_0x9ca7ee+_0x9ca7ee,_0x2635c3=0x286+0x1655*0x1+-0x18da-_0x9ca7ee,_0x296742=_0x2635c3*_0x2635c3;_0x663d85['valid']=!(0x824+-0x16cf*-0x1+-0x1ef3),_0x663d85['p0']=(-0x1093+0x25e2*0x1+-0x154e+_0x1b8f02)*_0x296742,_0x663d85['m0']=_0x9ca7ee*_0x296742,_0x663d85['p1']=_0x1a1df7*(-0xd*-0x15+-0x69+-0xa5-_0x1b8f02),_0x663d85['m1']=_0x1a1df7*(_0x9ca7ee-(-0x2b*-0xb5+0x2*-0x1267+0x668));}const _0x1ba11e=(this['_p0']*(-0x1*-0x995+-0xff4+0x56*0x13)+(0x7f7*0x2+-0x25f*0xd+0x773*0x2))*_0x1c86fb,_0x40ee3b=(this['_p0']*(-0x1931+0x78b+0x11a9)+(0x1bb*-0x14+0x24af+-0x211))*_0x1c86fb,_0x25e2ca=(this['_p1']*(-0x551*-0x2+0x250d+-0x1c4*0x1b)+(-0x1497+-0x3d*-0x73+-0x6cf))*_0x1c86fb,_0x1f3c61=(this['_p1']*(-0x1dda+-0x2*0x202+0x31*0xb1)+(-0x2*0x5b8+-0x3*0x2b5+0x3*0x685))*_0x1c86fb;for(let _0x4e644d=-0x1*-0xecf+0x3a9*0x1+-0x1278;_0x4e644d<_0x1c86fb;++_0x4e644d)_0x3c49f7[_0x4e644d]=_0x663d85['p0']*_0xeae30a[_0x1ba11e+_0x4e644d]+_0x663d85['m0']*_0xeae30a[_0x40ee3b+_0x4e644d]*this['_len']+_0x663d85['p1']*_0xeae30a[_0x25e2ca+_0x4e644d]+_0x663d85['m1']*_0xeae30a[_0x1f3c61+_0x4e644d]*this['_len'];break;}}}}}class Ig{constructor(_0x5eb35f){this['_name']=_0x5eb35f['name']+'Snapshot',this['_time']=-(0x4a*-0x63+0x178f+-0x3*-0x1b0),this['_cache']=[],this['_results']=[];for(let _0x57ce45=0xd*0x2e4+-0x3*-0xa07+0x1*-0x43a9;_0x57ce45<_0x5eb35f['_inputs']['length'];++_0x57ce45)this['_cache'][_0x57ce45]=new _L();const _0x5325e2=_0x5eb35f['_curves'],_0x3fae7f=_0x5eb35f['_outputs'];for(let _0x3c97fe=-0x58c*0x1+0x188*0x4+-0x94;_0x3c97fe<_0x5325e2['length'];++_0x3c97fe){const _0x183760=_0x5325e2[_0x3c97fe],_0x434190=_0x3fae7f[_0x183760['_output']],_0x5a1992=[];for(let _0x1e37e5=0x42*-0x83+0x18+-0x21ae*-0x1;_0x1e37e5<_0x434190['_component'+'s'];++_0x1e37e5)_0x5a1992[_0x1e37e5]=0x138e+-0x9*-0x56+-0x5*0x484;this['_results'][_0x3c97fe]=_0x5a1992;}}}const qo=class qo{constructor(_0x3b36da,_0x415ae0,_0x23bfd2,_0x159821,_0x311685,_0x110871){this['_name']=_0x3b36da['name'],this['_track']=_0x3b36da,this['_snapshot']=new Ig(_0x3b36da),this['_playing']=_0x159821,this['_time']=_0x415ae0,this['_speed']=_0x23bfd2,this['_loop']=_0x311685,this['_blendWeig'+'ht']=0x11e1+-0xe48+-0x398,this['_blendOrde'+'r']=0x49d+0x670+-0x3*0x3af,this['_eventHand'+'ler']=_0x110871,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0x35b14a){this['_name']=_0x35b14a;}get['name'](){return this['_name'];}set['track'](_0x5f3eb6){this['_track']=_0x5f3eb6,this['_snapshot']=new Ig(_0x5f3eb6);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x30c1d4){this['_time']=_0x30c1d4,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0x4f1e59){const _0x169939=Math['sign'](_0x4f1e59)!==Math['sign'](this['_speed']);this['_speed']=_0x4f1e59,_0x169939&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x34de02){this['_loop']=_0x34de02;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x59955d){this['_blendWeig'+'ht']=_0x59955d;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x1f602d){this['_blendOrde'+'r']=_0x1f602d;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x275ac5){this['_eventCurs'+'or']=_0x275ac5;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?0x3bb+-0xf71+0xbb6:this['_track']['events']['length']-(-0x1*-0x16af+-0x5b*-0x4a+-0x4c*0xa5);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<0x1*0xcc7+-0xf1+0x2*-0x5eb;}['nextEventA'+'headOfTime'](_0x51616d){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x51616d:this['nextEvent']['time']>=_0x51616d:!(0x591*-0x1+0x699*-0x1+-0x5*-0x26f);}['nextEventB'+'ehindTime'](_0x550c7b){return this['nextEvent']?_0x550c7b===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x550c7b:this['nextEvent']['time']<=_0x550c7b:this['isReverse']?this['nextEvent']['time']>_0x550c7b:this['nextEvent']['time']<_0x550c7b:!(-0xa18*0x3+0x1cce+0x1*0x17b);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(-0x1*-0xd78+-0x7cb+-0x5ac):0x1*0x1396+-0x9d4+-0x9c2;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(-0x70*-0x15+0x1*-0x1a3b+0x110c):-0xa0b+-0x6*-0x107+0x47*0xe,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=-0x3*0x8bd+0x1320+-0x1*-0x717:this['_eventCurs'+'or']<0x652*0x2+0xc3b+-0x18df&&(this['_eventCurs'+'or']=this['track']['events']['length']-(-0xde9+-0x2*-0x8ae+-0x372));}['clipFrameT'+'ime'](_0x32f347){const _0x99a072=qo['eventFrame'];_0x99a072['start']=0xa*0x317+-0xae4*-0x2+-0x34ae,_0x99a072['end']=_0x32f347,_0x99a072['residual']=0x1f50+-0x5*-0x2f7+-0x2e23,this['isReverse']?_0x32f347<0x56f*0x4+0x1b19+-0x30d5&&(_0x99a072['start']=this['track']['duration'],_0x99a072['end']=-0x1*0xcde+-0xf63+-0x1c41*-0x1,_0x99a072['residual']=_0x32f347+this['track']['duration']):_0x32f347>this['track']['duration']&&(_0x99a072['start']=-0xecb*0x2+-0x1*0x2228+-0x3fbe*-0x1,_0x99a072['end']=this['track']['duration'],_0x99a072['residual']=_0x32f347-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x4f368d,_0x26379b){return this['nextEventA'+'headOfTime'](_0x4f368d)&&this['nextEventB'+'ehindTime'](_0x26379b)?(this['fireNextEv'+'ent'](),!(0x1*-0x217b+-0x2201+0x269*0x1c)):!(-0x17d6+0x13*0xf4+0x3*0x1e9);}['activeEven'+'tsForFrame'](_0x227515,_0x27a99f){const _0x27a1f9=qo['eventFrame'];this['clipFrameT'+'ime'](_0x27a99f);const _0x293188=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x227515,_0x27a1f9['end'])&&_0x293188!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x27a1f9['residual'])>0xd50+-0x646*-0x1+-0x1396&&this['activeEven'+'tsForFrame'](_0x27a1f9['start'],_0x27a1f9['residual']);}['progressFo'+'rTime'](_0x3411f5){return _0x3411f5*this['_speed']/this['_track']['duration'];}['_update'](_0x2d91a9){if(this['_playing']){let _0x206eb2=this['_time'];const _0xd1449d=this['_track']['duration'],_0xf260b7=this['_speed'],_0xfb0127=this['_loop'];this['_track']['events']['length']>0xd*0x1df+-0x8d7+-0xf7c&&_0xd1449d>0x2f*0xce+-0x7*-0x3a9+-0x3f71&&this['activeEven'+'tsForFrame'](_0x206eb2,_0x206eb2+_0xf260b7*_0x2d91a9),_0x206eb2+=_0xf260b7*_0x2d91a9,_0xf260b7>=-0x1721+0x1*0x120a+-0x517*-0x1?_0x206eb2>_0xd1449d&&(_0xfb0127?_0x206eb2=_0x206eb2%_0xd1449d||0x20c6+0x2*-0x337+0xc*-0x232:(_0x206eb2=this['_track']['duration'],this['pause']())):_0x206eb2<-0x166c+-0xcf4+0x1*0x2360&&(_0xfb0127?_0x206eb2=_0xd1449d+(_0x206eb2%_0xd1449d||-0x811+0x1*-0x90b+0x111c):(_0x206eb2=0xb*-0xa1+0x122b+-0x3c0*0x3,this['pause']())),this['_time']=_0x206eb2;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(0x711+0x9a7+-0x10b8),this['_time']=-0x3*0x2fe+-0x1097+-0x11*-0x181;}['stop'](){this['_playing']=!(0x2*-0x135b+0x943+0x5e4*0x5),this['_time']=0x2*-0xe9d+-0x8ea+-0x4*-0x989;}['pause'](){this['_playing']=!(-0x1*0xa7e+0x1e10+-0x1*0x1391);}['resume'](){this['_playing']=!(-0x13d3+0x1342+-0x91*-0x1);}['reset'](){this['_time']=-0xa6a+-0x2280+0x2*0x1675;}};h(qo,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Dh=qo;const zv='NONE',gL='PREV_STATE',SL='NEXT_STATE',yL='PREV_STATE'+'_NEXT_STAT'+'E',vL='NEXT_STATE'+'_PREV_STAT'+'E',xL='GREATER_TH'+'AN',TL='LESS_THAN',wL='GREATER_TH'+'AN_EQUAL_T'+'O',EL='LESS_THAN_'+'EQUAL_TO',bL='EQUAL_TO',AL='NOT_EQUAL_'+'TO',Lg='INTEGER',Rg='FLOAT',Og='BOOLEAN',Qc='TRIGGER',CL='1D',PL='2D_DIRECTI'+'ONAL',ML='2D_CARTESI'+'AN',DL='DIRECT',Co='START',vu='END',qr='ANY',Ih=[Co,vu,qr],Vv='OVERWRITE',IL='ADDITIVE';class Ht{static['dot'](_0x2fc0f3,_0x4a5123){const _0x1a416a=_0x2fc0f3['length'];let _0xcbed8=-0x1975+-0x1849+0x31be;for(let _0x11e515=0x213*0xc+-0xa1*0xe+-0x80b*0x2;_0x11e515<_0x1a416a;++_0x11e515)_0xcbed8+=_0x2fc0f3[_0x11e515]*_0x4a5123[_0x11e515];return _0xcbed8;}static['normalize'](_0x4b0f7e){let _0x14c5f6=Ht['dot'](_0x4b0f7e,_0x4b0f7e);if(_0x14c5f6>-0xa1c+0x51f+0x4fd){_0x14c5f6=(0x4f*-0x78+0x11e3+0x102*0x13)/Math['sqrt'](_0x14c5f6);const _0x1df4a6=_0x4b0f7e['length'];for(let _0x1bcbc8=-0x2114+0x5*-0x192+0x28ee;_0x1bcbc8<_0x1df4a6;++_0x1bcbc8)_0x4b0f7e[_0x1bcbc8]*=_0x14c5f6;}}static['set'](_0x38080a,_0x2650ff,_0x31af00){const _0x944c58=_0x38080a['length'];if(_0x31af00==='quaternion'){let _0x18fe7d=Ht['dot'](_0x2650ff,_0x2650ff);_0x18fe7d>-0x136c+-0x24fb+0x3867&&(_0x18fe7d=(0x2de*-0x1+-0x1716+0x19f5)/Math['sqrt'](_0x18fe7d));for(let _0x1fbd7c=0x115*0x7+-0x2e*0x1+0x1*-0x765;_0x1fbd7c<_0x944c58;++_0x1fbd7c)_0x38080a[_0x1fbd7c]=_0x2650ff[_0x1fbd7c]*_0x18fe7d;}else{for(let _0x49d69a=0x20cf+0x19dd*0x1+-0x3aac;_0x49d69a<_0x944c58;++_0x49d69a)_0x38080a[_0x49d69a]=_0x2650ff[_0x49d69a];}}static['blendVec'](_0x5b2d44,_0x1465ce,_0x16ddf1,_0x3e625d){const _0x2f98e4=_0x3e625d?0x84f+0x1*-0x11cb+0x97d:0x14ab+-0xc71+-0x839-_0x16ddf1,_0x2d2ef8=_0x5b2d44['length'];for(let _0x4a11d8=-0x6*0x623+0xc89*0x3+0x3*-0x43;_0x4a11d8<_0x2d2ef8;++_0x4a11d8)_0x5b2d44[_0x4a11d8]=_0x5b2d44[_0x4a11d8]*_0x2f98e4+_0x1465ce[_0x4a11d8]*_0x16ddf1;}static['blendQuat'](_0x264403,_0x3e1418,_0x31a22f,_0x3f23e){const _0xc71df7=_0x264403['length'],_0x3a8012=_0x3f23e?0x1076+-0x12cd*-0x2+0x1205*-0x3:-0x4a*-0x16+-0xc*0x180+0x10f*0xb-_0x31a22f;Ht['dot'](_0x264403,_0x3e1418)<-0x164a+-0x8e*-0x2+0x152e&&(_0x31a22f=-_0x31a22f);for(let _0x3cae4b=0x111b+-0x7*-0x25e+-0x21ad;_0x3cae4b<_0xc71df7;++_0x3cae4b)_0x264403[_0x3cae4b]=_0x264403[_0x3cae4b]*_0x3a8012+_0x3e1418[_0x3cae4b]*_0x31a22f;_0x3f23e||Ht['normalize'](_0x264403);}static['blend'](_0x4a0c5f,_0x4926f2,_0x32b53d,_0x40ce66,_0x1e2e60){_0x40ce66==='quaternion'?Ht['blendQuat'](_0x4a0c5f,_0x4926f2,_0x32b53d,_0x1e2e60):Ht['blendVec'](_0x4a0c5f,_0x4926f2,_0x32b53d,_0x1e2e60);}static['stableSort'](_0x39839d,_0x5e8f46){const _0x24c5e1=_0x39839d['length'];for(let _0x3f7257=0xc81*0x3+-0x23d3+-0x1b0;_0x3f7257<_0x24c5e1-(-0x3c7+-0x894*0x4+-0x1*-0x2618);++_0x3f7257)for(let _0x143ba6=_0x3f7257+(-0x8*0x2ae+0x55b+-0x1016*-0x1);_0x143ba6<_0x24c5e1;++_0x143ba6)if(_0x5e8f46(_0x39839d[_0x143ba6],_0x39839d[_0x3f7257])){const _0x544713=_0x39839d[_0x3f7257];_0x39839d[_0x3f7257]=_0x39839d[_0x143ba6],_0x39839d[_0x143ba6]=_0x544713;}}}const st=class st{constructor(_0x27e8fb,_0x1c0225){this['_component']=_0x27e8fb,this['mask']=new Int8Array(_0x27e8fb['layers']['length']),this['weights']=new Float32Array(_0x27e8fb['layers']['length']),this['totalWeigh'+'t']=0x6*0x90+0x1139+-0x1499,this['counter']=-0x24b*0x1+-0xd3*-0x2f+0x26e*-0xf,this['layerCount'+'er']=-0x19b0+0x2*0xc89+0x9e,this['valueType']=_0x1c0225,this['dirty']=!(-0x48f*-0x5+0xf*-0x241+0xb04),this['value']=_0x1c0225===st['TYPE_QUAT']?[0x2633+-0xff3+-0x1640,0xd72+0x137a+0x4b4*-0x7,0xc61*0x1+0x1f5b+-0x2bbc,0x1*-0x1fcf+-0x972+-0x14a1*-0x2]:[0xca3*0x1+0x119a+0x1e3d*-0x1,0x1d*0x57+-0x1e3c+0x1461,0x9af+0x25*-0x29+-0x25*0x1a],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x59e69c){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===0x21ac+0x1353+-0x34ff||!this['mask'][_0x59e69c]?0x169c+-0xe3*0x1f+0x1*0x4e1:this['_normalize'+'Weights']?this['weights'][_0x59e69c]/this['totalWeigh'+'t']:Y['clamp'](this['weights'][_0x59e69c],0x1dad*0x1+0x24b*0x1+0xffc*-0x2,0x1144*-0x2+0x1*-0x1c68+0x3ef1);}['_layerBlen'+'dType'](_0x448a00){return this['_component']['layers'][_0x448a00]['blendType'];}['setMask'](_0x523818,_0x55d04a){this['mask'][_0x523818]=_0x55d04a,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x523818]['blendType']===Vv&&(this['mask']=this['mask']['fill'](0x72d*-0x5+-0x7e*-0x48+0x71,-0x13da+0x38*-0x1f+0x1aa2,_0x523818)),this['dirty']=!(-0x1a29+-0x973+-0x2b*-0xd4));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=0x1d39+-0xfd9*0x1+-0xd60;for(let _0x57ee94=0x1b05+0xc6*-0x1+0x1*-0x1a3f;_0x57ee94<this['weights']['length'];_0x57ee94++)this['weights'][_0x57ee94]=this['_component']['layers'][_0x57ee94]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x57ee94]*this['weights'][_0x57ee94];this['dirty']=!(0x1*0x812+0x11d4+-0x19e5);}['updateValu'+'e'](_0x424d7b,_0x55e78c){if(this['counter']===0xc6d*0x1+-0x1*-0x3e5+-0x1*0x1052&&(Ht['set'](this['value'],st['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Ht['blend'](this['value'],this['baseValue'],0x1*0x1cc9+-0x1be3+0xe5*-0x1,this['valueType'])),!(!this['mask'][_0x424d7b]||this['getWeight'](_0x424d7b)===-0x26*0xa8+0x673+0x127d)){if(this['_layerBlen'+'dType'](_0x424d7b)===IL&&!this['_normalize'+'Weights']){if(this['valueType']===st['TYPE_QUAT']){const _0x7a26b0=st['q1']['set'](this['value'][0x10d1+0x2254+-0x3325*0x1],this['value'][0x17ef+0x3a*0x75+0x1*-0x3270],this['value'][0x12ef+0x116b+-0x8*0x48b],this['value'][-0x17de+-0x1*0x1553+-0xb4d*-0x4]),_0x55e0c5=st['q2']['set'](this['baseValue'][0xdd2+-0x3*0x567+0x263],this['baseValue'][-0xe0f+-0x20f1+0x2f01],this['baseValue'][-0x3*-0xc5+0x162+-0x3af*0x1],this['baseValue'][0x3*0x691+0x1*0x19b+-0x154b]),_0x3cd6c6=st['q3']['set'](_0x55e78c[-0xad0+-0x883+0x1353],_0x55e78c[-0x9d0+-0xaf*0x25+0x231c],_0x55e78c[-0xf1e+-0xae5*0x2+-0x69*-0x5a],_0x55e78c[0xeea+0x976+0x7*-0x37b]),_0x4d6920=_0x55e0c5['invert']()['mul'](_0x3cd6c6);_0x4d6920['slerp'](le['IDENTITY'],_0x4d6920,this['getWeight'](_0x424d7b)),_0x7a26b0['mul'](_0x4d6920),st['quatArr'][0x674+0x4*-0x4b0+0xc4c]=_0x7a26b0['x'],st['quatArr'][0x261+-0xfe4+0x15a*0xa]=_0x7a26b0['y'],st['quatArr'][-0xff4+0xc88+0x36e]=_0x7a26b0['z'],st['quatArr'][-0x2036*0x1+0x205d+-0x24]=_0x7a26b0['w'],Ht['set'](this['value'],st['quatArr'],this['valueType']);}else st['vecArr'][0xbd1*0x2+-0x49*-0x71+0x1*-0x37db]=_0x55e78c[0xb09+0x1b59+0x2*-0x1331]-this['baseValue'][0x20c+-0x1*-0x1eef+-0x1*0x20fb],st['vecArr'][0x2*-0x64c+-0x24d0+0x3169]=_0x55e78c[-0x1bbb+-0x1ee+0x1daa]-this['baseValue'][-0x975+0x11ab+-0x835],st['vecArr'][-0x393+-0x2086+0x403*0x9]=_0x55e78c[0xeaa+0x895+-0x173d*0x1]-this['baseValue'][-0x1*0x2149+0x117e+0x329*0x5],Ht['blend'](this['value'],st['vecArr'],this['getWeight'](_0x424d7b),this['valueType'],!(0xd02+-0x5*-0x3fd+-0x697*0x5));}else Ht['blend'](this['value'],_0x55e78c,this['getWeight'](_0x424d7b),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};h(st,'TYPE_QUAT','quaternion'),h(st,'TYPE_VEC3','vector3'),h(st,'q1',new le()),h(st,'q2',new le()),h(st,'q3',new le()),h(st,'quatArr',[0xa6+0x18b7+0x1*-0x195d,-0xe5*0x19+0x42f+0x122e,0xc3f+0x2379*0x1+-0x2fb8,-0x22c3+-0x8f*-0x36+0x49a]),h(st,'vecArr',[0x1e6e+-0x246+-0x1c28,-0x2*-0xb6d+-0x5c5*-0x2+-0x2264,-0x1*-0x18f1+0x168+-0x1a59]),h(st,'IDENTITY_Q'+'UAT_ARR',[0x1*-0x266+-0x1*-0x2113+-0x1ead*0x1,0xd4*0x3+0x1978+-0x6fd*0x4,0x554*0x5+0x1*0x35f+-0x1e03,0xc2e*-0x2+0x1*-0x581+0x2*0xeef]);let Vo=st;class Gv{constructor(_0x5ad69b){this['_binder']=_0x5ad69b,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0x586fa3){const _0x107574=this['_targets'],_0x2b5228=this['_binder'],_0x27275d=_0x586fa3['track']['curves'],_0x550d12=_0x586fa3['snapshot'],_0x212731=[],_0x31f14c=[];for(let _0x33d92a=0x3*-0x1fd+0x17*0x7+0x556;_0x33d92a<_0x27275d['length'];++_0x33d92a){const _0xe8914b=_0x27275d[_0x33d92a]['paths'];for(let _0x31e093=0x17*0x19f+-0x8ba+-0x1c8f;_0x31e093<_0xe8914b['length'];++_0x31e093){const _0x412f96=_0xe8914b[_0x31e093],_0x11d94e=_0x2b5228['resolve'](_0x412f96);let _0xa848f1=_0x107574[_0x11d94e&&_0x11d94e['targetPath']||null];if(!_0xa848f1&&_0x11d94e){_0xa848f1={'target':_0x11d94e,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x4ac1b5=0xfa+0x216e*-0x1+-0x103a*-0x2;_0x4ac1b5<_0xa848f1['target']['components'];++_0x4ac1b5)_0xa848f1['value']['push'](0x1*-0x64a+0x11*-0x129+0x1a03*0x1);if(_0x107574[_0x11d94e['targetPath']]=_0xa848f1,_0x2b5228['animCompon'+'ent']){if(!_0x2b5228['animCompon'+'ent']['targets'][_0x11d94e['targetPath']]){let _0x2da5e5;_0x11d94e['targetPath']['substring'](_0x11d94e['targetPath']['length']-(-0x1*0xa17+-0x1bc5+0xca3*0x3))==='localRotat'+'ion'?_0x2da5e5=Vo['TYPE_QUAT']:_0x2da5e5=Vo['TYPE_VEC3'],_0x2b5228['animCompon'+'ent']['targets'][_0x11d94e['targetPath']]=new Vo(_0x2b5228['animCompon'+'ent'],_0x2da5e5);}_0x2b5228['animCompon'+'ent']['targets'][_0x11d94e['targetPath']]['layerCount'+'er']++,_0x2b5228['animCompon'+'ent']['targets'][_0x11d94e['targetPath']]['setMask'](_0x2b5228['layerIndex'],-0x1*0x17ed+-0x1e41+0x61*0x8f);}}_0xa848f1&&(_0xa848f1['curves']++,_0x212731['push'](_0x550d12['_results'][_0x33d92a]),_0x31f14c['push'](_0xa848f1));}}this['_clips']['push'](_0x586fa3),this['_inputs']['push'](_0x212731),this['_outputs']['push'](_0x31f14c);}['removeClip'](_0x575192){const _0x56713e=this['_targets'],_0x5e94f9=this['_binder'],_0x433f21=this['_clips'],_0x345908=_0x433f21[_0x575192]['track']['curves'];for(let _0x5b6d16=-0x1*0xf3b+0x265e+0x1*-0x1723;_0x5b6d16<_0x345908['length'];++_0x5b6d16){const _0x4d18df=_0x345908[_0x5b6d16]['paths'];for(let _0x2be45f=-0x3f*-0x79+0x1*0x1c62+-0x3a29;_0x2be45f<_0x4d18df['length'];++_0x2be45f){const _0x2973d2=_0x4d18df[_0x2be45f],_0x34cc2f=this['_binder']['resolve'](_0x2973d2);_0x34cc2f&&(_0x34cc2f['curves']--,_0x34cc2f['curves']===0x24a3*-0x1+0x34*-0xae+-0x47fb*-0x1&&(_0x5e94f9['unresolve'](_0x2973d2),delete _0x56713e[_0x34cc2f['targetPath']],_0x5e94f9['animCompon'+'ent']&&_0x5e94f9['animCompon'+'ent']['targets'][_0x34cc2f['targetPath']]['layerCount'+'er']--));}}_0x433f21['splice'](_0x575192,-0x1629+-0x3e5*-0x1+-0x3*-0x617),this['_inputs']['splice'](_0x575192,0x139b+0x241a+-0x9b*0x5c),this['_outputs']['splice'](_0x575192,0x1a54+0x7cb+-0x18d*0x16);}['removeClip'+'s'](){for(;this['_clips']['length']>-0xf3+0x1bf2+0x1aff*-0x1;)this['removeClip'](-0x1337*-0x1+0x15d8+-0x1*0x290f);}['updateClip'+'Track'](_0x4cefdd,_0x2ae63){this['_clips']['forEach'](_0x58b58b=>{_0x58b58b['name']['includes'](_0x4cefdd)&&(_0x58b58b['track']=_0x2ae63);}),this['rebind']();}['findClip'](_0x2179da){const _0x326f97=this['_clips'];for(let _0x1d30b2=-0xf26*0x1+0x17ac+0x1*-0x886;_0x1d30b2<_0x326f97['length'];++_0x1d30b2){const _0x54ee8a=_0x326f97[_0x1d30b2];if(_0x54ee8a['name']===_0x2179da)return _0x54ee8a;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0x288fd7=[...this['clips']];this['removeClip'+'s'](),_0x288fd7['forEach'](_0x21f54e=>{this['addClip'](_0x21f54e);});}['assignMask'](_0x56cf93){return this['_binder']['assignMask'](_0x56cf93);}['update'](_0x37149a,_0x1c0e83=!(-0x7b5+-0x1*0x1aea+0x229f*0x1)){const _0x21eaba=this['_clips'],_0x1c675b=_0x21eaba['map']((_0x1fc63b,_0x51998b)=>_0x51998b);Ht['stableSort'](_0x1c675b,(_0x14d618,_0x3d7e65)=>_0x21eaba[_0x14d618]['blendOrder']<_0x21eaba[_0x3d7e65]['blendOrder']);for(let _0x3f461b=0xeb*-0x4+-0x6ee+0xa9a;_0x3f461b<_0x1c675b['length'];++_0x3f461b){const _0x4481c6=_0x1c675b[_0x3f461b],_0x1f11d5=_0x21eaba[_0x4481c6],_0xfb1e5b=this['_inputs'][_0x4481c6],_0x534974=this['_outputs'][_0x4481c6],_0x1bbb18=_0x1f11d5['blendWeigh'+'t'];if(_0x1bbb18>0x25*-0x10d+-0xa*0x2a1+0x1*0x412b&&_0x1f11d5['_update'](_0x37149a),!_0x1c0e83)break;let _0x37d11d,_0x145866,_0x279d69;if(_0x1bbb18>=-0x47d*-0x4+-0x3bd+-0xd6*0x11){for(let _0x3bac9a=-0x13*-0x35+0xf1*-0x25+-0x317*-0xa;_0x3bac9a<_0xfb1e5b['length'];++_0x3bac9a)_0x37d11d=_0xfb1e5b[_0x3bac9a],_0x145866=_0x534974[_0x3bac9a],_0x279d69=_0x145866['value'],Ht['set'](_0x279d69,_0x37d11d,_0x145866['target']['type']),_0x145866['blendCount'+'er']++;}else{if(_0x1bbb18>0x200e*-0x1+0x13d+-0x31*-0xa1){for(let _0x488671=-0x1028+-0x255f+0x1*0x3587;_0x488671<_0xfb1e5b['length'];++_0x488671)_0x37d11d=_0xfb1e5b[_0x488671],_0x145866=_0x534974[_0x488671],_0x279d69=_0x145866['value'],_0x145866['blendCount'+'er']===0xd*-0x7c+-0x1*-0x26b9+-0x206d?Ht['set'](_0x279d69,_0x37d11d,_0x145866['target']['type']):Ht['blend'](_0x279d69,_0x37d11d,_0x1bbb18,_0x145866['target']['type']),_0x145866['blendCount'+'er']++;}}}const _0x5d6c12=this['_targets'],_0x3850d0=this['_binder'];for(const _0x3993a5 in _0x5d6c12)if(_0x5d6c12['hasOwnProp'+'erty'](_0x3993a5)){const _0x4bcdd0=_0x5d6c12[_0x3993a5];if(_0x3850d0['animCompon'+'ent']&&_0x4bcdd0['target']['isTransfor'+'m']){const _0x1b6e98=_0x3850d0['animCompon'+'ent']['targets'][_0x3993a5];_0x1b6e98['counter']===_0x1b6e98['layerCount'+'er']&&(_0x1b6e98['counter']=0x26a*-0xc+-0x5f*-0x1a+-0x2*-0x9a9),_0x1b6e98['path']||(_0x1b6e98['path']=_0x3993a5,_0x1b6e98['baseValue']=_0x4bcdd0['target']['get'](),_0x1b6e98['setter']=_0x4bcdd0['target']['set']),_0x1b6e98['updateValu'+'e'](_0x3850d0['layerIndex'],_0x4bcdd0['value']),_0x1b6e98['counter']++;}else _0x4bcdd0['target']['set'](_0x4bcdd0['value']);_0x4bcdd0['blendCount'+'er']=-0xf04+-0x841*-0x1+0x6c3;}this['_binder']['update'](_0x37149a);}}class Hv{constructor(_0x424b2d){this['_events']=[..._0x424b2d],this['_events']['sort']((_0x39556d,_0x28957c)=>_0x39556d['time']-_0x28957c['time']);}get['events'](){return this['_events'];}}const $h=class $h{constructor(_0x3d599c,_0x41e19c,_0x5ee3d1,_0x2bcbdd,_0xd11541,_0x32d7fd=new Hv([])){this['_name']=_0x3d599c,this['_duration']=_0x41e19c,this['_inputs']=_0x5ee3d1,this['_outputs']=_0x2bcbdd,this['_curves']=_0xd11541,this['_animEvent'+'s']=_0x32d7fd;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x4a5ffc){this['_animEvent'+'s']=_0x4a5ffc;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0x18f144,_0x19ac66){_0x19ac66['_time']=_0x18f144;const _0x7f9dbf=this['_inputs'],_0x4adb16=this['_outputs'],_0xfb9046=this['_curves'],_0x64c17f=_0x19ac66['_cache'],_0x134727=_0x19ac66['_results'];for(let _0x1b8c29=-0x2aa*0x1+-0x5*0x23a+-0x4*-0x373;_0x1b8c29<_0x7f9dbf['length'];++_0x1b8c29)_0x64c17f[_0x1b8c29]['update'](_0x18f144,_0x7f9dbf[_0x1b8c29]['_data']);for(let _0x4cde7f=0x2*0xfbc+0x2202+-0x417a;_0x4cde7f<_0xfb9046['length'];++_0x4cde7f){const _0x6a0108=_0xfb9046[_0x4cde7f],_0x1b7881=_0x4adb16[_0x6a0108['_output']],_0x21bace=_0x134727[_0x4cde7f];_0x64c17f[_0x6a0108['_input']]['eval'](_0x21bace,_0x6a0108['_interpola'+'tion'],_0x1b7881);}}};h($h,'EMPTY',Object['freeze'](new $h('empty',Number['MAX_VALUE'],[],[],[])));let Qi=$h;class ra{static['joinPath'](_0x526dba,_0xc3b449){_0xc3b449=_0xc3b449||'.';const _0x5aedaa=function(_0x5d1dbf){return _0x5d1dbf['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0xc3b449,'g'),'\x5c'+_0xc3b449);};return _0x526dba['map'](_0x5aedaa)['join'](_0xc3b449);}static['splitPath'](_0x5d9656,_0x1016b2){_0x1016b2=_0x1016b2||'.';const _0x13ba2d=[];let _0x805cb0='',_0x58d7ff=-0x1259+0x15a3+0x2*-0x1a5;for(;_0x58d7ff<_0x5d9656['length'];){let _0x3d205b=_0x5d9656[_0x58d7ff++];_0x3d205b==='\x5c'&&_0x58d7ff<_0x5d9656['length']?(_0x3d205b=_0x5d9656[_0x58d7ff++],_0x3d205b==='\x5c'||_0x3d205b===_0x1016b2?_0x805cb0+=_0x3d205b:_0x805cb0+='\x5c'+_0x3d205b):_0x3d205b===_0x1016b2?(_0x13ba2d['push'](_0x805cb0),_0x805cb0=''):_0x805cb0+=_0x3d205b;}return _0x805cb0['length']>0x1*0x107f+-0x1e03+0xd84&&_0x13ba2d['push'](_0x805cb0),_0x13ba2d;}static['encode'](_0x4caab4,_0x1b4c5f,_0xbc72e1){return(Array['isArray'](_0x4caab4)?_0x4caab4['join']('/'):_0x4caab4)+'/'+_0x1b4c5f+'/'+(Array['isArray'](_0xbc72e1)?_0xbc72e1['join']('/'):_0xbc72e1);}['resolve'](_0xb99859){return null;}['unresolve'](_0x2a5de6){}['update'](_0x18b02d){}}class xu{constructor(_0x5b7e85,_0x52114d,_0x3aa5e3,_0x52bfea){_0x5b7e85['set']?(this['_set']=_0x5b7e85['set'],this['_get']=_0x5b7e85['get']):this['_set']=_0x5b7e85,this['_type']=_0x52114d,this['_component'+'s']=_0x3aa5e3,this['_targetPat'+'h']=_0x52bfea,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x194c+-0x296+-0x16a9))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x1e47+0x23ac+0xf1*-0x46))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x63f*-0x6+-0xa1*0x9+-0x1fc7))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class Sr{constructor(_0x32527c){h(this,'_isPathInM'+'ask',(_0x18a64c,_0x3bcd85)=>{const _0x4237e3=this['_mask'][_0x18a64c];if(_0x4237e3){if(_0x4237e3['children']||_0x3bcd85&&_0x4237e3['value']!==!(0x211c+0xff1+-0x310c))return!(-0x1e*0xfd+0x5f9*0x6+-0x630);}else return!(0x2*-0x33d+0x21+0x65a);return!(-0x17*-0x4f+0x26d5+0x3*-0xf4f);});if(this['graph']=_0x32527c,!_0x32527c)return;this['_mask']=null;const _0xaaceb0={},_0x14c356=function(_0x3251ed){_0xaaceb0[_0x3251ed['name']]=_0x3251ed;for(let _0x1969c6=-0x259b+-0x109*-0x8+-0x1*-0x1d53;_0x1969c6<_0x3251ed['children']['length'];++_0x1969c6)_0x14c356(_0x3251ed['children'][_0x1969c6]);};_0x14c356(_0x32527c),this['nodes']=_0xaaceb0,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x198fab=function(_0x3dd384){let _0x2cae89=_0x3dd384;for(;_0x2cae89&&!(_0x2cae89 instanceof lt);)_0x2cae89=_0x2cae89['parent'];let _0x500223;return _0x2cae89&&(_0x2cae89['render']?_0x500223=_0x2cae89['render']['meshInstan'+'ces']:_0x2cae89['model']&&(_0x500223=_0x2cae89['model']['meshInstan'+'ces'])),_0x500223;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x26cf7e){const _0x1a8ee2=_0x26cf7e['localPosit'+'ion'],_0x45498d=function(_0x1c1e95){_0x1a8ee2['set'](..._0x1c1e95);};return Sr['createAnim'+'Target'](_0x45498d,'vector',-0x1b9a*-0x1+0x1fd4+-0x7*0x87d,_0x26cf7e,'localPosit'+'ion');},'localRotation':function(_0x116811){const _0x2c3084=_0x116811['localRotat'+'ion'],_0x4986d2=function(_0x49c5b7){_0x2c3084['set'](..._0x49c5b7);};return Sr['createAnim'+'Target'](_0x4986d2,'quaternion',-0x113*0x9+-0xd6e+0x171d,_0x116811,'localRotat'+'ion');},'localScale':function(_0x1c45e4){const _0x33049f=_0x1c45e4['localScale'],_0x2a57d8=function(_0x4d2866){_0x33049f['set'](..._0x4d2866);};return Sr['createAnim'+'Target'](_0x2a57d8,'vector',-0x8*-0x1da+-0xaa3+-0x42a,_0x1c45e4,'localScale');},'weight':function(_0x2d8058,_0x566a76){_0x566a76['indexOf']('name.')===0x1181*0x2+0x2291+-0x1731*0x3?_0x566a76=_0x566a76['replace']('name.',''):_0x566a76=Number(_0x566a76);const _0x56abde=_0x198fab(_0x2d8058);let _0x59a960;if(_0x56abde){for(let _0xb806de=0x937+-0x4*0x4+-0x927;_0xb806de<_0x56abde['length'];++_0xb806de)if(_0x56abde[_0xb806de]['node']['name']===_0x2d8058['name']&&_0x56abde[_0xb806de]['morphInsta'+'nce']){const _0x204511=_0x56abde[_0xb806de]['morphInsta'+'nce'],_0x5aded2=_0x157025=>{_0x204511['setWeight'](_0x566a76,_0x157025[-0xfd9*0x1+-0x15b1+-0x2*-0x12c5]);};_0x59a960||(_0x59a960=[]),_0x59a960['push'](_0x5aded2);}}if(_0x59a960){const _0x9b71a6=_0x340332=>{for(let _0x105aef=0x22eb+-0x101d+0x967*-0x2;_0x105aef<_0x59a960['length'];++_0x105aef)_0x59a960[_0x105aef](_0x340332);};return Sr['createAnim'+'Target'](_0x9b71a6,'number',-0xae7*-0x1+-0x22ca*0x1+0x17e4,_0x2d8058,'weight.'+_0x566a76);}return null;},'materialTexture':(_0x124beb,_0x1b9c19)=>{const _0x349388=_0x198fab(_0x124beb);if(_0x349388){let _0x2adfb0;for(let _0x350b6f=-0x1*0xa5f+0x2416+-0x19b7*0x1;_0x350b6f<_0x349388['length'];++_0x350b6f)if(_0x349388[_0x350b6f]['node']['name']===_0x124beb['name']){_0x2adfb0=_0x349388[_0x350b6f];break;}if(_0x2adfb0){const _0x1bbf91=_0x3e915c=>{const _0x5ac832=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x3e915c[0x13a6+0x21*-0x40+-0xb66]);_0x5ac832&&_0x5ac832['resource']&&_0x5ac832['type']==='texture'&&(_0x2adfb0['material'][_0x1b9c19]=_0x5ac832['resource'],_0x2adfb0['material']['update']());};return Sr['createAnim'+'Target'](_0x1bbf91,'vector',0x37*0x1d+-0x5c3*-0x1+0xb*-0x117,_0x124beb,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x3c2767){if(!this['_mask'])return!(-0x2*0x9e4+0x2*-0x839+0x243a);const _0x248d77=[_0x3c2767['entityPath'][0x11f*0x1+0x2499+-0x25b8],this['graph']['name']];for(let _0x45a663=0x1466+0x219a+0x36*-0x100;_0x45a663<_0x248d77['length'];++_0x45a663){let _0x33c46c=_0x248d77[_0x45a663];if(this['_isPathInM'+'ask'](_0x33c46c,_0x3c2767['entityPath']['length']===0x1d2+0x4b5*-0x1+0x14*0x25))return!(-0x5*0x5f8+-0x1dd*0x7+0x2ae3*0x1);for(let _0xdbffc1=-0x7*-0x2a2+0x230c+-0x3579;_0xdbffc1<_0x3c2767['entityPath']['length'];_0xdbffc1++)if(_0x33c46c+='/'+_0x3c2767['entityPath'][_0xdbffc1],this['_isPathInM'+'ask'](_0x33c46c,_0xdbffc1===_0x3c2767['entityPath']['length']-(-0x1*0x136d+-0x1d9+0x1547)))return!(-0xa6*-0x26+-0x55*0x47+0x1*-0x111);}return!(-0x1ab2*0x1+-0x9*-0x3c3+-0x728);}['findNode'](_0x4ad80d){if(!this['_isPathAct'+'ive'](_0x4ad80d))return null;let _0x5cbb58;if(this['graph']&&(_0x5cbb58=this['graph']['findByPath'](_0x4ad80d['entityPath']),_0x5cbb58||(_0x5cbb58=this['graph']['findByPath'](_0x4ad80d['entityPath']['slice'](0x955*0x1+0x9*-0x12f+0x71*0x3)))),!_0x5cbb58){_0x5cbb58=this['nodes'][_0x4ad80d['entityPath'][_0x4ad80d['entityPath']['length']-(0x1b7*-0x3+0x6f1+-0x1cb)]||''];const _0x4ebed6=ra['encode'](_0x4ad80d['entityPath'][_0x4ad80d['entityPath']['length']-(-0x2*0x3f5+0x7c8+0x7*0x5)]||'','graph',_0x4ad80d['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x4ebed6]===-0xded+0x90*-0x10+0x16ee&&w['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x4ebed6+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x4ebed6])?this['visitedFal'+'lbackGraph'+'Paths'][_0x4ebed6]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x4ebed6]=0x140f*0x1+-0xf0b+-0x504;}return _0x5cbb58;}static['createAnim'+'Target'](_0x52a9ae,_0x1ebeb1,_0x9af252,_0x2b1ec8,_0x464e07,_0x183af2){const _0x1eeb6d=ra['encode'](_0x2b1ec8['path'],_0x183af2||'entity',_0x464e07);return new xu(_0x52a9ae,_0x1ebeb1,_0x9af252,_0x1eeb6d);}['resolve'](_0x3c7c44){const _0x4a6af7=ra['encode'](_0x3c7c44['entityPath'],_0x3c7c44['component'],_0x3c7c44['propertyPa'+'th']);let _0x31bb3e=this['targetCach'+'e'][_0x4a6af7];if(_0x31bb3e)return _0x31bb3e;const _0x96929b=this['findNode'](_0x3c7c44);if(!_0x96929b)return null;const _0x41be59=this['handlers'][_0x3c7c44['propertyPa'+'th']];return!_0x41be59||(_0x31bb3e=_0x41be59(_0x96929b),!_0x31bb3e)?null:(this['targetCach'+'e'][_0x4a6af7]=_0x31bb3e,this['nodeCounts'][_0x96929b['path']]?this['nodeCounts'][_0x96929b['path']]++:(this['activeNode'+'s']['push'](_0x96929b),this['nodeCounts'][_0x96929b['path']]=-0xe8c+-0x20f3*-0x1+-0x1*0x1266),_0x31bb3e);}['unresolve'](_0x2c3c53){if(_0x2c3c53['component']!=='graph')return;const _0x40b45b=this['nodes'][_0x2c3c53['entityPath'][_0x2c3c53['entityPath']['length']-(0x8f7+0x1ba0*0x1+-0x2496)]||''];if(this['nodeCounts'][_0x40b45b['path']]--,this['nodeCounts'][_0x40b45b['path']]===-0x456+0x1f43+0x71*-0x3d){const _0x211c99=this['activeNode'+'s'],_0xa04540=_0x211c99['indexOf'](_0x40b45b['node']),_0x433d03=_0x211c99['length'];_0xa04540<_0x433d03-(0x2*0x343+0x1*0x79+-0x6fe)&&(_0x211c99[_0xa04540]=_0x211c99[_0x433d03-(0x407+0x2048+-0x244e)]),_0x211c99['pop']();}}['update'](_0x3977a3){const _0x3a8451=this['activeNode'+'s'];for(let _0x21890c=0x7e5+-0x1*-0x21d3+0x3c*-0xb2;_0x21890c<_0x3a8451['length'];++_0x21890c)_0x3a8451[_0x21890c]['_dirtifyLo'+'cal']();}['assignMask'](_0x2fae19){return _0x2fae19!==this['_mask']?(this['_mask']=_0x2fae19,!(-0x2018+0x2d*-0xb1+0x3f35)):!(0x1d8f+-0x40*-0x88+-0x3f8e);}}class Wv extends we{constructor(){super(...arguments),h(this,'_animation'+'s',{}),h(this,'_assets',[]),h(this,'_loop',!(0x156b+-0x2f*-0x99+-0x3182)),h(this,'animEvalua'+'tor',null),h(this,'model',null),h(this,'skeleton',null),h(this,'fromSkel',null),h(this,'toSkel',null),h(this,'animations'+'Index',{}),h(this,'prevAnim',null),h(this,'currAnim',null),h(this,'blend',0xc0*0x4+-0x21bd*0x1+0x1ebd),h(this,'blending',!(-0x780+0x2492+0x427*-0x7)),h(this,'blendSpeed',-0x1cb+-0x1d02+0x1ecd),h(this,'activate',!(-0x1*-0x1a87+-0x1*0xf8d+-0xafa)),h(this,'speed',0x3*-0xb71+0x1*-0x1e25+0x1*0x4079);}set['animations'](_0xa0db78){this['_animation'+'s']=_0xa0db78,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x23e5fa){const _0x7d59ab=this['_assets'];if(_0x7d59ab&&_0x7d59ab['length']){for(let _0x3c3e52=0x9df+-0xf2+-0x1*0x8ed;_0x3c3e52<_0x7d59ab['length'];_0x3c3e52++)if(_0x7d59ab[_0x3c3e52]){const _0x3e9aed=this['system']['app']['assets']['get'](_0x7d59ab[_0x3c3e52]);if(_0x3e9aed){_0x3e9aed['off']('change',this['onAssetCha'+'nged'],this),_0x3e9aed['off']('remove',this['onAssetRem'+'oved'],this);const _0x3620d7=this['animations'+'Index'][_0x3e9aed['id']];this['currAnim']===_0x3620d7&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x3620d7],delete this['animations'+'Index'][_0x3e9aed['id']];}}}this['_assets']=_0x23e5fa;const _0x1eb7b5=_0x23e5fa['map'](_0x12edde=>_0x12edde instanceof pe?_0x12edde['id']:_0x12edde);this['loadAnimat'+'ionAssets'](_0x1eb7b5);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0x1e5eb1){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0x1e5eb1,this['skeleton']['addTime'](-0x38b+0x379*-0x1+0x704),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0x444bc3=this['animEvalua'+'tor']['clips'];for(let _0x43ade4=0x25bf+-0x1*0x91+-0x252e;_0x43ade4<_0x444bc3['length'];++_0x43ade4)_0x444bc3[_0x43ade4]['time']=_0x1e5eb1;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x1dcbc0=this['animEvalua'+'tor']['clips'];if(_0x1dcbc0['length']>-0x1+-0x3*0x2af+0x80e)return _0x1dcbc0[_0x1dcbc0['length']-(0x16ef+-0xef*0x1+-0x15ff)]['time'];}return 0x8b3+0x1fef+-0x28a2*0x1;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(w['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),-0x2685+0x578+0x210d);}set['loop'](_0x598f67){if(this['_loop']=_0x598f67,this['skeleton']&&(this['skeleton']['looping']=_0x598f67),this['animEvalua'+'tor']){for(let _0x1b67ea=0x5*0x219+-0x39b+-0x6e2;_0x1b67ea<this['animEvalua'+'tor']['clips']['length'];++_0x1b67ea)this['animEvalua'+'tor']['clips'][_0x1b67ea]['loop']=_0x598f67;}}get['loop'](){return this['_loop'];}['play'](_0x26ead4,_0x11cabc=-0x175c+-0x317+0x1a73){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x26ead4]){w['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x26ead4+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x26ead4,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0xa23522=this['animations'][this['prevAnim']],_0x487ea6=this['animations'][this['currAnim']];if(this['blending']=_0x11cabc>-0x3*-0x1f7+-0x20ab+-0xd63*-0x2&&!!this['prevAnim'],this['blending']&&(this['blend']=0x4fd*-0x1+-0x9bd*-0x3+-0xc1d*0x2,this['blendSpeed']=(-0x4b8*-0x8+0x17e5+0x4*-0xf69)/_0x11cabc),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0xa23522,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x487ea6):this['skeleton']['animation']=_0x487ea6),this['animEvalua'+'tor']){const _0xd4ebd8=this['animEvalua'+'tor'];if(this['blending']){for(;_0xd4ebd8['clips']['length']>0x8c*0x2d+-0xe*0x24c+0x78d;)_0xd4ebd8['removeClip'](0xbb7*0x3+0x87d*0x2+-0x341f);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x16f1c8=new Dh(this['animations'][this['currAnim']],0x2566+0x1*0x62a+-0x1*0x2b90,0x267f+0x1b0*0x2+-0x1*0x29de,!(0x225f+0x1e9*0x2+-0x2631),this['loop']);_0x16f1c8['name']=this['currAnim'],_0x16f1c8['blendWeigh'+'t']=this['blending']?-0x1fed+-0x906+0x28f3:-0xd41+-0x233*-0xc+0x2*-0x691,_0x16f1c8['reset'](),this['animEvalua'+'tor']['addClip'](_0x16f1c8);}}this['playing']=!(0x41*-0xb+-0x21d3+-0x124f*-0x2);}}['getAnimati'+'on'](_0x50af1b){return this['animations'][_0x50af1b];}['setModel'](_0x31190a){_0x31190a!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x31190a,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x2d5b35=this['entity']['model'];if(_0x2d5b35){const _0x4a7238=_0x2d5b35['model'];_0x4a7238&&_0x4a7238!==this['model']&&this['setModel'](_0x4a7238);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x1ac4bd=Object['keys'](this['_animation'+'s']);_0x1ac4bd['length']>0x1006+0xe7a*-0x2+0x14b*0xa&&this['play'](_0x1ac4bd[0x15cc+0xd68+0x4*-0x8cd]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x1dad14=this['model'],_0x1bcba9=this['animations'];let _0x139f24=!(-0x662+-0x6c1+0xd24),_0x1c6340=!(-0x1873*0x1+0x1fce+-0x75a);for(const _0x198820 in _0x1bcba9)_0x1bcba9['hasOwnProp'+'erty'](_0x198820)&&(_0x1bcba9[_0x198820]['constructo'+'r']===Qi?_0x1c6340=!(-0x10c0+-0x1c3f+0x2cff):_0x139f24=!(-0x1b0*0x17+0x373*0x1+0x235d));const _0x3ad681=_0x1dad14['getGraph']();_0x139f24?(this['fromSkel']=new Sf(_0x3ad681),this['toSkel']=new Sf(_0x3ad681),this['skeleton']=new Sf(_0x3ad681),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x3ad681)):_0x1c6340&&(this['animEvalua'+'tor']=new Gv(new Sr(this['entity'])));}['loadAnimat'+'ionAssets'](_0x3a72d5){if(!_0x3a72d5||!_0x3a72d5['length'])return;const _0x52460c=this['system']['app']['assets'],_0x28a9e8=_0x501330=>{if(_0x501330['resources']['length']>0x1*0x236c+-0xbed+-0x2*0xbbf){for(let _0x5e2c5d=0x1b36+-0x6b4+-0x1482;_0x5e2c5d<_0x501330['resources']['length'];_0x5e2c5d++)this['animations'][_0x501330['resources'][_0x5e2c5d]['name']]=_0x501330['resources'][_0x5e2c5d],this['animations'+'Index'][_0x501330['id']]=_0x501330['resources'][_0x5e2c5d]['name'];}else this['animations'][_0x501330['name']]=_0x501330['resource'],this['animations'+'Index'][_0x501330['id']]=_0x501330['name'];this['animations']=this['animations'];},_0x44935c=_0x2e8ea4=>{_0x2e8ea4['off']('change',this['onAssetCha'+'nged'],this),_0x2e8ea4['on']('change',this['onAssetCha'+'nged'],this),_0x2e8ea4['off']('remove',this['onAssetRem'+'oved'],this),_0x2e8ea4['on']('remove',this['onAssetRem'+'oved'],this),_0x2e8ea4['resource']?_0x28a9e8(_0x2e8ea4):(_0x2e8ea4['once']('load',_0x28a9e8,this),this['enabled']&&this['entity']['enabled']&&_0x52460c['load'](_0x2e8ea4));};for(let _0x3110c5=-0x1073*-0x1+-0xd83+-0x2f0,_0xad6ac1=_0x3a72d5['length'];_0x3110c5<_0xad6ac1;_0x3110c5++){const _0x4bc7aa=_0x52460c['get'](_0x3a72d5[_0x3110c5]);_0x4bc7aa?_0x44935c(_0x4bc7aa):_0x52460c['on']('add:'+_0x3a72d5[_0x3110c5],_0x44935c);}}['onAssetCha'+'nged'](_0x50df23,_0x210822,_0x3a96c0,_0xc19295){if(_0x210822==='resource'||_0x210822==='resources'){if(_0x210822==='resources'&&_0x3a96c0&&_0x3a96c0['length']===-0x5ff+-0x242d+0x2a2c&&(_0x3a96c0=null),_0x3a96c0){let _0x4fe93b=!(-0x1006*0x1+-0x925+0x192c);if(_0x3a96c0['length']>-0x12fb+0x16ae*-0x1+-0x14d5*-0x2){if(_0xc19295&&_0xc19295['length']>0x11b6+0x6a2+-0x1857){for(let _0x51344c=-0x2440+-0x214a+0x458a;_0x51344c<_0xc19295['length'];_0x51344c++)delete this['animations'][_0xc19295[_0x51344c]['name']];}else delete this['animations'][_0x50df23['name']];_0x4fe93b=!(0x1241*0x2+0x1a6*0xe+0x3b95*-0x1);for(let _0x4e5446=0x126c+0x1667+0x7*-0x5d5;_0x4e5446<_0x3a96c0['length'];_0x4e5446++)this['animations'][_0x3a96c0[_0x4e5446]['name']]=_0x3a96c0[_0x4e5446],!_0x4fe93b&&this['currAnim']===_0x3a96c0[_0x4e5446]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x4fe93b=!(0x1*-0xe2c+0x4*0x44f+0x4*-0xc4),this['play'](_0x3a96c0[_0x4e5446]['name']));_0x4fe93b||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0xc19295&&_0xc19295['length']>0xd7b+-0x1*-0x135a+0x4*-0x835){for(let _0x497cb5=0xe55+0x224d+-0x30a2;_0x497cb5<_0xc19295['length'];_0x497cb5++)delete this['animations'][_0xc19295[_0x497cb5]['name']];}this['animations'][_0x50df23['name']]=_0x3a96c0[0x404+-0x1099*-0x1+-0x1*0x149d]||_0x3a96c0,_0x4fe93b=!(0x2218+0x1cc6+-0x85*0x79),this['currAnim']===_0x50df23['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x4fe93b=!(-0x1b0f*0x1+0x3ab*0x6+-0x1*-0x50d),this['play'](_0x50df23['name'])),_0x4fe93b||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x50df23['id']]=_0x50df23['name'];}else{if(_0xc19295['length']>-0x3*-0x44d+-0x3*-0x147+0x1*-0x10bb){for(let _0x2679c8=0x12ee+0x242*0x4+0x3*-0x952;_0x2679c8<_0xc19295['length'];_0x2679c8++)delete this['animations'][_0xc19295[_0x2679c8]['name']],this['currAnim']===_0xc19295[_0x2679c8]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x50df23['name']],this['currAnim']===_0x50df23['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x50df23['id']];}}}['onAssetRem'+'oved'](_0x48ceaa){if(_0x48ceaa['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x48ceaa['resources']['length']>0x289*-0xa+0x3fd*0x1+-0x1*-0x155e){for(let _0xfc9d88=-0x3ed*-0x3+-0x8b5+-0x312;_0xfc9d88<_0x48ceaa['resources']['length'];_0xfc9d88++)delete this['animations'][_0x48ceaa['resources'][_0xfc9d88]['name']],this['currAnim']===_0x48ceaa['resources'][_0xfc9d88]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x48ceaa['name']],this['currAnim']===_0x48ceaa['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x48ceaa['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(0x2*-0xc9+0x64f*0x2+-0x1*0xb0b),this['skeleton']&&(this['skeleton']['currentTim'+'e']=0x7*0x341+-0x1087+-0x640,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x4df223=0x2592+-0x1a72+0x20*-0x59;_0x4df223<this['animEvalua'+'tor']['clips']['length'];++_0x4df223)this['animEvalua'+'tor']['clips'][_0x4df223]['stop']();this['animEvalua'+'tor']['update'](-0x1bc7+0xd83*0x1+-0x2*-0x722),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x627c0b=this['assets'],_0x3d3d79=this['system']['app']['assets'];if(_0x627c0b)for(let _0x27213e=0x2045*-0x1+-0x106c+0x30b1,_0x2ebb34=_0x627c0b['length'];_0x27213e<_0x2ebb34;_0x27213e++){let _0x51e915=_0x627c0b[_0x27213e];_0x51e915 instanceof pe||(_0x51e915=_0x3d3d79['get'](_0x51e915)),_0x51e915&&!_0x51e915['resource']&&_0x3d3d79['load'](_0x51e915);}if(this['activate']&&!this['currAnim']){const _0x5cbecd=Object['keys'](this['animations']);_0x5cbecd['length']>-0x3*-0x794+0x2429*0x1+-0x3ae5*0x1&&this['play'](_0x5cbecd[0x265f+-0x1359+-0x1306]);}}['onBeforeRe'+'move'](){for(let _0x195c1e=-0x6*-0x676+0x1a86+-0x414a;_0x195c1e<this['assets']['length'];_0x195c1e++){let _0x392c70=this['assets'][_0x195c1e];typeof _0x392c70=='number'&&(_0x392c70=this['system']['app']['assets']['get'](_0x392c70)),_0x392c70&&(_0x392c70['off']('change',this['onAssetCha'+'nged'],this),_0x392c70['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x11c4a9){if(this['blending']&&(this['blend']+=_0x11c4a9*this['blendSpeed'],this['blend']>=-0x270a+0xc60*0x1+0x1aab*0x1&&(this['blend']=-0x1d6a*0x1+-0x1062*0x1+0x2dcd)),this['playing']){const _0x1354f7=this['skeleton'];if(_0x1354f7!==null&&this['model']!==null){if(this['blending'])_0x1354f7['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x58b463=_0x11c4a9*this['speed'];_0x1354f7['addTime'](_0x58b463),this['speed']>-0x1fbc+-0x1671*-0x1+0x94b&&_0x1354f7['_time']===_0x1354f7['animation']['duration']&&!this['loop']?this['playing']=!(-0xd13+-0x1f*-0x67+0x1*0x9b):this['speed']<0x1d0a+0x362+-0x67c*0x5&&_0x1354f7['_time']===0x5ae*0x1+0x856+-0xe04&&!this['loop']&&(this['playing']=!(-0x5c*-0x8+-0x4d6+-0x1*-0x1f7));}this['blending']&&this['blend']===0x2604+-0x2071*0x1+-0x592&&(_0x1354f7['animation']=this['toSkel']['animation']),_0x1354f7['updateGrap'+'h']();}}const _0xc9cfb9=this['animEvalua'+'tor'];if(_0xc9cfb9){for(let _0xe7049f=0x1*0x393+0x1ba3+0x1*-0x1f36;_0xe7049f<_0xc9cfb9['clips']['length'];++_0xe7049f){const _0x5b0f8a=_0xc9cfb9['clips'][_0xe7049f];_0x5b0f8a['speed']=this['speed'],this['playing']?_0x5b0f8a['resume']():_0x5b0f8a['pause']();}this['blending']&&_0xc9cfb9['clips']['length']>0x265e+0x1c11*0x1+0x426e*-0x1&&(_0xc9cfb9['clips'][-0xd3f*0x1+-0xec*0x2+0x6*0x284]['blendWeigh'+'t']=this['blend']),_0xc9cfb9['update'](_0x11c4a9);}this['blending']&&this['blend']===0x5c1*0x3+-0x1832+0x6f0&&(this['blending']=!(0x1ea7+-0xd95+-0x1111*0x1));}}class LL{constructor(){this['enabled']=!(-0x12b8+-0x3f7*0x1+0x16af*0x1);}}const Tu=['enabled'];class RL extends ct{constructor(_0x1fb046){super(_0x1fb046),this['id']='animation',this['ComponentT'+'ype']=Wv,this['DataType']=LL,this['schema']=Tu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x11f968,_0x3cf67c,_0x1fafac){_0x1fafac=['activate','enabled','loop','speed','assets'];for(const _0x24d423 of _0x1fafac)_0x3cf67c['hasOwnProp'+'erty'](_0x24d423)&&(_0x11f968[_0x24d423]=_0x3cf67c[_0x24d423]);super['initialize'+'ComponentD'+'ata'](_0x11f968,_0x3cf67c,Tu);}['cloneCompo'+'nent'](_0x27a337,_0x6642ba){this['addCompone'+'nt'](_0x6642ba,{}),_0x6642ba['animation']['assets']=_0x27a337['animation']['assets']['slice'](),_0x6642ba['animation']['speed']=_0x27a337['animation']['speed'],_0x6642ba['animation']['loop']=_0x27a337['animation']['loop'],_0x6642ba['animation']['activate']=_0x27a337['animation']['activate'],_0x6642ba['animation']['enabled']=_0x27a337['animation']['enabled'];const _0x33926a={},_0x2d26a0=_0x27a337['animation']['animations'];for(const _0x33d809 in _0x2d26a0)_0x2d26a0['hasOwnProp'+'erty'](_0x33d809)&&(_0x33926a[_0x33d809]=_0x2d26a0[_0x33d809]);_0x6642ba['animation']['animations']=_0x33926a;const _0x149b63={},_0x4c888c=_0x27a337['animation']['animations'+'Index'];for(const _0x16196e in _0x4c888c)_0x4c888c['hasOwnProp'+'erty'](_0x16196e)&&(_0x149b63[_0x16196e]=_0x4c888c[_0x16196e]);return _0x6642ba['animation']['animations'+'Index']=_0x149b63,_0x6642ba['animation'];}['onBeforeRe'+'move'](_0x33ae7c,_0x42dc82){_0x42dc82['onBeforeRe'+'move']();}['onUpdate'](_0x34e52a){const _0x314eb5=this['store'];for(const _0x36e1e0 in _0x314eb5)if(_0x314eb5['hasOwnProp'+'erty'](_0x36e1e0)){const _0x458295=_0x314eb5[_0x36e1e0];_0x458295['data']['enabled']&&_0x458295['entity']['enabled']&&_0x458295['entity']['animation']['update'](_0x34e52a);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Wv['prototype'],Tu);class ml{constructor(_0x130b13,_0x56aa2e,_0x720f99,_0x1c281b,_0x563324=0x1*-0x1e2d+0x249a+-0x66c){this['_state']=_0x130b13,this['_parent']=_0x56aa2e,this['_name']=_0x720f99,Array['isArray'](_0x1c281b)?(this['_point']=new J(_0x1c281b[-0x13d*0x5+0x59*0x2c+-0x309*0x3],_0x1c281b[0x22b1+0x1*-0x11bd+0x1*-0x10f3]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x1c281b,this['_pointLeng'+'th']=_0x1c281b),this['_speed']=_0x563324,this['_weightedS'+'peed']=-0x151+-0x1741*-0x1+-0x15ef*0x1,this['_weight']=-0xd*0x6e+0x23a8+-0x1e11,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x51fbcf){this['_weight']=_0x51fbcf;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x5760fc=this['_state']['totalWeigh'+'t'];return _0x5760fc===0x23ff+-0xe44*-0x1+0x10c1*-0x3?-0xc57+0xbce*-0x1+-0x7*-0x373:this['weight']/_0x5760fc;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x428c13){this['_weightedS'+'peed']=_0x428c13;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x2096bc){this['_animTrack']=_0x2096bc;}get['animTrack'](){return this['_animTrack'];}}class Jn extends ml{constructor(_0x2d9ef4,_0x439c73,_0x1ae218,_0x4cc4ee,_0x2d8a4b,_0x595a17,_0x1b1f08,_0x3b48f3,_0x39d53a){super(_0x2d9ef4,_0x439c73,_0x1ae218,_0x4cc4ee),this['_parameter'+'s']=_0x2d8a4b,this['_parameter'+'Values']=new Array(_0x2d8a4b['length']),this['_children']=[],this['_findParam'+'eter']=_0x39d53a,this['_syncAnima'+'tions']=_0x1b1f08!==!(-0x78c+0xd67+0x2*-0x2ed),this['_pointCach'+'e']={};for(let _0x1a7c3f=0x2bc+0x184+-0x88*0x8;_0x1a7c3f<_0x595a17['length'];_0x1a7c3f++){const _0x4811c2=_0x595a17[_0x1a7c3f];_0x4811c2['children']?this['_children']['push'](_0x3b48f3(_0x4811c2['type'],_0x2d9ef4,this,_0x4811c2['name'],-0x1225+-0x8c2+0x1ae8,_0x4811c2['parameter']?[_0x4811c2['parameter']]:_0x4811c2['parameters'],_0x4811c2['children'],_0x4811c2['syncAnimat'+'ions'],_0x3b48f3,_0x39d53a)):this['_children']['push'](new ml(_0x2d9ef4,this,_0x4811c2['name'],_0x4811c2['point'],_0x4811c2['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x2c6e56){for(let _0x5e5e65=-0x13ce+-0x1*-0x19dd+-0x60f;_0x5e5e65<this['_children']['length'];_0x5e5e65++)if(this['_children'][_0x5e5e65]['name']===_0x2c6e56)return this['_children'][_0x5e5e65];return null;}['updatePara'+'meterValue'+'s'](){let _0x10eacc=!(0x6*0x637+0x1441+-0x1*0x398b);for(let _0x395236=0x7cd*-0x3+-0x2570+-0x1bd*-0x23;_0x395236<this['_parameter'+'Values']['length'];_0x395236++){const _0x2cabdf=this['_findParam'+'eter'](this['_parameter'+'s'][_0x395236])['value'];this['_parameter'+'Values'][_0x395236]!==_0x2cabdf&&(this['_parameter'+'Values'][_0x395236]=_0x2cabdf,_0x10eacc=!(-0x58*0x8+-0x2687+0x2948));}return _0x10eacc;}['getNodeWei'+'ghtedDurat'+'ion'](_0x5d449){return this['_children'][_0x5d449]['animTrack']['duration']/this['_children'][_0x5d449]['speedMulti'+'plier']*this['_children'][_0x5d449]['weight'];}['getNodeCou'+'nt'](){let _0x13a49a=-0x15*0xb1+0x15f8+0x1*-0x773;for(let _0x321bcf=-0x1fa6+-0x2f2*-0x1+0x1cb4;_0x321bcf<this['_children']['length'];_0x321bcf++)this['_children'][_0x321bcf]['constructo'+'r']===Jn?_0x13a49a+=this['_children'][_0x321bcf]['getNodeCou'+'nt']():_0x13a49a++;return _0x13a49a;}}class OL extends Jn{constructor(_0x23894d,_0x13923a,_0x3180b4,_0x1e9813,_0x452c74,_0x55934a,_0x40526d,_0x5b0033,_0x488c34){_0x55934a['sort']((_0x37fc69,_0x7d4d09)=>_0x37fc69['point']-_0x7d4d09['point']),super(_0x23894d,_0x13923a,_0x3180b4,_0x1e9813,_0x452c74,_0x55934a,_0x40526d,_0x5b0033,_0x488c34);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x48566b=-0x44*-0x2a+0x23ed*0x1+-0x2f15;this['_children'][0x1d*0x114+0x15d*0xf+-0x33b7]['weight']=-0x15dc+0x2131+-0xb55*0x1;for(let _0x5d0e35=0xd87+-0x2f*-0xa3+-0x2b74;_0x5d0e35<this['_children']['length'];_0x5d0e35++){const _0x464be1=this['_children'][_0x5d0e35];if(_0x5d0e35!==this['_children']['length']-(-0xb56+-0xc57+-0x1*-0x17ae)){const _0x48967d=this['_children'][_0x5d0e35+(-0x12a3+0x483*0x8+-0x1174)];if(_0x464be1['point']===_0x48967d['point'])_0x464be1['weight']=0x1740+0x4d*0x6a+-0x3722+0.5,_0x48967d['weight']=-0x1*0x2306+0x2688+-0x382+0.5;else{if(Y['between'](this['_parameter'+'Values'][0x6a*-0x49+0x12b+0x1d0f],_0x464be1['point'],_0x48967d['point'],!(0x13*-0x14c+0x2311+-0xa6d))){const _0x10ee07=Math['abs'](_0x464be1['point']-_0x48967d['point']),_0x11fc1c=Math['abs'](_0x464be1['point']-this['_parameter'+'Values'][0x110e+0x123+-0x1231]),_0x4bf80e=(_0x10ee07-_0x11fc1c)/_0x10ee07;_0x464be1['weight']=_0x4bf80e,_0x48967d['weight']=0xdca+-0xf1b*0x2+0x5*0x349-_0x4bf80e;}else _0x48967d['weight']=0xd2*0x1+-0x1ec3+0x16d*0x15;}}this['_syncAnima'+'tions']&&(_0x48566b+=_0x464be1['animTrack']['duration']/_0x464be1['absoluteSp'+'eed']*_0x464be1['weight']);}if(this['_syncAnima'+'tions'])for(let _0x19d6fc=-0x22ef+0x363+0x1f8c;_0x19d6fc<this['_children']['length'];_0x19d6fc++){const _0x364afa=this['_children'][_0x19d6fc];_0x364afa['weightedSp'+'eed']=_0x364afa['animTrack']['duration']/_0x364afa['absoluteSp'+'eed']/_0x48566b;}}}const ki=class ki extends Jn{['pointDista'+'nceCache'](_0x1304be,_0xfb67a3){const _0x1ad206=''+_0x1304be+_0xfb67a3;return this['_pointCach'+'e'][_0x1ad206]||(this['_pointCach'+'e'][_0x1ad206]=this['_children'][_0xfb67a3]['point']['clone']()['sub'](this['_children'][_0x1304be]['point'])),this['_pointCach'+'e'][_0x1ad206];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x981a35,_0x10872c;ki['_p']['set'](...this['_parameter'+'Values']),_0x981a35=0x1*-0x576+0x1df7+-0x2b9*0x9,_0x10872c=-0xc*-0x29c+-0x5d9+-0x35*0x7b;for(let _0x494049=-0x2c8+-0x5bb*0x6+0x252a;_0x494049<this['_children']['length'];_0x494049++){const _0x5eb9da=this['_children'][_0x494049],_0x3c2ece=_0x5eb9da['point'];ki['_pip']['set'](ki['_p']['x'],ki['_p']['y'])['sub'](_0x3c2ece);let _0x57c812=Number['MAX_VALUE'];for(let _0xba7fd6=0x1*-0x2593+0x1753*-0x1+0x5*0xc2e;_0xba7fd6<this['_children']['length'];_0xba7fd6++){if(_0x494049===_0xba7fd6)continue;const _0x2adb28=this['pointDista'+'nceCache'](_0x494049,_0xba7fd6),_0x1beb2a=Y['clamp'](-0x219c+-0x1*-0x1c21+0x24*0x27-ki['_pip']['dot'](_0x2adb28)/_0x2adb28['lengthSq'](),0x1*0x21ce+0x173c+0x2*-0x1c85,-0xc6e+0x2162+-0x1*0x14f3);_0x1beb2a<_0x57c812&&(_0x57c812=_0x1beb2a);}_0x5eb9da['weight']=_0x57c812,_0x981a35+=_0x57c812,this['_syncAnima'+'tions']&&(_0x10872c+=_0x5eb9da['animTrack']['duration']/_0x5eb9da['absoluteSp'+'eed']*_0x5eb9da['weight']);}for(let _0x566bb9=0x136b*-0x2+-0x106b+0x3741;_0x566bb9<this['_children']['length'];_0x566bb9++){const _0x17c188=this['_children'][_0x566bb9];_0x17c188['weight']=_0x17c188['_weight']/_0x981a35,this['_syncAnima'+'tions']&&(_0x17c188['weightedSp'+'eed']=_0x17c188['animTrack']['duration']/_0x17c188['absoluteSp'+'eed']/_0x10872c);}}};h(ki,'_p',new J()),h(ki,'_pip',new J());let wu=ki;const Ui=class Ui extends Jn{['pointCache'](_0x468518,_0x132250){const _0xf47a2e=''+_0x468518+_0x132250;return this['_pointCach'+'e'][_0xf47a2e]||(this['_pointCach'+'e'][_0xf47a2e]=new J((this['_children'][_0x132250]['pointLengt'+'h']-this['_children'][_0x468518]['pointLengt'+'h'])/((this['_children'][_0x132250]['pointLengt'+'h']+this['_children'][_0x468518]['pointLengt'+'h'])/(-0x3*-0x6a3+-0x1*-0xb5c+-0x1f43)),J['angleRad'](this['_children'][_0x468518]['point'],this['_children'][_0x132250]['point'])*(-0x87*0x29+0x17a5+-0x204))),this['_pointCach'+'e'][_0xf47a2e];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x1fbed8,_0x418d15;Ui['_p']['set'](...this['_parameter'+'Values']);const _0x18c650=Ui['_p']['length']();_0x1fbed8=-0x472*-0x2+0x2f*-0x1f+-0x333,_0x418d15=0x1*-0x250b+0x42*-0x66+0x3f57;for(let _0x569917=-0x1cb1+-0x2*0x4cb+0x2647;_0x569917<this['_children']['length'];_0x569917++){const _0x57e25e=this['_children'][_0x569917],_0x269c5d=_0x57e25e['point'],_0x3776b1=_0x57e25e['pointLengt'+'h'];let _0x2feba8=Number['MAX_VALUE'];for(let _0x38abd0=0x1479+-0x2493+0x9*0x1ca;_0x38abd0<this['_children']['length'];_0x38abd0++){if(_0x569917===_0x38abd0)continue;const _0x3418b6=this['pointCache'](_0x569917,_0x38abd0),_0x15f851=this['_children'][_0x38abd0]['pointLengt'+'h'];Ui['_pip']['set']((_0x18c650-_0x3776b1)/((_0x15f851+_0x3776b1)/(0x1*0x104e+-0x23e1+0x1395)),J['angleRad'](_0x269c5d,Ui['_p'])*(0x271*-0x2+0x41b*-0x2+0xd1a));const _0x3e18b2=Y['clamp'](0x225f+0x1*0x6b+-0x22c9*0x1-Math['abs'](Ui['_pip']['dot'](_0x3418b6)/_0x3418b6['lengthSq']()),-0x1d*-0x26+-0x24a3+-0x1*-0x2055,0x1046*-0x2+0x128b*0x2+0x9*-0x81);_0x3e18b2<_0x2feba8&&(_0x2feba8=_0x3e18b2);}_0x57e25e['weight']=_0x2feba8,_0x1fbed8+=_0x2feba8,this['_syncAnima'+'tions']&&(_0x418d15+=_0x57e25e['animTrack']['duration']/_0x57e25e['absoluteSp'+'eed']*_0x57e25e['weight']);}for(let _0x1ac08c=0xcb*0x31+0x2ab+-0x2986;_0x1ac08c<this['_children']['length'];_0x1ac08c++){const _0x58cbf9=this['_children'][_0x1ac08c];if(_0x58cbf9['weight']=_0x58cbf9['_weight']/_0x1fbed8,this['_syncAnima'+'tions']){const _0x470305=_0x58cbf9['animTrack']['duration']/_0x418d15*_0x1fbed8;_0x58cbf9['weightedSp'+'eed']=_0x58cbf9['absoluteSp'+'eed']*_0x470305;}}}};h(Ui,'_p',new J()),h(Ui,'_pip',new J());let Eu=Ui;class FL extends Jn{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x5a6122=0x25b+-0xa2*-0x3a+0x12f*-0x21,_0x5254d6=-0x6f3+0x5*-0x625+-0x25ac*-0x1;for(let _0x8a7c1a=-0x1fa6+0x224e+-0x2a8;_0x8a7c1a<this['_children']['length'];_0x8a7c1a++)if(_0x5a6122+=Math['max'](this['_parameter'+'Values'][_0x8a7c1a],0x2702*0x1+0x1f7c+-0x2*0x233f),this['_syncAnima'+'tions']){const _0x218e18=this['_children'][_0x8a7c1a];_0x5254d6+=_0x218e18['animTrack']['duration']/_0x218e18['absoluteSp'+'eed']*_0x218e18['weight'];}for(let _0x389e6f=0x166d+-0xc*-0x92+-0x1d45;_0x389e6f<this['_children']['length'];_0x389e6f++){const _0x518955=this['_children'][_0x389e6f],_0x2d3f6a=Math['max'](this['_parameter'+'Values'][_0x389e6f],0x1*-0x1d57+-0x559*0x5+0x3814);_0x5a6122?(_0x518955['weight']=_0x2d3f6a/_0x5a6122,this['_syncAnima'+'tions']&&(_0x518955['weightedSp'+'eed']=_0x518955['animTrack']['duration']/_0x518955['absoluteSp'+'eed']/_0x5254d6)):(_0x518955['weight']=0x265d*-0x1+-0x2*0xfef+-0x1cd*-0x27,this['_syncAnima'+'tions']&&(_0x518955['weightedSp'+'eed']=0xaac+-0x15d*0x3+-0x695));}}}class Fg{constructor(_0x99c82f,_0x17ce63,_0x20c823=-0x2cf*-0x7+0x1*-0x1484+0xdc,_0x10a2d2=!(-0x2*0xddb+-0x1f05+0x3abb),_0x2e7bcb){h(this,'_animation'+'s',{}),h(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x99c82f,this['_name']=_0x17ce63,this['_speed']=_0x20c823,this['_loop']=_0x10a2d2,this['_hasAnimat'+'ions']=!(-0x95d+-0x2a*-0xc9+-0x179c),_0x2e7bcb?this['_blendTree']=this['_createTre'+'e'](_0x2e7bcb['type'],this,null,_0x17ce63,0x1*0x9e5+0x1978+-0x8d7*0x4,_0x2e7bcb['parameter']?[_0x2e7bcb['parameter']]:_0x2e7bcb['parameters'],_0x2e7bcb['children'],_0x2e7bcb['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new ml(this,null,_0x17ce63,0x470+-0x2*0xdc4+-0x1*-0x1719,_0x20c823));}['_createTre'+'e'](_0x42f651,_0x250d3c,_0x3a687c,_0x13f899,_0x3c704f,_0x490ef9,_0x3cc63e,_0xe90e3e,_0x2e6399,_0x3fb58){switch(_0x42f651){case CL:return new OL(_0x250d3c,_0x3a687c,_0x13f899,_0x3c704f,_0x490ef9,_0x3cc63e,_0xe90e3e,_0x2e6399,_0x3fb58);case ML:return new wu(_0x250d3c,_0x3a687c,_0x13f899,_0x3c704f,_0x490ef9,_0x3cc63e,_0xe90e3e,_0x2e6399,_0x3fb58);case PL:return new Eu(_0x250d3c,_0x3a687c,_0x13f899,_0x3c704f,_0x490ef9,_0x3cc63e,_0xe90e3e,_0x2e6399,_0x3fb58);case DL:return new FL(_0x250d3c,_0x3a687c,_0x13f899,_0x3c704f,_0x490ef9,_0x3cc63e,_0xe90e3e,_0x2e6399,_0x3fb58);}w['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x42f651);}['_getNodeFr'+'omPath'](_0x8a3eaa){let _0x1f747f=this['_blendTree'];for(let _0x1a4a80=-0x35*-0xad+-0x199+0x13*-0x1cd;_0x1a4a80<_0x8a3eaa['length'];_0x1a4a80++)_0x1f747f=_0x1f747f['getChild'](_0x8a3eaa[_0x1a4a80]);return _0x1f747f;}['addAnimati'+'on'](_0x12aa9b,_0x58943b){const _0x8cd5a=_0x12aa9b['join']('.'),_0x416a00=this['_animation'+'List']['findIndex'](_0x1c7274=>_0x1c7274['path']===_0x8cd5a);if(_0x416a00>=-0x2eb+-0x1416+0x1701)this['_animation'+'List'][_0x416a00]['animTrack']=_0x58943b;else{const _0x323bdb=this['_getNodeFr'+'omPath'](_0x12aa9b);_0x323bdb['animTrack']=_0x58943b,this['_animation'+'List']['push'](_0x323bdb);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>-0x1*-0x595+0xdd2+0x1367*-0x1&&this['_animation'+'List']['every'](_0x152d7f=>_0x152d7f['animTrack']&&_0x152d7f['animTrack']!==Qi['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x2917b5){this['_animation'+'List']=_0x2917b5,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x31adbc){this['_speed']=_0x31adbc;}get['speed'](){return this['_speed'];}set['loop'](_0x445e93){this['_loop']=_0x445e93;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===ml?-0x383+-0x1*0xb11+0xe95:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return Ih['indexOf'](this['name'])!==-(-0x1381*0x1+0x406*0x7+-0x8a8)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>0x5bd*-0x5+-0x2103+0x3db4){const _0x2dd97a=this['name']+'.'+this['animations'][0xd74+0x24ee+-0x3262]['animTrack']['name'],_0xeb582f=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x2dd97a);if(_0xeb582f)return _0xeb582f['loop'];}return!(-0x1*0x1ef9+0x2*-0x1288+-0x16ae*-0x3);}get['totalWeigh'+'t'](){let _0xec8c33=0x739+-0x1*0x31c+-0x41d;for(let _0xac3f28=0x2647+-0x4c*-0x52+-0x3e9f*0x1;_0xac3f28<this['animations']['length'];_0xac3f28++)_0xec8c33+=this['animations'][_0xac3f28]['weight'];return _0xec8c33;}get['timelineDu'+'ration'](){let _0x2bf30a=0x25f*-0x3+0x1b14+-0x13f7;for(let _0x3c7c42=-0x1*0x2593+-0xfad+-0x60*-0x8e;_0x3c7c42<this['animations']['length'];_0x3c7c42++){const _0x185b0f=this['animations'][_0x3c7c42];_0x185b0f['animTrack']['duration']>_0x2bf30a&&(_0x2bf30a=_0x185b0f['animTrack']['duration']);}return _0x2bf30a;}}class Lh{constructor({from:_0x12ec54,to:_0x3a5f4d,time:_0x4ba110=0x67f+-0xe82+0x1*0x803,priority:_0x308bd5=0x29*-0x76+0x16*0x19+0x860*0x2,conditions:_0x6a9bb4=[],exitTime:_0x168788=null,transitionOffset:_0x5f4436=null,interruptionSource:_0x538212=zv}){this['_from']=_0x12ec54,this['_to']=_0x3a5f4d,this['_time']=_0x4ba110,this['_priority']=_0x308bd5,this['_condition'+'s']=_0x6a9bb4,this['_exitTime']=_0x168788,this['_transitio'+'nOffset']=_0x5f4436,this['_interrupt'+'ionSource']=_0x538212;}get['from'](){return this['_from'];}set['to'](_0x5e1745){this['_to']=_0x5e1745;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class NL{constructor(_0x458d49,_0xf32b0f,_0xb7ed5f,_0x386406,_0x1ada07,_0x545fd5,_0x23386e){h(this,'_states',{}),h(this,'_stateName'+'s',[]),h(this,'_findTrans'+'itionsFrom'+'StateCache',{}),h(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),h(this,'_previousS'+'tateName',null),h(this,'_activeSta'+'teName',Co),h(this,'_activeSta'+'teDuration',0x1676+-0x1337+-0x33f),h(this,'_activeSta'+'teDuration'+'Dirty',!(-0x2083+-0x1*0xc77+-0x2cfa*-0x1)),h(this,'_playing',!(-0x43c+-0x1*-0x1949+-0x2*0xa86)),h(this,'_activate'),h(this,'_transitio'+'ns'),h(this,'_currTrans'+'itionTime',-0xa00+0xb80+-0x17f),h(this,'_totalTran'+'sitionTime',-0x197d+-0x311*0x8+0x3206*0x1),h(this,'_isTransit'+'ioning',!(-0x12a*0x1d+0x25c+0x1f67)),h(this,'_transitio'+'nInterrupt'+'ionSource',zv),h(this,'_transitio'+'nPreviousS'+'tates',[]),h(this,'_timeInSta'+'te',0x5b3+-0x2167+0x18a*0x12),h(this,'_timeInSta'+'teBefore',0x1e*0xa3+-0x1aeb*0x1+0x7d1),h(this,'findParame'+'ter',_0x1a36f1=>this['_findParam'+'eter'](_0x1a36f1)),(this['_animEvalu'+'ator']=_0x458d49,this['_eventHand'+'ler']=_0x1ada07,this['_findParam'+'eter']=_0x545fd5,this['_consumeTr'+'igger']=_0x23386e);for(let _0x3e0f6d=-0x9d+0x1d8f+-0x1ee*0xf;_0x3e0f6d<_0xf32b0f['length'];_0x3e0f6d++)this['_states'][_0xf32b0f[_0x3e0f6d]['name']]=new Fg(this,_0xf32b0f[_0x3e0f6d]['name'],_0xf32b0f[_0x3e0f6d]['speed'],_0xf32b0f[_0x3e0f6d]['loop'],_0xf32b0f[_0x3e0f6d]['blendTree']),this['_stateName'+'s']['push'](_0xf32b0f[_0x3e0f6d]['name']);this['_transitio'+'ns']=_0xb7ed5f['map'](_0x52bc9c=>new Lh({..._0x52bc9c})),this['_activate']=_0x386406;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0x5a315b){this['_activeSta'+'teName']=_0x5a315b;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x5d4bfe){this['_previousS'+'tateName']=_0x5d4bfe;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x27658d=!(0xade+0xdcc*-0x2+0x10ba);for(let _0x5ab789=0x2*0xbb2+-0x1eb3+0x74f;_0x5ab789<this['_stateName'+'s']['length'];_0x5ab789++)this['_states'][this['_stateName'+'s'][_0x5ab789]]['playable']||(_0x27658d=!(-0x2*0x38f+-0x4*0x2d5+0x1*0x1273));return _0x27658d;}set['playing'](_0x1e13d8){this['_playing']=_0x1e13d8;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x27dbce=-0x9f*0x13+0xd*-0x115+0x19de*0x1;for(let _0x289f1e=-0x201d*0x1+0x17*0x79+0x153e;_0x289f1e<this['activeStat'+'eAnimation'+'s']['length'];_0x289f1e++){const _0x4945d2=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x289f1e]['name']);_0x4945d2&&(_0x27dbce=Math['max'](_0x27dbce,_0x4945d2['track']['duration']));}this['_activeSta'+'teDuration']=_0x27dbce,this['_activeSta'+'teDuration'+'Dirty']=!(0x26df+-0x17ca+-0xf14);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x210221){this['_timeInSta'+'teBefore']=_0x210221,this['_timeInSta'+'te']=_0x210221;for(let _0x337d91=0x1ba2+-0x1*-0x1c4e+-0x37f0;_0x337d91<this['activeStat'+'eAnimation'+'s']['length'];_0x337d91++){const _0x3eb68b=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x337d91]['name']);_0x3eb68b&&(_0x3eb68b['time']=_0x210221);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x19dcae){return this['_animEvalu'+'ator']['assignMask'](_0x19dcae);}['_findState'](_0x2bc132){return this['_states'][_0x2bc132];}['_getActive'+'StateProgr'+'essForTime'](_0x436225){if(this['activeStat'+'eName']===Co||this['activeStat'+'eName']===vu||this['activeStat'+'eName']===qr)return 0xf5a+-0x2*-0x5f3+-0x1b3f;const _0x3b5b52=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][-0x56*0x33+-0x2077+0x3199]['name']);return _0x3b5b52?_0x3b5b52['progressFo'+'rTime'](_0x436225):null;}['_findTrans'+'itionsFrom'+'State'](_0x55a595){let _0x38bb21=this['_findTrans'+'itionsFrom'+'StateCache'][_0x55a595];return _0x38bb21||(_0x38bb21=this['_transitio'+'ns']['filter'](_0x406459=>_0x406459['from']===_0x55a595),ul(_0x38bb21),this['_findTrans'+'itionsFrom'+'StateCache'][_0x55a595]=_0x38bb21),_0x38bb21;}['_findTrans'+'itionsBetw'+'eenStates'](_0x30651a,_0x4113c8){let _0x398bba=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x30651a+'->'+_0x4113c8];return _0x398bba||(_0x398bba=this['_transitio'+'ns']['filter'](_0xb1cb46=>_0xb1cb46['from']===_0x30651a&&_0xb1cb46['to']===_0x4113c8),ul(_0x398bba),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x30651a+'->'+_0x4113c8]=_0x398bba),_0x398bba;}['_transitio'+'nHasCondit'+'ionsMet'](_0x445d0d){const _0x2e2430=_0x445d0d['conditions'];for(let _0x342506=-0x158a+-0xfd*0x16+-0x8a8*-0x5;_0x342506<_0x2e2430['length'];_0x342506++){const _0x47c283=_0x2e2430[_0x342506],_0x3474e8=this['_findParam'+'eter'](_0x47c283['parameterN'+'ame']);switch(_0x47c283['predicate']){case xL:if(!(_0x3474e8['value']>_0x47c283['value']))return!(0x1703+-0x19aa+0x2a8);break;case TL:if(!(_0x3474e8['value']<_0x47c283['value']))return!(0x6cf+0x67f+-0xd4d);break;case wL:if(!(_0x3474e8['value']>=_0x47c283['value']))return!(0x1e1*0x13+-0x44*0x79+-0x38e);break;case EL:if(!(_0x3474e8['value']<=_0x47c283['value']))return!(-0x1867+-0x1c55+0x1*0x34bd);break;case bL:if(_0x3474e8['value']!==_0x47c283['value'])return!(-0x2131+-0x1988*0x1+-0x2*-0x1d5d);break;case AL:if(_0x3474e8['value']===_0x47c283['value'])return!(0x1f87+0xaeb*-0x1+-0x19*0xd3);break;}}return!(0x1a0+0x3*-0x79a+-0x2*-0xa97);}['_findTrans'+'ition'](_0xee2714,_0xbf460){let _0x48ee2=[];if(_0xee2714&&_0xbf460)_0x48ee2=_0x48ee2['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0xee2714,_0xbf460));else{if(!this['_isTransit'+'ioning'])_0x48ee2=_0x48ee2['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x48ee2=_0x48ee2['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case gL:_0x48ee2=_0x48ee2['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x48ee2=_0x48ee2['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case SL:_0x48ee2=_0x48ee2['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x48ee2=_0x48ee2['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case yL:_0x48ee2=_0x48ee2['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x48ee2=_0x48ee2['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x48ee2=_0x48ee2['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case vL:_0x48ee2=_0x48ee2['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x48ee2=_0x48ee2['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x48ee2=_0x48ee2['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;}}if(_0x48ee2=_0x48ee2['filter'](_0x42e1f9=>{if(_0x42e1f9['to']===this['activeStat'+'eName'])return!(-0x10f0+-0x8*0xa4+0x1611);if(_0x42e1f9['hasExitTim'+'e']){let _0x1b9638=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x528d67=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0x42e1f9['exitTime']<0x233+-0x139*0x19+0x10d*0x1b&&this['activeStat'+'e']['loop']&&(_0x1b9638-=Math['floor'](_0x1b9638),_0x528d67-=Math['floor'](_0x528d67)),_0x528d67===_0x1b9638){if(_0x528d67!==_0x42e1f9['exitTime'])return null;}else{if(!(_0x42e1f9['exitTime']>_0x1b9638&&_0x42e1f9['exitTime']<=_0x528d67))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0x42e1f9);}),_0x48ee2['length']>0x36a*-0x9+0x137d+0xb3d){const _0x547eb0=_0x48ee2[0x25*0x6e+0x10ea+-0x10*0x20d];if(_0x547eb0['to']===vu){const _0x151d73=this['_findTrans'+'itionsFrom'+'State'](Co)[-0x607*0x1+0x23b0+0x9e3*-0x3];_0x547eb0['to']=_0x151d73['to'];}return _0x547eb0;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x2492b2){let _0x5b7fdc,_0x34c6df,_0x1d8ec5;this['previousSt'+'ate']=_0x2492b2['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x2492b2['to'],this['_activeSta'+'teDuration'+'Dirty']=!(-0x1*0xca1+-0x251f+0x31c0);for(let _0x35f404=0x42*0x92+-0x1*-0x43a+-0x1*0x29de;_0x35f404<_0x2492b2['conditions']['length'];_0x35f404++){const _0x19e76a=_0x2492b2['conditions'][_0x35f404];this['_findParam'+'eter'](_0x19e76a['parameterN'+'ame'])['type']===Qc&&this['_consumeTr'+'igger'](_0x19e76a['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0xb57cb5=Math['min'](this['_totalTran'+'sitionTime']!==-0x376*0x9+0x132f+0x3*0x3fd?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:-0xee7+-0xd*-0x74+-0x1*-0x904,-0x105d+-0x3*-0xc71+0x91*-0x25);for(let _0x79f6e2=0x13*0x1b1+-0x404+0x139*-0x17;_0x79f6e2<this['_transitio'+'nPreviousS'+'tates']['length'];_0x79f6e2++){this['_isTransit'+'ioning']?_0x79f6e2!==this['_transitio'+'nPreviousS'+'tates']['length']-(0x1846*-0x1+-0x27*0x15+-0x2*-0xdbd)?this['_transitio'+'nPreviousS'+'tates'][_0x79f6e2]['weight']*=-0x201a+-0x1*0x5f2+0x260d-_0xb57cb5:this['_transitio'+'nPreviousS'+'tates'][_0x79f6e2]['weight']=_0xb57cb5:this['_transitio'+'nPreviousS'+'tates'][_0x79f6e2]['weight']=0x2704+-0x260a+-0xf9,_0x5b7fdc=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x79f6e2]['name']);for(let _0x537d9f=0x3ab+0xac9*-0x3+-0x990*-0x3;_0x537d9f<_0x5b7fdc['animations']['length'];_0x537d9f++)_0x34c6df=_0x5b7fdc['animations'][_0x537d9f],_0x1d8ec5=this['_animEvalu'+'ator']['findClip'](_0x34c6df['name']+'.previous.'+_0x79f6e2),_0x1d8ec5||(_0x1d8ec5=this['_animEvalu'+'ator']['findClip'](_0x34c6df['name']),_0x1d8ec5['name']=_0x34c6df['name']+'.previous.'+_0x79f6e2),_0x79f6e2!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x1*0xb75+0x2ad*-0x5+0x18d7)&&_0x1d8ec5['pause']();}}this['_isTransit'+'ioning']=!(-0x1901+-0x914+0x2215),this['_totalTran'+'sitionTime']=_0x2492b2['time'],this['_currTrans'+'itionTime']=0x2*0xdd2+0x1c9+0x3*-0x9cf,this['_transitio'+'nInterrupt'+'ionSource']=_0x2492b2['interrupti'+'onSource'];const _0x1840c7=this['activeStat'+'e'],_0x3b10c7=_0x2492b2['transition'+'Offset']&&_0x2492b2['transition'+'Offset']>-0x5dd+-0xd24+-0x7*-0x2b7&&_0x2492b2['transition'+'Offset']<-0x19*0x3a+-0x6b*-0x27+-0xaa2;let _0x22fdba=-0x1*-0x25b8+0xbac+0xda*-0x3a,_0x4a2899=-0x1*0xadd+-0x234e+0xdf*0x35;if(_0x3b10c7){const _0x223355=_0x1840c7['timelineDu'+'ration']*_0x2492b2['transition'+'Offset'];_0x22fdba=_0x223355,_0x4a2899=_0x223355;}this['_timeInSta'+'te']=_0x22fdba,this['_timeInSta'+'teBefore']=_0x4a2899;for(let _0x1cf331=0x1*0x4b5+0x2fc+-0x7b1;_0x1cf331<_0x1840c7['animations']['length'];_0x1cf331++){if(_0x1d8ec5=this['_animEvalu'+'ator']['findClip'](_0x1840c7['animations'][_0x1cf331]['name']),_0x1d8ec5)_0x1d8ec5['reset']();else{const _0x565245=Number['isFinite'](_0x1840c7['animations'][_0x1cf331]['speed'])?_0x1840c7['animations'][_0x1cf331]['speed']:_0x1840c7['speed'];_0x1d8ec5=new Dh(_0x1840c7['animations'][_0x1cf331]['animTrack'],this['_timeInSta'+'te'],_0x565245,!(-0x52*-0xb+0x7d3+-0xb59),_0x1840c7['loop'],this['_eventHand'+'ler']),_0x1d8ec5['name']=_0x1840c7['animations'][_0x1cf331]['name'],this['_animEvalu'+'ator']['addClip'](_0x1d8ec5);}if(_0x2492b2['time']>-0x21cf+0x169f+0xb30*0x1?_0x1d8ec5['blendWeigh'+'t']=-0xccb*-0x2+-0x122+0x4*-0x61d:_0x1d8ec5['blendWeigh'+'t']=_0x1840c7['animations'][_0x1cf331]['normalized'+'Weight'],_0x1d8ec5['play'](),_0x3b10c7)_0x1d8ec5['time']=_0x1840c7['timelineDu'+'ration']*_0x2492b2['transition'+'Offset'];else{const _0xd8ae72=_0x1840c7['speed']>=0x6c3*-0x5+0x77f*-0x1+0x294e?-0x679+-0x7*0x1e7+0x9e5*0x2:this['activeStat'+'eDuration'];_0x1d8ec5['time']=_0xd8ae72;}}}['_transitio'+'nToState'](_0x3e4227){if(!this['_findState'](_0x3e4227))return;let _0x84d437=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x3e4227);_0x84d437||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x84d437=new Lh({'from':null,'to':_0x3e4227})),this['updateStat'+'eFromTrans'+'ition'](_0x84d437);}['assignAnim'+'ation'](_0xcdf33c,_0x399a3d,_0x2bf4a3,_0x5abc18){const _0x546eb1=_0xcdf33c['split']('.');let _0x45f70b=this['_findState'](_0x546eb1[-0x5*-0x2bd+-0x1*-0x172+-0x19*0x9b]);_0x45f70b||(_0x45f70b=new Fg(this,_0x546eb1[-0x2665+-0xb53+0x18dc*0x2],_0x2bf4a3),this['_states'][_0x546eb1[-0x289*0x7+-0x62*-0x55+-0xecb]]=_0x45f70b,this['_stateName'+'s']['push'](_0x546eb1[0x259d+-0x1918+-0xc85])),_0x45f70b['addAnimati'+'on'](_0x546eb1,_0x399a3d),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x45f70b['name'],_0x399a3d),_0x2bf4a3!==void(0xd*-0x2cc+0x22e3+0x1d*0xd)&&(_0x45f70b['speed']=_0x2bf4a3),_0x5abc18!==void(0x1*-0xda9+-0x680*-0x1+0x729)&&(_0x45f70b['loop']=_0x5abc18),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(0x94e*-0x3+0x23a0+-0x7b6);}['removeNode'+'Animations'](_0x2a9d0d){if(Ih['indexOf'](_0x2a9d0d)!==-(-0x1920+-0xa*0x377+-0x1*-0x3bc7))return!(0xa52*-0x1+0x789+-0xe*-0x33);const _0x17b812=this['_findState'](_0x2a9d0d);return _0x17b812?(_0x17b812['animations']=[],!(0x1b8e+0x97*-0xb+0x1511*-0x1)):(w['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x2a9d0d),!(-0xaa5+-0x11a0+0x1c46));}['play'](_0x446e1f){_0x446e1f&&this['_transitio'+'nToState'](_0x446e1f),this['_playing']=!(0x1e1e+0x1e22+-0x3c40);}['pause'](){this['_playing']=!(-0x13f4+-0x10a1+-0xdf*-0x2a);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=Co,this['_playing']=!(0x7dc+-0x24*0x2f+-0x13f),this['_currTrans'+'itionTime']=0x1211+0x160e+-0x316*0xd,this['_totalTran'+'sitionTime']=0x209c+-0x249c+-0x19*-0x29,this['_isTransit'+'ioning']=!(0x14b8+0xf93*-0x1+-0x524),this['_timeInSta'+'te']=-0x2*0x1f0+-0x194d*-0x1+-0x156d*0x1,this['_timeInSta'+'teBefore']=0xf57+0xc8*-0x1f+0x8e1*0x1,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x3f71c0){if(!this['_playing'])return;let _0x4cf4c8,_0x196f1d,_0xd8d30;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x3f71c0*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x3f71c0=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0x532e7d=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0x532e7d&&this['updateStat'+'eFromTrans'+'ition'](_0x532e7d),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x3f71c0,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x3da739=this['_totalTran'+'sitionTime']!==-0x1cc+0xc4e+0x2*-0x541?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x178a+-0x1ac5+0x9*0x5c;for(let _0x390df0=-0x65*-0x2a+0xa87+-0x1b19;_0x390df0<this['_transitio'+'nPreviousS'+'tates']['length'];_0x390df0++){_0x4cf4c8=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x390df0]['name']);const _0x2e63b3=this['_transitio'+'nPreviousS'+'tates'][_0x390df0]['weight'];for(let _0x230624=-0x232*0x1+-0x7f0+-0x511*-0x2;_0x230624<_0x4cf4c8['animations']['length'];_0x230624++)_0x196f1d=_0x4cf4c8['animations'][_0x230624],_0xd8d30=this['_animEvalu'+'ator']['findClip'](_0x196f1d['name']+'.previous.'+_0x390df0),_0xd8d30&&(_0xd8d30['blendWeigh'+'t']=(0x1be2+-0x7af*0x4+-0x1*-0x2db-_0x3da739)*_0x196f1d['normalized'+'Weight']*_0x2e63b3);}_0x4cf4c8=this['activeStat'+'e'];for(let _0x20bd2c=-0x254c+-0x1c8d+0x751*0x9;_0x20bd2c<_0x4cf4c8['animations']['length'];_0x20bd2c++)_0x196f1d=_0x4cf4c8['animations'][_0x20bd2c],this['_animEvalu'+'ator']['findClip'](_0x196f1d['name'])['blendWeigh'+'t']=_0x3da739*_0x196f1d['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(0x1654+-0xdeb+0x4*-0x21a);const _0x43c997=this['activeStat'+'eAnimation'+'s']['length'],_0x3b7a51=this['_animEvalu'+'ator']['clips']['length'];for(let _0x12ef14=-0x7*0x8+0x2*0x68d+-0xce2;_0x12ef14<_0x3b7a51-_0x43c997;_0x12ef14++)this['_animEvalu'+'ator']['removeClip'](0x22f7+0x800+-0x2af7);this['_transitio'+'nPreviousS'+'tates']=[],_0x4cf4c8=this['activeStat'+'e'];for(let _0x4f69b2=0x22c6*-0x1+0x3a3*-0x7+-0x38b*-0x11;_0x4f69b2<_0x4cf4c8['animations']['length'];_0x4f69b2++)_0x196f1d=_0x4cf4c8['animations'][_0x4f69b2],_0xd8d30=this['_animEvalu'+'ator']['findClip'](_0x196f1d['name']),_0xd8d30&&(_0xd8d30['blendWeigh'+'t']=_0x196f1d['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==ml){_0x4cf4c8=this['activeStat'+'e'];for(let _0x3c0022=0x12fb+0x16c7+-0x5*0x85a;_0x3c0022<_0x4cf4c8['animations']['length'];_0x3c0022++)_0x196f1d=_0x4cf4c8['animations'][_0x3c0022],_0xd8d30=this['_animEvalu'+'ator']['findClip'](_0x196f1d['name']),_0xd8d30&&(_0xd8d30['blendWeigh'+'t']=_0x196f1d['normalized'+'Weight'],_0x196f1d['parent']['syncAnimat'+'ions']&&(_0xd8d30['speed']=_0x196f1d['speed']));}}this['_animEvalu'+'ator']['update'](_0x3f71c0,this['activeStat'+'e']['hasAnimati'+'ons']);}}const wf=new J(),Tc=new D(),_o=new re(),go=new ie(),So=new le();class Fi extends Sr{constructor(_0x3fc434,_0x59b321,_0x4236e9,_0x374c0c,_0x4aa515){super(_0x59b321),this['animCompon'+'ent']=_0x3fc434,this['_mask']=_0x374c0c,this['layerName']=_0x4236e9,this['layerIndex']=_0x4aa515;}static['_packFloat'](_0x431ef4){return _0x431ef4[-0x10a4+0xf1*-0x3+0x1377];}static['_packBoole'+'an'](_0x12d67e){return!!_0x12d67e[-0xfa0+-0x10ed*-0x1+-0x14d];}static['_packVec2'](_0x326501){return wf['x']=_0x326501[0x7*-0x405+-0x249*0x8+0x2e6b],wf['y']=_0x326501[-0x5*-0x3b5+0x1696+-0x291e],wf;}static['_packVec3'](_0x2792b6){return Tc['x']=_0x2792b6[-0x1c22+-0x2*-0xe09+0x10],Tc['y']=_0x2792b6[0x1*0xd6d+0x1*-0xa37+-0x335*0x1],Tc['z']=_0x2792b6[-0x7*0x33+0x43*0x13+-0x392],Tc;}static['_packVec4'](_0x3fd17c){return _o['x']=_0x3fd17c[-0x20d5+0xc87+-0xa27*-0x2],_o['y']=_0x3fd17c[0x10*0x5+-0x803+-0x1d*-0x44],_o['z']=_0x3fd17c[-0x522*0x7+-0x3b4+0x27a4],_o['w']=_0x3fd17c[-0x12b3*0x1+-0x229*0x11+-0x1*-0x376f],_o;}static['_packColor'](_0x2df48d){return go['r']=_0x2df48d[0xd2a+0x1324*-0x2+-0xc8f*-0x2],go['g']=_0x2df48d[-0x240f+0x2*0x1087+0x302],go['b']=_0x2df48d[-0x5a1+0x34*0x8a+-0x1665],go['a']=_0x2df48d[0x16*-0x1d+-0x799+-0x6*-0x1af],go;}static['_packQuat'](_0x319f3e){return So['x']=_0x319f3e[-0x1b27+-0x1028+-0x2b4f*-0x1],So['y']=_0x319f3e[-0x2376*0x1+-0x598*-0x3+0x12af],So['z']=_0x319f3e[-0x2398+0xa1*0x2f+-0x1*-0x60b],So['w']=_0x319f3e[-0xe09+0x2408+-0x15fc],So;}['resolve'](_0x579093){const _0x4e56cb=ra['encode'](_0x579093['entityPath'],_0x579093['component'],_0x579093['propertyPa'+'th']);let _0x4fb587=this['targetCach'+'e'][_0x4e56cb];if(_0x4fb587)return _0x4fb587;let _0x586a16,_0x5464ef,_0x32b69a;switch(_0x579093['component']){case'entity':_0x586a16=this['_getEntity'+'FromHierar'+'chy'](_0x579093['entityPath']),_0x32b69a=ra['encode'](_0x586a16['path'],'entity',_0x579093['propertyPa'+'th']),_0x5464ef=_0x586a16;break;case'graph':if(_0x5464ef=this['findNode'](_0x579093),!_0x5464ef)return null;_0x32b69a=ra['encode'](_0x5464ef['path'],'graph',_0x579093['propertyPa'+'th']);break;default:if(_0x586a16=this['_getEntity'+'FromHierar'+'chy'](_0x579093['entityPath']),_0x5464ef=_0x586a16['findCompon'+'ent'](_0x579093['component']),!_0x5464ef)return null;_0x32b69a=ra['encode'](_0x586a16['path'],_0x579093['component'],_0x579093['propertyPa'+'th']);break;}return _0x4fb587=this['_createAni'+'mTargetFor'+'Property'](_0x5464ef,_0x579093['propertyPa'+'th'],_0x32b69a),this['targetCach'+'e'][_0x4e56cb]=_0x4fb587,_0x4fb587;}['update'](_0x3ec191){const _0x197347=this['activeNode'+'s'];if(_0x197347){for(let _0x1773d4=0x1*0x225f+-0x1b1e*0x1+-0x741;_0x1773d4<_0x197347['length'];_0x1773d4++)_0x197347[_0x1773d4]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0xe6e761){if(!this['animCompon'+'ent']['entity']['name']===_0xe6e761[0x13af+-0x1*-0x1d4d+-0x82a*0x6])return null;const _0x15c2d6=this['animCompon'+'ent']['entity'];return _0xe6e761['length']===0x2257*0x1+0xf40+-0x2*0x18cb?_0x15c2d6:_0x15c2d6['_parent']['findByPath'](_0xe6e761);}['_resolvePa'+'th'](_0x2448da,_0x36fec6,_0x28ee32){const _0x15baee=_0x36fec6['length']-(_0x28ee32?-0x1*0x2231+0x19d1*0x1+0x860:-0x1*0x5cb+-0xfed+0x15b9*0x1);for(let _0x6cce7e=-0x190e+-0x81b+0x2129;_0x6cce7e<_0x15baee;_0x6cce7e++)_0x2448da=_0x2448da[_0x36fec6[_0x6cce7e]];return _0x2448da;}['_setter'](_0x55a567,_0x5c9dec,_0x3c7705){const _0x45051a=this['_resolvePa'+'th'](_0x55a567,_0x5c9dec),_0x2ccfd2=_0x5c9dec[_0x5c9dec['length']-(-0x1be4+0x157f*0x1+0x666)],_0x2b7a39='set'+_0x2ccfd2['substring'](0x13a0+-0xe08*-0x2+-0x2fb0,0x98a+0xc52+-0x15db)['toUpperCas'+'e']()+_0x2ccfd2['substring'](-0x4b1*0x3+0x25a1+0x1*-0x178d);if(_0x45051a[_0x2b7a39]){let _0x530e6b=_0x45051a['get'+_0x2ccfd2['substring'](0xee5+-0x1cdb+0xdf6,0x3*0x86a+-0x5b*-0x31+-0x2aa8)['toUpperCas'+'e']()+_0x2ccfd2['substring'](0x23fe+0xcf*-0x2c+0xf*-0x7)]['bind'](_0x45051a)();_0x530e6b=[_0x530e6b['x'],_0x530e6b['y'],_0x530e6b['z'],_0x530e6b['w']];const _0x411b50=_0x45051a[_0x2b7a39]['bind'](_0x45051a);return{'set':_0x31920f=>{_0x411b50(_0x3c7705(_0x31920f));},'get':()=>_0x530e6b};}const _0xe4d9a=_0x45051a[_0x2ccfd2];if(typeof _0xe4d9a=='object'&&_0xe4d9a['hasOwnProp'+'erty']('copy'))return function(_0x29c86a){_0xe4d9a['copy'](_0x3c7705(_0x29c86a));};if([J,D,re,ie,le]['indexOf'](_0x45051a['constructo'+'r'])!==-(0x45*-0x46+-0x1*-0x251a+-0x123b)&&_0x5c9dec['length']>-0x5d*0x19+0x477*0x4+0x1*-0x8c6){const _0x4b340f=_0x5c9dec['length']>0x45+0x42e+0x17b*-0x3?this['_resolvePa'+'th'](_0x55a567,_0x5c9dec['slice'](-0x17e*0x3+-0x1184+0x15fe,-(0x3*-0x4e5+-0x35b+-0x120b*-0x1))):_0x55a567,_0x237350=_0x5c9dec[_0x5c9dec['length']-(0xce5*0x3+-0x2*0xa69+0x1*-0x11db)];return function(_0x20d242){_0x45051a[_0x2ccfd2]=_0x3c7705(_0x20d242),_0x4b340f[_0x237350]=_0x45051a;};}return function(_0x57899b){_0x45051a[_0x2ccfd2]=_0x3c7705(_0x57899b);};}['_createAni'+'mTargetFor'+'Property'](_0x4f8a79,_0x11c464,_0xf1fcc7){if(this['handlers']&&_0x11c464[0x8*-0x1cf+0x883*0x1+0x5f5]['startsWith']('weight.'))return this['handlers']['weight'](_0x4f8a79,_0x11c464[-0xe5*-0xd+0x1*0x82+-0xc23]['replace']('weight.',''));if(this['handlers']&&_0x11c464[-0x99a+0x1b87+-0x11ed]==='material'&&_0x11c464['length']===-0xaa*-0x30+0x1*-0xa75+0xbd*-0x1d){const _0x1a911e=_0x11c464[-0x557+-0x11b5+0x15*0x119];if(_0x1a911e['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x4f8a79,_0x1a911e);}const _0x5a8efd=this['_resolvePa'+'th'](_0x4f8a79,_0x11c464,!(0x90e*0x1+0x2233+0xe6b*-0x3));if(typeof _0x5a8efd>'u')return null;let _0x383027,_0x5095f6,_0x3f6ef5;if(typeof _0x5a8efd=='number')_0x383027=this['_setter'](_0x4f8a79,_0x11c464,Fi['_packFloat']),_0x5095f6='vector',_0x3f6ef5=-0x38b*-0x1+-0x1329*-0x1+-0x16b3;else{if(typeof _0x5a8efd=='boolean')_0x383027=this['_setter'](_0x4f8a79,_0x11c464,Fi['_packBoole'+'an']),_0x5095f6='vector',_0x3f6ef5=-0xd62+-0x26*0xe2+0x9*0x537;else{if(typeof _0x5a8efd=='object')switch(_0x5a8efd['constructo'+'r']){case J:_0x383027=this['_setter'](_0x4f8a79,_0x11c464,Fi['_packVec2']),_0x5095f6='vector',_0x3f6ef5=-0xd3*0x12+-0x1be9+0x88d*0x5;break;case D:_0x383027=this['_setter'](_0x4f8a79,_0x11c464,Fi['_packVec3']),_0x5095f6='vector',_0x3f6ef5=-0x2*-0x394+0x1d7a+-0x249f;break;case re:_0x383027=this['_setter'](_0x4f8a79,_0x11c464,Fi['_packVec4']),_0x5095f6='vector',_0x3f6ef5=0x1579+0x131*0xf+-0x2754;break;case ie:_0x383027=this['_setter'](_0x4f8a79,_0x11c464,Fi['_packColor']),_0x5095f6='vector',_0x3f6ef5=0xf12+0x2447+-0x3355;break;case le:_0x383027=this['_setter'](_0x4f8a79,_0x11c464,Fi['_packQuat']),_0x5095f6='quaternion',_0x3f6ef5=-0x54e+0x193f+0x13ed*-0x1;break;default:return null;}}}return _0x11c464['indexOf']('material')!==-(0x247b+0x2405+-0x487f)?new xu(_0x571bb2=>{_0x383027(_0x571bb2),_0x4f8a79['material']['update']();},_0x5095f6,_0x3f6ef5,_0xf1fcc7):new xu(_0x383027,_0x5095f6,_0x3f6ef5,_0xf1fcc7);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0x9682fb={},_0x47f479=function(_0x391670){_0x9682fb[_0x391670['name']]=_0x391670;for(let _0x2a6ce7=0x1552*-0x1+-0x12*0xd5+0x244c;_0x2a6ce7<_0x391670['children']['length'];++_0x2a6ce7)_0x47f479(_0x391670['children'][_0x2a6ce7]);};_0x47f479(this['graph']),this['nodes']=_0x9682fb;}}class kL{constructor(_0x4f1e94,_0x233b0b,_0x37bdc2,_0x957b3d=0x4a8+0x16f*0x1+-0x616,_0x288b75=Vv){h(this,'_name'),h(this,'_controlle'+'r'),h(this,'_component'),h(this,'_weight'),h(this,'_blendType'),h(this,'_mask',null),h(this,'_blendTime',0x6f7+-0x18eb+0x2fe*0x6),h(this,'_blendTime'+'Elapsed',0x7*-0x4ab+-0x52*-0x4d+0x803),h(this,'_startingW'+'eight',0x2295+-0xc*-0x125+0x39*-0xd9),h(this,'_targetWei'+'ght',0xd94+-0x959*-0x1+0x16ed*-0x1),(this['_name']=_0x4f1e94,this['_controlle'+'r']=_0x233b0b,this['_component']=_0x37bdc2,this['_weight']=_0x957b3d,this['_blendType']=_0x288b75);}get['name'](){return this['_name'];}set['playing'](_0x3c2aca){this['_controlle'+'r']['playing']=_0x3c2aca;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x5c41ed){const _0x53480e=this['_controlle'+'r'],_0x5a371f=_0x53480e['playing'];_0x53480e['playing']=!(-0xb00+0x167*0x19+-0x3*0x805),_0x53480e['activeStat'+'eCurrentTi'+'me']=_0x5c41ed,_0x5a371f||_0x53480e['update'](-0x2488+-0x23f9+0x4881),_0x53480e['playing']=_0x5a371f;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x200f49){this['_weight']=_0x200f49,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x2f8936){_0x2f8936!==this['_blendType']&&(this['_blendType']=_0x2f8936,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x1dafe1){this['_controlle'+'r']['assignMask'](_0x1dafe1)&&this['_component']['rebind'](),this['_mask']=_0x1dafe1;}get['mask'](){return this['_mask'];}['play'](_0x2ace59){this['_controlle'+'r']['play'](_0x2ace59);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x13d485){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=Y['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x13d485):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=-0x1*-0x13cd+-0x113b+0x292*-0x1,this['_blendTime'+'Elapsed']=0x25e4+-0x1*0x1d0b+-0x8d9,this['_startingW'+'eight']=-0x1c9+0xf25*-0x2+0x2013,this['_targetWei'+'ght']=0x1*-0xd75+-0x1597*-0x1+-0x822)),this['_controlle'+'r']['update'](_0x13d485);}['blendToWei'+'ght'](_0x1d7631,_0x5d375a){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0x1d7631,this['_blendTime']=Math['max'](0x79c+0x29*0xa7+0x225b*-0x1,_0x5d375a),this['_blendTime'+'Elapsed']=-0x387+0x259*0x10+-0x2209;}['assignAnim'+'ation'](_0x504b09,_0x853a7d,_0x1db350,_0x53558c){if(!(_0x853a7d instanceof Qi)){w['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x504b09,_0x853a7d,_0x1db350,_0x53558c),this['_controlle'+'r']['_transitio'+'ns']['length']===0x6d*0x35+0xd55*-0x1+-0x314*0x3&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Lh({'from':'START','to':_0x504b09})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(-0x1f*-0x8e+0x12*-0x20a+0x1382));}['removeNode'+'Animations'](_0x53946a){this['_controlle'+'r']['removeNode'+'Animations'](_0x53946a)&&(this['_component']['playing']=!(0x3*0x229+-0xd6d+0x6f3));}['getAnimati'+'onAsset'](_0x4afdcb){return this['_component']['animationA'+'ssets'][this['name']+':'+_0x4afdcb];}['transition'](_0xf99339,_0x1f0d6c=0x2192*0x1+0x1*-0xcd9+-0x14b9,_0x22fba0=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Lh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0xf99339,'time':_0x1f0d6c,'transitionOffset':_0x22fba0}));}}class Jc{constructor(_0x4aa509){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x4aa509['layers']))this['_layers']=_0x4aa509['layers'];else for(const _0x423d37 in _0x4aa509['layers']){const _0x5bd08f=_0x4aa509['layers'][_0x423d37],_0x1f4b50={'name':_0x5bd08f['name'],'blendType':_0x5bd08f['blendType'],'weight':_0x5bd08f['weight'],'states':[],'transitions':[]};for(let _0x31ce08=0x1*-0x15e6+0x350*0x2+-0xe6*-0x11;_0x31ce08<_0x5bd08f['states']['length'];_0x31ce08++)_0x1f4b50['states']['push'](_0x4aa509['states'][_0x5bd08f['states'][_0x31ce08]]);for(let _0x4c631d=0x231a+-0x1911+0x16f*-0x7;_0x4c631d<_0x5bd08f['transition'+'s']['length'];_0x4c631d++){const _0x2ca3a9=_0x4aa509['transition'+'s'][_0x5bd08f['transition'+'s'][_0x4c631d]];if(_0x2ca3a9['conditions']&&!Array['isArray'](_0x2ca3a9['conditions'])){const _0x128c35=Object['keys'](_0x2ca3a9['conditions']),_0x3c4d16=[];for(let _0x50b23d=-0x2*-0xb4d+-0xe49*-0x1+-0x24e3;_0x50b23d<_0x128c35['length'];_0x50b23d++){const _0x34ffd3=_0x2ca3a9['conditions'][_0x128c35[_0x50b23d]];_0x34ffd3['parameterN'+'ame']&&_0x3c4d16['push'](_0x34ffd3);}_0x2ca3a9['conditions']=_0x3c4d16;}Number['isInteger'](_0x2ca3a9['from'])&&(_0x2ca3a9['from']=_0x4aa509['states'][_0x2ca3a9['from']]['name']),Number['isInteger'](_0x2ca3a9['to'])&&(_0x2ca3a9['to']=_0x4aa509['states'][_0x2ca3a9['to']]['name']),_0x1f4b50['transition'+'s']['push'](_0x2ca3a9);}this['_layers']['push'](_0x1f4b50);}for(const _0x1287fd in _0x4aa509['parameters']){const _0x54f9a2=_0x4aa509['parameters'][_0x1287fd];this['_parameter'+'s'][_0x54f9a2['name']]={'type':_0x54f9a2['type'],'value':_0x54f9a2['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class $v extends we{constructor(){super(...arguments),h(this,'_stateGrap'+'hAsset',null),h(this,'_animation'+'Assets',{}),h(this,'_speed',-0x16f9+0x165d+0x9d),h(this,'_activate',!(0x386*-0x4+-0x1*-0x11d8+-0x3c0)),h(this,'_playing',!(-0x221d+-0xaf*0x2f+-0x3*-0x1615)),h(this,'_rootBone',null),h(this,'_stateGrap'+'h',null),h(this,'_layers',[]),h(this,'_layerIndi'+'ces',{}),h(this,'_parameter'+'s',{}),h(this,'_targets',{}),h(this,'_consumedT'+'riggers',new Set()),h(this,'_normalize'+'Weights',!(0x21ae+-0x2440+-0x293*-0x1)),h(this,'findParame'+'ter',_0x2bc7e6=>this['_parameter'+'s'][_0x2bc7e6]),h(this,'consumeTri'+'gger',_0xaf807c=>{this['_consumedT'+'riggers']['add'](_0xaf807c);});}set['stateGraph'+'Asset'](_0x5db78e){if(_0x5db78e===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0xc388c1,_0x5a41fb;_0x5db78e instanceof pe?(_0xc388c1=_0x5db78e['id'],_0x5a41fb=this['system']['app']['assets']['get'](_0xc388c1),_0x5a41fb||(this['system']['app']['assets']['add'](_0x5db78e),_0x5a41fb=this['system']['app']['assets']['get'](_0xc388c1))):(_0xc388c1=_0x5db78e,_0x5a41fb=this['system']['app']['assets']['get'](_0xc388c1)),!(!_0x5a41fb||this['_stateGrap'+'hAsset']===_0xc388c1)&&(_0x5a41fb['resource']?(this['_stateGrap'+'h']=_0x5a41fb['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0x5a41fb['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0x5a41fb['once']('load',_0xd0e1a3=>{this['_stateGrap'+'h']=_0xd0e1a3['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0x5a41fb['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0x5a41fb)),this['_stateGrap'+'hAsset']=_0xc388c1);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x538805){this['_normalize'+'Weights']=_0x538805,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x153cef){this['_animation'+'Assets']=_0x153cef,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x41fdd1){this['_speed']=_0x41fdd1;}get['speed'](){return this['_speed'];}set['activate'](_0x588dac){this['_activate']=_0x588dac;}get['activate'](){return this['_activate'];}set['playing'](_0x413b71){this['_playing']=_0x413b71;}get['playing'](){return this['_playing'];}set['rootBone'](_0x52344e){if(typeof _0x52344e=='string'){const _0x54a66c=this['entity']['root']['findByGuid'](_0x52344e);w['assert'](_0x54a66c,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x52344e+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x54a66c;}else _0x52344e instanceof lt?this['_rootBone']=_0x52344e:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x17ed42){this['_stateGrap'+'h']=_0x17ed42;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x4f8b1c){this['_layerIndi'+'ces']=_0x4f8b1c;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x360294){this['_parameter'+'s']=_0x360294;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0x482ef6){this['_targets']=_0x482ef6;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x14346d=-0x1e6*-0x10+0x1*0x1753+0x1*-0x35b3;_0x14346d<this['_layers']['length'];_0x14346d++)if(!this['_layers'][_0x14346d]['playable'])return!(-0xf19*-0x1+-0x156*-0x3+-0x131a);return!(-0x8ce+-0x46*-0x65+-0x12d0);}get['baseLayer'](){return this['_layers']['length']>-0x5*0x3fa+0x1*0x14fc+-0x11a?this['_layers'][-0xe*0x94+-0x14b*0x1b+0x2b01]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0x1e69f4){const _0x2720ac=this['animationA'+'ssets'],_0x50c9f7=this['layers']['map'](_0x14d090=>_0x14d090['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new Jc(_0x1e69f4['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x2720ac,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x51ed54,_0x6850e0)=>{_0x51ed54['mask']=_0x50c9f7[_0x6850e0];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x58e5be=Object['values'](this['_targets']);for(let _0x1f2f61=-0x1a8e+-0x13*0x2c+0x1dd2;_0x1f2f61<_0x58e5be['length'];_0x1f2f61++)_0x58e5be[_0x1f2f61]['dirty']=!(0x1711+-0x6b1*0x4+0x3b3);}['_addLayer']({name:_0x5cd265,states:_0x5609d4,transitions:_0x189ab8,weight:_0x5b8f4a,mask:_0x580d4c,blendType:_0x5ab57d}){let _0x598405;this['rootBone']?_0x598405=this['rootBone']:_0x598405=this['entity'];const _0x585b7a=this['_layers']['length'],_0x84ac18=new Fi(this,_0x598405,_0x5cd265,_0x580d4c,_0x585b7a),_0x2a676a=new Gv(_0x84ac18),_0x3520b4=new NL(_0x2a676a,_0x5609d4,_0x189ab8,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new kL(_0x5cd265,_0x3520b4,this,_0x5b8f4a,_0x5ab57d)),this['_layerIndi'+'ces'][_0x5cd265]=_0x585b7a,this['_layers'][_0x585b7a];}['addLayer'](_0x46f40e,_0x17d55c,_0x3b9151,_0x4ac20c){const _0xbc3564=this['findAnimat'+'ionLayer'](_0x46f40e);if(_0xbc3564)return _0xbc3564;const _0x1c2a8e=[{'name':'START','speed':0x1}],_0xafcfcc=[];return this['_addLayer']({'name':_0x46f40e,'states':_0x1c2a8e,'transitions':_0xafcfcc,'weight':_0x17d55c,'mask':_0x3b9151,'blendType':_0x4ac20c});}['_assignPar'+'ameters'](_0x31a7ba){this['_parameter'+'s']={};const _0x161be8=Object['keys'](_0x31a7ba['parameters']);for(let _0x2aa39c=-0x4d9*-0x1+-0xf2f+0x1b9*0x6;_0x2aa39c<_0x161be8['length'];_0x2aa39c++){const _0x129f21=_0x161be8[_0x2aa39c];this['_parameter'+'s'][_0x129f21]={'type':_0x31a7ba['parameters'][_0x129f21]['type'],'value':_0x31a7ba['parameters'][_0x129f21]['value']};}}['loadStateG'+'raph'](_0x576483){this['_stateGrap'+'h']=_0x576483,this['_assignPar'+'ameters'](_0x576483),this['_layers']=[];let _0x31812a=!(0x1*-0x11de+0xb75*-0x2+0x28c9);for(let _0x507ef3=0xf6b+0x1b0c+-0x2a77;_0x507ef3<_0x576483['layers']['length'];_0x507ef3++){const _0x1d7c7d=_0x576483['layers'][_0x507ef3];this['_addLayer']({..._0x1d7c7d}),_0x1d7c7d['states']['some'](_0x2d1008=>_0x2d1008['blendTree'])&&(_0x31812a=!(-0x17ab*-0x1+-0x1661+-0x14a));}_0x31812a||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x3133ef=0x36f*-0x3+0x105c+-0x60f;_0x3133ef<this['_layers']['length'];_0x3133ef++){const _0x5d7d18=this['_layers'][_0x3133ef],_0x124a85=_0x5d7d18['name'];for(let _0x534b68=-0xa8f+-0x1d*-0x131+-0x17fe;_0x534b68<_0x5d7d18['states']['length'];_0x534b68++){const _0x14f0e5=_0x5d7d18['states'][_0x534b68];if(Ih['indexOf'](_0x14f0e5)===-(0x4e9*0x5+0x20fa+0x2*-0x1cc3)){const _0x120a66=_0x124a85+':'+_0x14f0e5;this['_animation'+'Assets'][_0x120a66]||(this['_animation'+'Assets'][_0x120a66]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0x43c79d=0x4*0x124+-0x2*0x1029+0x1bc2;_0x43c79d<this['_layers']['length'];_0x43c79d++){const _0x307353=this['_layers'][_0x43c79d];for(let _0x166c85=-0x14bd+-0x17*0x145+0x31f0;_0x166c85<_0x307353['states']['length'];_0x166c85++){const _0x19efb8=_0x307353['states'][_0x166c85];if(Ih['indexOf'](_0x19efb8)!==-(0x2182+-0x35e*0x7+-0x9ef))continue;const _0x3d8401=this['_animation'+'Assets'][_0x307353['name']+':'+_0x19efb8];if(!_0x3d8401||!_0x3d8401['asset']){this['findAnimat'+'ionLayer'](_0x307353['name'])['assignAnim'+'ation'](_0x19efb8,Qi['EMPTY']);continue;}const _0x1bf5c6=_0x3d8401['asset'],_0x132dd1=this['system']['app']['assets']['get'](_0x1bf5c6);_0x132dd1&&(_0x132dd1['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x307353['name'],_0x19efb8,_0x132dd1):(_0x132dd1['once']('load',function(_0x2b4172,_0x48fe68){return function(_0x964b34){this['onAnimatio'+'nAssetLoad'+'ed'](_0x2b4172,_0x48fe68,_0x964b34);}['bind'](this);}['bind'](this)(_0x307353['name'],_0x19efb8)),this['system']['app']['assets']['load'](_0x132dd1)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x2a4820,_0x1033af,_0x4a99a0){this['findAnimat'+'ionLayer'](_0x2a4820)['assignAnim'+'ation'](_0x1033af,_0x4a99a0['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(-0x25ae+-0x1*-0x1795+0xe1a),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x2438bc=-0x167d+-0x22*-0xb1+-0x105;_0x2438bc<this['_layers']['length'];_0x2438bc++){const _0x561d88=this['_layers'][_0x2438bc]['playing'];this['_layers'][_0x2438bc]['reset'](),this['_layers'][_0x2438bc]['playing']=_0x561d88;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0xc01c67=>{this['_targets'][_0xc01c67]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x325d48=-0x1d32+0x2*0x12ab+-0x824;_0x325d48<this['_layers']['length'];_0x325d48++)this['_layers'][_0x325d48]['rebind']();}['findAnimat'+'ionLayer'](_0x499789){const _0x323ce8=this['_layerIndi'+'ces'][_0x499789];return this['_layers'][_0x323ce8]||null;}['addAnimati'+'onState'](_0x5f07c6,_0x240b3e,_0x5d4f6b=0xfdb+-0x1f39*-0x1+-0xd*0x39f,_0x392931=!(-0x23e5+-0xe*-0x1bd+-0xb*-0x10d),_0x58c05b='Base'){var _0x5f3781;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new Jc({'layers':[{'name':_0x58c05b,'states':[{'name':'START','speed':0x1},{'name':_0x5f07c6,'speed':_0x5d4f6b,'loop':_0x392931,'defaultState':!(-0x23ae*0x1+-0x709*0x1+0x2ab7)}],'transitions':[{'from':'START','to':_0x5f07c6}]}],'parameters':{}}));const _0x1dbc51=this['findAnimat'+'ionLayer'](_0x58c05b);_0x1dbc51?_0x1dbc51['assignAnim'+'ation'](_0x5f07c6,_0x240b3e,_0x5d4f6b,_0x392931):(_0x5f3781=this['addLayer'](_0x58c05b))==null||_0x5f3781['assignAnim'+'ation'](_0x5f07c6,_0x240b3e,_0x5d4f6b,_0x392931);}['assignAnim'+'ation'](_0x51ad15,_0x243fcf,_0x2e64e5,_0x4460e5=0x785*0x1+0x1bba+-0x233e*0x1,_0x155dfc=!(0xdd+0xa75+-0xb52)){if(!this['_stateGrap'+'h']&&_0x51ad15['indexOf']('.')===-(0xfef+0x6*0x61+-0x3a4*0x5)){this['loadStateG'+'raph'](new Jc({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x51ad15,'speed':_0x4460e5,'loop':_0x155dfc,'defaultState':!(0xeda+-0x3*-0x677+-0xb*0x31d)}],'transitions':[{'from':'START','to':_0x51ad15}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x51ad15,_0x243fcf);return;}const _0x151684=_0x2e64e5?this['findAnimat'+'ionLayer'](_0x2e64e5):this['baseLayer'];if(!_0x151684){w['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x151684['assignAnim'+'ation'](_0x51ad15,_0x243fcf,_0x4460e5,_0x155dfc);}['removeNode'+'Animations'](_0x5c203c,_0x565452){const _0x524f47=_0x565452?this['findAnimat'+'ionLayer'](_0x565452):this['baseLayer'];if(!_0x524f47){w['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0x524f47['removeNode'+'Animations'](_0x5c203c);}['getParamet'+'erValue'](_0x241156,_0x2927d7){const _0x2b3284=this['_parameter'+'s'][_0x241156];if(_0x2b3284&&_0x2b3284['type']===_0x2927d7)return _0x2b3284['value'];w['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x241156+('\x22\x20of\x20type\x20'+'\x22')+_0x2927d7+'\x22');}['setParamet'+'erValue'](_0x34f399,_0xc7157e,_0x4007db){const _0x215aa9=this['_parameter'+'s'][_0x34f399];if(_0x215aa9&&_0x215aa9['type']===_0xc7157e){_0x215aa9['value']=_0x4007db;return;}w['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x34f399+('\x22\x20of\x20type\x20'+'\x22')+_0xc7157e+'\x22');}['getFloat'](_0x151a4a){return this['getParamet'+'erValue'](_0x151a4a,Rg);}['setFloat'](_0x55e70c,_0x41f2fc){this['setParamet'+'erValue'](_0x55e70c,Rg,_0x41f2fc);}['getInteger'](_0x5a03df){return this['getParamet'+'erValue'](_0x5a03df,Lg);}['setInteger'](_0x45c0b3,_0x4e6822){typeof _0x4e6822=='number'&&_0x4e6822%(-0x1266+0x3*0x197+0xda2)===-0x1*0xf8b+-0x1*0x1cbc+0x2c47*0x1?this['setParamet'+'erValue'](_0x45c0b3,Lg,_0x4e6822):w['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x45c0b3,_0x4e6822);}['getBoolean'](_0x49f63f){return this['getParamet'+'erValue'](_0x49f63f,Og);}['setBoolean'](_0x201d70,_0xee48d3){this['setParamet'+'erValue'](_0x201d70,Og,!!_0xee48d3);}['getTrigger'](_0x5d348f){return this['getParamet'+'erValue'](_0x5d348f,Qc);}['setTrigger'](_0x49d613,_0x27e2af=!(-0x371*0x1+-0x2374+0x26e6)){this['setParamet'+'erValue'](_0x49d613,Qc,!(0x863+-0x21ca+0x1967)),_0x27e2af&&this['_consumedT'+'riggers']['add'](_0x49d613);}['resetTrigg'+'er'](_0xa8ac9a){this['setParamet'+'erValue'](_0xa8ac9a,Qc,!(-0x1*-0x914+0xa*-0x25c+-0x213*-0x7));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x9f7a60){for(let _0x2b0496=0x1c9*-0x11+-0x1275+-0x1867*-0x2;_0x2b0496<this['layers']['length'];_0x2b0496++)this['layers'][_0x2b0496]['update'](_0x9f7a60*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x5867df=>{this['parameters'][_0x5867df]['value']=!(0x3f7*-0x2+0x214e+-0x195f);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x53a4f0,_0x3e2841){_0x53a4f0['rootBone']&&_0x3e2841[_0x53a4f0['rootBone']['getGuid']()]?this['rootBone']=_0x3e2841[_0x53a4f0['rootBone']['getGuid']()]:this['rebind']();}}class UL{constructor(){this['enabled']=!(-0x3aa+-0x95*0x27+0x1a5d);}}const bu=['enabled'];class BL extends ct{constructor(_0x6b1299){super(_0x6b1299),this['id']='anim',this['ComponentT'+'ype']=$v,this['DataType']=UL,this['schema']=bu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x1e5033,_0x3f1e16,_0x46bee2){super['initialize'+'ComponentD'+'ata'](_0x1e5033,_0x3f1e16,bu);const _0x12b0f2=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x3f1e16)['forEach'](_0x35d062=>{_0x12b0f2['includes'](_0x35d062)||(_0x1e5033[_0x35d062]=_0x3f1e16[_0x35d062]);}),_0x3f1e16['stateGraph']&&(_0x1e5033['stateGraph']=_0x3f1e16['stateGraph'],_0x1e5033['loadStateG'+'raph'](_0x1e5033['stateGraph'])),_0x3f1e16['layers']&&_0x3f1e16['layers']['forEach']((_0x296cbd,_0x1ed0d4)=>{_0x296cbd['_controlle'+'r']['states']['forEach'](_0x58ed95=>{_0x296cbd['_controlle'+'r']['_states'][_0x58ed95]['_animation'+'List']['forEach'](_0x35b374=>{if(!_0x35b374['animTrack']||_0x35b374['animTrack']===Qi['EMPTY']){const _0x4f0a36=this['app']['assets']['get'](_0x296cbd['_component']['_animation'+'Assets'][_0x296cbd['name']+':'+_0x35b374['name']]['asset']);_0x4f0a36&&!_0x4f0a36['loaded']&&_0x4f0a36['once']('load',()=>{_0x1e5033['layers'][_0x1ed0d4]['assignAnim'+'ation'](_0x35b374['name'],_0x4f0a36['resource']);});}else _0x1e5033['layers'][_0x1ed0d4]['assignAnim'+'ation'](_0x35b374['name'],_0x35b374['animTrack']);});});}),_0x3f1e16['animationA'+'ssets']&&(_0x1e5033['animationA'+'ssets']=Object['assign'](_0x1e5033['animationA'+'ssets'],_0x3f1e16['animationA'+'ssets'])),_0x3f1e16['masks']&&Object['keys'](_0x3f1e16['masks'])['forEach'](_0x5683c6=>{if(_0x1e5033['layers'][_0x5683c6]){const _0x1b34e0=_0x3f1e16['masks'][_0x5683c6]['mask'],_0x456d5d={};Object['keys'](_0x1b34e0)['forEach'](_0x1e59f9=>{_0x456d5d[decodeURI(_0x1e59f9)]=_0x1b34e0[_0x1e59f9];}),_0x1e5033['layers'][_0x5683c6]['mask']=_0x456d5d;}});}['onAnimatio'+'nUpdate'](_0xd7770){const _0x50baa2=this['store'];for(const _0x303a51 in _0x50baa2)if(_0x50baa2['hasOwnProp'+'erty'](_0x303a51)){const _0x1b57ce=_0x50baa2[_0x303a51]['entity']['anim'];_0x1b57ce['data']['enabled']&&_0x1b57ce['entity']['enabled']&&_0x1b57ce['playing']&&_0x1b57ce['update'](_0xd7770);}}['cloneCompo'+'nent'](_0x450de1,_0x14cf7a){let _0x4eea1a;(!_0x450de1['anim']['rootBone']||_0x450de1['anim']['rootBone']===_0x450de1)&&(_0x4eea1a={},_0x450de1['anim']['layers']['forEach']((_0x4d5a41,_0x55a539)=>{if(_0x4d5a41['mask']){const _0x2966bc={};Object['keys'](_0x4d5a41['mask'])['forEach'](_0x322822=>{const _0xfbaa6d=_0x322822['split']('/');_0xfbaa6d['shift']();const _0x4d244c=[_0x14cf7a['name'],..._0xfbaa6d]['join']('/');_0x2966bc[_0x4d244c]=_0x4d5a41['mask'][_0x322822];}),_0x4eea1a[_0x55a539]={'mask':_0x2966bc};}}));const _0x1633b5={'enabled':_0x450de1['anim']['enabled'],'stateGraphAsset':_0x450de1['anim']['stateGraph'+'Asset'],'animationAssets':_0x450de1['anim']['animationA'+'ssets'],'speed':_0x450de1['anim']['speed'],'activate':_0x450de1['anim']['activate'],'playing':_0x450de1['anim']['playing'],'rootBone':_0x450de1['anim']['rootBone'],'stateGraph':_0x450de1['anim']['stateGraph'],'layers':_0x450de1['anim']['layers'],'layerIndices':_0x450de1['anim']['layerIndic'+'es'],'parameters':_0x450de1['anim']['parameters'],'normalizeWeights':_0x450de1['anim']['normalizeW'+'eights'],'masks':_0x4eea1a};return this['addCompone'+'nt'](_0x14cf7a,_0x1633b5);}['onBeforeRe'+'move'](_0x1cc246,_0x4c890b){_0x4c890b['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}we['_buildAcce'+'ssors']($v['prototype'],bu);class Xv extends we{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x501324=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x501324);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class zL{constructor(){this['enabled']=!(-0x232a+0x9ad*-0x3+-0x4031*-0x1);}}const qv=['enabled'];class VL extends ct{constructor(_0x4cc977){super(_0x4cc977),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Xv,this['DataType']=zL,this['schema']=qv,this['manager']=_0x4cc977['soundManag'+'er'],w['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x5ef057,_0x3d5458,_0x2a967c){_0x2a967c=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x5ef057,_0x3d5458,_0x2a967c);}['onUpdate'](_0x296d29){if(this['current']){const _0x474a67=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x474a67);const _0x5af7df=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x5af7df);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Xv['prototype'],qv);const Au=-0x20db+-0x795+0x2870*0x1,Ng=0x4a4+-0x5*0x15+-0x2*0x21d,eh='group',Cu='image',jv='text',th='stretch',GL='contain',HL='cover',ft={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},kl={};kl[ft['DEFAULT']]='_defaultTi'+'nt',kl[ft['HOVER']]='hoverTint',kl[ft['PRESSED']]='pressedTin'+'t',kl[ft['INACTIVE']]='inactiveTi'+'nt';const Ul={};Ul[ft['DEFAULT']]='_defaultSp'+'riteAsset',Ul[ft['HOVER']]='hoverSprit'+'eAsset',Ul[ft['PRESSED']]='pressedSpr'+'iteAsset',Ul[ft['INACTIVE']]='inactiveSp'+'riteAsset';const Bl={};Bl[ft['DEFAULT']]='_defaultSp'+'riteFrame',Bl[ft['HOVER']]='hoverSprit'+'eFrame',Bl[ft['PRESSED']]='pressedSpr'+'iteFrame',Bl[ft['INACTIVE']]='inactiveSp'+'riteFrame';class It extends we{constructor(_0x534c04,_0x38f8bc){super(_0x534c04,_0x38f8bc),h(this,'_visualSta'+'te',ft['DEFAULT']),h(this,'_isHoverin'+'g',!(0x1697+0x19b5*0x1+-0x304b)),h(this,'_hoveringC'+'ounter',-0x566*-0x2+-0x142+-0x98a),h(this,'_isPressed',!(0xb05*-0x2+0xd3d+0x8ce)),h(this,'_defaultTi'+'nt',new ie(0x199e+0x1933+-0x32d0,-0x1*-0x16fa+-0x7*-0x512+-0x3a77,0x1c*-0xa1+0x21eb*0x1+0x2*-0x827,-0x1bd2+-0x1*-0x1bc5+0xe)),h(this,'_defaultSp'+'riteAsset',null),h(this,'_defaultSp'+'riteFrame',0x25b8+-0x2380+0x8e*-0x4),h(this,'_imageEnti'+'ty',null),h(this,'_evtElemen'+'tAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),h(this,'_evtImageE'+'ntityEleme'+'ntColor',null),h(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=ft['DEFAULT'],this['_isHoverin'+'g']=!(0x543+0x69*-0x43+0x1*0x1639),this['_hoveringC'+'ounter']=-0x1276+-0xef*-0x11+-0x33*-0xd,this['_isPressed']=!(-0x92f+0x5e*0x49+-0x119e),this['_defaultTi'+'nt']=new ie(-0xfad+-0x11ab+-0x2159*-0x1,-0x1c2+0x24dc+-0x5*0x705,-0x11c9+0x2*0x515+-0x10*-0x7a,0x17a8*0x1+0x161*-0x5+-0x10c2),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=-0x1470+-0x5ed+0x11*0x18d,this['_toggleLif'+'ecycleList'+'eners']('on',_0x534c04));}get['data'](){const _0xd19d46=this['system']['store'][this['entity']['getGuid']()];return _0xd19d46?_0xd19d46['data']:null;}set['enabled'](_0x3e88ea){this['_setValue']('enabled',_0x3e88ea);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x3b1ee2){this['_setValue']('active',_0x3b1ee2);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x49b2b8){if(this['_imageEnti'+'ty']!==_0x49b2b8){const _0x1d74ca=typeof _0x49b2b8=='string';if(this['_imageEnti'+'ty']&&_0x1d74ca&&this['_imageEnti'+'ty']['getGuid']()===_0x49b2b8)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x49b2b8 instanceof Ie?this['_imageEnti'+'ty']=_0x49b2b8:_0x1d74ca?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x49b2b8)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x1d74ca&&_0x49b2b8&&(this['data']['imageEntit'+'y']=_0x49b2b8);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x2a242d){this['_setValue']('hitPadding',_0x2a242d);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x2fd731){this['_setValue']('transition'+'Mode',_0x2fd731);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0x102a78){this['_setValue']('hoverTint',_0x102a78);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0xfbd6d9){this['_setValue']('pressedTin'+'t',_0xfbd6d9);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0x135139){this['_setValue']('inactiveTi'+'nt',_0x135139);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x2500af){this['_setValue']('fadeDurati'+'on',_0x2500af);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x4595ee){this['_setValue']('hoverSprit'+'eAsset',_0x4595ee);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0xa4d82a){this['_setValue']('hoverSprit'+'eFrame',_0xa4d82a);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x4e3de5){this['_setValue']('pressedSpr'+'iteAsset',_0x4e3de5);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x4c28dc){this['_setValue']('pressedSpr'+'iteFrame',_0x4c28dc);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x556626){this['_setValue']('inactiveSp'+'riteAsset',_0x556626);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x1a4aca){this['_setValue']('inactiveSp'+'riteFrame',_0x1a4aca);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0x1cc65e,_0x10a9e8){const _0x53d35c=this['data'],_0x20c20d=_0x53d35c[_0x1cc65e];_0x53d35c[_0x1cc65e]=_0x10a9e8,this['fire']('set',_0x1cc65e,_0x20c20d,_0x10a9e8);}['_toggleLif'+'ecycleList'+'eners'](_0x2a5fd0,_0x159b5f){var _0x5b5e7e;this[_0x2a5fd0]('set_active',this['_onSetActi'+'ve'],this),this[_0x2a5fd0]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x2a5fd0]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2a5fd0]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2a5fd0]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2a5fd0]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2a5fd0]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2a5fd0]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2a5fd0]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2a5fd0]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2a5fd0]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x2a5fd0==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x5b5e7e=this['_evtElemen'+'tAdd'])==null||_0x5b5e7e['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x3bc294,_0x3a72c9,_0x17d88e){_0x3a72c9!==_0x17d88e&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x5c97a7,_0x34f5cb,_0x55ea6f){_0x34f5cb!==_0x55ea6f&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0x34f5cb),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0xb30c84,_0x23c602,_0x1f15dc){_0x23c602!==_0x1f15dc&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x42c15b,_0x226dca;(_0x42c15b=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x42c15b['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x226dca=this['_imageEnti'+'ty'])!=null&&_0x226dca['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x45ba3e=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x45ba3e['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x45ba3e['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x45ba3e['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x45ba3e['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x45ba3e['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x4ea3e0,_0x5e668c,_0x27389c,_0x206701,_0x1bc253;(_0x4ea3e0=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x4ea3e0['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x5e668c=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x5e668c['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x27389c=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x27389c['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x206701=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x206701['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x1bc253=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x1bc253['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x2faad6){if(this['entity']['element']){const _0x27c63e=_0x2faad6==='on';if(_0x27c63e&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x2faad6]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x2faad6]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x2faad6]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x2faad6]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x2faad6]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x2faad6]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x2faad6]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x2faad6]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x2faad6]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x2faad6]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x2faad6]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x2faad6]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x2faad6]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x2faad6]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x27c63e;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x4dab5d;const _0x59ba02=(_0x4dab5d=this['_imageEnti'+'ty'])==null?void(0x1c95+-0x5b*0x6d+0xa2a*0x1):_0x4dab5d['element'];!_0x59ba02||_0x59ba02['type']===eh||(this['_storeDefa'+'ultColor'](_0x59ba02['color']),this['_storeDefa'+'ultOpacity'](_0x59ba02['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x59ba02['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x59ba02['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x3e7b37){this['_defaultTi'+'nt']['r']=_0x3e7b37['r'],this['_defaultTi'+'nt']['g']=_0x3e7b37['g'],this['_defaultTi'+'nt']['b']=_0x3e7b37['b'];}['_storeDefa'+'ultOpacity'](_0x215658){this['_defaultTi'+'nt']['a']=_0x215658;}['_storeDefa'+'ultSpriteA'+'sset'](_0x268fd5){this['_defaultSp'+'riteAsset']=_0x268fd5;}['_storeDefa'+'ultSpriteF'+'rame'](_0x397eda){this['_defaultSp'+'riteFrame']=_0x397eda;}['_onSetColo'+'r'](_0x586258){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x586258),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x74ad07){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x74ad07),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x2c9ba9){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x2c9ba9),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0xcafba9){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0xcafba9),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x369bcd){this['_isHoverin'+'g']=!(0x1e14+0x6b*0x2b+-0x300d*0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x369bcd);}['_onMouseLe'+'ave'](_0x1ac9b1){this['_isHoverin'+'g']=!(-0x20d+0x1*-0x86c+0xa7a),this['_isPressed']=!(0x2c2*-0xd+-0x3e*-0x83+0x421),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0x1ac9b1);}['_onMouseDo'+'wn'](_0x35022f){this['_isPressed']=!(0x20b*-0x6+0x446*0x7+0x1c4*-0xa),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x35022f);}['_onMouseUp'](_0x25abb0){this['_isPressed']=!(-0xa75*-0x1+0x1ef6+-0x296a),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0x25abb0);}['_onTouchSt'+'art'](_0x3115f1){this['_isPressed']=!(-0x1*-0x2060+0x20af+-0x410f),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x3115f1);}['_onTouchEn'+'d'](_0xff5ad4){_0xff5ad4['event']['preventDef'+'ault'](),this['_isPressed']=!(-0x317*0x7+0x41f+-0x1*-0x1183),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0xff5ad4);}['_onTouchLe'+'ave'](_0x261cc0){this['_isPressed']=!(0x20ac+0xbe1+-0x2c8c),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x261cc0);}['_onTouchCa'+'ncel'](_0x5eb821){this['_isPressed']=!(-0x117f+-0xa3f*-0x2+-0x2*0x17f),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x5eb821);}['_onSelectS'+'tart'](_0x51317d){this['_isPressed']=!(0x168e+-0x2ec*0xb+0x996),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0x51317d);}['_onSelectE'+'nd'](_0x975dc1){this['_isPressed']=!(0x13a7+-0x1638+0x7*0x5e),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x975dc1);}['_onSelectE'+'nter'](_0x2caf70){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===-0x71*0x38+0xb*-0x7f+0x2*0xf17&&(this['_isHoverin'+'g']=!(-0x1c*0xb3+0x20f*0xb+0x9d*-0x5),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x2caf70);}['_onSelectL'+'eave'](_0xa18fcd){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===-0x1e26+-0x1c40+0x3a66&&(this['_isHoverin'+'g']=!(-0x10ba+0x834+0x887),this['_isPressed']=!(0x1*-0xb68+-0xb11*0x3+0x2c9c),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0xa18fcd);}['_onClick'](_0x44c2f1){this['_fireIfAct'+'ive']('click',_0x44c2f1);}['_fireIfAct'+'ive'](_0x522a9a,_0x3571bc){this['data']['active']&&this['fire'](_0x522a9a,_0x3571bc);}['_updateVis'+'ualState'](_0x29fc73){const _0x5e96c2=this['_visualSta'+'te'],_0x167392=this['_determine'+'VisualStat'+'e']();if((_0x5e96c2!==_0x167392||_0x29fc73)&&this['enabled'])switch(this['_visualSta'+'te']=_0x167392,_0x5e96c2===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x5e96c2===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x167392===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x167392===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case Au:{const _0x583c87=kl[this['_visualSta'+'te']],_0x2776fa=this[_0x583c87];this['_applyTint'](_0x2776fa);break;}case Ng:{const _0x517eb5=Ul[this['_visualSta'+'te']],_0x17c9a9=Bl[this['_visualSta'+'te']],_0x52a025=this[_0x517eb5],_0x45aa4f=this[_0x17c9a9];this['_applySpri'+'te'](_0x52a025,_0x45aa4f);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(0x227e+0x2ce+-0x254c));}['_resetToDe'+'faultVisua'+'lState'](_0x18560c){var _0x5fdbc1;if((_0x5fdbc1=this['_imageEnti'+'ty'])!=null&&_0x5fdbc1['element'])switch(_0x18560c){case Au:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case Ng:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return ft['PRESSED'];if(this['_isHoverin'+'g'])return ft['HOVER'];}else return ft['INACTIVE'];return ft['DEFAULT'];}['_applySpri'+'te'](_0xeea223,_0x3e9127){var _0x4aeee6;const _0x16bb8f=(_0x4aeee6=this['_imageEnti'+'ty'])==null?void(0xa42+-0x142f+0x21*0x4d):_0x4aeee6['element'];_0x16bb8f&&(_0x3e9127=_0x3e9127||-0x1914+-0x8cb*-0x1+0x1049,this['_isApplyin'+'gSprite']=!(0x1ff4*0x1+0xb*-0x27e+0x1*-0x48a),_0x16bb8f['spriteAsse'+'t']!==_0xeea223&&(_0x16bb8f['spriteAsse'+'t']=_0xeea223),_0x16bb8f['spriteFram'+'e']!==_0x3e9127&&(_0x16bb8f['spriteFram'+'e']=_0x3e9127),this['_isApplyin'+'gSprite']=!(0x1a*0x161+-0xefc*-0x2+-0x41d1));}['_applyTint'](_0x1738c0){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===0x2514+-0xb52+-0x896*0x3?this['_applyTint'+'Immediatel'+'y'](_0x1738c0):this['_applyTint'+'WithTween'](_0x1738c0);}['_applyTint'+'Immediatel'+'y'](_0x54804a){var _0x2e6301;const _0x14f53b=(_0x2e6301=this['_imageEnti'+'ty'])==null?void(-0x1e38+0x8ee+-0xa*-0x221):_0x2e6301['element'];if(!_0x54804a||!_0x14f53b||_0x14f53b['type']===eh)return;const _0x3e4bd3=kg(_0x54804a);this['_isApplyin'+'gTint']=!(-0x135f+-0x65*0x49+-0x1816*-0x2),_0x3e4bd3['equals'](_0x14f53b['color'])||(_0x14f53b['color']=_0x3e4bd3),_0x14f53b['opacity']!==_0x54804a['a']&&(_0x14f53b['opacity']=_0x54804a['a']),this['_isApplyin'+'gTint']=!(-0xd4c+-0x102d*0x1+0x1d7a);}['_applyTint'+'WithTween'](_0x2944bc){var _0x577204;const _0x4248ec=(_0x577204=this['_imageEnti'+'ty'])==null?void(-0x4b1+-0xd98+-0x97*-0x1f):_0x577204['element'];if(!_0x2944bc||!_0x4248ec||_0x4248ec['type']===eh)return;const _0x3886b7=kg(_0x2944bc),_0x3e4ecb=_0x4248ec['color'],_0x40e8f9=_0x4248ec['opacity'];_0x3886b7['equals'](_0x3e4ecb)&&_0x2944bc['a']===_0x40e8f9||(this['_tweenInfo']={'startTime':de(),'from':new ie(_0x3e4ecb['r'],_0x3e4ecb['g'],_0x3e4ecb['b'],_0x40e8f9),'to':_0x2944bc['clone'](),'lerpColor':new ie()});}['_updateTin'+'tTween'](){const _0x28ee6a=de()-this['_tweenInfo']['startTime'];let _0x3d4e5f=this['fadeDurati'+'on']===-0xdba+-0x1*0x568+0x1322?-0x1f8c+-0x137*-0x19+0x12e:_0x28ee6a/this['fadeDurati'+'on'];if(_0x3d4e5f=Y['clamp'](_0x3d4e5f,-0x6f4*-0x4+0x1*-0xec+-0x1ae4,-0x195c+0x24e8+-0xb8b),Math['abs'](_0x3d4e5f-(0x1d21*0x1+-0x2*0x101+-0x1b1e))>-0x17*0x79+-0x10*-0xfe+-0x501+0.00001){const _0x279bf1=this['_tweenInfo']['lerpColor'];_0x279bf1['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x3d4e5f),this['_applyTint'+'Immediatel'+'y'](new ie(_0x279bf1['r'],_0x279bf1['g'],_0x279bf1['b'],_0x279bf1['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(-0x86f*-0x2+0x1fe3+0x186*-0x20),this['_hoveringC'+'ounter']=-0x1954+0x127d+0x6d7,this['_isPressed']=!(0xcc5+-0x1e86+0x11c2),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x42e9b1,_0x47cd5a){_0x42e9b1['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x47cd5a[_0x42e9b1['imageEntit'+'y']['getGuid']()]);}}h(It,'EVENT_MOUS'+'EDOWN','mousedown'),h(It,'EVENT_MOUS'+'EUP','mouseup'),h(It,'EVENT_MOUS'+'EENTER','mouseenter'),h(It,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(It,'EVENT_CLIC'+'K','click'),h(It,'EVENT_TOUC'+'HSTART','touchstart'),h(It,'EVENT_TOUC'+'HEND','touchend'),h(It,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),h(It,'EVENT_TOUC'+'HLEAVE','touchleave'),h(It,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(It,'EVENT_SELE'+'CTEND','selectend'),h(It,'EVENT_SELE'+'CTENTER','selectente'+'r'),h(It,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),h(It,'EVENT_HOVE'+'RSTART','hoverstart'),h(It,'EVENT_HOVE'+'REND','hoverend'),h(It,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),h(It,'EVENT_PRES'+'SEDEND','pressedend');function kg(_0x1f6149){return new ie(_0x1f6149['r'],_0x1f6149['g'],_0x1f6149['b']);}class WL{constructor(){this['enabled']=!(0x1ec6*0x1+0xda1+0x4ef*-0x9),this['active']=!(-0xa70*0x1+-0x1abc+-0x1a*-0x16e),this['imageEntit'+'y']=null,this['hitPadding']=new re(),this['transition'+'Mode']=Au,this['hoverTint']=new ie(-0x49*-0x23+0x13b*0x1d+-0xe*0x343+0.75,-0x8d*-0x1+0x26a6+-0x2733+0.75,-0x2638*-0x1+-0x1172+0x2*-0xa63+0.75),this['pressedTin'+'t']=new ie(0x5a+-0x2054+0xffd*0x2+0.5,-0x1*0x351+0x463*-0x1+0x7b4+0.5,-0xd02+-0xc47+-0x1*-0x1949+0.5),this['inactiveTi'+'nt']=new ie(0x32b*-0x1+0x38*-0x3+0x3d3+0.25,0x1*-0x1ce1+-0x21a9*0x1+0x3e8a+0.25,0x1baf+-0x10a1+-0xb0e+0.25),this['fadeDurati'+'on']=-0x1ae1+-0x1933+-0x3414*-0x1,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=-0x2d*0x67+-0x1cef+0x2f0a,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=-0x907*0x3+0x1958+0x1bd,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=0x3*-0x965+-0xe0d+0xd4*0x33;}}const Ug=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class $L extends ct{constructor(_0x42e8cc){super(_0x42e8cc),this['id']='button',this['ComponentT'+'ype']=It,this['DataType']=WL,this['schema']=Ug,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x11ffdb,_0x4abad1,_0x1efc9e){_0x11ffdb['imageEntit'+'y']=_0x4abad1['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x11ffdb,_0x4abad1,Ug);}['onUpdate'](_0x523d51){const _0x503793=this['store'];for(const _0x50cb11 in _0x503793){const _0x5b49cc=_0x503793[_0x50cb11]['entity'],_0x278ab1=_0x5b49cc['button'];_0x278ab1['enabled']&&_0x5b49cc['enabled']&&_0x278ab1['onUpdate']();}}['_onRemoveC'+'omponent'](_0x3cbeab,_0x331551){_0x331551['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const Bg=new D(),zg=new le();class rn extends we{constructor(_0x51eb1e,_0x33d9c8){super(_0x51eb1e,_0x33d9c8),h(this,'_compoundP'+'arent',null),h(this,'_hasOffset',!(0x1e48+0x17f*0xb+-0x2ebc)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0x2fc013=this['system']['store'][this['entity']['getGuid']()];return _0x2fc013?_0x2fc013['data']:null;}set['enabled'](_0x1e8651){this['_setValue']('enabled',_0x1e8651);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x466c35){this['_setValue']('type',_0x466c35);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0x2d083e){this['_setValue']('halfExtent'+'s',_0x2d083e);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x17b9ab){this['_setValue']('linearOffs'+'et',_0x17b9ab);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x17b912){this['_setValue']('angularOff'+'set',_0x17b912);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0x270eaf){this['_setValue']('radius',_0x270eaf);}get['radius'](){return this['data']['radius'];}set['axis'](_0x119264){this['_setValue']('axis',_0x119264);}get['axis'](){return this['data']['axis'];}set['height'](_0x24d94b){this['_setValue']('height',_0x24d94b);}get['height'](){return this['data']['height'];}set['asset'](_0x2e1b27){this['_setValue']('asset',_0x2e1b27);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0xbecdde){this['_setValue']('renderAsse'+'t',_0xbecdde);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0x294fcf){this['_setValue']('convexHull',_0x294fcf);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0x58b27e){this['_setValue']('shape',_0x58b27e);}get['shape'](){return this['data']['shape'];}set['model'](_0x1975b6){this['_setValue']('model',_0x1975b6);}get['model'](){return this['data']['model'];}set['render'](_0x306a19){this['_setValue']('render',_0x306a19);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0x3625a7){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0x3625a7);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x5634d1,_0x31fd24){const _0x5e6518=this['data'],_0x1ded25=_0x5e6518[_0x5634d1];_0x5e6518[_0x5634d1]=_0x31fd24,this['fire']('set',_0x5634d1,_0x1ded25,_0x31fd24);}['onSetType'](_0x59db83,_0x3a0c6d,_0x27f7d6){_0x3a0c6d!==_0x27f7d6&&this['system']['changeType'](this,_0x3a0c6d,_0x27f7d6);}['onSetHalfE'+'xtents'](_0x2d87be,_0x498716,_0x4c0ec1){const _0x729cd8=this['data']['type'];this['data']['initialize'+'d']&&_0x729cd8==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x4e24a3,_0x5a5ae0,_0x2df717){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](D['ZERO'])||!this['data']['angularOff'+'set']['equals'](le['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x5c2a3e,_0x359c59,_0x56bbbf){const _0x4d880c=this['data']['type'];this['data']['initialize'+'d']&&(_0x4d880c==='sphere'||_0x4d880c==='capsule'||_0x4d880c==='cylinder'||_0x4d880c==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0x1d0abc,_0x2e5450,_0x2ca2d3){const _0x8dd115=this['data']['type'];this['data']['initialize'+'d']&&(_0x8dd115==='capsule'||_0x8dd115==='cylinder'||_0x8dd115==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x70e7ce,_0x4bec18,_0x3c4efb){const _0x5610c4=this['data']['type'];this['data']['initialize'+'d']&&(_0x5610c4==='capsule'||_0x5610c4==='cylinder'||_0x5610c4==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x48273a,_0x37e1c7,_0x4d6705){const _0x95b1f8=this['system']['app']['assets'];if(_0x37e1c7){const _0x11dec9=_0x95b1f8['get'](_0x37e1c7);_0x11dec9&&_0x11dec9['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x4d6705){_0x4d6705 instanceof pe&&(this['data']['asset']=_0x4d6705['id']);const _0xf14f6f=_0x95b1f8['get'](this['data']['asset']);_0xf14f6f&&(_0xf14f6f['off']('remove',this['onAssetRem'+'oved'],this),_0xf14f6f['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x4d6705||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x3dd9b6,_0x3c74d0,_0x3a6ec4){const _0x498f2d=this['system']['app']['assets'];if(_0x3c74d0){const _0x499324=_0x498f2d['get'](_0x3c74d0);_0x499324&&_0x499324['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x3a6ec4){_0x3a6ec4 instanceof pe&&(this['data']['renderAsse'+'t']=_0x3a6ec4['id']);const _0x185af8=_0x498f2d['get'](this['data']['renderAsse'+'t']);_0x185af8&&(_0x185af8['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x185af8['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x3a6ec4||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x409336,_0x4e65df,_0xfc5cd5){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x1b9c2c,_0x5344c4,_0x504def){this['onSetModel'](_0x1b9c2c,_0x5344c4,_0x504def);}['onAssetRem'+'oved'](_0x5288dc){_0x5288dc['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x5288dc['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x9a78b8){_0x9a78b8['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x9a78b8['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x553aa7){const _0x5b7386=this['data']['shape'],_0x367b83=_0x5b7386['getNumChil'+'dShapes']();for(let _0x5d18bf=0x39e*-0x1+-0x7b5*-0x5+-0x4fd*0x7;_0x5d18bf<_0x367b83;_0x5d18bf++){const _0x358037=_0x5b7386['getChildSh'+'ape'](_0x5d18bf);if(Ammo['getPointer'](_0x358037)===Ammo['getPointer'](_0x553aa7))return _0x5d18bf;}return null;}['_onInsert'](_0x2c7d89){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x21ffdc=this['entity']['parent'];for(;_0x21ffdc;){if(_0x21ffdc['collision']&&_0x21ffdc['collision']['type']==='compound'){_0x21ffdc['collision']['shape']['getNumChil'+'dShapes']()===-0x22b2+-0x764+0x2a16?this['system']['recreatePh'+'ysicalShap'+'es'](_0x21ffdc['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x21ffdc=_0x21ffdc['parent'];}}}}}['_updateCom'+'pound'](){const _0x2aabb2=this['entity'];if(_0x2aabb2['_dirtyWorl'+'d']){let _0x4c1e8a=_0x2aabb2['_dirtyLoca'+'l'],_0x47595e=_0x2aabb2;for(;_0x47595e&&!_0x4c1e8a&&!(_0x47595e['collision']&&_0x47595e['collision']===this['_compoundP'+'arent']);)_0x47595e['_dirtyLoca'+'l']&&(_0x4c1e8a=!(-0x1a3*0xf+-0x1d97+0x3624)),_0x47595e=_0x47595e['parent'];if(_0x4c1e8a){_0x2aabb2['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x2aabb2);const _0x17405a=this['_compoundP'+'arent']['entity']['rigidbody'];_0x17405a&&_0x17405a['activate']();}}}['getShapePo'+'sition'](){const _0x38ffbb=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x169938=this['entity']['getRotatio'+'n'](),_0x43ea55=this['data']['linearOffs'+'et'];return zg['copy'](_0x169938)['transformV'+'ector'](_0x43ea55,Bg),Bg['add'](_0x38ffbb);}return _0x38ffbb;}['getShapeRo'+'tation'](){const _0x4e143b=this['entity']['getRotatio'+'n']();return this['_hasOffset']?zg['copy'](_0x4e143b)['mul'](this['data']['angularOff'+'set']):_0x4e143b;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x55427b=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x55427b&&(!_0x55427b['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0x1*0x13f9+-0xcab+-0x20a4*-0x1)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x390f1f=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x390f1f,this['data']['shape']),Ammo['destroy'](_0x390f1f),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}h(rn,'EVENT_CONT'+'ACT','contact'),h(rn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(rn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(rn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(rn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class XL{constructor(){this['enabled']=!(-0x4*-0x602+0x20ab+-0x38b3),this['type']='box',this['halfExtent'+'s']=new D(-0x4*0x79d+0xe31+0x17*0xb5+0.5,0x1a*0x7a+-0x1*0xb11+0x1*-0x153+0.5,0x237a+-0x13*0x77+-0x1aa5+0.5),this['linearOffs'+'et']=new D(),this['angularOff'+'set']=new le(),this['radius']=0x17*-0x3b+-0x255+-0x7a2*-0x1+0.5,this['axis']=0x2*0xdb3+0xf1c*0x2+-0x399d,this['height']=0x3*-0x95+-0x8c3*-0x1+0x12b*-0x6,this['convexHull']=!(0x1fdc+-0x163f+-0x99c),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(0x127b+0x14b*0x2+0x1*-0x1511),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(0x7c0*0x2+-0x1009+-0x3*-0x2e);}}const yo='static',ks='dynamic',Ha='kinematic',qL=-0x1d3*-0x2+-0x11a6+0xe02,Po=-0xe8a+-0x921+0x17af,Pu=-0x3fe+-0xdb*-0x9+-0x4*0xed,Vg=-0x4f5+0x95*-0x20+0x1799,Yv=0x3*0x21d+-0x1afd+0x14ab,jL=-0x313*-0x3+0x75*-0x2c+0xae4,Gg=0xa0c+0x4b7*-0x7+0x16f7,YL=-0x2435+0x3*-0x8c3+0x3e82,Hg=0x2145+-0x1cc7+-0x2a*0x1b,Wg=-0x1ac0b*0x1+0x15145*-0x1+0x3fd4f,Mu=0x18f66+-0xe2c5+0x535c;let Us,zr,Wa;class Kv{constructor(_0x305514,_0x45609c,_0x4f3eb0){this['entity']=_0x45609c['entity'],this['component']=_0x45609c,this['app']=_0x305514,typeof Ammo<'u'&&!Us&&(Us=new Ammo['btVector3'](),zr=new Ammo['btQuaterni'+'on'](),Wa=new Ammo['btTransfor'+'m']()),this['initialize'](_0x4f3eb0);}['initialize'](_0x13ba1f){const _0xa6bf69=this['entity'],_0x1fb2e8=_0x13ba1f['shape'];if(_0x1fb2e8&&typeof Ammo<'u'){_0xa6bf69['trigger']&&_0xa6bf69['trigger']['destroy']();const _0x588f1e=0x22f*-0x10+0x140b+0xee6,_0x402946=this['component'];if(_0x402946){const _0x4108d5=_0x402946['getShapePo'+'sition'](),_0x27ab91=_0x402946['getShapeRo'+'tation']();Us['setValue'](_0x4108d5['x'],_0x4108d5['y'],_0x4108d5['z']),zr['setValue'](_0x27ab91['x'],_0x27ab91['y'],_0x27ab91['z'],_0x27ab91['w']);}else{const _0x534907=_0xa6bf69['getPositio'+'n'](),_0x4f54a6=_0xa6bf69['getRotatio'+'n']();Us['setValue'](_0x534907['x'],_0x534907['y'],_0x534907['z']),zr['setValue'](_0x4f54a6['x'],_0x4f54a6['y'],_0x4f54a6['z'],_0x4f54a6['w']);}Wa['setOrigin'](Us),Wa['setRotatio'+'n'](zr);const _0x3d1705=this['app']['systems']['rigidbody']['createBody'](_0x588f1e,_0x1fb2e8,Wa);_0x3d1705['setRestitu'+'tion'](-0x13ca+0xcbc+0x2*0x387),_0x3d1705['setFrictio'+'n'](0x78e+-0xbf6*-0x3+-0x2b70),_0x3d1705['setDamping'](0x1c69*-0x1+0x1d7d+-0x114,-0x4c4+0x17*0x187+0x1*-0x1e5d),Us['setValue'](-0x23de+0x25b2+-0x4*0x75,-0x18e3+-0x145*-0x1+0x179e,0x41*-0x35+-0x1a77+0x27ec),_0x3d1705['setLinearF'+'actor'](Us),_0x3d1705['setAngular'+'Factor'](Us),_0x3d1705['setCollisi'+'onFlags'](_0x3d1705['getCollisi'+'onFlags']()|Po),_0x3d1705['entity']=_0xa6bf69,this['body']=_0x3d1705,this['component']['enabled']&&_0xa6bf69['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0x3b11aa){const _0x392b6b=this['component'];if(_0x392b6b){const _0x48606a=_0x392b6b['getShapePo'+'sition'](),_0x522d80=_0x392b6b['getShapeRo'+'tation']();Us['setValue'](_0x48606a['x'],_0x48606a['y'],_0x48606a['z']),zr['setValue'](_0x522d80['x'],_0x522d80['y'],_0x522d80['z'],_0x522d80['w']);}else{const _0x56c8d4=this['entity']['getPositio'+'n'](),_0x1377dc=this['entity']['getRotatio'+'n']();Us['setValue'](_0x56c8d4['x'],_0x56c8d4['y'],_0x56c8d4['z']),zr['setValue'](_0x1377dc['x'],_0x1377dc['y'],_0x1377dc['z'],_0x1377dc['w']);}_0x3b11aa['setOrigin'](Us),_0x3b11aa['setRotatio'+'n'](zr);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Wa);const _0xfb1c87=this['body'];_0xfb1c87['setWorldTr'+'ansform'](Wa),_0xfb1c87['activate']();}['enable'](){const _0x262d32=this['body'];if(!_0x262d32)return;const _0x28afb5=this['app']['systems']['rigidbody'];_0x28afb5['_triggers']['indexOf'](this)<0x26a7+0x44e+0x1*-0x2af5&&(_0x28afb5['addBody'](_0x262d32,Hg,Mu^Hg),_0x28afb5['_triggers']['push'](this)),_0x262d32['forceActiv'+'ationState'](Pu),this['updateTran'+'sform']();}['disable'](){const _0x3e08b4=this['body'];if(!_0x3e08b4)return;const _0x59bdd5=this['app']['systems']['rigidbody'],_0x4c46b2=_0x59bdd5['_triggers']['indexOf'](this);_0x4c46b2>-(0x253*-0x4+-0x511*0x7+0xa*0x47a)&&(_0x59bdd5['removeBody'](_0x3e08b4),_0x59bdd5['_triggers']['splice'](_0x4c46b2,0x1981*0x1+0x357*0x2+-0x202e)),_0x3e08b4['forceActiv'+'ationState'](Yv);}}const wc=new te(),KL=new D(),ZL=new D(),Vr=new le(),$g=new Ie(),QL=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class Ca{constructor(_0x4424b8){this['system']=_0x4424b8;}['beforeInit'+'ialize'](_0x1be805,_0x51ae93){_0x51ae93['shape']=null,_0x51ae93['model']=new sr(),_0x51ae93['model']['graph']=new Ie();}['afterIniti'+'alize'](_0x122850,_0x1a91a5){this['recreatePh'+'ysicalShap'+'es'](_0x122850),_0x122850['data']['initialize'+'d']=!(-0x134a+0x1a22+-0x6d8);}['reset'](_0x9b0a7b,_0x59d791){this['beforeInit'+'ialize'](_0x9b0a7b,_0x59d791),this['afterIniti'+'alize'](_0x9b0a7b,_0x59d791);}['recreatePh'+'ysicalShap'+'es'](_0x51cf96){const _0x550045=_0x51cf96['entity'],_0x2cce57=_0x51cf96['data'];if(typeof Ammo<'u'){_0x550045['trigger']&&(_0x550045['trigger']['destroy'](),delete _0x550045['trigger']),_0x2cce57['shape']&&(_0x51cf96['_compoundP'+'arent']&&(_0x51cf96!==_0x51cf96['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x51cf96['_compoundP'+'arent'],_0x2cce57['shape']),_0x51cf96['_compoundP'+'arent']['entity']['rigidbody']&&_0x51cf96['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x2cce57)),_0x2cce57['shape']=this['createPhys'+'icalShape'](_0x51cf96['entity'],_0x2cce57);const _0x5eeb6c=!_0x51cf96['_compoundP'+'arent'];if(_0x2cce57['type']==='compound'&&(!_0x51cf96['_compoundP'+'arent']||_0x51cf96===_0x51cf96['_compoundP'+'arent']))_0x51cf96['_compoundP'+'arent']=_0x51cf96,_0x550045['forEach'](this['_addEachDe'+'scendant'],_0x51cf96);else{if(_0x2cce57['type']!=='compound'&&!_0x51cf96['rigidbody']){_0x51cf96['_compoundP'+'arent']=null;let _0x236470=_0x550045['parent'];for(;_0x236470;){if(_0x236470['collision']&&_0x236470['collision']['type']==='compound'){_0x51cf96['_compoundP'+'arent']=_0x236470['collision'];break;}_0x236470=_0x236470['parent'];}}}_0x51cf96['_compoundP'+'arent']&&_0x51cf96!==_0x51cf96['_compoundP'+'arent']&&(_0x5eeb6c&&_0x51cf96['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0x1810+0x1cb5+0x1d*-0x29?this['system']['recreatePh'+'ysicalShap'+'es'](_0x51cf96['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x550045,!(-0x240f+-0x37f*0x9+0x102*0x43)),_0x51cf96['_compoundP'+'arent']['entity']['rigidbody']&&_0x51cf96['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x550045['rigidbody']?(_0x550045['rigidbody']['disableSim'+'ulation'](),_0x550045['rigidbody']['createBody'](),_0x550045['enabled']&&_0x550045['rigidbody']['enabled']&&_0x550045['rigidbody']['enableSimu'+'lation']()):_0x51cf96['_compoundP'+'arent']||(_0x550045['trigger']?_0x550045['trigger']['initialize'](_0x2cce57):_0x550045['trigger']=new Kv(this['system']['app'],_0x51cf96,_0x2cce57));}}['createPhys'+'icalShape'](_0x4aa9d3,_0x3825d2){}['updateTran'+'sform'](_0x478205,_0xd3a5b6,_0x207955,_0x532e95){_0x478205['entity']['trigger']&&_0x478205['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x3eb528){_0x3eb528['shape']&&(Ammo['destroy'](_0x3eb528['shape']),_0x3eb528['shape']=null);}['beforeRemo'+'ve'](_0xf3ebed,_0x27634c){_0x27634c['data']['shape']&&(_0x27634c['_compoundP'+'arent']&&!_0x27634c['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x27634c['_compoundP'+'arent'],_0x27634c['data']['shape']),_0x27634c['_compoundP'+'arent']['entity']['rigidbody']&&_0x27634c['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x27634c['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x27634c['data']));}['remove'](_0x89ad84,_0x2182d0){_0x89ad84['rigidbody']&&_0x89ad84['rigidbody']['body']&&_0x89ad84['rigidbody']['disableSim'+'ulation'](),_0x89ad84['trigger']&&(_0x89ad84['trigger']['destroy'](),delete _0x89ad84['trigger']);}['clone'](_0xc84c05,_0x22aefb){const _0x1bff63=this['system']['store'][_0xc84c05['getGuid']()],_0x2281c4={'enabled':_0x1bff63['data']['enabled'],'type':_0x1bff63['data']['type'],'halfExtents':[_0x1bff63['data']['halfExtent'+'s']['x'],_0x1bff63['data']['halfExtent'+'s']['y'],_0x1bff63['data']['halfExtent'+'s']['z']],'linearOffset':[_0x1bff63['data']['linearOffs'+'et']['x'],_0x1bff63['data']['linearOffs'+'et']['y'],_0x1bff63['data']['linearOffs'+'et']['z']],'angularOffset':[_0x1bff63['data']['angularOff'+'set']['x'],_0x1bff63['data']['angularOff'+'set']['y'],_0x1bff63['data']['angularOff'+'set']['z'],_0x1bff63['data']['angularOff'+'set']['w']],'radius':_0x1bff63['data']['radius'],'axis':_0x1bff63['data']['axis'],'height':_0x1bff63['data']['height'],'convexHull':_0x1bff63['data']['convexHull'],'asset':_0x1bff63['data']['asset'],'renderAsset':_0x1bff63['data']['renderAsse'+'t'],'model':_0x1bff63['data']['model'],'render':_0x1bff63['data']['render'],'checkVertexDuplicates':_0x1bff63['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x22aefb,_0x2281c4);}}class JL extends Ca{['createPhys'+'icalShape'](_0x46cd5e,_0x3e9151){if(typeof Ammo<'u'){const _0x1e5910=_0x3e9151['halfExtent'+'s'],_0xa46ae9=new Ammo['btVector3'](_0x1e5910?_0x1e5910['x']:0x1*-0xd83+0x1f3b+-0x11b8+0.5,_0x1e5910?_0x1e5910['y']:-0x768+0x646+0x122+0.5,_0x1e5910?_0x1e5910['z']:-0x2b*-0xdb+0x9*0x439+-0x6*0xc77+0.5),_0x3eceaa=new Ammo['btBoxShape'](_0xa46ae9);return Ammo['destroy'](_0xa46ae9),_0x3eceaa;}}}class eR extends Ca{['createPhys'+'icalShape'](_0x4cca74,_0x3d23b1){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x3d23b1['radius']);}}class tR extends Ca{['createPhys'+'icalShape'](_0x539008,_0x56fc0f){const _0x33229a=_0x56fc0f['axis']??-0x608+0x1b*0x32+0xc3,_0x3b8332=_0x56fc0f['radius']??-0x12c4+0x1db7+-0xaf3*0x1+0.5,_0x2f4755=Math['max']((_0x56fc0f['height']??-0x698+0x1f91+-0x18f7)-(0x6a3+-0x14b*0x3+-0x2c0)*_0x3b8332,-0x2dd*0xd+-0x214e+0x4687);let _0x594c86=null;if(typeof Ammo<'u')switch(_0x33229a){case 0xb4c+0x1211+0x1d5d*-0x1:_0x594c86=new Ammo['btCapsuleS'+'hapeX'](_0x3b8332,_0x2f4755);break;case 0x648+0x111a+0x85*-0x2d:_0x594c86=new Ammo['btCapsuleS'+'hape'](_0x3b8332,_0x2f4755);break;case 0x2127+-0x4ae+-0x1c77:_0x594c86=new Ammo['btCapsuleS'+'hapeZ'](_0x3b8332,_0x2f4755);break;}return _0x594c86;}}class sR extends Ca{['createPhys'+'icalShape'](_0x1f582b,_0x46fb62){const _0x534fc9=_0x46fb62['axis']??0xcc1*0x1+0x2b7*0x2+-0x917*0x2,_0x2f0bcb=_0x46fb62['radius']??0x119*-0x3+0x77*0x4f+-0x216e*0x1+0.5,_0x3b8e98=_0x46fb62['height']??-0x784+-0x2079+0x27fe;let _0x202aea=null,_0x2880e5=null;if(typeof Ammo<'u')switch(_0x534fc9){case 0x1e25+-0x22c8+-0x4a3*-0x1:_0x202aea=new Ammo['btVector3'](_0x3b8e98*(-0x1445+-0x329*-0x3+0xaca+0.5),_0x2f0bcb,_0x2f0bcb),_0x2880e5=new Ammo['btCylinder'+'ShapeX'](_0x202aea);break;case 0x58b*-0x1+-0x3*-0x67+-0xb*-0x65:_0x202aea=new Ammo['btVector3'](_0x2f0bcb,_0x3b8e98*(-0xa8a+-0xcbc+0x1746+0.5),_0x2f0bcb),_0x2880e5=new Ammo['btCylinder'+'Shape'](_0x202aea);break;case 0x1f81+-0x1a32+0x3b*-0x17:_0x202aea=new Ammo['btVector3'](_0x2f0bcb,_0x2f0bcb,_0x3b8e98*(0x9e4+-0x1a*0x2b+-0x586+0.5)),_0x2880e5=new Ammo['btCylinder'+'ShapeZ'](_0x202aea);break;}return _0x202aea&&Ammo['destroy'](_0x202aea),_0x2880e5;}}class iR extends Ca{['createPhys'+'icalShape'](_0x42eab2,_0x263524){const _0x599d15=_0x263524['axis']??-0x370*-0x4+-0x11f6+-0x53*-0xd,_0x352053=_0x263524['radius']??-0x2f9*0x5+0x108*-0xe+0x1d4d+0.5,_0x52e8ac=_0x263524['height']??0xace+0x13*0x164+-0x2dd*0xd;let _0x136e15=null;if(typeof Ammo<'u')switch(_0x599d15){case 0x1efd*0x1+0x6cd*0x3+-0x3364:_0x136e15=new Ammo['btConeShap'+'eX'](_0x352053,_0x52e8ac);break;case 0x7*0x3a1+-0x148b+0x1*-0x4db:_0x136e15=new Ammo['btConeShap'+'e'](_0x352053,_0x52e8ac);break;case-0xe14+-0x123d+0x19*0x14b:_0x136e15=new Ammo['btConeShap'+'eZ'](_0x352053,_0x52e8ac);break;}return _0x136e15;}}class rR extends Ca{['beforeInit'+'ialize'](_0x5943b7,_0x4a99ae){}['createAmmo'+'Hull'](_0x1649a5,_0x52d853,_0x39f0d6,_0xfc560b){const _0xb2f3c2=new Ammo['btConvexHu'+'llShape'](),_0x500f4c=new Ammo['btVector3'](),_0x1b70ae=[];_0x1649a5['getPositio'+'ns'](_0x1b70ae);for(let _0x43ac89=0x1d0f+-0x16e6+0x13*-0x53;_0x43ac89<_0x1b70ae['length'];_0x43ac89+=-0x2581*0x1+0xa84*-0x2+0x9c2*0x6)_0x500f4c['setValue'](_0x1b70ae[_0x43ac89]*_0xfc560b['x'],_0x1b70ae[_0x43ac89+(0x13d9*-0x1+0x1677+0x1*-0x29d)]*_0xfc560b['y'],_0x1b70ae[_0x43ac89+(-0x2a*-0x4e+-0x79*-0x27+0x1f39*-0x1)]*_0xfc560b['z']),_0xb2f3c2['addPoint'](_0x500f4c,!(-0x21c9+0x1dca+0x2*0x200));Ammo['destroy'](_0x500f4c),_0xb2f3c2['recalcLoca'+'lAabb'](),_0xb2f3c2['setMargin'](0x1*0x6e5+0x1*0x40f+-0x2*0x57a+0.01);const _0x17e5fe=this['system']['_getNodeTr'+'ansform'](_0x52d853);_0x39f0d6['addChildSh'+'ape'](_0x17e5fe,_0xb2f3c2),Ammo['destroy'](_0x17e5fe);}['createAmmo'+'Mesh'](_0x22fc93,_0x5569c6,_0x9f2c16,_0x12da5,_0x3c49be=!(-0xd*-0x1a1+-0x25ea+-0x10bd*-0x1)){const _0x17480a=this['system'];let _0x155b96;if(_0x17480a['_triMeshCa'+'che'][_0x22fc93['id']])_0x155b96=_0x17480a['_triMeshCa'+'che'][_0x22fc93['id']];else{const _0x27c116=_0x22fc93['vertexBuff'+'er'],_0x454a1a=_0x27c116['getFormat']();let _0x2d0e23,_0x3f16dc;for(let _0x33c256=0x1e1b+-0x7c7+-0x1654;_0x33c256<_0x454a1a['elements']['length'];_0x33c256++){const _0x4bd225=_0x454a1a['elements'][_0x33c256];if(_0x4bd225['name']===Me){_0x3f16dc=new Float32Array(_0x27c116['lock'](),_0x4bd225['offset']),_0x2d0e23=_0x4bd225['stride']/(0x1e47+0x10bf*0x1+-0x1*0x2f02);break;}}const _0x2234a1=[];_0x22fc93['getIndices'](_0x2234a1);const _0x1c85d0=_0x22fc93['primitive'][0x15b4+-0x14b2+-0x102*0x1]['count']/(0xbf2*-0x1+0x2*0x7c9+-0x39d),_0x3cabf0=new Ammo['btVector3']();let _0x4aecc2,_0xb0c747,_0x5365d7;const _0x1932cd=_0x22fc93['primitive'][-0x1408+0x17c5+-0x3bd]['base'];_0x155b96=new Ammo['btTriangle'+'Mesh'](),_0x17480a['_triMeshCa'+'che'][_0x22fc93['id']]=_0x155b96;const _0xf562fd=new Map();w['assert'](typeof _0x155b96['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x40ca37=_0x155b96['getIndexed'+'MeshArray']();_0x40ca37['at'](-0x73*-0xa+-0x1a13+-0x41*-0x55)['m_numTrian'+'gles']=_0x1c85d0;const _0x203376=_0x12da5?_0x12da5['x']:0x3*-0xc12+0x1028*0x1+-0x18b*-0xd,_0x547d35=_0x12da5?_0x12da5['y']:0x4b1+-0x9f7+0x547,_0x5921b5=_0x12da5?_0x12da5['z']:-0x44*-0x8a+-0x2b3*-0x5+0x1913*-0x2,_0x3c6004=_0x2916f4=>{const _0x287561=_0x3f16dc[_0x2916f4*_0x2d0e23]*_0x203376,_0x11b9a5=_0x3f16dc[_0x2916f4*_0x2d0e23+(0xa0e+0x2113+-0x45*0xa0)]*_0x547d35,_0xbddcd1=_0x3f16dc[_0x2916f4*_0x2d0e23+(0x359+0xa4d*-0x3+0x1b90)]*_0x5921b5;let _0x11cad5;if(_0x3c49be){const _0x5b58e9=_0x287561+':'+_0x11b9a5+':'+_0xbddcd1;if(_0x11cad5=_0xf562fd['get'](_0x5b58e9),_0x11cad5!==void(-0x10c+-0x5*0x4d6+0x2*0xc9d))return _0x11cad5;_0x3cabf0['setValue'](_0x287561,_0x11b9a5,_0xbddcd1),_0x11cad5=_0x155b96['findOrAddV'+'ertex'](_0x3cabf0,!(0x22dc*-0x1+-0x1199+-0xa7e*-0x5)),_0xf562fd['set'](_0x5b58e9,_0x11cad5);}else _0x3cabf0['setValue'](_0x287561,_0x11b9a5,_0xbddcd1),_0x11cad5=_0x155b96['findOrAddV'+'ertex'](_0x3cabf0,!(0xe*-0xb5+-0x1ff*-0x5+0x14*-0x1));return _0x11cad5;};for(let _0x185c03=0x1cd+0xcc5+-0xe92;_0x185c03<_0x1c85d0;_0x185c03++)_0x4aecc2=_0x3c6004(_0x2234a1[_0x1932cd+_0x185c03*(0x135*-0x13+0x1501*-0x1+0x2bf3*0x1)]),_0xb0c747=_0x3c6004(_0x2234a1[_0x1932cd+_0x185c03*(-0xdb8+-0x25bf*0x1+0x337a)+(0x7*0x1e7+0x1*-0x2405+0x16b5)]),_0x5365d7=_0x3c6004(_0x2234a1[_0x1932cd+_0x185c03*(-0x2028+0x1686+0x9a5)+(0x1*-0x23f+0x6a7+-0x466)]),_0x155b96['addIndex'](_0x4aecc2),_0x155b96['addIndex'](_0xb0c747),_0x155b96['addIndex'](_0x5365d7);Ammo['destroy'](_0x3cabf0);}const _0x6404ad=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x155b96,!(-0x1*-0x1a59+-0x4*-0xb1+-0x1*0x1d1d));if(!_0x12da5){const _0x9ba9b=_0x17480a['_getNodeSc'+'aling'](_0x5569c6);_0x6404ad['setLocalSc'+'aling'](_0x9ba9b),Ammo['destroy'](_0x9ba9b);}const _0x2af4e8=_0x17480a['_getNodeTr'+'ansform'](_0x5569c6);_0x9f2c16['addChildSh'+'ape'](_0x2af4e8,_0x6404ad),Ammo['destroy'](_0x2af4e8);}['createPhys'+'icalShape'](_0x3735fb,_0x1bff1d){if(!(typeof Ammo>'u')&&(_0x1bff1d['model']||_0x1bff1d['render'])){const _0x592041=new Ammo['btCompound'+'Shape'](),_0x154a63=_0x3735fb['getWorldTr'+'ansform']()['getScale']();if(_0x1bff1d['render']){const _0x256b62=_0x1bff1d['render']['meshes'];for(let _0xc98fb=0x17af+0x226a*-0x1+0x43*0x29;_0xc98fb<_0x256b62['length'];_0xc98fb++)_0x1bff1d['convexHull']?this['createAmmo'+'Hull'](_0x256b62[_0xc98fb],$g,_0x592041,_0x154a63):this['createAmmo'+'Mesh'](_0x256b62[_0xc98fb],$g,_0x592041,_0x154a63,_0x1bff1d['checkVerte'+'xDuplicate'+'s']);}else{if(_0x1bff1d['model']){const _0x249a0e=_0x1bff1d['model']['meshInstan'+'ces'];for(let _0x4efb06=-0x236f+0x58e+0x1de1;_0x4efb06<_0x249a0e['length'];_0x4efb06++)this['createAmmo'+'Mesh'](_0x249a0e[_0x4efb06]['mesh'],_0x249a0e[_0x4efb06]['node'],_0x592041,null,_0x1bff1d['checkVerte'+'xDuplicate'+'s']);const _0x236ad6=new Ammo['btVector3'](_0x154a63['x'],_0x154a63['y'],_0x154a63['z']);_0x592041['setLocalSc'+'aling'](_0x236ad6),Ammo['destroy'](_0x236ad6);}}return _0x592041;}}['recreatePh'+'ysicalShap'+'es'](_0x4f7d14){const _0x4f669d=_0x4f7d14['data'];if((_0x4f669d['renderAsse'+'t']||_0x4f669d['asset'])&&_0x4f7d14['enabled']&&_0x4f7d14['entity']['enabled']){this['loadAsset'](_0x4f7d14,_0x4f669d['renderAsse'+'t']||_0x4f669d['asset'],_0x4f669d['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x4f7d14);}['loadAsset'](_0x4b2269,_0x219e7c,_0x130b8c){const _0x3d5126=_0x4b2269['data'],_0x49824e=this['system']['app']['assets'],_0x34e41f=_0x3d5126[_0x130b8c],_0x2e6e8a=_0x206521=>{_0x3d5126[_0x130b8c]===_0x34e41f&&(_0x3d5126[_0x130b8c]=_0x206521['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0x4b2269));},_0x59f503=_0x1493a8=>{_0x1493a8['ready'](_0x26e977=>{if(_0x26e977['data']['containerA'+'sset']){const _0x494f9c=_0x49824e['get'](_0x26e977['data']['containerA'+'sset']);_0x494f9c['loaded']?_0x2e6e8a(_0x26e977):(_0x494f9c['ready'](()=>{_0x2e6e8a(_0x26e977);}),_0x49824e['load'](_0x494f9c));}else _0x2e6e8a(_0x26e977);}),_0x49824e['load'](_0x1493a8);},_0x4a5bd8=_0x49824e['get'](_0x219e7c);_0x4a5bd8?_0x59f503(_0x4a5bd8):_0x49824e['once']('add:'+_0x219e7c,_0x59f503);}['doRecreate'+'PhysicalSh'+'ape'](_0x11eb19){const _0x20d13f=_0x11eb19['entity'],_0x4345a5=_0x11eb19['data'];_0x4345a5['model']||_0x4345a5['render']?(this['destroySha'+'pe'](_0x4345a5),_0x4345a5['shape']=this['createPhys'+'icalShape'](_0x20d13f,_0x4345a5),_0x20d13f['rigidbody']?(_0x20d13f['rigidbody']['disableSim'+'ulation'](),_0x20d13f['rigidbody']['createBody'](),_0x20d13f['enabled']&&_0x20d13f['rigidbody']['enabled']&&_0x20d13f['rigidbody']['enableSimu'+'lation']()):_0x20d13f['trigger']?_0x20d13f['trigger']['initialize'](_0x4345a5):_0x20d13f['trigger']=new Kv(this['system']['app'],_0x11eb19,_0x4345a5)):(this['beforeRemo'+'ve'](_0x20d13f,_0x11eb19),this['remove'](_0x20d13f,_0x4345a5));}['updateTran'+'sform'](_0x523676,_0x4659a9,_0x4296a0,_0x1f1d90){if(_0x523676['shape']){const _0x6b2dfe=_0x523676['entity']['getWorldTr'+'ansform']()['getScale'](),_0x15206c=_0x523676['shape']['getLocalSc'+'aling']();(_0x6b2dfe['x']!==_0x15206c['x']()||_0x6b2dfe['y']!==_0x15206c['y']()||_0x6b2dfe['z']!==_0x15206c['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x523676);}super['updateTran'+'sform'](_0x523676,_0x4659a9,_0x4296a0,_0x1f1d90);}['destroySha'+'pe'](_0x210c74){if(!_0x210c74['shape'])return;const _0x2fccda=_0x210c74['shape']['getNumChil'+'dShapes']();for(let _0x35ec13=0x471*-0x1+-0x130b+0x177c;_0x35ec13<_0x2fccda;_0x35ec13++){const _0x5c5493=_0x210c74['shape']['getChildSh'+'ape'](_0x35ec13);Ammo['destroy'](_0x5c5493);}Ammo['destroy'](_0x210c74['shape']),_0x210c74['shape']=null;}}class aR extends Ca{['createPhys'+'icalShape'](_0x5c6e0c,_0x2f5c66){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0xdb3057){!_0xdb3057['collision']||_0xdb3057['rigidbody']||(_0xdb3057['collision']['_compoundP'+'arent']=this,_0xdb3057!==this['entity']&&_0xdb3057['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0xdb3057['collision']));}['_updateEac'+'hDescendan'+'t'](_0x1cfbee){_0x1cfbee['collision']&&_0x1cfbee['collision']['_compoundP'+'arent']===this&&(_0x1cfbee['collision']['_compoundP'+'arent']=null,_0x1cfbee!==this['entity']&&!_0x1cfbee['rigidbody']&&_0x1cfbee['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x1cfbee['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x3cc245){!_0x3cc245['collision']||_0x3cc245['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x3cc245,!(-0x1c91+0x2e*-0x89+0x17*0x250));}}class nR extends ct{constructor(_0x327739){super(_0x327739),this['id']='collision',this['ComponentT'+'ype']=rn,this['DataType']=XL,this['schema']=QL,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x25aac7,_0x4aa4af,_0x5838b0){_0x5838b0=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x55bed2={};for(let _0x391221=0x208e+-0x1f49*0x1+-0x145*0x1,_0x42b2d8=_0x5838b0['length'];_0x391221<_0x42b2d8;_0x391221++){const _0x25530a=_0x5838b0[_0x391221];_0x55bed2[_0x25530a]=_0x4aa4af[_0x25530a];}let _0x521752;if(_0x4aa4af['hasOwnProp'+'erty']('asset')?(_0x521752=_0x5838b0['indexOf']('model'),_0x521752!==-(0x1809+0x2*0x793+-0x272e)&&_0x5838b0['splice'](_0x521752,-0x17c4+-0x19*-0x13+-0xb*-0x1fe),_0x521752=_0x5838b0['indexOf']('render'),_0x521752!==-(-0xb33*0x1+-0x1edf+0x2a13)&&_0x5838b0['splice'](_0x521752,0x15a7+-0x6*0x23c+-0xd3*0xa)):_0x4aa4af['hasOwnProp'+'erty']('model')&&(_0x521752=_0x5838b0['indexOf']('asset'),_0x521752!==-(0xb67*-0x3+0x15*0x122+-0x3a*-0x2e)&&_0x5838b0['splice'](_0x521752,-0x1c73*-0x1+-0x8b*0xa+-0x1eb*0xc)),_0x55bed2['type']||(_0x55bed2['type']=_0x25aac7['data']['type']),_0x25aac7['data']['type']=_0x55bed2['type'],Array['isArray'](_0x55bed2['halfExtent'+'s'])&&(_0x55bed2['halfExtent'+'s']=new D(_0x55bed2['halfExtent'+'s'])),Array['isArray'](_0x55bed2['linearOffs'+'et'])&&(_0x55bed2['linearOffs'+'et']=new D(_0x55bed2['linearOffs'+'et'])),Array['isArray'](_0x55bed2['angularOff'+'set'])){const _0x4df66e=_0x55bed2['angularOff'+'set'];_0x4df66e['length']===-0x2*0xc61+0x1eb7+0x1*-0x5f2?_0x55bed2['angularOff'+'set']=new le()['setFromEul'+'erAngles'](_0x4df66e[0x1b34+0x25b8+-0x2076*0x2],_0x4df66e[-0x2bb*0x9+-0x1a31+0x32c5],_0x4df66e[-0x1*0x240e+0xdcf+0x1641]):_0x55bed2['angularOff'+'set']=new le(_0x55bed2['angularOff'+'set']);}const _0x5b3510=this['_createImp'+'lementatio'+'n'](_0x55bed2['type']);_0x5b3510['beforeInit'+'ialize'](_0x25aac7,_0x55bed2),super['initialize'+'ComponentD'+'ata'](_0x25aac7,_0x55bed2,_0x5838b0),_0x5b3510['afterIniti'+'alize'](_0x25aac7,_0x55bed2);}['_createImp'+'lementatio'+'n'](_0x4f59af){if(this['implementa'+'tions'][_0x4f59af]===void(-0x1*-0x1c61+-0x1537*0x1+-0x72a)){let _0x3475ab;switch(_0x4f59af){case'box':_0x3475ab=new JL(this);break;case'sphere':_0x3475ab=new eR(this);break;case'capsule':_0x3475ab=new tR(this);break;case'cylinder':_0x3475ab=new sR(this);break;case'cone':_0x3475ab=new iR(this);break;case'mesh':_0x3475ab=new rR(this);break;case'compound':_0x3475ab=new aR(this);break;default:w['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x4f59af);}this['implementa'+'tions'][_0x4f59af]=_0x3475ab;}return this['implementa'+'tions'][_0x4f59af];}['_getImplem'+'entation'](_0x214d0d){return this['implementa'+'tions'][_0x214d0d['collision']['data']['type']];}['cloneCompo'+'nent'](_0x36b5d9,_0x572e6a){return this['_getImplem'+'entation'](_0x36b5d9)['clone'](_0x36b5d9,_0x572e6a);}['onBeforeRe'+'move'](_0x15c830,_0x465fc4){this['implementa'+'tions'][_0x465fc4['data']['type']]['beforeRemo'+'ve'](_0x15c830,_0x465fc4),_0x465fc4['onBeforeRe'+'move']();}['onRemove'](_0x4175a1,_0x5acef2){this['implementa'+'tions'][_0x5acef2['type']]['remove'](_0x4175a1,_0x5acef2);}['updateComp'+'oundChildT'+'ransform'](_0x481591,_0x2dd9d9){const _0x5365b1=_0x481591['collision']['_compoundP'+'arent'];if(_0x5365b1!==_0x481591['collision']&&_0x481591['enabled']&&_0x481591['collision']['enabled']&&(_0x481591['_dirtyLoca'+'l']||_0x2dd9d9)){const _0x550840=this['_getNodeTr'+'ansform'](_0x481591,_0x5365b1['entity']),_0x3be178=_0x5365b1['getCompoun'+'dChildShap'+'eIndex'](_0x481591['collision']['shape']);_0x3be178===null?_0x5365b1['shape']['addChildSh'+'ape'](_0x550840,_0x481591['collision']['data']['shape']):_0x5365b1['shape']['updateChil'+'dTransform'](_0x3be178,_0x550840,!(-0x6ee+-0xfc8+0x16b6)),Ammo['destroy'](_0x550840);}}['_removeCom'+'poundChild'](_0x4ac5e8,_0x7772c9){if(_0x4ac5e8['shape']['getNumChil'+'dShapes']()!==-0x1e1b+-0xe4+0x1eff){if(_0x4ac5e8['shape']['removeChil'+'dShape'])_0x4ac5e8['shape']['removeChil'+'dShape'](_0x7772c9);else{const _0x33e865=_0x4ac5e8['getCompoun'+'dChildShap'+'eIndex'](_0x7772c9);_0x33e865!==null&&_0x4ac5e8['shape']['removeChil'+'dShapeByIn'+'dex'](_0x33e865);}}}['onTransfor'+'mChanged'](_0x25b916,_0x4669c2,_0x19a048,_0x450195){this['implementa'+'tions'][_0x25b916['data']['type']]['updateTran'+'sform'](_0x25b916,_0x4669c2,_0x19a048,_0x450195);}['changeType'](_0xb343df,_0x56c75c,_0x4f48c4){this['implementa'+'tions'][_0x56c75c]['beforeRemo'+'ve'](_0xb343df['entity'],_0xb343df),this['implementa'+'tions'][_0x56c75c]['remove'](_0xb343df['entity'],_0xb343df['data']),this['_createImp'+'lementatio'+'n'](_0x4f48c4)['reset'](_0xb343df,_0xb343df['data']);}['recreatePh'+'ysicalShap'+'es'](_0x519e99){this['implementa'+'tions'][_0x519e99['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x519e99);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x8f0fc6,_0x57de52){if(_0x8f0fc6===_0x57de52){const _0x293ca7=_0x8f0fc6['getWorldTr'+'ansform']()['getScale']();wc['setScale'](_0x293ca7['x'],_0x293ca7['y'],_0x293ca7['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x8f0fc6['parent'],_0x57de52),wc['mul'](_0x8f0fc6['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x51e18a){const _0x95d605=_0x51e18a['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x95d605['x'],_0x95d605['y'],_0x95d605['z']);}['_getNodeTr'+'ansform'](_0x1ac317,_0x3f16de){let _0x5c5ffc,_0x34c0c4;_0x3f16de?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x1ac317,_0x3f16de),_0x5c5ffc=KL,_0x34c0c4=Vr,wc['getTransla'+'tion'](_0x5c5ffc),_0x34c0c4['setFromMat'+'4'](wc)):(_0x5c5ffc=_0x1ac317['getPositio'+'n'](),_0x34c0c4=_0x1ac317['getRotatio'+'n']());const _0x594472=new Ammo['btQuaterni'+'on'](),_0x563bb4=new Ammo['btTransfor'+'m']();_0x563bb4['setIdentit'+'y']();const _0x48246d=_0x563bb4['getOrigin'](),_0x320b62=_0x1ac317['collision'];if(_0x320b62&&_0x320b62['_hasOffset']){const _0xbaa644=_0x320b62['data']['linearOffs'+'et'],_0x20bab0=_0x320b62['data']['angularOff'+'set'],_0x80d7d3=ZL;Vr['copy'](_0x34c0c4)['transformV'+'ector'](_0xbaa644,_0x80d7d3),_0x80d7d3['add'](_0x5c5ffc),Vr['copy'](_0x34c0c4)['mul'](_0x20bab0),_0x48246d['setValue'](_0x80d7d3['x'],_0x80d7d3['y'],_0x80d7d3['z']),_0x594472['setValue'](Vr['x'],Vr['y'],Vr['z'],Vr['w']);}else _0x48246d['setValue'](_0x5c5ffc['x'],_0x5c5ffc['y'],_0x5c5ffc['z']),_0x594472['setValue'](_0x34c0c4['x'],_0x34c0c4['y'],_0x34c0c4['z'],_0x34c0c4['w']);return _0x563bb4['setRotatio'+'n'](_0x594472),Ammo['destroy'](_0x594472),_0x563bb4;}['destroy'](){for(const _0x4a79f5 in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x4a79f5]);this['_triMeshCa'+'che']=null,super['destroy']();}}const Ec=new ie(),oR=new Kt();class lR{constructor(_0x5f0267,_0x2dd62d,_0x320892){this['_entity']=_0x5f0267,this['_element']=_0x5f0267['element'],this['model']=new sr(),this['node']=new Ie(),this['model']['graph']=this['node'],this['mesh']=_0x2dd62d,this['meshInstan'+'ce']=new He(this['mesh'],_0x320892,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x5f0267['name'],this['meshInstan'+'ce']['castShadow']=!(0x1*0x21d7+-0x8*0x358+0x716*-0x1),this['meshInstan'+'ce']['receiveSha'+'dow']=!(-0x13ee+-0x187d+0x2c6c),this['_meshDirty']=!(0x1e91+0x1f7*-0x2+-0xe*0x1e7),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x493619,_0x14d988;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x493619=this['meshInstan'+'ce'])==null||_0x493619['destroy'](),this['meshInstan'+'ce']=null,(_0x14d988=this['unmaskMesh'+'Instance'])==null||_0x14d988['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x1ae5df){this['meshInstan'+'ce']&&(this['mesh']=_0x1ae5df,this['meshInstan'+'ce']['mesh']=_0x1ae5df,this['meshInstan'+'ce']['visible']=!!_0x1ae5df,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x1ae5df),this['forceUpdat'+'eAabb']());}['setMask'](_0xc8fb39){var _0x55666e;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0xc8fb39){this['unmaskMesh'+'Instance']=new He(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(0x169a+-0xb83*-0x1+-0x4*0x887),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(-0x8e4+-0x22ab+-0x88*-0x52),this['unmaskMesh'+'Instance']['pick']=!(-0xa9f+-0x23cf+-0x1*-0x2e6f),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x25f084 in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x25f084,this['meshInstan'+'ce']['parameters'][_0x25f084]['data']);}else{const _0x18cf96=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x18cf96>=-0x1*0x24ee+-0x1a26+0x16*0x2de&&this['model']['meshInstan'+'ces']['splice'](_0x18cf96,-0x202*0x1+-0xfe5+0x11e8);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0xc8fb39||((_0x55666e=this['unmaskMesh'+'Instance'])==null||_0x55666e['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x45739a){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x45739a,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x45739a));}['setParamet'+'er'](_0x26024a,_0x3f4439){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0x26024a,_0x3f4439),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x26024a,_0x3f4439));}['deletePara'+'meter'](_0x58adab){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x58adab),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x58adab));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x41426a=function(_0x5f0f61){let _0x5cd338;const _0xfaa281=_0x5f0f61['children'],_0x2c7333=_0xfaa281['length'];if(_0x2c7333){for(let _0x22975f=-0x7bd+-0x3*-0x9f7+0x2*-0xb14;_0x22975f<_0x2c7333;_0x22975f++)_0xfaa281[_0x22975f]['element']&&(_0x5cd338=_0xfaa281[_0x22975f]);if(!_0x5cd338)return null;const _0x292682=_0x41426a(_0x5cd338);return _0x292682||_0x5cd338;}return null;};if(this['unmaskMesh'+'Instance']){const _0xe1b259=_0x41426a(this['_entity']);_0xe1b259&&_0xe1b259['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0xe1b259['element']['drawOrder']+_0xe1b259['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),w['trace'](Vs,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x3759fd){this['meshInstan'+'ce']&&(w['trace'](Vs,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x3759fd),this['meshInstan'+'ce']['drawOrder']=_0x3759fd);}['setCull'](_0x204491){if(!this['meshInstan'+'ce'])return;const _0x30d093=this['_element'];let _0x421d08=null;_0x204491&&_0x30d093['_isScreenS'+'pace']()&&(_0x421d08=function(_0x46afcb){return _0x30d093['isVisibleF'+'orCamera'](_0x46afcb);}),this['meshInstan'+'ce']['cull']=_0x204491,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x421d08,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x204491,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x421d08);}['setScreenS'+'pace'](_0x575f79){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x575f79,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x575f79));}['setLayer'](_0xe45cf2){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0xe45cf2,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0xe45cf2));}['forceUpdat'+'eAabb'](_0x1bbccb){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(0x1*-0x71b+0x261*-0xc+-0x475*-0x8),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(0x4ab*-0x2+-0x1763+0x20ba)));}['setAabbFun'+'c'](_0x2c0590){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x2c0590,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x2c0590));}}class cR{constructor(_0x5914ac){h(this,'_evtSetMes'+'hes',null),(this['_element']=_0x5914ac,this['_entity']=_0x5914ac['entity'],this['_system']=_0x5914ac['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=-0x19*0x49+-0x1d1c+0x243d,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(0x107*-0x11+0x2*0x12fd+-0x1*0x1482),this['_rect']=new re(0x464*-0x2+0xe*0x56+0x414,0x270d+-0x11*-0x35+-0x2a92,0x1bc1+0x10b1*-0x1+-0x1*0xb0f,-0x1fd5+0x1fe4+-0xe),this['_mask']=!(-0x1*0x15aa+0xaa2*-0x2+0x2aef*0x1),this['_maskRef']=-0x15c7+-0x5*0x529+0x1*0x2f94,this['_outerScal'+'e']=new J(),this['_outerScal'+'eUniform']=new Float32Array(-0x2*0x10c7+0x2b*0x8f+0x98b),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(0xe3f+0x3*-0x907+0xcda),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(-0x9*-0x26f+0x151b+0x157f*-0x2),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new lR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new ie(0x2b+0x139+0x1*-0x163,0xc77*-0x2+0xd*0x2dd+0x79*-0x1a,0x1*-0xce5+-0x1306*0x1+0x1*0x1fec,0x92*0x5+-0x11f0*0x2+-0x1*-0x2107),this['_colorUnif'+'orm']=new Float32Array([0x77*-0x1c+-0x31f*-0x5+-0x14b*0x2,0x81f+0x10e6+-0x1904,-0x49*-0x5f+0xce1+0x27f7*-0x1]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',-0xa02+0x2275+0x12a*-0x15),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x1498f5){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x297c12){this['_updateMat'+'erial'](_0x297c12);}['_onScreenC'+'hange'](_0xc8fe96,_0x1bf761){_0xc8fe96?this['_updateMat'+'erial'](_0xc8fe96['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x59*-0x61+-0x1*-0x68f+-0x2847));}['_onDrawOrd'+'erChange'](_0x3264a3){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x3264a3),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(-0xb38*0x2+-0x2606+0x3c77);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt);}['_updateMat'+'erial'](_0x3e3c6d){const _0x163292=!!this['_mask'],_0x37ea78=!!(this['sprite']&&this['sprite']['renderMode']===Pt),_0x21bb41=!!(this['sprite']&&this['sprite']['renderMode']===Mt);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x3e3c6d,_0x163292,_0x37ea78,_0x21bb41)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x3e3c6d),this['_renderabl'+'e']['setLayer'](_0x3e3c6d?Ow:Ky));}['_createMes'+'h'](){const _0x4f8630=this['_element'],_0x442851=_0x4f8630['calculated'+'Width'],_0x4f6d1c=_0x4f8630['calculated'+'Height'],_0x508dbd=this['_rect'],_0x33893e=this['_system']['app']['graphicsDe'+'vice'],_0x51fbe8=new Float32Array([_0x442851,0x2001+-0x54a*-0x1+0x254b*-0x1,0x107*-0x1+0x1*-0x1262+-0x1369*-0x1,0x901*0x1+-0x67*-0x56+0x3d*-0xb7,0x4*-0x68e+0x140c+-0x18b*-0x4,0x1*-0x264e+0x2*0xb2a+0xffb*0x1,_0x508dbd['x']+_0x508dbd['z'],0x23fe+-0xefc+0x1501*-0x1-_0x508dbd['y'],_0x442851,_0x4f6d1c,0x24a7+0xb75+-0x301c,0x716*-0x2+-0xef2+0x1d1e*0x1,-0x158*0x10+0x35*0x7f+-0x4cb*0x1,0x70*-0x58+0x93f+0x1d42,_0x508dbd['x']+_0x508dbd['z'],-0x1766+0x93*-0x40+0x3c27-(_0x508dbd['y']+_0x508dbd['w']),-0x4*0x4e9+0xe31*-0x1+0x21d5,-0x11ef+0xc*0xd4+0x7ff,0x12d5*0x1+-0x1*0x18d+-0x1148,-0x30+-0x6f1*0x1+0x721,0x30b*-0x2+0x261d+0x3*-0xaad,0x3*-0x778+0x23a*0x3+-0xfbb*-0x1,_0x508dbd['x'],-0x5*0xcb+-0x1*0x827+-0x1*-0xc1f-_0x508dbd['y'],-0x209*-0x8+-0x59c*0x1+-0xaac,_0x4f6d1c,-0xb*-0x3d+-0x1285+0xfe6*0x1,-0x369*-0x7+-0x1*0xbe6+-0xbf9,-0x24*0x5+-0x263e+0x2*0x1379,-0x44*0x7+0x676+-0x499,_0x508dbd['x'],-0x238*0x10+0x1*0x1db3+0x5ce-(_0x508dbd['y']+_0x508dbd['w'])]),_0x456bf7=oR['get'](_0x33893e,()=>new kt(_0x33893e,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':gs,'components':0x3,'type':Ve},{'semantic':is,'components':0x2,'type':Ve}])),_0x21e3f2=new Is(_0x33893e,_0x456bf7,-0x1626+0x1100*0x1+0x52a,{'data':_0x51fbe8['buffer']}),_0x2b8276=new Ge(_0x33893e);return _0x2b8276['vertexBuff'+'er']=_0x21e3f2,_0x2b8276['primitive'][0x1ee9+0x1*0x425+-0x230e]['type']=Er,_0x2b8276['primitive'][-0x2*-0xc25+-0x1936+0xec]['base']=0x1*-0x6b9+-0xb*-0x329+-0x1c0a,_0x2b8276['primitive'][-0xa*-0x37+-0xf7b*-0x1+-0x11a1*0x1]['count']=-0x1049+-0x7*0xa4+0x14c9,_0x2b8276['primitive'][-0x1b*0xa7+0x23af+-0x1212]['indexed']=!(-0xb99+-0x84a*-0x3+0x3*-0x46c),_0x2b8276['aabb']['setMinMax'](D['ZERO'],new D(_0x442851,_0x4f6d1c,0x1*0x21f8+-0x9*-0xc9+-0x2909)),this['_updateMes'+'h'](_0x2b8276),_0x2b8276;}['_updateMes'+'h'](_0x362cd4){const _0xeac512=this['_element'];let _0x404348=_0xeac512['calculated'+'Width'],_0x31bc1f=_0xeac512['calculated'+'Height'];if(_0xeac512['fitMode']!==th&&this['_targetAsp'+'ectRatio']>0x1*0x1231+0x2485*0x1+-0x95*0x5e){const _0x2fd1e8=_0xeac512['calculated'+'Width']/_0xeac512['calculated'+'Height'];_0xeac512['fitMode']===GL&&_0x2fd1e8>this['_targetAsp'+'ectRatio']||_0xeac512['fitMode']===HL&&_0x2fd1e8<this['_targetAsp'+'ectRatio']?_0x404348=_0xeac512['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x31bc1f=_0xeac512['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x95b3a6=_0xeac512['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x95b3a6),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){const _0x50e004=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0x4d7748=(-0x7*0x509+-0x3*-0x7f7+0xb5c)/_0x50e004['rect']['z'],_0xbaef27=(0xd*-0x10b+0xf67+-0x1d6)/_0x50e004['rect']['w'];this['_innerOffs'+'et']['set'](_0x50e004['border']['x']*_0x4d7748,_0x50e004['border']['y']*_0xbaef27,_0x50e004['border']['z']*_0x4d7748,_0x50e004['border']['w']*_0xbaef27);const _0x494d5b=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x50e004['rect']['x']/_0x494d5b['width'],_0x50e004['rect']['y']/_0x494d5b['height'],_0x50e004['rect']['z']/_0x494d5b['width'],_0x50e004['rect']['w']/_0x494d5b['height']);const _0x407df8=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0x17fdba=_0x50e004['rect']['z']/_0x407df8,_0x3e4f30=_0x50e004['rect']['w']/_0x407df8;this['_outerScal'+'e']['set'](Math['max'](_0x404348,this['_innerOffs'+'et']['x']*_0x17fdba),Math['max'](_0x31bc1f,this['_innerOffs'+'et']['y']*_0x3e4f30));let _0x25e7bf=_0x17fdba,_0x322433=_0x3e4f30;this['_outerScal'+'e']['x']/=_0x17fdba,this['_outerScal'+'e']['y']/=_0x3e4f30,_0x25e7bf*=Y['clamp'](_0x404348/(this['_innerOffs'+'et']['x']*_0x17fdba),0xa*-0x184+0x2*0xacf+0x2*-0x33b+0.0001,0x4*-0x7ca+0x1262+0xcc7),_0x322433*=Y['clamp'](_0x31bc1f/(this['_innerOffs'+'et']['y']*_0x3e4f30),0x3*-0xc41+0x11d3+0x12f0+0.0001,0x3*0x6f3+0xe89+0x2361*-0x1),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][0xb12+-0x13*-0xbb+-0x851*0x3]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0x4c4+0x4*0x89e+-0x1*0x273b]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0x24c2+0x1*0x1606+0xebe]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0xe64+-0x208+0x106f]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0x1aa5+-0xf*-0x26e+-0xd*0xc1]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x1f*-0x3e+0x25c0+-0x2d41]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x4*-0x7a9+-0x8*0x3a+0x2076]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][0x59*0x5e+0x22*-0x103+0x1bb*0x1]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][-0x1*0x1579+0x2123+-0xbaa*0x1]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][-0x46*0x11+-0x2e7*-0x1+0x1c0]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x25e7bf,_0x322433,-0x182f+-0x6db+0x9*0x373),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((0x43f*0x2+0x153+-0x9d1+0.5-_0xeac512['pivot']['x'])*_0x404348,(-0x97*0x13+-0x8d*0x32+0x26bf+0.5-_0xeac512['pivot']['y'])*_0x31bc1f,-0x366+0x25ef+-0x1*0x2289));}else{const _0x4af35f=_0x362cd4['vertexBuff'+'er'],_0x4beed6=new Float32Array(_0x4af35f['lock']()),_0x2197aa=_0xeac512['pivot']['x'],_0x5122b1=_0xeac512['pivot']['y'];_0x4beed6[-0x20cd+0x814+0x18b9]=_0x404348-_0x2197aa*_0x404348,_0x4beed6[0x1495+-0x20f8+-0xf4*-0xd]=-0x1d70+-0x8f5+-0x2665*-0x1-_0x5122b1*_0x31bc1f,_0x4beed6[-0x1589+-0x4e8*-0x1+-0x5*-0x355]=_0x404348-_0x2197aa*_0x404348,_0x4beed6[0x2*-0x814+-0x304*-0xb+-0x10fb]=_0x31bc1f-_0x5122b1*_0x31bc1f,_0x4beed6[-0x1869+0x11*0x31+0x1538]=-0x113f+-0x1673+0x27b2-_0x2197aa*_0x404348,_0x4beed6[-0x101*0xa+0x1*0x234a+-0x192f]=-0x2337*0x1+0x2330+0x7-_0x5122b1*_0x31bc1f,_0x4beed6[-0x328+0xb*-0x2c9+0x21e3]=0x13cc+0x628*0x4+0x1*-0x2c6c-_0x2197aa*_0x404348,_0x4beed6[-0x1366+0x1*0x490+-0xeef*-0x1]=_0x31bc1f-_0x5122b1*_0x31bc1f;let _0x3589fa=-0x22c5+-0x38a*-0x1+0x1f3c,_0x3de934=-0x1*-0x1cba+0x1*-0x2069+0xec*0x4,_0x488a2a=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x420daa=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x420daa&&(_0x488a2a=_0x420daa['rect'],_0x3589fa=this['_sprite']['atlas']['texture']['width'],_0x3de934=this['_sprite']['atlas']['texture']['height']);}_0x4beed6[-0x15d4+-0x22fe+0xe36*0x4]=(_0x488a2a['x']+_0x488a2a['z'])/_0x3589fa,_0x4beed6[0x1*-0x1fe6+0x3ab+0x1c42*0x1]=0x1131+0x1b*-0xd1+0x4db-_0x488a2a['y']/_0x3de934,_0x4beed6[0x1d36+-0xf36+0x77*-0x1e]=(_0x488a2a['x']+_0x488a2a['z'])/_0x3589fa,_0x4beed6[0x5f*0x19+0xfad+-0x18e5*0x1]=-0x18d1*0x1+0xc9b*-0x1+0x256d-(_0x488a2a['y']+_0x488a2a['w'])/_0x3de934,_0x4beed6[-0x1*-0x10c1+-0x1652+-0x1*-0x5a7]=_0x488a2a['x']/_0x3589fa,_0x4beed6[-0x2*-0xc2e+0xf4*-0x1b+0x177]=-0x1*-0xa58+-0x8*0x296+0xa59-_0x488a2a['y']/_0x3de934,_0x4beed6[-0x1a5f+-0xde0+-0x1*-0x285d]=_0x488a2a['x']/_0x3589fa,_0x4beed6[-0xcd4+-0x535*-0x1+0x1*0x7be]=-0x85a*-0x2+-0x107b+-0x38-(_0x488a2a['y']+_0x488a2a['w'])/_0x3de934,_0x4af35f['unlock']();const _0x16086c=new D(-0xc76+0xc9c+-0x1*0x26-_0x2197aa*_0x404348,-0xc7*0x1+-0x1c55*0x1+-0x26d*-0xc-_0x5122b1*_0x31bc1f,0x13*-0x89+-0x315*0x9+0x25e8),_0x8a88cc=new D(_0x404348-_0x2197aa*_0x404348,_0x31bc1f-_0x5122b1*_0x31bc1f,-0x61*-0x32+0x1f*0x13+0x3*-0x715);_0x362cd4['aabb']['setMinMax'](_0x16086c,_0x8a88cc),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](0x1df4+-0x5*0x401+-0x9ee,0xa20+-0x3*0x48+0x1*-0x947,-0x2631+-0x12*0x101+0x34*0x115),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](0xd30+0x18b6+0x3*-0xca2,-0x23cc+-0x20*0x94+0x364c,-0x16d+-0x1e07+0x1f74),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(-0x756*-0x4+0x17*0x13+0xf86*-0x2);}['_updateSpr'+'ite'](){let _0x16f61b=!(-0xc*0x35+-0x17e6+0x1*0x1a63),_0x30b614=null;if(this['_targetAsp'+'ectRatio']=-(-0x24fd+0x17*-0xe9+0x39ed*0x1),this['_sprite']&&this['_sprite']['atlas']){_0x30b614=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x16f61b=this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt;const _0x96cf6c=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x96cf6c==null?void(-0x3dd+0x2*0xca0+-0x16d*0xf):_0x96cf6c['rect']['w'])>0x624+-0x127d*0x1+0xc59&&(this['_targetAsp'+'ectRatio']=_0x96cf6c['rect']['z']/_0x96cf6c['rect']['w']);}this['mesh']=_0x16f61b?_0x30b614:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0x433+0x15f7+-0x1a2a):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x187282){return _0x187282['center']['set'](0x1442+0x1*-0x85c+-0xbe6,0x14fd+0x3e3+-0x18e0,0x1754+0x1*0x2683+-0x3dd7),_0x187282['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0x23c5+-0x3*-0xbf5+-0x47a4+0.5),this['_outerScal'+'e']['y']*(-0x26a*-0x4+-0x386*-0x4+-0x10*0x17c+0.5),0x14b1*0x1+-0x125*0x6+-0xdd3+0.001),_0x187282['setFromTra'+'nsformedAa'+'bb'](_0x187282,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x187282;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0x1fff76=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x1fff76),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x54240f){this['material']=_0x54240f['resource'];}['_onMateria'+'lAdded'](_0x367164){this['_system']['app']['assets']['off']('add:'+_0x367164['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x367164['id']&&this['_bindMater'+'ialAsset'](_0x367164);}['_bindMater'+'ialAsset'](_0x5e150d){this['_entity']['enabled']&&(_0x5e150d['on']('load',this['_onMateria'+'lLoad'],this),_0x5e150d['on']('change',this['_onMateria'+'lChange'],this),_0x5e150d['on']('remove',this['_onMateria'+'lRemove'],this),_0x5e150d['resource']?this['_onMateria'+'lLoad'](_0x5e150d):this['_system']['app']['assets']['load'](_0x5e150d));}['_unbindMat'+'erialAsset'](_0x38e131){_0x38e131['off']('load',this['_onMateria'+'lLoad'],this),_0x38e131['off']('change',this['_onMateria'+'lChange'],this),_0x38e131['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x3e7760){this['_system']['app']['assets']['off']('add:'+_0x3e7760['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x3e7760['id']&&this['_bindTextu'+'reAsset'](_0x3e7760);}['_bindTextu'+'reAsset'](_0x4d4a1a){this['_entity']['enabled']&&(_0x4d4a1a['on']('load',this['_onTexture'+'Load'],this),_0x4d4a1a['on']('change',this['_onTexture'+'Change'],this),_0x4d4a1a['on']('remove',this['_onTexture'+'Remove'],this),_0x4d4a1a['resource']?this['_onTexture'+'Load'](_0x4d4a1a):this['_system']['app']['assets']['load'](_0x4d4a1a));}['_unbindTex'+'tureAsset'](_0x110b33){_0x110b33['off']('load',this['_onTexture'+'Load'],this),_0x110b33['off']('change',this['_onTexture'+'Change'],this),_0x110b33['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x59c295){this['texture']=_0x59c295['resource'];}['_onTexture'+'Change'](_0x2a776f){}['_onTexture'+'Remove'](_0x5a4915){}['_onSpriteA'+'ssetAdded'](_0x34763b){this['_system']['app']['assets']['off']('add:'+_0x34763b['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x34763b['id']&&this['_bindSprit'+'eAsset'](_0x34763b);}['_bindSprit'+'eAsset'](_0x4643ba){this['_entity']['enabled']&&(_0x4643ba['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x4643ba['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x4643ba['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x4643ba['resource']?this['_onSpriteA'+'ssetLoad'](_0x4643ba):this['_system']['app']['assets']['load'](_0x4643ba));}['_unbindSpr'+'iteAsset'](_0x35fc7e){_0x35fc7e['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x35fc7e['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x35fc7e['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x35fc7e['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x35fc7e['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x240922){if(!_0x240922||!_0x240922['resource'])this['sprite']=null;else{if(_0x240922['resource']['atlas'])this['sprite']=_0x240922['resource'];else{const _0x47033b=_0x240922['data']['textureAtl'+'asAsset'];if(_0x47033b){const _0x191cc9=this['_system']['app']['assets'];_0x191cc9['off']('load:'+_0x47033b,this['_onTexture'+'AtlasLoad'],this),_0x191cc9['once']('load:'+_0x47033b,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x1bf7a3){this['_onSpriteA'+'ssetLoad'](_0x1bf7a3);}['_onSpriteA'+'ssetRemove'](_0x37319e){}['_bindSprit'+'e'](_0x111ef4){this['_evtSetMes'+'hes']=_0x111ef4['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x111ef4['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x111ef4['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x111ef4['atlas']&&_0x111ef4['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x2d3544){var _0xba8dde;(_0xba8dde=this['_evtSetMes'+'hes'])==null||_0xba8dde['off'](),this['_evtSetMes'+'hes']=null,_0x2d3544['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x2d3544['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x2d3544['atlas']&&_0x2d3544['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],0x11*-0x1cd+0x2f*0x2f+-0xafe*-0x2,this['_sprite']['frameKeys']['length']-(0x1450+0x23f1+-0x3840))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==ci&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x55d7eb){const _0x4537a9=this['_spriteAss'+'et'];_0x4537a9 instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x4537a9):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x4537a9));}['onEnable'](){if(this['_materialA'+'sset']){const _0x3ed4a2=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x3ed4a2&&_0x3ed4a2['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x3ed4a2);}if(this['_textureAs'+'set']){const _0x3367a8=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x3367a8&&_0x3367a8['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x3367a8);}if(this['_spriteAss'+'et']){const _0x23f3c4=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x23f3c4&&_0x23f3c4['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x23f3c4);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x43504a){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x43504a,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x43504a;let _0x1cbfec=-0x23b7*0x1+0x1013*-0x1+-0x2*-0x19e5;if(this['_element']['maskedBy']&&(_0x1cbfec=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x3271a2=new pi({'ref':_0x1cbfec+(-0x29*0x2a+0x4bd*0x7+-0xd38*0x2),'func':dh,'zpass':Bx});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x3271a2,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x3271a2;}}['_updateRen'+'derableEmi'+'ssive'](){Ec['linear'](this['_color']),this['_colorUnif'+'orm'][0xdf*0x2b+0x1fc3+0x4538*-0x1]=Ec['r'],this['_colorUnif'+'orm'][-0x78d+-0x9d9+0x1167]=Ec['g'],this['_colorUnif'+'orm'][-0xc87+-0x13ee+0x2077]=Ec['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x1c4107){this['_color']===_0x1c4107&&w['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0xfcec8e,g:_0x383e15,b:_0x350b47}=_0x1c4107;(this['_color']['r']!==_0xfcec8e||this['_color']['g']!==_0x383e15||this['_color']['b']!==_0x350b47)&&(this['_color']['r']=_0xfcec8e,this['_color']['g']=_0x383e15,this['_color']['b']=_0x350b47,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x7a3143){_0x7a3143!==this['_color']['a']&&(this['_color']['a']=_0x7a3143,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x7a3143)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x7a3143);}get['opacity'](){return this['_color']['a'];}set['rect'](_0x283d8a){this['_rect']===_0x283d8a&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x364ca0,_0x27ccce,_0x479de6,_0x44ebd1;_0x283d8a instanceof re?(_0x364ca0=_0x283d8a['x'],_0x27ccce=_0x283d8a['y'],_0x479de6=_0x283d8a['z'],_0x44ebd1=_0x283d8a['w']):(_0x364ca0=_0x283d8a[0x638+-0x1*-0x97f+-0xfb7],_0x27ccce=_0x283d8a[0x1a8c+-0x232*0xa+0x1*-0x497],_0x479de6=_0x283d8a[0x4b1*-0x8+0x22eb+0x29f],_0x44ebd1=_0x283d8a[0x1b7c+-0x1a6f+-0x10a]),!(_0x364ca0===this['_rect']['x']&&_0x27ccce===this['_rect']['y']&&_0x479de6===this['_rect']['z']&&_0x44ebd1===this['_rect']['w'])&&(this['_rect']['set'](_0x364ca0,_0x27ccce,_0x479de6,_0x44ebd1),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0xf29*0x2+0x4*0x8e1+0x85*-0xa):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x525bdf=this['_system']['app']['assets'];_0x525bdf['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x23f359=_0x525bdf['get'](this['_materialA'+'sset']);_0x23f359&&(_0x23f359['off']('load',this['_onMateria'+'lLoad'],this),_0x23f359['off']('change',this['_onMateria'+'lChange'],this),_0x23f359['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x451885){if(this['_material']!==_0x451885){if(!_0x451885){const _0x12abd9=this['_element']['_isScreenS'+'pace']();this['mask']?_0x451885=_0x12abd9?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x451885=_0x12abd9?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x451885,this['_materialA'+'sset']){const _0x91d5cf=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x91d5cf||_0x91d5cf['resource']!==_0x451885)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x451885&&(this['_renderabl'+'e']['setMateria'+'l'](_0x451885),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x26551b){const _0x5aa442=this['_system']['app']['assets'];let _0x4cfc0d=_0x26551b;if(_0x26551b instanceof pe&&(_0x4cfc0d=_0x26551b['id']),this['_materialA'+'sset']!==_0x4cfc0d){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x4cfc0d,this['_materialA'+'sset']){const _0x4e258c=_0x5aa442['get'](this['_materialA'+'sset']);_0x4e258c?this['_bindMater'+'ialAsset'](_0x4e258c):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x4cfc0d,_0x5aa442['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x4cfc0d;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x49f701){if(this['_texture']!==_0x49f701){if(this['_textureAs'+'set']){const _0x23bdbd=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x23bdbd&&_0x23bdbd['resource']!==_0x49f701&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x49f701,_0x49f701){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x32b601=this['_texture']['width']/this['_texture']['height'];_0x32b601!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x32b601,this['_element']['fitMode']!==th&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(-0x1f74*-0x1+-0x2485+0x512),this['_element']['fitMode']!==th&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0x53a61a){const _0x317576=this['_system']['app']['assets'];let _0xf504a6=_0x53a61a;if(_0x53a61a instanceof pe&&(_0xf504a6=_0x53a61a['id']),this['_textureAs'+'set']!==_0xf504a6){if(this['_textureAs'+'set']){_0x317576['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x3dff84=_0x317576['get'](this['_textureAs'+'set']);_0x3dff84&&(_0x3dff84['off']('load',this['_onTexture'+'Load'],this),_0x3dff84['off']('change',this['_onTexture'+'Change'],this),_0x3dff84['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0xf504a6,this['_textureAs'+'set']){const _0x34203d=_0x317576['get'](this['_textureAs'+'set']);_0x34203d?this['_bindTextu'+'reAsset'](_0x34203d):(this['texture']=null,_0x317576['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x34a81c){const _0x2db176=this['_system']['app']['assets'];let _0x1bded5=_0x34a81c;if(_0x34a81c instanceof pe&&(_0x1bded5=_0x34a81c['id']),this['_spriteAss'+'et']!==_0x1bded5){if(this['_spriteAss'+'et']){_0x2db176['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x3f4052=_0x2db176['get'](this['_spriteAss'+'et']);_0x3f4052&&this['_unbindSpr'+'iteAsset'](_0x3f4052);}if(this['_spriteAss'+'et']=_0x1bded5,this['_spriteAss'+'et']){const _0x23517=_0x2db176['get'](this['_spriteAss'+'et']);_0x23517?this['_bindSprit'+'eAsset'](_0x23517):(this['sprite']=null,_0x2db176['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x1bded5);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x4c709a){if(this['_sprite']!==_0x4c709a){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x10d794=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x10d794&&_0x10d794['resource']!==_0x4c709a&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x4c709a,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],0xc11*0x2+-0x20ac+0x88a,this['_sprite']['frameKeys']['length']-(0x1fa0+-0x116*-0x1d+-0x3f1d))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x23b833){const _0x1fd284=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=Y['clamp'](_0x23b833,-0x1c52+0x5*0x527+0x28f,this['_sprite']['frameKeys']['length']-(-0x103*-0xb+0x59*-0x53+0x11bb)):this['_spriteFra'+'me']=_0x23b833,this['_spriteFra'+'me']!==_0x1fd284&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x23b833);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0xc95964){this['_renderabl'+'e']['setMesh'](_0xc95964),this['_defaultMe'+'sh']===_0xc95964?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x3b51ee){this['_mask']!==_0x3b51ee&&(this['_mask']=_0x3b51ee,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0x599ea1){this['_pixelsPer'+'Unit']!==_0x599ea1&&(this['_pixelsPer'+'Unit']=_0x599ea1,this['_sprite']&&(this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class hR extends me{constructor(_0x1167aa){super(),this['_app']=_0x1167aa,_0x1167aa['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['_autoLoad']=!(-0x74f*-0x1+0x1186+0x635*-0x4),this['_disableLo'+'calization']=!(0x1145+0x12*0x1a9+0xaa*-0x47),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x480a49){const _0x27c62f=_0x480a49 instanceof pe?_0x480a49['id']:_0x480a49;this['_defaultAs'+'set']!==_0x27c62f&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x27c62f,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x228a57){const _0x5079e1=_0x228a57 instanceof pe?_0x228a57['id']:_0x228a57;this['_localized'+'Asset']!==_0x5079e1&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x5079e1,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x28f753){this['_autoLoad']!==_0x28f753&&(this['_autoLoad']=_0x28f753,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x1c527c){this['_disableLo'+'calization']!==_0x1c527c&&(this['_disableLo'+'calization']=_0x1c527c,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x89d3eb=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x89d3eb?this['_onDefault'+'AssetAdd'](_0x89d3eb):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x30d9b9=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x30d9b9&&(_0x30d9b9['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x30d9b9['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x30d9b9['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0xd27f1){this['_defaultAs'+'set']===_0xd27f1['id']&&(_0xd27f1['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0xd27f1['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0xd27f1['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x40ebee){this['_defaultAs'+'set']===_0x40ebee['id']&&(_0x40ebee['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x40ebee['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x24c85d=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x24c85d&&(_0x24c85d['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x24c85d['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x24c85d['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x24c85d['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x24c85d):this['_app']['assets']['load'](_0x24c85d));}['_unbindLoc'+'alizedAsse'+'t'](){const _0x27249a=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x27249a&&(_0x27249a['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x27249a['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x27249a['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x1aacea){this['_localized'+'Asset']===_0x1aacea['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x130880){this['fire']('load',_0x130880);}['_onLocaliz'+'edAssetCha'+'nge'](_0x10327d,_0x43ede4,_0x1970a9,_0x133620){this['fire']('change',_0x10327d,_0x43ede4,_0x1970a9,_0x133620);}['_onLocaliz'+'edAssetRem'+'ove'](_0x2dded8){this['_localized'+'Asset']===_0x2dded8['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x2dded8);}['_onLocaleA'+'dd'](_0x597e7e,_0xe77b01){this['_app']['i18n']['locale']===_0x597e7e&&this['_onSetLoca'+'le'](_0x597e7e);}['_onLocaleR'+'emove'](_0x46433b,_0x4c2209){this['_app']['i18n']['locale']===_0x46433b&&this['_onSetLoca'+'le'](_0x46433b);}['_onSetLoca'+'le'](_0x20078e){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x28f1ec=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x28f1ec||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0x1dbef8=_0x28f1ec['getLocaliz'+'edAssetId'](_0x20078e);if(!_0x1dbef8){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0x1dbef8;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['off']();}}const Rh='msdf',dR='bitmap',Mo=0x189*0x7+0x184*0x9+-0x1*0x1863,an=-0x1897+0x1212+0x1*0x686,Du=0x2346+-0x7bf*-0x1+0x8f*-0x4d,Zv=-0x11f0+0x3*0xb8f+-0x10ba,Iu=-0x2304+-0x8*-0x2a5+0xde0,Lu=-0x25fd+0x63*-0x49+0x423d*0x1,Ru=0x3c4+0x8*-0x38a+0x1892,Ou=0x170*-0x12+-0x2084*0x1+0x3a6b,Xg=-0x3ab*0x1+0x134+0x27f*0x1,fR='\x20\x09\x0a\x0d\x0b\x0c',uR=/[\w|/]/;class pR{constructor(_0x2a9376){this['_symbols']=_0x2a9376,this['_index']=0x53*-0x3+0x317*0x1+0x2*-0x10f,this['_last']=0x1*-0x159e+0x231+0x136d*0x1,this['_cur']=this['_symbols']['length']>-0x585+0x26b9+0x55*-0x64?this['_symbols'][0x1*0x71e+0x950+-0x106e]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x5e9657=this['_read']();for(;_0x5e9657===Xg;)_0x5e9657=this['_read']();return _0x5e9657!==Mo&&_0x5e9657!==an&&(this['_last']=this['_index']),_0x5e9657;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0xa19f0=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x331c57=this['read'](),_0x1ffd72='';for(;_0x1ffd72+=(_0x1ffd72['length']>0x15*-0x11+0x1*-0x100f+-0x4*-0x45d?'\x0a':'')+_0xa19f0[_0x331c57]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x331c57===Mo||_0x331c57===an);)_0x331c57=this['read']();return _0x1ffd72;}['_read'](){return this['_buf']=[],this['_eof']()?Mo:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>-0x61c+-0x1*0x1e11+0x9*0x405?Du:Mo;case'[':return this['_mode']='tag',this['_buf']['length']>0x1e85+0x1417+-0xca7*0x4?Du:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',an;case'[':return this['_store'](),Zv;case']':return this['_store'](),this['_mode']='text',Iu;case'=':return this['_store'](),Lu;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',an);}}['_whitespac'+'e'](){for(this['_store']();fR['indexOf'](this['_cur'])!==-(-0x60*-0x62+-0x1*0x2180+0x3*-0x115);)this['_store']();return Xg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',an;case'\x22':return this['_next'](),Ru;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return Ou;}['_isIdentif'+'ierSymbol'](_0x3548e8){return _0x3548e8['length']===-0x1a1c+0x1be9+-0x1cc&&_0x3548e8['match'](uR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0xaefb08){this['_buf']['push'](_0xaefb08);}}class mR{constructor(_0x4ae9c6){this['_scanner']=new pR(_0x4ae9c6),this['_error']=null;}['parse'](_0xb9ef0c,_0x336d32){for(;;)switch(this['_scanner']['read']()){case Mo:return!(-0x1310+0xea3+0x1*0x46d);case an:return!(0x1260+-0xda2+-0x1*0x4bd);case Du:Array['prototype']['push']['apply'](_0xb9ef0c,this['_scanner']['buf']());break;case Zv:if(!this['_parseTag'](_0xb9ef0c,_0x336d32))return!(-0x1e2d+0x1567+0x3*0x2ed);break;default:return!(-0xf5+-0x8cd+0x7*0x165);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x4ebe6f,_0x1ca7f5){let _0x4138bd=this['_scanner']['read']();if(_0x4138bd!==Ou)return this['_error']='expected\x20i'+'dentifier',!(-0xd*-0x55+-0x23e3*-0x1+0xfb*-0x29);const _0x6f4b8f=this['_scanner']['buf']()['join']('');if(_0x6f4b8f[0x7a9*0x2+-0xcb2+-0x2a0]==='/'){for(let _0x287b52=_0x1ca7f5['length']-(-0x1*-0xb31+-0x1*0x2709+-0x1bd9*-0x1);_0x287b52>=0x237*-0x7+0x22a7+-0x81*0x26;--_0x287b52)if(_0x6f4b8f==='/'+_0x1ca7f5[_0x287b52]['name']&&_0x1ca7f5[_0x287b52]['end']===null)return _0x1ca7f5[_0x287b52]['end']=_0x4ebe6f['length'],_0x4138bd=this['_scanner']['read'](),_0x4138bd!==Iu?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(-0x69*0x52+0xd2*-0x1d+-0xf1*-0x3d)):!(0x95a+-0x1*0x4a9+-0x1*0x4b1);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(0xb91+0x1865*-0x1+0xcd5);}const _0x1cd12c={'name':_0x6f4b8f,'value':null,'attributes':{},'start':_0x4ebe6f['length'],'end':null};if(_0x4138bd=this['_scanner']['read'](),_0x4138bd===Lu){if(_0x4138bd=this['_scanner']['read'](),_0x4138bd!==Ru)return this['_error']='expected\x20s'+'tring',!(0x1d7e+0x14ed+-0x867*0x6);_0x1cd12c['value']=this['_scanner']['buf']()['join'](''),_0x4138bd=this['_scanner']['read']();}for(;;){switch(_0x4138bd){case Iu:return _0x1ca7f5['push'](_0x1cd12c),!(-0x6b*0x4f+0x222f+-0x12a);case Ou:{const _0x35101b=this['_scanner']['buf']()['join']('');if(_0x4138bd=this['_scanner']['read'](),_0x4138bd!==Lu)return this['_error']='expected\x20e'+'quals',!(-0x14c+-0xdc9+-0x2*-0x78b);if(_0x4138bd=this['_scanner']['read'](),_0x4138bd!==Ru)return this['_error']='expected\x20s'+'tring',!(-0x11b0+0x1388+-0x1d7);const _0x1c39b8=this['_scanner']['buf']()['join']('');_0x1cd12c['attributes'][_0x35101b]=_0x1c39b8;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(0x1*0x19ca+-0x9*-0xa8+-0x1fb1);}_0x4138bd=this['_scanner']['read']();}}}function Qv(_0x4e7efe,_0x921dca){for(const _0x313185 in _0x921dca){if(!_0x921dca['hasOwnProp'+'erty'](_0x313185))continue;const _0xc9d0bc=_0x921dca[_0x313185];_0xc9d0bc instanceof Object?(_0x4e7efe['hasOwnProp'+'erty'](_0x313185)||(_0x4e7efe[_0x313185]={}),Qv(_0x4e7efe[_0x313185],_0x921dca[_0x313185])):_0x4e7efe[_0x313185]=_0xc9d0bc;}}function _R(_0x1235f4){if(_0x1235f4['length']===0x2339+0x1196*0x2+-0x4665)return null;const _0x4b10f9={};for(let _0x2ea4b9=-0x61b+0x1def+-0x17d4;_0x2ea4b9<_0x1235f4['length'];++_0x2ea4b9){const _0x3bc269=_0x1235f4[_0x2ea4b9],_0x4e4ba3={};_0x4e4ba3[_0x3bc269['name']]={'value':_0x3bc269['value'],'attributes':_0x3bc269['attributes']},Qv(_0x4b10f9,_0x4e4ba3);}return _0x4b10f9;}function gR(_0x17e5e2,_0x5c3fa6){if(_0x17e5e2['length']===-0x437*0x1+0x1*0xaf7+0x24*-0x30)return null;const _0x3b8960={};for(let _0x3e9df8=0x1945*-0x1+0x90*0x3d+-0x90b;_0x3e9df8<_0x17e5e2['length'];++_0x3e9df8){const _0x34d784=_0x17e5e2[_0x3e9df8];_0x3b8960['hasOwnProp'+'erty'](_0x34d784['start'])?_0x3b8960[_0x34d784['start']]['open']===null?_0x3b8960[_0x34d784['start']]['open']=[_0x34d784]:_0x3b8960[_0x34d784['start']]['open']['push'](_0x34d784):_0x3b8960[_0x34d784['start']]={'open':[_0x34d784],'close':null},_0x3b8960['hasOwnProp'+'erty'](_0x34d784['end'])?_0x3b8960[_0x34d784['end']]['close']===null?_0x3b8960[_0x34d784['end']]['close']=[_0x34d784]:_0x3b8960[_0x34d784['end']]['close']['push'](_0x34d784):_0x3b8960[_0x34d784['end']]={'open':null,'close':[_0x34d784]};}let _0x5afd0e=[];function _0x41a3bd(_0x4b9298){_0x5afd0e=_0x5afd0e['filter'](_0x3c1c3e=>_0x4b9298['find'](_0x4b2c2b=>_0x4b2c2b===_0x3c1c3e)===void(-0x23c+-0x2*-0x10d9+-0x1f76));}function _0x5bb5fb(_0x2d508d){for(let _0x1413ed=-0x1cea+0x24ad+-0x1*0x7c3;_0x1413ed<_0x2d508d['length'];++_0x1413ed)_0x5afd0e['push'](_0x2d508d[_0x1413ed]);}const _0x256042=Object['keys'](_0x3b8960)['sort']((_0x343424,_0x35e450)=>_0x343424-_0x35e450),_0x33e1c4=[];for(let _0x5598c1=0x2421+-0x3*0x219+-0x1dd6;_0x5598c1<_0x256042['length'];++_0x5598c1){const _0x13b40c=_0x3b8960[_0x256042[_0x5598c1]];_0x13b40c['close']!==null&&_0x41a3bd(_0x13b40c['close']),_0x13b40c['open']!==null&&_0x5bb5fb(_0x13b40c['open']),_0x33e1c4['push']({'start':_0x256042[_0x5598c1],'tags':_R(_0x5afd0e)});}const _0x32d8f8=[];let _0x879e9b=null;for(let _0x1beecd=0x1*0xabf+-0x99a*0x2+-0x1*-0x875;_0x1beecd<_0x33e1c4['length'];++_0x1beecd){const _0x14fc22=_0x33e1c4[_0x1beecd];for(;_0x32d8f8['length']<_0x14fc22['start'];)_0x32d8f8['push'](_0x879e9b?_0x879e9b['tags']:null);_0x879e9b=_0x14fc22;}for(;_0x32d8f8['length']<_0x5c3fa6;)_0x32d8f8['push'](null);return _0x32d8f8;}function SR(_0x3ba3fe){const _0x5c2075=new mR(_0x3ba3fe),_0xd95aa2=[],_0x4a24d9=[];if(!_0x5c2075['parse'](_0xd95aa2,_0x4a24d9))return console['warn'](_0x5c2075['error']()),{'symbols':_0x3ba3fe,'tags':null};const _0x16a724=_0x4a24d9['find'](_0x353009=>_0x353009['end']===null);if(_0x16a724)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x16a724['name']+'\x27'),{'symbols':_0x3ba3fe,'tags':null};const _0xd39791=gR(_0x4a24d9,_0xd95aa2['length']);return{'symbols':_0xd95aa2,'tags':_0xd39791};}class yR{static['evaluate'](_0x445d05){return SR(_0x445d05);}}class vR{constructor(){this['count']=-0x5b*0x2b+-0x3dd*-0x1+0xb6c,this['quad']=-0xdd0+-0x176d+-0x1*-0x253d,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function xR(_0x62c4c2,_0x47d3f9){const _0x1b9463=new Ge(_0x62c4c2);return _0x1b9463['setPositio'+'ns'](_0x47d3f9['positions']),_0x1b9463['setNormals'](_0x47d3f9['normals']),_0x1b9463['setColors3'+'2'](_0x47d3f9['colors']),_0x1b9463['setUvs'](0xf1c+-0x165d*0x1+-0x1*-0x741,_0x47d3f9['uvs']),_0x1b9463['setIndices'](_0x47d3f9['indices']),_0x1b9463['setVertexS'+'tream'](Ko,_0x47d3f9['outlines'],-0x2227+0x1af8+0x133*0x6,void(-0xb72+0x2*0x609+0xa*-0x10),Ve,!(0x1*-0x9d1+0x1*-0xac9+0x149b)),_0x1b9463['setVertexS'+'tream'](Zo,_0x47d3f9['shadows'],0xbe0+-0x59*-0x22+-0x7e5*0x3,void(-0x1d*0xe9+0xf*0x173+-0x4*-0x12a),Ve,!(0x12e9+0x3*-0x982+0x99e)),_0x1b9463['update'](),_0x1b9463;}const qg=/^[\r\n]$/,TR=/^[ \t]$/,jg=/^[ \t\-]|\u200b$/,wR=/^[a-z0-9]$/i,Yg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,ER=/^[]$/,bR=['','','','','','','','','','','','',''],AR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},Kg=new ie(),CR=new J(),We=new ie();class PR{constructor(_0x3a22b7){this['_element']=_0x3a22b7,this['_system']=_0x3a22b7['system'],this['_entity']=_0x3a22b7['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new hR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(0x134+0x23c6*-0x1+0x2292),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new ie(0x37+-0x173*0x19+0x2405*0x1,-0x3*-0x4dd+0x1ed4+-0x2d6a,0x18f2+-0x1*0x12c9+-0x18a*0x4,0x1*0x150b+-0x19df+-0x1*-0x4d5),this['_colorUnif'+'orm']=new Float32Array(-0x4*-0x4a0+-0x819+0x5f*-0x1c),this['_spacing']=0x2*0x1088+-0x1cd2+0x43d*-0x1,this['_fontSize']=-0x1*-0x18ab+-0x10b5+0x76*-0x11,this['_fontMinY']=-0x1*0x15bb+-0x6dc+-0x1*-0x1c97,this['_fontMaxY']=0x3d0*0x4+0x13*-0x161+0xaf3,this['_originalF'+'ontSize']=-0x1b57+-0x1*-0xdd0+-0x1*-0xda7,this['_maxFontSi'+'ze']=0x21af*-0x1+-0x1c59+0x27*0x198,this['_minFontSi'+'ze']=-0x1*-0x20f2+-0x1e75+-0x275,this['_autoFitWi'+'dth']=!(-0x2621+0x1315*-0x1+0x1*0x3937),this['_autoFitHe'+'ight']=!(-0x1*-0xdcb+-0x6f0+-0x1*0x6da),this['_maxLines']=-(0x189+0xa84+0x1*-0xc0c),this['_lineHeigh'+'t']=0x1*-0x1786+-0x29+-0x17cf*-0x1,this['_scaledLin'+'eHeight']=0xfe3+-0x4bf+-0xb04,this['_wrapLines']=!(-0x4ab*0x8+-0x21ea+0x4743),this['_drawOrder']=0x1f54+0x15b3+-0x3507,this['_alignment']=new J(0x33e*-0x4+-0x2011+0x9*0x501+0.5,-0x262a+0x2303*0x1+0x327+0.5),this['_autoWidth']=!(-0x1*-0x14b3+-0x63c*0x5+0xa79),this['_autoHeigh'+'t']=!(0x4e*-0x5f+-0x162f+-0x3*-0x110b),this['width']=-0x1*0x2153+0x422+0x8d*0x35,this['height']=0x94c+0x5*-0x427+-0x1*-0xb77,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(0x1*-0x1129+0xb*0x157+0x26c),this['_aabb']=new De(),this['_noResize']=!(0x2dd+-0x7*-0x8f+0x1*-0x6c5),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(-0x1*0x76a+-0x2117*-0x1+0x35*-0x7c),this['_unicodeCo'+'nverter']=!(-0xb7a+0x17f4+-0xc79),this['_rtl']=!(-0x4d*-0x14+-0x1*-0x101a+-0x161d),this['_outlineCo'+'lor']=new ie(0x1*0x1817+0x56b+-0x1d82,0x236*0xe+-0x11b+0x1dd9*-0x1,0x6d3+0x3*-0x407+0x542,0x12a*-0xa+0x1318+-0x773),this['_outlineCo'+'lorUniform']=new Float32Array(0x2*0x1cf+0x11b7+-0x141*0x11),this['_outlineTh'+'icknessSca'+'le']=-0x2641+-0x262a+0x4c6b+0.2,this['_outlineTh'+'ickness']=0x154a+-0x12*0x49+0x4*-0x40a,this['_shadowCol'+'or']=new ie(-0x2d*0x4b+0x42a*-0x7+0x2a55,0x8e1*0x4+-0x36*0x8b+0x632*-0x1,-0x1f43+-0x65b+-0x645*-0x6,-0x133*-0x5+0x3b5*-0x4+-0x27*-0x3a),this['_shadowCol'+'orUniform']=new Float32Array(0x17b+0x142d*-0x1+0x12b6),this['_shadowOff'+'setScale']=0xe93*-0x2+-0x1168+0x65*0x76+0.005,this['_shadowOff'+'set']=new J(-0x9*0x159+0x1*-0x1958+-0x35*-0xb5,-0x1f5*-0x5+0x3cb+-0xd94),this['_shadowOff'+'setUniform']=new Float32Array(0x1*0x2017+0x8*-0x3f3+-0x7d),this['_enableMar'+'kup']=!(0x86*-0x15+0x1*0x10e9+-0x2*0x2f5),this['_onScreenC'+'hange'](this['_element']['screen']),_0x3a22b7['on']('resize',this['_onParentR'+'esize'],this),_0x3a22b7['on']('set:screen',this['_onScreenC'+'hange'],this),_0x3a22b7['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x3a22b7['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x3a22b7['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=-0x15e4+-0x20f1*0x1+0x36d5,this['_rangeEnd']=-0x1939+0x947+-0x2*-0x7f9;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x1cfad7,_0x1cdd37){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x276297){_0x276297?this['_updateMat'+'erial'](_0x276297['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0x18e0+-0x1d*0x123+0x206*0x4));}['_onScreenS'+'paceChange'](_0x323938){this['_updateMat'+'erial'](_0x323938);}['_onDrawOrd'+'erChange'](_0x5f3f86){if(this['_drawOrder']=_0x5f3f86,this['_model']){for(let _0x1f9421=0x27c*-0x5+0x1*0xf4d+0x43*-0xb,_0x270a70=this['_model']['meshInstan'+'ces']['length'];_0x1f9421<_0x270a70;_0x1f9421++)this['_model']['meshInstan'+'ces'][_0x1f9421]['drawOrder']=_0x5f3f86;}}['_onPivotCh'+'ange'](_0x2f938c){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x13c4f7){if(this['_i18nKey']){if(this['fontAsset']){const _0x42edef=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0x42edef||!_0x42edef['resource']||_0x42edef['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x5ec6ae,_0x3a918a){this['_i18nKey']&&_0x3a918a[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x1a51ef){if(this['unicodeCon'+'verter']){const _0x263e57=this['_system']['getUnicode'+'Converter']();_0x263e57?_0x1a51ef=_0x263e57(_0x1a51ef):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x1a51ef&&(this['_font']&&this['_updateTex'+'t'](_0x1a51ef),this['_text']=_0x1a51ef);}['_updateTex'+'t'](_0x1ee300){let _0x255ae3;if(_0x1ee300===void(-0xa06+-0x172a+0x2130)&&(_0x1ee300=this['_text']),this['_symbols']=Hc['getSymbols'](_0x1ee300['normalize']?_0x1ee300['normalize']('NFC'):_0x1ee300),this['_symbols']['length']===0x2129*-0x1+0x6*0x482+-0x139*-0x5&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x28d625=yR['evaluate'](this['_symbols']);this['_symbols']=_0x28d625['symbols'],_0x255ae3=_0x28d625['tags']||[];}if(this['_rtlReorde'+'r']){const _0x389138=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x389138){const _0x15e2f3=_0x389138(this['_symbols']);this['_rtl']=_0x15e2f3['rtl'],this['_symbols']=_0x15e2f3['mapping']['map'](function(_0x8ab78e){return this['_symbols'][_0x8ab78e];},this),_0x255ae3&&(_0x255ae3=_0x15e2f3['mapping']['map'](_0x44a7b9=>_0x255ae3[_0x44a7b9]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(0x1916+-0x2da+-0x163b);const _0x3f8453=(_0x1373f6,_0x195ca7)=>_0x1373f6['toString'](!(0xc9d*-0x2+0x2460+0xb26*-0x1))['toLowerCas'+'e']()+':'+_0x195ca7['toFixed'](0x10a*-0x1b+0x2*-0x332+0x2274*0x1),_0x27e972=(_0x32b731,_0x30517c)=>_0x32b731['toString'](!(0x14b*0x7+-0x241*0x3+-0x1*0x24a))['toLowerCas'+'e']()+':'+_0x30517c['x']['toFixed'](-0x118c+0x1*-0x883+0x1a11)+':'+_0x30517c['y']['toFixed'](0x2f5*0x1+-0x1c8c+0x1999);if(_0x255ae3){const _0x4363e7={},_0x1a2820={},_0x37461b={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(0x8ed*-0x3+0x1*0x1ba6+-0x8*-0x4)),Math['round'](this['_color']['g']*(0xc06+0x8f3*0x4+0x1*-0x2ed3)),Math['round'](this['_color']['b']*(-0x13a5+0x1*-0x8c6+0x1d6a))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(-0x1d56+0xa*0x115+0x1383)),Math['round'](this['_outlineCo'+'lor']['g']*(-0x1520+-0x1*-0xe2f+0x7f0)),Math['round'](this['_outlineCo'+'lor']['b']*(-0x30d*-0x6+0x22db+-0x342a)),Math['round'](this['_outlineCo'+'lor']['a']*(-0x21d1*0x1+0x1*0x62f+0x1ca1*0x1)),Math['round'](this['_outlineTh'+'ickness']*(0xd72+0x10c6+0x1*-0x1d39))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(0xf0d*-0x1+0xb23+0x1*0x4e9)),Math['round'](this['_shadowCol'+'or']['g']*(0xa*0x247+0x1304+-0x28cb)),Math['round'](this['_shadowCol'+'or']['b']*(0xa+0x3*-0x8df+0x1b92*0x1)),Math['round'](this['_shadowCol'+'or']['a']*(-0x1654+-0x3b3+-0x481*-0x6)),Math['round'](this['_shadowOff'+'set']['x']*(-0x3*0xae7+0x12e2+-0x2f*-0x4e)),Math['round'](this['_shadowOff'+'set']['y']*(-0x3fa+0x2*-0x669+0x1*0x114b))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x4363e7[this['_color']['toString'](!(-0xc47+-0xb*-0x13c+-0x14c))['toLowerCas'+'e']()]=0x3*-0x40b+-0x24f+0xe70,_0x1a2820[_0x3f8453(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=0x1b8e+0x75b+-0x22e9,_0x37461b[_0x27e972(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=-0x1*0x14c5+0x2af*-0x9+0x2cec;for(let _0x9caa45=0x1368+-0xd10+0x74*-0xe,_0x9f9e05=this['_symbols']['length'];_0x9caa45<_0x9f9e05;++_0x9caa45){const _0x117d65=_0x255ae3[_0x9caa45];let _0xf4b69c=-0x1*0x8b4+-0x2427+0x2cdb;if(_0x117d65&&_0x117d65['color']&&_0x117d65['color']['value']){const _0x10ee2b=_0x117d65['color']['value'];if(_0x10ee2b['length']===-0x2610+0x5*0x2b7+0x1884&&_0x10ee2b[-0x27*0x15+0x1*-0x511+0x2e*0x2e]==='#'){const _0x3cffbd=_0x10ee2b['substring'](0x1379+0xf82+-0x22fa)['toLowerCas'+'e']();_0x4363e7['hasOwnProp'+'erty'](_0x3cffbd)?_0xf4b69c=_0x4363e7[_0x3cffbd]:/^[0-9a-f]{6}$/['test'](_0x3cffbd)&&(_0xf4b69c=this['_colorPale'+'tte']['length']/(-0xc6d*0x2+0x1a5*0x1+0x8*0x2e7),_0x4363e7[_0x3cffbd]=_0xf4b69c,this['_colorPale'+'tte']['push'](parseInt(_0x3cffbd['substring'](-0x1*-0x2015+0x9d2+-0x29e7,0x20b9*-0x1+0x281+0x1e3a),0x989*0x1+-0x25*0x41+-0x14)),this['_colorPale'+'tte']['push'](parseInt(_0x3cffbd['substring'](-0x1ee0+-0x9d*-0x13+0x133b,-0x26*-0xd1+-0xb*0x27+-0x1d55),0xf47+0x123b+-0x6*0x593)),this['_colorPale'+'tte']['push'](parseInt(_0x3cffbd['substring'](-0x1d37+-0x1810+0x354b,0x19ac+-0x1e*-0xad+-0x2dec),0x15ad+-0x15*-0x185+-0x3586)));}}this['_symbolCol'+'ors']['push'](_0xf4b69c);let _0x52bd1d=0x1ec6+-0x8e3*0x3+-0x41d;if(_0x117d65&&_0x117d65['outline']&&(_0x117d65['outline']['attributes']['color']||_0x117d65['outline']['attributes']['thickness'])){let _0x487ba1=_0x117d65['outline']['attributes']['color']?Kg['fromString'](_0x117d65['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0xa1d96c=Number(_0x117d65['outline']['attributes']['thickness']);(Number['isNaN'](_0x487ba1['r'])||Number['isNaN'](_0x487ba1['g'])||Number['isNaN'](_0x487ba1['b'])||Number['isNaN'](_0x487ba1['a']))&&(_0x487ba1=this['_outlineCo'+'lor']),Number['isNaN'](_0xa1d96c)&&(_0xa1d96c=this['_outlineTh'+'ickness']);const _0x1a4012=_0x3f8453(_0x487ba1,_0xa1d96c);_0x1a2820['hasOwnProp'+'erty'](_0x1a4012)?_0x52bd1d=_0x1a2820[_0x1a4012]:(_0x52bd1d=this['_outlinePa'+'lette']['length']/(-0x3*0x51+-0x1*0x118d+0x1285),_0x1a2820[_0x1a4012]=_0x52bd1d,this['_outlinePa'+'lette']['push'](Math['round'](_0x487ba1['r']*(0x1*-0xab7+-0x1568+-0x9*-0x3ae)),Math['round'](_0x487ba1['g']*(-0x908+-0x1d8d+0x44*0x95)),Math['round'](_0x487ba1['b']*(-0x180b+-0xb15+-0x529*-0x7)),Math['round'](_0x487ba1['a']*(-0x20f7+0x17*-0xdf+-0x35ff*-0x1)),Math['round'](_0xa1d96c*(0x1*-0x1c30+-0x540*-0x4+-0x1*-0x82f))));}this['_symbolOut'+'lineParams']['push'](_0x52bd1d);let _0x39ba35=-0x119d+-0x521+-0x29*-0x8e;if(_0x117d65&&_0x117d65['shadow']&&(_0x117d65['shadow']['attributes']['color']||_0x117d65['shadow']['attributes']['offset']||_0x117d65['shadow']['attributes']['offsetX']||_0x117d65['shadow']['attributes']['offsetY'])){let _0x4c1aa9=_0x117d65['shadow']['attributes']['color']?Kg['fromString'](_0x117d65['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x1a001b=Number(_0x117d65['shadow']['attributes']['offset']),_0x1e86c2=Number(_0x117d65['shadow']['attributes']['offsetX']),_0x42fda6=Number(_0x117d65['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x4c1aa9['r'])||Number['isNaN'](_0x4c1aa9['g'])||Number['isNaN'](_0x4c1aa9['b'])||Number['isNaN'](_0x4c1aa9['a']))&&(_0x4c1aa9=this['_shadowCol'+'or']);const _0x270227=CR['set'](Number['isNaN'](_0x1e86c2)?Number['isNaN'](_0x1a001b)?this['_shadowOff'+'set']['x']:_0x1a001b:_0x1e86c2,Number['isNaN'](_0x42fda6)?Number['isNaN'](_0x1a001b)?this['_shadowOff'+'set']['y']:_0x1a001b:_0x42fda6),_0x311cd8=_0x27e972(_0x4c1aa9,_0x270227);_0x37461b['hasOwnProp'+'erty'](_0x311cd8)?_0x39ba35=_0x37461b[_0x311cd8]:(_0x39ba35=this['_shadowPal'+'ette']['length']/(0xaba+-0xe7a+0x2e*0x15),_0x37461b[_0x311cd8]=_0x39ba35,this['_shadowPal'+'ette']['push'](Math['round'](_0x4c1aa9['r']*(-0xb5*0x2e+0x1aa8+0x6dd*0x1)),Math['round'](_0x4c1aa9['g']*(0x436+-0xf1a+0xb3*0x11)),Math['round'](_0x4c1aa9['b']*(0x1*-0x1672+0x1d5d+-0x5ec)),Math['round'](_0x4c1aa9['a']*(0x11bb+0x266f+-0x372b)),Math['round'](_0x270227['x']*(-0x686+0x385*-0x1+-0x8e*-0x13)),Math['round'](_0x270227['y']*(0x656+-0x2014*-0x1+-0x25eb))));}this['_symbolSha'+'dowParams']['push'](_0x39ba35);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0xd03813=this['_calculate'+'CharsPerTe'+'xture']();let _0x4b9d6c=!(0x1a14+-0xb*0x38+0x1*-0x17ab);const _0x239a97=this['_element'],_0x365254=_0x239a97['_isScreenS'+'pace'](),_0x5cd223=_0x239a97['_isScreenC'+'ulled'](),_0x511e7e=function(_0x303815){return _0x239a97['isVisibleF'+'orCamera'](_0x303815);};for(let _0x163967=0x260c+0x4*0x5a7+-0x3ca8,_0x5a7df2=this['_meshInfo']['length'];_0x163967<_0x5a7df2;_0x163967++){const _0x147fcb=_0xd03813[_0x163967]||-0x171f+-0xb0a+0x2229,_0x55520a=this['_meshInfo'][_0x163967];if(_0x55520a['count']!==_0x147fcb){if(_0x4b9d6c||(_0x239a97['removeMode'+'lFromLayer'+'s'](this['_model']),_0x4b9d6c=!(0x52*0x19+0x6f*-0x3+0x6b5*-0x1)),_0x55520a['count']=_0x147fcb,_0x55520a['positions']['length']=_0x55520a['normals']['length']=_0x147fcb*(-0x1fe8+0x2f8+-0x1*-0x1cf3)*(0x1442*-0x1+0x738+0xd0e),_0x55520a['indices']['length']=_0x147fcb*(0x65*-0x1d+0x20*-0x1f+-0x51c*-0x3)*(-0x1333+0x11*-0x3+0x26d*0x8),_0x55520a['uvs']['length']=_0x147fcb*(0x1f*-0xa8+0x1a*-0x47+-0x18*-0x126)*(0x1*0x205a+-0x13cf+0xc87*-0x1),_0x55520a['colors']['length']=_0x147fcb*(-0xcd+0x389*0xb+-0x376*0xb)*(-0x1ecf+0x244f+-0x57c),_0x55520a['outlines']['length']=_0x147fcb*(0x59*0x43+0xbe7+-0x232e)*(-0x1dfb+0x25af+0xb3*-0xb),_0x55520a['shadows']['length']=_0x147fcb*(-0xe00+0x267d+-0x1879)*(-0x51d*0x5+0xe75+0xb1f*0x1),_0x55520a['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x55520a['meshInstan'+'ce']),_0x147fcb===0x1be*-0x1+-0x834+-0x9f2*-0x1){_0x55520a['meshInstan'+'ce']=null;continue;}for(let _0xb7462c=-0x79*-0x16+0x13c8+0xf17*-0x2;_0xb7462c<_0x147fcb;_0xb7462c++)_0x55520a['indices'][_0xb7462c*(0x6b1*-0x4+0x1790+0x337)*(0x775+0xc19+-0x2*0x9c6)+(-0x2149+0xf7*0xf+-0x158*-0xe)]=_0xb7462c*(-0x1e99+-0x784*0x1+-0x2b*-0xe3),_0x55520a['indices'][_0xb7462c*(0x20b5+0xc1+-0x2173)*(0x1*0x1258+0x966+-0x1bbc)+(0xa3*0x1+-0x1f8e+-0x4*-0x7bb)]=_0xb7462c*(0x467+-0x5d5*0x5+-0x1*-0x18c6)+(0x179b*0x1+-0x1*0x20e3+0x949),_0x55520a['indices'][_0xb7462c*(-0x4eb*-0x4+0x13a6+-0x1*0x274f)*(-0xc1*0x2a+0x1ac1+0x4eb)+(-0x31*-0x57+0x26b4+0x1273*-0x3)]=_0xb7462c*(-0x390+-0xe0f+-0x12d*-0xf)+(0x1*0x17a3+-0x1046+-0x75a),_0x55520a['indices'][_0xb7462c*(-0x2*-0x12cd+-0x874+-0x1*0x1d23)*(0x1ccc+-0x2*-0x12af+-0x4*0x108a)+(0x1e*-0xad+-0x2426+0x386f)]=_0xb7462c*(-0x26ae*0x1+-0xb5c+-0x95*-0x56)+(0x15c1+-0x3*-0x664+-0x19*0x1a3),_0x55520a['indices'][_0xb7462c*(-0xce9+-0x1391+0x207d)*(0x1041*-0x1+0x15e1+-0x59e*0x1)+(-0xd3*0x2b+0x1*0x1d79+0x2fe*0x2)]=_0xb7462c*(-0x2434+-0x26*-0x5f+0x161e)+(0x1b83*0x1+-0xf6*-0x23+-0x3d22),_0x55520a['indices'][_0xb7462c*(0x2121+-0x1*0x9bb+-0x1763)*(-0x1e76+-0x1*-0x1eb1+0x1*-0x39)+(0x1c6+-0x125*0xb+0xad6)]=_0xb7462c*(0x1*-0x823+0x1*0x1b7+0x670)+(-0x17da+-0x6e4+0x1ebf),_0x55520a['normals'][_0xb7462c*(0xc2d+0x4a*-0x20+-0x2e9)*(0x1a23*-0x1+0x224*-0x3+-0x1*-0x2092)+(-0x3*0xa7c+-0x10a3*0x1+0x3b3*0xd)]=-0x2ba+0x492+-0x1d8,_0x55520a['normals'][_0xb7462c*(-0x1265+-0x1*-0x697+0xbd2)*(-0x23d9+-0xbd+-0x2499*-0x1)+(-0xe1f+-0x9*0x1f3+-0x2e1*-0xb)]=0x1*0x12e0+0x23c4+0x36a4*-0x1,_0x55520a['normals'][_0xb7462c*(-0x22f4+-0x7e5+0x2add)*(-0x2699+0x1*-0x1f8f+0x462b)+(0x1e23+0x910*0x2+-0x3041)]=-(0x1*-0x22e2+-0x1e6a*-0x1+0x479),_0x55520a['normals'][_0xb7462c*(-0x3c*-0x48+0x4*-0xd9+-0x1af*0x8)*(-0x23ea+-0xacd*-0x1+0x1920)+(0xff7*0x1+-0x5*0x5cf+0xd17)]=0x37*0x22+0x242+-0x90*0x11,_0x55520a['normals'][_0xb7462c*(-0x2f5*-0x1+0x169d*0x1+-0x198e)*(-0x43*0x5e+-0x15*-0xa+0x17cb)+(0x175*-0x9+0x39b*0x5+-0x4e6)]=0xfc6+0x1*-0x20c5+0x10ff,_0x55520a['normals'][_0xb7462c*(-0x2169+-0xfd9*0x2+0x411f)*(0x219c+-0x1*0x1bcd+-0x173*0x4)+(0x927+0x3*-0xc4e+-0x38*-0x7f)]=-(-0x6bb*0x4+0x1*0x1cb6+-0x1c9),_0x55520a['normals'][_0xb7462c*(0x4*0x17b+-0x42e+-0x1ba)*(0x1*0x1971+0x2e*0x37+-0x2350)+(0x1*0x1d08+-0x2198+0x2*0x24b)]=-0xfd1+-0x1581+0x2552,_0x55520a['normals'][_0xb7462c*(0xe45+0xb*0x255+-0x4*0x9fa)*(0x8b*-0x1b+0x7dd+-0x53*-0x15)+(-0x1ca5*0x1+0x22*0xef+-0x312)]=0xd5b+-0x95*0x2a+-0xa7*-0x11,_0x55520a['normals'][_0xb7462c*(-0x1*0xced+-0xa3*-0x1a+-0x39d*0x1)*(0x3*-0x248+-0x16e1*0x1+-0x1dbc*-0x1)+(-0x1be4+-0x924+0x2510)]=-(-0x2*0x12b9+0x839*0x1+0x1d3a),_0x55520a['normals'][_0xb7462c*(-0x168e+0x2fd+-0x687*-0x3)*(-0x536+0x1a+0x51f)+(0x1*0x2073+-0x12*-0x179+-0x3aec)]=-0x471*-0x1+-0x859+0x3e8,_0x55520a['normals'][_0xb7462c*(0x40c+0x1ab8+-0x1ec0)*(0x1cea*-0x1+0x1657+0x3*0x232)+(-0x151f+0x19b6+-0x48d)]=0x12cc+-0xb4c+0x78*-0x10,_0x55520a['normals'][_0xb7462c*(-0x1706+0x4f*0x31+0x7eb)*(0x988+-0x13+-0xd*0xba)+(-0x2209+0xc*0x8b+0x150*0x15)]=-(-0x15a*-0x1+0x101e+0x1177*-0x1);const _0x1843b7=xR(this['_system']['app']['graphicsDe'+'vice'],_0x55520a),_0x552917=new He(_0x1843b7,this['_material'],this['_node']);if(_0x552917['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x552917['castShadow']=!(-0xb*0xe5+-0x643*-0x1+0x395),_0x552917['receiveSha'+'dow']=!(0x1*-0x1f1f+0x5*-0x53b+0x1*0x3947),_0x552917['cull']=!_0x365254,_0x552917['screenSpac'+'e']=_0x365254,_0x552917['drawOrder']=this['_drawOrder'],_0x5cd223&&(_0x552917['cull']=!(0x3a*0x69+-0xfcf+-0x7fb),_0x552917['isVisibleF'+'unc']=_0x511e7e),this['_setTextur'+'eParams'](_0x552917,this['_font']['textures'][_0x163967]),_0x552917['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x552917['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x552917['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x552917['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x552917['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x163967]['width']),_0x552917['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x552917['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x552917['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][-0x1*-0x197a+-0x86e+-0x110c]=-0x1*0x2206+0xa52+0x17b4,this['_shadowOff'+'setUniform'][0x9ee+-0x1*0x199f+-0xfb2*-0x1]=-0x1b98+0x12d3+0x8c5;else{const _0x907de9=-this['_font']['data']['info']['maps'][_0x163967]['width']/this['_font']['data']['info']['maps'][_0x163967]['height'];this['_shadowOff'+'setUniform'][0x7*0xed+0x69c+0x1*-0xd17]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][-0x753+-0x635*0x4+-0x8*-0x405]=_0x907de9*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x552917['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x55520a['meshInstan'+'ce']=_0x552917,this['_model']['meshInstan'+'ces']['push'](_0x552917);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x4b9d6c&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=-0x2*0x13d+0x2*-0x706+0x1086,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x39cd5f){_0x39cd5f['destroy']();const _0x13a3d1=this['_model']['meshInstan'+'ces']['indexOf'](_0x39cd5f);_0x13a3d1!==-(0x20e1+-0x4f6*0x6+-0x18e*0x2)&&this['_model']['meshInstan'+'ces']['splice'](_0x13a3d1,0x2*-0xbaf+0x1bdd+-0x47e);}['_setMateri'+'al'](_0x455d3a){if(this['_material']=_0x455d3a,this['_model'])for(let _0xf9d3a8=-0x7*-0x6+0x24*0x6+-0x102,_0x4f7de0=this['_model']['meshInstan'+'ces']['length'];_0xf9d3a8<_0x4f7de0;_0xf9d3a8++){const _0x13e11e=this['_model']['meshInstan'+'ces'][_0xf9d3a8];_0x13e11e['material']=_0x455d3a;}}['_updateMat'+'erial'](_0x1e4b3c){const _0x4c9f52=this['_element'],_0x409a9a=_0x4c9f52['_isScreenC'+'ulled'](),_0x3f649f=function(_0x56f712){return _0x4c9f52['isVisibleF'+'orCamera'](_0x56f712);},_0x3e7589=this['_font']&&this['_font']['type']===Rh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x1e4b3c,_0x3e7589,this['_enableMar'+'kup']),this['_model'])for(let _0x2d0108=-0x9*-0x15+0x19d*0x3+-0xe*0x66,_0x332bfc=this['_model']['meshInstan'+'ces']['length'];_0x2d0108<_0x332bfc;_0x2d0108++){const _0x29a24d=this['_model']['meshInstan'+'ces'][_0x2d0108];_0x29a24d['cull']=!_0x1e4b3c,_0x29a24d['material']=this['_material'],_0x29a24d['screenSpac'+'e']=_0x1e4b3c,_0x409a9a?(_0x29a24d['cull']=!(-0x1ed2+-0x970+0x2842),_0x29a24d['isVisibleF'+'unc']=_0x3f649f):_0x29a24d['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][-0x1867+-0xa44+0x22ab]=0x2038+-0x212*0x12+0x50d,this['_colorUnif'+'orm'][-0x1*-0x51b+-0x1*-0x1bbd+0x7*-0x4b1]=0x1*0x1ab4+0xbe*-0x14+-0xbdb,this['_colorUnif'+'orm'][-0xddc+-0x2d6+-0x4*-0x42d]=-0x46d*0x1+-0x3*-0xc94+0xcb*-0x2a):(We['linear'](this['_color']),this['_colorUnif'+'orm'][0x959*-0x4+-0xc76+-0x12*-0x2c5]=We['r'],this['_colorUnif'+'orm'][-0xc5*0x7+0x7*-0x187+0x1015]=We['g'],this['_colorUnif'+'orm'][0x2*-0xbda+-0x1*0x23b1+-0x19b*-0x25]=We['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][-0xf88+-0x21a3+0x312b]=0x5c9*-0x4+0x221e+-0xafa,this['_outlineCo'+'lorUniform'][0x988+0x145a+-0x1de1]=0x180c+0x58e+-0x1d9a,this['_outlineCo'+'lorUniform'][-0x123a+-0x2519+0x3755]=0x1*0x169c+-0x4*0x971+0xf28,this['_outlineCo'+'lorUniform'][0x11*-0x7a+-0x14fb+0x1d18]=0x12c2+0x22c*0x2+0x1719*-0x1):(We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0x2430+0x1976+-0x3da6]=We['r'],this['_outlineCo'+'lorUniform'][-0x4*-0x10b+0x10d0*-0x2+0x1d75]=We['g'],this['_outlineCo'+'lorUniform'][0x1*0xaad+-0x2226+-0x177b*-0x1]=We['b'],this['_outlineCo'+'lorUniform'][0x13*0x156+-0xb7d+0x6f1*-0x2]=We['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][0x7*-0x2a7+-0x1*-0x197c+0xa1*-0xb]=-0x65e+0x2146*0x1+0x8f8*-0x3,this['_shadowCol'+'orUniform'][-0xa6c*0x2+0x965*0x3+-0x756]=-0x1*-0xd42+0x43*0xf+-0x112f,this['_shadowCol'+'orUniform'][0x1358+-0x1*0x166b+-0x3*-0x107]=0x1c5b+-0x1*0x1f7+0x699*-0x4,this['_shadowCol'+'orUniform'][-0x1*-0x225e+-0x9f7*-0x1+-0xec6*0x3]=0x10c8+-0x1307+0x23f):(We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0x192e+0x905+0x1029]=We['r'],this['_shadowCol'+'orUniform'][-0x4cd*-0x3+0xb85+-0x19eb*0x1]=We['g'],this['_shadowCol'+'orUniform'][-0xa52+0x5f*-0x1f+-0x747*-0x3]=We['b'],this['_shadowCol'+'orUniform'][0x243+0x1d0d+-0x1f4d]=We['a']);}['_isWordBou'+'ndary'](_0x1fe63b){return jg['test'](_0x1fe63b);}['_isValidNe'+'xtChar'](_0x55592c){return _0x55592c!==null&&!ER['test'](_0x55592c);}['_isNextCJK'+'Boundary'](_0x57192e,_0x2f4278){return Yg['test'](_0x57192e)&&(jg['test'](_0x2f4278)||wR['test'](_0x2f4278));}['_isNextCJK'+'WholeWord'](_0x5e81a8){return Yg['test'](_0x5e81a8);}['_updateMes'+'hes'](){const _0x2d7369=this['_font']['data'],_0x592fb0=this,_0x347843=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x18ed56=this['_maxFontSi'+'ze'],_0x33c6b7=this['_shouldAut'+'oFit']();_0x33c6b7&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x1db158=-0x1925+-0x261a+0x3f5f,_0x16acf2=this['_symbols']['length'];let _0x2e5f6b=-0x1c2a+0xdc9+-0x199*-0x9,_0x543bf3=0x20ba+0x2ab*0x3+-0x28bb*0x1,_0x4bdc98=0x7b1+0x1345+-0xcb*0x22,_0xab3495=-0x210*0x2+-0x742+0xb62,_0x2173aa=-0x2453+0x251f*0x1+-0x1d*0x7,_0x3d287a=-0x18a4+0x6f1+-0x1*-0x11b3,_0x5f32fd=-0x2*-0xf3f+-0x139*-0xe+-0x454*0xb,_0x3b5399=-0x7f4+0x1*0x2182+-0x198e,_0x7ba981=0x1956+-0x201f+0x6c9*0x1,_0x36c144=0x949*-0x1+0x106*-0x25+-0x2f27*-0x1,_0x343098=0x6d*-0x36+-0xd52+-0x38*-0xa6;const _0x501b33=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=0x810+0xd79*-0x2+0x12e2+0.0001;let _0x1d5f8a=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x501b33||!this['_wrapLines'])&&(_0x1d5f8a=Number['POSITIVE_I'+'NFINITY']);let _0x110148=0x5d*0x55+-0x1*0x18e7+-0x2fd*0x2,_0x4d02b0=-0x1a7f+0xcdd+0xda2,_0x31cdf6,_0xba2fe8,_0x9d1d6d,_0x39aa25;function _0x28fecd(_0x3232bd,_0x27cfa2,_0x5404d0){_0x592fb0['_lineWidth'+'s']['push'](Math['abs'](_0x5404d0));const _0x22742f=_0x3b5399>_0x27cfa2?_0x27cfa2+(-0x1*-0xbd5+-0x2*0x33b+-0x55e):_0x3b5399,_0x3a72e2=_0x3b5399>_0x27cfa2?_0x3b5399+(0x3*-0x681+-0x2581+0x3905):_0x27cfa2,_0x1b5c9e=_0x3232bd['slice'](_0x22742f,_0x3a72e2);if(_0x343098){let _0x35c8dc=_0x1b5c9e['length'];for(;_0x35c8dc--&&_0x343098>-0x518*0x1+-0x2*-0x71e+-0x924*0x1;)qg['test'](_0x1b5c9e[_0x35c8dc])&&(_0x1b5c9e['splice'](_0x35c8dc,0x144+-0x3d3+-0x4*-0xa4),_0x343098--);}_0x592fb0['_lineConte'+'nts']['push'](_0x1b5c9e['join']('')),_0x2e5f6b=0x1668+0x628+-0x1c90,_0x543bf3-=_0x592fb0['_scaledLin'+'eHeight'],_0x2173aa++,_0x7ba981=-0x257e+-0x4*-0x469+0x13da,_0x36c144=0x125f*-0x1+-0xb21*0x1+0x8*0x3b0,_0x343098=-0x1677+0x2061+-0x9ea,_0x3d287a=0x96*0x4+-0x16*0xa6+0xbec,_0x3b5399=_0x27cfa2;}let _0x459faf=!(0x10d3+0x1d88+-0x1*0x2e5b);for(;_0x459faf;){_0x459faf=!(-0x234a+0x1dea+-0x33*-0x1b),_0x33c6b7?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||0x1b0b*-0x1+0x43*0x8+0x18f3+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=0x211f+-0x15da+-0xb45,this['height']=0xd8b+-0x3*0x5a7+-0x17*-0x26,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x2e5f6b=-0xe4a+0x4*-0x6d7+0x14d3*0x2,_0x543bf3=-0x11a4+0x194a+-0x7a6,_0x4bdc98=-0x135*-0x4+0xa*-0x2ef+0x1882*0x1,_0xab3495=0x141f+0x1*-0xc89+-0x796,_0x2173aa=0x18be+-0x1*-0x96e+0x1*-0x222b,_0x3d287a=0x1c*0xe7+-0x77e+-0x11c6,_0x5f32fd=-0x1*-0x166b+0x16d7*-0x1+0x6c,_0x3b5399=0x3f5*0x1+0xca1*0x1+-0xb*0x182,_0x7ba981=-0x39*0x2b+-0x1133+0x1ac6,_0x36c144=0x13e*-0x8+-0x83d+0x122d,_0x343098=-0x7fc+-0x1467+0x1c63;const _0x1bd28e=this['_fontSize']/_0x1db158;_0x110148=this['_fontMinY']*_0x1bd28e,_0x4d02b0=this['_fontMaxY']*_0x1bd28e;for(let _0x441c08=-0x780+-0x1*0x365+0x1*0xae5;_0x441c08<this['_meshInfo']['length'];_0x441c08++)this['_meshInfo'][_0x441c08]['quad']=0x1d3*-0x3+-0xf4c*0x1+0x14c5,this['_meshInfo'][_0x441c08]['lines']={};let _0x27dc20=0x2*0xfa+0x16a2+0x21*-0xb7,_0x1641a0=-0x11*-0x17c+-0x3b*0x70+0x193,_0x11f95d=0x292*0xd+-0x2*0x22d+-0x1c11,_0x4120a7=0x1f2d+0x1435*-0x1+-0x9f9+(-0x2c*0x33+0x1*-0x501+-0x54*-0x2d)*(-0x1fcc+0xee8+0x11e4),_0x49ebab=-0x4b5+0x47*-0x6a+0x231a*0x1+(-0x1*-0x1c0f+0x11*-0x9d+0x1*-0x10a3)*(-0x6fe+-0x1*0x13a1+0x1b9f),_0x1e3eaf=0xd*0x151+-0x927*0x1+-0x7f6*0x1,_0x2cb692=-0x1e53+-0x17a5+-0x1*-0x36f7+(0x2588+-0x180c+0xc7d*-0x1)*(-0x1*0x97f+-0x20ce+0xf*0x2e3),_0x373f54=0x1c84+-0x1*-0x221b+0x1ed0*-0x2+(0x6d*0x2+-0x2457+0x1d3*0x14)*(-0x1c9c+-0x7*-0x387+0x1*0x4eb),_0x9f986c=-0x25f*0x1+0xe*-0x2e+0x562*0x1+(-0x42a*-0x1+-0x1aa1+-0x2*-0xb7b)*(0x2*-0x1145+-0x2195+0x451f);for(let _0x368f1f=0x1*0x243f+-0x1*-0x6f7+-0x2b36;_0x368f1f<_0x16acf2;_0x368f1f++){if(_0x31cdf6=this['_symbols'][_0x368f1f],_0x39aa25=_0x368f1f+(-0x1266+0x161b+0x9e*-0x6)>=_0x16acf2?null:this['_symbols'][_0x368f1f+(0x41c+-0xeb2+0xa97*0x1)],qg['test'](_0x31cdf6)){_0x343098++,(!this['_wrapLines']||this['_maxLines']<-0x3*0x364+-0x9b5+0x2d7*0x7||_0x2173aa<this['_maxLines'])&&(_0x28fecd(this['_symbols'],_0x368f1f,_0xab3495),_0x5f32fd=_0x368f1f+(0xf01+-0x2120*0x1+-0x20*-0x91),_0x3b5399=_0x368f1f+(-0x2c1*0x1+-0x1*-0x2477+-0x1*0x21b5));continue;}let _0xf24404=-0x695+0x9b8+-0x323,_0x381ea4=0x4*0x814+0x1*-0x1363+0x44f*-0x3,_0x4cca1d=0x13cd+0x2361+-0x7e2*0x7,_0x25370f=0x1*0x6b6+-0x1*-0x2b+-0x6e0,_0x3f84d6,_0x34d889;if(_0xba2fe8=_0x2d7369['chars'][_0x31cdf6],!_0xba2fe8){if(bR['indexOf'](_0x31cdf6)!==-(0x55*0x67+0x54f+-0x2781))_0xba2fe8=AR;else{if(_0x2d7369['chars']['\x20'])_0xba2fe8=_0x2d7369['chars']['\x20'];else for(const _0x540492 in _0x2d7369['chars']){_0xba2fe8=_0x2d7369['chars'][_0x540492];break;}_0x2d7369['missingCha'+'rs']||(_0x2d7369['missingCha'+'rs']=new Set()),_0x2d7369['missingCha'+'rs']['has'](_0x31cdf6)||(console['warn']('Character\x20'+'\x27'+_0x31cdf6+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x2d7369['info']['face']),_0x2d7369['missingCha'+'rs']['add'](_0x31cdf6));}}if(_0xba2fe8){let _0x2fc752=0x31*-0xcc+-0x295*-0x1+0x2477;if(_0x36c144>-0x18*0xe5+-0x1bce*0x1+-0x6a*-0x77){const _0x2a6980=this['_font']['data']['kerning'];if(_0x2a6980){const _0x4fe7a5=_0x2a6980[Hc['getCodePoi'+'nt'](this['_symbols'][_0x368f1f-(-0x1ba*-0x6+-0xa*0x30b+0x1413*0x1)])||0x4be*0x2+-0x5*0x623+0x1533];_0x4fe7a5&&(_0x2fc752=_0x4fe7a5[Hc['getCodePoi'+'nt'](this['_symbols'][_0x368f1f])||-0x1e2a+-0x1ce7+-0x3b11*-0x1]||-0x63b+0x2324+-0x1ce9);}}_0x3f84d6=_0xba2fe8['scale']||0x391+0x1f4b*-0x1+0x1bbb,_0x34d889=(_0xba2fe8['width']+_0xba2fe8['height'])/(-0x293*-0xc+-0x1b7*-0x1+0x1*-0x2099),_0x25370f=_0x1bd28e*_0x34d889/_0x3f84d6,_0x4cca1d=(_0xba2fe8['xadvance']+_0x2fc752)*_0x1bd28e,_0xf24404=(_0xba2fe8['xoffset']-_0x2fc752)*_0x1bd28e,_0x381ea4=_0xba2fe8['yoffset']*_0x1bd28e;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x31cdf6+'\x27');const _0x5015ca=TR['test'](_0x31cdf6),_0x403842=_0xba2fe8&&_0xba2fe8['map']||-0x117*-0x1b+0x1d2b+0x14*-0x2ee,_0x1a6f4d=-this['_font']['data']['info']['maps'][_0x403842]['width']/this['_font']['data']['info']['maps'][_0x403842]['height'],_0x280e82=this['_meshInfo'][_0x403842],_0x318eef=_0x2e5f6b+this['_spacing']*_0x4cca1d;if(_0x318eef>_0x1d5f8a&&_0x36c144>0x24*0x11+0x526+-0x78a&&!_0x5015ca&&(this['_maxLines']<-0xd13+-0x1f*0x7a+0x1bd9||_0x2173aa<this['_maxLines'])){if(_0x7ba981===0xc40+0x19*0xe9+0xbab*-0x3)_0x5f32fd=_0x368f1f,_0x28fecd(this['_symbols'],_0x368f1f,_0xab3495);else{const _0x479f4c=Math['max'](_0x368f1f-_0x5f32fd,0x42*0x33+0x1*-0x8db+-0x9d*0x7);if(this['_meshInfo']['length']<=0x968+0x4e6+0x7*-0x20b)_0x280e82['lines'][_0x2173aa-(0x3b*0x83+-0x159+-0x1cd7)]-=_0x479f4c,_0x280e82['quad']-=_0x479f4c;else{const _0x18c85e=_0x5f32fd,_0x578042=_0x368f1f;for(let _0x5de43f=_0x18c85e;_0x5de43f<_0x578042;_0x5de43f++){const _0x12791b=this['_symbols'][_0x5de43f],_0x425501=_0x2d7369['chars'][_0x12791b],_0x5f154d=this['_meshInfo'][_0x425501&&_0x425501['map']||-0x614+-0x21ee+0x2802];_0x5f154d['lines'][_0x2173aa-(-0x2637*-0x1+0x1*-0x875+-0x1dc1)]-=0x2*0xdb2+-0x966+-0x11fd,_0x5f154d['quad']-=0x1104+0x493+0xacb*-0x2;}}_0x368f1f-=_0x479f4c+(0x7e*0x4a+-0x1729+-0xd42),_0x28fecd(this['_symbols'],_0x5f32fd,_0x3d287a);continue;}}_0x9d1d6d=_0x280e82['quad'],_0x280e82['lines'][_0x2173aa-(-0x24a*-0x1+-0x1*0x140c+-0x1*-0x11c3)]=_0x9d1d6d;let _0x411f7f=_0x2e5f6b-_0xf24404,_0x316a98=_0x411f7f+_0x25370f;const _0xc102b3=_0x543bf3-_0x381ea4,_0x14421d=_0xc102b3+_0x25370f;if(this['_rtl']){const _0x51db6e=_0x25370f-_0xf24404-this['_spacing']*_0x4cca1d-_0xf24404;_0x411f7f-=_0x51db6e,_0x316a98-=_0x51db6e;}_0x280e82['positions'][_0x9d1d6d*(-0x1*-0x1ad7+0x1bd7*-0x1+0x104)*(-0x410+-0x1dc1+0x2*0x10ea)+(0x1*-0xa63+0x7de*-0x3+0x4db*0x7)]=_0x411f7f,_0x280e82['positions'][_0x9d1d6d*(-0xf2c+0x1*0x2237+-0x1307)*(-0xb0f+-0x16aa+-0xfe*-0x22)+(-0x2340+-0x2*-0x6a+0x1*0x226d)]=_0xc102b3,_0x280e82['positions'][_0x9d1d6d*(0x851+-0xb0+-0x79d)*(0xe90+-0x17eb+0xda*0xb)+(0x243d+0x22*-0x37+0x1ced*-0x1)]=_0x4bdc98,_0x280e82['positions'][_0x9d1d6d*(0x745+-0x8d1+0x190)*(-0x1231+-0x576*-0x1+0x7*0x1d2)+(-0x943*0x2+0x17dc+0x2f*-0x1d)]=_0x316a98,_0x280e82['positions'][_0x9d1d6d*(-0x15ab+0x1d0c*-0x1+0x75*0x6f)*(-0x1605+-0x7d6+-0x1dde*-0x1)+(-0x36e*-0x1+0x2*-0x1337+-0xbac*-0x3)]=_0xc102b3,_0x280e82['positions'][_0x9d1d6d*(0x216e+-0x14eb+-0xc7f)*(0x20e5+-0x1619+-0xac9)+(-0x5e5*0x1+-0x969+0xf53)]=_0x4bdc98,_0x280e82['positions'][_0x9d1d6d*(0x10d1+0x2a*-0xa6+0xa6f)*(0x5*-0x4e3+0x1a0c+-0x19a)+(0x17*-0x1+0x264c+-0x262f)]=_0x316a98,_0x280e82['positions'][_0x9d1d6d*(0x249a+-0x1b54+-0x942)*(-0x1*0x815+-0x181b+0x2033)+(-0x5cd+-0x25*0x7+0x11*0x67)]=_0x14421d,_0x280e82['positions'][_0x9d1d6d*(-0x24db+0x36a*0x1+0x5*0x6b1)*(-0x2*-0x6af+-0xf55+0x17*0x16)+(0x25*-0x40+-0x472*-0x1+0x4d6)]=_0x4bdc98,_0x280e82['positions'][_0x9d1d6d*(-0x5*0x419+-0x5ac+0x1*0x1a2d)*(0x1f4d*0x1+-0x3*-0x25c+-0x265e)+(0x1e0c+-0xdc8+-0x33f*0x5)]=_0x411f7f,_0x280e82['positions'][_0x9d1d6d*(0x6f*-0x52+-0x9b2+-0xb51*-0x4)*(-0xba2+0x1*0xec3+0x31e*-0x1)+(-0x1*-0x2645+0x1b*0x49+0x2*-0x16f7)]=_0x14421d,_0x280e82['positions'][_0x9d1d6d*(0x1*-0xc5f+-0x17ed+-0x1c*-0x14c)*(0x2*0x26a+0x239d+-0x23f*0x12)+(0x1*0x53f+-0x1e7*0x10+-0xbe*-0x22)]=_0x4bdc98,this['width']=Math['max'](this['width'],_0x318eef);let _0x5c732b;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x5c732b=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||0x254b+-0xe66+-0x16e5+0.0001)),_0x5c732b=Y['clamp'](_0x5c732b,_0x347843,_0x18ed56),_0x5c732b!==this['_element']['fontSize'])){this['_fontSize']=_0x5c732b,_0x459faf=!(-0x1e56+-0xfb*-0x1c+0x3*0xf6);break;}if(this['height']=Math['max'](this['height'],_0x4d02b0-(_0x543bf3+_0x110148)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x5c732b=Y['clamp'](this['_fontSize']-(0x129d*0x2+0x25e4+0x11f*-0x43),_0x347843,_0x18ed56),_0x5c732b!==this['_element']['fontSize'])){this['_fontSize']=_0x5c732b,_0x459faf=!(-0x32*-0x95+0x11d1+0x1*-0x2eeb);break;}_0x2e5f6b+=this['_spacing']*_0x4cca1d,_0x5015ca||(_0xab3495=_0x2e5f6b),(this['_isWordBou'+'ndary'](_0x31cdf6)||this['_isValidNe'+'xtChar'](_0x39aa25)&&(this['_isNextCJK'+'Boundary'](_0x31cdf6,_0x39aa25)||this['_isNextCJK'+'WholeWord'](_0x39aa25)))&&(_0x7ba981++,_0x3d287a=_0xab3495,_0x5f32fd=_0x368f1f+(-0x2*0x88a+-0x1a40+0x2b55)),_0x36c144++;const _0x4ed8cf=this['_getUv'](_0x31cdf6);if(_0x280e82['uvs'][_0x9d1d6d*(-0x1ea1*0x1+0x253a+-0x695)*(0x1daf+0x3*0x75d+0x2*-0x19e2)+(0x11b2*0x2+0x173*0x1a+-0x4912)]=_0x4ed8cf[0x1f8f+-0xdc8+-0x3*0x5ed],_0x280e82['uvs'][_0x9d1d6d*(-0x1*0x6e2+-0x3d3*0x5+0x1a05)*(-0x12e6+-0xef8+0x21e0)+(0x20de+0x3d2*-0x1+-0x1d0b)]=0x1f99+-0x2664+-0x3a*-0x1e-_0x4ed8cf[0x2581+-0x1dbd+-0x7c3],_0x280e82['uvs'][_0x9d1d6d*(-0x6b9*-0x1+0x51d+-0xb2*0x11)*(-0x2189+-0x17*-0x189+0xe2*-0x2)+(-0x223*0xa+-0xb1*-0x1+-0x423*-0x5)]=_0x4ed8cf[-0x1b91+0x1cad+0x1*-0x11a],_0x280e82['uvs'][_0x9d1d6d*(0x82a+0x1d*-0x1+-0x79*0x11)*(0x26b0+-0x1d88+-0x926)+(0x1af3+-0x1af*-0x1+-0x1c9f)]=0x1e*-0x116+-0x1e1e+-0x3eb3*-0x1-_0x4ed8cf[0x14*0x96+-0x13*0x1fa+0x52b*0x5],_0x280e82['uvs'][_0x9d1d6d*(0x1601+-0x12bb+-0x1a1*0x2)*(-0x71*-0xa+0x255*-0x7+-0x153*-0x9)+(-0x2c*0x23+-0x962*-0x4+-0x1f80)]=_0x4ed8cf[0x6ec+-0x4f3+-0x1f7],_0x280e82['uvs'][_0x9d1d6d*(-0x17*-0x12d+-0xe*-0xe5+0x465*-0x9)*(0x269f+0x8*-0x3d9+-0x7d5*0x1)+(0x8f2*0x3+0x48c+0x1f5d*-0x1)]=-0x4ca*-0x1+0x1de+0x6a7*-0x1-_0x4ed8cf[-0x1*0x11b3+-0xd0*0x2f+0x212*0x1b],_0x280e82['uvs'][_0x9d1d6d*(0xd3*-0x2c+0xbc*-0x3+0x267c)*(-0x2*-0x6c7+-0x5f3*0x6+0x51*0x46)+(0xa16+0x108a*0x1+-0x1a9a*0x1)]=_0x4ed8cf[0x23aa+0x1564+-0x1*0x390e],_0x280e82['uvs'][_0x9d1d6d*(0x22a*0xa+0x3*-0x137+-0x1*0x11fb)*(0x218*-0x10+-0x39*-0xa3+-0x17*0x1f)+(0xd*0x2e0+-0x991+-0x1bc8)]=0x30*0x6d+0x13db+0x36*-0xbf-_0x4ed8cf[-0x112c+-0x180d+0x293c],this['_symbolCol'+'ors']){const _0x3d5577=this['_symbolCol'+'ors'][_0x368f1f]*(0xfa4+-0x2511+0x1570);_0x27dc20=this['_colorPale'+'tte'][_0x3d5577],_0x1641a0=this['_colorPale'+'tte'][_0x3d5577+(-0x1420+0x216d+0x1*-0xd4c)],_0x11f95d=this['_colorPale'+'tte'][_0x3d5577+(0x467+0x728*0x2+0x12b5*-0x1)];}if(_0x280e82['colors'][_0x9d1d6d*(-0x379*0x3+-0x5*0x3ad+0x1cd0)*(0xd2+0xfdc+0x2c7*-0x6)+(0x1ac9+0x154d*0x1+-0x3016)]=_0x27dc20,_0x280e82['colors'][_0x9d1d6d*(0x11ba+-0x1a2f+0x879)*(-0x3a3*0x4+-0x771+-0x83*-0x2b)+(0x11*-0x166+-0x1f08+0x36cf)]=_0x1641a0,_0x280e82['colors'][_0x9d1d6d*(-0xb*-0x277+-0x1b54+0x3b)*(0x1ccc+-0x743+-0x1585)+(-0x353*-0xb+0x224c+0xb*-0x671)]=_0x11f95d,_0x280e82['colors'][_0x9d1d6d*(-0x1*-0x1433+0x11*-0x215+0xf36)*(0x1*-0x4f6+0x1938+-0x143e)+(0x12e+0x772+-0x89d)]=0xe60+-0xb*-0x307+0x956*-0x5,_0x280e82['colors'][_0x9d1d6d*(0xbc5+-0x2005+0x2*0xa22)*(-0x1*0x21d8+0x3a*0x4+0x3*0xafc)+(0x8aa*-0x2+-0x2301+0x3459)]=_0x27dc20,_0x280e82['colors'][_0x9d1d6d*(0x1dc0+0x14*-0x3f+-0x31a*0x8)*(-0x1556+0x8d8+0x2*0x641)+(0x127d*-0x1+-0x9f*-0x17+0x2f*0x17)]=_0x1641a0,_0x280e82['colors'][_0x9d1d6d*(0x1*-0x10a2+-0x15cb+0x2671)*(-0x1*-0x957+-0x25d6+0x1c83)+(0x1e0d*-0x1+0x9c1+0x1452)]=_0x11f95d,_0x280e82['colors'][_0x9d1d6d*(0x7*0x84+0x21ba+-0x2552)*(-0x1ca2*-0x1+0xfc5+-0x2c63)+(-0x8b*-0xa+0xe05+-0x136c)]=-0x1e7+0x1*0x24f1+-0xf*0x245,_0x280e82['colors'][_0x9d1d6d*(0xeb9+-0x1570*-0x1+-0x2425)*(0x127e+0x241e+-0x3698)+(-0x1e80+0x17*-0xa1+0x2cff)]=_0x27dc20,_0x280e82['colors'][_0x9d1d6d*(0x70d+0x3*0x67d+0x6a*-0x40)*(-0x1021+-0x12*0x142+0x26c9)+(0xf2a+-0xe*0x1fb+0xc99)]=_0x1641a0,_0x280e82['colors'][_0x9d1d6d*(-0x20b0+0x335*-0x7+0x3727)*(0x24bd+-0x4ef*-0x2+-0x2e97)+(0x1*-0x76d+0x7a*0x36+-0x1245)]=_0x11f95d,_0x280e82['colors'][_0x9d1d6d*(-0x1cd5+-0x23a5+0x407e)*(-0x5b*0x62+-0x4c4+0x16*0x1cd)+(0x18b7*-0x1+0xe01+0x1*0xac1)]=-0x6d*-0x50+0x573+-0x11*0x244,_0x280e82['colors'][_0x9d1d6d*(-0x2e*-0x53+0x294+-0x117a)*(0x1dfa+-0x3*0x4d4+-0xf7a)+(0x58+-0x1bc1+0x1b75)]=_0x27dc20,_0x280e82['colors'][_0x9d1d6d*(-0x515*0x2+-0x3*0xc1+-0x27d*-0x5)*(-0x1*0x1529+-0x9*0x281+0x2bb6)+(0x1*-0x260b+0x1*-0x1a5+0x3*0xd3f)]=_0x1641a0,_0x280e82['colors'][_0x9d1d6d*(0x185e+-0xefa+0xf0*-0xa)*(-0x2*-0x6d3+0x100b+-0x47*0x6b)+(-0x2*-0x30f+-0x1edb+0xb*0x241)]=_0x11f95d,_0x280e82['colors'][_0x9d1d6d*(0x5a1*-0x1+0x52f*0x7+0xf52*-0x2)*(-0x1*0x1d7b+-0x92*-0x17+0x1061)+(0x2*-0x12dd+0x1ba4+0xa25)]=0x38d*0x3+-0x7*-0x35f+0x1*-0x2141,this['_symbolOut'+'lineParams']){const _0x5ec9db=this['_symbolOut'+'lineParams'][_0x368f1f]*(0x1f93*-0x1+0x2*-0x1058+0x4048);_0x4120a7=this['_outlinePa'+'lette'][_0x5ec9db]+this['_outlinePa'+'lette'][_0x5ec9db+(0x5d5*0x1+-0x7*0x15d+0x3b7)]*(-0x8b1+-0x5ba+0xf6b*0x1),_0x49ebab=this['_outlinePa'+'lette'][_0x5ec9db+(0x2545*0x1+0x1e2d*-0x1+-0x716)]+this['_outlinePa'+'lette'][_0x5ec9db+(0x1412+-0x67*0x57+0xef2)]*(0x65*0x47+0x21cf+0x1e69*-0x2),_0x1e3eaf=this['_outlinePa'+'lette'][_0x5ec9db+(-0x2551+0x12fa+0x125b)];}if(_0x280e82['outlines'][_0x9d1d6d*(-0x1c*-0xa2+-0xfa7*0x1+-0x20d)*(0x29d*0x1+-0x2345*-0x1+0x1*-0x25df)+(-0x1df7+-0xe00+0x2bf7)]=_0x4120a7,_0x280e82['outlines'][_0x9d1d6d*(-0xc*-0x2a4+-0x1*0x1d4b+-0x1d*0x15)*(-0x5c1*0x1+0xec3*-0x2+0x1*0x234a)+(0x19d*0x11+-0x484+-0x16e8)]=_0x49ebab,_0x280e82['outlines'][_0x9d1d6d*(0x163+-0x2395*0x1+0x3a*0x97)*(-0xc37*0x1+-0xea*0x2a+0x329e)+(-0x179b+0x1dd0+0x211*-0x3)]=_0x1e3eaf,_0x280e82['outlines'][_0x9d1d6d*(-0x1937+-0x1*0x124c+0x2b87)*(-0x4fb+-0x2f5+0xb*0xb9)+(-0xa2*-0x8+0x701+-0xc0e)]=_0x4120a7,_0x280e82['outlines'][_0x9d1d6d*(-0x1*0x1f49+0x22f8+-0x3ab)*(-0x6f+-0x1391*0x1+0x1403)+(-0x1068+0x1*0xfc2+0xaa)]=_0x49ebab,_0x280e82['outlines'][_0x9d1d6d*(0x144*0x9+0xe*0x2ca+-0x1*0x326c)*(0x2*0xb7b+-0x1*0x746+-0xfad)+(0x1*0x1c2d+-0x12c1+-0x1d*0x53)]=_0x1e3eaf,_0x280e82['outlines'][_0x9d1d6d*(-0xc16+0x1ebb*0x1+-0x12a1)*(0x8*-0x1f6+-0x47d+0x26*0x88)+(-0x1c23+0x97*-0x4+0x1e85)]=_0x4120a7,_0x280e82['outlines'][_0x9d1d6d*(0x2*0x26+0x1*0x1a7e+-0x1ac6)*(0x13c7*-0x1+-0x233*0x11+0x392d)+(-0x63*-0x11+0x1ce*0xe+-0x1fd0)]=_0x49ebab,_0x280e82['outlines'][_0x9d1d6d*(-0x113c*0x1+-0x2692+0x5*0xb2a)*(0xb9b*-0x2+0x240a+-0xcd1)+(0x1*0x122+-0x21c9+-0x1*-0x20af)]=_0x1e3eaf,_0x280e82['outlines'][_0x9d1d6d*(-0x1*0x228a+0x67*0x32+0xe70)*(-0x6*-0x529+-0x6*0xf2+-0x9*0x2cf)+(-0x59*-0x53+-0x223e+0x56c)]=_0x4120a7,_0x280e82['outlines'][_0x9d1d6d*(-0x29d*0x1+0x38b+0x1a*-0x9)*(-0x102d+0xe52+0x1de)+(0x25ca+-0x36*-0x48+-0x34f0)]=_0x49ebab,_0x280e82['outlines'][_0x9d1d6d*(0x2284+0xab+-0x232b*0x1)*(0x1*0x739+0x2*0x2b1+0x8*-0x193)+(0x1*-0x1962+-0xa9*0x9+-0x37*-0x92)]=_0x1e3eaf,this['_symbolSha'+'dowParams']){const _0xfe0f3=this['_symbolSha'+'dowParams'][_0x368f1f]*(0x3*-0x502+-0x17*0x6e+0x18ee);_0x2cb692=this['_shadowPal'+'ette'][_0xfe0f3]+this['_shadowPal'+'ette'][_0xfe0f3+(0x22a9+0x6*0xe7+0x1409*-0x2)]*(0x665*-0x5+0x14c7+0xe*0xdf),_0x373f54=this['_shadowPal'+'ette'][_0xfe0f3+(-0x1*0x96e+0x1799+0x1d*-0x7d)]+this['_shadowPal'+'ette'][_0xfe0f3+(0x581*0x3+-0xb6d+-0x513)]*(0xd37+-0x1d1a+0x10e3),_0x9f986c=this['_shadowPal'+'ette'][_0xfe0f3+(0x26e3*0x1+-0x2*-0xa1f+0x199*-0x25)]+(0x1961*0x1+0x3*0x92d+-0x3469)+Math['round'](_0x1a6f4d*this['_shadowPal'+'ette'][_0xfe0f3+(-0x1c4*-0xc+-0x65*0x2f+-0xc*0x38)]+(0x66f*0x2+0x2709+-0x3368))*(0x1*0x20c1+0x1*-0xe16+-0x11ab);}_0x280e82['shadows'][_0x9d1d6d*(0x144f+0xd*0x183+0x13f9*-0x2)*(-0x1d34+0x9*-0x2cd+0x366c)+(0xc78+0x438*-0x8+0x1548)]=_0x2cb692,_0x280e82['shadows'][_0x9d1d6d*(-0x14f*-0x5+-0x9c7+0x340)*(-0x6f*-0x4+0x258a+0x1*-0x2743)+(-0x5d1+-0x1fdf*-0x1+-0x1a0d*0x1)]=_0x373f54,_0x280e82['shadows'][_0x9d1d6d*(0xbf9+-0x25b6+-0x19c1*-0x1)*(0x1*0xbf5+0x1*0x10dd+-0x5c3*0x5)+(0x1159*-0x1+-0xa3e+0x1b99)]=_0x9f986c,_0x280e82['shadows'][_0x9d1d6d*(-0x13*0x167+0x1*-0xc95+0x273e)*(-0x48*0x1e+0x1d56+-0x14e3)+(0xae*0x3+-0x13da+0x11d3)]=_0x2cb692,_0x280e82['shadows'][_0x9d1d6d*(0x1ae1+0x264e*0x1+0x15b9*-0x3)*(0x1d4e+-0x1a9a+-0x2b1)+(0x19*0x13c+0x1511+-0x33e9)]=_0x373f54,_0x280e82['shadows'][_0x9d1d6d*(-0x1c78+-0x12b5*0x1+-0x2f31*-0x1)*(0xaa5+-0x11b*0x1+-0x987)+(-0x4a9*-0x6+-0x10*0x1b8+0x1*-0x71)]=_0x9f986c,_0x280e82['shadows'][_0x9d1d6d*(0x1f66*-0x1+-0x10a8+0x3012)*(-0x16a9+-0x17bb+-0x6a1*-0x7)+(0x17f6+-0x197f+0x7*0x39)]=_0x2cb692,_0x280e82['shadows'][_0x9d1d6d*(-0xf6f*0x1+-0x2371+-0x1972*-0x2)*(-0x1b53+0x4e1*0x2+0x1194)+(-0x1173*-0x1+-0x1*0x1e2c+0xcc0)]=_0x373f54,_0x280e82['shadows'][_0x9d1d6d*(0x1d19+-0x22a*-0xc+-0x370d)*(0x9*0x21f+0x2e9*-0xd+0x12c1*0x1)+(-0x3*-0x2cf+-0x1f50+0x16eb*0x1)]=_0x9f986c,_0x280e82['shadows'][_0x9d1d6d*(-0x1a*-0x111+-0x138b*0x1+0x11*-0x7b)*(0x1a45+0x1153+-0xe87*0x3)+(0x207d*-0x1+0xb3*-0x22+0x384c)]=_0x2cb692,_0x280e82['shadows'][_0x9d1d6d*(0x2182+-0x209+-0x1f75)*(0x1d97+0x1464+0x18fc*-0x2)+(0xb98+0x1279+-0x1*0x1e07)]=_0x373f54,_0x280e82['shadows'][_0x9d1d6d*(-0x2084+0x23f0+-0x4*0xda)*(0x1f6+0x5e*0x66+-0x2767)+(-0x2c*0x83+-0x23b6+0x3a45)]=_0x9f986c,_0x280e82['quad']++;}_0x459faf||_0x3b5399<_0x16acf2&&_0x28fecd(this['_symbols'],_0x16acf2,_0x2e5f6b);}this['_noResize']=!(-0x3f5+-0x549+0x93e),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(-0x419+0x42*0x1d+-0x2*0x1b0);const _0x490b9d=this['_element']['pivot']['x'],_0x3c5e03=this['_element']['pivot']['y'],_0x3a772b=this['_alignment']['x'],_0x5a8be7=this['_alignment']['y'];for(let _0x14ae21=-0x1*0x17+0x11f*-0x17+0x90*0x2e;_0x14ae21<this['_meshInfo']['length'];_0x14ae21++){if(this['_meshInfo'][_0x14ae21]['count']===0x18d8+-0x1f6c*-0x1+0x115*-0x34)continue;let _0xfe8b39=-0x4a5+-0x26*-0x65+0x3*-0x373;for(const _0x2eddc0 in this['_meshInfo'][_0x14ae21]['lines']){const _0x37ea67=this['_meshInfo'][_0x14ae21]['lines'][_0x2eddc0],_0x5e20b9=this['_lineWidth'+'s'][parseInt(_0x2eddc0,0x1680+0x95b*-0x1+-0xb*0x131)],_0x1d8a41=-_0x490b9d*this['_element']['calculated'+'Width']+_0x3a772b*(this['_element']['calculated'+'Width']-_0x5e20b9)*(this['_rtl']?-(0x4*-0x48d+0x513*0x3+0x2fc):-0x33+0x2*0x3e7+-0x79a),_0x5eb198=(-0x1c61+-0x13*-0xdc+0xc0e-_0x3c5e03)*this['_element']['calculated'+'Height']-_0x4d02b0-(-0x4f6+-0x4ab*0x3+-0x97c*-0x2-_0x5a8be7)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x56810a=_0xfe8b39;_0x56810a<=_0x37ea67;_0x56810a++)this['_meshInfo'][_0x14ae21]['positions'][_0x56810a*(-0x4db+-0x65+0x544)*(-0x16a5+0x1a*0x133+-0x886)]+=_0x1d8a41,this['_meshInfo'][_0x14ae21]['positions'][_0x56810a*(0x1ca2*-0x1+-0x1*0xff3+0x2c99)*(-0x6d*0x2d+-0x22*-0xc5+-0x6fe)+(-0xf91+0x17b*-0x11+0x28bf)]+=_0x1d8a41,this['_meshInfo'][_0x14ae21]['positions'][_0x56810a*(0x1e*-0xed+-0x45e+0x80a*0x4)*(0x1*-0x1b8e+-0x5*-0x6e+0x9*0x2d3)+(-0x1*0x19b9+0x16c+0x1853*0x1)]+=_0x1d8a41,this['_meshInfo'][_0x14ae21]['positions'][_0x56810a*(0x528+-0x10f*0x2+-0x306)*(0x1*-0xb0+0xf01+0x727*-0x2)+(-0x13ac+0x2523+0x8b7*-0x2)]+=_0x1d8a41,this['_meshInfo'][_0x14ae21]['positions'][_0x56810a*(-0x51*0x32+-0x119*-0x10+-0x1ba)*(0x2*-0xbf5+-0xfbb*0x1+-0x36*-0xbc)+(0x1ef3+-0x1a31*0x1+0x4c1*-0x1)]+=_0x5eb198,this['_meshInfo'][_0x14ae21]['positions'][_0x56810a*(-0xb*0x119+0xb1b*-0x2+0x224d)*(0x2*-0xfb3+0x27*-0x3f+0x2902)+(-0x1ce8+0x809+-0x1*-0x14e3)]+=_0x5eb198,this['_meshInfo'][_0x14ae21]['positions'][_0x56810a*(-0xefd+-0x96c+0xa9*0x25)*(-0x110b+-0x1*0x3d3+0x5*0x42d)+(-0x7dd+-0x88c*0x1+0x1070)]+=_0x5eb198,this['_meshInfo'][_0x14ae21]['positions'][_0x56810a*(0xc71*-0x3+0x65*0x29+-0x2*-0xa95)*(-0xc5f+0x21fd+-0x159b*0x1)+(-0xa3d+0x5*0x38c+-0x775)]+=_0x5eb198;if(this['_rtl'])for(let _0x2016cd=_0xfe8b39;_0x2016cd<=_0x37ea67;_0x2016cd++){const _0x1e9db8=_0x2016cd*(-0x90+-0x1a*0xc6+0x52c*0x4)*(0x1b41*0x1+0x3*0x53e+0x37*-0xc8);for(let _0x2de5a4=-0x1339+-0xd97+0x15*0x190;_0x2de5a4<0x1983+-0x186a+0x1*-0x115;++_0x2de5a4)this['_meshInfo'][_0x14ae21]['positions'][_0x1e9db8+_0x2de5a4*(-0xf63*-0x1+0x4*0x2ca+-0x2*0xd44)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x14ae21]['positions'][_0x1e9db8+_0x2de5a4*(0x57f+0x8a*-0x34+0x168c)]+_0x1d8a41*(-0x28c*0x2+0xacf+-0x5b5);const _0x12d670=this['_meshInfo'][_0x14ae21]['positions'][_0x1e9db8+(-0x1*-0xd1f+0x18f2+-0x260e)],_0x3c6817=this['_meshInfo'][_0x14ae21]['positions'][_0x1e9db8+(-0x1*-0x15b+-0x13*-0x8f+-0xbf2)];this['_meshInfo'][_0x14ae21]['positions'][_0x1e9db8+(-0x1f*0xb5+0x4d*-0x81+0x3cbb)]=this['_meshInfo'][_0x14ae21]['positions'][_0x1e9db8+(0x6c*-0x3e+-0x4e3+-0x1*-0x1f0b)],this['_meshInfo'][_0x14ae21]['positions'][_0x1e9db8+(-0x18e6+0x249b+0xbaf*-0x1)]=this['_meshInfo'][_0x14ae21]['positions'][_0x1e9db8+(-0x2199+0x120+-0x1041*-0x2)],this['_meshInfo'][_0x14ae21]['positions'][_0x1e9db8+(-0xc*0x243+0xb65*-0x1+0x2689)]=_0x12d670,this['_meshInfo'][_0x14ae21]['positions'][_0x1e9db8+(0x10e2+0x14*0x84+-0x1b29)]=_0x3c6817;}_0xfe8b39=_0x37ea67+(0x1a8b+0x1a2c+-0x34b6);}const _0x572e50=this['_meshInfo'][_0x14ae21]['count']*(0x82a+-0x745*0x1+-0xe1),_0x1784cc=this['_meshInfo'][_0x14ae21]['quad']*(0x108e+-0x20a3+0x1019),_0x4ba9f0=new Uo(this['_meshInfo'][_0x14ae21]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0x371642=0x42e*-0x3+-0x1dda*-0x1+-0x1150;_0x371642<_0x572e50;_0x371642++)_0x371642>=_0x1784cc?(_0x4ba9f0['element'][Me]['set'](0xf16+0x2212+-0x58*0x8f,-0x641*0x4+0x2383+-0xa7f*0x1,-0x17aa+-0x9a4+0x2a*0xcb),_0x4ba9f0['element'][is]['set'](0x1b00+0x9*0x4f+-0x1dc7,-0x180d+-0xaaf+-0x156*-0x1a),_0x4ba9f0['element'][Wt]['set'](0x2*0x16e+0x44c+-0x8*0xe5,0x1206+-0x1*0x4b9+-0x2a9*0x5,-0xb9*0x25+0x2c*-0xbb+0x3ae1*0x1,-0x176+-0xcd7+0xe4d),_0x4ba9f0['element'][Ko]['set'](0x2566+-0xe*0xcb+-0x1a4c,0x1a2b+-0xb04+-0x1af*0x9,0x25fd*0x1+-0x37*0x19+-0x209e,0x430+0x1*-0x1771+0x1341),_0x4ba9f0['element'][Zo]['set'](0x25cd+0x93a+0x3*-0xfad,0xf1*0x25+0xfee+-0x32c3,0x1*-0x1637+-0x1cf5*-0x1+-0x6be,-0x189d*0x1+0x19ee+-0x151)):(_0x4ba9f0['element'][Me]['set'](this['_meshInfo'][_0x14ae21]['positions'][_0x371642*(-0x1182+0x8d3*0x1+-0x7*-0x13e)+(0x38*-0x23+0x2*-0x134a+-0x171e*-0x2)],this['_meshInfo'][_0x14ae21]['positions'][_0x371642*(0x1d8c+-0x640+-0x1749*0x1)+(0x1*-0x2063+-0x729+-0x195*-0x19)],this['_meshInfo'][_0x14ae21]['positions'][_0x371642*(0xc49+0x9b3+-0x15f9)+(0x1*0x1231+0x683*0x3+-0x25b8)]),_0x4ba9f0['element'][is]['set'](this['_meshInfo'][_0x14ae21]['uvs'][_0x371642*(0x1f57*-0x1+-0x1466+0x33bf)+(0x2084*0x1+0x3e*0x42+0xc20*-0x4)],this['_meshInfo'][_0x14ae21]['uvs'][_0x371642*(0x41b*0x7+-0x537+-0x1784)+(0x94d+-0xf75+0x629)]),_0x4ba9f0['element'][Wt]['set'](this['_meshInfo'][_0x14ae21]['colors'][_0x371642*(-0x11*-0x1d9+0xa35+-0x299a)+(-0xeb7+0x4*-0xce+-0x1*-0x11ef)],this['_meshInfo'][_0x14ae21]['colors'][_0x371642*(0x515*0x2+-0x3*0x541+-0x1df*-0x3)+(0x7fd+0x7eb*0x1+-0xfe7)],this['_meshInfo'][_0x14ae21]['colors'][_0x371642*(0x1*0xab5+0x49*-0x47+0x98e)+(0x1*0x907+-0x1c02+-0x12fd*-0x1)],this['_meshInfo'][_0x14ae21]['colors'][_0x371642*(-0x134c+0x6b2*0x1+0xc9e)+(0x7e*-0x22+0x1*-0x5bb+-0x1*-0x167a)]),_0x4ba9f0['element'][Ko]['set'](this['_meshInfo'][_0x14ae21]['outlines'][_0x371642*(0xb20+-0x16f3+0xbd6)+(0xe9*0x1b+0x16a6+-0x2f39)],this['_meshInfo'][_0x14ae21]['outlines'][_0x371642*(-0xe*-0x139+0x2a*-0x4f+0x1*-0x425)+(-0x21*-0xa+0x2092+-0x21db)],this['_meshInfo'][_0x14ae21]['outlines'][_0x371642*(-0x123*-0x3+0xc07*-0x1+0x8a1)+(0x11ff+0x2014*-0x1+0xe17)]),_0x4ba9f0['element'][Zo]['set'](this['_meshInfo'][_0x14ae21]['shadows'][_0x371642*(-0x4*0x892+0x1*-0x193c+0x137*0x31)+(0x73e+-0x1*0x14b7+0xd79)],this['_meshInfo'][_0x14ae21]['shadows'][_0x371642*(-0xe1e+0x16d4+-0x83*0x11)+(0x1388+-0x47+-0x1*0x1340)],this['_meshInfo'][_0x14ae21]['shadows'][_0x371642*(-0x82*0x4+0x254e+-0x2343)+(0x1412+-0x5*-0x107+-0x1933)])),_0x4ba9f0['next']();_0x4ba9f0['end'](),this['_meshInfo'][_0x14ae21]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x14ae21]['positions']),this['_meshInfo'][_0x14ae21]['meshInstan'+'ce']['_aabbVer']=-(-0x246e+-0xf30+0x339f);}this['_aabbDirty']=!(-0x11*-0x199+-0x1*0x635+0xc*-0x1bf);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x5913bd){this['font']!==_0x5913bd['resource']&&(this['font']=_0x5913bd['resource']);}['_onFontCha'+'nge'](_0x475cc6,_0x103cec,_0x47fc6f,_0x1f2efd){if(_0x103cec==='data'){this['_font']['data']=_0x47fc6f;const _0x590ce5=this['_font']['data']['info']['maps']['length'];for(let _0x51d225=0x1af9+0x4b*-0x10+-0x1649;_0x51d225<_0x590ce5;_0x51d225++){if(!this['_meshInfo'][_0x51d225])continue;const _0x86b387=this['_meshInfo'][_0x51d225]['meshInstan'+'ce'];_0x86b387&&(_0x86b387['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x86b387['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x86b387['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x51d225]['width']));}}}['_onFontRem'+'ove'](_0x560ffe){}['_setTextur'+'eParams'](_0x5c0e48,_0x3a14f8){this['_font']&&(this['_font']['type']===Rh?(_0x5c0e48['deletePara'+'meter']('texture_em'+'issiveMap'),_0x5c0e48['deletePara'+'meter']('texture_op'+'acityMap'),_0x5c0e48['setParamet'+'er']('texture_ms'+'dfMap',_0x3a14f8)):this['_font']['type']===dR&&(_0x5c0e48['deletePara'+'meter']('texture_ms'+'dfMap'),_0x5c0e48['setParamet'+'er']('texture_em'+'issiveMap',_0x3a14f8),_0x5c0e48['setParamet'+'er']('texture_op'+'acityMap',_0x3a14f8)));}['_getPxRang'+'e'](_0x4fa1c0){const _0x4a3c7f=Object['keys'](this['_font']['data']['chars']);for(let _0x18f11a=0x9e4+-0x1106+0x722;_0x18f11a<_0x4a3c7f['length'];_0x18f11a++){const _0x55644f=this['_font']['data']['chars'][_0x4a3c7f[_0x18f11a]];if(_0x55644f['range'])return(_0x55644f['scale']||0x19a6+-0x25*0x26+0xb*-0x1d5)*_0x55644f['range'];}return 0x123d+-0x1*-0x1a5d+-0x2c98;}['_getUv'](_0x56af2b){const _0x40b5f3=this['_font']['data'];if(!_0x40b5f3['chars'][_0x56af2b])return _0x40b5f3['chars']['\x20']?this['_getUv']('\x20'):[-0x1*0xef9+-0x2*0x13+0x7*0x229,0x2e7*-0x2+0x19f9*-0x1+0x1fc7,0x185b+-0x25*-0xa3+-0x1*0x2fea,0x1a0b+0x20b9+-0x3ac4];const _0x333e62=_0x40b5f3['chars'][_0x56af2b]['map'],_0x3744d5=_0x40b5f3['info']['maps'][_0x333e62]['width'],_0x225763=_0x40b5f3['info']['maps'][_0x333e62]['height'],_0x4b107a=_0x40b5f3['chars'][_0x56af2b]['x'],_0x57725e=_0x40b5f3['chars'][_0x56af2b]['y'],_0x33c87e=_0x4b107a,_0x5d3efc=_0x57725e,_0x36993c=_0x4b107a+_0x40b5f3['chars'][_0x56af2b]['width'],_0x100ac2=_0x57725e-_0x40b5f3['chars'][_0x56af2b]['height'],_0x4b6cee=-0x1055+0xb57+-0x4ff*-0x1-_0x40b5f3['chars'][_0x56af2b]['height']/_0x225763;return[_0x33c87e/_0x3744d5,_0x4b6cee-_0x5d3efc/_0x225763,_0x36993c/_0x3744d5,_0x4b6cee-_0x100ac2/_0x225763];}['onEnable'](){this['_fontAsset']['autoLoad']=!(-0x2518+0x1ada+0xa3e),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(-0xa*-0x28c+-0x1*0x152e+-0x449),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x11fb14){if(this['_model']){const _0x5ffb44=this['_model']['meshInstan'+'ces'];for(let _0x104f28=-0x2392+0x1*-0x1df+-0x163*-0x1b;_0x104f28<_0x5ffb44['length'];_0x104f28++)_0x5ffb44[_0x104f28]['stencilFro'+'nt']=_0x11fb14,_0x5ffb44[_0x104f28]['stencilBac'+'k']=_0x11fb14;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x4c26cf){const _0x2a4377={};_0x4c26cf===void(0x500+0xe*-0x293+0x1f0a)&&(_0x4c26cf=this['_symbols']['length']);for(let _0x109c2e=-0x1498+0x4*-0x839+0x1abe*0x2,_0x17ace6=_0x4c26cf;_0x109c2e<_0x17ace6;_0x109c2e++){const _0x28c4f8=this['_symbols'][_0x109c2e];let _0x25f152=this['_font']['data']['chars'][_0x28c4f8];_0x25f152||(_0x25f152=this['_font']['data']['chars']['\x20'],_0x25f152||(_0x25f152=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[0x7*-0x551+-0x2ab*0x1+0x3fd*0xa]]));const _0x256846=_0x25f152['map'];_0x2a4377[_0x256846]?_0x2a4377[_0x256846]++:_0x2a4377[_0x256846]=0x1e79+-0x43*-0x2e+-0x2a82;}return _0x2a4377;}['_updateRen'+'derRange'](){const _0x52a0d3=this['_rangeStar'+'t']===0xf2b+0x1c0b+-0x2b36?0x1d2c+0x695+-0x23c1:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0xbef2d4=this['_rangeEnd']===0x877+0xd1*-0xc+-0x1f*-0xb?0x16*0xd1+0x15f3+-0x27e9:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x1aea42=-0x8cd*-0x1+0x1*0x1150+-0x1a1d,_0x2fbd50=this['_meshInfo']['length'];_0x1aea42<_0x2fbd50;_0x1aea42++){const _0x59143b=_0x52a0d3[_0x1aea42]||-0x3*-0x4b1+0x2c7*0x7+-0x2184,_0x3a2354=_0xbef2d4[_0x1aea42]||-0x8e*-0x2c+-0x1b85+0x31d*0x1,_0x112a2a=this['_meshInfo'][_0x1aea42]['meshInstan'+'ce'];if(_0x112a2a){const _0x2bdaa6=_0x112a2a['mesh'];_0x2bdaa6&&(_0x2bdaa6['primitive'][-0x80b+0x16af*-0x1+0x1eba]['base']=_0x59143b*(0xe5*0xf+0x94d+-0x1*0x16b5)*(-0x26a5+-0x1*-0x425+0x2282),_0x2bdaa6['primitive'][-0x143*-0x1c+-0x17f+-0x21d5]['count']=(_0x3a2354-_0x59143b)*(0x7b1+0x1e57+0x2605*-0x1)*(-0x6*0x2a2+-0x2*-0xfb5+-0x25*0x6c));}}}set['text'](_0x302df4){this['_i18nKey']=null;const _0x405cae=_0x302df4!=null&&_0x302df4['toString']()||'';this['_setText'](_0x405cae);}get['text'](){return this['_text'];}set['key'](_0x3ae94f){const _0x543968=_0x3ae94f!==null?_0x3ae94f['toString']():null;this['_i18nKey']!==_0x543968&&(this['_i18nKey']=_0x543968,_0x543968?(this['_fontAsset']['disableLoc'+'alization']=!(-0x3*-0x771+-0x1dca+-0x4*-0x1de),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(-0x13b7+0x7f*0x21+0x358));}get['key'](){return this['_i18nKey'];}set['color'](_0x46c3b6){const _0x5694e2=_0x46c3b6['r'],_0x37d0e2=_0x46c3b6['g'],_0x114655=_0x46c3b6['b'];if(this['_color']===_0x46c3b6&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x5694e2&&this['_color']['g']===_0x37d0e2&&this['_color']['b']===_0x114655)&&(this['_color']['r']=_0x5694e2,this['_color']['g']=_0x37d0e2,this['_color']['b']=_0x114655,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_color']),this['_colorUnif'+'orm'][0x68*-0x29+0x84e+0x85a]=We['r'],this['_colorUnif'+'orm'][-0x1*-0xb92+-0xd*0x12b+0x2*0x1cf]=We['g'],this['_colorUnif'+'orm'][0x1459+-0x6*-0x45a+-0x2e73]=We['b'];for(let _0x320f9b=0x1*0x13ca+0x91d*-0x2+-0x190,_0x4dde5e=this['_model']['meshInstan'+'ces']['length'];_0x320f9b<_0x4dde5e;_0x320f9b++)this['_model']['meshInstan'+'ces'][_0x320f9b]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x5bef50){if(this['_color']['a']!==_0x5bef50&&(this['_color']['a']=_0x5bef50,this['_model'])){for(let _0x8cf7ce=0x2*-0x59f+0xc75+-0x137,_0x52b32f=this['_model']['meshInstan'+'ces']['length'];_0x8cf7ce<_0x52b32f;_0x8cf7ce++)this['_model']['meshInstan'+'ces'][_0x8cf7ce]['setParamet'+'er']('material_o'+'pacity',_0x5bef50);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x5bef50);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x1a2f73){const _0x42511d=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x1a2f73,this['_scaledLin'+'eHeight']=_0x1a2f73,_0x42511d!==_0x1a2f73&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0xe39348){const _0x5dc69e=this['_wrapLines'];this['_wrapLines']=_0xe39348,_0x5dc69e!==_0xe39348&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x38f5a1){const _0x6ec965=this['_spacing'];this['_spacing']=_0x38f5a1,_0x6ec965!==_0x38f5a1&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x5d1f15){const _0x3e8ad0=this['_fontSize'];this['_fontSize']=_0x5d1f15,this['_originalF'+'ontSize']=_0x5d1f15,_0x3e8ad0!==_0x5d1f15&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x3bdc7e){this['_fontAsset']['defaultAss'+'et']=_0x3bdc7e;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0x43dcca){let _0x5c4978;if(this['_font']&&(_0x5c4978=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0x43dcca,this['_fontMinY']=-0x1afc+0x5*0x63d+-0x435,this['_fontMaxY']=0x1c8b+-0x1297*0x2+0x8a3,!_0x43dcca)return;const _0x4b77c0=this['_font']['data'];for(const _0x61ada6 in _0x4b77c0['chars']){const _0x12b61b=_0x4b77c0['chars'][_0x61ada6];_0x12b61b['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x12b61b['bounds'][0x10a5*-0x1+0x21bc+-0x1*0x1116]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x12b61b['bounds'][0x367*-0x5+0xce*-0x26+-0x3*-0xfde]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0x43dcca['type']!==_0x5c4978){const _0x3464f6=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x3464f6);}for(let _0x3d6777=-0x15a8+0x3*-0x2fb+-0x1e99*-0x1,_0x3cd8ce=this['_font']['textures']['length'];_0x3d6777<_0x3cd8ce;_0x3d6777++)if(!this['_meshInfo'][_0x3d6777])this['_meshInfo'][_0x3d6777]=new vR();else{const _0x10faa4=this['_meshInfo'][_0x3d6777]['meshInstan'+'ce'];_0x10faa4&&(_0x10faa4['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x10faa4['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x10faa4['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x3d6777]['width']),this['_setTextur'+'eParams'](_0x10faa4,this['_font']['textures'][_0x3d6777]));}let _0x2c946f=!(0x1*-0x84b+-0x27d+0x1*0xac9);for(let _0x2dbf8f=this['_font']['textures']['length'];_0x2dbf8f<this['_meshInfo']['length'];_0x2dbf8f++)this['_meshInfo'][_0x2dbf8f]['meshInstan'+'ce']&&(_0x2c946f||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x2c946f=!(0x177c+-0x359+-0x407*0x5)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x2dbf8f]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x1d8e2a){_0x1d8e2a instanceof J?this['_alignment']['set'](_0x1d8e2a['x'],_0x1d8e2a['y']):this['_alignment']['set'](_0x1d8e2a[0x1f+0x1b65*-0x1+0x1*0x1b46],_0x1d8e2a[-0x2513*0x1+-0x14d4+0x39e8]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x3791fc){const _0x6a143b=this['_autoWidth'];if(this['_autoWidth']=_0x3791fc,_0x3791fc&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<-0x2260+-0x24de+0x473e+0.0001&&(this['_element']['width']=this['width']),_0x6a143b!==_0x3791fc){const _0x5b77f8=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x5b77f8!==this['_fontSize']&&(this['_fontSize']=_0x5b77f8,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x3a7e65){const _0x51b00f=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x3a7e65,_0x3a7e65&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<-0xa4e*0x2+-0x17f*0x1+0x161b+0.0001&&(this['_element']['height']=this['height']),_0x51b00f!==_0x3a7e65){const _0x5c2e64=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x5c2e64!==this['_fontSize']&&(this['_fontSize']=_0x5c2e64,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x3fc12d){this['_rtlReorde'+'r']!==_0x3fc12d&&(this['_rtlReorde'+'r']=_0x3fc12d,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x3d67ed){this['_unicodeCo'+'nverter']!==_0x3d67ed&&(this['_unicodeCo'+'nverter']=_0x3d67ed,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x4b3af2=!(-0x3f2*0x5+0x2275+-0x82*0x1d);for(let _0x49dc91=0xbd2+-0xe81+0xe5*0x3;_0x49dc91<this['_meshInfo']['length'];_0x49dc91++)this['_meshInfo'][_0x49dc91]['meshInstan'+'ce']&&(_0x4b3af2?this['_aabb']['add'](this['_meshInfo'][_0x49dc91]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x49dc91]['meshInstan'+'ce']['aabb']),_0x4b3af2=!(-0x1*-0x22c+-0x1d*0xd5+0x15f5)));this['_aabbDirty']=!(-0x1*0x10de+-0x14*-0xe9+-0x155);}return this['_aabb'];}set['outlineCol'+'or'](_0x111d1e){const _0x219043=_0x111d1e instanceof ie?_0x111d1e['r']:_0x111d1e[-0x352*0xa+0xa*0x3b7+-0x3f2],_0x4bc423=_0x111d1e instanceof ie?_0x111d1e['g']:_0x111d1e[-0x3e6+0x2568+0x2181*-0x1],_0x10f4e4=_0x111d1e instanceof ie?_0x111d1e['b']:_0x111d1e[-0x100d+-0xc4e+0x1c5d],_0x4587d2=_0x111d1e instanceof ie?_0x111d1e['a']:_0x111d1e[-0x1567+-0xb8+-0x2*-0xb11];if(this['_outlineCo'+'lor']===_0x111d1e&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x219043&&this['_outlineCo'+'lor']['g']===_0x4bc423&&this['_outlineCo'+'lor']['b']===_0x10f4e4&&this['_outlineCo'+'lor']['a']===_0x4587d2)&&(this['_outlineCo'+'lor']['r']=_0x219043,this['_outlineCo'+'lor']['g']=_0x4bc423,this['_outlineCo'+'lor']['b']=_0x10f4e4,this['_outlineCo'+'lor']['a']=_0x4587d2,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0x2*0x179+-0x214d+0x1e5b]=We['r'],this['_outlineCo'+'lorUniform'][0x2*-0x1091+0x27*0x2b+-0x2*-0xd4b]=We['g'],this['_outlineCo'+'lorUniform'][0x1e5c*-0x1+-0x210c+0x3f6a*0x1]=We['b'],this['_outlineCo'+'lorUniform'][0x1*0x1163+-0x1430+0x2d0]=We['a'];for(let _0x31e12a=0x9f*-0x34+-0x816+0x1431*0x2,_0x2dce80=this['_model']['meshInstan'+'ces']['length'];_0x31e12a<_0x2dce80;_0x31e12a++)this['_model']['meshInstan'+'ces'][_0x31e12a]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0xa07450){const _0x2c3bc0=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0xa07450,_0x2c3bc0!==_0xa07450&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x453a81=0x1def+0x1282+-0x3071,_0x4d7173=this['_model']['meshInstan'+'ces']['length'];_0x453a81<_0x4d7173;_0x453a81++)this['_model']['meshInstan'+'ces'][_0x453a81]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0xe4d662){const _0x40afa2=_0xe4d662 instanceof ie?_0xe4d662['r']:_0xe4d662[-0x4cf*-0x1+0x10fe+-0x15cd*0x1],_0x29ce00=_0xe4d662 instanceof ie?_0xe4d662['g']:_0xe4d662[0x266c+-0x213f+-0x52c],_0x277e89=_0xe4d662 instanceof ie?_0xe4d662['b']:_0xe4d662[-0xe7b+0xce5*-0x1+0x1b62],_0x50ff80=_0xe4d662 instanceof ie?_0xe4d662['a']:_0xe4d662[0x27a*-0x1+0x318+-0x9b];if(this['_shadowCol'+'or']===_0xe4d662&&w['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x40afa2&&this['_shadowCol'+'or']['g']===_0x29ce00&&this['_shadowCol'+'or']['b']===_0x277e89&&this['_shadowCol'+'or']['a']===_0x50ff80)&&(this['_shadowCol'+'or']['r']=_0x40afa2,this['_shadowCol'+'or']['g']=_0x29ce00,this['_shadowCol'+'or']['b']=_0x277e89,this['_shadowCol'+'or']['a']=_0x50ff80,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0x7*0x4d1+-0x10db+0x3292]=We['r'],this['_shadowCol'+'orUniform'][0xe9*0x13+-0x172d+0x89*0xb]=We['g'],this['_shadowCol'+'orUniform'][-0x45*0x36+0x156+0xd3a]=We['b'],this['_shadowCol'+'orUniform'][-0x22a6*-0x1+0x76d*-0x5+-0xb*-0x3a]=We['a'];for(let _0x378c94=0x1*-0x25c2+-0x46a+0x2a2c,_0x1d8eec=this['_model']['meshInstan'+'ces']['length'];_0x378c94<_0x1d8eec;_0x378c94++)this['_model']['meshInstan'+'ces'][_0x378c94]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0x21157c){const _0x9826cd=_0x21157c instanceof J?_0x21157c['x']:_0x21157c[0x3*0x97b+-0x2487+0x816],_0x2d1125=_0x21157c instanceof J?_0x21157c['y']:_0x21157c[0xd7*-0x1+0x1e1a+-0x5da*0x5];if(!(this['_shadowOff'+'set']['x']===_0x9826cd&&this['_shadowOff'+'set']['y']===_0x2d1125)&&(this['_shadowOff'+'set']['set'](_0x9826cd,_0x2d1125),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0xffb229=-0x717+0xf65+0x1*-0x84e,_0x5b3978=this['_model']['meshInstan'+'ces']['length'];_0xffb229<_0x5b3978;_0xffb229++){const _0x18ddc1=-this['_font']['data']['info']['maps'][_0xffb229]['width']/this['_font']['data']['info']['maps'][_0xffb229]['height'];this['_shadowOff'+'setUniform'][0x1cbe+0x2176+0x52f*-0xc]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x2aa*0xe+0x8*0x86+-0x297b]=_0x18ddc1*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0xffb229]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x52a7f3){this['_minFontSi'+'ze']!==_0x52a7f3&&(this['_minFontSi'+'ze']=_0x52a7f3,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x1ee29e){this['_maxFontSi'+'ze']!==_0x1ee29e&&(this['_maxFontSi'+'ze']=_0x1ee29e,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x281dc4){this['_autoFitWi'+'dth']!==_0x281dc4&&(this['_autoFitWi'+'dth']=_0x281dc4,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x3bacb0){this['_autoFitHe'+'ight']!==_0x3bacb0&&(this['_autoFitHe'+'ight']=_0x3bacb0,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x11b2a7){this['_maxLines']!==_0x11b2a7&&(_0x11b2a7===null&&this['_maxLines']===-(0x100*0x19+0x1*0x3d6+0x29f*-0xb)||(this['_maxLines']=_0x11b2a7===null?-(-0x1e15+0x1009*-0x1+0x2e1f):_0x11b2a7,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x2ce26a){if(_0x2ce26a=!!_0x2ce26a,this['_enableMar'+'kup']===_0x2ce26a)return;this['_enableMar'+'kup']=_0x2ce26a,this['font']&&this['_updateTex'+'t']();const _0x22ec1e=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x22ec1e);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x16d0d2){return this['_colorPale'+'tte']['slice'](_0x16d0d2*(-0x24bf*-0x1+0x199+-0x2655),_0x16d0d2*(0x664+0x1269+-0x26*0xa7)+(0x262d+-0x23c8+-0x7a*0x5));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x2c31da){return this['_outlinePa'+'lette']['slice'](_0x2c31da*(0xaa7+0x10*0x21+0x41*-0x32),_0x2c31da*(0xc13+0xd3d*-0x2+0x47*0x34)+(0x5a2+0xbff+0x2*-0x8ce));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x55fc39){return this['_shadowPal'+'ette']['slice'](_0x55fc39*(0x1*0x17d5+0x23b*0x1+-0x16*0x12f),_0x55fc39*(-0x872*0x2+0x519*0x3+0x19f)+(0x2346+0x1*-0xabc+-0x1884));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x21aaee){_0x21aaee=Math['max'](-0x327*0x4+-0x142f+0x20cb,Math['min'](_0x21aaee,this['_symbols']['length'])),_0x21aaee!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x21aaee,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x3d2e16){_0x3d2e16=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x3d2e16,this['_symbols']['length'])),_0x3d2e16!==this['_rangeEnd']&&(this['_rangeEnd']=_0x3d2e16,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Ef=new D(),Zg=new te(),Pi=new D(),MR=new D(),ws=new te(),bc=new te(),Ac=new te(),$a=new te();class hs extends we{constructor(_0x2c563a,_0xbde051){super(_0x2c563a,_0xbde051),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(-0x1e8+-0x2192+0x237b*0x1),this['_anchor']=new re(),this['_localAnch'+'or']=new re(),this['_pivot']=new J(),this['_width']=this['_calculate'+'dWidth']=-0x183f+0x1441+0x41e,this['_height']=this['_calculate'+'dHeight']=0x9*-0x2cc+-0x41b*0x3+0x1*0x259d,this['_margin']=new re(-0x434+0x8fb+0x4c7*-0x1,0x6e1*0x3+-0x11fa+-0x3*0xe3,-(-0x160b+0x1ebb+0x10*-0x89),-(-0x13ac+0x8a3*0x3+0x1*-0x61d)),this['_modelTran'+'sform']=new te(),this['_screenToW'+'orld']=new te(),this['_anchorTra'+'nsform']=new te(),this['_anchorDir'+'ty']=!(0x187+-0xfa0+0x191*0x9),this['_parentWor'+'ldTransfor'+'m']=new te(),this['_screenTra'+'nsform']=new te(),this['_screenCor'+'ners']=[new D(),new D(),new D(),new D()],this['_canvasCor'+'ners']=[new J(),new J(),new J(),new J()],this['_worldCorn'+'ers']=[new D(),new D(),new D(),new D()],this['_cornersDi'+'rty']=!(0x4*-0x3fa+0x1d2b+-0xd43),this['_canvasCor'+'nersDirty']=!(0x1*0x191b+0x16f1+-0x300c),this['_worldCorn'+'ersDirty']=!(0x1d*0x8d+0x13d1+0x9*-0x3fa),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=eh,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=-0x2f*0x35+0x952*0x1+-0x5*-0x15,this['_fitMode']=th,this['_useInput']=!(-0x178b+-0x2d8+0x3*0x8cc),this['_layers']=[Il],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(0x1e33+0x1cfc+-0x3b2e),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=-0x69b+-0x93b*0x2+0x17*0x117,this['_maskOffse'+'t']=-0x14b0+-0x1ffd+0x118f*0x3+0.5,this['_maskedBy']=null);}get['data'](){const _0x3ea7a6=this['system']['store'][this['entity']['getGuid']()];return _0x3ea7a6?_0x3ea7a6['data']:null;}set['enabled'](_0x34408e){const _0xf794ff=this['data'],_0x30c156=_0xf794ff['enabled'];_0xf794ff['enabled']=_0x34408e,this['fire']('set','enabled',_0x30c156,_0x34408e);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>-0xab0+0x2*0xd86+-0x105c+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>-0x3c2*0x8+-0x218*-0xa+0x920+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0x1f60ad){_0x1f60ad instanceof re?this['_anchor']['copy'](_0x1f60ad):this['_anchor']['set'](..._0x1f60ad),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(0x1267+-0x17ef+0x588),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x48d535){var _0xcca9c8,_0x5ed1b3;this['_batchGrou'+'pId']!==_0x48d535&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0xc6d+0x3*-0x5a7+-0x2*-0xeb1&&((_0xcca9c8=this['system']['app']['batcher'])==null||_0xcca9c8['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x48d535>=-0x17f6*0x1+0x681+0x1175*0x1&&((_0x5ed1b3=this['system']['app']['batcher'])==null||_0x5ed1b3['insert'](St['ELEMENT'],_0x48d535,this['entity'])),_0x48d535<0x24*-0x9+0x5da+-0x496&&this['_batchGrou'+'pId']>=0x67f*-0x1+-0x1fe0+-0x37d*-0xb&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x48d535);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x2edc11){this['_margin']['y']=_0x2edc11;const _0x2d819c=this['entity']['getLocalPo'+'sition'](),_0x5833b7=this['_absTop'],_0x5183e9=this['_localAnch'+'or']['y']+_0x2edc11;this['_setHeight'](_0x5833b7-_0x5183e9),_0x2d819c['y']=_0x2edc11+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x2d819c);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0x2d1e67){this['_setCalcul'+'atedWidth'](_0x2d1e67,!(0xa2a*0x1+-0x17e8+0x6df*0x2));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x43f009){this['_setCalcul'+'atedHeight'](_0x43f009,!(-0x1d3*0x9+0x17eb+-0x780));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x5a1f95=this['system']['app']['graphicsDe'+'vice'],_0x224095=this['screenCorn'+'ers'],_0x1f9dc3=_0x5a1f95['canvas']['clientWidt'+'h']/_0x5a1f95['width'],_0x5e8e8f=_0x5a1f95['canvas']['clientHeig'+'ht']/_0x5a1f95['height'];for(let _0x2395a7=-0x4a3*-0x3+0x66*0x61+-0x348f;_0x2395a7<0x39a*-0x3+0xc0d+-0x23*0x9;_0x2395a7++)this['_canvasCor'+'ners'][_0x2395a7]['set'](_0x224095[_0x2395a7]['x']*_0x1f9dc3,(_0x5a1f95['height']-_0x224095[_0x2395a7]['y'])*_0x5e8e8f);return this['_canvasCor'+'nersDirty']=!(-0xb2*0x31+0x7fb+0x1a18),this['_canvasCor'+'ners'];}set['drawOrder'](_0x28c1af){let _0x43f930=-0x1*0x679+-0x20e+0x25*0x3b;this['screen']&&(_0x43f930=this['screen']['screen']['priority']),_0x28c1af>-0x10cd527+-0x5de7c8+0x26abcee&&(w['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x28c1af=-0xbdef*0xb6+0x5a1045*0x3+0x78d71a),this['_drawOrder']=(_0x43f930<<0x5ea*-0x1+-0x1*0xe5d+0x145f)+_0x28c1af,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x3232eb){this['_height']=_0x3232eb,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x3232eb,!(-0x6d4+-0x91e*0x3+0x222e)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x197abd){if(this['_addedMode'+'ls']['length'])for(let _0x351204=0x1718+-0x55d*-0x1+-0x5*0x5b1;_0x351204<this['_layers']['length'];_0x351204++){const _0x4e1a4b=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x351204]);if(_0x4e1a4b){for(let _0x57445e=0xc0d+-0xc6+-0xb47;_0x57445e<this['_addedMode'+'ls']['length'];_0x57445e++)_0x4e1a4b['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x57445e]['meshInstan'+'ces']);}}if(this['_layers']=_0x197abd,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x2215b2=0x1*0x1c0e+0x1a42+0x1b28*-0x2;_0x2215b2<this['_layers']['length'];_0x2215b2++){const _0x32ceba=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x2215b2]);if(_0x32ceba){for(let _0x2f5c89=-0x16f2+0x33d+0x1*0x13b5;_0x2f5c89<this['_addedMode'+'ls']['length'];_0x2f5c89++)_0x32ceba['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x2f5c89]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x10cba2){this['_margin']['x']=_0x10cba2;const _0x5eb61d=this['entity']['getLocalPo'+'sition'](),_0x20bc8e=this['_absRight'],_0x3449ee=this['_localAnch'+'or']['x']+_0x10cba2;this['_setWidth'](_0x20bc8e-_0x3449ee),_0x5eb61d['x']=_0x10cba2+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x5eb61d);}get['left'](){return this['_margin']['x'];}set['margin'](_0x10e79d){this['_margin']['copy'](_0x10e79d),this['_calculate'+'Size'](!(-0x1ac+-0x622+0x7ce),!(0x1cd5*-0x1+0xc61*-0x1+0x2936)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x3a5f1d){const {pivot:_0x3efd05,margin:_0x5cf783}=this,_0x1536f8=_0x3efd05['x'],_0x55c1a0=_0x3efd05['y'];_0x3a5f1d instanceof J?_0x3efd05['copy'](_0x3a5f1d):_0x3efd05['set'](..._0x3a5f1d);const _0x23eb3a=_0x5cf783['x']+_0x5cf783['z'],_0x1c3bf3=_0x3efd05['x']-_0x1536f8;_0x5cf783['x']+=_0x23eb3a*_0x1c3bf3,_0x5cf783['z']-=_0x23eb3a*_0x1c3bf3;const _0x14619c=_0x5cf783['y']+_0x5cf783['w'],_0x2a7b01=_0x3efd05['y']-_0x55c1a0;_0x5cf783['y']+=_0x14619c*_0x2a7b01,_0x5cf783['w']-=_0x14619c*_0x2a7b01,this['_anchorDir'+'ty']=!(0x1d8*0x4+-0x126*0xc+-0x28*-0x29),this['_cornersDi'+'rty']=!(-0x2*-0x131+0x5*0x7bc+-0x290e),this['_worldCorn'+'ersDirty']=!(0x259d+-0x175a+-0xe43),this['_calculate'+'Size'](!(-0x1521+-0x35*0x4e+0x2548),!(0xe4d*0x1+-0x4e4*-0x5+0x9b*-0x40)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x3efd05);}get['pivot'](){return this['_pivot'];}set['right'](_0xafdb8e){this['_margin']['z']=_0xafdb8e;const _0x5220b9=this['entity']['getLocalPo'+'sition'](),_0x2d2f55=this['_absLeft'],_0x57e25f=this['_localAnch'+'or']['z']-_0xafdb8e;this['_setWidth'](_0x57e25f-_0x2d2f55),_0x5220b9['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0xafdb8e-this['_calculate'+'dWidth']*(0x23fc+0x92c+-0x2d27-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x5220b9);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x491098=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][-0x2*0x455+0x1*-0x103d+0x5*0x4fb];this['_screenCor'+'ners'][-0x90f*-0x1+-0xa50+0x6b*0x3]['set'](this['_absLeft'],this['_absBottom'],-0x12b*0x17+0xf1a+-0xbc3*-0x1),this['_screenCor'+'ners'][-0x20a0+-0x7*-0x263+-0x3fb*-0x4]['set'](this['_absRight'],this['_absBottom'],-0x1565+0x107f*0x1+0x4e6),this['_screenCor'+'ners'][0x1e0c+0x1f94+-0x3d9e]['set'](this['_absRight'],this['_absTop'],-0xc5*-0x2+-0x24*0x49+0x45d*0x2),this['_screenCor'+'ners'][-0x1bce+0xb57*-0x2+-0x1*-0x327f]['set'](this['_absLeft'],this['_absTop'],-0xc9*0x1d+0x219c+-0xad7);const _0x398b03=this['screen']['screen']['screenSpac'+'e'];for(let _0x1a554d=0x18ae+0x1*-0x2397+0xae9;_0x1a554d<0xb8b+0x260c+0x7*-0x715;_0x1a554d++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x1a554d],this['_screenCor'+'ners'][_0x1a554d]),_0x398b03&&this['_screenCor'+'ners'][_0x1a554d]['mulScalar'](this['screen']['screen']['scale']),_0x491098&&this['_screenCor'+'ners'][_0x1a554d]['add'](_0x491098);return this['_cornersDi'+'rty']=!(-0x1*0x221b+-0xcd4+-0x4*-0xbbc),this['_canvasCor'+'nersDirty']=!(-0xbec*0x1+-0x1af9+0x26e5),this['_worldCorn'+'ersDirty']=!(-0xef+0xfce+0x9*-0x1a7),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:-0x1*-0x46e+0x5*0x1d7+-0xda1;}get['textHeight'](){return this['_text']?this['_text']['height']:0x1*0x23a0+-0xee5+-0x14bb;}set['top'](_0x1811aa){this['_margin']['w']=_0x1811aa;const _0x5f1b4f=this['entity']['getLocalPo'+'sition'](),_0x576028=this['_absBottom'],_0x5037f0=this['_localAnch'+'or']['w']-_0x1811aa;this['_setHeight'](_0x5037f0-_0x576028),_0x5f1b4f['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x1811aa-this['_calculate'+'dHeight']*(-0xf8b+0x24ad+-0x1*0x1521-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x5f1b4f);}get['top'](){return this['_margin']['w'];}set['type'](_0x2bc9c5){_0x2bc9c5!==this['_type']&&(this['_type']=_0x2bc9c5,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0x2bc9c5===Cu?this['_image']=new cR(this):_0x2bc9c5===jv&&(this['_text']=new PR(this)));}get['type'](){return this['_type'];}set['useInput'](_0x302e4f){this['_useInput']!==_0x302e4f&&(this['_useInput']=_0x302e4f,this['system']['app']['elementInp'+'ut']?_0x302e4f?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(-0x22ac+-0x1563+0x380f)&&w['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0x302e4f));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0x3ecd90){this['_fitMode']=_0x3ecd90,this['_calculate'+'Size'](!(0x1349+-0x2d6+-0x1073),!(0x1ebb+-0x1893+-0x628)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x5b40c7){this['_width']=_0x5b40c7,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x5b40c7,!(-0x93*0x15+0x2273+0xb32*-0x2)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x12c22c=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){ws['copy'](this['screen']['screen']['_screenMat'+'rix']),ws['data'][0x26eb+-0x1674+-0x16*0xbf]=-ws['data'][-0x1056+-0x1*0x251c+0x391*0xf],ws['mul2'](this['screen']['getWorldTr'+'ansform'](),ws);for(let _0xb1866f=-0xe1a*0x1+0xc7a+0xd*0x20;_0xb1866f<-0xb*-0x329+0x8ec+-0x2bab;_0xb1866f++)ws['transformP'+'oint'](_0x12c22c[_0xb1866f],this['_worldCorn'+'ers'][_0xb1866f]);}}else{const _0x42b945=this['entity']['getLocalPo'+'sition']();ws['setTransla'+'te'](-_0x42b945['x'],-_0x42b945['y'],-_0x42b945['z']),bc['setTRS'](D['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0x42b945['x'],_0x42b945['y'],_0x42b945['z']);const _0x13c4af=this['entity']['parent']?this['entity']['parent']:this['entity'];$a['copy'](_0x13c4af['getWorldTr'+'ansform']()),$a['mul'](Ac)['mul'](bc)['mul'](ws),Pi['set'](_0x42b945['x']-this['pivot']['x']*this['calculated'+'Width'],_0x42b945['y']-this['pivot']['y']*this['calculated'+'Height'],_0x42b945['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0x1615+-0x417*-0x8+-0x36cd]),Pi['set'](_0x42b945['x']+(0x78a+0x1b9d*0x1+-0x2326-this['pivot']['x'])*this['calculated'+'Width'],_0x42b945['y']-this['pivot']['y']*this['calculated'+'Height'],_0x42b945['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0x368*-0x3+0xb*0x355+-0xc7*0x22]),Pi['set'](_0x42b945['x']+(0xf1d+-0x359+-0xbc3-this['pivot']['x'])*this['calculated'+'Width'],_0x42b945['y']+(0x13*-0x71+-0x132e+-0x1*-0x1b92-this['pivot']['y'])*this['calculated'+'Height'],_0x42b945['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0xf4+0x26ff+-0x2609]),Pi['set'](_0x42b945['x']-this['pivot']['x']*this['calculated'+'Width'],_0x42b945['y']+(0x1*0x21f8+0xb3e+-0x2d35-this['pivot']['y'])*this['calculated'+'Height'],_0x42b945['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0x3e*-0x2c+0xe4e*0x2+-0x2741]);}return this['_worldCorn'+'ersDirty']=!(-0x6e5+0x1076+-0x990),this['_worldCorn'+'ers'];}set['fontSize'](_0x160198){this['_setValue']('fontSize',_0x160198);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x10cc51){this['_setValue']('minFontSiz'+'e',_0x10cc51);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x5c0da0){this['_setValue']('maxFontSiz'+'e',_0x5c0da0);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x2d6ed8){this['_setValue']('maxLines',_0x2d6ed8);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0xd59afc){this['_setValue']('autoFitWid'+'th',_0xd59afc);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x129eaa){this['_setValue']('autoFitHei'+'ght',_0x129eaa);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x307cdc){this['_setValue']('color',_0x307cdc);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x3658a8){this['_setValue']('font',_0x3658a8);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x2d0087){this['_setValue']('fontAsset',_0x2d0087);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x2bf445){this['_setValue']('spacing',_0x2bf445);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x3453e0){this['_setValue']('lineHeight',_0x3453e0);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x4ac6a4){this['_setValue']('wrapLines',_0x4ac6a4);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x2fc341){this['_setValue']('lines',_0x2fc341);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x196951){this['_setValue']('alignment',_0x196951);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x220717){this['_setValue']('autoWidth',_0x220717);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x338568){this['_setValue']('autoHeight',_0x338568);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0x36c60e){this['_setValue']('rtlReorder',_0x36c60e);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x16810d){this['_setValue']('unicodeCon'+'verter',_0x16810d);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x514441){this['_setValue']('text',_0x514441);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x18a0dd){this['_setValue']('key',_0x18a0dd);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0x2fee70){this['_setValue']('texture',_0x2fee70);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x312830){this['_setValue']('textureAss'+'et',_0x312830);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x5ce598){this['_setValue']('material',_0x5ce598);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x551fb0){this['_setValue']('materialAs'+'set',_0x551fb0);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x28e9ea){this['_setValue']('sprite',_0x28e9ea);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x2610c3){this['_setValue']('spriteAsse'+'t',_0x2610c3);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x1bb3bc){this['_setValue']('spriteFram'+'e',_0x1bb3bc);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0x5e5ff0){this['_setValue']('pixelsPerU'+'nit',_0x5e5ff0);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0xad1379){this['_setValue']('opacity',_0xad1379);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x1d12a5){this['_setValue']('rect',_0x1d12a5);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x318d38){this['_setValue']('mask',_0x318d38);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x483dcf){this['_setValue']('outlineCol'+'or',_0x483dcf);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x2ceb24){this['_setValue']('outlineThi'+'ckness',_0x2ceb24);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x2e18e9){this['_setValue']('shadowColo'+'r',_0x2e18e9);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x44201b){this['_setValue']('shadowOffs'+'et',_0x44201b);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0xa1f9f3){this['_setValue']('enableMark'+'up',_0xa1f9f3);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x3f1879){this['_setValue']('rangeStart',_0x3f1879);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x4dc5c1){this['_setValue']('rangeEnd',_0x4dc5c1);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x3eb503,_0x1edba8){this['_text']?(this['_text'][_0x3eb503]!==_0x1edba8&&this['_dirtyBatc'+'h'](),this['_text'][_0x3eb503]=_0x1edba8):this['_image']&&(this['_image'][_0x3eb503]!==_0x1edba8&&this['_dirtyBatc'+'h'](),this['_image'][_0x3eb503]=_0x1edba8);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=lt['prototype']['_sync'],this['entity']['setPositio'+'n']=lt['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=lt['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0x4f4fff,_0x3ee773,_0xe1c2ba){if(!this['element']['screen']){lt['prototype']['setPositio'+'n']['call'](this,_0x4f4fff,_0x3ee773,_0xe1c2ba);return;}_0x4f4fff instanceof D?Ef['copy'](_0x4f4fff):Ef['set'](_0x4f4fff,_0x3ee773,_0xe1c2ba),this['getWorldTr'+'ansform'](),Zg['copy'](this['element']['_screenToW'+'orld'])['invert'](),Zg['transformP'+'oint'](Ef,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x4d24a1,_0x46352b,_0x3132bc){_0x4d24a1 instanceof D?this['localPosit'+'ion']['copy'](_0x4d24a1):this['localPosit'+'ion']['set'](_0x4d24a1,_0x46352b,_0x3132bc);const _0x5b5b8f=this['element'],_0x3bc0b6=this['localPosit'+'ion'],_0x137f44=_0x5b5b8f['_pivot'];_0x5b5b8f['_margin']['x']=_0x3bc0b6['x']-_0x5b5b8f['_calculate'+'dWidth']*_0x137f44['x'],_0x5b5b8f['_margin']['z']=_0x5b5b8f['_localAnch'+'or']['z']-_0x5b5b8f['_localAnch'+'or']['x']-_0x5b5b8f['_calculate'+'dWidth']-_0x5b5b8f['_margin']['x'],_0x5b5b8f['_margin']['y']=_0x3bc0b6['y']-_0x5b5b8f['_calculate'+'dHeight']*_0x137f44['y'],_0x5b5b8f['_margin']['w']=_0x5b5b8f['_localAnch'+'or']['w']-_0x5b5b8f['_localAnch'+'or']['y']-_0x5b5b8f['_calculate'+'dHeight']-_0x5b5b8f['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x1c6cf0=this['element'],_0x18a3c1=_0x1c6cf0['screen'];if(_0x18a3c1){if(_0x1c6cf0['_anchorDir'+'ty']){let _0x589f18=-0x2625+0x303+0x1*0x2322,_0x2ea27e=0xe84+0xf3f+0x1*-0x1dc3,_0x5977f7=-0x1*-0x13ed+0x3b*0x97+-0x36ba,_0x16cb28=0x14a4+0x1d86+-0x3229;if(this['_parent']&&this['_parent']['element'])_0x589f18=this['_parent']['element']['calculated'+'Width'],_0x2ea27e=this['_parent']['element']['calculated'+'Height'],_0x5977f7=this['_parent']['element']['pivot']['x'],_0x16cb28=this['_parent']['element']['pivot']['y'];else{const _0xbb975e=_0x18a3c1['screen']['resolution'];_0x589f18=_0xbb975e['x']/_0x18a3c1['screen']['scale'],_0x2ea27e=_0xbb975e['y']/_0x18a3c1['screen']['scale'];}_0x1c6cf0['_anchorTra'+'nsform']['setTransla'+'te'](_0x589f18*(_0x1c6cf0['anchor']['x']-_0x5977f7),-(_0x2ea27e*(_0x16cb28-_0x1c6cf0['anchor']['y'])),0x2*0xca+0x4*0x2b7+-0xc70),_0x1c6cf0['_anchorDir'+'ty']=!(0x66*0x5e+0x2273+-0x47e6),_0x1c6cf0['_calculate'+'LocalAncho'+'rs']();}_0x1c6cf0['_sizeDirty']&&_0x1c6cf0['_calculate'+'Size'](!(0x1474+-0x621*0x4+0x411),!(0x36*0x6d+0x6e6*-0x4+0x49b));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0xbd011c=this['localPosit'+'ion'],_0x2b0f86=_0x1c6cf0['_pivot'];_0x1c6cf0['_margin']['x']=_0xbd011c['x']-_0x1c6cf0['_calculate'+'dWidth']*_0x2b0f86['x'],_0x1c6cf0['_margin']['z']=_0x1c6cf0['_localAnch'+'or']['z']-_0x1c6cf0['_localAnch'+'or']['x']-_0x1c6cf0['_calculate'+'dWidth']-_0x1c6cf0['_margin']['x'],_0x1c6cf0['_margin']['y']=_0xbd011c['y']-_0x1c6cf0['_calculate'+'dHeight']*_0x2b0f86['y'],_0x1c6cf0['_margin']['w']=_0x1c6cf0['_localAnch'+'or']['w']-_0x1c6cf0['_localAnch'+'or']['y']-_0x1c6cf0['_calculate'+'dHeight']-_0x1c6cf0['_margin']['y'],this['_dirtyLoca'+'l']=!(-0x54f*-0x6+0x13c*-0xd+-0xfcd);}if(!_0x18a3c1){this['_dirtyWorl'+'d']&&(_0x1c6cf0['_cornersDi'+'rty']=!(0xe*0x1a1+-0x1*-0x737+0x1d*-0x109),_0x1c6cf0['_canvasCor'+'nersDirty']=!(-0x3*0x50f+-0x17e+0x11*0xfb),_0x1c6cf0['_worldCorn'+'ersDirty']=!(-0x2eb*0x9+-0x20e1+0x3b24)),lt['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x1c6cf0['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x1c6cf0['_anchorTra'+'nsform']):_0x1c6cf0['_screenToW'+'orld']['copy'](_0x1c6cf0['_anchorTra'+'nsform']),_0x1c6cf0['_modelTran'+'sform']['mul2'](_0x1c6cf0['_screenToW'+'orld'],this['localTrans'+'form']),_0x18a3c1){_0x1c6cf0['_screenToW'+'orld']['mul2'](_0x18a3c1['screen']['_screenMat'+'rix'],_0x1c6cf0['_screenToW'+'orld']),_0x18a3c1['screen']['screenSpac'+'e']||_0x1c6cf0['_screenToW'+'orld']['mul2'](_0x18a3c1['worldTrans'+'form'],_0x1c6cf0['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x1c6cf0['_screenToW'+'orld'],this['localTrans'+'form']);const _0x327863=_0x1c6cf0['_parentWor'+'ldTransfor'+'m'];_0x327863['setIdentit'+'y']();const _0x2b1b6b=this['_parent'];_0x2b1b6b&&_0x2b1b6b['element']&&_0x2b1b6b!==_0x18a3c1&&(ws['setTRS'](D['ZERO'],_0x2b1b6b['getLocalRo'+'tation'](),_0x2b1b6b['getLocalSc'+'ale']()),_0x327863['mul2'](_0x2b1b6b['element']['_parentWor'+'ldTransfor'+'m'],ws));const _0x523dda=Pi;_0x523dda['set'](-0x4*0x48b+0x1*0x1a31+-0x805,0x50*0x34+-0xcb*-0x17+0x227d*-0x1,this['localPosit'+'ion']['z']);const _0x17a044=MR;_0x17a044['set'](_0x1c6cf0['_absLeft']+_0x1c6cf0['_pivot']['x']*_0x1c6cf0['calculated'+'Width'],_0x1c6cf0['_absBottom']+_0x1c6cf0['_pivot']['y']*_0x1c6cf0['calculated'+'Height'],0x1186+0x3a5*0x1+-0x152b),ws['setTransla'+'te'](-_0x17a044['x'],-_0x17a044['y'],-_0x17a044['z']),bc['setTRS'](_0x523dda,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0x17a044['x'],_0x17a044['y'],_0x17a044['z']),_0x1c6cf0['_screenTra'+'nsform']['mul2'](_0x1c6cf0['_parentWor'+'ldTransfor'+'m'],Ac)['mul'](bc)['mul'](ws),_0x1c6cf0['_cornersDi'+'rty']=!(-0x25*-0x8+0x4d5+-0x5fd),_0x1c6cf0['_canvasCor'+'nersDirty']=!(0x17d0+0x1*0x22ee+-0x3abe),_0x1c6cf0['_worldCorn'+'ersDirty']=!(-0xc2*0x8+-0x1711+0x1d21);}else this['worldTrans'+'form']['copy'](_0x1c6cf0['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(0x113a+-0x215c*0x1+0x1023);}}['_onInsert'](_0x921fe5){const _0x48ad07=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x48ad07['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x445999=this['entity'];for(;_0x445999;){const _0x4e7135=_0x445999['parent'];if((_0x4e7135===null||_0x4e7135['screen'])&&_0x445999['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),w['trace'](Vs,'register\x20p'+'rerender'));const _0x557c36=this['system']['_prerender']['indexOf'](this['entity']);_0x557c36>=-0x9*0x1aa+-0x3f5*-0x5+-0x1*0x4cf&&this['system']['_prerender']['splice'](_0x557c36,0x53*-0x3a+0xe5+0x11ea),this['system']['_prerender']['indexOf'](_0x445999)<0x1*0x8bd+-0x36+-0x887&&this['system']['_prerender']['push'](_0x445999),w['trace'](Vs,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x445999['name']);}_0x445999=_0x4e7135;}}['_onPrerend'+'er'](){for(let _0xb46dd2=-0xcc3+-0x1ec1+0x2b84;_0xb46dd2<this['system']['_prerender']['length'];_0xb46dd2++){const _0x55265f=this['system']['_prerender'][_0xb46dd2];w['trace'](Vs,'prerender\x20'+'from:\x20'+_0x55265f['name']),_0x55265f['element']&&_0x55265f['element']['syncMask'](0x1263+-0xde*-0x2+-0x141e);}this['system']['_prerender']['length']=0xa8c+0x1*-0xe60+0x2*0x1ea;}['_bindScree'+'n'](_0xebab6f){_0xebab6f['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x37cdbf){_0x37cdbf['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x349fd5){this['screen']&&this['screen']!==_0x349fd5&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x539c09=this['screen'];this['screen']=_0x349fd5,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x539c09),this['_anchorDir'+'ty']=!(0x1de0+-0x1dea*-0x1+-0x3bca);const _0x371f94=this['entity']['children'];for(let _0x2eee9c=-0xb1e+0x19b*0x17+-0x19cf,_0x4f61b1=_0x371f94['length'];_0x2eee9c<_0x4f61b1;_0x2eee9c++)_0x371f94[_0x2eee9c]['element']&&_0x371f94[_0x2eee9c]['element']['_updateScr'+'een'](_0x349fd5);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x47a34c){const _0x3cbb20=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x3cbb20['mask'],_0x47a34c);}['_setMasked'+'By'](_0x3f60cb){const _0x379c65=this['_image']||this['_text'];if(_0x3f60cb){const _0x5353b2=_0x3f60cb['element']['_image']['_maskRef'];w['trace'](Vs,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x5353b2),_0x379c65==null||_0x379c65['_setStenci'+'l'](new pi({'ref':_0x5353b2,'func':dh})),this['_maskedBy']=_0x3f60cb;}else w['trace'](Vs,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x379c65==null||_0x379c65['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x25f959,_0x10a203){var _0x2ff034,_0x3c2e29;if(_0x25f959){if(this['_setMasked'+'By'](_0x25f959),this['mask']){const _0x335ea3=_0x25f959['element']['_image']['_maskRef'],_0x558c73=new pi({'ref':_0x335ea3,'func':dh,'zpass':Ux});this['_image']['_setStenci'+'l'](_0x558c73),this['_image']['_maskRef']=_0x10a203,_0x10a203++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x558c73['ref']+(0x20*-0xd4+-0x1*-0x11fb+0x443*0x2))),w['trace'](Vs,'depth++\x20to'+':\x20',_0x10a203),_0x25f959=this['entity'];}const _0x231b22=this['entity']['children'];for(let _0x2efbfb=-0x700*-0x2+-0x9c+0xd64*-0x1,_0x3fbc0d=_0x231b22['length'];_0x2efbfb<_0x3fbc0d;_0x2efbfb++)(_0x2ff034=_0x231b22[_0x2efbfb]['element'])==null||_0x2ff034['_updateMas'+'k'](_0x25f959,_0x10a203);this['mask']&&_0x10a203--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x4fcde6=new pi({'ref':_0x10a203,'func':Wi,'zpass':kx});this['_image']['_setStenci'+'l'](_0x4fcde6),this['_image']['_maskRef']=_0x10a203,_0x10a203++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x4fcde6['ref']),w['trace'](Vs,'depth++\x20to'+':\x20',_0x10a203),_0x25f959=this['entity'];}const _0x40f6ea=this['entity']['children'];for(let _0x28a0d3=0x43*-0x35+0x2b*-0xc5+-0x2ef6*-0x1,_0x5d1ae5=_0x40f6ea['length'];_0x28a0d3<_0x5d1ae5;_0x28a0d3++)(_0x3c2e29=_0x40f6ea[_0x28a0d3]['element'])==null||_0x3c2e29['_updateMas'+'k'](_0x25f959,_0x10a203);this['mask']&&_0x10a203--;}}['_parseUpTo'+'Screen'](){const _0x277f85={'screen':null,'mask':null};let _0x198c1=this['entity']['_parent'];for(;_0x198c1&&!_0x198c1['screen'];)_0x198c1['element']&&_0x198c1['element']['mask']&&(_0x277f85['mask']||(_0x277f85['mask']=_0x198c1)),_0x198c1=_0x198c1['parent'];return _0x198c1&&_0x198c1['screen']&&(_0x277f85['screen']=_0x198c1),_0x277f85;}['_onScreenR'+'esize'](_0x5ee098){this['_anchorDir'+'ty']=!(0x1d3f+-0x3a+0x17*-0x143),this['_cornersDi'+'rty']=!(-0x1*0x2146+-0x7af*-0x1+0x1*0x1997),this['_worldCorn'+'ersDirty']=!(-0x18*-0xff+-0x1b*0x51+-0x1*0xf5d),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x5ee098);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x16b161=-0x1de7+-0x23c5*-0x1+0xfb*-0x2,_0x566345=-0x4*0x481+-0x4*0x35f+0x2368;const _0x1f171b=this['entity']['_parent'];if(_0x1f171b&&_0x1f171b['element'])_0x16b161=_0x1f171b['element']['calculated'+'Width'],_0x566345=_0x1f171b['element']['calculated'+'Height'];else{if(this['screen']){const _0x46adb1=this['screen']['screen']['resolution'],_0x2aa9eb=this['screen']['screen']['scale'];_0x16b161=_0x46adb1['x']/_0x2aa9eb,_0x566345=_0x46adb1['y']/_0x2aa9eb;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x16b161,this['_anchor']['y']*_0x566345,this['_anchor']['z']*_0x16b161,this['_anchor']['w']*_0x566345);}['getOffsetP'+'osition'](_0x4a680a,_0x4eb472){const _0xaada80=this['entity']['getLocalPo'+'sition']()['clone']();return _0xaada80['x']+=_0x4a680a,_0xaada80['y']+=_0x4eb472,this['_screenToW'+'orld']['transformP'+'oint'](_0xaada80,_0xaada80),_0xaada80;}['onLayersCh'+'anged'](_0x5cfd3b,_0xf9cfb2){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0x5cfd3b['off']('add',this['onLayerAdd'+'ed'],this),_0x5cfd3b['off']('remove',this['onLayerRem'+'oved'],this),_0xf9cfb2['on']('add',this['onLayerAdd'+'ed'],this),_0xf9cfb2['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x1f3dda){this['layers']['indexOf'](_0x1f3dda['id'])<-0x417*-0x5+-0x2641+0x11ce||(this['_image']?_0x1f3dda['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x1f3dda['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x5903c8){this['layers']['indexOf'](_0x5903c8['id'])<-0x1*0xf77+-0x2b*-0x3d+0x4*0x14e||(this['_image']?_0x5903c8['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x5903c8['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x3f5c5c;const _0x1b21d6=this['system']['app']['scene'],_0x2ac22d=_0x1b21d6['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x1b21d6['on']('set:layers',this['onLayersCh'+'anged'],this),_0x2ac22d&&(this['_evtLayerA'+'dded']=_0x2ac22d['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x2ac22d['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=-0x9b9+0x3a3*0x1+0x616&&((_0x3f5c5c=this['system']['app']['batcher'])==null||_0x3f5c5c['insert'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x39cf7d,_0x23b8e2,_0x21554d,_0x32fd29;const _0x255eed=this['system']['app']['scene']['layers'];(_0x39cf7d=this['_evtLayers'+'Changed'])==null||_0x39cf7d['off'](),this['_evtLayers'+'Changed']=null,_0x255eed&&((_0x23b8e2=this['_evtLayerA'+'dded'])==null||_0x23b8e2['off'](),this['_evtLayerA'+'dded']=null,(_0x21554d=this['_evtLayerR'+'emoved'])==null||_0x21554d['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=0x1*-0xc53+0x26f9+-0x1aa6*0x1&&((_0x32fd29=this['system']['app']['batcher'])==null||_0x32fd29['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x5a6e7c,_0x4c2356){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x1d90c2=this['_absRight']-this['_absLeft'],_0x5cd179=this['_absTop']-this['_absBottom'];_0x5a6e7c?this['_setWidth'](_0x1d90c2):this['_setCalcul'+'atedWidth'](_0x1d90c2,!(0x25b7+0x1f65*-0x1+-0x651)),_0x4c2356?this['_setHeight'](_0x5cd179):this['_setCalcul'+'atedHeight'](_0x5cd179,!(0x1*0x20f5+-0x89c*-0x4+0x21b2*-0x2));const _0x233cdd=this['entity']['getLocalPo'+'sition']();_0x233cdd['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x233cdd['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x233cdd),this['_sizeDirty']=!(0x22b4+0x8fc+0x1*-0x2baf);}['_setWidth'](_0x1e45b1){this['_width']=_0x1e45b1,this['_setCalcul'+'atedWidth'](_0x1e45b1,!(-0x206f+-0x53+0x1*0x20c3)),this['fire']('set:width',this['_width']);}['_setHeight'](_0x3b4bad){this['_height']=_0x3b4bad,this['_setCalcul'+'atedHeight'](_0x3b4bad,!(0x1c85+-0x25a+-0x1a2a)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x18d05a,_0x5a2975){if(!(Math['abs'](_0x18d05a-this['_calculate'+'dWidth'])<=-0x1997+0x1ef9+-0x562+0.0001)){if(this['_calculate'+'dWidth']=_0x18d05a,this['entity']['_dirtifyLo'+'cal'](),_0x5a2975){const _0x47423c=this['entity']['getLocalPo'+'sition'](),_0x45465c=this['_pivot'];this['_margin']['x']=_0x47423c['x']-this['_calculate'+'dWidth']*_0x45465c['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x1b98b4,_0x41c331){if(!(Math['abs'](_0x1b98b4-this['_calculate'+'dHeight'])<=0xb*0x122+0x9ec+-0x1662+0.0001)){if(this['_calculate'+'dHeight']=_0x1b98b4,this['entity']['_dirtifyLo'+'cal'](),_0x41c331){const _0x26c1b9=this['entity']['getLocalPo'+'sition'](),_0x3d88e8=this['_pivot'];this['_margin']['y']=_0x26c1b9['y']-this['_calculate'+'dHeight']*_0x3d88e8['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x2ef464=this['entity']['_children'];for(let _0x14aaee=-0x456+0x1*0x7cd+-0x377,_0x387634=_0x2ef464['length'];_0x14aaee<_0x387634;_0x14aaee++)_0x2ef464[_0x14aaee]['element']&&(_0x2ef464[_0x14aaee]['element']['_anchorDir'+'ty']=!(0x1ef4+0x1d65+-0x1*0x3c59),_0x2ef464[_0x14aaee]['element']['_sizeDirty']=!(-0x89*0x7+-0x2c+0x3eb));}['addModelTo'+'Layers'](_0x39175c){this['_addedMode'+'ls']['push'](_0x39175c);for(let _0x2d053c=-0x3d7+0x14d9+0xe*-0x137;_0x2d053c<this['layers']['length'];_0x2d053c++){const _0x385b6d=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x2d053c]);_0x385b6d&&_0x385b6d['addMeshIns'+'tances'](_0x39175c['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x557c44){const _0x2b44db=this['_addedMode'+'ls']['indexOf'](_0x557c44);_0x2b44db>=0x305*0x5+0x170+-0x11*0xf9&&this['_addedMode'+'ls']['splice'](_0x2b44db,-0x9f7+-0x240b+0x2e03);for(let _0x3554b0=-0x4a2+0x2327+-0x1e85;_0x3554b0<this['layers']['length'];_0x3554b0++){const _0x2c3b53=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x3554b0]);_0x2c3b53&&_0x2c3b53['removeMesh'+'Instances'](_0x557c44['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x5352c0=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x5352c0&&(this['_maskOffse'+'t']=0x1ef1+0xaf2+-0x29e3+0.5,this['_offsetRea'+'dAt']=_0x5352c0);const _0x4a365a=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=0x1*-0x29+-0x121b+0x1244+0.001,_0x4a365a;}['isVisibleF'+'orCamera'](_0x3c7360){let _0x22d85a,_0x41f003,_0x264e37,_0x574791;if(this['maskedBy']){const _0x2cea51=this['maskedBy']['element']['screenCorn'+'ers'];_0x22d85a=Math['min'](Math['min'](_0x2cea51[0x1*0xb3e+0x1*-0x10c9+0x58b]['x'],_0x2cea51[0x94c+0x4ae*0x6+0x3*-0xc75]['x']),Math['min'](_0x2cea51[0x1d01+0x18e+-0x3*0xa2f]['x'],_0x2cea51[0xdbf+-0x1a08+0x2*0x626]['x'])),_0x41f003=Math['max'](Math['max'](_0x2cea51[-0x1fd+0x3e*-0x36+0xf11]['x'],_0x2cea51[-0x409*0x8+0x7d2+-0x1877*-0x1]['x']),Math['max'](_0x2cea51[0x3a5*-0x3+-0x4a4+0x1*0xf95]['x'],_0x2cea51[-0x8a*-0x2f+-0x593*0x7+0xdb2]['x'])),_0x574791=Math['min'](Math['min'](_0x2cea51[-0x1c3a+-0x1fbb+0x1*0x3bf5]['y'],_0x2cea51[0x1e7a+0x54*-0x31+-0x43*0x37]['y']),Math['min'](_0x2cea51[-0x1624*0x1+-0x14*-0x1af+-0x5c3*0x2]['y'],_0x2cea51[0x4bc+0x2377+0x1*-0x2830]['y'])),_0x264e37=Math['max'](Math['max'](_0x2cea51[-0x6*0x1ea+-0x39*0x56+-0x1ea2*-0x1]['y'],_0x2cea51[-0x1*0x1c38+0x1*-0x71+0x1caa]['y']),Math['max'](_0x2cea51[-0x6f*0x40+0x19*-0xb+0x1*0x1cd5]['y'],_0x2cea51[-0x11a4+-0x679*0x3+0x2512]['y']));}else{const _0x4a5b9c=this['system']['app']['graphicsDe'+'vice']['width'],_0x1e3321=this['system']['app']['graphicsDe'+'vice']['height'],_0x4a6916=_0x3c7360['_rect']['z']*_0x4a5b9c,_0x1899fd=_0x3c7360['_rect']['w']*_0x1e3321;_0x22d85a=_0x3c7360['_rect']['x']*_0x4a5b9c,_0x41f003=_0x22d85a+_0x4a6916,_0x264e37=(-0x1df2+-0x1*0x1b5d+-0x830*-0x7-_0x3c7360['_rect']['y'])*_0x1e3321,_0x574791=_0x264e37-_0x1899fd;}const _0x2e70f4=this['screenCorn'+'ers'],_0x198f6f=Math['min'](Math['min'](_0x2e70f4[-0x5*-0x3a6+-0x3*-0x23d+0x1*-0x18f5]['x'],_0x2e70f4[-0x15ee*0x1+0x19*-0xb2+0x2751]['x']),Math['min'](_0x2e70f4[0xb*-0xd7+0xc89+-0x34a*0x1]['x'],_0x2e70f4[-0x7cb*0x1+-0x28*-0xd6+0x22*-0xc1]['x'])),_0x121679=Math['max'](Math['max'](_0x2e70f4[-0x2706+0x7*0x2ad+0x144b]['x'],_0x2e70f4[-0x195e+-0x26c+0x1bcb]['x']),Math['max'](_0x2e70f4[0x141*-0x2+0x1*0x21d3+-0xe5*0x23]['x'],_0x2e70f4[-0x20e3*-0x1+-0xc4*-0x5+-0x24b4]['x'])),_0x50cb04=Math['min'](Math['min'](_0x2e70f4[-0x1*0x1479+0x1*0x2281+0x1c1*-0x8]['y'],_0x2e70f4[-0xcc1+-0x31*0x35+-0x16e7*-0x1]['y']),Math['min'](_0x2e70f4[-0x363*-0x7+-0xba5+-0xc0e]['y'],_0x2e70f4[-0xd69+-0x2029+-0x2d95*-0x1]['y'])),_0x227efc=Math['max'](Math['max'](_0x2e70f4[0x1b3d+-0x20b*-0xc+-0x1*0x33c1]['y'],_0x2e70f4[0x1e85+0x1*-0x1873+0x611*-0x1]['y']),Math['max'](_0x2e70f4[0x2d*0x1b+-0x2dc+0xd*-0x25]['y'],_0x2e70f4[-0x1831+0x182b+0x9]['y']));return!(_0x121679<_0x22d85a||_0x198f6f>_0x41f003||_0x50cb04>_0x264e37||_0x227efc<_0x574791);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(-0x1a4f+-0x1812+0x3262);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(0x35f*-0x1+0x358*-0xa+0x24d0);}['_dirtyBatc'+'h'](){var _0x50b9e7;this['batchGroup'+'Id']!==-(0x5*0x323+0x24cb*-0x1+0x151d)&&((_0x50b9e7=this['system']['app']['batcher'])==null||_0x50b9e7['markGroupD'+'irty'](this['batchGroup'+'Id']));}}h(hs,'EVENT_MOUS'+'EDOWN','mousedown'),h(hs,'EVENT_MOUS'+'EUP','mouseup'),h(hs,'EVENT_MOUS'+'EENTER','mouseenter'),h(hs,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(hs,'EVENT_MOUS'+'EMOVE','mousemove'),h(hs,'EVENT_MOUS'+'EWHEEL','mousewheel'),h(hs,'EVENT_CLIC'+'K','click'),h(hs,'EVENT_TOUC'+'HSTART','touchstart'),h(hs,'EVENT_TOUC'+'HEND','touchend'),h(hs,'EVENT_TOUC'+'HMOVE','touchmove'),h(hs,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class DR{constructor(){this['enabled']=!(0x1050+-0x1ce6+0xb3*0x12);}}const IR=['enabled'];class LR extends ct{constructor(_0xe2a594){super(_0xe2a594),this['id']='element',this['ComponentT'+'ype']=hs,this['DataType']=DR,this['schema']=IR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new _e(_0xe2a594['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'element-sy'+'stem'});const _0x645a73=this['_defaultTe'+'xture']['lock'](),_0x41421e=new Uint8Array(-0x1*0xb50+0x1a6a+-0xf16);_0x41421e[-0x1e06+-0x1e24+0x3c2a]=0x7d8+0x22b9+-0x2992,_0x41421e[0xe19+-0x26f1+0x18d9]=-0x1a9b*0x1+-0x23e8+0x3f82,_0x41421e[-0x2157+0x1*-0xc05+0x1*0x2d5e]=0xdf7+0x25b3*-0x1+0x18bb,_0x41421e[-0xb88+0x2e*0x15+0x7c5]=0x1429+0x25f7+-0x3921,_0x645a73['set'](_0x41421e),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x3bbcf9,_0x522bd6,_0x477af9){_0x3bbcf9['_beingInit'+'ialized']=!(0x25*0xc5+-0x19*-0xce+-0x3097*0x1),_0x522bd6['anchor']!==void(-0x22a+-0x83*0xd+-0x25*-0x3d)&&(_0x522bd6['anchor']instanceof re?_0x3bbcf9['anchor']['copy'](_0x522bd6['anchor']):_0x3bbcf9['anchor']['set'](_0x522bd6['anchor'][-0x3*-0xa03+-0x5d5*0x5+-0xe0],_0x522bd6['anchor'][0x7a7+0xa0c+0x38a*-0x5],_0x522bd6['anchor'][-0x57*0x2e+-0x142e+0x23*0x106],_0x522bd6['anchor'][-0x1b95+-0x1ecb+-0x3a63*-0x1])),_0x522bd6['pivot']!==void(0x1184+0x185*-0x2+-0xe7a)&&(_0x522bd6['pivot']instanceof J?_0x3bbcf9['pivot']['copy'](_0x522bd6['pivot']):_0x3bbcf9['pivot']['set'](_0x522bd6['pivot'][-0x16a9*-0x1+-0x19e1+0x19c*0x2],_0x522bd6['pivot'][-0x326*-0xa+0x15a1+-0x1a8e*0x2]));const _0x180364=Math['abs'](_0x3bbcf9['anchor']['x']-_0x3bbcf9['anchor']['z'])>-0x19*0xbf+-0x301+0x15a8+0.001,_0xf48837=Math['abs'](_0x3bbcf9['anchor']['y']-_0x3bbcf9['anchor']['w'])>-0x2*-0x727+-0x2b*-0xb3+0x1*-0x2c5f+0.001;let _0x52323b=!(-0x15ab+0x1e2d+0x7*-0x137),_0x301793;_0x522bd6['margin']!==void(0x751*0x2+0x1371+-0xd*0x29f)&&(_0x522bd6['margin']instanceof re?_0x3bbcf9['margin']['copy'](_0x522bd6['margin']):_0x3bbcf9['_margin']['set'](_0x522bd6['margin'][0x13fb+-0xe*0x5b+-0xf01],_0x522bd6['margin'][-0x3e*-0x9d+-0x1dfa+0x47*-0x1d],_0x522bd6['margin'][0x239d+-0x15*0x10f+0x1*-0xd60],_0x522bd6['margin'][-0x7*-0x266+0x1a2d+0x2af4*-0x1]),_0x52323b=!(-0x166+0x1b80+-0xd*0x202)),_0x522bd6['left']!==void(-0x2bd*-0x1+0x2009+0x1163*-0x2)&&(_0x3bbcf9['_margin']['x']=_0x522bd6['left'],_0x52323b=!(-0x118d*-0x2+-0xd71+-0x15a9)),_0x522bd6['bottom']!==void(0x17dc+-0x7d*0x3c+0xae*0x8)&&(_0x3bbcf9['_margin']['y']=_0x522bd6['bottom'],_0x52323b=!(-0x1b02+-0x68*0x2b+-0x2*-0x163d)),_0x522bd6['right']!==void(-0x2306*0x1+-0x1849*0x1+-0x3*-0x13c5)&&(_0x3bbcf9['_margin']['z']=_0x522bd6['right'],_0x52323b=!(-0x1*0x682+-0x1c19+-0x3*-0xb89)),_0x522bd6['top']!==void(0x4a*-0x48+0x10c*-0x9+0x1e3c)&&(_0x3bbcf9['_margin']['w']=_0x522bd6['top'],_0x52323b=!(0x1*-0x5f+0x145c+-0x13fd)),_0x52323b&&(_0x3bbcf9['margin']=_0x3bbcf9['_margin']);let _0x3ef0af=!(-0x1c2f+0x35*-0x43+0x2a0f);_0x522bd6['width']!==void(0x16f0+-0x1711+0x3*0xb)&&!_0x180364?_0x3bbcf9['width']=_0x522bd6['width']:_0x180364&&(_0x3ef0af=!(0x1*0x256c+0xdf3+-0x335f*0x1)),_0x522bd6['height']!==void(0xf86+0x96*-0xe+-0x752)&&!_0xf48837?_0x3bbcf9['height']=_0x522bd6['height']:_0xf48837&&(_0x3ef0af=!(0x9*0x15b+-0x2a5+-0x98e)),_0x3ef0af&&(_0x3bbcf9['anchor']=_0x3bbcf9['anchor']),_0x522bd6['enabled']!==void(-0x29*-0x25+-0xb69+-0x9c*-0x9)&&(_0x3bbcf9['enabled']=_0x522bd6['enabled']),_0x522bd6['useInput']!==void(0x503*0x5+-0x1f5c+-0x1*-0x64d)&&(_0x3bbcf9['useInput']=_0x522bd6['useInput']),_0x522bd6['fitMode']!==void(-0x141d+0x10c3*0x1+0x35a)&&(_0x3bbcf9['fitMode']=_0x522bd6['fitMode']),_0x3bbcf9['batchGroup'+'Id']=_0x522bd6['batchGroup'+'Id']===void(0xf*-0x159+-0x97a*0x1+-0x1*-0x1db1)||_0x522bd6['batchGroup'+'Id']===null?-(0x908*0x2+-0x191*-0xf+-0x298e):_0x522bd6['batchGroup'+'Id'],_0x522bd6['layers']&&Array['isArray'](_0x522bd6['layers'])&&(_0x3bbcf9['layers']=_0x522bd6['layers']['slice'](-0x1*0x187d+-0x16c2+0x2f3f)),_0x522bd6['type']!==void(-0x178*-0x16+-0x1f37+0x119*-0x1)&&(_0x3bbcf9['type']=_0x522bd6['type']),_0x3bbcf9['type']===Cu?(_0x522bd6['rect']!==void(0x1bcf+0x1aec+-0x36bb*0x1)&&(_0x3bbcf9['rect']=_0x522bd6['rect']),_0x522bd6['color']!==void(-0x9*0xed+-0x12*0x17e+0x2331)&&(_0x301793=_0x522bd6['color'],_0x301793 instanceof ie||(_0x301793=new ie(_0x522bd6['color'][-0x4c9*0x3+0xa69+0x3f2],_0x522bd6['color'][0x26bc+-0x2132+-0x6d*0xd],_0x522bd6['color'][-0x15ca*-0x1+-0x138d+-0x23b])),_0x3bbcf9['color']=_0x301793),_0x522bd6['opacity']!==void(-0x1*0x146b+0x1*0x6e6+0xd85*0x1)&&(_0x3bbcf9['opacity']=_0x522bd6['opacity']),_0x522bd6['textureAss'+'et']!==void(0x2c9+-0x768+-0x49f*-0x1)&&(_0x3bbcf9['textureAss'+'et']=_0x522bd6['textureAss'+'et']),_0x522bd6['texture']&&(_0x3bbcf9['texture']=_0x522bd6['texture']),_0x522bd6['spriteAsse'+'t']!==void(0xb6*-0x1b+0x767+0x1*0xbcb)&&(_0x3bbcf9['spriteAsse'+'t']=_0x522bd6['spriteAsse'+'t']),_0x522bd6['sprite']&&(_0x3bbcf9['sprite']=_0x522bd6['sprite']),_0x522bd6['spriteFram'+'e']!==void(0x16d*-0x5+-0x43*-0x95+-0x1fde)&&(_0x3bbcf9['spriteFram'+'e']=_0x522bd6['spriteFram'+'e']),_0x522bd6['pixelsPerU'+'nit']!==void(-0x13b4+0x129*-0x12+0x2896)&&_0x522bd6['pixelsPerU'+'nit']!==null&&(_0x3bbcf9['pixelsPerU'+'nit']=_0x522bd6['pixelsPerU'+'nit']),_0x522bd6['materialAs'+'set']!==void(-0xae3+0xa50+0x93*0x1)&&(_0x3bbcf9['materialAs'+'set']=_0x522bd6['materialAs'+'set']),_0x522bd6['material']&&(_0x3bbcf9['material']=_0x522bd6['material']),_0x522bd6['mask']!==void(-0x1d*0x40+-0x1b36*0x1+0x2276)&&(_0x3bbcf9['mask']=_0x522bd6['mask'])):_0x3bbcf9['type']===jv&&(_0x522bd6['autoWidth']!==void(-0x15b5+0x168d+0x48*-0x3)&&(_0x3bbcf9['autoWidth']=_0x522bd6['autoWidth']),_0x522bd6['autoHeight']!==void(-0x1c75+0x899+-0x4f7*-0x4)&&(_0x3bbcf9['autoHeight']=_0x522bd6['autoHeight']),_0x522bd6['rtlReorder']!==void(-0xf0c+-0x2b2*0x8+0x2c*0xd5)&&(_0x3bbcf9['rtlReorder']=_0x522bd6['rtlReorder']),_0x522bd6['unicodeCon'+'verter']!==void(-0x1dd3+0x42b*-0x5+0x32aa)&&(_0x3bbcf9['unicodeCon'+'verter']=_0x522bd6['unicodeCon'+'verter']),_0x522bd6['text']!==null&&_0x522bd6['text']!==void(-0x60a+0xb51+0x1*-0x547)?_0x3bbcf9['text']=_0x522bd6['text']:_0x522bd6['key']!==null&&_0x522bd6['key']!==void(0x1*0x1d93+0x1*-0x7+-0xf4*0x1f)&&(_0x3bbcf9['key']=_0x522bd6['key']),_0x522bd6['color']!==void(0x4ce+0x2*0xeed+-0x22a8)&&(_0x301793=_0x522bd6['color'],_0x301793 instanceof ie||(_0x301793=new ie(_0x301793[-0x521+-0x1*0x50d+0xa2e],_0x301793[-0x11*0x239+0x1c06+-0x4*-0x271],_0x301793[-0x1*-0x1f6+-0x1059+-0x14f*-0xb])),_0x3bbcf9['color']=_0x301793),_0x522bd6['opacity']!==void(-0x1cd4+-0x7a6+0x247a)&&(_0x3bbcf9['opacity']=_0x522bd6['opacity']),_0x522bd6['spacing']!==void(0x1d+-0xef*-0x14+-0x12c9)&&(_0x3bbcf9['spacing']=_0x522bd6['spacing']),_0x522bd6['fontSize']!==void(0x1*0x1b1a+0x1*0x4e5+-0x1fff)&&(_0x3bbcf9['fontSize']=_0x522bd6['fontSize'],_0x522bd6['lineHeight']||(_0x3bbcf9['lineHeight']=_0x522bd6['fontSize'])),_0x522bd6['lineHeight']!==void(0x1ad6+-0x9*-0x241+-0x2f1f)&&(_0x3bbcf9['lineHeight']=_0x522bd6['lineHeight']),_0x522bd6['maxLines']!==void(0x7*0x4dd+0x618*0x2+-0x93f*0x5)&&(_0x3bbcf9['maxLines']=_0x522bd6['maxLines']),_0x522bd6['wrapLines']!==void(0x15a4+-0xd21+-0x883)&&(_0x3bbcf9['wrapLines']=_0x522bd6['wrapLines']),_0x522bd6['minFontSiz'+'e']!==void(0x1f81+0x1*0x180a+-0x378b)&&(_0x3bbcf9['minFontSiz'+'e']=_0x522bd6['minFontSiz'+'e']),_0x522bd6['maxFontSiz'+'e']!==void(0x1caf+-0xec7*0x1+0x37a*-0x4)&&(_0x3bbcf9['maxFontSiz'+'e']=_0x522bd6['maxFontSiz'+'e']),_0x522bd6['autoFitWid'+'th']&&(_0x3bbcf9['autoFitWid'+'th']=_0x522bd6['autoFitWid'+'th']),_0x522bd6['autoFitHei'+'ght']&&(_0x3bbcf9['autoFitHei'+'ght']=_0x522bd6['autoFitHei'+'ght']),_0x522bd6['fontAsset']!==void(0x1a5e+0x1*-0x1fe6+0x588)&&(_0x3bbcf9['fontAsset']=_0x522bd6['fontAsset']),_0x522bd6['font']!==void(-0x165*0x7+0x66e*-0x2+0x169f)&&(_0x3bbcf9['font']=_0x522bd6['font']),_0x522bd6['alignment']!==void(0x1ad8+-0x204d+0x575)&&(_0x3bbcf9['alignment']=_0x522bd6['alignment']),_0x522bd6['outlineCol'+'or']!==void(-0x3dd*-0x6+0xa57+-0x2185)&&(_0x3bbcf9['outlineCol'+'or']=_0x522bd6['outlineCol'+'or']),_0x522bd6['outlineThi'+'ckness']!==void(0xf64+0x662*0x1+-0x3*0x742)&&(_0x3bbcf9['outlineThi'+'ckness']=_0x522bd6['outlineThi'+'ckness']),_0x522bd6['shadowColo'+'r']!==void(-0x1*0x3a6+-0x10d3*0x1+0x6d3*0x3)&&(_0x3bbcf9['shadowColo'+'r']=_0x522bd6['shadowColo'+'r']),_0x522bd6['shadowOffs'+'et']!==void(0xd3a+-0x77d*-0x1+-0x14b7)&&(_0x3bbcf9['shadowOffs'+'et']=_0x522bd6['shadowOffs'+'et']),_0x522bd6['enableMark'+'up']!==void(0xa*0x6d+-0x18b*0x1+-0x8b*0x5)&&(_0x3bbcf9['enableMark'+'up']=_0x522bd6['enableMark'+'up']));const _0x9650e9=_0x3bbcf9['_parseUpTo'+'Screen']();_0x9650e9['screen']&&_0x3bbcf9['_updateScr'+'een'](_0x9650e9['screen']),super['initialize'+'ComponentD'+'ata'](_0x3bbcf9,_0x522bd6,_0x477af9),_0x3bbcf9['_beingInit'+'ialized']=!(0x1825*-0x1+0x21d*-0xa+-0x284*-0x12),_0x3bbcf9['type']===Cu&&_0x3bbcf9['_image']['_meshDirty']&&_0x3bbcf9['_image']['_updateMes'+'h'](_0x3bbcf9['_image']['mesh']);}['onAddCompo'+'nent'](_0x56d914,_0x273201){_0x56d914['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x29c1c4,_0x28430c){_0x28430c['onRemove']();}['cloneCompo'+'nent'](_0x39f06c,_0x3cc44f){const _0x303425=_0x39f06c['element'],_0x3ab424={'enabled':_0x303425['enabled'],'width':_0x303425['width'],'height':_0x303425['height'],'anchor':_0x303425['anchor']['clone'](),'pivot':_0x303425['pivot']['clone'](),'margin':_0x303425['margin']['clone'](),'alignment':_0x303425['alignment']&&_0x303425['alignment']['clone']()||_0x303425['alignment'],'autoWidth':_0x303425['autoWidth'],'autoHeight':_0x303425['autoHeight'],'type':_0x303425['type'],'rect':_0x303425['rect']&&_0x303425['rect']['clone']()||_0x303425['rect'],'rtlReorder':_0x303425['rtlReorder'],'unicodeConverter':_0x303425['unicodeCon'+'verter'],'materialAsset':_0x303425['materialAs'+'set'],'material':_0x303425['material'],'color':_0x303425['color']&&_0x303425['color']['clone']()||_0x303425['color'],'opacity':_0x303425['opacity'],'textureAsset':_0x303425['textureAss'+'et'],'texture':_0x303425['texture'],'spriteAsset':_0x303425['spriteAsse'+'t'],'sprite':_0x303425['sprite'],'spriteFrame':_0x303425['spriteFram'+'e'],'pixelsPerUnit':_0x303425['pixelsPerU'+'nit'],'spacing':_0x303425['spacing'],'lineHeight':_0x303425['lineHeight'],'wrapLines':_0x303425['wrapLines'],'layers':_0x303425['layers'],'fontSize':_0x303425['fontSize'],'minFontSize':_0x303425['minFontSiz'+'e'],'maxFontSize':_0x303425['maxFontSiz'+'e'],'autoFitWidth':_0x303425['autoFitWid'+'th'],'autoFitHeight':_0x303425['autoFitHei'+'ght'],'maxLines':_0x303425['maxLines'],'fontAsset':_0x303425['fontAsset'],'font':_0x303425['font'],'useInput':_0x303425['useInput'],'fitMode':_0x303425['fitMode'],'batchGroupId':_0x303425['batchGroup'+'Id'],'mask':_0x303425['mask'],'outlineColor':_0x303425['outlineCol'+'or']&&_0x303425['outlineCol'+'or']['clone']()||_0x303425['outlineCol'+'or'],'outlineThickness':_0x303425['outlineThi'+'ckness'],'shadowColor':_0x303425['shadowColo'+'r']&&_0x303425['shadowColo'+'r']['clone']()||_0x303425['shadowColo'+'r'],'shadowOffset':_0x303425['shadowOffs'+'et']&&_0x303425['shadowOffs'+'et']['clone']()||_0x303425['shadowOffs'+'et'],'enableMarkup':_0x303425['enableMark'+'up']};return _0x303425['key']!==void(0x967*-0x2+-0x221c+-0x1a75*-0x2)&&_0x303425['key']!==null?_0x3ab424['key']=_0x303425['key']:_0x3ab424['text']=_0x303425['text'],this['addCompone'+'nt'](_0x3cc44f,_0x3ab424);}['getTextEle'+'mentMateri'+'al'](_0xf3880,_0x6f16c1,_0x55fdf8){const _0x5db007=(_0xf3880&&-0x1f0f+-0x119e+0xba*0x43)|(_0x6f16c1&&-0x1a8+-0x5*-0x65f+-0x1e31)|(_0x55fdf8&&0x323*-0x2+0x23d+0x40d);let _0x511f2f=this['_defaultTe'+'xtMaterial'+'s'][_0x5db007];if(_0x511f2f)return _0x511f2f;let _0x310e56='TextMateri'+'al';return _0x511f2f=new Ut(),_0x6f16c1?(_0x511f2f['msdfMap']=this['_defaultTe'+'xture'],_0x511f2f['msdfTextAt'+'tribute']=_0x55fdf8,_0x511f2f['emissive']['set'](0x1bb*0xf+0x1a81+-0x1*0x3475,0x218*-0x7+-0x45*0x2b+0x1a40,0x7*-0xa+-0x536+0x5*0x119)):(_0x310e56='Bitmap'+_0x310e56,_0x511f2f['emissive']['set'](0xf95*0x2+-0x1f6f*-0x1+-0x3e98,0x8c1+0x174b+-0x200b,0x759*0x2+0x198+-0x1049),_0x511f2f['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x511f2f['opacityMap']=this['_defaultTe'+'xture'],_0x511f2f['opacityMap'+'Channel']='a'),_0xf3880&&(_0x310e56='ScreenSpac'+'e'+_0x310e56,_0x511f2f['depthTest']=!(-0x242*0x8+0x80b+0x503*0x2)),_0x511f2f['name']='default'+_0x310e56,_0x511f2f['useLightin'+'g']=!(-0x68f+-0x432+0xac2),_0x511f2f['useTonemap']=!(0x177b*0x1+0x2056+-0x37d0),_0x511f2f['useFog']=!(0x1*-0x230b+0x2b*-0x5b+-0x3*-0x10c7),_0x511f2f['useSkybox']=!(-0x911+0x1*-0x10b9+0x19cb),_0x511f2f['diffuse']['set'](-0x41*-0x15+-0x3f1+-0x2*0xb2,-0x160+0x394+-0xc*0x2f,-0x307+-0xa43+0x46e*0x3),_0x511f2f['opacity']=-0xbda*-0x3+0xfd*-0x1f+-0x4eb*0x1+0.5,_0x511f2f['blendType']=Gn,_0x511f2f['depthWrite']=!(-0x8*-0x8+0x1dd6+-0x1e15),_0x511f2f['emissiveVe'+'rtexColor']=!(-0x110*0xd+0x1*-0x1412+-0x10f1*-0x2),_0x511f2f['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x5db007]=_0x511f2f,_0x511f2f;}['_createBas'+'eImageMate'+'rial'](){const _0x130c64=new Ut();return _0x130c64['diffuse']['set'](0x35*-0x3+0x148b+0x6a4*-0x3,0x1b61+-0x1e63*0x1+0x302,-0x1d*0x113+-0xa*-0x2b4+0x41f),_0x130c64['emissive']['set'](-0x4*0x4a7+0xa9*-0x1a+0x23c7,-0x1985+0x12e4+0x6a2,0x10b3+0x11f6+-0x22a8),_0x130c64['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x130c64['opacityMap']=this['_defaultTe'+'xture'],_0x130c64['opacityMap'+'Channel']='a',_0x130c64['useLightin'+'g']=!(0x2ec*-0x6+0x11*-0x36+0x151f),_0x130c64['useTonemap']=!(-0x20f1*-0x1+-0xfd4+-0x124*0xf),_0x130c64['useFog']=!(0xc07+-0x1*0x140a+0x804),_0x130c64['useSkybox']=!(0x1d99+0x20b2+-0xee*0x43),_0x130c64['blendType']=Gn,_0x130c64['depthWrite']=!(0x252+-0x9cf+0x77e),_0x130c64;}['getImageEl'+'ementMater'+'ial'](_0x23b1f7,_0x150c4f,_0x413c60,_0x5de23f){return _0x23b1f7?_0x150c4f?_0x413c60?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(-0x24b8+-0xae*0x2e+0x1*0x43fd),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=0x47f+0x2*0x5d5+-0x1028,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(-0xd4f*-0x1+-0xf80+0x232),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(0x1a72+-0x5*-0x4e7+0x4*-0xcbd),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(0x1*0x255b+-0xc74+0x2*-0xc73),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(0x8*-0x44a+-0x442*0x7+0x1*0x401f),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x5de23f?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(-0x234*0x6+-0x12e5*-0x1+-0x5ac),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=-0x1282*-0x1+0x2f*-0x49+-0x51a,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(0x16ba*-0x1+0x11e+0x159d),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(-0x4*0x59a+-0xe*-0x88+-0xef9*-0x1),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(0x164b*0x1+0x6e2*-0x1+-0xf68),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(-0x1a*0xe1+-0xd*0x155+-0xc*-0x359),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(-0x15a3+-0x161f+0x2bc3),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=-0x23b7*-0x1+-0x1f95+-0x421*0x1,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(0xd0*-0xc+0x12c0+-0x2f*0x31),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(0x151*0x7+-0x1e4d*0x1+-0x1517*-0x1),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(0x1*0xfe+0x18c1+0xa*-0x293),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(0xe3c+-0x19*-0x79+-0x1a0c),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x413c60?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(0x49a+-0xd*-0x68+0x3*-0x34b),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x5de23f?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(-0xef+-0x1*0x100+-0x7c*-0x4),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(-0x1762+0xd9a+0x9c9),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x150c4f?_0x413c60?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=-0x1c4e+0x24*0x40+-0x134f*-0x1,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(0x1247+0x952+-0x1b98),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(-0x20c1+0x95*0x1f+-0x1*-0xeb7),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(-0xa5c+-0x1389+0x1de6),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(-0x1458+0x1*-0x14e6+0x1*0x293f),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x5de23f?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=0x53*0xe+0x6b9+-0x106*0xb,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(-0x66d+-0xe71+0x14df),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(-0x1*0x167c+-0x24cd+-0x1*-0x3b4a),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(-0x1*-0x1b16+0xb6e*-0x1+0xfa7*-0x1),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(-0x299*0xb+-0x1*0x2482+0x4116),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=0x1*-0x21d1+-0x1558*-0x1+0x63d*0x2,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(-0x176*0xb+0x9b3+0x220*0x3),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(0x8bc+0x11d3+-0xd47*0x2),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(0x1134+-0x1*-0xf1+-0x102*0x12),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(-0x599*0x4+-0x277*-0x3+-0xf*-0x100),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x413c60?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x5de23f?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x57c476){this['_unicodeCo'+'nverter']=_0x57c476;}['registerRt'+'lReorder'](_0x742872){this['_rtlReorde'+'r']=_0x742872;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Xa='free',qa='limited',ja='locked',RR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class ym extends we{constructor(_0x54a205,_0x5d152c){super(_0x54a205,_0x5d152c),w['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(-0x2053+0x1*0xdd5+0x127e),this['_linearMot'+'ionX']=ja,this['_linearLim'+'itsX']=new J(0x1*-0x1628+-0x76e*-0x3+-0x22,0x635*-0x6+0x163*0xb+0x15fd),this['_linearSpr'+'ingX']=!(-0x221+-0x5b*0x6b+0x282b),this['_linearSti'+'ffnessX']=0x1*0xaf4+0x878+0x1c4*-0xb,this['_linearDam'+'pingX']=0x10d*-0x11+0x2*-0x1241+0xf*0x3a0,this['_linearEqu'+'ilibriumX']=0x1354+0x1e4f+0x1*-0x31a3,this['_linearMot'+'ionY']=ja,this['_linearLim'+'itsY']=new J(-0x46*-0x5d+0x6*0x491+-0xa1*0x54,0x36d*0x5+-0x1a9f+0x9*0x10e),this['_linearSpr'+'ingY']=!(0x1815+0x225a+0x1b*-0x22a),this['_linearSti'+'ffnessY']=0xcb6*-0x2+0x1e11+0x1*-0x4a5,this['_linearDam'+'pingY']=0x1696+0x833+-0x1ec8,this['_linearEqu'+'ilibriumY']=0x1ed5+-0x70e+-0x17c7,this['_linearMot'+'ionZ']=ja,this['_linearLim'+'itsZ']=new J(0x26b2+0xe8d+0x2b*-0x13d,0x1d55+0x9d*0x25+-0x3406),this['_linearSpr'+'ingZ']=!(0x209a+-0x3*0xcad+0x5*0x116),this['_linearSti'+'ffnessZ']=0x1*0x281+-0xc54+0x9d3,this['_linearDam'+'pingZ']=0x24e0+0xb08+-0x2fe7,this['_linearEqu'+'ilibriumZ']=0x8f6+-0x1975+0x107f,this['_angularMo'+'tionX']=ja,this['_angularLi'+'mitsX']=new J(0x1*0x1395+0x8*-0x228+-0x255,-0xa57*0x1+-0x1247+0x1c9e),this['_angularSp'+'ringX']=!(-0x653+0x1*-0x10e7+0x173b),this['_angularSt'+'iffnessX']=-0x1*-0x17b1+0x1d0a+-0x1*0x34bb,this['_angularDa'+'mpingX']=-0xe8e+-0x89a+0x1729,this['_angularEq'+'uilibriumX']=-0x43a*0x8+0x90d*-0x1+-0x2add*-0x1,this['_angularMo'+'tionY']=ja,this['_angularLi'+'mitsY']=new J(-0x1*0x8b1+-0x1053+0x1904,-0xb15+0x152c+0x7*-0x171),this['_angularSp'+'ringY']=!(-0x24e0*0x1+0x116f+0x1372),this['_angularSt'+'iffnessY']=0x20c0+0x4a*0x7e+-0x452c,this['_angularDa'+'mpingY']=-0x13e5*-0x1+0x727+0x12d*-0x17,this['_angularEq'+'uilibriumY']=0x10de+-0x1dad+0x445*0x3,this['_angularMo'+'tionZ']=ja,this['_angularLi'+'mitsZ']=new J(0x25b7+-0x1*0x1a4a+-0xb6d,-0x1*0x2281+-0x1*-0x1003+0x6*0x315),this['_angularSp'+'ringZ']=!(-0x1367+0x7*-0x4a+-0xd3*-0x1a),this['_angularEq'+'uilibriumZ']=-0xbab*-0x1+-0x8*-0x430+-0x1f*0x175,this['_angularDa'+'mpingZ']=0x1fa7+-0x3bc+-0x6*0x4a7,this['_angularSt'+'iffnessZ']=-0x2477+0x1df5+0x77*0xe,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x52ed15){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x52ed15,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0x198984){this['_destroyCo'+'nstraint'](),this['_entityB']=_0x198984,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x470ab2){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x470ab2&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x470ab2),this['_breakForc'+'e']=_0x470ab2);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x7fbe50){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x7fbe50,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x540770){this['_angularLi'+'mitsX']['equals'](_0x540770)||(this['_angularLi'+'mitsX']['copy'](_0x540770),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x33beab){this['_angularMo'+'tionX']!==_0x33beab&&(this['_angularMo'+'tionX']=_0x33beab,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x4bac63){this['_angularLi'+'mitsY']['equals'](_0x4bac63)||(this['_angularLi'+'mitsY']['copy'](_0x4bac63),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x289b65){this['_angularMo'+'tionY']!==_0x289b65&&(this['_angularMo'+'tionY']=_0x289b65,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x393b11){this['_angularLi'+'mitsZ']['equals'](_0x393b11)||(this['_angularLi'+'mitsZ']['copy'](_0x393b11),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x22eb86){this['_angularMo'+'tionZ']!==_0x22eb86&&(this['_angularMo'+'tionZ']=_0x22eb86,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x208073){this['_linearLim'+'itsX']['equals'](_0x208073)||(this['_linearLim'+'itsX']['copy'](_0x208073),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x56f1a2){this['_linearMot'+'ionX']!==_0x56f1a2&&(this['_linearMot'+'ionX']=_0x56f1a2,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x2d7cfe){this['_linearLim'+'itsY']['equals'](_0x2d7cfe)||(this['_linearLim'+'itsY']['copy'](_0x2d7cfe),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x27a4a1){this['_linearMot'+'ionY']!==_0x27a4a1&&(this['_linearMot'+'ionY']=_0x27a4a1,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x3b2bf2){this['_linearLim'+'itsZ']['equals'](_0x3b2bf2)||(this['_linearLim'+'itsZ']['copy'](_0x3b2bf2),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x435b8a){this['_linearMot'+'ionZ']!==_0x435b8a&&(this['_linearMot'+'ionZ']=_0x435b8a,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x236263,_0x3281c6){const _0x479179=_0x236263['getTransla'+'tion'](),_0x3051f1=new le();_0x3051f1['setFromMat'+'4'](_0x236263);const _0x5771e4=new Ammo['btVector3'](_0x479179['x'],_0x479179['y'],_0x479179['z']),_0x2f9119=new Ammo['btQuaterni'+'on'](_0x3051f1['x'],_0x3051f1['y'],_0x3051f1['z'],_0x3051f1['w']);_0x3281c6['setOrigin'](_0x5771e4),_0x3281c6['setRotatio'+'n'](_0x2f9119),Ammo['destroy'](_0x5771e4),Ammo['destroy'](_0x2f9119);}['_updateAng'+'ularLimits'](){const _0xd84e24=this['_constrain'+'t'];if(_0xd84e24){let _0xe61cc6,_0x26ab85,_0x555b9f,_0x576480,_0xaed245,_0x3a4220;this['_angularMo'+'tionX']===qa?(_0xe61cc6=this['_angularLi'+'mitsX']['x']*Y['DEG_TO_RAD'],_0x576480=this['_angularLi'+'mitsX']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionX']===Xa?(_0xe61cc6=0xc*-0x265+0x62b*-0x1+0x22e8,_0x576480=-0x1*-0x1d07+-0x1*0xc0b+0x4*-0x43f):_0xe61cc6=_0x576480=0xf*-0x233+0x2329+-0x22c,this['_angularMo'+'tionY']===qa?(_0x26ab85=this['_angularLi'+'mitsY']['x']*Y['DEG_TO_RAD'],_0xaed245=this['_angularLi'+'mitsY']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionY']===Xa?(_0x26ab85=-0xb14+0x18af*0x1+-0xd9a,_0xaed245=-0x1585+-0x1662+0x2be7*0x1):_0x26ab85=_0xaed245=-0x2*0x5cf+-0x11d8+-0x2*-0xebb,this['_angularMo'+'tionZ']===qa?(_0x555b9f=this['_angularLi'+'mitsZ']['x']*Y['DEG_TO_RAD'],_0x3a4220=this['_angularLi'+'mitsZ']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Xa?(_0x555b9f=-0x5f*0x3e+-0x16d+0x1870,_0x3a4220=-0xc7*0x11+-0x5*0x108+-0x1*-0x125f):_0x555b9f=_0x3a4220=0x213a+-0x3fc*-0x3+-0x2d2e;const _0x3ac21c=new Ammo['btVector3'](_0xe61cc6,_0x26ab85,_0x555b9f);_0xd84e24['setAngular'+'LowerLimit'](_0x3ac21c),_0x3ac21c['setValue'](_0x576480,_0xaed245,_0x3a4220),_0xd84e24['setAngular'+'UpperLimit'](_0x3ac21c),Ammo['destroy'](_0x3ac21c);}}['_updateLin'+'earLimits'](){const _0x3cb507=this['_constrain'+'t'];if(_0x3cb507){let _0x3d2b6e,_0x2a9585,_0x1872c5,_0x41b383,_0x53476b,_0x16eeb1;this['_linearMot'+'ionX']===qa?(_0x3d2b6e=this['_linearLim'+'itsX']['x'],_0x41b383=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Xa?(_0x3d2b6e=0x1c79*-0x1+-0x1210+0x2e8a*0x1,_0x41b383=-0x227a+-0xf8e+-0x1904*-0x2):_0x3d2b6e=_0x41b383=0x1*-0xfa7+0x17b*0x5+0x4*0x210,this['_linearMot'+'ionY']===qa?(_0x2a9585=this['_linearLim'+'itsY']['x'],_0x53476b=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Xa?(_0x2a9585=-0x5*0x92+0xc10+-0x935,_0x53476b=0x222a+0x5d0+-0x27fa):_0x2a9585=_0x53476b=0x35*-0x6d+0x1*0x766+0xf2b,this['_linearMot'+'ionZ']===qa?(_0x1872c5=this['_linearLim'+'itsZ']['x'],_0x16eeb1=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Xa?(_0x1872c5=-0x21e3+-0x2e3*0x9+0x83*0x75,_0x16eeb1=0xb5*-0x34+-0x23d+-0x1*-0x2701):_0x1872c5=_0x16eeb1=0x11bb+0x4*-0x96c+-0xd*-0x189;const _0x5e2216=new Ammo['btVector3'](_0x3d2b6e,_0x2a9585,_0x1872c5);_0x3cb507['setLinearL'+'owerLimit'](_0x5e2216),_0x5e2216['setValue'](_0x41b383,_0x53476b,_0x16eeb1),_0x3cb507['setLinearU'+'pperLimit'](_0x5e2216),Ammo['destroy'](_0x5e2216);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x4e848c=new te(),_0x5b2d95=this['_entityA']['rigidbody']['body'];_0x5b2d95['activate']();const _0x2a65e4=this['entity']['getWorldTr'+'ansform'](),_0xe4fa0b=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x4e848c['mul2'](_0xe4fa0b,_0x2a65e4);const _0x101dcf=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x4e848c,_0x101dcf),this['_entityB']&&this['_entityB']['rigidbody']){const _0x5207aa=this['_entityB']['rigidbody']['body'];_0x5207aa['activate']();const _0x38a1c4=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x4e848c['mul2'](_0x38a1c4,_0x2a65e4);const _0x409efe=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x4e848c,_0x409efe),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x5b2d95,_0x5207aa,_0x101dcf,_0x409efe,!this['_enableCol'+'lision']),Ammo['destroy'](_0x409efe);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x5b2d95,_0x101dcf,!this['_enableCol'+'lision']);Ammo['destroy'](_0x101dcf);const _0x166168=['X','Y','Z','X','Y','Z'];for(let _0x339d6e=0xc*-0x22b+-0x7a6*0x2+-0x52a*-0x8;_0x339d6e<-0x1*-0xfbc+0xd4a+0x2*-0xe80;_0x339d6e++){const _0x826589=_0x339d6e<-0x1219+0x24a1*-0x1+0x36bd?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0x339d6e,this[_0x826589+'Spring'+_0x166168[_0x339d6e]]),this['_constrain'+'t']['setDamping'](_0x339d6e,this[_0x826589+'Damping'+_0x166168[_0x339d6e]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0x339d6e,this[_0x826589+('Equilibriu'+'m')+_0x166168[_0x339d6e]]),this['_constrain'+'t']['setStiffne'+'ss'](_0x339d6e,this[_0x826589+'Stiffness'+_0x166168[_0x339d6e]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x27ea9a){for(const _0x542cd6 of RR)_0x27ea9a['hasOwnProp'+'erty'](_0x542cd6)&&(_0x27ea9a[_0x542cd6]instanceof J?this['_'+_0x542cd6]['copy'](_0x27ea9a[_0x542cd6]):this['_'+_0x542cd6]=_0x27ea9a[_0x542cd6]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0x26dd0f,_0x4c2a4d,_0x400695){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const OR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x422822=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x5510a9=>{['X','Y','Z']['forEach'](_0x3b1e7a=>{const _0x555a7d=_0x422822+_0x5510a9+_0x3b1e7a,_0x264d80='_'+_0x555a7d;let _0x4d422e=_0x422822==='linear'?0x2357*-0x1+-0x2092+0x43e9:0xc7d*-0x2+0x17*0xbf+0x7d4;_0x3b1e7a==='Y'&&(_0x4d422e+=0x101c+-0x13e7*-0x1+-0x1201*0x2),_0x3b1e7a==='Z'&&(_0x4d422e+=0x1957*0x1+-0xbee*0x2+0xd*-0x1d),Object['defineProp'+'erty'](ym['prototype'],_0x555a7d,{'get':function(){return this[_0x264d80];},'set':function(_0x307048){this[_0x264d80]!==_0x307048&&(this[_0x264d80]=_0x307048,this['_constrain'+'t'][OR[_0x5510a9]](_0x4d422e,_0x307048));}});});});});class FR{constructor(){this['enabled']=!(0x919*-0x1+0x1*-0x116b+0x1a84);}}const Fu=['enabled'];class NR extends ct{constructor(_0xa93351){super(_0xa93351),this['id']='joint',this['app']=_0xa93351,this['ComponentT'+'ype']=ym,this['DataType']=FR,this['schema']=Fu;}['initialize'+'ComponentD'+'ata'](_0x19a7e7,_0x2ba192,_0x25fd30){_0x19a7e7['initFromDa'+'ta'](_0x2ba192),super['initialize'+'ComponentD'+'ata'](_0x19a7e7,_0x2ba192,Fu);}}we['_buildAcce'+'ssors'](ym['prototype'],Fu);class Jv extends we{constructor(){super(...arguments),h(this,'_minWidth',0x3*0x72c+-0x10*0x216+0xbdc),h(this,'_minHeight',-0x46a+0x6da*0x2+-0x94a),h(this,'_maxWidth',null),h(this,'_maxHeight',null),h(this,'_fitWidthP'+'roportion',-0x192a+-0x1*0x10a2+0x29cc),h(this,'_fitHeight'+'Proportion',0x3d*-0x1e+0x1*-0x120d+0x1933),h(this,'_excludeFr'+'omLayout',!(-0x20ff+-0x12f0+0x33f0));}set['minWidth'](_0x3101a7){_0x3101a7!==this['_minWidth']&&(this['_minWidth']=_0x3101a7,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x248bf3){_0x248bf3!==this['_minHeight']&&(this['_minHeight']=_0x248bf3,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x10a348){_0x10a348!==this['_maxWidth']&&(this['_maxWidth']=_0x10a348,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x49e3c9){_0x49e3c9!==this['_maxHeight']&&(this['_maxHeight']=_0x49e3c9,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x171a8d){_0x171a8d!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x171a8d,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x433878){_0x433878!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x433878,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x5a2f86){_0x5a2f86!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x5a2f86,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class kR{constructor(){this['enabled']=!(0x1*0xb5a+0x207*-0x13+0x1b2b);}}const e0=['enabled'];class UR extends ct{constructor(_0x4f4aa3){super(_0x4f4aa3),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=Jv,this['DataType']=kR,this['schema']=e0;}['initialize'+'ComponentD'+'ata'](_0x513497,_0x58be71,_0x14e04e){_0x58be71['enabled']!==void(0x24dc+-0x1805*0x1+0xcd7*-0x1)&&(_0x513497['enabled']=_0x58be71['enabled']),_0x58be71['minWidth']!==void(0x503*-0x5+0x4*0x89a+-0x959*0x1)&&(_0x513497['minWidth']=_0x58be71['minWidth']),_0x58be71['minHeight']!==void(0x101*0x9+-0x36*0x44+-0x9*-0x97)&&(_0x513497['minHeight']=_0x58be71['minHeight']),_0x58be71['maxWidth']!==void(-0x2bf*-0x1+0xc19+-0xed8)&&(_0x513497['maxWidth']=_0x58be71['maxWidth']),_0x58be71['maxHeight']!==void(-0x982+0xd0c*0x2+-0x1096*0x1)&&(_0x513497['maxHeight']=_0x58be71['maxHeight']),_0x58be71['fitWidthPr'+'oportion']!==void(-0x68b+-0xf*0x11+0x78a)&&(_0x513497['fitWidthPr'+'oportion']=_0x58be71['fitWidthPr'+'oportion']),_0x58be71['fitHeightP'+'roportion']!==void(-0xe55+0x152+0x1*0xd03)&&(_0x513497['fitHeightP'+'roportion']=_0x58be71['fitHeightP'+'roportion']),_0x58be71['excludeFro'+'mLayout']!==void(-0x1d7c+0x20fc+0x20*-0x1c)&&(_0x513497['excludeFro'+'mLayout']=_0x58be71['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x513497,_0x58be71,_0x14e04e);}['cloneCompo'+'nent'](_0x429161,_0x46c6fc){const _0x26b62b=_0x429161['layoutchil'+'d'];return this['addCompone'+'nt'](_0x46c6fc,{'enabled':_0x26b62b['enabled'],'minWidth':_0x26b62b['minWidth'],'minHeight':_0x26b62b['minHeight'],'maxWidth':_0x26b62b['maxWidth'],'maxHeight':_0x26b62b['maxHeight'],'fitWidthProportion':_0x26b62b['fitWidthPr'+'oportion'],'fitHeightProportion':_0x26b62b['fitHeightP'+'roportion'],'excludeFromLayout':_0x26b62b['excludeFro'+'mLayout']});}}we['_buildAcce'+'ssors'](Jv['prototype'],e0);const Nu=0x126f+-0x1*-0x1042+-0x53*0x6b,BR=-0x1*0x1b53+0x1251+0x903,Qg=0x7d+-0x17*0x14f+0x1d9e,zR=0xd53+0xa7d+0x1*-0x17cd,Oh={};Oh[Ce]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Oh[je]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const vm={};vm[Ce]=je,vm[je]=Ce;const VR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},os={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},ls=new J();function t0(_0x1e0897){let _0x2a774a;const _0x478df5=Oh[_0x1e0897],_0x1dd20b=Oh[vm[_0x1e0897]];function _0x4b7dd8(_0x5d7f85,_0x340ed7){return-_0x340ed7[_0x478df5['size']]*_0x5d7f85['pivot'][_0x478df5['axis']];}function _0xc2a821(_0x48784f,_0x54e5e4){return-_0x54e5e4[_0x1dd20b['size']]*_0x48784f['pivot'][_0x1dd20b['axis']];}function _0x3d3a55(_0x2e1aaf,_0x582c65){return _0x582c65[_0x478df5['size']]*(0x8b6+-0x44a+0x46b*-0x1-_0x2e1aaf['pivot'][_0x478df5['axis']]);}function _0x25126d(_0x2ec136,_0x262360){_0x2ec136=_0x2ec136['filter'](_0x4ddf9e),_0x2a774a=_0x262360,ls['x']=_0x2a774a['containerS'+'ize']['x']-_0x2a774a['padding']['x']-_0x2a774a['padding']['z'],ls['y']=_0x2a774a['containerS'+'ize']['y']-_0x2a774a['padding']['y']-_0x2a774a['padding']['w'],_0x578439(_0x2ec136);const _0x403d12=_0x5583e9(_0x27b330(_0x2ec136)),_0x5a94b4=_0x2cbe04(_0x403d12,_0x41f485(_0x403d12)),_0x14d8e8=_0x2c92a2(_0x403d12,_0x5a94b4);return _0x32b076(_0x403d12,_0x5a94b4,_0x14d8e8),_0x13c9fb(_0x403d12,_0x5a94b4,_0x14d8e8),_0xa94ffc(_0x403d12);}function _0x4ddf9e(_0x1d065e){const _0x42dc28=_0x1d065e['entity']['layoutchil'+'d'];return!_0x42dc28||!_0x42dc28['enabled']||!_0x42dc28['excludeFro'+'mLayout'];}function _0x578439(_0x675805){for(let _0x3db78b=0x8*0x397+-0x25eb+0x933;_0x3db78b<_0x675805['length'];++_0x3db78b){const _0x282428=_0x675805[_0x3db78b],_0x3f5b24=_0x282428['anchor'];(_0x3f5b24['x']!==0x9c1+0xd75*-0x2+0x1129*0x1||_0x3f5b24['y']!==0x177f+0x817+0x1f96*-0x1||_0x3f5b24['z']!==0x1638+-0x9cc+-0x3*0x424||_0x3f5b24['w']!==-0x1b*-0x1d+-0x3*0x2d5+0x570)&&(_0x282428['anchor']=re['ZERO']);}}function _0x27b330(_0x56ea60){if(!_0x2a774a['wrap'])return[_0x56ea60];const _0xa09038=[[]],_0x47a8a9=_0xdc1d04(_0x56ea60);let _0x4f7f3e=-0x255d+0x4a8+-0x20b5*-0x1;const _0x3b071a=_0x2a774a[_0x478df5['fitting']]===Qg;for(let _0x2c0f23=0x1*0x39+-0x67*-0x33+-0xf*0x162;_0x2c0f23<_0x56ea60['length'];++_0x2c0f23){_0xa09038[_0xa09038['length']-(-0x1fef+-0x1fd+0x1*0x21ed)]['length']>-0x2639+0x151b+0x111e&&(_0x4f7f3e+=_0x2a774a['spacing'][_0x478df5['axis']]);const _0x26164f=_0x47a8a9[_0x2c0f23][_0x478df5['size']];_0x4f7f3e+=_0x26164f,!_0x3b071a&&_0x4f7f3e>ls[_0x478df5['axis']]&&_0xa09038[_0xa09038['length']-(-0x1a2d+-0x6c9+0x61*0x57)]['length']!==0x773+0x1af3*0x1+-0x2266&&(_0x4f7f3e=_0x26164f,_0xa09038['push']([])),_0xa09038[_0xa09038['length']-(0x2*-0xd59+0x9fa*-0x3+0x38a1)]['push'](_0x56ea60[_0x2c0f23]),_0x3b071a&&_0x4f7f3e>ls[_0x478df5['axis']]&&_0x2c0f23!==_0x56ea60['length']-(-0x173d*-0x1+0x248a+0x445*-0xe)&&(_0x4f7f3e=0xb7a+0x22b1+-0x2e2b*0x1,_0xa09038['push']([]));}return _0xa09038;}function _0x5583e9(_0x415f7d){const _0x4895ed=_0x2a774a['orientatio'+'n']===Ce&&_0x2a774a['reverseX']||_0x2a774a['orientatio'+'n']===je&&_0x2a774a['reverseY'],_0x143c63=_0x2a774a['orientatio'+'n']===Ce&&_0x2a774a['reverseY']||_0x2a774a['orientatio'+'n']===je&&_0x2a774a['reverseX'];if(_0x4895ed){for(let _0x2f47d5=-0xbeb+0x173f+-0xb54;_0x2f47d5<_0x415f7d['length'];++_0x2f47d5)_0x4895ed&&_0x415f7d[_0x2f47d5]['reverse']();}return _0x143c63&&_0x415f7d['reverse'](),_0x415f7d;}function _0x41f485(_0x4403cd){const _0x300b19=[];for(let _0x54490b=-0x1164+-0x151*0x1+0x1*0x12b5;_0x54490b<_0x4403cd['length'];++_0x54490b){const _0x24fcd=_0x4403cd[_0x54490b],_0x2aade0=_0xdc1d04(_0x24fcd),_0x51222c=_0x55ca7b(_0x2aade0,_0x478df5),_0x2ba385=_0x4e1084(_0x2a774a[_0x478df5['fitting']],_0x51222c,ls[_0x478df5['axis']]);_0x2ba385===os['APPLY_STRE'+'TCHING']?_0x535cb5(_0x2aade0,_0x51222c,_0x478df5):_0x2ba385===os['APPLY_SHRI'+'NKING']&&_0x19f626(_0x2aade0,_0x51222c,_0x478df5),_0x300b19['push'](_0x2aade0);}return _0x300b19;}function _0x2cbe04(_0x384e4e,_0x597d8e){const _0x48b9a0=[],_0x96dbfe=[];for(let _0x5cbfe1=-0x7d1+-0x1849+0x2*0x100d;_0x5cbfe1<_0x384e4e['length'];++_0x5cbfe1){const _0x20aed9=_0x384e4e[_0x5cbfe1];_0x20aed9['largestEle'+'ment']=null,_0x20aed9['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x56d1d6=-0x7d4+-0x16b3+0x1e87*0x1;_0x56d1d6<_0x20aed9['length'];++_0x56d1d6){const _0x5d933f=_0x597d8e[_0x5cbfe1][_0x56d1d6];_0x5d933f[_0x1dd20b['size']]>_0x20aed9['largestSiz'+'e'][_0x1dd20b['size']]&&(_0x20aed9['largestEle'+'ment']=_0x20aed9[_0x56d1d6],_0x20aed9['largestSiz'+'e']=_0x5d933f);}_0x48b9a0['push'](_0x20aed9['largestEle'+'ment']),_0x96dbfe['push'](_0x20aed9['largestSiz'+'e']);}const _0x30e3ad=_0x55ca7b(_0x96dbfe,_0x1dd20b),_0x32f1bd=_0x4e1084(_0x2a774a[_0x1dd20b['fitting']],_0x30e3ad,ls[_0x1dd20b['axis']]);_0x32f1bd===os['APPLY_STRE'+'TCHING']?_0x535cb5(_0x96dbfe,_0x30e3ad,_0x1dd20b):_0x32f1bd===os['APPLY_SHRI'+'NKING']&&_0x19f626(_0x96dbfe,_0x30e3ad,_0x1dd20b);for(let _0x26b950=-0x2e*-0x4+-0x13c4+0x4c3*0x4;_0x26b950<_0x384e4e['length'];++_0x26b950){const _0x3be311=_0x384e4e[_0x26b950];for(let _0x550304=0x5fe+-0xb2e+0x530;_0x550304<_0x3be311['length'];++_0x550304){const _0x25abc7=_0x597d8e[_0x26b950][_0x550304],_0x3ecaf8=_0x25abc7[_0x1dd20b['size']],_0x3a7ede=_0x384e4e['length']===0xdc9+-0x1*-0x1ba9+0x2971*-0x1?ls[_0x1dd20b['axis']]:_0x3be311['largestSiz'+'e'][_0x1dd20b['size']],_0x413383=_0x4e1084(_0x2a774a[_0x1dd20b['fitting']],_0x3ecaf8,_0x3a7ede);_0x413383===os['APPLY_STRE'+'TCHING']?_0x25abc7[_0x1dd20b['size']]=Math['min'](_0x3a7ede,_0x25abc7[_0x1dd20b['maxSize']]):_0x413383===os['APPLY_SHRI'+'NKING']&&(_0x25abc7[_0x1dd20b['size']]=Math['max'](_0x3a7ede,_0x25abc7[_0x1dd20b['minSize']]));}}return _0x597d8e;}function _0x4e1084(_0x24b24c,_0x47680c,_0x44b041){switch(_0x24b24c){case Nu:return os['NONE'];case BR:return _0x47680c<_0x44b041?os['APPLY_STRE'+'TCHING']:os['NONE'];case Qg:return _0x47680c>=_0x44b041?os['APPLY_SHRI'+'NKING']:os['NONE'];case zR:return _0x47680c<_0x44b041?os['APPLY_STRE'+'TCHING']:os['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0x24b24c);}}function _0x55ca7b(_0x2f1e49,_0x20e23b){const _0x514041=_0x5a23da(_0x2f1e49,_0x20e23b['size']),_0x43f718=(_0x2f1e49['length']-(-0x4*-0x25+-0x142c+0x1399))*_0x2a774a['spacing'][_0x20e23b['axis']];return _0x514041+_0x43f718;}function _0x535cb5(_0x5d70c7,_0x14eec5,_0x3cf6ea){const _0xf8599=_0x4facef(_0x5d70c7,_0x3cf6ea['maxSize']),_0x4aba4e=_0x40d2af(_0x5d70c7,_0x3cf6ea['fittingPro'+'portion']),_0x7cb8c6=_0x25f15e(_0x4aba4e,_0xf8599);let _0x50e95f=ls[_0x3cf6ea['axis']]-_0x14eec5;for(let _0x556d2c=-0x2417+0x1*-0x82b+0x37*0xce;_0x556d2c<_0x5d70c7['length'];++_0x556d2c){const _0x400d8a=_0xf8599[_0x556d2c],_0x413bbe=_0x411663(_0x400d8a,_0x50e95f,_0x4aba4e,_0x7cb8c6),_0x2e61f2=_0x5d70c7[_0x400d8a][_0x3cf6ea['size']]+_0x413bbe,_0x4616c0=_0x5d70c7[_0x400d8a][_0x3cf6ea['maxSize']],_0x41743e=Math['min'](_0x2e61f2,_0x4616c0);_0x5d70c7[_0x400d8a][_0x3cf6ea['size']]=_0x41743e;const _0x49fb62=Math['max'](_0x2e61f2-_0x41743e,0x6*-0x56e+-0x1*0x206+-0x2b*-0xce),_0x34d689=_0x413bbe-_0x49fb62;_0x50e95f-=_0x34d689;}}function _0x19f626(_0x1a6e2e,_0x1591ce,_0x767ff2){const _0x6ef295=_0x4facef(_0x1a6e2e,_0x767ff2['minSize'],!(0x1*-0x23+0xe*0xe3+0x1*-0xc47)),_0x23d1da=_0x40d2af(_0x1a6e2e,_0x767ff2['fittingPro'+'portion']),_0x3bb014=_0x11f8b3(_0x23d1da),_0x3661da=_0x25f15e(_0x3bb014,_0x6ef295);let _0x872af1=_0x1591ce-ls[_0x767ff2['axis']];for(let _0x38d758=-0x428+-0x1a5*-0x17+0xd*-0x297;_0x38d758<_0x1a6e2e['length'];++_0x38d758){const _0xc58bb6=_0x6ef295[_0x38d758],_0x214fc9=_0x411663(_0xc58bb6,_0x872af1,_0x3bb014,_0x3661da),_0x5dbb79=_0x1a6e2e[_0xc58bb6][_0x767ff2['size']]-_0x214fc9,_0x22a9db=_0x1a6e2e[_0xc58bb6][_0x767ff2['minSize']],_0x5c9ecf=Math['max'](_0x5dbb79,_0x22a9db);_0x1a6e2e[_0xc58bb6][_0x767ff2['size']]=_0x5c9ecf;const _0x59386a=Math['max'](_0x5c9ecf-_0x5dbb79,0x19dc+-0x73b*-0x3+-0x2f8d),_0x181119=_0x214fc9-_0x59386a;_0x872af1-=_0x181119;}}function _0x411663(_0x4d1182,_0x4cf6e2,_0x58626f,_0x590525){const _0x1a9fda=_0x58626f[_0x4d1182],_0x2f6bce=_0x590525[_0x4d1182];return Math['abs'](_0x1a9fda)<0x265*-0x1+-0x7*0x1e3+0x2*0x7cd+0.00001&&Math['abs'](_0x2f6bce)<0xaf6+-0x8fd*0x4+0x18fe+0.00001?_0x4cf6e2:_0x4cf6e2*_0x1a9fda/_0x2f6bce;}function _0x2c92a2(_0x26dc0b,_0x56b839){const _0x57ee27={};_0x57ee27[_0x478df5['axis']]=0x8*-0x61+0x1b81+0x1*-0x1879,_0x57ee27[_0x1dd20b['axis']]=-0x1ad0+-0xba*0xd+0x15*0x1ba,_0x26dc0b[_0x478df5['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0x31470a=[];for(let _0x29e681=-0x833*-0x4+-0x1cc0+-0x40c;_0x29e681<_0x26dc0b['length'];++_0x29e681){const _0x5073fd=_0x26dc0b[_0x29e681];if(_0x5073fd['length']===0x1ce0+0x656+-0x2336*0x1){_0x31470a['push']([]);continue;}const _0x52c0c6=[],_0x1a9153=_0x56b839[_0x29e681];for(let _0x50fe0e=0x15*-0x96+-0x8b*0x1b+0x1af7;_0x50fe0e<_0x5073fd['length'];++_0x50fe0e){const _0x295fbd=_0x5073fd[_0x50fe0e],_0x41b5f6=_0x1a9153[_0x50fe0e];_0x57ee27[_0x1dd20b['axis']]-=_0xc2a821(_0x295fbd,_0x41b5f6),_0x57ee27[_0x478df5['axis']]-=_0x4b7dd8(_0x295fbd,_0x41b5f6),_0x52c0c6[_0x50fe0e]={},_0x52c0c6[_0x50fe0e][_0x478df5['axis']]=_0x57ee27[_0x478df5['axis']],_0x52c0c6[_0x50fe0e][_0x1dd20b['axis']]=_0x57ee27[_0x1dd20b['axis']],_0x57ee27[_0x1dd20b['axis']]+=_0xc2a821(_0x295fbd,_0x41b5f6),_0x57ee27[_0x478df5['axis']]+=_0x3d3a55(_0x295fbd,_0x41b5f6)+_0x2a774a['spacing'][_0x478df5['axis']];}_0x5073fd[_0x478df5['size']]=_0x57ee27[_0x478df5['axis']]-_0x2a774a['spacing'][_0x478df5['axis']],_0x5073fd[_0x1dd20b['size']]=_0x5073fd['largestSiz'+'e'][_0x1dd20b['size']],_0x26dc0b[_0x478df5['size']]=Math['max'](_0x26dc0b[_0x478df5['size']],_0x5073fd[_0x478df5['size']]),_0x57ee27[_0x478df5['axis']]=0xba5*-0x3+0x1*-0x626+0x2915,_0x57ee27[_0x1dd20b['axis']]+=_0x5073fd[_0x1dd20b['size']]+_0x2a774a['spacing'][_0x1dd20b['axis']],_0x31470a['push'](_0x52c0c6);}return _0x26dc0b[_0x1dd20b['size']]=_0x57ee27[_0x1dd20b['axis']]-_0x2a774a['spacing'][_0x1dd20b['axis']],_0x31470a;}function _0x32b076(_0x367dfe,_0x537213,_0x47f83e){const _0x17272c=_0x2a774a['alignment'][_0x478df5['axis']],_0xe8a20f=_0x2a774a['alignment'][_0x1dd20b['axis']],_0x1f09e1=_0x2a774a['padding'][_0x478df5['axis']],_0x58babe=_0x2a774a['padding'][_0x1dd20b['axis']];for(let _0x1e8763=-0x4e*0x63+0x32c*0x5+-0x727*-0x2;_0x1e8763<_0x367dfe['length'];++_0x1e8763){const _0x54017a=_0x367dfe[_0x1e8763],_0x567cb2=_0x537213[_0x1e8763],_0x1d0053=_0x47f83e[_0x1e8763],_0x4bc059=(ls[_0x478df5['axis']]-_0x54017a[_0x478df5['size']])*_0x17272c+_0x1f09e1,_0x47c1c0=(ls[_0x1dd20b['axis']]-_0x367dfe[_0x1dd20b['size']])*_0xe8a20f+_0x58babe;for(let _0x330f8f=0x3*0x97b+-0x19cc+-0x2a5*0x1;_0x330f8f<_0x54017a['length'];++_0x330f8f){const _0x649dd7=(_0x54017a[_0x1dd20b['size']]-_0x567cb2[_0x330f8f][_0x1dd20b['size']])*_0x2a774a['alignment'][_0x1dd20b['axis']];_0x1d0053[_0x330f8f][_0x478df5['axis']]+=_0x4bc059,_0x1d0053[_0x330f8f][_0x1dd20b['axis']]+=_0x47c1c0+_0x649dd7;}}}function _0x13c9fb(_0x15d75b,_0x15e961,_0x26438f){for(let _0x1874bf=0x20eb+-0x1bb+-0x1f30;_0x1874bf<_0x15d75b['length'];++_0x1874bf){const _0x3663bd=_0x15d75b[_0x1874bf],_0x102984=_0x15e961[_0x1874bf],_0x5b84f2=_0x26438f[_0x1874bf];for(let _0x134264=0x44*-0x29+0x106c+0x4*-0x162;_0x134264<_0x3663bd['length'];++_0x134264){const _0x5b7ef5=_0x3663bd[_0x134264];_0x5b7ef5[_0x478df5['calculated'+'Size']]=_0x102984[_0x134264][_0x478df5['size']],_0x5b7ef5[_0x1dd20b['calculated'+'Size']]=_0x102984[_0x134264][_0x1dd20b['size']],_0x2a774a['orientatio'+'n']===Ce?_0x5b7ef5['entity']['setLocalPo'+'sition'](_0x5b84f2[_0x134264][_0x478df5['axis']],_0x5b84f2[_0x134264][_0x1dd20b['axis']],_0x5b7ef5['entity']['getLocalPo'+'sition']()['z']):_0x5b7ef5['entity']['setLocalPo'+'sition'](_0x5b84f2[_0x134264][_0x1dd20b['axis']],_0x5b84f2[_0x134264][_0x478df5['axis']],_0x5b7ef5['entity']['getLocalPo'+'sition']()['z']);}}}function _0xa94ffc(_0x1eb21d){const _0x787d6f=_0x1eb21d['width'],_0x17f738=_0x1eb21d['height'],_0x2b1ef8=(ls['x']-_0x787d6f)*_0x2a774a['alignment']['x']+_0x2a774a['padding']['x'],_0x4db424=(ls['y']-_0x17f738)*_0x2a774a['alignment']['y']+_0x2a774a['padding']['y'];return{'bounds':new re(_0x2b1ef8,_0x4db424,_0x787d6f,_0x17f738)};}function _0xdc1d04(_0x2631be){const _0x473e88=[];for(let _0x587ccb=-0x71*-0x2e+-0x9fe*-0x1+0x1e4c*-0x1;_0x587ccb<_0x2631be['length'];++_0x587ccb){const _0x12fd00=_0x2631be[_0x587ccb],_0x3934db=Math['max'](_0x556d39(_0x12fd00,'minWidth'),-0x11e0+-0x6a*0x20+0x1f20),_0x547945=Math['max'](_0x556d39(_0x12fd00,'minHeight'),-0xceb*0x1+0x3*0xca0+-0x18f5),_0x277a13=Math['max'](_0x556d39(_0x12fd00,'maxWidth'),_0x3934db),_0x26a9b0=Math['max'](_0x556d39(_0x12fd00,'maxHeight'),_0x547945),_0x18b52b=_0x5609e7(_0x556d39(_0x12fd00,'width'),_0x3934db,_0x277a13),_0x583512=_0x5609e7(_0x556d39(_0x12fd00,'height'),_0x547945,_0x26a9b0),_0x4151fb=_0x556d39(_0x12fd00,'fitWidthPr'+'oportion'),_0x4f9744=_0x556d39(_0x12fd00,'fitHeightP'+'roportion');_0x473e88['push']({'minWidth':_0x3934db,'minHeight':_0x547945,'maxWidth':_0x277a13,'maxHeight':_0x26a9b0,'width':_0x18b52b,'height':_0x583512,'fitWidthProportion':_0x4151fb,'fitHeightProportion':_0x4f9744});}return _0x473e88;}function _0x556d39(_0x49c26c,_0x463aae){const _0x449156=_0x49c26c['entity']['layoutchil'+'d'];return _0x449156&&_0x449156['enabled']&&_0x449156[_0x463aae]!==void(-0x1de1+-0x1d1f+0x3b*0x100)&&_0x449156[_0x463aae]!==null?_0x449156[_0x463aae]:_0x49c26c[_0x463aae]!==void(0x194f+0x207b+0x1a*-0x239)?_0x49c26c[_0x463aae]:VR[_0x463aae];}function _0x5609e7(_0xab926f,_0x473de5,_0x47695f){return Math['min'](Math['max'](_0xab926f,_0x473de5),_0x47695f);}function _0x5a23da(_0x25ffc4,_0x1ea5c4){return _0x25ffc4['reduce']((_0x59d8c0,_0x12041d)=>_0x59d8c0+_0x12041d[_0x1ea5c4],-0x182a+-0x371*0x2+-0x4*-0x7c3);}function _0x40d2af(_0x38a190,_0x1dff9a){const _0x4494ae=_0x5a23da(_0x38a190,_0x1dff9a),_0x7d74d2=[],_0x58058d=_0x38a190['length'];if(_0x4494ae===-0xddb+0x3*0x863+0xb4e*-0x1){for(let _0x586f31=-0x93d+-0x12a*-0x20+0x1*-0x1c03;_0x586f31<_0x58058d;++_0x586f31)_0x7d74d2['push']((0x2d*0x67+-0x4*0x2a6+0x3c1*-0x2)/_0x58058d);}else{for(let _0x9bc661=-0xa0c+0xe0e*-0x2+0x2628;_0x9bc661<_0x58058d;++_0x9bc661)_0x7d74d2['push'](_0x38a190[_0x9bc661][_0x1dff9a]/_0x4494ae);}return _0x7d74d2;}function _0x11f8b3(_0x1d820e){if(_0x1d820e['length']===-0x2*0x1362+0x1*-0x1eb2+-0x1*-0x4577)return[0x89*0x16+0x449*-0x1+0x1df*-0x4];const _0x1553b2=[],_0x42e53c=_0x1d820e['length'];for(let _0xb61cec=0x509*0x2+-0x1827+0xe15;_0xb61cec<_0x42e53c;++_0xb61cec)_0x1553b2['push']((0x680+-0xa*0x124+-0x1a3*-0x3-_0x1d820e[_0xb61cec])/(_0x42e53c-(0x12b9+0x14d4+-0x278c)));return _0x1553b2;}function _0x4facef(_0x3edfd2,_0x24d77d,_0x57c2bd){return _0x3edfd2['forEach'](_0x1768c9),_0x3edfd2['slice']()['sort']((_0x202d1c,_0x4dcf75)=>_0x57c2bd?_0x4dcf75[_0x24d77d]-_0x202d1c[_0x24d77d]:_0x202d1c[_0x24d77d]-_0x4dcf75[_0x24d77d])['map'](_0x210e53);}function _0x1768c9(_0x23e150,_0x196324){_0x23e150['index']=_0x196324;}function _0x210e53(_0x224d06){return _0x224d06['index'];}function _0x25f15e(_0x2a027b,_0x5f9140){const _0xd414ca=[];_0xd414ca[_0x5f9140[_0x2a027b['length']-(0x1*0x2513+0x1*-0x1193+-0xd9*0x17)]]=_0x2a027b[_0x5f9140[_0x2a027b['length']-(-0xd98+-0x6*0x89+-0x14b*-0xd)]];for(let _0x4c6650=_0x2a027b['length']-(-0x6f2+0xe99+-0x7a5);_0x4c6650>=0x2d4+-0x15d5+-0x3cd*-0x5;--_0x4c6650)_0xd414ca[_0x5f9140[_0x4c6650]]=_0xd414ca[_0x5f9140[_0x4c6650+(-0x210b*0x1+-0xb7d+0x2c89)]]+_0x2a027b[_0x5f9140[_0x4c6650]];return _0xd414ca;}return _0x25126d;}const xm={};xm[Ce]=t0(Ce),xm[je]=t0(je);class GR{['calculateL'+'ayout'](_0x55402d,_0x266877){const _0x5b9e82=xm[_0x266877['orientatio'+'n']];if(_0x5b9e82)return _0x5b9e82(_0x55402d,_0x266877);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x266877['orientatio'+'n']);}}function Jg(_0x35d436){return _0x35d436['element'];}function HR(_0x15f612){return _0x15f612['enabled']&&_0x15f612['element']&&_0x15f612['element']['enabled'];}class s0 extends we{constructor(_0x41fa1c,_0x40e068){super(_0x41fa1c,_0x40e068),h(this,'_orientati'+'on',Ce),h(this,'_reverseX',!(-0x147d+0x1507+0x1*-0x89)),h(this,'_reverseY',!(0x1c91+0x1b*-0x164+0x8fb)),h(this,'_alignment',new J(0x16fb+0x131c*0x1+-0x2a17,-0x1981*-0x1+-0xffe+-0x982)),h(this,'_padding',new re()),h(this,'_spacing',new J()),h(this,'_widthFitt'+'ing',Nu),h(this,'_heightFit'+'ting',Nu),h(this,'_wrap',!(-0xc2f*-0x1+-0x17f1*0x1+-0x1*-0xbc3)),h(this,'_layoutCal'+'culator',new GR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x5c98b4=>{this['_listenFor'+'ReflowEven'+'ts'](_0x5c98b4,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),w['assert'](_0x41fa1c['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x41fa1c['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x41fa1c['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),w['assert'](_0x41fa1c['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x41fa1c['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x41fa1c['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x538d78){_0x538d78!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x538d78,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x4cc8fc){_0x4cc8fc!==this['_reverseX']&&(this['_reverseX']=_0x4cc8fc,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x54b976){_0x54b976!==this['_reverseY']&&(this['_reverseY']=_0x54b976,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x1e9046){_0x1e9046['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x1e9046),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x5ae314){_0x5ae314['equals'](this['_padding'])||(this['_padding']['copy'](_0x5ae314),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x4d3e29){_0x4d3e29['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x4d3e29),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0x42d088){_0x42d088!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0x42d088,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x32594){_0x32594!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x32594,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0xe5fb73){_0xe5fb73!==this['_wrap']&&(this['_wrap']=_0xe5fb73,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x4a721c){return _0x4a721c===this['entity']||this['entity']['children']['indexOf'](_0x4a721c)!==-(-0x33*-0xb7+-0xa1a*-0x3+-0x42c2);}['_listenFor'+'ReflowEven'+'ts'](_0x2c9ca3,_0x5a9f68){_0x2c9ca3['element']&&(_0x2c9ca3['element'][_0x5a9f68]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x2c9ca3['element'][_0x5a9f68]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x2c9ca3['element'][_0x5a9f68]('resize',this['_scheduleR'+'eflow'],this),_0x2c9ca3['element'][_0x5a9f68]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x2c9ca3['layoutchil'+'d']&&(_0x2c9ca3['layoutchil'+'d'][_0x5a9f68]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x2c9ca3['layoutchil'+'d'][_0x5a9f68]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x29d35e){this['_isSelfOrC'+'hild'](_0x29d35e)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x29d35e,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x13a1c9){this['_isSelfOrC'+'hild'](_0x13a1c9)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x13a1c9,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0xe73bdb){this['_listenFor'+'ReflowEven'+'ts'](_0xe73bdb,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0x6e3263){this['_listenFor'+'ReflowEven'+'ts'](_0x6e3263,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x18b287=Jg(this['entity']),_0x310bf5=this['entity']['children']['filter'](HR)['map'](Jg);if(!_0x18b287||_0x310bf5['length']===-0x9f3+0x6*0x5a3+-0x17df)return;const _0xd8cbd8=Math['max'](_0x18b287['calculated'+'Width'],-0x2146+-0xab4+0x15fd*0x2),_0x3cc8be=Math['max'](_0x18b287['calculated'+'Height'],0x44f*0x4+0x1393*-0x1+0x257),_0x2a7d91={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new J(_0xd8cbd8,_0x3cc8be)};this['_isPerform'+'ingReflow']=!(0x24a9+0x19*-0xe4+-0xe65);const _0x5a9e61=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x310bf5,_0x2a7d91);this['_isPerform'+'ingReflow']=!(-0xf05+-0x1*-0x8eb+-0x61b*-0x1),this['fire']('reflow',_0x5a9e61);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x3e7026=>{this['_listenFor'+'ReflowEven'+'ts'](_0x3e7026,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class WR{constructor(){this['enabled']=!(0xeaf+-0x1ed+-0xcc2);}}const i0=['enabled'],$R=-0x2474+-0x14d+-0xf*-0x28b;class XR extends ct{constructor(_0x327ae1){super(_0x327ae1),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=s0,this['DataType']=WR,this['schema']=i0,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x1cc17c,_0x1c6ff0,_0x254f49){_0x1c6ff0['enabled']!==void(-0x234b+0x244+0x2107)&&(_0x1cc17c['enabled']=_0x1c6ff0['enabled']),_0x1c6ff0['orientatio'+'n']!==void(-0x8*0x371+-0x72e+0x22b6*0x1)&&(_0x1cc17c['orientatio'+'n']=_0x1c6ff0['orientatio'+'n']),_0x1c6ff0['reverseX']!==void(0x496*-0x1+0x4a7+-0x11)&&(_0x1cc17c['reverseX']=_0x1c6ff0['reverseX']),_0x1c6ff0['reverseY']!==void(-0x26a2+-0x8*0x296+0x6*0x9e3)&&(_0x1cc17c['reverseY']=_0x1c6ff0['reverseY']),_0x1c6ff0['alignment']!==void(-0x2e8+0x10d3+-0xdeb)&&(_0x1cc17c['alignment']=Array['isArray'](_0x1c6ff0['alignment'])?new J(_0x1c6ff0['alignment']):_0x1c6ff0['alignment']),_0x1c6ff0['padding']!==void(-0x1bb9+0x271+0xca4*0x2)&&(_0x1cc17c['padding']=Array['isArray'](_0x1c6ff0['padding'])?new re(_0x1c6ff0['padding']):_0x1c6ff0['padding']),_0x1c6ff0['spacing']!==void(-0xfc5+0x1*0x12f5+-0x330)&&(_0x1cc17c['spacing']=Array['isArray'](_0x1c6ff0['spacing'])?new J(_0x1c6ff0['spacing']):_0x1c6ff0['spacing']),_0x1c6ff0['widthFitti'+'ng']!==void(-0x67*-0x1c+0x1cdd+-0x2821)&&(_0x1cc17c['widthFitti'+'ng']=_0x1c6ff0['widthFitti'+'ng']),_0x1c6ff0['heightFitt'+'ing']!==void(0x1f71+-0xc*0x15c+-0xf21*0x1)&&(_0x1cc17c['heightFitt'+'ing']=_0x1c6ff0['heightFitt'+'ing']),_0x1c6ff0['wrap']!==void(-0x240+0x3fa+-0x1*0x1ba)&&(_0x1cc17c['wrap']=_0x1c6ff0['wrap']),super['initialize'+'ComponentD'+'ata'](_0x1cc17c,_0x1c6ff0,_0x254f49);}['cloneCompo'+'nent'](_0x147e95,_0x4f5556){const _0x4fbce6=_0x147e95['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x4f5556,{'enabled':_0x4fbce6['enabled'],'orientation':_0x4fbce6['orientatio'+'n'],'reverseX':_0x4fbce6['reverseX'],'reverseY':_0x4fbce6['reverseY'],'alignment':_0x4fbce6['alignment'],'padding':_0x4fbce6['padding'],'spacing':_0x4fbce6['spacing'],'widthFitting':_0x4fbce6['widthFitti'+'ng'],'heightFitting':_0x4fbce6['heightFitt'+'ing'],'wrap':_0x4fbce6['wrap']});}['scheduleRe'+'flow'](_0xe230b7){this['_reflowQue'+'ue']['indexOf'](_0xe230b7)===-(0x2173*-0x1+-0x1b8+0x232c*0x1)&&this['_reflowQue'+'ue']['push'](_0xe230b7);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===-0x2*0x994+0x1273+0xb5)return;let _0x458e39=-0x2516+0x2151+0x3c5;for(;this['_reflowQue'+'ue']['length']>-0xe9c+0x1543*-0x1+0x23df;){const _0x9477c5=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=0x1244+-0x9d8*-0x2+-0x25f4,_0x9477c5['sort']((_0x535b40,_0x407b5f)=>_0x535b40['entity']['graphDepth']-_0x407b5f['entity']['graphDepth']);for(let _0x133d92=0x2f*0x47+-0x1aa7+0xd9e;_0x133d92<_0x9477c5['length'];++_0x133d92)_0x9477c5[_0x133d92]['reflow']();if(++_0x458e39>=$R){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x35092d,_0x4683d0){_0x4683d0['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}we['_buildAcce'+'ssors'](s0['prototype'],i0);class qR{constructor(){h(this,'map',new Map());}['destroy'](_0x1d1893){this['map']['forEach'](_0x28d77b=>_0x28d77b['mesh']['destroy']());}}const jR=new Kt(),r0=(_0x51f5e5,_0x5840f2)=>{const _0x4809b9=jR['get'](_0x51f5e5,()=>new qR());let _0x115bc2=_0x4809b9['map']['get'](_0x5840f2);if(!_0x115bc2){let _0x42b250,_0x4cf52e;switch(_0x5840f2){case'box':_0x42b250=Ge['fromGeomet'+'ry'](_0x51f5e5,new mu()),_0x4cf52e={'x':0x2,'y':0x2,'z':0x2,'uv':(0x264d+-0x1799+-0xeb2)/(0x491+0x22a+-0x6b8)};break;case'capsule':_0x42b250=Ge['fromGeomet'+'ry'](_0x51f5e5,new GA({'radius':0.5,'height':0x2})),_0x4cf52e={'x':Math['PI']*(-0x446*-0x1+-0x7*0x25f+0xc55),'y':Math['PI'],'z':Math['PI']*(0x1e0c+-0x18e0+-0x52a),'uv':(-0x1081+0x15be+-0x53c)/(-0x4*-0x631+-0x3e*0x8e+-0x1*-0x9a3)+(-0x89*0x13+-0x8*-0x353+-0x2*0x836)/(0x3b6+-0x1f0f*-0x1+-0x22c2)/(0x12b8+0x2599+-0x1c27*0x2)*(0xe57*0x1+-0x18e7+0x42*0x29)};break;case'cone':_0x42b250=Ge['fromGeomet'+'ry'](_0x51f5e5,new HA({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0x4cf52e={'x':2.54,'y':2.54,'z':2.54,'uv':(-0x1935+0x42*-0x20+0x2176)/(-0x26a5+-0x6d*-0x26+0x167a)+(-0x89*0x31+-0x1f3*0x1+0x1c2d)/(0x177f+0x7*0x141+-0x2043)/(0x7*0xc5+0xc25+-0x381*0x5)};break;case'cylinder':_0x42b250=Ge['fromGeomet'+'ry'](_0x51f5e5,new WA({'radius':0.5,'height':0x1})),_0x4cf52e={'x':Math['PI'],'y':(0x434+-0x7c1*0x4+0x1ad0+0.79)*(0xfc2+-0x12e1+0x321),'z':Math['PI'],'uv':(0x1d57+0x33*0x85+-0x37d5)/(-0xfbb+0xf4d*0x1+0x71)+(-0x1*0x181d+-0x1*-0x24a7+0xc89*-0x1)/(0x13b8+-0x122f+-0xd*0x1e)/(0x1*0x1171+0x99a+0xa*-0x2b4)*(0x5*-0xc5+0x7be+-0x3e3)};break;case'plane':_0x42b250=Ge['fromGeomet'+'ry'](_0x51f5e5,new $A({'halfExtents':new J(0x25fe*-0x1+0x125c+0x167*0xe+0.5,-0x2012+0x17d5*0x1+-0x25*-0x39+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0x4cf52e={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x42b250=Ge['fromGeomet'+'ry'](_0x51f5e5,new _m({'radius':0.5})),_0x4cf52e={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x42b250=Ge['fromGeomet'+'ry'](_0x51f5e5,new XA({'tubeRadius':0.2,'ringRadius':0.3})),_0x4cf52e={'x':Math['PI']*(0x1*0x17f1+0x1100+-0x28f1+0.5)*(0x18*-0xd3+0x25f4+-0x122c+0.5)-Math['PI']*(0x102f+-0x11b1+0x182*0x1+0.1)*(0x2*-0x1231+-0x2265+-0x46c7*-0x1+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x5840f2);}_0x42b250['incRefCoun'+'t'](),_0x115bc2={'mesh':_0x42b250,'area':_0x4cf52e},_0x4809b9['map']['set'](_0x5840f2,_0x115bc2);}return _0x115bc2;};class Tm extends we{constructor(_0x265790,_0x38ded2){super(_0x265790,_0x38ded2),h(this,'_type','asset'),h(this,'_asset',null),h(this,'_model',null),h(this,'_mapping',{}),h(this,'_castShado'+'ws',!(-0x463*0x6+0x54e*0x2+0x2*0x7db)),h(this,'_receiveSh'+'adows',!(0x1bc7+0x2350+-0x3f17)),h(this,'_materialA'+'sset',null),h(this,'_material'),h(this,'_castShado'+'wsLightmap',!(0x1efd*-0x1+-0x2424+0x4321)),h(this,'_lightmapp'+'ed',!(-0x254*0xd+0x1768+-0xfb*-0x7)),h(this,'_lightmapS'+'izeMultipl'+'ier',0x1e07+-0x14df+-0x927),h(this,'isStatic',!(-0x4*0x4e7+0x1e94+-0xaf7*0x1)),h(this,'_layers',[er]),h(this,'_batchGrou'+'pId',-(-0x74e+0x7f8+-0xa9)),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_materialE'+'vents',null),h(this,'_clonedMod'+'el',!(-0x1*-0xa13+-0x454+-0x5be)),h(this,'_batchGrou'+'p',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x265790['defaultMat'+'erial'],_0x38ded2['on']('remove',this['onRemoveCh'+'ild'],this),_0x38ded2['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x38ded2['on']('insert',this['onInsertCh'+'ild'],this),_0x38ded2['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x4e7aaf){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x4e7aaf);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x31ea62){if(this['_customAab'+'b']=_0x31ea62,this['_model']){const _0x48d655=this['_model']['meshInstan'+'ces'];if(_0x48d655){for(let _0x5bc2d5=0x1acc+-0x6d*-0x19+-0x2571;_0x5bc2d5<_0x48d655['length'];_0x5bc2d5++)_0x48d655[_0x5bc2d5]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x332258){if(this['_type']!==_0x332258){if(this['_area']=null,this['_type']=_0x332258,_0x332258==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x2fa50d=r0(this['system']['app']['graphicsDe'+'vice'],_0x332258);this['_area']=_0x2fa50d['area'];const _0x37349d=_0x2fa50d['mesh'],_0x318a7b=new Ie(),_0x51e7d0=new sr();_0x51e7d0['graph']=_0x318a7b,_0x51e7d0['meshInstan'+'ces']=[new He(_0x37349d,this['_material'],_0x318a7b)],this['model']=_0x51e7d0,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x57207c){const _0x4930de=this['system']['app']['assets'];let _0x1b3378=_0x57207c;if(_0x57207c instanceof pe&&(_0x1b3378=_0x57207c['id']),this['_asset']!==_0x1b3378){if(this['_asset']){_0x4930de['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x2e7b9b=_0x4930de['get'](this['_asset']);_0x2e7b9b&&this['_unbindMod'+'elAsset'](_0x2e7b9b);}if(this['_asset']=_0x1b3378,this['_asset']){const _0x490ead=_0x4930de['get'](this['_asset']);_0x490ead?this['_bindModel'+'Asset'](_0x490ead):(this['model']=null,_0x4930de['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x1ca092){if(this['_model']!==_0x1ca092){if(_0x1ca092&&_0x1ca092['_immutable']){w['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(-0x96c+0x70e+0x25f),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(-0x1196+0x148c+-0x2f5))),this['_model']=_0x1ca092,this['_model']){this['_model']['_immutable']=!(0x1c1f+-0xa*-0x33e+-0xb*0x581);const _0x3f3222=this['_model']['meshInstan'+'ces'];for(let _0x5001f9=0x26a8+0xad*-0x5+-0x2347;_0x5001f9<_0x3f3222['length'];_0x5001f9++)_0x3f3222[_0x5001f9]['castShadow']=this['_castShado'+'ws'],_0x3f3222[_0x5001f9]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x3f3222[_0x5001f9]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x5e88ab){if(_0x5e88ab!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x5e88ab,this['_model'])){const _0x4cb6d5=this['_model']['meshInstan'+'ces'];for(let _0x3dbb8b=0x893*0x1+0xd*0x4b+-0xc62*0x1;_0x3dbb8b<_0x4cb6d5['length'];_0x3dbb8b++)_0x4cb6d5[_0x3dbb8b]['setLightma'+'pped'](_0x5e88ab);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x853a29){if(this['_castShado'+'ws']===_0x853a29)return;const _0x1c495f=this['_model'];if(_0x1c495f){const _0x904b27=this['layers'],_0x42f8e5=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x853a29)for(let _0x2e3b9f=0x218a+0x83*0xa+-0x26a8;_0x2e3b9f<_0x904b27['length'];_0x2e3b9f++){const _0x54e84c=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x2e3b9f]);_0x54e84c&&_0x54e84c['removeShad'+'owCasters'](_0x1c495f['meshInstan'+'ces']);}const _0x29f25b=_0x1c495f['meshInstan'+'ces'];for(let _0x4629c4=-0x25bb+0x1292*-0x1+0x47*0xcb;_0x4629c4<_0x29f25b['length'];_0x4629c4++)_0x29f25b[_0x4629c4]['castShadow']=_0x853a29;if(!this['_castShado'+'ws']&&_0x853a29)for(let _0x525ae1=-0x1a63+-0x617+0x2*0x103d;_0x525ae1<_0x904b27['length'];_0x525ae1++){const _0x402aa1=_0x42f8e5['layers']['getLayerBy'+'Id'](_0x904b27[_0x525ae1]);_0x402aa1&&_0x402aa1['addShadowC'+'asters'](_0x1c495f['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x853a29;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x44584a){if(this['_receiveSh'+'adows']!==_0x44584a&&(this['_receiveSh'+'adows']=_0x44584a,this['_model'])){const _0x5d0a6a=this['_model']['meshInstan'+'ces'];for(let _0x2a598f=0x21b5*-0x1+-0xb*-0x259+-0x2*-0x3f1,_0x17f741=_0x5d0a6a['length'];_0x2a598f<_0x17f741;_0x2a598f++)_0x5d0a6a[_0x2a598f]['receiveSha'+'dow']=_0x44584a;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x86eaf){this['_castShado'+'wsLightmap']=_0x86eaf;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x47217f){this['_lightmapS'+'izeMultipl'+'ier']=_0x47217f;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x2830e0){const _0x2d2caf=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x4b5ce7=0x1903+0x11b5*-0x2+0xa67;_0x4b5ce7<this['_layers']['length'];_0x4b5ce7++){const _0x35f66e=_0x2d2caf['getLayerBy'+'Id'](this['_layers'][_0x4b5ce7]);_0x35f66e&&_0x35f66e['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=-0x1eb9+0x7*0x452+0x29*0x3;for(let _0x177fef=0xa2d+-0xa8f*-0x1+-0x1*0x14bc;_0x177fef<_0x2830e0['length'];_0x177fef++)this['_layers'][_0x177fef]=_0x2830e0[_0x177fef];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0x481070=-0x2137+0x9d3+0x1764;_0x481070<this['_layers']['length'];_0x481070++){const _0xff4a97=_0x2d2caf['getLayerBy'+'Id'](this['_layers'][_0x481070]);_0xff4a97&&_0xff4a97['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x2b5f3c){var _0x3ebba9,_0x127226;this['_batchGrou'+'pId']!==_0x2b5f3c&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x56f*0x5+-0x1*0x22bd+0x3de8&&((_0x3ebba9=this['system']['app']['batcher'])==null||_0x3ebba9['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x2b5f3c>=0x2*-0x12cd+0xfe2+0x15b8&&((_0x127226=this['system']['app']['batcher'])==null||_0x127226['insert'](St['MODEL'],_0x2b5f3c,this['entity'])),_0x2b5f3c<-0x1bde*-0x1+-0xd55*-0x1+0x1*-0x2933&&this['_batchGrou'+'pId']>=-0x281*-0xe+-0x2a+-0x22e4&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x2b5f3c);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x4e4875){let _0x61230f=_0x4e4875;_0x4e4875 instanceof pe&&(_0x61230f=_0x4e4875['id']);const _0x39f1ac=this['system']['app']['assets'];if(_0x61230f!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x39f1ac['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x6d70cc=_0x39f1ac['get'](this['_materialA'+'sset']);_0x6d70cc&&this['_unbindMat'+'erialAsset'](_0x6d70cc);}if(this['_materialA'+'sset']=_0x61230f,this['_materialA'+'sset']){const _0x585a49=_0x39f1ac['get'](this['_materialA'+'sset']);_0x585a49?this['_bindMater'+'ialAsset'](_0x585a49):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x39f1ac['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x2fd1cd){this['_material']!==_0x2fd1cd&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x2fd1cd));}get['material'](){return this['_material'];}set['mapping'](_0x2faa7c){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x2faa7c||(_0x2faa7c={}),this['_mapping']=_0x2faa7c,!this['_model']))return;const _0x4604c7=this['_model']['meshInstan'+'ces'],_0x2ee392=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x1b1d3f=_0x2ee392?_0x2ee392['data']['mapping']:null;let _0x2c7995=null;for(let _0x2a8f80=0x13*0x96+0x228f+-0x2db1,_0x38b15f=_0x4604c7['length'];_0x2a8f80<_0x38b15f;_0x2a8f80++)if(_0x2faa7c[_0x2a8f80]!==void(0x1*-0x24d7+0x1526+0xfb1))_0x2faa7c[_0x2a8f80]?(_0x2c7995=this['system']['app']['assets']['get'](_0x2faa7c[_0x2a8f80]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x2c7995,_0x4604c7[_0x2a8f80],_0x2a8f80)):_0x4604c7[_0x2a8f80]['material']=this['system']['defaultMat'+'erial'];else{if(_0x1b1d3f){if(_0x1b1d3f[_0x2a8f80]&&(_0x1b1d3f[_0x2a8f80]['material']||_0x1b1d3f[_0x2a8f80]['path'])){if(_0x1b1d3f[_0x2a8f80]['material']!==void(-0x5*-0x115+0x13*-0x1bb+0x1b78))_0x2c7995=this['system']['app']['assets']['get'](_0x1b1d3f[_0x2a8f80]['material']);else{if(_0x1b1d3f[_0x2a8f80]['path']!==void(-0x195a+0x1*-0x11bf+0x2b19)){const _0xc0f5b9=this['_getMateri'+'alAssetUrl'](_0x1b1d3f[_0x2a8f80]['path']);_0xc0f5b9&&(_0x2c7995=this['system']['app']['assets']['getByUrl'](_0xc0f5b9));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x2c7995,_0x4604c7[_0x2a8f80],_0x2a8f80);}else _0x4604c7[_0x2a8f80]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0xae376a=this['system']['app']['scene']['layers'];for(let _0x54247c=-0x2158+-0xc9*0x22+0x3c0a;_0x54247c<this['_layers']['length'];_0x54247c++){const _0x103f7b=_0xae376a['getLayerBy'+'Id'](this['_layers'][_0x54247c]);_0x103f7b&&_0x103f7b['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x43531a=this['system']['app']['scene']['layers'];for(let _0x180d54=0x65*-0xf+0x1883*-0x1+0x1e6e;_0x180d54<this['_layers']['length'];_0x180d54++){const _0x15e474=_0x43531a['getLayerBy'+'Id'](this['_layers'][_0x180d54]);_0x15e474&&_0x15e474['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x5e84f7,_0x72adad){this['addModelTo'+'Layers'](),_0x5e84f7['off']('add',this['onLayerAdd'+'ed'],this),_0x5e84f7['off']('remove',this['onLayerRem'+'oved'],this),_0x72adad['on']('add',this['onLayerAdd'+'ed'],this),_0x72adad['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0xf38ae0){this['layers']['indexOf'](_0xf38ae0['id'])<-0x26f5+-0x16ea+0x3ddf||_0xf38ae0['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x5cc963){this['layers']['indexOf'](_0x5cc963['id'])<-0x1b*-0xb1+0x2475+-0x3720||_0x5cc963['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x21d163,_0x53be5b,_0x35295c,_0x431c86){const _0x4557ab=_0x53be5b+':'+_0x35295c;this['system']['app']['assets']['on'](_0x4557ab,_0x431c86,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x21d163]||(this['_materialE'+'vents'][_0x21d163]={}),this['_materialE'+'vents'][_0x21d163][_0x4557ab]={'id':_0x35295c,'handler':_0x431c86};}['_unsetMate'+'rialEvents'](){const _0x1876d5=this['system']['app']['assets'],_0x2185ff=this['_materialE'+'vents'];if(_0x2185ff){for(let _0x45c480=-0x2*-0x5b5+0xc53*-0x3+0x9*0x2d7,_0x2e6d9f=_0x2185ff['length'];_0x45c480<_0x2e6d9f;_0x45c480++){if(!_0x2185ff[_0x45c480])continue;const _0x29895d=_0x2185ff[_0x45c480];for(const _0x52f7f1 in _0x29895d)_0x1876d5['off'](_0x52f7f1,_0x29895d[_0x52f7f1]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x439d45){let _0x2fc3e3=null;if(!isNaN(parseInt(_0x439d45,-0x59*0x1d+-0x1*-0x6ff+-0x190*-0x2)))_0x2fc3e3=this['system']['app']['assets']['get'](_0x439d45);else{if(this['asset']){const _0x5bf85b=this['_getMateri'+'alAssetUrl'](_0x439d45);_0x5bf85b&&(_0x2fc3e3=this['system']['app']['assets']['getByUrl'](_0x5bf85b));}}return _0x2fc3e3;}['_getMateri'+'alAssetUrl'](_0x536548){if(!this['asset'])return null;const _0x42cd8d=this['system']['app']['assets']['get'](this['asset']);return _0x42cd8d?_0x42cd8d['getAbsolut'+'eUrl'](_0x536548):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x26895b,_0x3b1835,_0x35b756){const _0x20e90b=this['system']['app']['assets'];_0x26895b&&(_0x26895b['resource']?(_0x3b1835['material']=_0x26895b['resource'],this['_setMateri'+'alEvent'](_0x35b756,'remove',_0x26895b['id'],function(){_0x3b1835['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x35b756,'load',_0x26895b['id'],function(_0x3173db){_0x3b1835['material']=_0x3173db['resource'],this['_setMateri'+'alEvent'](_0x35b756,'remove',_0x26895b['id'],function(){_0x3b1835['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x20e90b['load'](_0x26895b)));}['onEnable'](){var _0x5bdaad;const _0x4012a5=this['system']['app'],_0xa4acb0=_0x4012a5['scene'],_0xd64d0=_0xa4acb0==null?void(-0x1*0x121+-0x141c*-0x1+-0x71*0x2b):_0xa4acb0['layers'];this['_evtLayers'+'Changed']=_0xa4acb0['on']('set:layers',this['onLayersCh'+'anged'],this),_0xd64d0&&(this['_evtLayerA'+'dded']=_0xd64d0['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0xd64d0['on']('remove',this['onLayerRem'+'oved'],this));const _0x34a6c9=this['_type']==='asset';let _0x43f28a;if(this['_model']?this['addModelTo'+'Layers']():_0x34a6c9&&this['_asset']&&(_0x43f28a=_0x4012a5['assets']['get'](this['_asset']),_0x43f28a&&_0x43f28a['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x43f28a)),this['_materialA'+'sset']&&(_0x43f28a=_0x4012a5['assets']['get'](this['_materialA'+'sset']),_0x43f28a&&_0x43f28a['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x43f28a)),_0x34a6c9&&this['_mapping']){for(const _0x29755b in this['_mapping'])this['_mapping'][_0x29755b]&&(_0x43f28a=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x29755b]),_0x43f28a&&!_0x43f28a['resource']&&_0x4012a5['assets']['load'](_0x43f28a));}this['_batchGrou'+'pId']>=-0x18df*-0x1+0x166b*0x1+-0x2*0x17a5&&((_0x5bdaad=_0x4012a5['batcher'])==null||_0x5bdaad['insert'](St['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x5a1d53,_0x1b1050,_0x20bace,_0x7f2cbb;const _0x19fd7e=this['system']['app'],_0x563ce1=_0x19fd7e['scene']['layers'];(_0x5a1d53=this['_evtLayers'+'Changed'])==null||_0x5a1d53['off'](),this['_evtLayers'+'Changed']=null,_0x563ce1&&((_0x1b1050=this['_evtLayerA'+'dded'])==null||_0x1b1050['off'](),this['_evtLayerA'+'dded']=null,(_0x20bace=this['_evtLayerR'+'emoved'])==null||_0x20bace['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0x89d+0x6f7*-0x1+0x2*0x7ca&&((_0x7f2cbb=_0x19fd7e['batcher'])==null||_0x7f2cbb['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x3cab83=this['_model']['meshInstan'+'ces'];for(let _0x3f40bd=-0x4*-0x76+-0x2486+0x22ae,_0x4110bc=_0x3cab83['length'];_0x3f40bd<_0x4110bc;_0x3f40bd++)_0x3cab83[_0x3f40bd]['visible']=!(0x105a+0xe23+-0x1e7c);}}['show'](){if(this['_model']){const _0x1a0831=this['_model']['meshInstan'+'ces'];for(let _0x32e615=-0x1ebc*-0x1+0x1b9d+0xd*-0x47d,_0x29b67a=_0x1a0831['length'];_0x32e615<_0x29b67a;_0x32e615++)_0x1a0831[_0x32e615]['visible']=!(-0xf7+-0x26a7+0xb*0x39a);}}['_bindMater'+'ialAsset'](_0x19c19f){if(_0x19c19f['on']('load',this['_onMateria'+'lAssetLoad'],this),_0x19c19f['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x19c19f['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x19c19f['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0x19c19f['resource'])this['_onMateria'+'lAssetLoad'](_0x19c19f);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x19c19f);}}['_unbindMat'+'erialAsset'](_0x49ddd8){_0x49ddd8['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x49ddd8['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x49ddd8['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x49ddd8['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x394c97){this['system']['app']['assets']['off']('add:'+_0x394c97['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x394c97['id']&&this['_bindMater'+'ialAsset'](_0x394c97);}['_onMateria'+'lAssetLoad'](_0x12e8db){this['_setMateri'+'al'](_0x12e8db['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x30820b){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x4a8334){this['_onMateria'+'lAssetUnlo'+'ad'](_0x4a8334);}['_onMateria'+'lAssetChan'+'ge'](_0x4b3329){}['_bindModel'+'Asset'](_0x1873fc){if(this['_unbindMod'+'elAsset'](_0x1873fc),_0x1873fc['on']('load',this['_onModelAs'+'setLoad'],this),_0x1873fc['on']('unload',this['_onModelAs'+'setUnload'],this),_0x1873fc['on']('change',this['_onModelAs'+'setChange'],this),_0x1873fc['on']('remove',this['_onModelAs'+'setRemove'],this),_0x1873fc['resource'])this['_onModelAs'+'setLoad'](_0x1873fc);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x1873fc);}}['_unbindMod'+'elAsset'](_0x590d3b){_0x590d3b['off']('load',this['_onModelAs'+'setLoad'],this),_0x590d3b['off']('unload',this['_onModelAs'+'setUnload'],this),_0x590d3b['off']('change',this['_onModelAs'+'setChange'],this),_0x590d3b['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x622527){this['system']['app']['assets']['off']('add:'+_0x622527['id'],this['_onModelAs'+'setAdded'],this),_0x622527['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x622527);}['_onModelAs'+'setLoad'](_0x25e71f){this['model']=_0x25e71f['resource']['clone'](),this['_clonedMod'+'el']=!(-0x1c85+0x6c3+0x15c2*0x1);}['_onModelAs'+'setUnload'](_0x1cb068){this['model']=null;}['_onModelAs'+'setChange'](_0x155c8c,_0x23b2bb,_0x193570,_0x224d1e){_0x23b2bb==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0x42a289){this['model']=null;}['_setMateri'+'al'](_0x3e691e){if(this['_material']===_0x3e691e)return;this['_material']=_0x3e691e;const _0x5293f8=this['_model'];if(_0x5293f8&&this['_type']!=='asset'){const _0x1ec7b7=_0x5293f8['meshInstan'+'ces'];for(let _0x3d5319=-0xe68+0x6aa*0x2+-0x2*-0x8a,_0x5738d4=_0x1ec7b7['length'];_0x3d5319<_0x5738d4;_0x3d5319++)_0x1ec7b7[_0x3d5319]['material']=_0x3e691e;}}}class YR{constructor(){this['enabled']=!(0x1362+-0x16*-0x14d+-0x3000);}}const a0=['enabled'];class KR extends ct{constructor(_0x29e1c2){super(_0x29e1c2),this['id']='model',this['ComponentT'+'ype']=Tm,this['DataType']=YR,this['schema']=a0,this['defaultMat'+'erial']=Qn(_0x29e1c2['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x236425,_0x2d851e,_0x2ed5f3){_0x2ed5f3=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x2d851e['batchGroup'+'Id']===null||_0x2d851e['batchGroup'+'Id']===void(0x1100+0x1964*-0x1+0xb3*0xc))&&(_0x2d851e['batchGroup'+'Id']=-(-0x17*-0xe2+-0x33c*-0x9+-0x3169)),_0x2d851e['layers']&&_0x2d851e['layers']['length']&&(_0x2d851e['layers']=_0x2d851e['layers']['slice'](0x9*0x403+-0x1860+-0xbbb));for(let _0x57e3c0=0x183c+-0x1b1c+0x2e0;_0x57e3c0<_0x2ed5f3['length'];_0x57e3c0++)_0x2d851e['hasOwnProp'+'erty'](_0x2ed5f3[_0x57e3c0])&&(_0x236425[_0x2ed5f3[_0x57e3c0]]=_0x2d851e[_0x2ed5f3[_0x57e3c0]]);_0x2d851e['aabbCenter']&&_0x2d851e['aabbHalfEx'+'tents']&&(_0x236425['customAabb']=new De(new D(_0x2d851e['aabbCenter']),new D(_0x2d851e['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x236425,_0x2d851e,['enabled']);}['cloneCompo'+'nent'](_0x2da564,_0x45a979){const _0xfdd0f2={'type':_0x2da564['model']['type'],'asset':_0x2da564['model']['asset'],'castShadows':_0x2da564['model']['castShadow'+'s'],'receiveShadows':_0x2da564['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x2da564['model']['castShadow'+'sLightmap'],'lightmapped':_0x2da564['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x2da564['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x2da564['model']['isStatic'],'enabled':_0x2da564['model']['enabled'],'layers':_0x2da564['model']['layers'],'batchGroupId':_0x2da564['model']['batchGroup'+'Id'],'mapping':ah({},_0x2da564['model']['mapping'])};let _0x37f24e=_0x2da564['model']['materialAs'+'set'];!(_0x37f24e instanceof pe)&&_0x37f24e!=null&&(_0x37f24e=this['app']['assets']['get'](_0x37f24e));const _0x131c93=_0x2da564['model']['material'];(!_0x131c93||_0x131c93===this['defaultMat'+'erial']||!_0x37f24e||_0x131c93===_0x37f24e['resource'])&&(_0xfdd0f2['materialAs'+'set']=_0x37f24e);const _0xcd6d43=this['addCompone'+'nt'](_0x45a979,_0xfdd0f2);if(_0x2da564['model']['model']&&_0x2da564['model']['type']==='asset'&&!_0x2da564['model']['asset']&&(_0xcd6d43['model']=_0x2da564['model']['model']['clone'](),_0xcd6d43['_clonedMod'+'el']=!(0x7ce*-0x1+-0x3*-0x164+0x3a2)),_0xfdd0f2['materialAs'+'set']||(_0xcd6d43['material']=_0x131c93),_0x2da564['model']['model']){const _0x273709=_0x2da564['model']['model']['meshInstan'+'ces'],_0x3db74a=_0xcd6d43['model']['meshInstan'+'ces'];for(let _0x3dd788=-0x58*-0x5c+-0x1*-0x1612+0x4f*-0xae;_0x3dd788<_0x273709['length'];_0x3dd788++)_0x3db74a[_0x3dd788]['mask']=_0x273709[_0x3dd788]['mask'],_0x3db74a[_0x3dd788]['material']=_0x273709[_0x3dd788]['material'],_0x3db74a[_0x3dd788]['layer']=_0x273709[_0x3dd788]['layer'],_0x3db74a[_0x3dd788]['receiveSha'+'dow']=_0x273709[_0x3dd788]['receiveSha'+'dow'];}return _0x2da564['model']['customAabb']&&(_0xcd6d43['customAabb']=_0x2da564['model']['customAabb']['clone']()),_0xcd6d43;}['onRemove'](_0x292bd5,_0x4efe89){_0x4efe89['onRemove']();}}we['_buildAcce'+'ssors'](Tm['prototype'],a0);const ZR=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],QR=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],JR=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Cc=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Ya;class e3 extends we{constructor(_0x38c931,_0x28fade){super(_0x38c931,_0x28fade),h(this,'_requested'+'Depth',!(0x5b3*0x1+-0x26e6+0x55*0x64)),h(this,'_drawOrder',-0x1*-0x171f+0x2*0xd31+-0x3181),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),ZR['forEach'](_0x104fa2=>{this['on']('set_'+_0x104fa2,this['onSetSimpl'+'eProperty'],this);}),QR['forEach'](_0x1ba8c9=>{this['on']('set_'+_0x1ba8c9,this['onSetCompl'+'exProperty'],this);}),JR['forEach'](_0x2e6412=>{this['on']('set_'+_0x2e6412,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x29f837=this['system']['store'][this['entity']['getGuid']()];return _0x29f837?_0x29f837['data']:null;}set['enabled'](_0x1761aa){this['_setValue']('enabled',_0x1761aa);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x5104c8){this['_setValue']('autoPlay',_0x5104c8);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x18492c){this['_setValue']('numParticl'+'es',_0x18492c);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x274f3b){this['_setValue']('lifetime',_0x274f3b);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x14ec81){this['_setValue']('rate',_0x14ec81);}get['rate'](){return this['data']['rate'];}set['rate2'](_0x2d8441){this['_setValue']('rate2',_0x2d8441);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x363ed7){this['_setValue']('startAngle',_0x363ed7);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x1e2c5c){this['_setValue']('startAngle'+'2',_0x1e2c5c);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x4cfeca){this['_setValue']('loop',_0x4cfeca);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0xaeb1be){this['_setValue']('preWarm',_0xaeb1be);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0x15a5ca){this['_setValue']('lighting',_0x15a5ca);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x314adb){this['_setValue']('halfLamber'+'t',_0x314adb);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x25be84){this['_setValue']('intensity',_0x25be84);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x54a479){this['_setValue']('depthWrite',_0x54a479);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x3ea950){this['_setValue']('noFog',_0x3ea950);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x51d453){this['_setValue']('depthSofte'+'ning',_0x51d453);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x923617){this['_setValue']('sort',_0x923617);}get['sort'](){return this['data']['sort'];}set['blendType'](_0x46f669){this['_setValue']('blendType',_0x46f669);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0x555bd8){this['_setValue']('stretch',_0x555bd8);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x4e20b0){this['_setValue']('alignToMot'+'ion',_0x4e20b0);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x4d7b06){this['_setValue']('emitterSha'+'pe',_0x4d7b06);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x54ce99){this['_setValue']('emitterExt'+'ents',_0x54ce99);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x2efbde){this['_setValue']('emitterExt'+'entsInner',_0x2efbde);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0x5691b7){this['_setValue']('emitterRad'+'ius',_0x5691b7);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x2576cd){this['_setValue']('emitterRad'+'iusInner',_0x2576cd);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x402387){this['_setValue']('initialVel'+'ocity',_0x402387);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x336c5d){this['_setValue']('wrap',_0x336c5d);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x283a19){this['_setValue']('wrapBounds',_0x283a19);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x4868bc){this['_setValue']('localSpace',_0x4868bc);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0x18f547){this['_setValue']('screenSpac'+'e',_0x18f547);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x8dfa56){this['_setValue']('colorMapAs'+'set',_0x8dfa56);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x22fe4e){this['_setValue']('normalMapA'+'sset',_0x22fe4e);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x3d2be1){this['_setValue']('mesh',_0x3d2be1);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x5b977e){this['_setValue']('meshAsset',_0x5b977e);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x59cdde){this['_setValue']('renderAsse'+'t',_0x59cdde);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x33d753){this['_setValue']('orientatio'+'n',_0x33d753);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0x15c5c4){this['_setValue']('particleNo'+'rmal',_0x15c5c4);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x36c7aa){this['_setValue']('localVeloc'+'ityGraph',_0x36c7aa);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0xca2191){this['_setValue']('localVeloc'+'ityGraph2',_0xca2191);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0xe879f5){this['_setValue']('velocityGr'+'aph',_0xe879f5);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x3eb316){this['_setValue']('velocityGr'+'aph2',_0x3eb316);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x5bf81c){this['_setValue']('rotationSp'+'eedGraph',_0x5bf81c);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0x549a03){this['_setValue']('rotationSp'+'eedGraph2',_0x549a03);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x2ea0d0){this['_setValue']('radialSpee'+'dGraph',_0x2ea0d0);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x188fb0){this['_setValue']('radialSpee'+'dGraph2',_0x188fb0);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x578561){this['_setValue']('scaleGraph',_0x578561);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x542979){this['_setValue']('scaleGraph'+'2',_0x542979);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x405504){this['_setValue']('colorGraph',_0x405504);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x473d15){this['_setValue']('colorGraph'+'2',_0x473d15);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0x3a44b4){this['_setValue']('alphaGraph',_0x3a44b4);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x2ec264){this['_setValue']('alphaGraph'+'2',_0x2ec264);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x38806e){this['_setValue']('colorMap',_0x38806e);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0x5d40c3){this['_setValue']('normalMap',_0x5d40c3);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0x973a96){this['_setValue']('animTilesX',_0x973a96);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x3c89b8){this['_setValue']('animTilesY',_0x3c89b8);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x3c8d23){this['_setValue']('animStartF'+'rame',_0x3c8d23);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0x3b6a17){this['_setValue']('animNumFra'+'mes',_0x3b6a17);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x4bdae1){this['_setValue']('animNumAni'+'mations',_0x4bdae1);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x503f0a){this['_setValue']('animIndex',_0x503f0a);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x44102a){this['_setValue']('randomizeA'+'nimIndex',_0x44102a);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x420ba2){this['_setValue']('animSpeed',_0x420ba2);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x34e235){this['_setValue']('animLoop',_0x34e235);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x57470c){this['_setValue']('layers',_0x57470c);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x509853){this['_drawOrder']=_0x509853,this['emitter']&&(this['emitter']['drawOrder']=_0x509853);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x5c842f,_0x22be0a){const _0x4b77e4=this['data'],_0x4a6618=_0x4b77e4[_0x5c842f];_0x4b77e4[_0x5c842f]=_0x22be0a,this['fire']('set',_0x5c842f,_0x4a6618,_0x22be0a);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x57ca8f=0x590+0x1*0x23e3+-0x2973;_0x57ca8f<this['layers']['length'];_0x57ca8f++){const _0x2ab1c8=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x57ca8f]);_0x2ab1c8&&(_0x2ab1c8['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x2ab1c8);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x269f71=-0x81a*0x3+0xd23+0xb2b;_0x269f71<this['layers']['length'];_0x269f71++){const _0x38196d=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x269f71]);_0x38196d&&_0x38196d['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x272b60,_0x47b473,_0x17dd9e){if(this['emitter']){for(let _0x5e958f=-0xb35+-0x1b2+-0x3*-0x44d;_0x5e958f<_0x47b473['length'];_0x5e958f++){const _0x314db7=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x47b473[_0x5e958f]);_0x314db7&&_0x314db7['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x620b6f=-0x776*-0x4+0x17c+0xfaa*-0x2;_0x620b6f<_0x17dd9e['length'];_0x620b6f++){const _0x32aabe=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x17dd9e[_0x620b6f]);_0x32aabe&&_0x32aabe['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x2a2c71,_0x17ce05){this['addMeshIns'+'tanceToLay'+'ers'](),_0x2a2c71['off']('add',this['onLayerAdd'+'ed'],this),_0x2a2c71['off']('remove',this['onLayerRem'+'oved'],this),_0x17ce05['on']('add',this['onLayerAdd'+'ed'],this),_0x17ce05['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x4d427d){!this['emitter']||this['layers']['indexOf'](_0x4d427d['id'])<-0x140e+-0x1*0x17e7+0x2bf5||_0x4d427d['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x3f7c9e){!this['emitter']||this['layers']['indexOf'](_0x3f7c9e['id'])<0x260c+0x265*-0x7+-0x1549||_0x3f7c9e['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x3ffbf3){if(_0x3ffbf3['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x3ffbf3['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x3ffbf3['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x3ffbf3['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x3ffbf3['resource'])this['_onColorMa'+'pAssetLoad'](_0x3ffbf3);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x3ffbf3);}}['_unbindCol'+'orMapAsset'](_0x5d8bab){_0x5d8bab['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0x5d8bab['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x5d8bab['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x5d8bab['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x3d4986){this['colorMap']=_0x3d4986['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x1853be){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x575ca6){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x575ca6);}['_onColorMa'+'pAssetChan'+'ge'](_0x42d3d3){}['onSetColor'+'MapAsset'](_0x144980,_0x3a3557,_0x3bec9d){const _0x15ce5c=this['system']['app']['assets'];if(_0x3a3557){const _0x22cb28=_0x15ce5c['get'](_0x3a3557);_0x22cb28&&this['_unbindCol'+'orMapAsset'](_0x22cb28);}if(_0x3bec9d){_0x3bec9d instanceof pe&&(this['data']['colorMapAs'+'set']=_0x3bec9d['id'],_0x3bec9d=_0x3bec9d['id']);const _0x467d09=_0x15ce5c['get'](_0x3bec9d);_0x467d09?this['_bindColor'+'MapAsset'](_0x467d09):_0x15ce5c['once']('add:'+_0x3bec9d,_0x450000=>{this['_bindColor'+'MapAsset'](_0x450000);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0x1288b2){if(_0x1288b2['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x1288b2['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x1288b2['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x1288b2['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0x1288b2['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0x1288b2);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x1288b2);}}['_unbindNor'+'malMapAsse'+'t'](_0x4ea6a1){_0x4ea6a1['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x4ea6a1['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x4ea6a1['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x4ea6a1['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x27a61d){this['normalMap']=_0x27a61d['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x446db1){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x466fe5){this['_onNormalM'+'apAssetUnl'+'oad'](_0x466fe5);}['_onNormalM'+'apAssetCha'+'nge'](_0x5e461b){}['onSetNorma'+'lMapAsset'](_0x6a1b5a,_0x39c2b7,_0x26639c){const _0x3f2bee=this['system']['app']['assets'];if(_0x39c2b7){const _0x331a3e=_0x3f2bee['get'](_0x39c2b7);_0x331a3e&&this['_unbindNor'+'malMapAsse'+'t'](_0x331a3e);}if(_0x26639c){_0x26639c instanceof pe&&(this['data']['normalMapA'+'sset']=_0x26639c['id'],_0x26639c=_0x26639c['id']);const _0x2c7f09=_0x3f2bee['get'](_0x26639c);_0x2c7f09?this['_bindNorma'+'lMapAsset'](_0x2c7f09):_0x3f2bee['once']('add:'+_0x26639c,_0x48bc68=>{this['_bindNorma'+'lMapAsset'](_0x48bc68);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x437609){if(_0x437609['on']('load',this['_onMeshAss'+'etLoad'],this),_0x437609['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x437609['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x437609['on']('change',this['_onMeshAss'+'etChange'],this),_0x437609['resource'])this['_onMeshAss'+'etLoad'](_0x437609);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x437609);}}['_unbindMes'+'hAsset'](_0x752e6b){_0x752e6b['off']('load',this['_onMeshAss'+'etLoad'],this),_0x752e6b['off']('unload',this['_onMeshAss'+'etUnload'],this),_0x752e6b['off']('remove',this['_onMeshAss'+'etRemove'],this),_0x752e6b['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x187ed0){this['_onMeshCha'+'nged'](_0x187ed0['resource']);}['_onMeshAss'+'etUnload'](_0x3eb7a1){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x4ef188){this['_onMeshAss'+'etUnload'](_0x4ef188);}['_onMeshAss'+'etChange'](_0x2e035a){}['onSetMeshA'+'sset'](_0x265011,_0x1a341c,_0x1ee4ba){const _0x55e91a=this['system']['app']['assets'];if(_0x1a341c){const _0x566674=_0x55e91a['get'](_0x1a341c);_0x566674&&this['_unbindMes'+'hAsset'](_0x566674);}if(_0x1ee4ba){_0x1ee4ba instanceof pe&&(this['data']['meshAsset']=_0x1ee4ba['id'],_0x1ee4ba=_0x1ee4ba['id']);const _0x3e9d70=_0x55e91a['get'](_0x1ee4ba);_0x3e9d70&&this['_bindMeshA'+'sset'](_0x3e9d70);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0x51cd8e,_0x269a1b,_0x4b8636){!_0x4b8636||_0x4b8636 instanceof pe||typeof _0x4b8636=='number'?this['meshAsset']=_0x4b8636:this['_onMeshCha'+'nged'](_0x4b8636);}['_onMeshCha'+'nged'](_0x40685b){_0x40685b&&!(_0x40685b instanceof Ge)&&(_0x40685b['meshInstan'+'ces'][0x6c5+0x61*0x15+-0xeba]?_0x40685b=_0x40685b['meshInstan'+'ces'][-0xfe7+0xedd+-0x1*-0x10a]['mesh']:_0x40685b=null),this['data']['mesh']=_0x40685b,this['emitter']&&(this['emitter']['mesh']=_0x40685b,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0x583229,_0x30af6c,_0xf9d77f){const _0x508c10=this['system']['app']['assets'];if(_0x30af6c){const _0xeeca55=_0x508c10['get'](_0x30af6c);_0xeeca55&&this['_unbindRen'+'derAsset'](_0xeeca55);}if(_0xf9d77f){_0xf9d77f instanceof pe&&(this['data']['renderAsse'+'t']=_0xf9d77f['id'],_0xf9d77f=_0xf9d77f['id']);const _0x5d7fba=_0x508c10['get'](_0xf9d77f);_0x5d7fba&&this['_bindRende'+'rAsset'](_0x5d7fba);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x113ac2){if(_0x113ac2['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x113ac2['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x113ac2['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x113ac2['resource'])this['_onRenderA'+'ssetLoad'](_0x113ac2);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x113ac2);}}['_unbindRen'+'derAsset'](_0x11a89b){var _0xaff79;_0x11a89b['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x11a89b['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x11a89b['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0xaff79=this['_evtSetMes'+'hes'])==null||_0xaff79['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0x4c240c){this['_onRenderC'+'hanged'](_0x4c240c['resource']);}['_onRenderA'+'ssetUnload'](_0x568edd){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x656365){this['_onRenderA'+'ssetUnload'](_0x656365);}['_onRenderC'+'hanged'](_0x2183a9){var _0x23bc6a;if(!_0x2183a9){this['_onMeshCha'+'nged'](null);return;}(_0x23bc6a=this['_evtSetMes'+'hes'])==null||_0x23bc6a['off'](),this['_evtSetMes'+'hes']=_0x2183a9['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x2183a9['meshes']&&this['_onRenderS'+'etMeshes'](_0x2183a9['meshes']);}['_onRenderS'+'etMeshes'](_0x1c32b5){this['_onMeshCha'+'nged'](_0x1c32b5&&_0x1c32b5[0x2686+-0x1f*0x2e+-0x20f4]);}['onSetLoop'](_0x52c4b3,_0x309a07,_0x32fc83){this['emitter']&&(this['emitter'][_0x52c4b3]=_0x32fc83,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x3dd451,_0xb10c40,_0x2fe114){this['emitter']&&(this['emitter'][_0x3dd451]=_0x2fe114,this['emitter']['material']['blendType']=_0x2fe114,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Ya||(Ya=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps)),Ya&&(Ya['incrementC'+'ounter'](),this['_requested'+'Depth']=!(-0x4e1*0x1+0x5c3+-0xe2)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Ya&&(Ya['decrementC'+'ounter'](),this['_requested'+'Depth']=!(-0x128d*0x1+-0x1e19+0x30a7));}['onSetDepth'+'Softening'](_0x12424f,_0x54e937,_0x5f57a0){_0x54e937!==_0x5f57a0&&(_0x5f57a0?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x12424f]=_0x5f57a0)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x12424f]=_0x5f57a0)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x4f2a24,_0x1660d6,_0x4fc76f){this['emitter']&&(this['emitter'][_0x4f2a24]=_0x4fc76f,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x3b50f3,_0x42753b,_0x24d441){this['emitter']&&(this['emitter'][_0x3b50f3]=_0x24d441,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x182f0e,_0x2ee2a5,_0x840195){this['emitter']&&(this['emitter'][_0x182f0e]=_0x840195,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x7ed36f=this['system']['app']['scene'],_0x13ceaa=_0x7ed36f['layers'],_0x3d2dbb=this['data'];for(let _0x321c5e=-0x28*0x2a+-0x3*0x364+-0x264*-0x7,_0x39a8f9=Cc['length'];_0x321c5e<_0x39a8f9;_0x321c5e++){let _0x22982f=_0x3d2dbb[Cc[_0x321c5e]];if(_0x22982f){if(!(_0x22982f instanceof pe)){if(parseInt(_0x22982f,-0x1e4c+-0xd9a+-0x98*-0x4a)>=-0x4*0x3a1+0x5*-0x767+0x112d*0x3)_0x22982f=this['system']['app']['assets']['get'](_0x22982f);else continue;}_0x22982f&&!_0x22982f['resource']&&this['system']['app']['assets']['load'](_0x22982f);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x279dcf=_0x3d2dbb['mesh'];_0x279dcf instanceof Ge||(_0x279dcf=null),this['emitter']=new CA(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0x3d2dbb['numParticl'+'es'],'emitterExtents':_0x3d2dbb['emitterExt'+'ents'],'emitterExtentsInner':_0x3d2dbb['emitterExt'+'entsInner'],'emitterRadius':_0x3d2dbb['emitterRad'+'ius'],'emitterRadiusInner':_0x3d2dbb['emitterRad'+'iusInner'],'emitterShape':_0x3d2dbb['emitterSha'+'pe'],'initialVelocity':_0x3d2dbb['initialVel'+'ocity'],'wrap':_0x3d2dbb['wrap'],'localSpace':_0x3d2dbb['localSpace'],'screenSpace':_0x3d2dbb['screenSpac'+'e'],'wrapBounds':_0x3d2dbb['wrapBounds'],'lifetime':_0x3d2dbb['lifetime'],'rate':_0x3d2dbb['rate'],'rate2':_0x3d2dbb['rate2'],'orientation':_0x3d2dbb['orientatio'+'n'],'particleNormal':_0x3d2dbb['particleNo'+'rmal'],'animTilesX':_0x3d2dbb['animTilesX'],'animTilesY':_0x3d2dbb['animTilesY'],'animStartFrame':_0x3d2dbb['animStartF'+'rame'],'animNumFrames':_0x3d2dbb['animNumFra'+'mes'],'animNumAnimations':_0x3d2dbb['animNumAni'+'mations'],'animIndex':_0x3d2dbb['animIndex'],'randomizeAnimIndex':_0x3d2dbb['randomizeA'+'nimIndex'],'animSpeed':_0x3d2dbb['animSpeed'],'animLoop':_0x3d2dbb['animLoop'],'startAngle':_0x3d2dbb['startAngle'],'startAngle2':_0x3d2dbb['startAngle'+'2'],'scaleGraph':_0x3d2dbb['scaleGraph'],'scaleGraph2':_0x3d2dbb['scaleGraph'+'2'],'colorGraph':_0x3d2dbb['colorGraph'],'colorGraph2':_0x3d2dbb['colorGraph'+'2'],'alphaGraph':_0x3d2dbb['alphaGraph'],'alphaGraph2':_0x3d2dbb['alphaGraph'+'2'],'localVelocityGraph':_0x3d2dbb['localVeloc'+'ityGraph'],'localVelocityGraph2':_0x3d2dbb['localVeloc'+'ityGraph2'],'velocityGraph':_0x3d2dbb['velocityGr'+'aph'],'velocityGraph2':_0x3d2dbb['velocityGr'+'aph2'],'rotationSpeedGraph':_0x3d2dbb['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0x3d2dbb['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0x3d2dbb['radialSpee'+'dGraph'],'radialSpeedGraph2':_0x3d2dbb['radialSpee'+'dGraph2'],'colorMap':_0x3d2dbb['colorMap'],'normalMap':_0x3d2dbb['normalMap'],'loop':_0x3d2dbb['loop'],'preWarm':_0x3d2dbb['preWarm'],'sort':_0x3d2dbb['sort'],'stretch':_0x3d2dbb['stretch'],'alignToMotion':_0x3d2dbb['alignToMot'+'ion'],'lighting':_0x3d2dbb['lighting'],'halfLambert':_0x3d2dbb['halfLamber'+'t'],'intensity':_0x3d2dbb['intensity'],'depthSoftening':_0x3d2dbb['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x279dcf,'depthWrite':_0x3d2dbb['depthWrite'],'noFog':_0x3d2dbb['noFog'],'node':this['entity'],'blendType':_0x3d2dbb['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0x3d2dbb['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(0x1043+0x13d4+-0x120b*0x2));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x7ed36f['on']('set:layers',this['onLayersCh'+'anged'],this),_0x13ceaa&&(this['_evtLayerA'+'dded']=_0x13ceaa['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x13ceaa['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0x3d2dbb['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x337193,_0x5e5d80,_0x4e9462;const _0x14c501=this['system']['app']['scene']['layers'];(_0x337193=this['_evtLayers'+'Changed'])==null||_0x337193['off'](),this['_evtLayers'+'Changed']=null,_0x14c501&&((_0x5e5d80=this['_evtLayerA'+'dded'])==null||_0x5e5d80['off'](),this['_evtLayerA'+'dded']=null,(_0x4e9462=this['_evtLayerR'+'emoved'])==null||_0x4e9462['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(0x2*-0x105a+-0x9*0x271+0x36ae)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x56e5a1=0x919+-0x161*-0xe+-0x1c67;_0x56e5a1<Cc['length'];_0x56e5a1++){const _0x3ae72a=Cc[_0x56e5a1];this['data'][_0x3ae72a]&&(this[_0x3ae72a]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(0x1*0x1291+0x2b*-0x41+-0x7a5),this['emitter']['resetTime'](),this['emitter']['addTime'](-0x512*-0x1+0x20a9*-0x1+-0x3f1*-0x7,!(-0xd*0x61+0xd0e+-0x821*0x1)));}['pause'](){this['data']['paused']=!(-0x4*-0x251+-0xad9+0x195);}['unpause'](){this['data']['paused']=!(0x259b+-0x1bd1*0x1+-0x9c9);}['play'](){this['data']['paused']=!(-0x16fb+-0x22a0+0x399c),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(-0x57e+-0x4d1*0x4+0x18c2),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(-0xd40*-0x1+-0x345*0x2+0x11*-0x65):this['emitter']&&this['emitter']['loop']?!(-0x5b0+0xc10+-0x660):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x261d20}=this;_0x261d20&&!_0x261d20['inTools']&&(_0x261d20['inTools']=!(0x210c+-0x5dc+-0x28*0xae),this['rebuild']());}['rebuild'](){const _0x45ee84=this['enabled'];this['enabled']=!(-0xa3*0x22+0x2141+0x3*-0x3de),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0x45ee84;}}class t3{constructor(){this['numParticl'+'es']=-0x11de*0x1+-0x6a*-0x36+-0x1*0x47d,this['rate']=-0xba2*0x2+0x2e*-0xcc+0x3bed,this['rate2']=null,this['startAngle']=0x883*-0x3+-0x1d95+0x371e,this['startAngle'+'2']=null,this['lifetime']=-0x1e1*0x1+0x1a68+-0x1855,this['emitterExt'+'ents']=new D(),this['emitterExt'+'entsInner']=new D(),this['emitterRad'+'ius']=0x1*-0x39+-0x90*-0x1b+-0xef7,this['emitterRad'+'iusInner']=0xa42+-0x12*0x12+-0x1*0x8fe,this['emitterSha'+'pe']=ai,this['initialVel'+'ocity']=-0x1a8b+-0x295*0x7+0x2c9e*0x1,this['wrap']=!(-0x222a+-0x1d89+0x3fb4),this['wrapBounds']=new D(),this['localSpace']=!(-0x103a+0x25af+0x2*-0xaba),this['screenSpac'+'e']=!(0x2a9*-0x4+-0x66*-0x3f+-0xe75),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(-0x5*0x6ad+-0x3*-0x83f+-0x229*-0x4),this['preWarm']=!(-0x1*0x1625+0x26*-0x103+0x3c98),this['sort']=-0x9*-0x1e8+0xaf4+-0x2*0xe0e,this['mode']=rv,this['scene']=null,this['lighting']=!(0x516+0x3ed*0x2+0x2b*-0x4d),this['halfLamber'+'t']=!(0x23af+0x1a70+-0x3e1e),this['intensity']=0x9c*0x40+0x26f9+-0x4df8,this['stretch']=0x270a+-0x39d+0xbcf*-0x3,this['alignToMot'+'ion']=!(-0x2380*-0x1+-0x30d*0x5+-0x143e),this['depthSofte'+'ning']=0xfee+0x1255+0x1*-0x2243,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(0x7*-0x587+0x6c5+0x1fed),this['noFog']=!(-0x1053+-0x1c*0xef+-0x3*-0xe28),this['orientatio'+'n']=yh,this['particleNo'+'rmal']=new D(0x2380+0xd31+-0x30b1,-0x1139+0x7*0x2e9+-0x73*0x7,0x34e*0x6+-0x23a4+0x3f4*0x4),this['animTilesX']=-0xd33*0x1+-0x1eab+0x1*0x2bdf,this['animTilesY']=0x1d47+0x25a5+-0x42eb,this['animStartF'+'rame']=-0x1*-0x1d1d+-0x17e4+-0x539*0x1,this['animNumFra'+'mes']=0x289+0x25fa+0x2882*-0x1,this['animNumAni'+'mations']=0x3d1+0x1c20+0xe*-0x248,this['animIndex']=-0x1*-0x14a4+0x17ab+-0xec5*0x3,this['randomizeA'+'nimIndex']=!(-0x2fb*-0x7+0x15ad+-0x2a89),this['animSpeed']=0x1cbe+0x474*0x5+-0x3301,this['animLoop']=!(-0x1d4+0x638*0x4+-0x170c),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Zs,this['enabled']=!(-0xf2d+0x17*0x176+-0x126d),this['paused']=!(-0x142f*0x1+-0x2d*0x3f+0x1f43),this['autoPlay']=!(0x1f61+0x1689+0xce*-0x43),this['layers']=[er];}}const s3='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0auniform\x20'+'float\x20soft'+'ening;\x0auni'+'form\x20float'+'\x20colorMult'+';\x0a\x0afloat\x20s'+'aturate(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex\x20\x20=\x20tex'+'ture2D(col'+'orMap,\x20vec'+'2(texCoord'+'sAlphaLife'+'.x,\x201.0\x20-\x20'+'texCoordsA'+'lphaLife.y'+'));\x0a\x20\x20\x20\x20ve'+'c4\x20ramp\x20=\x20'+'texture2D('+'colorParam'+',\x20vec2(tex'+'CoordsAlph'+'aLife.w,\x200'+'.0));\x0a\x20\x20\x20\x20'+'ramp.rgb\x20*'+'=\x20colorMul'+'t;\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20+=\x20te'+'xCoordsAlp'+'haLife.z;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'rgb\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'float\x20a\x20\x20='+'\x20tex.a\x20*\x20r'+'amp.a;\x0a',i3='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20meshLoca'+'lPos\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20vec2\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20nlife\x20='+'\x20clamp(inL'+'ife\x20/\x20part'+'icleLifeti'+'me,\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20param'+'Div;\x0a\x20\x20\x20\x20v'+'ec4\x20params'+'\x20=\x20tex1Dlo'+'d_lerp(TEX'+'TURE_PASS('+'internalTe'+'x2),\x20vec2('+'nlife,\x200),'+'\x20paramDiv)'+';\x0a\x20\x20\x20\x20floa'+'t\x20scale\x20=\x20'+'params.y;\x0a'+'\x20\x20\x20\x20float\x20'+'scaleDiv\x20='+'\x20paramDiv.'+'x;\x0a\x20\x20\x20\x20flo'+'at\x20alphaDi'+'v\x20=\x20paramD'+'iv.z;\x0a\x0a\x20\x20\x20'+'\x20scale\x20+=\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20scale'+'DivMult\x20*\x20'+'fract(rndF'+'actor*1000'+'0.0);\x0a\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(quadXY'+'\x20*\x20-0.5\x20+\x20'+'0.5,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'alphaDivMu'+'lt\x20*\x20fract'+'(rndFactor'+'*1000.0),\x20'+'nlife);\x0a#e'+'lse\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_uv,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePos\x20='+'\x20inPos;\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePosMo'+'ved\x20=\x20vec3'+'(0.0);\x0a\x0a\x20\x20'+'\x20\x20mat2\x20rot'+'Matrix;\x0a'),r3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',a3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',n3='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',o3='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',l3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y\x20*\x20('+'1.0\x20/\x20255.'+'0)\x20+\x20rg.x;'+'\x0a}\x0a\x0afloat\x20'+'decodeFloa'+'tRGBA(\x20vec'+'4\x20rgba\x20)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(rgba'+',\x20vec4(1.0'+',\x201.0\x20/\x2025'+'5.0,\x201.0\x20/'+'\x2065025.0,\x20'+'1.0\x20/\x201605'+'81375.0));'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+('rticles\x20-\x20'+'1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),c3='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',h3='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),d3='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',f3='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',u3='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',p3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',m3='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',_3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',g3='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',S3='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),y3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',v3='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',x3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',T3='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',w3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec2\x20pa'+'rticle_ver'+'texData5;\x0a'+'#else\x0a\x20\x20\x20\x20'+'attribute\x20'+'vec4\x20parti'+'cle_vertex'+'Data5;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifndef\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a#endif\x0a\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20lifetim'+'e;\x0auniform'+'\x20float\x20str'+'etch;\x0aunif'+'orm\x20float\x20'+'seed;\x0aunif'+'orm\x20vec3\x20w'+'rapBounds;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rScale;\x0aun'+('iform\x20vec3'+'\x20faceTange'+'nt;\x0aunifor'+'m\x20vec3\x20fac'+'eBinorm;\x0a\x0a'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex0'+';\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x1;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex2;\x0a#end'+'if\x0auniform'+'\x20vec3\x20emit'+'terPos;\x0a\x0av'+'arying\x20vec'+'4\x20texCoord'+'sAlphaLife'+';\x0a\x0avec2\x20ro'+'tate(vec2\x20'+'quadXY,\x20fl'+'oat\x20pRotat'+'ion,\x20out\x20m'+'at2\x20rotMat'+'rix)\x0a{\x0a\x20\x20\x20'+'\x20float\x20c\x20='+'\x20cos(pRota'+'tion);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20sin(pRota'+'tion);\x0a\x20\x20\x20'+'\x20//vec4\x20ro'+'tationMatr'+'ix\x20=\x20vec4('+'c,\x20-s,\x20s,\x20'+'c);\x0a\x0a\x20\x20\x20\x20m'+'at2\x20m\x20=\x20ma'+'t2(c,\x20-s,\x20'+'s,\x20c);\x0a\x20\x20\x20'+'\x20rotMatrix'+'\x20=\x20m;\x0a\x0a\x20\x20\x20'+'\x20return\x20m\x20'+'*\x20quadXY;\x0a'+'}\x0a\x0avec3\x20bi'+'llboard(ve'+'c3\x20Instanc'+'eCoords,\x20v'+'ec2\x20quadXY'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20return\x20p'+'os;\x0a}\x0a\x0avec'+'3\x20customFa'+'ce(vec3\x20In'+'stanceCoor'+'ds,\x20vec2\x20q'+'uadXY)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20po'+'s\x20=\x20faceTa'+'ngent\x20*\x20qu'+'adXY.x\x20+\x20f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avoid\x20main'+'(void)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20pa'+'rticlePos\x20'+'=\x20particle'+'_vertexDat'+'a.xyz;\x0a\x20\x20\x20'+'\x20vec3\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20vec3\x20vert'+'Pos\x20=\x20part'+'icle_verte'+'xData3.xyz'+';\x0a\x20\x20\x20\x20vec3'+'\x20inVel\x20=\x20v'+'ec3(partic'+'le_vertexD'+'ata2.w,\x20pa')+('rticle_ver'+'texData3.w'+',\x20particle'+'_vertexDat'+'a5.x);\x0a\x0a\x20\x20'+'\x20\x20float\x20id'+'\x20=\x20floor(p'+'article_ve'+'rtexData4)'+';\x0a\x20\x20\x20\x20floa'+'t\x20rndFacto'+'r\x20=\x20fract('+'sin(id\x20+\x201'+'.0\x20+\x20seed)'+');\x0a\x20\x20\x20\x20vec'+'3\x20rndFacto'+'r3\x20=\x20vec3('+'rndFactor,'+'\x20fract(rnd'+'Factor*10.'+'0),\x20fract('+'rndFactor*'+'100.0));\x0a\x0a'+'#ifdef\x20LOC'+'AL_SPACE\x0a\x20'+'\x20\x20\x20inVel\x20='+'\x20mat3(matr'+'ix_model)\x20'+'*\x20inVel;\x0a#'+'endif\x0a\x20\x20\x20\x20'+'vec2\x20veloc'+'ityV\x20=\x20nor'+'malize((ma'+'t3(matrix_'+'view)\x20*\x20in'+'Vel).xy);\x20'+'//\x20should\x20'+'be\x20removed'+'\x20by\x20compil'+'er\x20if\x20alig'+'n/stretch\x20'+'is\x20not\x20use'+'d\x0a\x0a\x20\x20\x20\x20vec'+'2\x20quadXY\x20='+'\x20vertPos.x'+'y;\x0a\x0a#ifdef'+'\x20USE_MESH\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe\x20=\x20vec4('+'particle_v'+'ertexData5'+'.zw,\x20parti'+'cle_vertex'+'Data2.z,\x20p'+'article_ve'+'rtexData.w'+');\x0a#else\x0a\x20'+'\x20\x20\x20texCoor'+'dsAlphaLif'+'e\x20=\x20vec4(q'+'uadXY\x20*\x20-0'+'.5\x20+\x200.5,\x20'+'particle_v'+'ertexData2'+'.z,\x20partic'+'le_vertexD'+'ata.w);\x0a#e'+'ndif\x0a\x20\x20\x20\x20m'+'at2\x20rotMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'float\x20inAn'+'gle\x20=\x20part'+'icle_verte'+'xData2.x;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20vec3\x20me'+'shLocalPos'+'\x20=\x20particl'+'e_vertexDa'+'ta3.xyz;\x0a'),E3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',b3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',A3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',C3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',P3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20vec3'+'\x20posNormal'+'\x20=\x20-normal'+'\x20*\x200.5\x20+\x200'+'.5;\x0a\x20\x20\x20\x20ne'+'gNormal\x20*='+'\x20negNormal'+';\x0a\x20\x20\x20\x20posN'+'ormal\x20*=\x20p'+'osNormal;\x0a',M3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a\x0a#i'+'f\x20defined('+'USE_MESH)\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(USE_'+'MESH_UV)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20particle'+'_uv;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mesh'+'\x20UV\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20par'+'ticle_uv\x20='+'\x20vec2(0.0,'+'\x200.0);\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+'Projection'+';\x0auniform\x20'+'mat4\x20matri'+'x_model;\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20numPart'+'iclesPot;\x0a'+'uniform\x20fl'+'oat\x20graphS'+'ampleSize;'+'\x0auniform\x20f'+'loat\x20graph'+'NumSamples'+';\x0auniform\x20'+'float\x20stre'+'tch;\x0aunifo'+'rm\x20vec3\x20wr'+'apBounds;\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Scale;\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0auniform\x20'+'vec3\x20faceT'+'angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0auniform'+'\x20float\x20rat'+'e;\x0auniform'+'\x20float\x20rat'+'eDiv;\x0aunif'+'orm\x20float\x20'+'lifetime;\x0a'+'uniform\x20fl'+'oat\x20deltaR'+'andomnessS'+'tatic;\x0auni'+'form\x20float'+'\x20scaleDivM'+'ult;\x0aunifo'+'rm\x20float\x20a'+'lphaDivMul'+'t;\x0auniform'+'\x20float\x20see'+'d;\x0auniform'+'\x20float\x20del'+'ta;\x0aunifor'+'m\x20sampler2'+'D\x20particle'+'TexOUT;\x0aun'+'iform\x20samp'+('ler2D\x20part'+'icleTexIN;'+'\x0a\x0a#ifdef\x20P'+'ARTICLE_GP'+'U\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x0;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex2;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0avarying\x20'+'vec4\x20texCo'+'ordsAlphaL'+'ife;\x0a\x0avec3'+'\x20inPos;\x0ave'+'c3\x20inVel;\x0a'+'float\x20inAn'+'gle;\x0abool\x20'+'inShow;\x0afl'+'oat\x20inLife'+';\x0a'),D3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',I3='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',L3='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',R3='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',O3='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',F3='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',N3='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan(veloci'+'tyV.x,\x20vel'+'ocityV.y);'+'\x0a\x0a',k3='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',U3='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec3\x20No'+'rmal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20lightCu'+'be[6];\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20float\x20vDe'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fogP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'f\x20NORMAL\x20='+'=\x20MAP\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20normalMa'+'p;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22p'+'articlePS\x22'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_softP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20normal\x20'+'=\x20Normal;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalMap'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20HALF_L'+'AMBERT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_ha'+'lflambertP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_la'+'mbertPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_lighting'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20BLEND\x20'+'==\x20NORMAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndNormalPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+('\x20ADDITIVE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndAddPS\x22\x0a\x20'+'\x20\x20\x20#elif\x20B'+'LEND\x20==\x20MU'+'LTIPLICATI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendMulti'+'plyPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endPS\x22\x0a'),B3='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20animTexTi'+'lesParams;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20animTexP'+'arams;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec2\x20an'+'imTexIndex'+'Params;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20NO'+'RMAL\x20==\x20MA'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20Normal'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20SOFT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20floa'+'t\x20vDepth;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_initVS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PA'+'CK8\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleInputR'+'gba8PS\x22\x20\x20\x20'+'\x20\x20//\x20why\x20a'+'re\x20these\x20P'+'S\x20and\x20not\x20'+'VS?\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x20'+'\x22particleI'+'nputFloatP'+'S\x22\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'OFT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22scre'+'enDepthPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleVS\x22\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20PARTICLE_'+'CPU\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22scr'+'eenDepthPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_cpuVS'+'\x22\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_local'+'ShiftVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20ANIMT'+'EX_LOOP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('#include\x20\x22'+'particleAn'+'imFrameLoo'+'pVS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particleA'+'nimFrameCl'+'ampVS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleAn'+'imTexVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20wr'+'ap\x20is\x20not\x20'+'used\x20on\x20CP'+'U,\x20it\x20was\x20'+'commented\x20'+'out.\x20TODO:'+'\x20investiga'+'te\x20why\x0a\x20\x20\x20'+'\x20#ifdef\x20PA'+'RTICLE_GPU'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20WRAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_wrapVS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20AL'+'IGN_TO_MOT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_pointAlon'+'gVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20US'+'E_MESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_meshVS'+'\x22\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20CUS'+'TOM_FACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'customFace'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_b'+'illboardVS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalVS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_TBNVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STRETCH\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_str'+'etchVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endVS\x22\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20PARTICLE'+'_CPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_cpu_endV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#')+('ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_so'+'ftVS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20}\x0a'),z3='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',V3='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',G3='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',H3='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',W3='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',$3={'particlePS':s3,'particleVS':i3,'particleAnimFrameClampVS':r3,'particleAnimFrameLoopVS':a3,'particleAnimTexVS':n3,'particleInputFloatPS':o3,'particleInputRgba8PS':l3,'particleOutputFloatPS':c3,'particleOutputRgba8PS':h3,'particleUpdaterAABBPS':d3,'particleUpdaterEndPS':f3,'particleUpdaterInitPS':u3,'particleUpdaterNoRespawnPS':p3,'particleUpdaterOnStopPS':m3,'particleUpdaterRespawnPS':_3,'particleUpdaterSpherePS':g3,'particleUpdaterStartPS':S3,'particle_billboardVS':y3,'particle_blendAddPS':v3,'particle_blendMultiplyPS':x3,'particle_blendNormalPS':T3,'particle_cpuVS':w3,'particle_cpu_endVS':E3,'particle_customFaceVS':b3,'particle_endPS':A3,'particle_endVS':C3,'particle_halflambertPS':P3,'particle_initVS':M3,'particle_lambertPS':D3,'particle_lightingPS':I3,'particle_localShiftVS':L3,'particle_meshVS':R3,'particle_normalVS':O3,'particle_normalMapPS':F3,'particle_pointAlongVS':N3,'particle_simulationPS':k3,'particle_shaderPS':U3,'particle_shaderVS':B3,'particle_softPS':z3,'particle_softVS':V3,'particle_stretchVS':G3,'particle_TBNVS':H3,'particle_wrapVS':W3},X3='\x0avarying\x20t'+'exCoordsAl'+'phaLife:\x20v'+'ec4f;\x0a\x0avar'+'\x20colorMap:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20colorMap'+'Sampler:\x20s'+'ampler;\x0ava'+'r\x20colorPar'+'am:\x20textur'+'e_2d<f32>;'+'\x0avar\x20color'+'ParamSampl'+'er:\x20sample'+'r;\x0a\x0aunifor'+'m\x20graphSam'+'pleSize:\x20f'+'32;\x0aunifor'+'m\x20graphNum'+'Samples:\x20f'+'32;\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0auniform'+'\x20softening'+':\x20f32;\x0auni'+'form\x20color'+'Mult:\x20f32;'+'\x0a\x0afn\x20satur'+'ate(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20tex:\x20v'+'ec4f\x20\x20=\x20te'+'xtureSampl'+'e(colorMap'+',\x20colorMap'+'Sampler,\x20v'+'ec2f(input'+'.texCoords'+'AlphaLife.'+'x,\x201.0\x20-\x20i'+'nput.texCo'+'ordsAlphaL'+'ife.y));\x0a\x20'+'\x20\x20\x20var\x20ram'+'p:\x20vec4f\x20='+'\x20textureSa'+'mple(color'+'Param,\x20col'+'orParamSam'+'pler,\x20vec2'+'f(input.te'+'xCoordsAlp'+'haLife.w,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20ramp\x20=\x20ve'+'c4f(ramp.r'+'gb\x20*\x20unifo'+'rm.colorMu'+'lt,\x20ramp.a'+');\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20=\x20ram'+'p.a\x20+\x20inpu'+'t.texCoord'+'sAlphaLife'+'.z;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20rgb:\x20ve'+'c3f\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'var\x20a:\x20f32'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',q3='\x0afn\x20unpack'+'3NFloats(s'+'rc:\x20f32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20r\x20'+'=\x20fract(sr'+'c);\x0a\x20\x20\x20\x20le'+'t\x20g\x20=\x20frac'+'t(src\x20*\x2025'+'6.0);\x0a\x20\x20\x20\x20'+'let\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3f(r,\x20'+'g,\x20b);\x0a}\x0a\x0a'+'fn\x20saturat'+'e(x:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0astruct\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20resu'+'lt:\x20vec4f,'+'\x0a\x20\x20\x20\x20unpac'+'ked:\x20vec3f'+'\x0a}\x0a\x0afn\x20tex'+'1Dlod_lerp'+'_simple(te'+'x:\x20texture'+'_2d<f32>,\x20'+'texSampler'+':\x20sampler,'+'\x20tc:\x20vec2f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20tc_next\x20='+'\x20tc\x20+\x20vec2'+'f(uniform.'+'graphSampl'+'eSize);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(\x20textur'+'eSample(te'+'x,\x20texSamp'+'ler,\x20tc),\x20'+'textureSam'+'ple(tex,\x20t'+'exSampler,'+'\x20tc_next),'+'\x20fract(tc.'+'x\x20*\x20unifor'+'m.graphNum'+'Samples)\x20)'+';\x0a}\x0a\x0afn\x20te'+'x1Dlod_ler'+'p_unpack(t'+'ex:\x20textur'+'e_2d<f32>,'+'\x20texSample'+'r:\x20sampler'+',\x20tc:\x20vec2'+'f)\x20->\x20TexL'+'erpUnpackR'+'esult\x20{\x0a\x20\x20'+'\x20\x20let\x20tc_n'+'ext\x20=\x20tc\x20+'+'\x20vec2f(uni'+'form.graph'+'SampleSize'+');\x0a\x20\x20\x20\x20let'+'\x20a\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20tc,\x200.0);'+'\x0a\x20\x20\x20\x20let\x20b'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'c_next,\x200.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20u'+'niform.gra'+'phNumSampl'+'es);\x0a\x20\x20\x20\x20l'+'et\x20unpacke'+'dA\x20=\x20unpac'+'k3NFloats('+'a.w);\x0a\x20\x20\x20\x20'+'let\x20unpack'+'edB\x20=\x20unpa'+'ck3NFloats'+'(b.w);\x0a\x20\x20\x20'+'\x20let\x20w_out'+('\x20=\x20mix(unp'+'ackedA,\x20un'+'packedB,\x20c'+');\x0a\x20\x20\x20\x20ret'+'urn\x20TexLer'+'pUnpackRes'+'ult(mix(a,'+'\x20b,\x20c),\x20w_'+'out);\x0a}\x0a\x0as'+'truct\x20Rota'+'teResult\x20{'+'\x0a\x20\x20\x20\x20rotat'+'edVec:\x20vec'+'2f,\x0a\x20\x20\x20\x20ma'+'trix:\x20mat2'+'x2f\x0a}\x0a\x0afn\x20'+'rotateWith'+'Matrix(qua'+'dXY:\x20vec2f'+',\x20pRotatio'+'n:\x20f32)\x20->'+'\x20RotateRes'+'ult\x20{\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20co'+'s(pRotatio'+'n);\x0a\x20\x20\x20\x20le'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x20\x20\x20\x20let\x20'+'m\x20=\x20mat2x2'+'f(vec2f(c,'+'\x20s),\x20vec2f'+'(-s,\x20c));\x0a'+'\x20\x20\x20\x20return'+'\x20RotateRes'+'ult(m\x20*\x20qu'+'adXY,\x20m);\x0a'+'}\x0a\x0afn\x20bill'+'board(Inst'+'anceCoords'+':\x20vec3f,\x20q'+'uadXY:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20pos:\x20ve'+'c3f;\x0a\x20\x20\x20\x20#'+'ifdef\x20SCRE'+'EN_SPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pos'+'\x20=\x20vec3f(-'+'1.0,\x200.0,\x20'+'0.0)\x20*\x20qua'+'dXY.x\x20+\x20ve'+'c3f(0.0,\x20-'+'1.0,\x200.0)\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20custom'+'Face(Insta'+'nceCoords:'+'\x20vec3f,\x20qu'+'adXY:\x20vec2'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20pos\x20=\x20un'+'iform.face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20uniform.f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20safeNo'+'rmalize(v:'+'\x20vec2f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20let\x20l\x20='+'\x20length(v)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20select('+'v,\x20v\x20/\x20l,\x20'+'l\x20>\x201e-06)'+';\x0a}\x0a\x0a@vert'+'ex\x0afn\x20vert'+'exMain(inp')+('ut:\x20Vertex'+'Input)\x20->\x20'+'VertexOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20meshLo'+'calPos_in\x20'+'=\x20input.pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20id\x20=\x20floo'+'r(input.pa'+'rticle_ver'+'texData.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20rndFactor'+'\x20=\x20fract(s'+'in(id\x20+\x201.'+'0\x20+\x20unifor'+'m.seed));\x0a'+'\x20\x20\x20\x20let\x20rn'+'dFactor3\x20='+'\x20vec3f(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20let\x20uv\x20=\x20'+'id\x20/\x20unifo'+'rm.numPart'+'iclesPot;\x0a'+'\x20\x20\x20\x20readIn'+'put(uv);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20model'+'Rotation\x20='+'\x20mat3x3f(u'+'niform.mat'+'rix_model['+'0].xyz,\x20un'+'iform.matr'+'ix_model[1'+'].xyz,\x20uni'+'form.matri'+'x_model[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20inVel'+'\x20=\x20modelRo'+'tation\x20*\x20i'+'nVel;\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20let\x20viewR'+'otation\x20=\x20'+'mat3x3f(un'+'iform.matr'+'ix_view[0]'+'.xyz,\x20unif'+'orm.matrix'+'_view[1].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[2].xyz'+');\x0a\x20\x20\x20\x20let'+'\x20velocityV'+'\x20=\x20safeNor'+'malize((vi'+'ewRotation'+'\x20*\x20inVel).'+'xy);\x0a\x0a\x20\x20\x20\x20'+'let\x20partic'+'leLifetime'+'\x20=\x20uniform'+'.lifetime;'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'meshLocalP'+'os\x20=\x20meshL'+'ocalPos_in'+';\x0a\x20\x20\x20\x20if\x20('+'inLife\x20<=\x20'+'0.0\x20||\x20inL'+'ife\x20>\x20part'+'icleLifeti'+'me\x20||\x20!inS'+'how)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mesh'+'LocalPos\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20let\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20let'+'\x20nlife\x20=\x20c')+('lamp(inLif'+'e\x20/\x20partic'+'leLifetime'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20lerp_res'+'ult\x20=\x20tex1'+'Dlod_lerp_'+'unpack(int'+'ernalTex2,'+'\x20internalT'+'ex2Sampler'+',\x20vec2f(nl'+'ife,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'params\x20=\x20l'+'erp_result'+'.result;\x0a\x20'+'\x20\x20\x20let\x20par'+'amDiv\x20=\x20le'+'rp_result.'+'unpacked;\x0a'+'\x0a\x20\x20\x20\x20var\x20s'+'cale\x20=\x20par'+'ams.y;\x0a\x20\x20\x20'+'\x20let\x20scale'+'Div\x20=\x20para'+'mDiv.x;\x0a\x20\x20'+'\x20\x20let\x20alph'+'aDiv\x20=\x20par'+'amDiv.z;\x0a\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20scale\x20+\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20unifo'+'rm.scaleDi'+'vMult\x20*\x20fr'+'act(rndFac'+'tor*10000.'+'0);\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.texCoords'+'AlphaLife\x20'+'=\x20vec4f(qu'+'adXY\x20*\x20-0.'+'5\x20+\x200.5,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20unifor'+'m.alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife\x20=\x20vec4'+'f(particle'+'_uv,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'uniform.al'+'phaDivMult'+'\x20*\x20fract(r'+'ndFactor*1'+'000.0),\x20nl'+'ife);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20var\x20part'+'iclePos\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20var\x20parti'+'clePosMove'+'d\x20=\x20vec3f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20var\x20rotMa'+'trix:\x20mat2'+'x2f;\x0a'),j3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20min('+'floor(inpu'+'t.texCoord'+'sAlphaLife'+'.w\x20*\x20unifo'+'rm.animTex'+'Params.y)\x20'+'+\x20uniform.'+'animTexPar'+'ams.x,\x20uni'+'form.animT'+'exParams.z'+');\x0a',Y3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20floo'+'r((output.'+'texCoordsA'+'lphaLife.w'+'\x20*\x20uniform'+'.animTexPa'+'rams.y\x20+\x20u'+'niform.ani'+'mTexParams'+'.x)\x20%\x20(uni'+'form.animT'+'exParams.z'+'\x20+\x201.0));\x20'+'\x20\x20\x20\x0a',K3='\x0a\x20\x20\x20\x20var\x20a'+'nimationIn'+'dex:\x20f32;\x0a'+'\x0a\x20\x20\x20\x20if\x20(u'+'niform.ani'+'mTexIndexP'+'arams.y\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20floor(('+'uniform.an'+'imTexParam'+'s.w\x20+\x201.0)'+'\x20*\x20rndFact'+'or3.z)\x20*\x20('+'uniform.an'+'imTexParam'+'s.z\x20+\x201.0)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20animati'+'onIndex\x20=\x20'+'uniform.an'+'imTexIndex'+'Params.x\x20*'+'\x20(uniform.'+'animTexPar'+'ams.z\x20+\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20var\x20a'+'tlasX:\x20f32'+'\x20=\x20(animat'+'ionIndex\x20+'+'\x20animFrame'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20atlasY:\x20'+'f32\x20=\x201.0\x20'+'-\x20floor(at'+'lasX\x20+\x201.0'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.y;\x0a\x20\x20\x20\x20at'+'lasX\x20=\x20fra'+'ct(atlasX)'+';\x20//\x20Reass'+'ign\x20atlasX'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'current_tc'+'al_xy\x20=\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.xy;\x0a\x20\x20'+'\x20\x20let\x20scal'+'ed_tcal_xy'+'\x20=\x20current'+'_tcal_xy\x20*'+'\x20uniform.a'+'nimTexTile'+'sParams.xy'+';\x0a\x20\x20\x20\x20let\x20'+'final_tcal'+'_xy\x20=\x20scal'+'ed_tcal_xy'+'\x20+\x20vec2f(a'+'tlasX,\x20atl'+'asY);\x0a\x20\x20\x20\x20'+'output.tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4f(final_'+'tcal_xy,\x20o'+'utput.texC'+'oordsAlpha'+'Life.z,\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.w);\x0a',Z3='\x0afn\x20readIn'+'put(uv:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex:\x20ve'+'c4f\x20=\x20text'+'ureSampleL'+'evel(parti'+'cleTexIN,\x20'+'particleTe'+'xINSampler'+',\x20vec2f(uv'+',\x200.25),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex2:\x20v'+'ec4f\x20=\x20tex'+'tureSample'+'Level(part'+'icleTexIN,'+'\x20particleT'+'exINSample'+'r,\x20vec2f(u'+'v,\x200.75),\x20'+'0.0);\x0a\x0a\x20\x20\x20'+'\x20inPos\x20=\x20t'+'ex.xyz;\x0a\x20\x20'+'\x20\x20inVel\x20=\x20'+'tex2.xyz;\x0a'+'\x20\x20\x20\x20inAngl'+'e\x20=\x20abs(te'+'x.w)\x20-\x20100'+'0.0;\x0a\x20\x20\x20\x20i'+'nShow\x20=\x20te'+'x.w\x20>=\x200.0'+';\x0a\x20\x20\x20\x20inLi'+'fe\x20=\x20tex2.'+'w;\x0a}\x0a',Q3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0ac'+'onst\x20PI2:\x20'+'f32\x20=\x206.28'+'3185307179'+'586;\x0a\x0aunif'+'orm\x20inBoun'+'dsSize:\x20ve'+'c3f;\x0aunifo'+'rm\x20inBound'+'sCenter:\x20v'+'ec3f;\x0a\x0auni'+'form\x20maxVe'+'l:\x20f32;\x0a\x0af'+'n\x20decodeFl'+'oatRG(rg:\x20'+'vec2f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20rg.'+'y\x20*\x20(1.0\x20/'+'\x20255.0)\x20+\x20'+'rg.x;\x0a}\x0a\x0af'+'n\x20decodeFl'+'oatRGBA(\x20r'+'gba:\x20vec4f'+'\x20)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(rgb'+'a,\x20vec4f(1'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x2065025.0'+',\x201.0\x20/\x2016'+'0581375.0)'+');\x0a}\x0a\x0afn\x20r'+'eadInput(u'+'v:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20let\x20te'+'x0\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.125),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex1\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.37'+'5),\x200.0);\x0a'+'\x20\x20\x20\x20let\x20te'+'x2\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.625),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex3\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.87'+'5),\x200.0);\x0a'+'\x0a\x20\x20\x20\x20inPos'+'\x20=\x20vec3f(d'+'ecodeFloat'+'RG(tex0.rg'+'),\x20decodeF'+'loatRG(tex'+'0.ba),\x20dec'+'odeFloatRG'+'(tex1.rg))'+';\x0a\x20\x20\x20\x20inPo'+'s\x20=\x20(inPos'+'\x20-\x20vec3f(0'+'.5))\x20*\x20uni'+'form.inBou'+'ndsSize\x20+\x20'+'uniform.in'+'BoundsCent'+'er;\x0a\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inVel\x20=\x20('+('inVel\x20-\x20ve'+'c3f(0.5))\x20'+'*\x20uniform.'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20let\x20l'+'ife_decode'+'d\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20let\x20maxNe'+'gLife\x20=\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20(uniform.'+'rate\x20+\x20uni'+'form.rateD'+'iv));\x0a\x20\x20\x20\x20'+'let\x20maxPos'+'Life\x20=\x20uni'+'form.lifet'+'ime\x20+\x201.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20life_d'+'ecoded\x20*\x20('+'maxNegLife'+'\x20+\x20maxPosL'+'ife)\x20-\x20max'+'NegLife;\x0a}'),J3='\x0afn\x20getOut'+'put()\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20if\x20(pcPos'+'ition.y\x20<\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4f(ou'+'tPos,\x20(out'+'Angle\x20+\x2010'+'00.0)\x20*\x20vi'+'sMode);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(outVel,\x20'+'outLife);\x0a'+'\x20\x20\x20\x20}\x0a}\x0a',eO='\x0auniform\x20o'+'utBoundsMu'+'l:\x20vec3f;\x0a'+'uniform\x20ou'+'tBoundsAdd'+':\x20vec3f;\x0a\x0a'+'fn\x20encodeF'+'loatRG(\x20v:'+'\x20f32\x20)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20var\x20enc:'+'\x20vec2f\x20=\x20v'+'ec2f(1.0,\x20'+'255.0)\x20*\x20v'+';\x0a\x20\x20\x20\x20enc\x20'+'=\x20fract(en'+'c);\x0a\x20\x20\x20\x20en'+'c\x20=\x20enc\x20-\x20'+'enc.yy\x20*\x20('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20enc;\x0a'+'}\x0a\x0afn\x20enco'+'deFloatRGB'+'A(\x20v:\x20f32\x20'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20factors\x20='+'\x20vec4f(1.0'+',\x20255.0,\x206'+'5025.0,\x2016'+'0581375.0)'+';\x0a\x20\x20\x20\x20var\x20'+'enc:\x20vec4f'+'\x20=\x20factors'+'\x20*\x20v;\x0a\x20\x20\x20\x20'+'enc\x20=\x20frac'+'t(enc);\x0a\x20\x20'+'\x20\x20enc\x20=\x20en'+'c\x20-\x20enc.yz'+'ww\x20*\x20vec4f'+'(1.0\x20/\x20255'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x20255.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'return\x20enc'+';\x0a}\x0a\x0afn\x20ge'+'tOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20outPo'+'s\x20=\x20outPos'+'\x20*\x20uniform'+'.outBounds'+'Mul\x20+\x20unif'+'orm.outBou'+'ndsAdd;\x0a\x20\x20'+'\x20\x20outAngle'+'\x20=\x20fract(o'+'utAngle\x20/\x20'+'PI2);\x0a\x0a\x20\x20\x20'+'\x20outVel\x20=\x20'+'(outVel\x20/\x20'+'uniform.ma'+'xVel)\x20+\x20ve'+'c3f(0.5);\x20'+'//\x20TODO:\x20m'+'ul\x0a\x0a\x20\x20\x20\x20le'+'t\x20maxNegLi'+'fe\x20=\x20max(u'+'niform.lif'+'etime,\x20(un'+'iform.numP'+'articles\x20-'+'\x201.0)\x20*\x20(u'+'niform.rat'+'e\x20+\x20unifor'+'m.rateDiv)'+');\x0a\x20\x20\x20\x20let'+'\x20maxPosLif'+'e\x20=\x20unifor'+'m.lifetime'+'\x20+\x201.0;\x0a\x20\x20'+'\x20\x20outLife\x20'+'=\x20(outLife'+'\x20+\x20maxNegL'+'ife)\x20/\x20(ma'+'xNegLife\x20+'+'\x20maxPosLif'+'e);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(pcPosit'+'ion.y\x20<\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'vec4f(enco'+'deFloatRG('+'outPos.x),'+'\x20encodeFlo'+'atRG(outPo'+'s.y));\x0a\x20\x20\x20'+('\x20}\x20else\x20if'+'\x20(pcPositi'+'on.y\x20<\x202.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(encod'+'eFloatRG(o'+'utPos.z),\x20'+'encodeFloa'+'tRG(outAng'+'le));\x0a\x20\x20\x20\x20'+'}\x20else\x20if\x20'+'(pcPositio'+'n.y\x20<\x203.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(outVel'+',\x20visMode\x20'+'*\x200.5\x20+\x200.'+'5);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20encodeFl'+'oatRGBA(ou'+'tLife);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),tO='\x0auniform\x20s'+'pawnBounds'+':\x20mat3x3f;'+'\x0auniform\x20s'+'pawnPosInn'+'erRatio:\x20v'+'ec3f;\x0a\x0afn\x20'+'calcSpawnP'+'osition(in'+'Bounds:\x20ve'+'c3f,\x20rndFa'+'ctor:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'pos\x20=\x20inBo'+'unds\x20-\x20vec'+'3f(0.5);\x0a\x0a'+'\x20\x20\x20\x20let\x20po'+'sAbs\x20=\x20abs'+'(pos);\x0a\x20\x20\x20'+'\x20let\x20maxCo'+'mp\x20=\x20max(p'+'osAbs.x,\x20m'+'ax(posAbs.'+'y,\x20posAbs.'+'z));\x0a\x20\x20\x20\x20l'+'et\x20maxPos\x20'+'=\x20vec3f(ma'+'xComp);\x0a\x0a\x20'+'\x20\x20\x20let\x20edg'+'e\x20=\x20maxPos'+'\x20+\x20(vec3f('+'0.5)\x20-\x20max'+'Pos)\x20*\x20uni'+'form.spawn'+'PosInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'pos.x\x20=\x20ed'+'ge.x\x20*\x20sel'+'ect(2.0\x20*\x20'+'pos.x,\x20sig'+'n(pos.x),\x20'+'maxPos.x\x20='+'=\x20posAbs.x'+');\x0a\x20\x20\x20\x20pos'+'.y\x20=\x20edge.'+'y\x20*\x20select'+'(2.0\x20*\x20pos'+'.y,\x20sign(p'+'os.y),\x20max'+'Pos.y\x20==\x20p'+'osAbs.y);\x0a'+'\x20\x20\x20\x20pos.z\x20'+'=\x20edge.z\x20*'+'\x20select(2.'+'0\x20*\x20pos.z,'+'\x20sign(pos.'+'z),\x20maxPos'+'.z\x20==\x20posA'+'bs.z);\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20uni'+'form.emitt'+'erPos\x20+\x20un'+'iform.spaw'+'nBounds\x20*\x20'+'pos;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uniform.sp'+'awnBounds\x20'+'*\x20pos;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20*localV'+'elocity\x20=\x20'+'*localVelo'+'city\x20-\x20vec'+'3f(0.0,\x200.'+'0,\x20uniform'+'.initialVe'+'locity);\x0a}'+'\x0a',sO='\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'getOutput('+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',iO='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20par'+'ticleTexIN'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20particl'+'eTexINSamp'+'ler:\x20sampl'+'er;\x0avar\x20in'+'ternalTex0'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0avar\x20int'+'ernalTex1:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20internal'+'Tex1Sample'+'r:\x20sampler'+';\x0avar\x20inte'+'rnalTex2:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20internalT'+'ex2Sampler'+':\x20sampler;'+'\x0avar\x20inter'+'nalTex3:\x20t'+'exture_2d<'+'f32>;\x0avar\x20'+'internalTe'+'x3Sampler:'+'\x20sampler;\x0a'+'\x0auniform\x20e'+'mitterMatr'+'ix:\x20mat3x3'+'f;\x0auniform'+'\x20emitterMa'+'trixInv:\x20m'+'at3x3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0a\x0aun'+'iform\x20emit'+'terPos:\x20ve'+'c3f;\x0aunifo'+'rm\x20frameRa'+'ndom:\x20vec3'+'f;\x0auniform'+'\x20localVelo'+'cityDivMul'+'t:\x20vec3f;\x0a'+'uniform\x20ve'+'locityDivM'+'ult:\x20vec3f'+';\x0auniform\x20'+'delta:\x20f32'+';\x0auniform\x20'+'rate:\x20f32;'+'\x0auniform\x20r'+'ateDiv:\x20f3'+'2;\x0auniform'+'\x20lifetime:'+'\x20f32;\x0aunif'+'orm\x20numPar'+'ticles:\x20f3'+'2;\x0auniform'+'\x20rotSpeedD'+'ivMult:\x20f3'+'2;\x0auniform'+'\x20radialSpe'+'edDivMult:'+'\x20f32;\x0aunif'+'orm\x20seed:\x20'+'f32;\x0aunifo'+'rm\x20startAn'+'gle:\x20f32;\x0a'+'uniform\x20st'+'artAngle2:'+'\x20f32;\x0aunif'+'orm\x20initia'+'lVelocity:'+'\x20f32;\x0a\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0a\x0ava'+'r<private>'+'\x20inPos:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20in'+'Vel:\x20vec3f'+';\x0avar<priv'+'ate>\x20inAng'+('le:\x20f32;\x0av'+'ar<private'+'>\x20inShow:\x20'+'bool;\x0avar<'+'private>\x20i'+'nLife:\x20f32'+';\x0avar<priv'+'ate>\x20visMo'+'de:\x20f32;\x0a\x0a'+'var<privat'+'e>\x20outPos:'+'\x20vec3f;\x0ava'+'r<private>'+'\x20outVel:\x20v'+'ec3f;\x0avar<'+'private>\x20o'+'utAngle:\x20f'+'32;\x0avar<pr'+'ivate>\x20out'+'Show:\x20bool'+';\x0avar<priv'+'ate>\x20outLi'+'fe:\x20f32;\x0a'),rO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tLife\x20=\x20ou'+'tLife\x20-\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20particleR'+'ate);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20visMod'+'e\x20=\x20-1.0;\x0a'+'\x20\x20\x20\x20}\x0a',aO='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20selec'+'t(visMode,'+'\x20-1.0,\x20out'+'Life\x20<\x200.0'+');\x0a',nO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20subtract'+'Amount\x20=\x20m'+'ax(uniform'+'.lifetime,'+'\x20(uniform.'+'numParticl'+'es\x20-\x201.0)\x20'+'*\x20particle'+'Rate);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outLi'+'fe\x20=\x20outLi'+'fe\x20-\x20subtr'+'actAmount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'isMode\x20=\x201'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20visMod'+'e\x20=\x20select'+'(visMode,\x20'+'1.0,\x20outLi'+'fe\x20<\x200.0);'+'\x0a',oO='\x0auniform\x20s'+'pawnBounds'+'Sphere:\x20f3'+'2;\x0auniform'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio:\x20'+'f32;\x0a\x0afn\x20c'+'alcSpawnPo'+'sition(inB'+'ounds:\x20vec'+'3f,\x20rndFac'+'tor:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'nd4:\x20f32\x20='+'\x20fract(rnd'+'Factor\x20*\x201'+'000.0);\x0a\x20\x20'+'\x20\x20let\x20norm'+':\x20vec3f\x20=\x20'+'normalize('+'inBounds.x'+'yz\x20-\x20vec3f'+'(0.5));\x0a\x20\x20'+'\x20\x20let\x20r:\x20f'+'32\x20=\x20rnd4\x20'+'*\x20(1.0\x20-\x20u'+'niform.spa'+'wnBoundsSp'+'hereInnerR'+'atio)\x20+\x20un'+'iform.spaw'+'nBoundsSph'+'ereInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20unifo'+'rm.emitter'+'Pos\x20+\x20norm'+'\x20*\x20r\x20*\x20uni'+'form.spawn'+'BoundsSphe'+'re;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20n'+'orm\x20*\x20r\x20*\x20'+'uniform.sp'+'awnBoundsS'+'phere;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20ini'+'tialVelOff'+'set:\x20vec3f'+'\x20=\x20normali'+'ze(inBound'+'s\x20-\x20vec3f('+'0.5))\x20*\x20un'+'iform.init'+'ialVelocit'+'y;\x0a\x20\x20\x20\x20*lo'+'calVelocit'+'y\x20=\x20*local'+'Velocity\x20+'+'\x20initialVe'+'lOffset;\x0a}'+'\x0a',lO='\x0afn\x20satura'+'te(x:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0afn\x20unp'+'ack3NFloat'+'s(src:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20r\x20=\x20fract'+'(src);\x0a\x20\x20\x20'+'\x20let\x20g\x20=\x20f'+'ract(src\x20*'+'\x20256.0);\x0a\x20'+'\x20\x20\x20let\x20b\x20='+'\x20fract(src'+'\x20*\x2065536.0'+');\x0a\x20\x20\x20\x20ret'+'urn\x20vec3f('+'r,\x20g,\x20b);\x0a'+'}\x0a\x0a//\x20Stru'+'ct\x20to\x20hand'+'le\x20multipl'+'e\x20return\x20v'+'alues\x20from'+'\x20tex1Dlod_'+'lerp\x0astruc'+'t\x20TexLerpU'+'npackResul'+'t\x20{\x0a\x20\x20\x20\x20re'+'sult:\x20vec3'+'f,\x0a\x20\x20\x20\x20unp'+'acked:\x20vec'+'3f\x0a}\x0a\x0afn\x20t'+'ex1Dlod_le'+'rp(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20tc:\x20'+'vec2f)\x20->\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'tc_next\x20=\x20'+'tc\x20+\x20vec2f'+'(uniform.g'+'raphSample'+'Size);\x0a\x20\x20\x20'+'\x20let\x20a\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20tc,\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20tc_next'+',\x200.0);\x0a\x20\x20'+'\x20\x20let\x20c\x20=\x20'+'fract(tc.x'+'\x20*\x20uniform'+'.graphNumS'+'amples);\x0a\x0a'+'\x20\x20\x20\x20let\x20un'+'packedA\x20=\x20'+'unpack3NFl'+'oats(a.w);'+'\x0a\x20\x20\x20\x20let\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20let\x20'+'w_out\x20=\x20mi'+'x(unpacked'+'A,\x20unpacke'+'dB,\x20c);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'TexLerpUnp'+'ackResult('+'mix(a.xyz,'+'\x20b.xyz,\x20c)'+',\x20w_out);\x0a'+'}\x0a\x0aconst\x20H'+'ASHSCALE4:'+'\x20vec4f\x20=\x20v'+'ec4f(1031.'+'0,\x200.1030,'+'\x200.0973,\x200'+'.1099);\x0afn'+'\x20hash41(p:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20var\x20p4\x20=\x20'+'fract(vec4'+'f(p)\x20*\x20HAS'+('HSCALE4);\x0a'+'\x20\x20\x20\x20p4\x20=\x20p'+'4\x20+\x20dot(p4'+',\x20p4.wzxy\x20'+'+\x2019.19);\x0a'+'\x20\x20\x20\x20return'+'\x20fract(vec'+'4f((p4.x\x20+'+'\x20p4.y)*p4.'+'z,\x20(p4.x\x20+'+'\x20p4.z)*p4.'+'y,\x20(p4.y\x20+'+'\x20p4.z)*p4.'+'w,\x20(p4.z\x20+'+'\x20p4.w)*p4.'+'x));\x0a}\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20if\x20(pc'+'Position.x'+'\x20>\x20uniform'+'.numPartic'+'les)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20re'+'adInput(in'+'put.vUv0.x'+');\x0a\x20\x20\x20\x20vis'+'Mode\x20=\x20sel'+'ect(-1.0,\x20'+'1.0,\x20inSho'+'w);\x0a\x0a\x20\x20\x20\x20l'+'et\x20rndFact'+'or\x20=\x20hash4'+'1(pcPositi'+'on.x\x20+\x20uni'+'form.seed)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20particleR'+'ate\x20=\x20unif'+'orm.rate\x20+'+'\x20uniform.r'+'ateDiv\x20*\x20r'+'ndFactor.x'+';\x0a\x0a\x20\x20\x20\x20out'+'Life\x20=\x20inL'+'ife\x20+\x20unif'+'orm.delta;'+'\x0a\x20\x20\x20\x20let\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20uniform'+'.lifetime,'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t0\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'0,\x20interna'+'lTex0Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20va'+'r\x20localVel'+'ocity\x20=\x20le'+'rpResult0.'+'result;\x0a\x20\x20'+'\x20\x20let\x20loca'+'lVelocityD'+'iv\x20=\x20lerpR'+'esult0.unp'+'acked;\x0a\x0a\x20\x20'+'\x20\x20let\x20lerp'+'Result1\x20=\x20'+'tex1Dlod_l'+'erp(intern'+'alTex1,\x20in'+'ternalTex1'+'Sampler,\x20v'+'ec2f(nlife'+',\x200.0));\x0a\x20'+'\x20\x20\x20var\x20vel'+'ocity\x20=\x20le'+'rpResult1.'+'result;\x0a\x20\x20'+'\x20\x20let\x20velo'+'cityDiv\x20=\x20'+'lerpResult')+('1.unpacked'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t2\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'2,\x20interna'+'lTex2Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20le'+'t\x20params\x20='+'\x20lerpResul'+'t2.result;'+'\x0a\x20\x20\x20\x20let\x20p'+'aramDiv\x20=\x20'+'lerpResult'+'2.unpacked'+';\x0a\x20\x20\x20\x20var\x20'+'rotSpeed\x20='+'\x20params.x;'+'\x0a\x20\x20\x20\x20let\x20r'+'otSpeedDiv'+'\x20=\x20paramDi'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'let\x20lerpRe'+'sult3\x20=\x20te'+'x1Dlod_ler'+'p(internal'+'Tex3,\x20inte'+'rnalTex3Sa'+'mpler,\x20vec'+'2f(nlife,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20let\x20radia'+'lParams\x20=\x20'+'lerpResult'+'3.result;\x0a'+'\x20\x20\x20\x20let\x20ra'+'dialParamD'+'iv\x20=\x20lerpR'+'esult3.unp'+'acked;\x0a\x20\x20\x20'+'\x20let\x20radia'+'lSpeed\x20=\x20r'+'adialParam'+'s.x;\x0a\x20\x20\x20\x20l'+'et\x20radialS'+'peedDiv\x20=\x20'+'radialPara'+'mDiv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20res'+'pawn\x20=\x20inL'+'ife\x20<=\x200.0'+'\x20||\x20outLif'+'e\x20>=\x20unifo'+'rm.lifetim'+'e;\x0a\x20\x20\x20\x20inP'+'os\x20=\x20selec'+'t(inPos,\x20c'+'alcSpawnPo'+'sition(rnd'+'Factor.xyz'+',\x20rndFacto'+'r.x),\x20resp'+'awn);\x0a\x20\x20\x20\x20'+'inAngle\x20=\x20'+'select(inA'+'ngle,\x20mix('+'uniform.st'+'artAngle,\x20'+'uniform.st'+'artAngle2,'+'\x20rndFactor'+'.x),\x20respa'+'wn);\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20radialVe'+'l:\x20vec3f\x20='+'\x20inPos\x20-\x20u'+'niform.emi'+'tterPos;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20radialVel'+':\x20vec3f\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20=\x20select'+'(vec3f(0.0'+'),\x20radialS'+'peed\x20*\x20nor'+'malize(rad'+'ialVel),\x20d'+'ot(radialV'+'el,\x20radial'+'Vel)\x20>\x201.0')+('E-8);\x0a\x20\x20\x20\x20'+'radialVel\x20'+'=\x20radialVe'+'l\x20+\x20(radia'+'lSpeedDiv\x20'+'*\x20vec3f(2.'+'0)\x20-\x20vec3f'+'(1.0))\x20*\x20u'+'niform.rad'+'ialSpeedDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20=\x20localV'+'elocity\x20+\x20'+'(localVelo'+'cityDiv\x20*\x20'+'vec3f(2.0)'+'\x20-\x20vec3f(1'+'.0))\x20*\x20uni'+'form.local'+'VelocityDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x20\x20\x20\x20vel'+'ocity\x20=\x20ve'+'locity\x20+\x20('+'velocityDi'+'v\x20*\x20vec3f('+'2.0)\x20-\x20vec'+'3f(1.0))\x20*'+'\x20uniform.v'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20rotS'+'peed\x20=\x20rot'+'Speed\x20+\x20(r'+'otSpeedDiv'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20unif'+'orm.rotSpe'+'edDivMult\x20'+'*\x20rndFacto'+'r.y;\x0a\x0a\x20\x20\x20\x20'+'addInitial'+'Velocity(&'+'localVeloc'+'ity,\x20rndFa'+'ctor.xyz);'+'\x0a\x0a\x20\x20\x20\x20#ifn'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20outVel'+'\x20=\x20uniform'+'.emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tVel\x20=\x20(lo'+'calVelocit'+'y\x20+\x20radial'+'Vel)\x20/\x20uni'+'form.emitt'+'erScale\x20+\x20'+'uniform.em'+'itterMatri'+'xInv\x20*\x20vel'+'ocity;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20outPos\x20'+'=\x20inPos\x20+\x20'+'outVel\x20*\x20u'+'niform.del'+'ta;\x0a\x20\x20\x20\x20ou'+'tAngle\x20=\x20i'+'nAngle\x20+\x20r'+'otSpeed\x20*\x20'+'uniform.de'+'lta;\x0a'),cO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20rotated'+'QuadXY);\x0a',hO='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20sa'+'turate(gam'+'maCorrectI'+'nput(max(a'+',\x200.0)));\x0a'+'\x20\x20\x20\x20if\x20((r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+')\x20<\x200.0000'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20}\x20\x20'+'\x20\x20\x0a',dO='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3f'+'(1.0),\x20rgb'+',\x20a);\x0a\x20\x20\x20\x20'+'if\x20((rgb.r'+'\x20+\x20rgb.g\x20+'+'\x20rgb.b)\x20>\x20'+'2.99)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a',fO='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20}\x0a',uO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20\x20'+'\x20//\x20XYZ\x20=\x20'+'world\x20pos,'+'\x20W\x20=\x20life\x0a'+'attribute\x20'+'particle_v'+'ertexData2'+':\x20vec4f;\x20\x20'+'//\x20X\x20=\x20ang'+'le,\x20Y\x20=\x20sc'+'ale,\x20Z\x20=\x20a'+'lpha,\x20W\x20=\x20'+'velocity.x'+'\x0aattribute'+'\x20particle_'+'vertexData'+'3:\x20vec4f;\x20'+'\x20//\x20XYZ\x20=\x20'+'particle\x20l'+'ocal\x20pos,\x20'+'W\x20=\x20veloci'+'ty.y\x0aattri'+'bute\x20parti'+'cle_vertex'+'Data4:\x20f32'+';\x20\x20\x20\x20//\x20pa'+'rticle\x20id\x0a'+'\x0a//\x20type\x20d'+'epends\x20on\x20'+'useMesh\x20pr'+'operty.\x20St'+'art\x20with\x20X'+'\x20=\x20velocit'+'y.z,\x20Y\x20=\x20p'+'article\x20ID'+'\x20and\x20for\x20m'+'esh\x20partic'+'les\x20procee'+'ds\x20with\x20Z\x20'+'=\x20mesh\x20UV.'+'x,\x20W\x20=\x20mes'+'h\x20UV.y\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_ver'+'texData5:\x20'+'vec2f;\x0a#el'+'se\x0a\x20\x20\x20\x20att'+'ribute\x20par'+'ticle_vert'+'exData5:\x20v'+'ec4f;\x0a#end'+'if\x0a\x0aunifor'+'m\x20matrix_v'+'iewProject'+'ion:\x20mat4x'+'4f;\x0aunifor'+'m\x20matrix_m'+'odel:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'trix_norma'+'l:\x20mat3x3f'+';\x0auniform\x20'+'matrix_vie'+'wInverse:\x20'+'mat4x4f;\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20lifet'+'ime:\x20f32;\x0a'+'uniform\x20st'+'retch:\x20f32'+';\x0auniform\x20'+'seed:\x20f32;'+'\x0auniform\x20w'+'rapBounds:'+'\x20vec3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0auni'+'form\x20faceT'+'angent:\x20ve'+'c3f;\x0aunifo'+'rm\x20faceBin'+'orm:\x20vec3f'+';\x0a\x0a#ifdef\x20'+('PARTICLE_G'+'PU\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex0:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x0Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex1'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex1S'+'ampler:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20var\x20inter'+'nalTex2:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex2Samp'+'ler:\x20sampl'+'er;\x0a#endif'+'\x0auniform\x20e'+'mitterPos:'+'\x20vec3f;\x0a\x0av'+'arying\x20tex'+'CoordsAlph'+'aLife:\x20vec'+'4f;\x0a\x0astruc'+'t\x20RotateRe'+'sult\x20{\x0a\x20\x20\x20'+'\x20rotatedVe'+'c:\x20vec2f,\x0a'+'\x20\x20\x20\x20matrix'+':\x20mat2x2f\x0a'+'}\x0a\x0afn\x20rota'+'teWithMatr'+'ix(quadXY:'+'\x20vec2f,\x20pR'+'otation:\x20f'+'32)\x20->\x20Rot'+'ateResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'c\x20=\x20cos(pR'+'otation);\x0a'+'\x20\x20\x20\x20let\x20s\x20'+'=\x20sin(pRot'+'ation);\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'mat2x2f(ve'+'c2f(c,\x20s),'+'\x20vec2f(-s,'+'\x20c));\x0a\x20\x20\x20\x20'+'return\x20Rot'+'ateResult('+'m\x20*\x20quadXY'+',\x20m);\x0a}\x0a\x0a\x0a'+'fn\x20billboa'+'rd(Instanc'+'eCoords:\x20v'+'ec3f,\x20quad'+'XY:\x20vec2f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20customF'+'ace(Instan'+'ceCoords:\x20'+'vec3f,\x20qua'+'dXY:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20pos\x20=\x20uni'+'form.faceT'+'angent\x20*\x20q'+'uadXY.x\x20+\x20'+'uniform.fa'+'ceBinorm\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20safeNor'+'malize(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20l\x20=\x20')+('length(v);'+'\x0a\x20\x20\x20\x20retur'+'n\x20select(v'+',\x20v\x20/\x20l,\x20l'+'\x20>\x201e-06);'+'\x0a}\x0a\x0a@verte'+'x\x0afn\x20verte'+'xMain(inpu'+'t:\x20VertexI'+'nput)\x20->\x20V'+'ertexOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'VertexOutp'+'ut;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20particl'+'ePos\x20=\x20inp'+'ut.particl'+'e_vertexDa'+'ta.xyz;\x0a\x20\x20'+'\x20\x20let\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20let\x20vertP'+'os\x20=\x20input'+'.particle_'+'vertexData'+'3.xyz;\x0a\x20\x20\x20'+'\x20var\x20inVel'+'\x20=\x20vec3f(i'+'nput.parti'+'cle_vertex'+'Data2.w,\x20i'+'nput.parti'+'cle_vertex'+'Data3.w,\x20i'+'nput.parti'+'cle_vertex'+'Data5.x);\x0a'+'\x0a\x20\x20\x20\x20let\x20i'+'d\x20=\x20floor('+'input.part'+'icle_verte'+'xData4);\x0a\x20'+'\x20\x20\x20let\x20rnd'+'Factor\x20=\x20f'+'ract(sin(i'+'d\x20+\x201.0\x20+\x20'+'uniform.se'+'ed));\x0a\x20\x20\x20\x20'+'let\x20rndFac'+'tor3\x20=\x20vec'+'3f(rndFact'+'or,\x20fract('+'rndFactor*'+'10.0),\x20fra'+'ct(rndFact'+'or*100.0))'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20mo'+'delRotatio'+'n\x20=\x20mat3x3'+'f(uniform.'+'matrix_mod'+'el[0].xyz,'+'\x20uniform.m'+'atrix_mode'+'l[1].xyz,\x20'+'uniform.ma'+'trix_model'+'[2].xyz);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'Vel\x20=\x20mode'+'lRotation\x20'+'*\x20inVel;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20let\x20ve'+'locityV\x20=\x20'+'safeNormal'+'ize((mat3x'+'3f(uniform'+'.matrix_vi'+'ew[0].xyz,'+'\x20uniform.m'+'atrix_view'+'[1].xyz,\x20u'+'niform.mat'+'rix_view[2'+'].xyz)\x20*\x20i'+'nVel).xy);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'quadXY\x20=\x20v'+'ertPos.xy;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20USE_MES'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.tex'+'CoordsAlph')+('aLife\x20=\x20ve'+'c4f(input.'+'particle_v'+'ertexData5'+'.zw,\x20input'+'.particle_'+'vertexData'+'2.z,\x20input'+'.particle_'+'vertexData'+'.w);\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'texCoordsA'+'lphaLife\x20='+'\x20vec4f(qua'+'dXY\x20*\x20-0.5'+'\x20+\x200.5,\x20in'+'put.partic'+'le_vertexD'+'ata2.z,\x20in'+'put.partic'+'le_vertexD'+'ata.w);\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20var\x20rot'+'Matrix:\x20ma'+'t2x2f;\x0a\x0a\x20\x20'+'\x20\x20var\x20inAn'+'gle\x20=\x20inpu'+'t.particle'+'_vertexDat'+'a2.x;\x0a\x20\x20\x20\x20'+'var\x20partic'+'lePosMoved'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20meshLoc'+'alPos\x20=\x20in'+'put.partic'+'le_vertexD'+'ata3.xyz;\x0a'),pO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20inp'+'ut.particl'+'e_vertexDa'+'ta2.y\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20localP'+'os\x20=\x20local'+'Pos\x20+\x20part'+'iclePos;\x0a\x0a'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20vec4f('+'localPos,\x20'+'1.0);\x0a',mO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20rotate'+'dQuadXY);\x0a',_O='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(rg'+'b,\x20a);\x0a\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a}\x0a',gO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20sca'+'le\x20*\x20unifo'+'rm.emitter'+'Scale;\x0a\x20\x20\x20'+'\x20localPos\x20'+'=\x20localPos'+'\x20+\x20particl'+'ePos;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'REEN_SPACE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(localPo'+'s.x,\x20local'+'Pos.y,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_v'+'iewProject'+'ion\x20*\x20vec4'+'f(localPos'+'.xyz,\x201.0)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a',SO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20no'+'rmal\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20var\x20posN'+'ormal:\x20vec'+'3f\x20=\x20-norm'+'al\x20*\x200.5\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'=\x20negNorma'+'l\x20*\x20negNor'+'mal;\x0a\x20\x20\x20\x20p'+'osNormal\x20='+'\x20posNormal'+'\x20*\x20posNorm'+'al;\x0a',yO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20/'+'/\x20XYZ\x20=\x20pa'+'rticle\x20pos'+'ition,\x20W\x20='+'\x20particle\x20'+'ID\x20+\x20rando'+'m\x20factor\x0a#'+'if\x20defined'+'(USE_MESH)'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(USE'+'_MESH_UV)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_uv:'+'\x20vec2f;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'esh\x20UV\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20pa'+'rticle_uv:'+'\x20vec2f\x20=\x20v'+'ec2f(0.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0aunifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0aunif'+'orm\x20matrix'+'_normal:\x20m'+'at3x3f;\x0aun'+'iform\x20matr'+'ix_viewInv'+'erse:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20numPa'+'rticlesPot'+':\x20f32;\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0auni'+'form\x20stret'+'ch:\x20f32;\x0au'+'niform\x20wra'+'pBounds:\x20v'+'ec3f;\x0aunif'+'orm\x20emitte'+'rScale:\x20ve'+'c3f;\x0aunifo'+'rm\x20emitter'+'Pos:\x20vec3f'+';\x0auniform\x20'+'faceTangen'+'t:\x20vec3f;\x0a'+'uniform\x20fa'+'ceBinorm:\x20'+'vec3f;\x0auni'+'form\x20rate:'+'\x20f32;\x0aunif'+'orm\x20rateDi'+'v:\x20f32;\x0aun'+'iform\x20life'+'time:\x20f32;'+'\x0auniform\x20d'+'eltaRandom'+'nessStatic'+':\x20f32;\x0auni'+'form\x20scale'+'DivMult:\x20f'+'32;\x0aunifor'+'m\x20alphaDiv'+'Mult:\x20f32;'+'\x0auniform\x20s'+'eed:\x20f32;\x0a'+'uniform\x20de'+'lta:\x20f32;\x0a'+'\x0avar\x20parti'+('cleTexOUT:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20particle'+'TexOUTSamp'+'ler:\x20sampl'+'er;\x0avar\x20pa'+'rticleTexI'+'N:\x20texture'+'_2d<f32>;\x0a'+'var\x20partic'+'leTexINSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex0:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex1:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x1Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex2'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex2S'+'ampler:\x20sa'+'mpler;\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0avarying'+'\x20texCoords'+'AlphaLife:'+'\x20vec4f;\x0a\x0av'+'ar<private'+'>\x20inPos:\x20v'+'ec3f;\x0avar<'+'private>\x20i'+'nVel:\x20vec3'+'f;\x0avar<pri'+'vate>\x20inAn'+'gle:\x20f32;\x0a'+'var<privat'+'e>\x20inShow:'+'\x20bool;\x0avar'+'<private>\x20'+'inLife:\x20f3'+'2;\x0a'),vO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20ma'+'x(normal,\x20'+'vec3(0.0))'+';\x0a\x20\x20\x20\x20var\x20'+'posNormal:'+'\x20vec3f\x20=\x20m'+'ax(-normal'+',\x20vec3(0.0'+'));\x0a',xO='\x0a\x20\x20\x20\x20let\x20l'+'ight:\x20vec3'+'f\x20=\x20negNor'+'mal.x\x20*\x20un'+'iform.ligh'+'tCube[0]\x20+'+'\x20posNormal'+'.x\x20*\x20unifo'+'rm.lightCu'+'be[1]\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20negNormal'+'.y\x20*\x20unifo'+'rm.lightCu'+'be[2]\x20+\x20po'+'sNormal.y\x20'+'*\x20uniform.'+'lightCube['+'3]\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ne'+'gNormal.z\x20'+'*\x20uniform.'+'lightCube['+'4]\x20+\x20posNo'+'rmal.z\x20*\x20u'+'niform.lig'+'htCube[5];'+'\x0a\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20li'+'ght;\x0a',TO='\x0aparticleP'+'os\x20=\x20(unif'+'orm.matrix'+'_model\x20*\x20v'+'ec4f(parti'+'clePos,\x201.'+'0)).xyz;\x0a',wO='\x0avar\x20local'+'Pos\x20=\x20mesh'+'LocalPos;\x0a'+'let\x20rotRes'+'ultXY\x20=\x20ro'+'tateWithMa'+'trix(local'+'Pos.xy,\x20in'+'Angle);\x0alo'+'calPos\x20=\x20v'+'ec3f(rotRe'+'sultXY.rot'+'atedVec,\x20l'+'ocalPos.z)'+';\x0arotMatri'+'x\x20=\x20rotRes'+'ultXY.matr'+'ix;\x0a\x0alet\x20r'+'otResultYZ'+'\x20=\x20rotateW'+'ithMatrix('+'localPos.y'+'z,\x20inAngle'+');\x0alocalPo'+'s\x20=\x20vec3f('+'localPos.x'+',\x20rotResul'+'tYZ.rotate'+'dVec);\x0arot'+'Matrix\x20=\x20r'+'otResultYZ'+'.matrix;\x0a\x0a'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',EO='\x0aoutput.No'+'rmal\x20=\x20nor'+'malize(loc'+'alPos\x20+\x20un'+'iform.matr'+'ix_viewInv'+'erse[2].xy'+'z);\x0a',bO='\x0a\x20\x20\x20\x20let\x20s'+'ampledNorm'+'al:\x20vec4f\x20'+'=\x20textureS'+'ample(norm'+'alMap,\x20nor'+'malMapSamp'+'ler,\x20vec2f'+'(input.tex'+'CoordsAlph'+'aLife.x,\x201'+'.0\x20-\x20input'+'.texCoords'+'AlphaLife.'+'y));\x0a\x20\x20\x20\x20l'+'et\x20normalM'+'ap:\x20vec3f\x20'+'=\x20normaliz'+'e(sampledN'+'ormal.xyz\x20'+'*\x202.0\x20-\x201.'+'0);\x0a\x0a\x20\x20\x20\x20l'+'et\x20Particl'+'eMat\x20=\x20mat'+'3x3<f32>(P'+'articleMat'+'0,\x20Particl'+'eMat1,\x20Par'+'ticleMat2)'+';\x0a\x20\x20\x20\x20let\x20'+'normal:\x20ve'+'c3f\x20=\x20Part'+'icleMat\x20*\x20'+'normalMap;'+'\x0a',AO='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan2(veloc'+'ityV.x,\x20ve'+'locityV.y)'+';\x0a',CO='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',PO='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20Normal:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20varying\x20'+'ParticleMa'+'t0:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Particle'+'Mat2:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'Cube:\x20arra'+'y<vec3f,\x206'+'>;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vDe'+'pth:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sc'+'reenDepthP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22fogPS\x22\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'ap:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'apSampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'iclePS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'VERTEX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'ormal:\x20vec'+'3f\x20=\x20Norma'+'l;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20MAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_normal'+'MapPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20!=\x20NON'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20HAL'+'F_LAMBERT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_halflambe'+'rtPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_lambertPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+('#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_light'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20BLE'+'ND\x20==\x20NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendNorma'+'lPS\x22\x0a\x20\x20\x20\x20#'+'elif\x20BLEND'+'\x20==\x20ADDITI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendAddPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+'\x20MULTIPLIC'+'ATIVE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_blendMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_endPS'+'\x22\x0a'),MO='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20anim'+'TexTilesPa'+'rams:\x20vec2'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20a'+'nimTexPara'+'ms:\x20vec4f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20ani'+'mTexIndexP'+'arams:\x20vec'+'2f;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20Partic'+'leMat0:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20Pa'+'rticleMat2'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20==\x20V'+'ERTEX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Normal:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vDepth:\x20f'+'32;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_in'+'itVS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20PACK8\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleIn'+'putRgba8PS'+'\x22\x20\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x20\x22parti'+'cleInputFl'+'oatPS\x22\x20\x20\x20\x20'+'//\x20why\x20are'+'\x20these\x20PS\x20'+'and\x20not\x20VS'+'?\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'screenDept'+'hPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'articleVS\x22'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x20//\x20PARTI'+'CLE_CPU\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SOFT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22screenDep'+'thPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_c'+'puVS\x22\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_l'+('ocalShiftV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20ANIM'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20A'+'NIMTEX_LOO'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimFram'+'eLoopVS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleAnimFra'+'meClampVS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimTexV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20wrap\x20is\x20'+'not\x20used\x20o'+'n\x20CPU,\x20it\x20'+'was\x20commen'+'ted\x20out.\x20T'+'ODO:\x20inves'+'tigate\x20why'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'WRAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_wrap'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ALIGN_TO'+'_MOTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_point'+'AlongVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20USE_MESH'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_me'+'shVS\x22\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CUSTOM_FA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_custom'+'FaceVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_billboa'+'rdVS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20VERTEX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_norma'+'lVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20NORMA'+'L\x20==\x20MAP\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_TBNV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STRE'+'TCH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_stretchVS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PART'+'ICLE_GPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_endV')+('S\x22\x0a\x20\x20\x20\x20#el'+'se\x20//\x20PART'+'ICLE_CPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_cpu_'+'endVS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softVS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),DO='\x0a\x20\x20\x20\x20var\x20d'+'epth:\x20f32\x20'+'=\x20getLinea'+'rScreenDep'+'thFrag();\x0a'+'\x20\x20\x20\x20var\x20pa'+'rticleDept'+'h:\x20f32\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20var\x20depth'+'Diff:\x20f32\x20'+'=\x20saturate'+'(abs(parti'+'cleDepth\x20-'+'\x20depth)\x20*\x20'+'uniform.so'+'ftening);\x0a'+'\x20\x20\x20\x20a\x20=\x20a\x20'+'*\x20depthDif'+'f;\x0a',IO='\x0a\x20\x20\x20\x20outpu'+'t.vDepth\x20='+'\x20getLinear'+'Depth(loca'+'lPos);\x0a',LO='\x0a\x20\x20\x20\x20let\x20m'+'oveDir:\x20ve'+'c3f\x20=\x20inVe'+'l\x20*\x20unifor'+'m.stretch;'+'\x0a\x20\x20\x20\x20var\x20p'+'osPrev:\x20ve'+'c3f\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20=\x20posPrev'+'\x20+\x20particl'+'ePosMoved;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'viewRotati'+'onTemp:\x20ma'+'t3x3f\x20=\x20ma'+'t3x3f(unif'+'orm.matrix'+'_view[0].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[1].xyz'+',\x20uniform.'+'matrix_vie'+'w[2].xyz);'+'\x0a\x20\x20\x20\x20let\x20c'+'enterToVer'+'texV:\x20vec2'+'f\x20=\x20normal'+'ize((viewR'+'otationTem'+'p\x20*\x20localP'+'os).xy);\x0a\x0a'+'\x20\x20\x20\x20let\x20in'+'terpolatio'+'n:\x20f32\x20=\x20d'+'ot(-veloci'+'tyV,\x20cente'+'rToVertexV'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x0a\x20\x20\x20\x20'+'particlePo'+'s\x20=\x20mix(pa'+'rticlePos,'+'\x20posPrev,\x20'+'interpolat'+'ion);\x0a',RO='\x0a\x20\x20\x20\x20let\x20r'+'ot3\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(r'+'otMatrix[0'+'][0],\x20rotM'+'atrix[1][0'+'],\x200.0),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(rotMatr'+'ix[0][1],\x20'+'rotMatrix['+'1][1],\x200.0'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3f(0.0'+',\x200.0,\x201.0'+')\x0a\x20\x20\x20\x20);\x0a\x0a'+'\x20\x20\x20\x20let\x20vi'+'ewBasis\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-un'+'iform.matr'+'ix_viewInv'+'erse[0].xy'+'z,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-uniform.'+'matrix_vie'+'wInverse[1'+'].xyz,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.matrix_'+'viewInvers'+'e[2].xyz\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20tempM'+'at\x20=\x20viewB'+'asis\x20*\x20rot'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20WGSL\x20does'+'\x20not\x20suppo'+'rt\x20matrix\x20'+'varyings,\x20'+'decompose\x20'+'it\x20to\x20vec3'+'s\x0a\x20\x20\x20\x20outp'+'ut.Particl'+'eMat0\x20=\x20te'+'mpMat[0];\x0a'+'\x20\x20\x20\x20output'+'.ParticleM'+'at1\x20=\x20temp'+'Mat[1];\x0a\x20\x20'+'\x20\x20output.P'+'articleMat'+'2\x20=\x20tempMa'+'t[2];\x0a',OO='\x0a\x20\x20\x20\x20let\x20o'+'rigParticl'+'ePos:\x20vec3'+'f\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20particleP'+'os\x20=\x20parti'+'clePos\x20-\x20u'+'niform.mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20=\x20(par'+'ticlePos\x20%'+'\x20uniform.w'+'rapBounds)'+'\x20-\x20uniform'+'.wrapBound'+'s\x20*\x200.5;\x0a\x20'+'\x20\x20\x20particl'+'ePos\x20=\x20par'+'ticlePos\x20+'+'\x20uniform.m'+'atrix_mode'+'l[3].xyz;\x0a'+'\x20\x20\x20\x20partic'+'lePosMoved'+'\x20=\x20particl'+'ePos\x20-\x20ori'+'gParticleP'+'os;\x0a',FO={'particlePS':X3,'particleVS':q3,'particleAnimFrameClampVS':j3,'particleAnimFrameLoopVS':Y3,'particleAnimTexVS':K3,'particleInputFloatPS':Z3,'particleInputRgba8PS':Q3,'particleOutputFloatPS':J3,'particleOutputRgba8PS':eO,'particleUpdaterAABBPS':tO,'particleUpdaterEndPS':sO,'particleUpdaterInitPS':iO,'particleUpdaterNoRespawnPS':rO,'particleUpdaterOnStopPS':aO,'particleUpdaterRespawnPS':nO,'particleUpdaterSpherePS':oO,'particleUpdaterStartPS':lO,'particle_billboardVS':cO,'particle_blendAddPS':hO,'particle_blendMultiplyPS':dO,'particle_blendNormalPS':fO,'particle_cpuVS':uO,'particle_cpu_endVS':pO,'particle_customFaceVS':mO,'particle_endPS':_O,'particle_endVS':gO,'particle_halflambertPS':SO,'particle_initVS':yO,'particle_lambertPS':vO,'particle_lightingPS':xO,'particle_localShiftVS':TO,'particle_meshVS':wO,'particle_normalVS':EO,'particle_normalMapPS':bO,'particle_pointAlongVS':AO,'particle_simulationPS':CO,'particle_shaderPS':PO,'particle_shaderVS':MO,'particle_softPS':DO,'particle_softVS':IO,'particle_stretchVS':LO,'particle_TBNVS':RO,'particle_wrapVS':OO},NO=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class kO extends ct{constructor(_0x263873){super(_0x263873),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=e3,this['DataType']=t3,this['schema']=NO,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this),Pe['get'](_0x263873['graphicsDe'+'vice'],Fe)['add']($3),Pe['get'](_0x263873['graphicsDe'+'vice'],it)['add'](FO);}['initialize'+'ComponentD'+'ata'](_0x12cbc0,_0x4a0360,_0x2ed4b2){const _0x5c9b63={};_0x2ed4b2=[];const _0x47f70a=this['propertyTy'+'pes'];(_0x4a0360['mesh']instanceof pe||typeof _0x4a0360['mesh']=='number')&&(_0x4a0360['meshAsset']=_0x4a0360['mesh'],delete _0x4a0360['mesh']);for(const _0x3ad42c in _0x4a0360){if(_0x4a0360['hasOwnProp'+'erty'](_0x3ad42c)&&(_0x2ed4b2['push'](_0x3ad42c),_0x5c9b63[_0x3ad42c]=_0x4a0360[_0x3ad42c]),_0x47f70a[_0x3ad42c]==='vec3')Array['isArray'](_0x5c9b63[_0x3ad42c])&&(_0x5c9b63[_0x3ad42c]=new D(_0x5c9b63[_0x3ad42c][-0x11ca+0x1111+0x1*0xb9],_0x5c9b63[_0x3ad42c][-0x895*0x3+0x13e9+0x5d7],_0x5c9b63[_0x3ad42c][-0x1e72+-0x31*0x3b+0x29bf]));else{if(_0x47f70a[_0x3ad42c]==='curve'){if(!(_0x5c9b63[_0x3ad42c]instanceof qs)){const _0x171c21=_0x5c9b63[_0x3ad42c]['type'];_0x5c9b63[_0x3ad42c]=new qs(_0x5c9b63[_0x3ad42c]['keys']),_0x5c9b63[_0x3ad42c]['type']=_0x171c21;}}else{if(_0x47f70a[_0x3ad42c]==='curveset'&&!(_0x5c9b63[_0x3ad42c]instanceof na)){const _0x1a3f57=_0x5c9b63[_0x3ad42c]['type'];_0x5c9b63[_0x3ad42c]=new na(_0x5c9b63[_0x3ad42c]['keys']),_0x5c9b63[_0x3ad42c]['type']=_0x1a3f57;}}}_0x5c9b63['layers']&&Array['isArray'](_0x5c9b63['layers'])&&(_0x5c9b63['layers']=_0x5c9b63['layers']['slice'](0x245b*0x1+0x227*-0x9+0x43f*-0x4));}super['initialize'+'ComponentD'+'ata'](_0x12cbc0,_0x5c9b63,_0x2ed4b2);}['cloneCompo'+'nent'](_0x56120e,_0x57a34d){const _0x4b2af5=_0x56120e['particlesy'+'stem']['data'],_0x438b8e=this['schema'],_0x281b3d={};for(let _0x2dbccc=0x5*0x64d+-0x1e5d+0x1*-0x124,_0xc8850e=_0x438b8e['length'];_0x2dbccc<_0xc8850e;_0x2dbccc++){const _0x18b37a=_0x438b8e[_0x2dbccc];let _0x5ea18c=_0x4b2af5[_0x18b37a];_0x5ea18c instanceof D||_0x5ea18c instanceof qs||_0x5ea18c instanceof na?(_0x5ea18c=_0x5ea18c['clone'](),_0x281b3d[_0x18b37a]=_0x5ea18c):_0x18b37a==='layers'?_0x281b3d['layers']=_0x4b2af5['layers']['slice'](0x11*0x169+0xd6a*-0x2+0x2db):_0x5ea18c!=null&&(_0x281b3d[_0x18b37a]=_0x5ea18c);}return this['addCompone'+'nt'](_0x57a34d,_0x281b3d);}['onUpdate'](_0x1edd1b){const _0x111b34=this['store'],_0x206a17=this['app']['stats']['particles'],_0x3304fd=this['app']['scene']['layers'];for(let _0x43b469=-0x88d+-0x5*0x49+-0x1*-0x9fa;_0x43b469<_0x3304fd['layerList']['length'];_0x43b469++)_0x3304fd['layerList'][_0x43b469]['requiresLi'+'ghtCube']=!(-0xf42+-0x639*0x6+0x3499);for(const _0x27270f in _0x111b34)if(_0x111b34['hasOwnProp'+'erty'](_0x27270f)){const _0x948cec=_0x111b34[_0x27270f],_0x4c772d=_0x948cec['entity'],_0x437c1a=_0x948cec['data'];if(_0x437c1a['enabled']&&_0x4c772d['enabled']){const _0x5886e7=_0x4c772d['particlesy'+'stem']['emitter'];if(!(_0x5886e7!=null&&_0x5886e7['meshInstan'+'ce']['visible']))continue;if(_0x5886e7['lighting']){const _0x3a1ffb=_0x437c1a['layers'];for(let _0x2b9a21=-0x14be+0x7*0xa7+0x102d;_0x2b9a21<_0x3a1ffb['length'];_0x2b9a21++){const _0x4e6f26=_0x3304fd['getLayerBy'+'Id'](_0x3a1ffb[_0x2b9a21]);_0x4e6f26&&(_0x4e6f26['requiresLi'+'ghtCube']=!(0x591+0x135b+0x4fc*-0x5));}}if(!_0x437c1a['paused']){let _0x1248b8=0xb*-0x1ef+0x25fd*0x1+-0x1ac*0xa;if(_0x5886e7['simTime']+=_0x1edd1b,_0x5886e7['simTime']>=_0x5886e7['fixedTimeS'+'tep']&&(_0x1248b8=Math['floor'](_0x5886e7['simTime']/_0x5886e7['fixedTimeS'+'tep']),_0x5886e7['simTime']-=_0x1248b8*_0x5886e7['fixedTimeS'+'tep']),_0x1248b8){_0x1248b8=Math['min'](_0x1248b8,_0x5886e7['maxSubStep'+'s']);for(let _0xeaf781=-0x109e+0x1093+0x1*0xb;_0xeaf781<_0x1248b8;_0xeaf781++)_0x5886e7['addTime'](_0x5886e7['fixedTimeS'+'tep'],!(0x1a5*0xb+-0x1b58+0x942));_0x206a17['_updatesPe'+'rFrame']+=_0x1248b8,_0x206a17['_frameTime']+=_0x5886e7['_addTimeTi'+'me'],_0x5886e7['_addTimeTi'+'me']=-0xccf+0x2e5+0x9ea;}_0x5886e7['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x1956ed,_0x4c3d4c){_0x4c3d4c['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class UO extends wd{constructor(_0x11346c,_0x46db6d){super(),this['skin']=_0x11346c,this['skinInstan'+'ce']=_0x46db6d;}}const Gs=class Gs{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),Gs['_skinInsta'+'nceCache']['forEach']((_0x39ded9,_0xe9f8b5)=>{console['log'](_0xe9f8b5['name']+':\x20Array('+_0x39ded9['length']+')');for(let _0xe5cc7c=0x945+-0x21e9*-0x1+0x2b2e*-0x1;_0xe5cc7c<_0x39ded9['length'];_0xe5cc7c++)console['log']('\x20\x20'+_0xe5cc7c+(':\x20RefCount'+'\x20')+_0x39ded9[_0xe5cc7c]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x64de18,_0x887395,_0x5a6739){let _0x2dc49b=Gs['getCachedS'+'kinInstanc'+'e'](_0x64de18,_0x887395);return _0x2dc49b||(_0x2dc49b=new Ol(_0x64de18),_0x2dc49b['resolve'](_0x887395,_0x5a6739),Gs['addCachedS'+'kinInstanc'+'e'](_0x64de18,_0x887395,_0x2dc49b)),_0x2dc49b;}static['getCachedS'+'kinInstanc'+'e'](_0x267b91,_0x179185){let _0x37398d=null;const _0x51a567=Gs['_skinInsta'+'nceCache']['get'](_0x179185);if(_0x51a567){const _0x1ae03a=_0x51a567['find'](_0x33739f=>_0x33739f['skin']===_0x267b91);_0x1ae03a&&(_0x1ae03a['incRefCoun'+'t'](),_0x37398d=_0x1ae03a['skinInstan'+'ce']);}return _0x37398d;}static['addCachedS'+'kinInstanc'+'e'](_0x275886,_0x224ae1,_0x58d384){let _0x3a134a=Gs['_skinInsta'+'nceCache']['get'](_0x224ae1);_0x3a134a||(_0x3a134a=[],Gs['_skinInsta'+'nceCache']['set'](_0x224ae1,_0x3a134a));let _0x12c718=_0x3a134a['find'](_0x57af58=>_0x57af58['skin']===_0x275886);_0x12c718||(_0x12c718=new UO(_0x275886,_0x58d384),_0x3a134a['push'](_0x12c718)),_0x12c718['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0x167980){if(_0x167980){const _0xfb2294=_0x167980['rootBone'];if(_0xfb2294){const _0xf991f7=Gs['_skinInsta'+'nceCache']['get'](_0xfb2294);if(_0xf991f7){const _0x585811=_0xf991f7['findIndex'](_0x37d51a=>_0x37d51a['skinInstan'+'ce']===_0x167980);if(_0x585811>=-0x1*-0x24a3+0xd*0x211+-0x3f80){const _0x2a7120=_0xf991f7[_0x585811];_0x2a7120['decRefCoun'+'t'](),_0x2a7120['refCount']===-0x589+-0x1230+0x17b9&&(_0xf991f7['splice'](_0x585811,-0x3fb*-0x7+0x1394+-0x2f70),_0xf991f7['length']||Gs['_skinInsta'+'nceCache']['delete'](_0xfb2294),_0x167980&&(_0x167980['destroy'](),_0x2a7120['skinInstan'+'ce']=null));}}}}}};h(Gs,'_skinInsta'+'nceCache',new Map());let _l=Gs;class gl{constructor(_0x2dd7ac,_0x31a145,_0x198d04,_0x116663,_0x4970b6){h(this,'_evtLoadBy'+'Id',null),h(this,'_evtUnload'+'ById',null),h(this,'_evtAddByI'+'d',null),h(this,'_evtRemove'+'ById',null),h(this,'_evtLoadBy'+'Url',null),h(this,'_evtAddByU'+'rl',null),h(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x2dd7ac,this['parent']=_0x31a145,this['_scope']=_0x4970b6,this['_registry']=_0x198d04,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x116663['load'],this['_onAssetAd'+'d']=_0x116663['add'],this['_onAssetRe'+'move']=_0x116663['remove'],this['_onAssetUn'+'load']=_0x116663['unload']);}set['id'](_0x53bb8d){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x53bb8d,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x5e45c0){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x5e45c0,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0x2dfff2,_0x8b552,_0x23e10a,_0x4aff37,_0x365d24,_0x290fc9,_0x5854d6;this['id']&&((_0x2dfff2=this['_evtLoadBy'+'Id'])==null||_0x2dfff2['off'](),this['_evtLoadBy'+'Id']=null,(_0x8b552=this['_evtAddByI'+'d'])==null||_0x8b552['off'](),this['_evtAddByI'+'d']=null,(_0x23e10a=this['_evtRemove'+'ById'])==null||_0x23e10a['off'](),this['_evtRemove'+'ById']=null,(_0x4aff37=this['_evtUnload'+'ById'])==null||_0x4aff37['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x365d24=this['_evtLoadBy'+'Url'])==null||_0x365d24['off'](),this['_evtLoadBy'+'Url']=null,(_0x290fc9=this['_evtAddByU'+'rl'])==null||_0x290fc9['off'](),this['_evtAddByU'+'rl']=null,(_0x5854d6=this['_evtRemove'+'ByUrl'])==null||_0x5854d6['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0xf0f86e){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0xf0f86e);}['_onAdd'](_0x546544){this['asset']=_0x546544,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x546544);}['_onRemove'](_0x359b1b){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x359b1b),this['asset']=null;}['_onUnload'](_0x27ee37){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x27ee37);}}class n0 extends we{constructor(_0x2a905f,_0x1c3cb7){super(_0x2a905f,_0x1c3cb7),h(this,'_type','asset'),h(this,'_castShado'+'ws',!(-0xb*0x242+0x288+0x164e)),h(this,'_receiveSh'+'adows',!(0x18c6+-0x247b+0xbb5)),h(this,'_castShado'+'wsLightmap',!(-0x207*-0x13+-0xb*-0xe5+-0x305c)),h(this,'_lightmapp'+'ed',!(-0x1*0x124b+-0x332*-0x4+-0x2*-0x2c2)),h(this,'_lightmapS'+'izeMultipl'+'ier',-0x1*-0x132d+0x21ae+-0x34da),h(this,'isStatic',!(-0x59f+0x1*-0xe3+0x683)),h(this,'_batchGrou'+'pId',-(0x17*-0x97+-0x1*-0x9d5+-0x1d*-0x21)),h(this,'_layers',[er]),h(this,'_renderSty'+'le',un),h(this,'_meshInsta'+'nces',[]),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_assetRefe'+'rence'),h(this,'_materialR'+'eferences',[]),h(this,'_material'),h(this,'_rootBone',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new gl('asset',this,_0x2a905f['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x2a905f['defaultMat'+'erial'],_0x1c3cb7['on']('remove',this['onRemoveCh'+'ild'],this),_0x1c3cb7['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x1c3cb7['on']('insert',this['onInsertCh'+'ild'],this),_0x1c3cb7['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x5cab1b){this['_renderSty'+'le']!==_0x5cab1b&&(this['_renderSty'+'le']=_0x5cab1b,He['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x5cab1b));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0x131c38){this['_customAab'+'b']=_0x131c38;const _0x1720c3=this['_meshInsta'+'nces'];if(_0x1720c3){for(let _0x434f92=-0xaf*-0x2b+0x6*0xf1+0x230b*-0x1;_0x434f92<_0x1720c3['length'];_0x434f92++)_0x1720c3[_0x434f92]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x26f8bb){if(this['_type']!==_0x26f8bb&&(this['_area']=null,this['_type']=_0x26f8bb,this['destroyMes'+'hInstances'](),_0x26f8bb!=='asset')){let _0x3b5664=this['_material'];(!_0x3b5664||_0x3b5664===this['system']['defaultMat'+'erial'])&&(_0x3b5664=this['_materialR'+'eferences'][-0x418*-0x9+0x25fe+-0x6*0xc79]&&this['_materialR'+'eferences'][-0x1*-0x11a5+-0x27*-0x42+-0x7*0x3f5]['asset']&&this['_materialR'+'eferences'][-0xb*-0x35d+-0x13d9+-0xa*0x1b7]['asset']['resource']);const _0x51c953=r0(this['system']['app']['graphicsDe'+'vice'],_0x26f8bb);this['_area']=_0x51c953['area'],this['meshInstan'+'ces']=[new He(_0x51c953['mesh'],_0x3b5664||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0xe0a8a5){if(w['assert'](Array['isArray'](_0xe0a8a5),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0xe0a8a5,this['_meshInsta'+'nces']){const _0x4f6f71=this['_meshInsta'+'nces'];for(let _0x5d62e0=-0x1*-0xc0b+-0x23ce*0x1+0x7*0x365;_0x5d62e0<_0x4f6f71['length'];_0x5d62e0++)_0x4f6f71[_0x5d62e0]['node']||(_0x4f6f71[_0x5d62e0]['node']=this['entity']),_0x4f6f71[_0x5d62e0]['castShadow']=this['_castShado'+'ws'],_0x4f6f71[_0x5d62e0]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x4f6f71[_0x5d62e0]['renderStyl'+'e']=this['_renderSty'+'le'],_0x4f6f71[_0x5d62e0]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x4f6f71[_0x5d62e0]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x57acad){if(_0x57acad!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x57acad;const _0x49119c=this['_meshInsta'+'nces'];if(_0x49119c){for(let _0x4ebe42=0x7*-0x1b1+-0x1*0x238a+0x2f61;_0x4ebe42<_0x49119c['length'];_0x4ebe42++)_0x49119c[_0x4ebe42]['setLightma'+'pped'](_0x57acad);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x52f274){if(this['_castShado'+'ws']!==_0x52f274){const _0x1f02df=this['_meshInsta'+'nces'];if(_0x1f02df){const _0x4b99f7=this['layers'],_0x260e2e=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x52f274)for(let _0xe5a407=0x3eb+-0x1*-0x13c4+0x1*-0x17af;_0xe5a407<_0x4b99f7['length'];_0xe5a407++){const _0x165a18=_0x260e2e['layers']['getLayerBy'+'Id'](this['layers'][_0xe5a407]);_0x165a18&&_0x165a18['removeShad'+'owCasters'](_0x1f02df);}for(let _0x21dcad=0x3b7*0x5+-0x7a+-0x1219;_0x21dcad<_0x1f02df['length'];_0x21dcad++)_0x1f02df[_0x21dcad]['castShadow']=_0x52f274;if(!this['_castShado'+'ws']&&_0x52f274)for(let _0x3ad243=0xc64+-0x1063+0x3ff;_0x3ad243<_0x4b99f7['length'];_0x3ad243++){const _0x3be572=_0x260e2e['layers']['getLayerBy'+'Id'](_0x4b99f7[_0x3ad243]);_0x3be572&&_0x3be572['addShadowC'+'asters'](_0x1f02df);}}this['_castShado'+'ws']=_0x52f274;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x1fa556){if(this['_receiveSh'+'adows']!==_0x1fa556){this['_receiveSh'+'adows']=_0x1fa556;const _0x1cc451=this['_meshInsta'+'nces'];if(_0x1cc451){for(let _0x3b193f=-0x1ef0+-0x127d+0x1*0x316d;_0x3b193f<_0x1cc451['length'];_0x3b193f++)_0x1cc451[_0x3b193f]['receiveSha'+'dow']=_0x1fa556;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x4dc203){this['_castShado'+'wsLightmap']=_0x4dc203;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x38f442){this['_lightmapS'+'izeMultipl'+'ier']=_0x38f442;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x4dcf0e){const _0x41a83a=this['system']['app']['scene']['layers'];let _0x5b5afe;if(this['_meshInsta'+'nces']){for(let _0x556cce=0x219e+0x1ff1+-0x418f;_0x556cce<this['_layers']['length'];_0x556cce++)_0x5b5afe=_0x41a83a['getLayerBy'+'Id'](this['_layers'][_0x556cce]),_0x5b5afe&&_0x5b5afe['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=0x8b*-0x2c+-0x568*0x3+-0x1*-0x281c;for(let _0x5af577=-0xe*-0x92+0x69f+-0xe9b*0x1;_0x5af577<_0x4dcf0e['length'];_0x5af577++)this['_layers'][_0x5af577]=_0x4dcf0e[_0x5af577];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x298af3=-0x8e8+0x1bd7*0x1+-0x12ef;_0x298af3<this['_layers']['length'];_0x298af3++)_0x5b5afe=_0x41a83a['getLayerBy'+'Id'](this['_layers'][_0x298af3]),_0x5b5afe&&_0x5b5afe['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x176996){var _0x1aa94e,_0x144f1f;this['_batchGrou'+'pId']!==_0x176996&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0xa*-0x102+-0x10d2+0x35f*0x2&&((_0x1aa94e=this['system']['app']['batcher'])==null||_0x1aa94e['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x176996>=0x1*-0x126b+0x2397*0x1+-0x112c&&((_0x144f1f=this['system']['app']['batcher'])==null||_0x144f1f['insert'](St['RENDER'],_0x176996,this['entity'])),_0x176996<0x8f1+0xc70+-0x1561&&this['_batchGrou'+'pId']>=-0x399+0x32*0xab+0x3*-0x9ef&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x176996);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x26b3e3){if(this['_material']!==_0x26b3e3&&(this['_material']=_0x26b3e3,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x1de154=0xf50+0x1571+-0x24c1;_0x1de154<this['_meshInsta'+'nces']['length'];_0x1de154++)this['_meshInsta'+'nces'][_0x1de154]['material']=_0x26b3e3;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x56fd0f=[]){if(this['_materialR'+'eferences']['length']>_0x56fd0f['length']){for(let _0x39d8f5=_0x56fd0f['length'];_0x39d8f5<this['_materialR'+'eferences']['length'];_0x39d8f5++)this['_materialR'+'eferences'][_0x39d8f5]['id']=null;this['_materialR'+'eferences']['length']=_0x56fd0f['length'];}for(let _0x9a0d9f=-0x85b+-0x9*0x445+-0xc*-0x3e6;_0x9a0d9f<_0x56fd0f['length'];_0x9a0d9f++)if(this['_materialR'+'eferences'][_0x9a0d9f]||this['_materialR'+'eferences']['push'](new gl(_0x9a0d9f,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x56fd0f[_0x9a0d9f]){const _0x54c7b2=_0x56fd0f[_0x9a0d9f]instanceof pe?_0x56fd0f[_0x9a0d9f]['id']:_0x56fd0f[_0x9a0d9f];this['_materialR'+'eferences'][_0x9a0d9f]['id']!==_0x54c7b2&&(this['_materialR'+'eferences'][_0x9a0d9f]['id']=_0x54c7b2),this['_materialR'+'eferences'][_0x9a0d9f]['asset']&&this['_onMateria'+'lAdded'](_0x9a0d9f,this,this['_materialR'+'eferences'][_0x9a0d9f]['asset']);}else this['_materialR'+'eferences'][_0x9a0d9f]['id']=null,this['_meshInsta'+'nces'][_0x9a0d9f]&&(this['_meshInsta'+'nces'][_0x9a0d9f]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x3a8044=>_0x3a8044['id']);}set['asset'](_0x19d41f){const _0x486e2f=_0x19d41f instanceof pe?_0x19d41f['id']:_0x19d41f;this['_assetRefe'+'rence']['id']!==_0x486e2f&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x486e2f,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x558fc1){const _0x416ef3=_0x558fc1 instanceof pe?_0x558fc1['id']:_0x558fc1;this['_assetRefe'+'rence']['id']=_0x416ef3;}set['rootBone'](_0xb3d63e){if(this['_rootBone']!==_0xb3d63e){const _0x2f25f3=typeof _0xb3d63e=='string';if(this['_rootBone']&&_0x2f25f3&&this['_rootBone']['getGuid']()===_0xb3d63e)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0xb3d63e instanceof Ie?this['_rootBone']=_0xb3d63e:_0x2f25f3?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0xb3d63e)||null,this['_rootBone']||w['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x5671a5=this['_meshInsta'+'nces'];if(_0x5671a5){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x39dd41=0x15a5*0x1+0x196e+-0x2f13;_0x39dd41<_0x5671a5['length'];_0x39dd41++)_0x5671a5[_0x39dd41]['destroy']();this['_meshInsta'+'nces']['length']=0x5cd*0x1+0x1c5d+0x2*-0x1115;}}['addToLayer'+'s'](){const _0x47a339=this['system']['app']['scene']['layers'];for(let _0x4c59bb=-0x9bd*0x4+-0x16d8+0x46a*0xe;_0x4c59bb<this['_layers']['length'];_0x4c59bb++){const _0x4dea70=_0x47a339['getLayerBy'+'Id'](this['_layers'][_0x4c59bb]);_0x4dea70&&_0x4dea70['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0x654fc7=this['system']['app']['scene']['layers'];for(let _0x296f55=-0x1*0x8b+-0x1de*0x9+-0x1*-0x1159;_0x296f55<this['_layers']['length'];_0x296f55++){const _0x185771=_0x654fc7['getLayerBy'+'Id'](this['_layers'][_0x296f55]);_0x185771&&_0x185771['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x1ab052=-0xf12+-0xf0+0x1*0x1002;_0x1ab052<this['_materialR'+'eferences']['length'];_0x1ab052++)this['_materialR'+'eferences'][_0x1ab052]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x883eb9,_0x50c187){this['addToLayer'+'s'](),_0x883eb9['off']('add',this['onLayerAdd'+'ed'],this),_0x883eb9['off']('remove',this['onLayerRem'+'oved'],this),_0x50c187['on']('add',this['onLayerAdd'+'ed'],this),_0x50c187['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x5be840){this['layers']['indexOf'](_0x5be840['id'])<0x15*-0x1d+-0x373*-0x4+0xb6b*-0x1||_0x5be840['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x2528a3){this['layers']['indexOf'](_0x2528a3['id'])<-0x232c+-0xcc9+-0x2ff5*-0x1||_0x2528a3['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x2e7f26;const _0x4ea7d5=this['system']['app'],_0x133f0f=_0x4ea7d5['scene'],_0x4994b0=_0x133f0f['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0x133f0f['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4994b0&&(this['_evtLayerA'+'dded']=_0x4994b0['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x4994b0['on']('remove',this['onLayerRem'+'oved'],this));const _0x76c9e9=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x76c9e9&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x1caf44=0x46b+-0x4c*-0x5+0x5e7*-0x1;_0x1caf44<this['_materialR'+'eferences']['length'];_0x1caf44++)this['_materialR'+'eferences'][_0x1caf44]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x1caf44]['asset']);this['_batchGrou'+'pId']>=-0x2*0xfa8+0xd5c+0x11f4&&((_0x2e7f26=_0x4ea7d5['batcher'])==null||_0x2e7f26['insert'](St['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x5b5634,_0x59a87d,_0x23abc0,_0x429dab;const _0x24942b=this['system']['app'],_0x5103f3=_0x24942b['scene']['layers'];(_0x5b5634=this['_evtLayers'+'Changed'])==null||_0x5b5634['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x5103f3&&((_0x59a87d=this['_evtLayerA'+'dded'])==null||_0x59a87d['off'](),this['_evtLayerA'+'dded']=null,(_0x23abc0=this['_evtLayerR'+'emoved'])==null||_0x23abc0['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x85d*0x2+-0x2640+-0x3a*-0x5f&&((_0x429dab=_0x24942b['batcher'])==null||_0x429dab['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x33ac94=0x1b4a+-0x1*-0x1c4b+-0x20f*0x1b;_0x33ac94<this['_meshInsta'+'nces']['length'];_0x33ac94++)this['_meshInsta'+'nces'][_0x33ac94]['visible']=!(-0x83b+0xd68*0x1+-0x2*0x296);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x1b66d7=-0x1a61+-0xcb*0x5+0x1e58;_0x1b66d7<this['_meshInsta'+'nces']['length'];_0x1b66d7++)this['_meshInsta'+'nces'][_0x1b66d7]['visible']=!(0xa*-0x3c2+0x6a*-0x59+0x4a6e);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x475f65;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0x52aab7=this['_assetRefe'+'rence']['asset']['resource'];(_0x475f65=this['_evtSetMes'+'hes'])==null||_0x475f65['off'](),this['_evtSetMes'+'hes']=_0x52aab7['on']('set:meshes',this['_onSetMesh'+'es'],this),_0x52aab7['meshes']&&this['_onSetMesh'+'es'](_0x52aab7['meshes']);}}['_onSetMesh'+'es'](_0x8dc9ff){this['_cloneMesh'+'es'](_0x8dc9ff);}['_clearSkin'+'Instances'](){for(let _0x5ee973=-0xac*-0x1d+-0x1*-0x18e6+0x2c62*-0x1;_0x5ee973<this['_meshInsta'+'nces']['length'];_0x5ee973++){const _0x1e2b93=this['_meshInsta'+'nces'][_0x5ee973];_l['removeCach'+'edSkinInst'+'ance'](_0x1e2b93['skinInstan'+'ce']),_0x1e2b93['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof Ie)for(let _0x4f9ed0=0x108b+0x1*0x1af6+0x2b*-0x103;_0x4f9ed0<this['_meshInsta'+'nces']['length'];_0x4f9ed0++){const _0x54f2fd=this['_meshInsta'+'nces'][_0x4f9ed0],_0x112629=_0x54f2fd['mesh'];_0x112629['skin']&&!_0x54f2fd['skinInstan'+'ce']&&(_0x54f2fd['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0x112629['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x6361a6){if(_0x6361a6&&_0x6361a6['length']){const _0x4883d6=[];for(let _0x5c5e09=0x227c+0x4ed+-0x213*0x13;_0x5c5e09<_0x6361a6['length'];_0x5c5e09++){const _0xd5535e=_0x6361a6[_0x5c5e09],_0x211940=this['_materialR'+'eferences'][_0x5c5e09]&&this['_materialR'+'eferences'][_0x5c5e09]['asset']&&this['_materialR'+'eferences'][_0x5c5e09]['asset']['resource'],_0x33724c=new He(_0xd5535e,_0x211940||this['system']['defaultMat'+'erial'],this['entity']);_0x4883d6['push'](_0x33724c),_0xd5535e['morph']&&(_0x33724c['morphInsta'+'nce']=new xa(_0xd5535e['morph']));}this['meshInstan'+'ces']=_0x4883d6,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x141032;(_0x141032=this['_evtSetMes'+'hes'])==null||_0x141032['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0x3b2b65,_0x4643a0,_0x5141b1){_0x5141b1['resource']?this['_onMateria'+'lLoad'](_0x3b2b65,_0x4643a0,_0x5141b1):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0x5141b1);}['_updateMai'+'nMaterial'](_0x3e9fe5,_0x56cb3d){_0x3e9fe5===-0x7a*-0x9+-0x1b9*0x3+0xe1*0x1&&(this['material']=_0x56cb3d);}['_onMateria'+'lLoad'](_0x5600c4,_0x320ef7,_0x2d989b){this['_meshInsta'+'nces'][_0x5600c4]&&(this['_meshInsta'+'nces'][_0x5600c4]['material']=_0x2d989b['resource']),this['_updateMai'+'nMaterial'](_0x5600c4,_0x2d989b['resource']);}['_onMateria'+'lRemove'](_0x2cbe31,_0x490eef,_0x2d0653){this['_meshInsta'+'nces'][_0x2cbe31]&&(this['_meshInsta'+'nces'][_0x2cbe31]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x2cbe31,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x44dac5,_0x35a711,_0x47bf29){this['_meshInsta'+'nces'][_0x44dac5]&&(this['_meshInsta'+'nces'][_0x44dac5]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x44dac5,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x41e5c5,_0x30ff65){_0x41e5c5['rootBone']&&(this['rootBone']=_0x30ff65[_0x41e5c5['rootBone']['getGuid']()]);}}class BO{constructor(){this['enabled']=!(0x1cc7+-0x7*-0x29+-0x1de6);}}const ku=['enabled'],Gr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class zO extends ct{constructor(_0x2e232c){super(_0x2e232c),this['id']='render',this['ComponentT'+'ype']=n0,this['DataType']=BO,this['schema']=ku,this['defaultMat'+'erial']=Qn(_0x2e232c['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x31d369,_0xf903a9,_0x1464cd){(_0xf903a9['batchGroup'+'Id']===null||_0xf903a9['batchGroup'+'Id']===void(0x221d+0x1*-0x1ac0+-0x75d))&&(_0xf903a9['batchGroup'+'Id']=-(-0x199*0x11+-0x759+-0x1f*-0x11d)),_0xf903a9['layers']&&_0xf903a9['layers']['length']&&(_0xf903a9['layers']=_0xf903a9['layers']['slice'](-0x1746+-0x6d*-0x59+-0xe9f));for(let _0x352d4c=0xe69+-0x2*-0xf7+-0x1057;_0x352d4c<Gr['length'];_0x352d4c++)_0xf903a9['hasOwnProp'+'erty'](Gr[_0x352d4c])&&(_0x31d369[Gr[_0x352d4c]]=_0xf903a9[Gr[_0x352d4c]]);_0xf903a9['aabbCenter']&&_0xf903a9['aabbHalfEx'+'tents']&&(_0x31d369['customAabb']=new De(new D(_0xf903a9['aabbCenter']),new D(_0xf903a9['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x31d369,_0xf903a9,ku);}['cloneCompo'+'nent'](_0x292476,_0x3ca36b){const _0x2e16d8={};for(let _0x413dc7=-0x869+0x1763+-0xefa;_0x413dc7<Gr['length'];_0x413dc7++)_0x2e16d8[Gr[_0x413dc7]]=_0x292476['render'][Gr[_0x413dc7]];_0x2e16d8['enabled']=_0x292476['render']['enabled'],delete _0x2e16d8['meshInstan'+'ces'];const _0x1acc21=this['addCompone'+'nt'](_0x3ca36b,_0x2e16d8),_0x3fccad=_0x292476['render']['meshInstan'+'ces'],_0x2dd906=_0x3fccad['map'](_0x1d38d7=>_0x1d38d7['mesh']);_0x1acc21['_onSetMesh'+'es'](_0x2dd906);for(let _0x2fc1d5=0xbe*-0x5+0xaa7+-0x6f1;_0x2fc1d5<_0x3fccad['length'];_0x2fc1d5++)_0x1acc21['meshInstan'+'ces'][_0x2fc1d5]['material']=_0x3fccad[_0x2fc1d5]['material'];return _0x292476['render']['customAabb']&&(_0x1acc21['customAabb']=_0x292476['render']['customAabb']['clone']()),_0x1acc21;}['onRemove'](_0xa6e0ec,_0x589c2c){_0x589c2c['onRemove']();}}we['_buildAcce'+'ssors'](n0['prototype'],ku);class bf{constructor(_0x14e85f,_0x2eb908){h(this,'_construct'+'or'),h(this,'_pool',[]),h(this,'_count',-0x2458+0x279*0x1+-0x1*-0x21df),(this['_construct'+'or']=_0x14e85f,this['_resize'](_0x2eb908));}['_resize'](_0x329fbb){if(_0x329fbb>this['_pool']['length']){for(let _0x1a6cde=this['_pool']['length'];_0x1a6cde<_0x329fbb;_0x1a6cde++)this['_pool'][_0x1a6cde]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(-0x24a4+0x14e4+-0x2*-0x7e1)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=0x1af7+0x4*-0xa4+0x1867*-0x1;}}let cs,Re,Bs,Ka;const VO=new le(),GO=new le(),Pc=new D();class bs extends we{constructor(){super(...arguments),h(this,'_angularDa'+'mping',-0x1*-0xce7+0x391+-0x1078),h(this,'_angularFa'+'ctor',new D(0x1356+0x1d*0xf9+-0x2f8a,0x67a+0x245a+-0x2ad3,-0x115e+0x5*0x35f+0x84)),h(this,'_angularVe'+'locity',new D()),h(this,'_body',null),h(this,'_friction',0x34*0x8a+-0x2c*0xcb+0x6dc+0.5),h(this,'_group',Gg),h(this,'_linearDam'+'ping',0xbca+-0xc*-0xcb+0x2*-0xaa7),h(this,'_linearFac'+'tor',new D(-0x1*0x195d+0x239*0xd+-0x7*0x81,0x4f*0x1d+0x1f*0xb1+0xb*-0x2c3,-0xa0a+0xcb3*-0x1+0xb5f*0x2)),h(this,'_linearVel'+'ocity',new D()),h(this,'_mask',Mu),h(this,'_mass',0x23f*0x4+0x396+-0xc91),h(this,'_restituti'+'on',-0xf4f+-0x10a5+-0x14*-0x199),h(this,'_rollingFr'+'iction',-0x5*-0x725+-0x128f+-0x2*0x895),h(this,'_simulatio'+'nEnabled',!(0x2535*-0x1+0x6d2+-0x4*-0x799)),h(this,'_type',yo);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(cs=new Ammo['btTransfor'+'m'](),Re=new Ammo['btVector3'](),Bs=new Ammo['btVector3'](),Ka=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](cs),Ammo['destroy'](Re),Ammo['destroy'](Bs),Ammo['destroy'](Ka),cs=null,Re=null,Bs=null,Ka=null;}set['angularDam'+'ping'](_0x4cc381){this['_angularDa'+'mping']!==_0x4cc381&&(this['_angularDa'+'mping']=_0x4cc381,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x4cc381));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x3fdd73){this['_angularFa'+'ctor']['equals'](_0x3fdd73)||(this['_angularFa'+'ctor']['copy'](_0x3fdd73),this['_body']&&this['_type']===ks&&(Re['setValue'](_0x3fdd73['x'],_0x3fdd73['y'],_0x3fdd73['z']),this['_body']['setAngular'+'Factor'](Re)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x5402b7){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0x5402b7['x'],_0x5402b7['y'],_0x5402b7['z']),this['_body']['setAngular'+'Velocity'](Re),this['_angularVe'+'locity']['copy'](_0x5402b7));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===ks){const _0x3b219e=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x3b219e['x'](),_0x3b219e['y'](),_0x3b219e['z']());}return this['_angularVe'+'locity'];}set['body'](_0x73a8fb){this['_body']!==_0x73a8fb&&(this['_body']=_0x73a8fb,_0x73a8fb&&this['_simulatio'+'nEnabled']&&_0x73a8fb['activate']());}get['body'](){return this['_body'];}set['friction'](_0x367aca){this['_friction']!==_0x367aca&&(this['_friction']=_0x367aca,this['_body']&&this['_body']['setFrictio'+'n'](_0x367aca));}get['friction'](){return this['_friction'];}set['group'](_0x5dc17f){this['_group']!==_0x5dc17f&&(this['_group']=_0x5dc17f,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x57fe67){this['_linearDam'+'ping']!==_0x57fe67&&(this['_linearDam'+'ping']=_0x57fe67,this['_body']&&this['_body']['setDamping'](_0x57fe67,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0xcb2866){this['_linearFac'+'tor']['equals'](_0xcb2866)||(this['_linearFac'+'tor']['copy'](_0xcb2866),this['_body']&&this['_type']===ks&&(Re['setValue'](_0xcb2866['x'],_0xcb2866['y'],_0xcb2866['z']),this['_body']['setLinearF'+'actor'](Re)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x1b3eae){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0x1b3eae['x'],_0x1b3eae['y'],_0x1b3eae['z']),this['_body']['setLinearV'+'elocity'](Re),this['_linearVel'+'ocity']['copy'](_0x1b3eae));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===ks){const _0x1ae0ef=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x1ae0ef['x'](),_0x1ae0ef['y'](),_0x1ae0ef['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x35f0c2){this['_mask']!==_0x35f0c2&&(this['_mask']=_0x35f0c2,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0xf697cf){if(this['_mass']!==_0xf697cf&&(this['_mass']=_0xf697cf,this['_body']&&this['_type']===ks)){const _0x36ae25=this['enabled']&&this['entity']['enabled'];_0x36ae25&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0xf697cf,Re),this['_body']['setMassPro'+'ps'](_0xf697cf,Re),this['_body']['updateIner'+'tiaTensor'](),_0x36ae25&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x286cb2){this['_restituti'+'on']!==_0x286cb2&&(this['_restituti'+'on']=_0x286cb2,this['_body']&&this['_body']['setRestitu'+'tion'](_0x286cb2));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x10959c){this['_rollingFr'+'iction']!==_0x10959c&&(this['_rollingFr'+'iction']=_0x10959c,this['_body']&&this['_body']['setRolling'+'Friction'](_0x10959c));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x331640){if(this['_type']!==_0x331640){switch(this['_type']=_0x331640,this['disableSim'+'ulation'](),_0x331640){case ks:this['_group']=jL,this['_mask']=Wg;break;case Ha:this['_group']=YL,this['_mask']=Wg;break;case yo:default:this['_group']=Gg,this['_mask']=Mu;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x1b4ae0=this['entity'];let _0x5d359f;if(_0x1b4ae0['collision']&&(_0x5d359f=_0x1b4ae0['collision']['shape'],_0x1b4ae0['trigger']&&(_0x1b4ae0['trigger']['destroy'](),delete _0x1b4ae0['trigger'])),_0x5d359f){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x3c1906=this['_type']===ks?this['_mass']:0x391*0x1+0x1e69+0x10fd*-0x2;this['_getEntity'+'Transform'](cs);const _0x54e9f6=this['system']['createBody'](_0x3c1906,_0x5d359f,cs);if(_0x54e9f6['setRestitu'+'tion'](this['_restituti'+'on']),_0x54e9f6['setFrictio'+'n'](this['_friction']),_0x54e9f6['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x54e9f6['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===ks){const _0x316479=this['_linearFac'+'tor'];Re['setValue'](_0x316479['x'],_0x316479['y'],_0x316479['z']),_0x54e9f6['setLinearF'+'actor'](Re);const _0x55fa1f=this['_angularFa'+'ctor'];Re['setValue'](_0x55fa1f['x'],_0x55fa1f['y'],_0x55fa1f['z']),_0x54e9f6['setAngular'+'Factor'](Re);}else this['_type']===Ha&&(_0x54e9f6['setCollisi'+'onFlags'](_0x54e9f6['getCollisi'+'onFlags']()|qL),_0x54e9f6['setActivat'+'ionState'](Vg));_0x54e9f6['entity']=_0x1b4ae0,this['body']=_0x54e9f6,this['enabled']&&_0x1b4ae0['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(0x1dcf+-0x1777+-0x657);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0xc4de4f=this['entity'];if(_0xc4de4f['collision']&&_0xc4de4f['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0x1113d0=this['_body'];if(_0x1113d0){switch(this['system']['addBody'](_0x1113d0,this['_group'],this['_mask']),this['_type']){case ks:this['system']['_dynamic']['push'](this),_0x1113d0['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;case Ha:this['system']['_kinematic']['push'](this),_0x1113d0['forceActiv'+'ationState'](Vg);break;case yo:_0x1113d0['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;}_0xc4de4f['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0xc4de4f['collision']),_0x1113d0['activate'](),this['_simulatio'+'nEnabled']=!(-0x1ace+0x1a3e+-0x8*-0x12);}}}['disableSim'+'ulation'](){const _0x18d17d=this['_body'];if(_0x18d17d&&this['_simulatio'+'nEnabled']){const _0x2b141e=this['system'];let _0x569997=_0x2b141e['_compounds']['indexOf'](this['entity']['collision']);_0x569997>-(-0x209e+0x3d5+0x1cca)&&_0x2b141e['_compounds']['splice'](_0x569997,-0x149f+-0x488+0x1928),_0x569997=_0x2b141e['_dynamic']['indexOf'](this),_0x569997>-(0x7fb+0x1*0x52+-0x84c)&&_0x2b141e['_dynamic']['splice'](_0x569997,-0x754*0x2+0x7aa+0x1*0x6ff),_0x569997=_0x2b141e['_kinematic']['indexOf'](this),_0x569997>-(0x2ab+-0x82c+0x582)&&_0x2b141e['_kinematic']['splice'](_0x569997,0x730+-0x1*0xaee+0x3bf),_0x2b141e['removeBody'](_0x18d17d),_0x18d17d['forceActiv'+'ationState'](Yv),this['_simulatio'+'nEnabled']=!(-0x453+-0x1*0x1ba9+0x1ffd);}}['applyForce'](_0x2e9437,_0x6ecc42,_0x567320,_0x11bcc7,_0x328e86,_0x4644ff){const _0x2a6d17=this['_body'];_0x2a6d17&&(_0x2a6d17['activate'](),_0x2e9437 instanceof D?Re['setValue'](_0x2e9437['x'],_0x2e9437['y'],_0x2e9437['z']):Re['setValue'](_0x2e9437,_0x6ecc42,_0x567320),_0x6ecc42 instanceof D?Bs['setValue'](_0x6ecc42['x'],_0x6ecc42['y'],_0x6ecc42['z']):_0x11bcc7!==void(0x1*0x1492+-0x1*0x779+-0xd19)?Bs['setValue'](_0x11bcc7,_0x328e86,_0x4644ff):Bs['setValue'](0x2eb*-0xa+-0xe10+0x2b3e,-0x1bce+0x1d49+-0x17b,0xc5*-0x31+-0x1*-0xfc1+0x5*0x464),_0x2a6d17['applyForce'](Re,Bs));}['applyTorqu'+'e'](_0x219d4d,_0x5d63c6,_0x18ce0f){const _0x4a00f5=this['_body'];_0x4a00f5&&(_0x4a00f5['activate'](),_0x219d4d instanceof D?Re['setValue'](_0x219d4d['x'],_0x219d4d['y'],_0x219d4d['z']):Re['setValue'](_0x219d4d,_0x5d63c6,_0x18ce0f),_0x4a00f5['applyTorqu'+'e'](Re));}['applyImpul'+'se'](_0xa8b280,_0x40e2cf,_0x21429d,_0x479b64,_0x553502,_0x41b48a){const _0x6f753b=this['_body'];_0x6f753b&&(_0x6f753b['activate'](),_0xa8b280 instanceof D?Re['setValue'](_0xa8b280['x'],_0xa8b280['y'],_0xa8b280['z']):Re['setValue'](_0xa8b280,_0x40e2cf,_0x21429d),_0x40e2cf instanceof D?Bs['setValue'](_0x40e2cf['x'],_0x40e2cf['y'],_0x40e2cf['z']):_0x479b64!==void(0xc6*0x19+-0x1*0x1f57+0x1*0xc01)?Bs['setValue'](_0x479b64,_0x553502,_0x41b48a):Bs['setValue'](-0x21db+-0x1*0x9b7+0x2b92,0x2e2*0x3+-0x168a+0xde4,-0x192b*0x1+-0x1686+0x2fb1),_0x6f753b['applyImpul'+'se'](Re,Bs));}['applyTorqu'+'eImpulse'](_0x5d596b,_0x2137c5,_0x1d1756){const _0xfc79d8=this['_body'];_0xfc79d8&&(_0xfc79d8['activate'](),_0x5d596b instanceof D?Re['setValue'](_0x5d596b['x'],_0x5d596b['y'],_0x5d596b['z']):Re['setValue'](_0x5d596b,_0x2137c5,_0x1d1756),_0xfc79d8['applyTorqu'+'eImpulse'](Re));}['isStatic'](){return this['_type']===yo;}['isStaticOr'+'Kinematic'](){return this['_type']===yo||this['_type']===Ha;}['isKinemati'+'c'](){return this['_type']===Ha;}['_getEntity'+'Transform'](_0x28212e){const _0x1c0355=this['entity'],_0x2b30b1=_0x1c0355['collision'];if(_0x2b30b1){const _0x8c808a=_0x2b30b1['getShapePo'+'sition'](),_0x4166d3=_0x2b30b1['getShapeRo'+'tation']();Re['setValue'](_0x8c808a['x'],_0x8c808a['y'],_0x8c808a['z']),Ka['setValue'](_0x4166d3['x'],_0x4166d3['y'],_0x4166d3['z'],_0x4166d3['w']);}else{const _0x72ab41=_0x1c0355['getPositio'+'n'](),_0x49f930=_0x1c0355['getRotatio'+'n']();Re['setValue'](_0x72ab41['x'],_0x72ab41['y'],_0x72ab41['z']),Ka['setValue'](_0x49f930['x'],_0x49f930['y'],_0x49f930['z'],_0x49f930['w']);}_0x28212e['setOrigin'](Re),_0x28212e['setRotatio'+'n'](Ka);}['syncEntity'+'ToBody'](){const _0x26d08e=this['_body'];if(_0x26d08e){if(this['_getEntity'+'Transform'](cs),_0x26d08e['setWorldTr'+'ansform'](cs),this['_type']===Ha){const _0x5dffba=_0x26d08e['getMotionS'+'tate']();_0x5dffba&&_0x5dffba['setWorldTr'+'ansform'](cs);}_0x26d08e['activate']();}}['_updateDyn'+'amic'](){const _0x54c6a0=this['_body'];if(_0x54c6a0['isActive']()){const _0x2a9ef0=_0x54c6a0['getMotionS'+'tate']();if(_0x2a9ef0){const _0x8c5ce9=this['entity'];_0x2a9ef0['getWorldTr'+'ansform'](cs);const _0x240fa7=cs['getOrigin'](),_0x41555f=cs['getRotatio'+'n'](),_0x5ef8e0=_0x8c5ce9['collision'];if(_0x5ef8e0&&_0x5ef8e0['_hasOffset']){const _0x2dc51a=_0x5ef8e0['data']['linearOffs'+'et'],_0x1b35a5=_0x5ef8e0['data']['angularOff'+'set'],_0x5bead2=GO['copy'](_0x1b35a5)['invert'](),_0x70c8ae=VO['set'](_0x41555f['x'](),_0x41555f['y'](),_0x41555f['z'](),_0x41555f['w']())['mul'](_0x5bead2);_0x70c8ae['transformV'+'ector'](_0x2dc51a,Pc),_0x8c5ce9['setPositio'+'n'](_0x240fa7['x']()-Pc['x'],_0x240fa7['y']()-Pc['y'],_0x240fa7['z']()-Pc['z']),_0x8c5ce9['setRotatio'+'n'](_0x70c8ae);}else _0x8c5ce9['setPositio'+'n'](_0x240fa7['x'](),_0x240fa7['y'](),_0x240fa7['z']()),_0x8c5ce9['setRotatio'+'n'](_0x41555f['x'](),_0x41555f['y'](),_0x41555f['z'](),_0x41555f['w']());}}}['_updateKin'+'ematic'](){const _0xf729df=this['_body']['getMotionS'+'tate']();_0xf729df&&(this['_getEntity'+'Transform'](cs),_0xf729df['setWorldTr'+'ansform'](cs));}['teleport'](_0x37fb85,_0x3967b2,_0x47f248,_0x42663e,_0x521087,_0x2e0132){_0x37fb85 instanceof D?this['entity']['setPositio'+'n'](_0x37fb85):this['entity']['setPositio'+'n'](_0x37fb85,_0x3967b2,_0x47f248),_0x3967b2 instanceof le?this['entity']['setRotatio'+'n'](_0x3967b2):_0x3967b2 instanceof D?this['entity']['setEulerAn'+'gles'](_0x3967b2):_0x42663e!==void(0x587+0x4a*-0x25+0x3f*0x15)&&this['entity']['setEulerAn'+'gles'](_0x42663e,_0x521087,_0x2e0132),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}h(bs,'EVENT_CONT'+'ACT','contact'),h(bs,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(bs,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(bs,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(bs,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),h(bs,'order',-(-0xa84+-0x227b+0x60*0x78));class HO{constructor(){this['enabled']=!(0x1134+-0xf33+0x39*-0x9);}}let Mi,Di;class eS{constructor(_0x57f2ae,_0x4f0976,_0x5b8dd5,_0x417a27){h(this,'entity'),h(this,'point'),h(this,'normal'),h(this,'hitFractio'+'n'),(this['entity']=_0x57f2ae,this['point']=_0x4f0976,this['normal']=_0x5b8dd5,this['hitFractio'+'n']=_0x417a27);}}class WO{constructor(_0x2a226e,_0x289483,_0x152f50){h(this,'a'),h(this,'b'),h(this,'impulse'),h(this,'localPoint'+'A'),h(this,'localPoint'+'B'),h(this,'pointA'),h(this,'pointB'),h(this,'normal'),arguments['length']!==-0x1ab*0x8+0x1219*-0x1+-0x1*-0x1f71?(this['a']=_0x2a226e,this['b']=_0x289483,this['impulse']=_0x152f50['impulse'],this['localPoint'+'A']=_0x152f50['localPoint'],this['localPoint'+'B']=_0x152f50['localPoint'+'Other'],this['pointA']=_0x152f50['point'],this['pointB']=_0x152f50['pointOther'],this['normal']=_0x152f50['normal']):(this['a']=null,this['b']=null,this['impulse']=-0x2b4+-0x1f37+0x21eb,this['localPoint'+'A']=new D(),this['localPoint'+'B']=new D(),this['pointA']=new D(),this['pointB']=new D(),this['normal']=new D());}}class $O{constructor(_0x59534=new D(),_0x3836fc=new D(),_0x4d7fe3=new D(),_0x38bb90=new D(),_0x2d1801=new D(),_0x4d2366=-0x1ef1+-0x6*0x65b+0x4513){h(this,'localPoint'),h(this,'localPoint'+'Other'),h(this,'point'),h(this,'pointOther'),h(this,'normal'),h(this,'impulse'),(this['localPoint']=_0x59534,this['localPoint'+'Other']=_0x3836fc,this['point']=_0x4d7fe3,this['pointOther']=_0x38bb90,this['normal']=_0x2d1801,this['impulse']=_0x4d2366);}}class XO{constructor(_0x4c0986,_0x1a15af){h(this,'other'),h(this,'contacts'),(this['other']=_0x4c0986,this['contacts']=_0x1a15af);}}const o0=['enabled'];class wm extends ct{constructor(_0x5727e6){super(_0x5727e6),h(this,'maxSubStep'+'s',0x972+0x16a7+-0x200f),h(this,'fixedTimeS'+'tep',(-0x10d*-0x7+-0x1*0x227f+0x1b25)/(-0x19af+0x15*-0x2b+0x1d72)),h(this,'gravity',new D(0x23*0x53+0x7*0x343+-0x222e,-(0x1891+0x41b*0x9+0x1*-0x3d7b+0.8100000000000005),-0x24f6+-0x614+-0x2*-0x1585)),h(this,'_gravityFl'+'oat32',new Float32Array(0x19c4+-0xb32+-0xe8f)),h(this,'_dynamic',[]),h(this,'_kinematic',[]),h(this,'_triggers',[]),h(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x5727e6['stats']['frame'],this['ComponentT'+'ype']=bs,this['DataType']=HO,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=o0,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x1c6199=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x1c6199);}else w['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');Mi=new Ammo['btVector3'](),Di=new Ammo['btVector3'](),bs['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new bf($O,0xe5*-0xb+-0x1ca4+0x66a*0x6),this['contactRes'+'ultPool']=new bf(XO,0x1*0x724+0xe6b+-0x158e),this['singleCont'+'actResultP'+'ool']=new bf(WO,0x16b+0x1*-0x5ce+0x464),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x180b45,_0x11e6db,_0x1914f3){const _0x20affb=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x44b27e of _0x20affb)if(_0x11e6db['hasOwnProp'+'erty'](_0x44b27e)){const _0x1d08d0=_0x11e6db[_0x44b27e];Array['isArray'](_0x1d08d0)?_0x180b45[_0x44b27e]=new D(_0x1d08d0[-0x23cc+0x5ac+0x1e20],_0x1d08d0[0x25*0x4+-0x2*0x251+0x40f],_0x1d08d0[0x1*0x1c3d+0x88*0x37+-0x3973]):_0x180b45[_0x44b27e]=_0x1d08d0;}super['initialize'+'ComponentD'+'ata'](_0x180b45,_0x11e6db,['enabled']);}['cloneCompo'+'nent'](_0x43e616,_0x19e872){const _0x38c51c=_0x43e616['rigidbody'],_0x193e7f={'enabled':_0x38c51c['enabled'],'mass':_0x38c51c['mass'],'linearDamping':_0x38c51c['linearDamp'+'ing'],'angularDamping':_0x38c51c['angularDam'+'ping'],'linearFactor':[_0x38c51c['linearFact'+'or']['x'],_0x38c51c['linearFact'+'or']['y'],_0x38c51c['linearFact'+'or']['z']],'angularFactor':[_0x38c51c['angularFac'+'tor']['x'],_0x38c51c['angularFac'+'tor']['y'],_0x38c51c['angularFac'+'tor']['z']],'friction':_0x38c51c['friction'],'rollingFriction':_0x38c51c['rollingFri'+'ction'],'restitution':_0x38c51c['restitutio'+'n'],'type':_0x38c51c['type'],'group':_0x38c51c['group'],'mask':_0x38c51c['mask']};return this['addCompone'+'nt'](_0x19e872,_0x193e7f);}['onBeforeRe'+'move'](_0x22bf89,_0x350511){_0x350511['enabled']&&(_0x350511['enabled']=!(0x668+-0x1916+0x1*0x12af)),_0x350511['body']&&(this['destroyBod'+'y'](_0x350511['body']),_0x350511['body']=null);}['addBody'](_0x4a5585,_0x5d5761,_0x4ec8f6){_0x5d5761!==void(-0x8*-0x407+-0x207*-0x11+-0x42af)&&_0x4ec8f6!==void(0x7*0x1b1+0x1e8d+-0x2a64)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x4a5585,_0x5d5761,_0x4ec8f6):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x4a5585);}['removeBody'](_0x281393){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x281393);}['createBody'](_0x1f6e86,_0x976bdb,_0xe0b04f){const _0x29c834=new Ammo['btVector3'](-0x1d0b+0x50b+0x180*0x10,0x82a+-0x1d5e+0x3b*0x5c,0x5dc+-0x1fc6+-0x19ea*-0x1);_0x1f6e86!==-0x1*-0x2029+0x9f1+-0x13d*0x22&&_0x976bdb['calculateL'+'ocalInerti'+'a'](_0x1f6e86,_0x29c834);const _0x4c45f0=new Ammo['btDefaultM'+'otionState'](_0xe0b04f),_0x1cf669=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x1f6e86,_0x4c45f0,_0x976bdb,_0x29c834),_0xd1bb02=new Ammo['btRigidBod'+'y'](_0x1cf669);return Ammo['destroy'](_0x1cf669),Ammo['destroy'](_0x29c834),_0xd1bb02;}['destroyBod'+'y'](_0x3d72a9){const _0x2339c3=_0x3d72a9['getMotionS'+'tate']();_0x2339c3&&Ammo['destroy'](_0x2339c3),Ammo['destroy'](_0x3d72a9);}['raycastFir'+'st'](_0x3969c3,_0x1bd6ed,_0x3b0831={}){if(_0x3b0831['filterTags']||_0x3b0831['filterCall'+'back'])return _0x3b0831['sort']=!(0x1b3a+-0x2*0x9f5+-0x750),this['raycastAll'](_0x3969c3,_0x1bd6ed,_0x3b0831)[-0x2*0xa16+-0x241+-0x1*-0x166d]||null;let _0x2a0277=null;Mi['setValue'](_0x3969c3['x'],_0x3969c3['y'],_0x3969c3['z']),Di['setValue'](_0x1bd6ed['x'],_0x1bd6ed['y'],_0x1bd6ed['z']);const _0x285059=new Ammo['ClosestRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0x3b0831['filterColl'+'isionGroup']=='number'&&_0x285059['set_m_coll'+'isionFilte'+'rGroup'](_0x3b0831['filterColl'+'isionGroup']),typeof _0x3b0831['filterColl'+'isionMask']=='number'&&_0x285059['set_m_coll'+'isionFilte'+'rMask'](_0x3b0831['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0x285059),_0x285059['hasHit']()){const _0x38061c=_0x285059['get_m_coll'+'isionObjec'+'t'](),_0x44ff00=Ammo['castObject'](_0x38061c,Ammo['btRigidBod'+'y']);if(_0x44ff00){const _0x3fc7c2=_0x285059['get_m_hitP'+'ointWorld'](),_0x28c41a=_0x285059['get_m_hitN'+'ormalWorld']();_0x2a0277=new eS(_0x44ff00['entity'],new D(_0x3fc7c2['x'](),_0x3fc7c2['y'](),_0x3fc7c2['z']()),new D(_0x28c41a['x'](),_0x28c41a['y'](),_0x28c41a['z']()),_0x285059['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0x285059),_0x2a0277;}['raycastAll'](_0x5b888f,_0xb7aee,_0x29e3bb={}){w['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x238c58=[];Mi['setValue'](_0x5b888f['x'],_0x5b888f['y'],_0x5b888f['z']),Di['setValue'](_0xb7aee['x'],_0xb7aee['y'],_0xb7aee['z']);const _0x4d308e=new Ammo['AllHitsRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0x29e3bb['filterColl'+'isionGroup']=='number'&&_0x4d308e['set_m_coll'+'isionFilte'+'rGroup'](_0x29e3bb['filterColl'+'isionGroup']),typeof _0x29e3bb['filterColl'+'isionMask']=='number'&&_0x4d308e['set_m_coll'+'isionFilte'+'rMask'](_0x29e3bb['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0x4d308e),_0x4d308e['hasHit']()){const _0x3d3075=_0x4d308e['get_m_coll'+'isionObjec'+'ts'](),_0xd47b42=_0x4d308e['get_m_hitP'+'ointWorld'](),_0x4f1af8=_0x4d308e['get_m_hitN'+'ormalWorld'](),_0x5180c5=_0x4d308e['get_m_hitF'+'ractions'](),_0x22dd59=_0x3d3075['size']();for(let _0x493ac2=0x55*0x45+0x9*0x1a0+-0x2589;_0x493ac2<_0x22dd59;_0x493ac2++){const _0x510bd6=Ammo['castObject'](_0x3d3075['at'](_0x493ac2),Ammo['btRigidBod'+'y']);if(_0x510bd6&&_0x510bd6['entity']){if(_0x29e3bb['filterTags']&&!_0x510bd6['entity']['tags']['has'](..._0x29e3bb['filterTags'])||_0x29e3bb['filterCall'+'back']&&!_0x29e3bb['filterCall'+'back'](_0x510bd6['entity']))continue;const _0x395343=_0xd47b42['at'](_0x493ac2),_0x50315b=_0x4f1af8['at'](_0x493ac2),_0x46635d=new eS(_0x510bd6['entity'],new D(_0x395343['x'](),_0x395343['y'](),_0x395343['z']()),new D(_0x50315b['x'](),_0x50315b['y'](),_0x50315b['z']()),_0x5180c5['at'](_0x493ac2));_0x238c58['push'](_0x46635d);}}_0x29e3bb['sort']&&_0x238c58['sort']((_0x170054,_0x386a32)=>_0x170054['hitFractio'+'n']-_0x386a32['hitFractio'+'n']);}return Ammo['destroy'](_0x4d308e),_0x238c58;}['_storeColl'+'ision'](_0x57c6c0,_0x11327e){let _0x4bcaba=!(0x506*0x1+0x9a0+-0x17*0xa3);const _0x12ec17=_0x57c6c0['getGuid']();return this['collisions'][_0x12ec17]=this['collisions'][_0x12ec17]||{'others':[],'entity':_0x57c6c0},this['collisions'][_0x12ec17]['others']['indexOf'](_0x11327e)<0x1575+0x1*-0x86e+-0xd07&&(this['collisions'][_0x12ec17]['others']['push'](_0x11327e),_0x4bcaba=!(0x258d+-0xe61+0x2*-0xb96)),this['frameColli'+'sions'][_0x12ec17]=this['frameColli'+'sions'][_0x12ec17]||{'others':[],'entity':_0x57c6c0},this['frameColli'+'sions'][_0x12ec17]['others']['push'](_0x11327e),_0x4bcaba;}['_createCon'+'tactPointF'+'romAmmo'](_0xbaeadd){const _0x5d9901=_0xbaeadd['get_m_loca'+'lPointA'](),_0x378a03=_0xbaeadd['get_m_loca'+'lPointB'](),_0x59a2b7=_0xbaeadd['getPositio'+'nWorldOnA'](),_0x493381=_0xbaeadd['getPositio'+'nWorldOnB'](),_0xdd2aa5=_0xbaeadd['get_m_norm'+'alWorldOnB'](),_0x4d98ac=this['contactPoi'+'ntPool']['allocate']();return _0x4d98ac['localPoint']['set'](_0x5d9901['x'](),_0x5d9901['y'](),_0x5d9901['z']()),_0x4d98ac['localPoint'+'Other']['set'](_0x378a03['x'](),_0x378a03['y'](),_0x378a03['z']()),_0x4d98ac['point']['set'](_0x59a2b7['x'](),_0x59a2b7['y'](),_0x59a2b7['z']()),_0x4d98ac['pointOther']['set'](_0x493381['x'](),_0x493381['y'](),_0x493381['z']()),_0x4d98ac['normal']['set'](_0xdd2aa5['x'](),_0xdd2aa5['y'](),_0xdd2aa5['z']()),_0x4d98ac['impulse']=_0xbaeadd['getApplied'+'Impulse'](),_0x4d98ac;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x4e26d3){const _0x21b2ab=_0x4e26d3['get_m_loca'+'lPointA'](),_0x21cefb=_0x4e26d3['get_m_loca'+'lPointB'](),_0x19ca09=_0x4e26d3['getPositio'+'nWorldOnA'](),_0x30949e=_0x4e26d3['getPositio'+'nWorldOnB'](),_0x408428=_0x4e26d3['get_m_norm'+'alWorldOnB'](),_0x1827ef=this['contactPoi'+'ntPool']['allocate']();return _0x1827ef['localPoint'+'Other']['set'](_0x21b2ab['x'](),_0x21b2ab['y'](),_0x21b2ab['z']()),_0x1827ef['localPoint']['set'](_0x21cefb['x'](),_0x21cefb['y'](),_0x21cefb['z']()),_0x1827ef['pointOther']['set'](_0x19ca09['x'](),_0x19ca09['y'](),_0x19ca09['z']()),_0x1827ef['point']['set'](_0x30949e['x'](),_0x30949e['y'](),_0x30949e['z']()),_0x1827ef['normal']['set'](_0x408428['x'](),_0x408428['y'](),_0x408428['z']()),_0x1827ef['impulse']=_0x4e26d3['getApplied'+'Impulse'](),_0x1827ef;}['_createSin'+'gleContact'+'Result'](_0x62420b,_0xf16d4,_0x34e2c6){const _0x145db7=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x145db7['a']=_0x62420b,_0x145db7['b']=_0xf16d4,_0x145db7['localPoint'+'A']=_0x34e2c6['localPoint'],_0x145db7['localPoint'+'B']=_0x34e2c6['localPoint'+'Other'],_0x145db7['pointA']=_0x34e2c6['point'],_0x145db7['pointB']=_0x34e2c6['pointOther'],_0x145db7['normal']=_0x34e2c6['normal'],_0x145db7['impulse']=_0x34e2c6['impulse'],_0x145db7;}['_createCon'+'tactResult'](_0x19cc64,_0x3d8110){const _0x4b9a98=this['contactRes'+'ultPool']['allocate']();return _0x4b9a98['other']=_0x19cc64,_0x4b9a98['contacts']=_0x3d8110,_0x4b9a98;}['_cleanOldC'+'ollisions'](){for(const _0x40f2af in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x40f2af)){const _0x6a5181=this['frameColli'+'sions'][_0x40f2af],_0x17bff4=this['collisions'][_0x40f2af],_0x3172dd=_0x17bff4['entity'],_0xb27a25=_0x3172dd['collision'],_0x3b960b=_0x3172dd['rigidbody'],_0x5856d4=_0x17bff4['others'];let _0x97daa3=_0x5856d4['length'];for(;_0x97daa3--;){const _0x2c0571=_0x5856d4[_0x97daa3];(!_0x6a5181||_0x6a5181['others']['indexOf'](_0x2c0571)<0x4b4+-0x17da+0x102*0x13)&&(_0x5856d4['splice'](_0x97daa3,-0x1845+0x1d56+-0x510),_0x3172dd['trigger']?(_0xb27a25&&_0xb27a25['fire']('triggerlea'+'ve',_0x2c0571),_0x2c0571['rigidbody']&&_0x2c0571['rigidbody']['fire']('triggerlea'+'ve',_0x3172dd)):_0x2c0571['trigger']||(_0x3b960b&&_0x3b960b['fire']('collisione'+'nd',_0x2c0571),_0xb27a25&&_0xb27a25['fire']('collisione'+'nd',_0x2c0571)));}_0x5856d4['length']===-0x258+0x33f+-0xe7&&delete this['collisions'][_0x40f2af];}}['_hasContac'+'tEvent'](_0x1f9c4b){const _0x2b1ae1=_0x1f9c4b['collision'];if(_0x2b1ae1&&(_0x2b1ae1['hasEvent']('collisions'+'tart')||_0x2b1ae1['hasEvent']('collisione'+'nd')||_0x2b1ae1['hasEvent']('contact')))return!(-0x25*0x7e+-0xa63+0x1c99);const _0x12a214=_0x1f9c4b['rigidbody'];return _0x12a214&&(_0x12a214['hasEvent']('collisions'+'tart')||_0x12a214['hasEvent']('collisione'+'nd')||_0x12a214['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x48f638,_0x9e9b6c){const _0x418b15=Ammo['wrapPointe'+'r'](_0x48f638,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0xdfd757=_0x418b15['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x243fe9=-0x2174+0x11d5+0xf9f;_0x243fe9<_0xdfd757;_0x243fe9++){const _0x3e8dfb=_0x418b15['getManifol'+'dByIndexIn'+'ternal'](_0x243fe9),_0x2c7b95=_0x3e8dfb['getBody0'](),_0x1d5fd5=_0x3e8dfb['getBody1'](),_0x35f4db=Ammo['castObject'](_0x2c7b95,Ammo['btRigidBod'+'y']),_0x134332=Ammo['castObject'](_0x1d5fd5,Ammo['btRigidBod'+'y']),_0x480810=_0x35f4db['entity'],_0x3f9a6b=_0x134332['entity'];if(!_0x480810||!_0x3f9a6b)continue;const _0x1552eb=_0x35f4db['getCollisi'+'onFlags'](),_0x3eb2ca=_0x134332['getCollisi'+'onFlags'](),_0x4fb2bb=_0x3e8dfb['getNumCont'+'acts'](),_0x31b172=[],_0x3585b5=[];let _0x5918e2;if(_0x4fb2bb>0x1e4b+0xe9*-0x27+0x534){if(_0x1552eb&Po||_0x3eb2ca&Po){const _0x5d0a29=_0x480810['collision']&&(_0x480810['collision']['hasEvent']('triggerent'+'er')||_0x480810['collision']['hasEvent']('triggerlea'+'ve')),_0x1dad16=_0x3f9a6b['collision']&&(_0x3f9a6b['collision']['hasEvent']('triggerent'+'er')||_0x3f9a6b['collision']['hasEvent']('triggerlea'+'ve')),_0x35544a=_0x480810['rigidbody']&&(_0x480810['rigidbody']['hasEvent']('triggerent'+'er')||_0x480810['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x411d2e=_0x3f9a6b['rigidbody']&&(_0x3f9a6b['rigidbody']['hasEvent']('triggerent'+'er')||_0x3f9a6b['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x5d0a29&&(_0x5918e2=this['_storeColl'+'ision'](_0x480810,_0x3f9a6b),_0x5918e2&&!(_0x3eb2ca&Po)&&_0x480810['collision']['fire']('triggerent'+'er',_0x3f9a6b)),_0x1dad16&&(_0x5918e2=this['_storeColl'+'ision'](_0x3f9a6b,_0x480810),_0x5918e2&&!(_0x1552eb&Po)&&_0x3f9a6b['collision']['fire']('triggerent'+'er',_0x480810)),_0x35544a&&(_0x5918e2||(_0x5918e2=this['_storeColl'+'ision'](_0x3f9a6b,_0x480810)),_0x5918e2&&_0x480810['rigidbody']['fire']('triggerent'+'er',_0x3f9a6b)),_0x411d2e&&(_0x5918e2||(_0x5918e2=this['_storeColl'+'ision'](_0x480810,_0x3f9a6b)),_0x5918e2&&_0x3f9a6b['rigidbody']['fire']('triggerent'+'er',_0x480810));}else{const _0x419574=this['_hasContac'+'tEvent'](_0x480810),_0x29dc2f=this['_hasContac'+'tEvent'](_0x3f9a6b),_0x5ebd94=this['hasEvent']('contact');if(_0x5ebd94||_0x419574||_0x29dc2f){for(let _0x43c7c7=-0x1*0x1ce1+0x1025*0x2+-0x369;_0x43c7c7<_0x4fb2bb;_0x43c7c7++){const _0x1852c9=_0x3e8dfb['getContact'+'Point'](_0x43c7c7),_0x33ac35=this['_createCon'+'tactPointF'+'romAmmo'](_0x1852c9);if(_0x419574||_0x29dc2f){_0x31b172['push'](_0x33ac35);const _0x56371c=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x1852c9);_0x3585b5['push'](_0x56371c);}if(_0x5ebd94){const _0x64007a=this['_createSin'+'gleContact'+'Result'](_0x480810,_0x3f9a6b,_0x33ac35);this['fire']('contact',_0x64007a);}}if(_0x419574){const _0x2c3625=this['_createCon'+'tactResult'](_0x3f9a6b,_0x31b172);_0x5918e2=this['_storeColl'+'ision'](_0x480810,_0x3f9a6b),_0x480810['collision']&&(_0x480810['collision']['fire']('contact',_0x2c3625),_0x5918e2&&_0x480810['collision']['fire']('collisions'+'tart',_0x2c3625)),_0x480810['rigidbody']&&(_0x480810['rigidbody']['fire']('contact',_0x2c3625),_0x5918e2&&_0x480810['rigidbody']['fire']('collisions'+'tart',_0x2c3625));}if(_0x29dc2f){const _0x45ca25=this['_createCon'+'tactResult'](_0x480810,_0x3585b5);_0x5918e2=this['_storeColl'+'ision'](_0x3f9a6b,_0x480810),_0x3f9a6b['collision']&&(_0x3f9a6b['collision']['fire']('contact',_0x45ca25),_0x5918e2&&_0x3f9a6b['collision']['fire']('collisions'+'tart',_0x45ca25)),_0x3f9a6b['rigidbody']&&(_0x3f9a6b['rigidbody']['fire']('contact',_0x45ca25),_0x5918e2&&_0x3f9a6b['rigidbody']['fire']('collisions'+'tart',_0x45ca25));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0xe0fbe1){let _0x492c9d,_0x2fad65;this['_stats']['physicsSta'+'rt']=de(),this['_gravityFl'+'oat32'][-0xa70+-0x63*0x24+0x185c]=this['gravity']['x'],this['_gravityFl'+'oat32'][-0x1970+-0x2602+0x25*0x1b7]=this['gravity']['y'],this['_gravityFl'+'oat32'][-0x383*-0x1+-0x6*0x35+-0x3*0xc1]=this['gravity']['z'];const _0x42f708=this['dynamicsWo'+'rld']['getGravity']();(_0x42f708['x']()!==this['_gravityFl'+'oat32'][0x20*0x41+0x1b65*0x1+-0x2385]||_0x42f708['y']()!==this['_gravityFl'+'oat32'][0x24c8+0xd0*0x13+-0x1*0x3437]||_0x42f708['z']()!==this['_gravityFl'+'oat32'][0x2c6+-0x108b+-0xdc7*-0x1])&&(_0x42f708['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x42f708));const _0x219836=this['_triggers'];for(_0x492c9d=0x1*0x2bd+0xb28+-0xde5,_0x2fad65=_0x219836['length'];_0x492c9d<_0x2fad65;_0x492c9d++)_0x219836[_0x492c9d]['updateTran'+'sform']();const _0x39a18e=this['_compounds'];for(_0x492c9d=0x1*-0x228b+-0x1*-0x21b3+0x36*0x4,_0x2fad65=_0x39a18e['length'];_0x492c9d<_0x2fad65;_0x492c9d++)_0x39a18e[_0x492c9d]['_updateCom'+'pound']();const _0x2087c1=this['_kinematic'];for(_0x492c9d=-0x1d8*-0x9+0x2f*0x63+-0x22c5,_0x2fad65=_0x2087c1['length'];_0x492c9d<_0x2fad65;_0x492c9d++)_0x2087c1[_0x492c9d]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0xe0fbe1,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x56e93d=this['_dynamic'];for(_0x492c9d=0x18ff+0x1d23+-0x3622,_0x2fad65=_0x56e93d['length'];_0x492c9d<_0x2fad65;_0x492c9d++)_0x56e93d[_0x492c9d]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0xe0fbe1),this['_stats']['physicsTim'+'e']=de()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](Mi),Ammo['destroy'](Di),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,Mi=null,Di=null,bs['onAppDestr'+'oy']());}}h(wm,'EVENT_CONT'+'ACT','contact'),we['_buildAcce'+'ssors'](bs['prototype'],o0);const Za='none',qO='blend',tS=new te();class l0 extends we{constructor(_0x26f1ad,_0x441c18){super(_0x26f1ad,_0x441c18),this['_resolutio'+'n']=new J(0x1462+-0x1208+0x26,0x18*0x43+-0x255*-0x1+-0x75d),this['_reference'+'Resolution']=new J(0x11c5*-0x1+0x13*0xdb+0x404,0x1*0x128f+0x2*0x63d+0x7d*-0x3d),this['_scaleMode']=Za,this['scale']=-0x1*-0x61+-0x557+0x4f7,this['_scaleBlen'+'d']=0x162e+0x1ef+0x1*-0x181d+0.5,this['_priority']=0x2a2+-0x1be3+0x1941,this['_screenSpa'+'ce']=!(-0x43*-0x23+0x148c*-0x1+0xb64),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new te(),this['_elements']=new Set(),_0x26f1ad['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x4b7423,_0x3bf4f1){var _0x59a564;if(!(_0x4b7423 instanceof lt))return _0x3bf4f1;if(_0x4b7423['element']){const _0x443bd9=_0x4b7423['element']['drawOrder'];_0x4b7423['element']['drawOrder']=_0x3bf4f1++,_0x4b7423['element']['_batchGrou'+'pId']>=0x168e+-0x1a81*-0x1+0x310f*-0x1&&_0x443bd9!==_0x4b7423['element']['drawOrder']&&((_0x59a564=this['system']['app']['batcher'])==null||_0x59a564['markGroupD'+'irty'](_0x4b7423['element']['_batchGrou'+'pId']));}_0x4b7423['particlesy'+'stem']&&(_0x4b7423['particlesy'+'stem']['drawOrder']=_0x3bf4f1++);const _0x205a1e=_0x4b7423['children'];for(let _0x120534=0x412+0x2671*0x1+-0x2a83*0x1;_0x120534<_0x205a1e['length'];_0x120534++)_0x3bf4f1=this['_recurseDr'+'awOrderSyn'+'c'](_0x205a1e[_0x120534],_0x3bf4f1);return _0x3bf4f1;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],0x1bed+0x179*-0x7+-0x119d),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0x59177b=this['_resolutio'+'n']['x']/this['scale'],_0x207e6f=this['_resolutio'+'n']['y']/this['scale'],_0x49f8e0=-0x1bd9+0x19b*-0x11+-0x4*-0xdc9,_0x3e543f=_0x59177b,_0x1f9a72=-_0x207e6f;this['_screenMat'+'rix']['setOrtho'](_0x49f8e0,_0x3e543f,_0x1f9a72,0x7*-0x4b3+-0x231+0x2316,0x1*0x2064+-0x4*0x1fa+-0x187b,-(-0x2*-0x25+0x17d*-0x18+0x236f)),this['_screenSpa'+'ce']||(tS['setScale']((-0x27e*0xc+-0x13df+0x31c7*0x1+0.5)*_0x59177b,(0x2531+-0x121*0x19+-0x1*0x8f8+0.5)*_0x207e6f,0x23f3*0x1+-0xf98+-0x145a),this['_screenMat'+'rix']['mul2'](tS,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x3405a6,_0xa8ffca){const _0x4ccbca=Math['log2']((_0x3405a6['x']||-0x1*-0x2705+0x35*-0xb+-0x24bd)/_0xa8ffca['x']),_0x531b54=Math['log2']((_0x3405a6['y']||-0x3*0x409+0x74f*-0x5+-0x35*-0xeb)/_0xa8ffca['y']);return Math['pow'](-0x8f1+-0x12cd*0x1+0x1bc0,_0x4ccbca*(0x2f*-0x21+-0xfd6+0xaf3*0x2-this['_scaleBlen'+'d'])+_0x531b54*this['_scaleBlen'+'d']);}['_onResize'](_0x5e1774,_0x135661){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x5e1774,_0x135661),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0x5b5bf7){this['_elements']['add'](_0x5b5bf7);}['_unbindEle'+'ment'](_0x421d1c){this['_elements']['delete'](_0x421d1c);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x7ab74c=>_0x7ab74c['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0xbff677){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0xbff677['x'],_0xbff677['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x24e4ec=>_0x24e4ec['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x3f7495){this['_reference'+'Resolution']['set'](_0x3f7495['x'],_0x3f7495['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x1a14e0=>_0x1a14e0['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===Za?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x214912){this['_screenSpa'+'ce']=_0x214912,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x3356d0=>_0x3356d0['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x5100fc){_0x5100fc!==Za&&_0x5100fc!==qO&&(_0x5100fc=Za),!this['_screenSpa'+'ce']&&_0x5100fc!==Za&&(_0x5100fc=Za),this['_scaleMode']=_0x5100fc,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x29e239){this['_scaleBlen'+'d']=_0x29e239,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x521355=>_0x521355['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x5ddda1){_0x5ddda1>0x5bd*-0x3+0x10b0+-0x4e*-0x5&&(w['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x5ddda1+'\x20to\x20255'),_0x5ddda1=-0x1408+0x1d83+-0x87c),this['_priority']!==_0x5ddda1&&(this['_priority']=_0x5ddda1,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class jO{constructor(){this['enabled']=!(-0x73b*-0x3+-0x19*0x9d+-0x65c);}}const Uu=['enabled'];class YO extends ct{constructor(_0x49cf3b){super(_0x49cf3b),this['id']='screen',this['ComponentT'+'ype']=l0,this['DataType']=jO,this['schema']=Uu,this['windowReso'+'lution']=new J(),this['_drawOrder'+'SyncQueue']=new fx(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x4f9ca2,_0x282393,_0x2e5800){_0x282393['priority']!==void(-0x1bc2+0x30e+0x18b4)&&(_0x4f9ca2['priority']=_0x282393['priority']),_0x282393['screenSpac'+'e']!==void(-0xa*-0x20e+-0x1726+0x29a)&&(_0x4f9ca2['screenSpac'+'e']=_0x282393['screenSpac'+'e']),_0x4f9ca2['cull']=_0x4f9ca2['screenSpac'+'e'],_0x282393['scaleMode']!==void(0x101e+0x1db2+0xb74*-0x4)&&(_0x4f9ca2['scaleMode']=_0x282393['scaleMode']),_0x282393['scaleBlend']!==void(-0x28*-0xc2+-0x1*-0x1da7+0x33*-0x12d)&&(_0x4f9ca2['scaleBlend']=_0x282393['scaleBlend']),_0x282393['resolution']!==void(0x19c3+-0x1951*0x1+-0x72)&&(_0x282393['resolution']instanceof J?_0x4f9ca2['_resolutio'+'n']['copy'](_0x282393['resolution']):_0x4f9ca2['_resolutio'+'n']['set'](_0x282393['resolution'][-0x2b*0xc5+-0xc0e+-0x673*-0x7],_0x282393['resolution'][0x857+0x21ee+-0x2a44]),_0x4f9ca2['resolution']=_0x4f9ca2['_resolutio'+'n']),_0x282393['referenceR'+'esolution']!==void(0xdd1+-0x1039+0x268)&&(_0x282393['referenceR'+'esolution']instanceof J?_0x4f9ca2['_reference'+'Resolution']['copy'](_0x282393['referenceR'+'esolution']):_0x4f9ca2['_reference'+'Resolution']['set'](_0x282393['referenceR'+'esolution'][-0x6*0x500+0x269b+-0x89b],_0x282393['referenceR'+'esolution'][-0x1647+0xdba+0x88e]),_0x4f9ca2['referenceR'+'esolution']=_0x4f9ca2['_reference'+'Resolution']),_0x4f9ca2['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x4f9ca2,_0x282393,Uu);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x57e1b6){const _0x37e336=this['store'];for(const _0xdb8f4e in _0x37e336)_0x37e336[_0xdb8f4e]['entity']['screen']['update']&&_0x37e336[_0xdb8f4e]['entity']['screen']['update'](_0x57e1b6);}['_onResize'](_0x51ceca,_0x6f20f7){this['windowReso'+'lution']['x']=_0x51ceca,this['windowReso'+'lution']['y']=_0x6f20f7;}['cloneCompo'+'nent'](_0x4df476,_0x169a5a){const _0x3176b2=_0x4df476['screen'];return this['addCompone'+'nt'](_0x169a5a,{'enabled':_0x3176b2['enabled'],'screenSpace':_0x3176b2['screenSpac'+'e'],'scaleMode':_0x3176b2['scaleMode'],'resolution':_0x3176b2['resolution']['clone'](),'referenceResolution':_0x3176b2['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x5e3bfa,_0x92f65){_0x92f65['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x475bbf=this['_drawOrder'+'SyncQueue']['list']();for(let _0x5af237=-0x2270+-0x21*-0x41+0x1a0f;_0x5af237<_0x475bbf['length'];_0x5af237++){const _0x4096f9=_0x475bbf[_0x5af237];_0x4096f9['callback']['call'](_0x4096f9['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0x25dea2,_0x5cee67,_0x4bb39a){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0x25dea2)||this['_drawOrder'+'SyncQueue']['push'](_0x25dea2,{'callback':_0x5cee67,'scope':_0x4bb39a});}}we['_buildAcce'+'ssors'](l0['prototype'],Uu);const lr=new J(),sS=new D(),Hr=new Dn(),iS=new QS(),rS=new D(),vo=new D(),KO=new le(),ZO={'x':'y','y':'x'};class Go extends me{constructor(_0x2bf77d,_0x3bc240){if(super(),!_0x2bf77d||!(_0x2bf77d instanceof hs))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x3bc240&&_0x3bc240!=='x'&&_0x3bc240!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x3bc240);this['_element']=_0x2bf77d,this['_app']=_0x2bf77d['system']['app'],this['_axis']=_0x3bc240||null,this['_enabled']=!(-0x244e+0xbd5*-0x1+0x3023),this['_dragScale']=new D(),this['_dragStart'+'MousePosit'+'ion']=new D(),this['_dragStart'+'HandlePosi'+'tion']=new D(),this['_deltaMous'+'ePosition']=new D(),this['_deltaHand'+'lePosition']=new D(),this['_isDraggin'+'g']=!(-0x6a*-0x2f+0x1d60+0x56d*-0x9),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x3a963f){this['_element'][_0x3a963f]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x3a963f]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x3a963f]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x2d0f6e){const _0x3898c5=_0x2d0f6e==='on';this['_hasDragLi'+'steners']&&_0x3898c5||(this['_app']['mouse']&&(this['_element'][_0x2d0f6e]('mousemove',this['_onMove'],this),this['_element'][_0x2d0f6e]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),Ae['touch']&&(this['_element'][_0x2d0f6e]('touchmove',this['_onMove'],this),this['_element'][_0x2d0f6e]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x2d0f6e]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x2d0f6e]('selectmove',this['_onMove'],this),this['_element'][_0x2d0f6e]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0x3898c5);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x29bd78){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x29bd78['camera'],this['_calculate'+'DragScale']();const _0x20fc4c=this['_screenToL'+'ocal'](_0x29bd78);_0x20fc4c&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(-0x9d2*0x2+0x323+-0x145*-0xd),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x20fc4c),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(-0x1e9e+-0xcca+0x2b69),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x59d831){return _0x59d831['inputSourc'+'e']?Hr['set'](_0x59d831['inputSourc'+'e']['getOrigin'](),_0x59d831['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x59d831),this['_chooseRay'+'OriginAndD'+'irection']()),rS['copy'](this['_element']['entity']['forward'])['mulScalar'](-(0x5c*-0x4c+0x2209+0x14*-0x56)),iS['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),rS),iS['intersects'+'Ray'](Hr,vo)?(KO['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](vo,vo),vo['mul'](this['_dragScale']),vo):null;}['_determine'+'InputPosit'+'ion'](_0x579bb2){const _0x1f58c1=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x579bb2['x']<'u'&&typeof _0x579bb2['y']<'u'?(lr['x']=_0x579bb2['x']*_0x1f58c1,lr['y']=_0x579bb2['y']*_0x1f58c1):_0x579bb2['changedTou'+'ches']?(lr['x']=_0x579bb2['changedTou'+'ches'][-0xf78+-0x6d*0x1+0xfe5]['x']*_0x1f58c1,lr['y']=_0x579bb2['changedTou'+'ches'][-0x85*0xb+0xfc+0x4bb]['y']*_0x1f58c1):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Hr['origin']['set'](lr['x'],-lr['y'],-0x41c*-0x6+0x1fe2+-0x388a),Hr['direction']['copy'](D['FORWARD'])):(sS['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](lr['x'],lr['y'],0x3*-0x116+0xad3+0xb0*-0xb)),Hr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Hr['direction']['copy'](sS)['sub'](Hr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x3c88b1=this['_element']['entity']['parent'];const _0x4b65e8=this['_element']['screen']&&this['_element']['screen']['screen'],_0x591e00=_0x4b65e8&&_0x4b65e8['screenSpac'+'e'],_0x2a8ca5=_0x591e00?_0x4b65e8['scale']:-0x61*-0x1e+-0x6*-0x329+0x1e53*-0x1,_0x38c220=this['_dragScale'];for(_0x38c220['set'](_0x2a8ca5,_0x2a8ca5,_0x2a8ca5);_0x3c88b1&&(_0x38c220['mul'](_0x3c88b1['getLocalSc'+'ale']()),_0x3c88b1=_0x3c88b1['parent'],!(_0x591e00&&_0x3c88b1['screen'])););_0x38c220['x']=(-0x1fc0+0x1148*-0x1+0x3109)/_0x38c220['x'],_0x38c220['y']=(-0x1c13+0x1*0x1697+-0x5*-0x119)/_0x38c220['y'],_0x38c220['z']=0x4f*0x42+-0x248d*-0x1+-0x38eb;}['_onMove'](_0x357528){const {_element:_0x292db7,_deltaMousePosition:_0x1072cd,_deltaHandlePosition:_0x13a9bf,_axis:_0xfef36b}=this;if(_0x292db7&&this['_isDraggin'+'g']&&this['enabled']&&_0x292db7['enabled']&&_0x292db7['entity']['enabled']){const _0x358924=this['_screenToL'+'ocal'](_0x357528);if(_0x358924){if(_0x1072cd['sub2'](_0x358924,this['_dragStart'+'MousePosit'+'ion']),_0x13a9bf['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x1072cd),_0xfef36b){const _0xe1ab7b=_0x292db7['entity']['getLocalPo'+'sition'](),_0x2d7656=ZO[_0xfef36b];_0x13a9bf[_0x2d7656]=_0xe1ab7b[_0x2d7656];}_0x292db7['entity']['setLocalPo'+'sition'](_0x13a9bf),this['fire']('drag:move',_0x13a9bf);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x10869e){this['_enabled']=_0x10869e;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}h(Go,'EVENT_DRAG'+'START','drag:start'),h(Go,'EVENT_DRAG'+'END','drag:end'),h(Go,'EVENT_DRAG'+'MOVE','drag:move');const QO=0x21e6+0x1b7f*-0x1+-0x95*0xb,aS=0x16db*-0x1+-0x15ad+0x36d*0xd,JO=0x8d1+-0x2ff+-0x5d0,eF=-0x4d0+-0xe18+0x4*0x4ba,tF=0x59*0x8+0x1fb5+-0x113e*0x2,xo=new J();class c0 extends we{constructor(_0x4878d3,_0x1be794){super(_0x4878d3,_0x1be794),h(this,'_viewportE'+'ntity',null),h(this,'_contentEn'+'tity',null),h(this,'_horizonta'+'lScrollbar'+'Entity',null),h(this,'_verticalS'+'crollbarEn'+'tity',null),h(this,'_evtElemen'+'tRemove',null),h(this,'_evtViewpo'+'rtElementR'+'emove',null),h(this,'_evtViewpo'+'rtResize',null),h(this,'_evtConten'+'tEntityEle'+'mentAdd',null),h(this,'_evtConten'+'tElementRe'+'move',null),h(this,'_evtConten'+'tResize',null),h(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),h(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),h(this,'_evtHorizo'+'ntalScroll'+'barValue',null),h(this,'_evtVertic'+'alScrollba'+'rAdd',null),h(this,'_evtVertic'+'alScrollba'+'rRemove',null),h(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_scroll']=new J(),this['_velocity']=new D(),this['_dragStart'+'Position']=new D(),this['_disabledC'+'ontentInpu'+'t']=!(-0x2*0x1a+-0x16*-0x16+0x1*-0x1af),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x372f5c=this['system']['store'][this['entity']['getGuid']()];return _0x372f5c?_0x372f5c['data']:null;}set['enabled'](_0x316dda){this['_setValue']('enabled',_0x316dda);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x3cbfc7){this['_setValue']('horizontal',_0x3cbfc7);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x190e67){this['_setValue']('vertical',_0x190e67);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x58970c){this['_setValue']('scrollMode',_0x58970c);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x5e1414){this['_setValue']('bounceAmou'+'nt',_0x5e1414);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0x2f42d4){this['_setValue']('friction',_0x2f42d4);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x79d9b8){this['_setValue']('dragThresh'+'old',_0x79d9b8);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x368444){this['_setValue']('useMouseWh'+'eel',_0x368444);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x22bdcc){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x22bdcc);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x595dc6){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x595dc6);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x5e57ab){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x5e57ab);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0x4be137){if(this['_viewportE'+'ntity']===_0x4be137)return;const _0x453cc3=typeof _0x4be137=='string';this['_viewportE'+'ntity']&&_0x453cc3&&this['_viewportE'+'ntity']['getGuid']()===_0x4be137||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0x4be137 instanceof Ie?this['_viewportE'+'ntity']=_0x4be137:_0x453cc3?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0x4be137)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x453cc3&&_0x4be137&&(this['data']['viewportEn'+'tity']=_0x4be137));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x4d4a85){if(this['_contentEn'+'tity']===_0x4d4a85)return;const _0x21556c=typeof _0x4d4a85=='string';this['_contentEn'+'tity']&&_0x21556c&&this['_contentEn'+'tity']['getGuid']()===_0x4d4a85||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x4d4a85 instanceof Ie?this['_contentEn'+'tity']=_0x4d4a85:_0x21556c?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x4d4a85)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0x21556c&&_0x4d4a85&&(this['data']['contentEnt'+'ity']=_0x4d4a85));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x55b506){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x55b506)return;const _0x21a7a8=typeof _0x55b506=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x21a7a8&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x55b506||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x55b506 instanceof Ie?this['_horizonta'+'lScrollbar'+'Entity']=_0x55b506:_0x21a7a8?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x55b506)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][Ce]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x21a7a8&&_0x55b506&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x55b506));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x5065b8){if(this['_verticalS'+'crollbarEn'+'tity']===_0x5065b8)return;const _0x386fa1=typeof _0x5065b8=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x386fa1&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x5065b8||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x5065b8 instanceof Ie?this['_verticalS'+'crollbarEn'+'tity']=_0x5065b8:_0x386fa1?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x5065b8)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][je]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x386fa1&&_0x5065b8&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x5065b8));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0xc9a95e){this['_onSetScro'+'ll'](_0xc9a95e['x'],_0xc9a95e['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x33fff9,_0x17a1d2){const _0x10e87b=this['data'],_0x502167=_0x10e87b[_0x33fff9];_0x10e87b[_0x33fff9]=_0x17a1d2,this['fire']('set',_0x33fff9,_0x502167,_0x17a1d2);}['_toggleLif'+'ecycleList'+'eners'](_0x53039a){this[_0x53039a]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0x53039a]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0x53039a]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x2f51ef){if(this['entity']['element']){if(_0x2f51ef==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x2f51ef]('resize',this['_syncAll'],this),this['entity']['element'][_0x2f51ef]('mousewheel',this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x2f51ef==='on';}}['_onElement'+'ComponentA'+'dd'](_0x338ca5){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0x56dfec){var _0xc2a00f;(_0xc2a00f=this['_evtElemen'+'tRemove'])==null||_0xc2a00f['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x406163,_0x393054;(_0x406163=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x406163['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x393054=this['_viewportE'+'ntity'])!=null&&_0x393054['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x119fb8=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x119fb8['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x119fb8['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x510aea,_0x4e89a3;(_0x510aea=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x510aea['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x4e89a3=this['_evtViewpo'+'rtResize'])==null||_0x4e89a3['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0x580f02,_0x35de21;(_0x580f02=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0x580f02['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x35de21=this['_contentEn'+'tity'])!=null&&_0x35de21['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x1c6911=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x1c6911['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x1c6911['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0x6fdec5,_0x3bd3b8;(_0x6fdec5=this['_evtConten'+'tElementRe'+'move'])==null||_0x6fdec5['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x3bd3b8=this['_evtConten'+'tResize'])==null||_0x3bd3b8['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new Go(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0x18cb08){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(0x5a2+-0x1*-0x1151+-0x7d*0x2f),this['_setScroll'+'FromConten'+'tPosition'](_0x18cb08),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x18cb08),!this['_disabledC'+'ontentInpu'+'t'])){const _0x31af3c=_0x18cb08['x']-this['_dragStart'+'Position']['x'],_0x16ef1f=_0x18cb08['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x31af3c)>this['dragThresh'+'old']||Math['abs'](_0x16ef1f)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0xd8deed;(_0xd8deed=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0xd8deed['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x482322;(_0x482322=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x482322['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x3c3aaf){!this['_scrollbar'+'UpdateFlag'+'s'][Ce]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x3c3aaf,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x22a143){!this['_scrollbar'+'UpdateFlag'+'s'][je]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x22a143);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x439765;const _0x13a071=(_0x439765=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(-0x583+-0x14a5+0x1a28):_0x439765['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0x13a071['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0x13a071['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarPositi'+'on'](Ce);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x3b0bed;const _0x5276b5=(_0x3b0bed=this['_verticalS'+'crollbarEn'+'tity'])==null?void(-0x1a4b+0x1ebe+-0x473):_0x3b0bed['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0x5276b5['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0x5276b5['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](je),this['_syncScrol'+'lbarPositi'+'on'](je);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x248ce8,_0x578244;(_0x248ce8=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x248ce8['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x578244=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x578244['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x574c0e,_0x8e6bcb;(_0x574c0e=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x574c0e['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x8e6bcb=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x8e6bcb['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](Ce);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](je);}['_onSetScro'+'ll'](_0x3ecc82,_0xbac98f,_0x5d7163){_0x5d7163!==!(0xd*0x2a5+0xd70+0x14*-0x264)&&this['_velocity']['set'](0x3d0+0x1*0x1274+-0x1644,0xa93*-0x3+0x3*-0x359+0x29c4,0xc50+0x5d5*0x1+0x1*-0x1225);const _0x5bc4d0=this['_updateAxi'+'s'](_0x3ecc82,'x',Ce),_0x1624b0=this['_updateAxi'+'s'](_0xbac98f,'y',je);(_0x5bc4d0||_0x1624b0)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x5350d5,_0x4dec2c,_0x5047b4){const _0x2df76b=_0x5350d5!==null&&Math['abs'](_0x5350d5-this['_scroll'][_0x4dec2c])>-0x1e4b+0x1159+-0x1*-0xcf2+0.00001;return(_0x2df76b||this['_isDraggin'+'g']()||_0x5350d5===-0x18c0+-0x2a*0x27+0x1f26)&&(this['_scroll'][_0x4dec2c]=this['_determine'+'NewScrollV'+'alue'](_0x5350d5,_0x4dec2c,_0x5047b4),this['_syncConte'+'ntPosition'](_0x5047b4),this['_syncScrol'+'lbarPositi'+'on'](_0x5047b4)),_0x2df76b;}['_determine'+'NewScrollV'+'alue'](_0x1aa35b,_0x577687,_0x381b01){if(!this['_getScroll'+'ingEnabled'](_0x381b01))return this['_scroll'][_0x577687];switch(this['scrollMode']){case QO:return Y['clamp'](_0x1aa35b,-0x1c8d+0x221f+-0x2*0x2c9,this['_getMaxScr'+'ollValue'](_0x381b01));case aS:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x1aa35b,_0x577687,_0x381b01),_0x1aa35b;case JO:return _0x1aa35b;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x1aa35b;}}['_syncAll'](){this['_syncConte'+'ntPosition'](Ce),this['_syncConte'+'ntPosition'](je),this['_syncScrol'+'lbarPositi'+'on'](Ce),this['_syncScrol'+'lbarPositi'+'on'](je),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je);}['_syncConte'+'ntPosition'](_0x228bb9){if(!this['_contentEn'+'tity'])return;const _0x5053ff=this['_getAxis'](_0x228bb9),_0x4c338c=this['_getSign'](_0x228bb9),_0x1288f7=this['_prevConte'+'ntSizes'][_0x228bb9],_0x500f35=this['_getConten'+'tSize'](_0x228bb9);if(_0x1288f7!==null&&Math['abs'](_0x1288f7-_0x500f35)>0x157d+0xa34+0x1fb1*-0x1+0.0001){const _0x2f0159=this['_getMaxOff'+'set'](_0x228bb9,_0x1288f7),_0x2ef0e7=this['_getMaxOff'+'set'](_0x228bb9,_0x500f35);_0x2ef0e7===0x204f*-0x1+0x1783+-0x233*-0x4?this['_scroll'][_0x5053ff]=-0x1126*-0x2+-0x2692*-0x1+-0x48dd*0x1:this['_scroll'][_0x5053ff]=Y['clamp'](this['_scroll'][_0x5053ff]*_0x2f0159/_0x2ef0e7,-0x1151+0x132d+-0x1dc,0x1*0x110c+-0xe5d+0x7*-0x62);}const _0x5383ed=this['_scroll'][_0x5053ff]*this['_getMaxOff'+'set'](_0x228bb9),_0x14370d=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x14370d[_0x5053ff]=_0x5383ed*_0x4c338c,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x14370d),this['_prevConte'+'ntSizes'][_0x228bb9]=_0x500f35;}['_syncScrol'+'lbarPositi'+'on'](_0x17af8b){const _0x3194a8=this['_scrollbar'+'Entities'][_0x17af8b];if(!(_0x3194a8!=null&&_0x3194a8['scrollbar']))return;const _0x172db3=this['_getAxis'](_0x17af8b);this['_scrollbar'+'UpdateFlag'+'s'][_0x17af8b]=!(-0xa34+-0x3be*0x5+0xe75*0x2),_0x3194a8['scrollbar']['value']=this['_scroll'][_0x172db3],_0x3194a8['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x172db3,_0x17af8b),this['_scrollbar'+'UpdateFlag'+'s'][_0x17af8b]=!(-0x4ce+-0x71*-0x27+0x18d*-0x8);}['_syncScrol'+'lbarEnable'+'dState'](_0x3d41c6){const _0x1e2e1e=this['_scrollbar'+'Entities'][_0x3d41c6];if(!_0x1e2e1e)return;const _0x2b1d0a=this['_getScroll'+'ingEnabled'](_0x3d41c6),_0xa3b843=this['_getScroll'+'barVisibil'+'ity'](_0x3d41c6);switch(_0xa3b843){case eF:_0x1e2e1e['enabled']=_0x2b1d0a;return;case tF:_0x1e2e1e['enabled']=_0x2b1d0a&&this['_contentIs'+'LargerThan'+'Viewport'](_0x3d41c6);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0xa3b843),_0x1e2e1e['enabled']=_0x2b1d0a;}}['_contentIs'+'LargerThan'+'Viewport'](_0xc6bfd3){return this['_getConten'+'tSize'](_0xc6bfd3)>this['_getViewpo'+'rtSize'](_0xc6bfd3);}['_contentPo'+'sitionToSc'+'rollValue'](_0x422539){const _0x19e788=this['_getMaxOff'+'set'](Ce),_0xd107e4=this['_getMaxOff'+'set'](je);return _0x19e788===-0x6f7+0x17*-0x8e+0x13b9?xo['x']=-0x1e1b+-0x1*0xc77+-0x1549*-0x2:xo['x']=_0x422539['x']/_0x19e788,_0xd107e4===-0x356+0x20*-0x53+-0x4e*-0x2d?xo['y']=0x227f+0x15e6*-0x1+-0xc99:xo['y']=_0x422539['y']/-_0xd107e4,xo;}['_getMaxOff'+'set'](_0x40d695,_0x19cd83){_0x19cd83=_0x19cd83===void(-0x299*0xd+0x1*-0x92f+0xabd*0x4)?this['_getConten'+'tSize'](_0x40d695):_0x19cd83;const _0x1897ab=this['_getViewpo'+'rtSize'](_0x40d695);return _0x19cd83<_0x1897ab?-this['_getViewpo'+'rtSize'](_0x40d695):_0x1897ab-_0x19cd83;}['_getMaxScr'+'ollValue'](_0x5c9068){return this['_contentIs'+'LargerThan'+'Viewport'](_0x5c9068)?0x322*-0x8+-0x6a*-0x15+0x105f:0x5a*-0xb+0x175b+-0x137d*0x1;}['_getScroll'+'barHandleS'+'ize'](_0x630034,_0x108ba2){const _0x1e4a0f=this['_getViewpo'+'rtSize'](_0x108ba2),_0x904394=this['_getConten'+'tSize'](_0x108ba2);if(Math['abs'](_0x904394)<-0x194b+-0x10e7+0x2a32+0.001)return 0x1af9+0xc20+-0x2718;const _0x379bcd=Math['min'](_0x1e4a0f/_0x904394,-0x3fd*0x1+-0x1*-0x668+-0x26a),_0x34754b=this['_toOversho'+'ot'](this['_scroll'][_0x630034],_0x108ba2);return _0x34754b===0x15bc+-0x16f8+0x13c?_0x379bcd:_0x379bcd/(0x1e00+0xa69+-0x2868+Math['abs'](_0x34754b));}['_getViewpo'+'rtSize'](_0x4c3441){return this['_getSize'](_0x4c3441,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x356a22){return this['_getSize'](_0x356a22,this['_contentEn'+'tity']);}['_getSize'](_0x213439,_0xe00ab5){return _0xe00ab5!=null&&_0xe00ab5['element']?_0xe00ab5['element'][this['_getCalcul'+'atedDimens'+'ion'](_0x213439)]:-0x14bf+-0x8*0xbf+0x1ab7;}['_getScroll'+'ingEnabled'](_0x5c01e2){if(_0x5c01e2===Ce)return this['horizontal'];if(_0x5c01e2===je)return this['vertical'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x5c01e2);}['_getScroll'+'barVisibil'+'ity'](_0x4a68fd){if(_0x4a68fd===Ce)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x4a68fd===je)return this['verticalSc'+'rollbarVis'+'ibility'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x4a68fd);}['_getSign'](_0x4b41e5){return _0x4b41e5===Ce?0x13a*0x3+0x1*-0x155a+0x11ad:-(-0x2*0x1fa+-0x1*0x2461+0x2856);}['_getAxis'](_0x54f422){return _0x54f422===Ce?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x29d581){return _0x29d581===Ce?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===aS&&(this['_hasOversh'+'oot']('x',Ce)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',Ce),this['_hasOversh'+'oot']('y',je)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',je)),Math['abs'](this['_velocity']['x'])>-0x249f+-0x80d+0x3*0xee4+0.0001||Math['abs'](this['_velocity']['y'])>0x15*-0x19d+0x522+-0x995*-0x3+0.0001){const _0x869afc=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x869afc['x']+=this['_velocity']['x'],_0x869afc['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x869afc),this['_setScroll'+'FromConten'+'tPosition'](_0x869afc);}this['_velocity']['x']*=0x24af+-0x6eb+-0x1dc3-this['friction'],this['_velocity']['y']*=0x1*-0x265+0x1f4c+0x19b*-0x12-this['friction'];}}['_hasOversh'+'oot'](_0x30840a,_0x2ebb2c){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x30840a],_0x2ebb2c))>0x345+0x69c+-0x9e1+0.001;}['_toOversho'+'ot'](_0x583dc6,_0x1b947a){const _0xe21c2c=this['_getMaxScr'+'ollValue'](_0x1b947a);return _0x583dc6<0x21b5+0x1e6+-0x239b?_0x583dc6:_0x583dc6>_0xe21c2c?_0x583dc6-_0xe21c2c:0x2*0x6e5+-0x23ad*-0x1+-0x3177;}['_setVeloci'+'tyFromOver'+'shoot'](_0x4d0cd6,_0x4720c8,_0x351535){const _0x59c5b3=this['_toOversho'+'ot'](_0x4d0cd6,_0x351535)*this['_getMaxOff'+'set'](_0x351535)*this['_getSign'](_0x351535);Math['abs'](_0x59c5b3)>-0x1*0x24e1+0x1be6+-0x13*-0x79&&(this['_velocity'][_0x4720c8]=-_0x59c5b3/(this['bounceAmou'+'nt']*(-0x4b*0x3+0x26c0+0x3*-0xc8f)+(0x6b6+0x12a*0x16+0x1*-0x2051)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x5356d4){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x5356d4,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x5356d4)):(this['_velocity']['set'](-0xd44+-0x24ac+0x44*0xbc,-0xb*0x336+-0x7cf+0x2b21,-0x6b0+0x172*0x11+-0x11e2),this['_prevConte'+'ntDragPosi'+'tion']=_0x5356d4['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x4a19ef){let _0x458e84=this['_contentPo'+'sitionToSc'+'rollValue'](_0x4a19ef);this['_isDraggin'+'g']()&&(_0x458e84=this['_applyScro'+'llValueTen'+'sion'](_0x458e84)),this['_onSetScro'+'ll'](_0x458e84['x'],_0x458e84['y'],!(0x332*0x7+-0x1229*0x1+-0x21a*0x2));}['_applyScro'+'llValueTen'+'sion'](_0x26547b){let _0x266405=this['_getMaxScr'+'ollValue'](Ce),_0x1275dc=this['_toOversho'+'ot'](_0x26547b['x'],Ce);return _0x1275dc>0x1*-0x1121+0x1f5b+-0x3*0x4be?_0x26547b['x']=_0x266405+(0x22*-0xa8+-0x1682+0x5*0x8f7)*Math['log10'](-0x1*0x1fac+-0x3*0xb44+-0x1c5*-0x25+_0x1275dc):_0x1275dc<-0x59e*0x1+-0x1819*0x1+0x1db7&&(_0x26547b['x']=-(-0x1df3+0xfb*-0xf+0x2ca9)*Math['log10'](0x2353+-0x1*0x1317+-0x103b-_0x1275dc)),_0x266405=this['_getMaxScr'+'ollValue'](je),_0x1275dc=this['_toOversho'+'ot'](_0x26547b['y'],je),_0x1275dc>0x70b*-0x3+-0x141a+0x293b?_0x26547b['y']=_0x266405+(-0x1a41+-0x164+-0x2*-0xdd3)*Math['log10'](-0x2cf*-0x7+-0xfa3*-0x1+-0x234b*0x1+_0x1275dc):_0x1275dc<0xb*0x83+0x1184+-0x1725&&(_0x26547b['y']=-(0x1fc2+0x80e+-0x81*0x4f)*Math['log10'](-0x2239*-0x1+-0x1784+-0xab4-_0x1275dc)),_0x26547b;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x520099){var _0x45f8fd,_0x286c63;(_0x45f8fd=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x45f8fd['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x520099),(_0x286c63=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0x286c63['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x520099);}['_setConten'+'tDraggingE'+'nabled'](_0x251059){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0x251059);}['_onMouseWh'+'eel'](_0x145482){var _0xd5c962;if(!this['useMouseWh'+'eel']||!((_0xd5c962=this['_contentEn'+'tity'])!=null&&_0xd5c962['element']))return;const _0x74c211=_0x145482['event'],_0x58b91b=_0x74c211['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x26986d=_0x74c211['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0xb62be=Y['clamp'](this['_scroll']['x']+_0x58b91b,-0x3*-0xb+0x91*0xd+-0x77e,this['_getMaxScr'+'ollValue'](Ce)),_0x39f43d=Y['clamp'](this['_scroll']['y']+_0x26986d,0x1*0x25c+0x165c+0x18b8*-0x1,this['_getMaxScr'+'ollValue'](je));this['scroll']=new J(_0xb62be,_0x39f43d);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x4b3106=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x4b3106['element']&&(_0x4b3106['element']['useInput']=!(0x1d6+0x1*-0x108f+0xeb9));}this['_disabledC'+'ontentInpu'+'t']=!(-0x17c6+-0x95*-0x3+0x1608);}['_disableCo'+'ntentInput'](){const _0x3cd0b0=_0x20f023=>{_0x20f023['element']&&_0x20f023['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x20f023),_0x20f023['element']['useInput']=!(-0x13be+0x3a*0x8c+0x265*-0x5));const _0x389648=_0x20f023['children'];for(let _0x3c978e=0x2629+0x31*0x71+-0x3bca,_0x571cbe=_0x389648['length'];_0x3c978e<_0x571cbe;_0x3c978e++)_0x3cd0b0(_0x389648[_0x3c978e]);};if(this['_contentEn'+'tity']){const _0x111415=this['_contentEn'+'tity']['children'];for(let _0x3820b1=0x9fd+-0x1*0x1fab+0x15ae,_0x2acde5=_0x111415['length'];_0x3820b1<_0x2acde5;_0x3820b1++)_0x3cd0b0(_0x111415[_0x3820b1]);}this['_disabledC'+'ontentInpu'+'t']=!(-0x50c+-0x322+0x417*0x2);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0xa*-0x364+-0xa47+-0x107*0x17)),this['_setConten'+'tDraggingE'+'nabled'](!(0x214d+-0x14*0x84+-0x16fd)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0x7*0x77+-0x59*0x34+-0x124*-0xd)),this['_setConten'+'tDraggingE'+'nabled'](!(-0x4a*-0xb+0x1734+-0x1a61));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x495865,_0x407313){_0x495865['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x407313[_0x495865['viewportEn'+'tity']['getGuid']()]),_0x495865['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x407313[_0x495865['contentEnt'+'ity']['getGuid']()]),_0x495865['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x407313[_0x495865['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x495865['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x407313[_0x495865['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}h(c0,'EVENT_SETS'+'CROLL','set:scroll');const sF=0x1*0x1557+0x1*-0x281+-0x12cc;class iF{constructor(){h(this,'enabled',!(0xebd+-0x1a31+-0xb74*-0x1)),h(this,'horizontal'),h(this,'vertical'),h(this,'scrollMode'),h(this,'bounceAmou'+'nt'),h(this,'friction'),h(this,'dragThresh'+'old',sF),h(this,'useMouseWh'+'eel',!(0x1c9f+-0xdb*0x3+0xa*-0x29b)),h(this,'mouseWheel'+'Sensitivit'+'y',new J(-0xf67+-0x1c5b+0x2bc3,-0x13ab+-0xcca+0x33f*0xa)),h(this,'horizontal'+'ScrollbarV'+'isibility',0x7a*-0xa+-0x1f18+0x23dc*0x1),h(this,'verticalSc'+'rollbarVis'+'ibility',-0x1*0x551+0x2*-0x1283+0x2a57),h(this,'viewportEn'+'tity',null),h(this,'contentEnt'+'ity',null),h(this,'horizontal'+'ScrollbarE'+'ntity',null),h(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const nS=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],rF=0x1904*-0x1+0x93b+0xfd3;class aF extends ct{constructor(_0x3d328e){super(_0x3d328e),this['id']='scrollview',this['ComponentT'+'ype']=c0,this['DataType']=iF,this['schema']=nS,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x5dd3e7,_0x595187,_0x242351){_0x595187['dragThresh'+'old']===void(0x2473+0x117*0xe+-0x33b5)&&(_0x595187['dragThresh'+'old']=rF),_0x595187['useMouseWh'+'eel']===void(0x13a7*0x1+0x9d*-0x3d+0x1*0x11c2)&&(_0x595187['useMouseWh'+'eel']=!(-0x1*-0x1fd2+-0x4*-0xf7+0x2*-0x11d7)),_0x595187['mouseWheel'+'Sensitivit'+'y']===void(-0x1d9*0x4+-0x2657+-0x1*-0x2dbb)&&(_0x595187['mouseWheel'+'Sensitivit'+'y']=new J(-0xc02*-0x2+-0x25*0x19+0x1466*-0x1,0x71*-0x1a+-0x8bc+-0xe1*-0x17)),super['initialize'+'ComponentD'+'ata'](_0x5dd3e7,_0x595187,nS),_0x5dd3e7['viewportEn'+'tity']=_0x595187['viewportEn'+'tity'],_0x5dd3e7['contentEnt'+'ity']=_0x595187['contentEnt'+'ity'],_0x5dd3e7['horizontal'+'ScrollbarE'+'ntity']=_0x595187['horizontal'+'ScrollbarE'+'ntity'],_0x5dd3e7['verticalSc'+'rollbarEnt'+'ity']=_0x595187['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x33bbb6){const _0x233a88=this['store'];for(const _0x2e2fed in _0x233a88){const _0x391d19=_0x233a88[_0x2e2fed]['entity'],_0x13abd9=_0x391d19['scrollview'];_0x13abd9['enabled']&&_0x391d19['enabled']&&_0x13abd9['onUpdate']();}}['_onRemoveC'+'omponent'](_0x7a51cf,_0xe53678){_0xe53678['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class h0 extends we{constructor(_0xb2ad9a,_0x10d766){super(_0xb2ad9a,_0x10d766),h(this,'_handleEnt'+'ity',null),h(this,'_evtHandle'+'EntityElem'+'entAdd',null),h(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x38e75d=this['system']['store'][this['entity']['getGuid']()];return _0x38e75d?_0x38e75d['data']:null;}set['enabled'](_0x579c71){this['_setValue']('enabled',_0x579c71);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x114938){this['_setValue']('orientatio'+'n',_0x114938);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x3223b9){this['_setValue']('value',_0x3223b9);}get['value'](){return this['data']['value'];}set['handleSize'](_0x340be2){this['_setValue']('handleSize',_0x340be2);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x422cc9){if(this['_handleEnt'+'ity']===_0x422cc9)return;const _0x31d3ef=typeof _0x422cc9=='string';this['_handleEnt'+'ity']&&_0x31d3ef&&this['_handleEnt'+'ity']['getGuid']()===_0x422cc9||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x422cc9 instanceof Ie?this['_handleEnt'+'ity']=_0x422cc9:_0x31d3ef?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x422cc9)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0x31d3ef&&_0x422cc9&&(this['data']['handleEnti'+'ty']=_0x422cc9));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0xb91882,_0x3fe434){const _0x1a4002=this['data'],_0x11eb55=_0x1a4002[_0xb91882];_0x1a4002[_0xb91882]=_0x3fe434,this['fire']('set',_0xb91882,_0x11eb55,_0x3fe434);}['_toggleLif'+'ecycleList'+'eners'](_0x122633){this[_0x122633]('set_value',this['_onSetValu'+'e'],this),this[_0x122633]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x122633]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x5c08a3,_0x13f0cb;(_0x5c08a3=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x5c08a3['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x13f0cb=this['_handleEnt'+'ity'])!=null&&_0x13f0cb['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x42f74d=this['_handleEnt'+'ity']['element'],_0x25254a=this['_evtHandle'+'EntityChan'+'ges'];_0x25254a['push'](_0x42f74d['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x25254a['push'](_0x42f74d['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x25254a['push'](_0x42f74d['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x25254a['push'](_0x42f74d['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x29c318=-0x2*0x8dd+0x16a+0x1050;_0x29c318<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x29c318++)this['_evtHandle'+'EntityChan'+'ges'][_0x29c318]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=-0x21*0x3+-0x1*-0x139a+0x1*-0x1337;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new Go(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x17fca1){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x17fca1[this['_getAxis']()]));}['_onSetValu'+'e'](_0x928f60,_0x1f604d,_0x2fd8f7){Math['abs'](_0x2fd8f7-_0x1f604d)>0xf18+0x2197+-0x30af+0.00001&&(this['data']['value']=Y['clamp'](_0x2fd8f7,0x1498+-0x1581+0xe9,0x235+0x1c4+-0xfe*0x4),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x15f2ea,_0x15ce8e,_0x46e69d){Math['abs'](_0x46e69d-_0x15ce8e)>0x55*-0x4f+-0xf78+0x29b3+0.00001&&(this['data']['handleSize']=Y['clamp'](_0x46e69d,-0x55f+-0x1*0x1357+0x18b6,0xdb4+-0x1fc2+0x120f),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x29e147,_0x3900b7,_0x5349ed){var _0x4e2ac7;_0x5349ed!==_0x3900b7&&((_0x4e2ac7=this['_handleEnt'+'ity'])!=null&&_0x4e2ac7['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=0x5b*0x52+0x1732+0x68b*-0x8);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x1a9b01=this['_handleEnt'+'ity'],_0xd8e95=_0x1a9b01==null?void(0x39a*-0x3+0x67c+-0x4f*-0xe):_0x1a9b01['element'];if(_0x1a9b01){const _0x4ae88e=_0x1a9b01['getLocalPo'+'sition']();_0x4ae88e[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x1a9b01['setLocalPo'+'sition'](_0x4ae88e);}_0xd8e95&&(_0xd8e95[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x114d7c){return _0x114d7c*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x56ec62){return _0x56ec62*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),-0x118*-0x4+-0x3*-0x6a1+-0x1*0x1843+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===Ce?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:-0x2*0xe05+0x833+0x13d7;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===Ce?0x15f7+0x1c4*-0x1+0x205*-0xa:-(-0x1c86+0xd3e+0x22f*0x7);}['_getAxis'](){return this['orientatio'+'n']===Ce?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===Ce?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===Ce?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x28f178){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x28f178);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x236d+0xc19*-0x3+0xa*0x72c));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x1efb+-0x8*0x438+0x40bc));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0xd89ed2,_0x221c45){_0xd89ed2['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x221c45[_0xd89ed2['handleEnti'+'ty']['getGuid']()]);}}h(h0,'EVENT_SETV'+'ALUE','set:value');class nF{constructor(){h(this,'enabled',!(-0x22f1+0x2293+0x1*0x5e)),h(this,'orientatio'+'n',Ce),h(this,'value',0x1949+-0x1b96+0x24d),h(this,'handleSize',0x1*0xe3+0x1041*-0x1+0xf5e),h(this,'handleEnti'+'ty',null);}}const oS=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class oF extends ct{constructor(_0x1ecb40){super(_0x1ecb40),this['id']='scrollbar',this['ComponentT'+'ype']=h0,this['DataType']=nF,this['schema']=oS,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x49d560,_0x511125,_0x306977){super['initialize'+'ComponentD'+'ata'](_0x49d560,_0x511125,oS),_0x49d560['handleEnti'+'ty']=_0x511125['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x480fea){_0x480fea['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x1b7ee0,_0xe463){_0xe463['onRemove']();}}const lF={'volume':0x0,'pitch':0x0,'loop':!(-0x1801+0xe3a+-0x9c8*-0x1),'startTime':0x0,'duration':0x0,'position':new D(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class Gi extends me{constructor(_0x4624d4,_0x29812b='Untitled',_0x3e7b94={}){super(),h(this,'name'),h(this,'instances',[]),(this['_component']=_0x4624d4,this['_assets']=_0x4624d4['system']['app']['assets'],this['_manager']=_0x4624d4['system']['manager'],this['name']=_0x29812b,this['_volume']=_0x3e7b94['volume']!==void(0x15f9+0x1b1+-0x2*0xbd5)?Y['clamp'](Number(_0x3e7b94['volume'])||0x1d08+-0x593*0x7+0x1*0x9fd,-0x25f3+-0x646*0x1+0x2c39,-0x1*0x1232+-0x5*-0x31f+-0x8*-0x53):0x1*0x1d12+-0x7*-0x5b+-0x1f8e,this['_pitch']=_0x3e7b94['pitch']!==void(0xcf7+0x1*-0x1321+0x62a)?Math['max'](-0x688+-0x7da+0xe62+0.01,Number(_0x3e7b94['pitch'])||0x3db+-0x1b8c+0x17b1):0x490*-0x6+0x116+0x35*0x7f,this['_loop']=!!(_0x3e7b94['loop']!==void(-0xa85+-0x1*0xf77+0xcfe*0x2)&&_0x3e7b94['loop']),this['_duration']=_0x3e7b94['duration']>-0x2188+0x26b*-0xf+0x45cd?_0x3e7b94['duration']:null,this['_startTime']=Math['max'](0xfba+-0x110a+0x150,Number(_0x3e7b94['startTime'])||-0x15*-0x15d+-0x21e5+-0x151*-0x4),this['_overlap']=!!_0x3e7b94['overlap'],this['_autoPlay']=!!_0x3e7b94['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x3e7b94['asset'],this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x2c68a8){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){w['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x27a91c=_0x2c68a8;if(_0x27a91c||(_0x27a91c=this['_createIns'+'tance'](),this['instances']['push'](_0x27a91c)),this['isLoaded'])_0x27a91c['play']();else{const _0x11f458=function(_0x4a68a4){const _0x4dcbae=_0x27a91c['_playWhenL'+'oaded'];_0x27a91c['sound']=_0x4a68a4,_0x4dcbae&&_0x27a91c['play']();};this['off']('load',_0x11f458),this['once']('load',_0x11f458),this['load']();}return _0x27a91c;}['pause'](){let _0x1ec967=!(-0x1488+0x12f*-0x9+0x1f30);const _0x6bbc9c=this['instances'];for(let _0x2e7406=-0x155f*0x1+-0x1*0x4d+0x2*0xad6,_0x2b0f4b=_0x6bbc9c['length'];_0x2e7406<_0x2b0f4b;_0x2e7406++)_0x6bbc9c[_0x2e7406]['pause']()&&(_0x1ec967=!(-0x2029+0x3*-0x16a+0x1*0x2467));return _0x1ec967;}['resume'](){let _0x557dd9=!(0xd2f+-0x1bd9+-0x5*-0x2ef);const _0x35a3f0=this['instances'];for(let _0x4e0eb2=0x24d3+0x1*0xa24+-0x1*0x2ef7,_0x2e269a=_0x35a3f0['length'];_0x4e0eb2<_0x2e269a;_0x4e0eb2++)_0x35a3f0[_0x4e0eb2]['resume']()&&(_0x557dd9=!(0x1*-0xc2b+-0x1b*-0x55+0x334));return _0x557dd9;}['stop'](){let _0x1649b7=!(-0xb*-0x17d+0xa2e+0x6a3*-0x4);const _0x3a2413=this['instances'];let _0x2ea0b6=_0x3a2413['length'];for(;_0x2ea0b6--;)_0x3a2413[_0x2ea0b6]['stop'](),_0x1649b7=!(-0x23fb+-0x11e5+0x35e0);return _0x3a2413['length']=0x2079+-0x1*0x159f+-0xada,_0x1649b7;}['load'](){if(!this['_hasAsset']())return;const _0x3f568f=this['_assets']['get'](this['_asset']);if(!_0x3f568f){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x3f568f['off']('remove',this['_onAssetRe'+'moved'],this),_0x3f568f['on']('remove',this['_onAssetRe'+'moved'],this),!_0x3f568f['resource']){_0x3f568f['off']('load',this['_onAssetLo'+'ad'],this),_0x3f568f['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x3f568f);return;}this['fire']('load',_0x3f568f['resource']);}['setExterna'+'lNodes'](_0x37097c,_0x104925){if(!_0x37097c){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x104925||(_0x104925=_0x37097c),this['_firstNode']=_0x37097c,this['_lastNode']=_0x104925,!this['_overlap']){const _0x5c34d0=this['instances'];for(let _0x57f40d=0xa17+0x8e1*-0x1+-0x136,_0x81b5ae=_0x5c34d0['length'];_0x57f40d<_0x81b5ae;_0x57f40d++)_0x5c34d0[_0x57f40d]['setExterna'+'lNodes'](_0x37097c,_0x104925);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x33a8eb=this['instances'];for(let _0x5288d1=0x10c1*0x1+0x268*-0xa+-0x1*-0x74f,_0x103282=_0x33a8eb['length'];_0x5288d1<_0x103282;_0x5288d1++)_0x33a8eb[_0x5288d1]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0x5b1738=null;const _0xdd7b76=this['_component'];let _0x32bf90=null;if(this['_hasAsset']()){const _0xe70862=this['_assets']['get'](this['_asset']);_0xe70862&&(_0x32bf90=_0xe70862['resource']);}const _0x13f6fb=lF;return _0x13f6fb['volume']=this['_volume']*_0xdd7b76['volume'],_0x13f6fb['pitch']=this['_pitch']*_0xdd7b76['pitch'],_0x13f6fb['loop']=this['_loop'],_0x13f6fb['startTime']=this['_startTime'],_0x13f6fb['duration']=this['_duration'],_0x13f6fb['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x13f6fb['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x13f6fb['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x13f6fb['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x13f6fb['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0xdd7b76['positional']?(_0x13f6fb['position']['copy'](_0xdd7b76['entity']['getPositio'+'n']()),_0x13f6fb['maxDistanc'+'e']=_0xdd7b76['maxDistanc'+'e'],_0x13f6fb['refDistanc'+'e']=_0xdd7b76['refDistanc'+'e'],_0x13f6fb['rollOffFac'+'tor']=_0xdd7b76['rollOffFac'+'tor'],_0x13f6fb['distanceMo'+'del']=_0xdd7b76['distanceMo'+'del'],_0x5b1738=new sn(this['_manager'],_0x32bf90,_0x13f6fb)):_0x5b1738=new As(this['_manager'],_0x32bf90,_0x13f6fb),this['_firstNode']&&_0x5b1738['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0x5b1738;}['_onInstanc'+'ePlay'](_0x5b4093){this['fire']('play',_0x5b4093),this['_component']['fire']('play',this,_0x5b4093);}['_onInstanc'+'ePause'](_0x44bbe5){this['fire']('pause',_0x44bbe5),this['_component']['fire']('pause',this,_0x44bbe5);}['_onInstanc'+'eResume'](_0x496ee0){this['fire']('resume',_0x496ee0),this['_component']['fire']('resume',this,_0x496ee0);}['_onInstanc'+'eStop'](_0x59b9c4){const _0x50dd82=this['instances']['indexOf'](_0x59b9c4);_0x50dd82!==-(0x6*-0xc2+-0x26a+-0x6f7*-0x1)&&this['instances']['splice'](_0x50dd82,0x21e*0x5+-0x62b*0x2+0x1*0x1c1),this['fire']('stop',_0x59b9c4),this['_component']['fire']('stop',this,_0x59b9c4);}['_onInstanc'+'eEnd'](_0x1fbb3a){const _0x19a786=this['instances']['indexOf'](_0x1fbb3a);_0x19a786!==-(-0x107*0x24+0x303+-0x2*-0x10fd)&&this['instances']['splice'](_0x19a786,0x1*-0xd6a+-0x146a+0x21d5),this['fire']('end',_0x1fbb3a),this['_component']['fire']('end',this,_0x1fbb3a);}['_onAssetAd'+'d'](_0xa95eab){this['load']();}['_onAssetLo'+'ad'](_0x5aa36a){this['load']();}['_onAssetRe'+'moved'](_0x320792){_0x320792['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x320792['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0xb41744){const _0x46767a=this['instances'];for(let _0x226993=0x1b24+0x5*0x11+-0x1b79,_0x31a5e1=_0x46767a['length'];_0x226993<_0x31a5e1;_0x226993++)_0x46767a[_0x226993]['position']=_0xb41744;}set['asset'](_0x101388){const _0x2c4c6d=this['_asset'];if(_0x2c4c6d){this['_assets']['off']('add:'+_0x2c4c6d,this['_onAssetAd'+'d'],this);const _0x5a960f=this['_assets']['get'](_0x2c4c6d);_0x5a960f&&_0x5a960f['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x101388,this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x5d5cd1){this['_autoPlay']=!!_0x5d5cd1;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x1fb1a3){if(this['_duration']=Math['max'](-0x7ef*-0x2+-0xe4f+0x1*-0x18f,Number(_0x1fb1a3)||-0xbed+0x6e*0x5a+-0xa7*0x29)||null,!this['_overlap']){const _0x27959c=this['instances'];for(let _0x704be1=0x511*0x1+0x2642+-0x2b53,_0x32136b=_0x27959c['length'];_0x704be1<_0x32136b;_0x704be1++)_0x27959c[_0x704be1]['duration']=this['_duration'];}}get['duration'](){let _0x5990cd=-0x86a+0x6ee*-0x5+-0x35*-0xd0;if(this['_hasAsset']()){const _0x45539f=this['_assets']['get'](this['_asset']);_0x5990cd=_0x45539f!=null&&_0x45539f['resource']?_0x45539f['resource']['duration']:-0x1*-0xf7e+-0x16dd+0x75f;}return this['_duration']!=null?this['_duration']%(_0x5990cd||-0x8*0x4c9+0x45d+0x21ec):_0x5990cd;}get['isLoaded'](){if(this['_hasAsset']()){const _0xffce59=this['_assets']['get'](this['_asset']);if(_0xffce59)return!!_0xffce59['resource'];}return!(-0x755*0x2+-0x20e0+0x2f8b);}get['isPaused'](){const _0x4921d1=this['instances'],_0x1f656e=_0x4921d1['length'];if(_0x1f656e===0x1c8c+0x81*-0x40+-0x3*-0x13c)return!(0xf21+-0x113c+0x21c);for(let _0x141c2f=0x1e72+0x228d+-0x40ff;_0x141c2f<_0x1f656e;_0x141c2f++)if(!_0x4921d1[_0x141c2f]['isPaused'])return!(0x1*-0x20e9+-0x3*-0xa67+0x1*0x1b5);return!(0x262a+-0x1b5b+-0xacf);}get['isPlaying'](){const _0x1e2303=this['instances'];for(let _0x14a4e3=-0x17ba+-0x52*0x9+0x1a9c,_0x5550bf=_0x1e2303['length'];_0x14a4e3<_0x5550bf;_0x14a4e3++)if(_0x1e2303[_0x14a4e3]['isPlaying'])return!(0x36a*-0x8+0x1*-0xcd7+0x2827);return!(-0x269b+0xd*0x197+0x11f1);}get['isStopped'](){const _0x262d45=this['instances'];for(let _0x486faa=0x7e3+-0x4a2+-0x11*0x31,_0x3f914e=_0x262d45['length'];_0x486faa<_0x3f914e;_0x486faa++)if(!_0x262d45[_0x486faa]['isStopped'])return!(-0x3de+-0xf*-0x83+-0x3ce);return!(-0x1c79+0x14de+0x79b);}set['loop'](_0x578240){this['_loop']=!!_0x578240;const _0x26112a=this['instances'];for(let _0x2f3d2b=-0x1*0x67f+0x1351*0x1+-0x669*0x2,_0x352384=_0x26112a['length'];_0x2f3d2b<_0x352384;_0x2f3d2b++)_0x26112a[_0x2f3d2b]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x3513ac){this['_overlap']=!!_0x3513ac;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x18f030){if(this['_pitch']=Math['max'](Number(_0x18f030)||0x6*0x67d+-0x22cb+0x161*-0x3,0x1428+-0x18cf+0x3*0x18d+0.01),!this['_overlap']){const _0x3f735b=this['instances'];for(let _0x4b0655=0x1a3*0x17+-0x1*-0x16a1+-0x3c46*0x1,_0xaee6c4=_0x3f735b['length'];_0x4b0655<_0xaee6c4;_0x4b0655++)_0x3f735b[_0x4b0655]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x2a00ed){if(this['_startTime']=Math['max'](-0x1e4d+0xeb9+0xf94,Number(_0x2a00ed)||0x1f98+-0x1*0x19f0+-0x5a8),!this['_overlap']){const _0x8db55b=this['instances'];for(let _0x1006aa=0x79*-0x4d+-0x33f*0x9+0xdd*0x4c,_0x1374a2=_0x8db55b['length'];_0x1006aa<_0x1374a2;_0x1006aa++)_0x8db55b[_0x1006aa]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x1d3148){if(this['_volume']=Y['clamp'](Number(_0x1d3148)||-0x3*0xa1e+0x2d*-0x47+0x2ad5,0x856+-0x1f*0x124+0x1b06,-0x1*-0x182a+0x2*-0x32d+0x11cf*-0x1),!this['_overlap']){const _0x144e27=this['instances'];for(let _0x5e3836=0x442*-0x7+-0xe4a+0x583*0x8,_0x3734de=_0x144e27['length'];_0x5e3836<_0x3734de;_0x5e3836++)_0x144e27[_0x5e3836]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}h(Gi,'EVENT_PLAY','play'),h(Gi,'EVENT_PAUS'+'E','pause'),h(Gi,'EVENT_RESU'+'ME','resume'),h(Gi,'EVENT_STOP','stop'),h(Gi,'EVENT_END','end'),h(Gi,'EVENT_LOAD','load');class Kr extends we{constructor(){super(...arguments),h(this,'_volume',0x1378+0x2083+-0x33fa),h(this,'_pitch',0xdab+-0x2*-0x11ef+-0x14*0x27a),h(this,'_positiona'+'l',!(0x11b*-0x1+-0x2118+0x2233)),h(this,'_refDistan'+'ce',-0xb*-0x1d9+-0x1456*0x1+0x2*0x2),h(this,'_maxDistan'+'ce',-0x3e1e+0x1*0x2a0f+0xf*0x3f1),h(this,'_rollOffFa'+'ctor',-0x1504*0x1+0xa1*0x22+-0x3*0x1f),h(this,'_distanceM'+'odel',Vp),h(this,'_slots',{}),h(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x46838e,_0x4373c3,_0x43da7d){const _0xf535f4=this['_slots'];for(const _0x28ed9e in _0xf535f4){const _0x325936=_0xf535f4[_0x28ed9e];if(!_0x325936['overlap']){const _0x4b6329=_0x325936['instances'];for(let _0x4cfc67=-0x259e+-0x1*-0x14cb+0x10d3*0x1,_0x44ef11=_0x4b6329['length'];_0x4cfc67<_0x44ef11;_0x4cfc67++)_0x4b6329[_0x4cfc67][_0x46838e]=_0x43da7d?_0x325936[_0x46838e]*_0x4373c3:_0x4373c3;}}}set['distanceMo'+'del'](_0x240f30){this['_distanceM'+'odel']=_0x240f30,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x240f30,!(0xe1+-0xfa0+0xec*0x10));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x5f27c0){this['_maxDistan'+'ce']=_0x5f27c0,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x5f27c0,!(-0x11*-0x94+0x25cb+-0x986*0x5));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x48c572){this['_refDistan'+'ce']=_0x48c572,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x48c572,!(-0x4c2+-0x734+-0xbf7*-0x1));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0x56e76a){this['_rollOffFa'+'ctor']=_0x56e76a,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0x56e76a,!(0x1*0x1d21+0x1f*0x32+-0x232e));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x1a4687){this['_pitch']=_0x1a4687,this['_updateSou'+'ndInstance'+'s']('pitch',_0x1a4687,!(0x2d7*0x3+-0x3*0x3e5+-0x32a*-0x1));}get['pitch'](){return this['_pitch'];}set['volume'](_0x271a40){this['_volume']=_0x271a40,this['_updateSou'+'ndInstance'+'s']('volume',_0x271a40,!(0xb33+-0x111b+0x1b*0x38));}get['volume'](){return this['_volume'];}set['positional'](_0x5b6423){this['_positiona'+'l']=_0x5b6423;const _0x238dfa=this['_slots'];for(const _0x497cbc in _0x238dfa){const _0xec277e=_0x238dfa[_0x497cbc];if(!_0xec277e['overlap']){const _0x435db1=_0xec277e['instances'],_0x4c9118=_0x435db1['length'];for(let _0x403c05=_0x4c9118-(0x1*0x6a2+0x3c1+-0xa62);_0x403c05>=0xa*0x3ad+-0x13a5+-0x111d;_0x403c05--){const _0x143bba=_0x435db1[_0x403c05]['isPlaying']||_0x435db1[_0x403c05]['isSuspende'+'d'],_0x78dd45=_0x435db1[_0x403c05]['currentTim'+'e'];_0x143bba&&_0x435db1[_0x403c05]['stop']();const _0x427d23=_0xec277e['_createIns'+'tance']();_0x143bba&&(_0x427d23['play'](),_0x427d23['currentTim'+'e']=_0x78dd45),_0x435db1['push'](_0x427d23);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x2260c4){const _0x2aa5a4=this['_slots'];if(_0x2aa5a4){for(const _0x46e6bb in _0x2aa5a4)_0x2aa5a4[_0x46e6bb]['stop']();}const _0x1a48f9={};for(const _0x42caba in _0x2260c4)_0x2260c4[_0x42caba]instanceof Gi?_0x1a48f9[_0x2260c4[_0x42caba]['name']]=_0x2260c4[_0x42caba]:_0x2260c4[_0x42caba]['name']&&(_0x1a48f9[_0x2260c4[_0x42caba]['name']]=new Gi(this,_0x2260c4[_0x42caba]['name'],_0x2260c4[_0x42caba]));this['_slots']=_0x1a48f9,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x26ea8f=this['_slots'],_0x327173=this['_playingBe'+'foreDisabl'+'e'];for(const _0xb5d43 in _0x26ea8f){const _0x5c5488=_0x26ea8f[_0xb5d43];_0x5c5488['autoPlay']&&_0x5c5488['isStopped']?_0x5c5488['play']():_0x327173[_0xb5d43]?_0x5c5488['resume']():_0x5c5488['isLoaded']||_0x5c5488['load']();}}['onDisable'](){const _0x117aa7=this['_slots'],_0x1e73e4={};for(const _0xe1995d in _0x117aa7)_0x117aa7[_0xe1995d]['overlap']||_0x117aa7[_0xe1995d]['isPlaying']&&(_0x117aa7[_0xe1995d]['pause'](),_0x1e73e4[_0xe1995d]=!(-0x6a3+-0x66c+0xd0f));this['_playingBe'+'foreDisabl'+'e']=_0x1e73e4;}['onRemove'](){this['off']();}['addSlot'](_0x22c0d2,_0x1867de){const _0x59d1e1=this['_slots'];if(_0x59d1e1[_0x22c0d2])return w['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x22c0d2+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0x5bb8a5=new Gi(this,_0x22c0d2,_0x1867de);return _0x59d1e1[_0x22c0d2]=_0x5bb8a5,_0x5bb8a5['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0x5bb8a5['play'](),_0x5bb8a5;}['removeSlot'](_0x4d5726){const _0x52d413=this['_slots'];_0x52d413[_0x4d5726]&&(_0x52d413[_0x4d5726]['stop'](),delete _0x52d413[_0x4d5726]);}['slot'](_0x1bf0c1){return this['_slots'][_0x1bf0c1];}['_getSlotPr'+'operty'](_0x3d38d1,_0x129483){if(!this['enabled']||!this['entity']['enabled'])return;const _0x4cbb3e=this['_slots'][_0x3d38d1];if(!_0x4cbb3e){w['warn']('Trying\x20to\x20'+'get\x20'+_0x129483+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x3d38d1+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x4cbb3e[_0x129483];}['isPlaying'](_0x196c02){return this['_getSlotPr'+'operty'](_0x196c02,'isPlaying')||!(-0x21f1+0x27a+0x1f78);}['isLoaded'](_0x1bda63){return this['_getSlotPr'+'operty'](_0x1bda63,'isLoaded')||!(0x598*-0x3+-0x11*0x16+0x3*0x615);}['isPaused'](_0x4d362e){return this['_getSlotPr'+'operty'](_0x4d362e,'isPaused')||!(-0x9*-0x223+-0x2387+0x104d);}['isStopped'](_0x2114f2){return this['_getSlotPr'+'operty'](_0x2114f2,'isStopped')||!(-0x254*0xc+0x1e1c+-0x22b);}['play'](_0x2c2469){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x31d3a6=this['_slots'][_0x2c2469];return _0x31d3a6?_0x31d3a6['play']():(w['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x2c2469+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x58b101){const _0x24666d=this['_slots'];if(_0x58b101){const _0x3f375f=_0x24666d[_0x58b101];if(!_0x3f375f){w['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x58b101+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x3f375f['pause']();}else{for(const _0x4b8416 in _0x24666d)_0x24666d[_0x4b8416]['pause']();}}['resume'](_0x31cfa4){const _0x3073a3=this['_slots'];if(_0x31cfa4){const _0x5ab68b=_0x3073a3[_0x31cfa4];if(!_0x5ab68b){w['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x31cfa4+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x5ab68b['isPaused']&&_0x5ab68b['resume']();}else{for(const _0x2a15fc in _0x3073a3)_0x3073a3[_0x2a15fc]['resume']();}}['stop'](_0x55d388){const _0x35ead5=this['_slots'];if(_0x55d388){const _0x406925=_0x35ead5[_0x55d388];if(!_0x406925){w['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x55d388+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x406925['stop']();}else{for(const _0x372626 in _0x35ead5)_0x35ead5[_0x372626]['stop']();}}}h(Kr,'EVENT_PLAY','play'),h(Kr,'EVENT_PAUS'+'E','pause'),h(Kr,'EVENT_RESU'+'ME','resume'),h(Kr,'EVENT_STOP','stop'),h(Kr,'EVENT_END','end');class cF{constructor(){this['enabled']=!(0x1327*0x1+0x1855+-0x2e*0xf2);}}const d0=['enabled'];class hF extends ct{constructor(_0x7c4202){super(_0x7c4202),this['id']='sound',this['ComponentT'+'ype']=Kr,this['DataType']=cF,this['schema']=d0,this['manager']=_0x7c4202['soundManag'+'er'],w['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x1b72cb){this['manager']['volume']=_0x1b72cb;}get['volume'](){return this['manager']['volume'];}get['context'](){return Dl()?this['manager']['context']:(w['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x389587,_0x2c51f5,_0x3f3776){_0x3f3776=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x2b854f=0x11bd+0x156+0x101*-0x13;_0x2b854f<_0x3f3776['length'];_0x2b854f++)_0x2c51f5['hasOwnProp'+'erty'](_0x3f3776[_0x2b854f])&&(_0x389587[_0x3f3776[_0x2b854f]]=_0x2c51f5[_0x3f3776[_0x2b854f]]);super['initialize'+'ComponentD'+'ata'](_0x389587,_0x2c51f5,['enabled']);}['cloneCompo'+'nent'](_0x563558,_0x287fda){const _0x556acd=_0x563558['sound'],_0x2081de=_0x556acd['slots'],_0x481773={};for(const _0x218e5d in _0x2081de){const _0x201a1a=_0x2081de[_0x218e5d];_0x481773[_0x218e5d]={'name':_0x201a1a['name'],'volume':_0x201a1a['volume'],'pitch':_0x201a1a['pitch'],'loop':_0x201a1a['loop'],'duration':_0x201a1a['duration'],'startTime':_0x201a1a['startTime'],'overlap':_0x201a1a['overlap'],'autoPlay':_0x201a1a['autoPlay'],'asset':_0x201a1a['asset']};}const _0x441208={'distanceModel':_0x556acd['distanceMo'+'del'],'enabled':_0x556acd['enabled'],'maxDistance':_0x556acd['maxDistanc'+'e'],'pitch':_0x556acd['pitch'],'positional':_0x556acd['positional'],'refDistance':_0x556acd['refDistanc'+'e'],'rollOffFactor':_0x556acd['rollOffFac'+'tor'],'slots':_0x481773,'volume':_0x556acd['volume']};return this['addCompone'+'nt'](_0x287fda,_0x441208);}['onUpdate'](_0x10eb3d){const _0x29370e=this['store'];for(const _0x5eaf58 in _0x29370e)if(_0x29370e['hasOwnProp'+'erty'](_0x5eaf58)){const _0x3e6ce0=_0x29370e[_0x5eaf58]['entity'];if(_0x3e6ce0['enabled']){const _0x58451e=_0x3e6ce0['sound'];if(_0x58451e['enabled']&&_0x58451e['positional']){const _0x446cf3=_0x3e6ce0['getPositio'+'n'](),_0x7afad7=_0x58451e['slots'];for(const _0x28b9d1 in _0x7afad7)_0x7afad7[_0x28b9d1]['updatePosi'+'tion'](_0x446cf3);}}}}['onBeforeRe'+'move'](_0x28406b,_0xe241a9){const _0x455ed4=_0xe241a9['slots'];for(const _0x38e39f in _0x455ed4)_0x455ed4[_0x38e39f]['overlap']||_0x455ed4[_0x38e39f]['stop']();_0xe241a9['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Kr['prototype'],d0);const lS='simple',cS='animated';class Hi extends me{constructor(_0x4671c4,_0x326d95){super(),h(this,'_evtSetMes'+'hes',null),(this['_component']=_0x4671c4,this['_frame']=0x417*0x6+0x2154+-0x39de,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x326d95['spriteAsse'+'t'],this['name']=_0x326d95['name'],this['fps']=_0x326d95['fps']||-0x543+-0x14c*0x1+0x68f,this['loop']=_0x326d95['loop']||!(-0x2018+0x1*-0x1059+0x3072*0x1),this['_playing']=!(0x4*-0x13e+-0xd62+0x25*0x7f),this['_paused']=!(-0x589+-0x1f2c+0x24b6),this['_time']=0x2*0x5f0+-0x195f+0xd7f);}get['duration'](){if(this['_sprite']){const _0x20e014=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x20e014);}return 0x11*0x19b+-0xb5c*-0x1+-0x1*0x26a7;}set['frame'](_0x529151){this['_setFrame'](_0x529151);const _0x266e75=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x266e75);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0xd171d0){var _0x3d412a;if(this['_sprite']&&((_0x3d412a=this['_evtSetMes'+'hes'])==null||_0x3d412a['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0xd171d0,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x24e714;!_0xd171d0||!_0xd171d0['atlas']?(_0x24e714=this['_component']['_meshInsta'+'nce'],_0x24e714&&(_0x24e714['deletePara'+'meter']('texture_em'+'issiveMap'),_0x24e714['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0xd171d0['atlas']['texture']&&(_0x24e714=this['_component']['_meshInsta'+'nce'],_0x24e714&&(_0x24e714['setParamet'+'er']('texture_em'+'issiveMap',_0xd171d0['atlas']['texture']),_0x24e714['setParamet'+'er']('texture_op'+'acityMap',_0xd171d0['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x598e5f){const _0x284860=this['_component']['system']['app']['assets'];let _0x26b751=_0x598e5f;if(_0x598e5f instanceof pe&&(_0x26b751=_0x598e5f['id']),this['_spriteAss'+'et']!==_0x26b751){if(this['_spriteAss'+'et']){const _0x4171cf=_0x284860['get'](this['_spriteAss'+'et']);_0x4171cf&&this['_unbindSpr'+'iteAsset'](_0x4171cf);}if(this['_spriteAss'+'et']=_0x26b751,this['_spriteAss'+'et']){const _0x2ef805=_0x284860['get'](this['_spriteAss'+'et']);_0x2ef805?this['_bindSprit'+'eAsset'](_0x2ef805):(this['sprite']=null,_0x284860['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x48ec8a){this['_setTime'](_0x48ec8a),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(-0xaed*0x2+0x998*-0x1+0x1f73*0x1),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=0x19*-0x4f+0x931+-0xbd*0x2;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x121c36){this['_component']['system']['app']['assets']['off']('add:'+_0x121c36['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x121c36['id']&&this['_bindSprit'+'eAsset'](_0x121c36);}['_bindSprit'+'eAsset'](_0x5bbf74){_0x5bbf74['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x5bbf74['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x5bbf74['resource']?this['_onSpriteA'+'ssetLoad'](_0x5bbf74):this['_component']['system']['app']['assets']['load'](_0x5bbf74);}['_unbindSpr'+'iteAsset'](_0x12b519){_0x12b519&&(_0x12b519['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x12b519['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x12b519['resource']&&!_0x12b519['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x12b519['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x5a8149){if(!_0x5a8149['resource'])this['sprite']=null;else{if(_0x5a8149['resource']['atlas'])this['sprite']=_0x5a8149['resource'];else{const _0x143f5a=_0x5a8149['data']['textureAtl'+'asAsset'],_0x1e5fd2=this['_component']['system']['app']['assets'];_0x1e5fd2['off']('load:'+_0x143f5a,this['_onTexture'+'AtlasLoad'],this),_0x1e5fd2['once']('load:'+_0x143f5a,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x43ad91){const _0x169bdb=this['_spriteAss'+'et'];_0x169bdb instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x169bdb):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x169bdb));}['_onSpriteA'+'ssetRemove'](_0x5a871a){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==ci&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x4d7d53){if(this['fps']===0x8*-0xb5+-0x4*0x35e+0x1320||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0x2436b2=this['fps']<-0xbdd*0x3+-0x2a5*0x5+0x30d0?-(-0x12f6+-0x3d+0x1334):-0x1*0x15f7+-0x2b3*0x6+0x1*0x262a,_0x122963=this['_time']+_0x4d7d53*this['_component']['speed']*_0x2436b2,_0xc27e68=this['duration'],_0x101676=_0x122963>_0xc27e68||_0x122963<-0x2d8+-0x87d+-0xb55*-0x1;this['_setTime'](_0x122963);let _0xfeb865=this['frame'];this['_sprite']?_0xfeb865=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0xc27e68):_0xfeb865=-0xcf*0x2b+-0x679*-0x2+0x15d3,_0xfeb865!==this['_frame']&&this['_setFrame'](_0xfeb865),_0x101676&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(-0x429+0x1aab+-0x1681),this['_paused']=!(-0x3*-0xa3d+0x171*0x17+-0x3fdd),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x3b7d10){this['_time']=_0x3b7d10;const _0x172b43=this['duration'];this['_time']<0x1*0x11ed+-0x15db+-0x3ee*-0x1?this['loop']?this['_time']=this['_time']%_0x172b43+_0x172b43:this['_time']=-0x2a*0x5c+-0xacf+-0x1*-0x19e7:this['_time']>_0x172b43&&(this['loop']?this['_time']%=_0x172b43:this['_time']=_0x172b43);}['_setFrame'](_0x11d210){this['_sprite']?this['_frame']=Y['clamp'](_0x11d210,0x75*0x19+-0xe*0x57+0x6ab*-0x1,this['_sprite']['frameKeys']['length']-(0x1470+0x1*0x1eaf+-0x331e)):this['_frame']=_0x11d210,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x13dd30=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x13dd30['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(0x60b+0x2410+-0x2a1b),this['_paused']=!(-0x306+-0x21aa+0x24b1),this['frame']=0x3*0xb75+0x5*-0x103+-0x1d50,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(-0x76*-0x5+-0x4*0x4ff+0x11ae),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(0xe6e*0x1+-0x9*-0xca+-0x1587),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(-0x602+0x57*0x20+0xf9*-0x5),this['_paused']=!(-0x421+-0x9cc+0xdee),this['_time']=-0x2356+-0xf*-0x2e+0x829*0x4,this['frame']=0x1*-0x17d7+0x25af+-0xdd8,this['fire']('stop'),this['_component']['fire']('stop',this));}}h(Hi,'EVENT_PLAY','play'),h(Hi,'EVENT_PAUS'+'E','pause'),h(Hi,'EVENT_RESU'+'ME','resume'),h(Hi,'EVENT_STOP','stop'),h(Hi,'EVENT_END','end'),h(Hi,'EVENT_LOOP','loop');const hS='texture_em'+'issiveMap',dS='texture_op'+'acityMap',fS='material_e'+'missive',uS='material_o'+'pacity',dF='innerOffse'+'t',fF='outerScale',uF='atlasRect';class ur extends we{constructor(_0x969ea7,_0x47be6e){super(_0x969ea7,_0x47be6e),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_type']=lS,this['_material']=_0x969ea7['defaultMat'+'erial'],this['_color']=new ie(0x1*0x1126+-0x19d+0x238*-0x7,0x227b+0xf*0x242+-0x4458,0xf4f+-0x10*-0x88+-0x17ce,0x1518+-0x2*0xe1a+0x1*0x71d),this['_colorUnif'+'orm']=new Float32Array(-0x1b9a+0x1df*0x12+-0x611),this['_speed']=-0x7af+-0x1*0x1052+0x1802,this['_flipX']=!(-0x1*0x66f+0x3c9+0x2a7*0x1),this['_flipY']=!(-0xdec+0xa*0x24f+0x7*-0x14f),this['_width']=-0x1*0x1894+0xb0c+-0x3f*-0x37,this['_height']=-0x1d7e+-0x1cad*0x1+-0x1d16*-0x2,this['_drawOrder']=-0xc93+-0x1ae4+0x2777,this['_layers']=[er],this['_outerScal'+'e']=new J(0x1*0x1ff3+-0xfca*-0x2+-0xad*0x5e,-0x1564+0x3*0x6ed+-0x2*-0x4f),this['_outerScal'+'eUniform']=new Float32Array(0x1*-0x1d89+0x11ae*0x1+0xbdd),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(0x10a4+0x1*-0x1e9c+-0xdfc*-0x1),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(-0x2ed*0x1+-0x2ed*0x3+0x177*0x8),this['_batchGrou'+'pId']=-(0x1d65+0x9e*0x32+-0x3c4*0x10),this['_batchGrou'+'p']=null,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0x47be6e['addChild'](this['_model']['graph']),this['_model']['_entity']=_0x47be6e,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(0xd94+-0x1597*-0x1+-0x232a),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new Hi(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(-0x31d*-0x3+-0x1a4a+0xe*0x136),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0x130c5a){this['_type']!==_0x130c5a&&(this['_type']=_0x130c5a,this['_type']===lS?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===cS&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0x5b2ee7){this['_currentCl'+'ip']['frame']=_0x5b2ee7;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x1bf939){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x1bf939;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x3a352b){this['_currentCl'+'ip']['sprite']=_0x3a352b;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x4b7b89){this['_material']=_0x4b7b89,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x4b7b89);}get['material'](){return this['_material'];}set['color'](_0x3c2131){this['_color']['r']=_0x3c2131['r'],this['_color']['g']=_0x3c2131['g'],this['_color']['b']=_0x3c2131['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][0x2550+0x1367+-0x38b7]=this['_color']['r'],this['_colorUnif'+'orm'][-0xd7*0x8+0xf5*-0x25+0x2a22]=this['_color']['g'],this['_colorUnif'+'orm'][0x13b+0x277*0x1+-0x3b0]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x3e1d20){this['_color']['a']=_0x3e1d20,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](uS,_0x3e1d20);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x18bda6){if(!_0x18bda6){for(const _0x576ac9 in this['_clips'])this['removeClip'](_0x576ac9);return;}for(const _0x27c2bc in this['_clips']){let _0x5d0fb3=!(0xb27*0x1+-0xcdb+0x1b5);for(const _0x1479b9 in _0x18bda6)if(_0x18bda6[_0x1479b9]['name']===_0x27c2bc){_0x5d0fb3=!(-0x1018+-0x211e+0x3136*0x1),this['_clips'][_0x27c2bc]['fps']=_0x18bda6[_0x1479b9]['fps'],this['_clips'][_0x27c2bc]['loop']=_0x18bda6[_0x1479b9]['loop'],_0x18bda6[_0x1479b9]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0x27c2bc]['sprite']=_0x18bda6[_0x1479b9]['sprite']:_0x18bda6[_0x1479b9]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0x27c2bc]['spriteAsse'+'t']=_0x18bda6[_0x1479b9]['spriteAsse'+'t']);break;}_0x5d0fb3||this['removeClip'](_0x27c2bc);}for(const _0x1fa3d0 in _0x18bda6)this['_clips'][_0x18bda6[_0x1fa3d0]['name']]||this['addClip'](_0x18bda6[_0x1fa3d0]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0x5d97cc){this['_speed']=_0x5d97cc;}get['speed'](){return this['_speed'];}set['flipX'](_0x24660e){this['_flipX']!==_0x24660e&&(this['_flipX']=_0x24660e,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x5ab641){this['_flipY']!==_0x5ab641&&(this['_flipY']=_0x5ab641,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x2b3b50){_0x2b3b50!==this['_width']&&(this['_width']=_0x2b3b50,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x132783){_0x132783!==this['_height']&&(this['_height']=_0x132783,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0x581b89){var _0x5362e4,_0x371c27;if(this['_batchGrou'+'pId']===_0x581b89)return;const _0x26a800=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0x581b89,this['entity']['enabled']&&_0x26a800>=0x1b29+0x3*0x3d7+0x26ae*-0x1&&((_0x5362e4=this['system']['app']['batcher'])==null||_0x5362e4['remove'](St['SPRITE'],_0x26a800,this['entity'])),this['entity']['enabled']&&_0x581b89>=0x1*0x188b+0x23b1*0x1+0xc0c*-0x5?(_0x371c27=this['system']['app']['batcher'])==null||_0x371c27['insert'](St['SPRITE'],_0x581b89,this['entity']):_0x26a800>=-0x175b+-0x105*0x23+0x3b0a&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x32eed7){this['_autoPlayC'+'lip']=_0x32eed7 instanceof Hi?_0x32eed7['name']:_0x32eed7,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x26fe18){this['_drawOrder']=_0x26fe18,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x26fe18);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x1b0b8f){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x1b0b8f,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x3a58ee;const _0x3fe2e7=this['system']['app'],_0x25616c=_0x3fe2e7['scene'],_0x2bc369=_0x25616c['layers'];this['_evtLayers'+'Changed']=_0x25616c['on']('set:layers',this['_onLayersC'+'hanged'],this),_0x2bc369&&(this['_evtLayerA'+'dded']=_0x2bc369['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0x2bc369['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=0x2c1+0x9*-0x83+0x9e*0x3&&((_0x3a58ee=_0x3fe2e7['batcher'])==null||_0x3a58ee['insert'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x5cfab0,_0x461706,_0x3631f3,_0x225641;const _0x104f3c=this['system']['app'],_0x2f8fd4=_0x104f3c['scene']['layers'];(_0x5cfab0=this['_evtLayers'+'Changed'])==null||_0x5cfab0['off'](),this['_evtLayers'+'Changed']=null,_0x2f8fd4&&((_0x461706=this['_evtLayerA'+'dded'])==null||_0x461706['off'](),this['_evtLayerA'+'dded']=null,(_0x3631f3=this['_evtLayerR'+'emoved'])==null||_0x3631f3['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=-0x1e9b*-0x1+0x18ee+0x1283*-0x3&&((_0x225641=_0x104f3c['batcher'])==null||_0x225641['remove'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x59e47c;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0x33f231 in this['_clips'])this['_clips'][_0x33f231]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x59e47c=this['_node'])==null||_0x59e47c['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x1f776e=[this['_meshInsta'+'nce']];for(let _0x599681=-0x9c7+0x997*0x4+-0x1c95,_0x38baf2=this['_layers']['length'];_0x599681<_0x38baf2;_0x599681++){const _0x3590d2=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x599681]);_0x3590d2&&_0x3590d2['addMeshIns'+'tances'](_0x1f776e);}this['_addedMode'+'l']=!(-0x1056+0xd*-0x1f3+0x29ad*0x1);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x2fd7e1=[this['_meshInsta'+'nce']];for(let _0xb9004f=0x1c08+0x711*0x3+-0x3*0x1069,_0x4e6665=this['_layers']['length'];_0xb9004f<_0x4e6665;_0xb9004f++){const _0x4c7f03=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0xb9004f]);_0x4c7f03&&_0x4c7f03['removeMesh'+'Instances'](_0x2fd7e1);}this['_addedMode'+'l']=!(-0x563*0x5+-0x36*0x2+0x1b5c);}['_showFrame'](_0x562ef4){if(!this['sprite'])return;const _0x49a5c8=this['sprite']['meshes'][_0x562ef4];if(!_0x49a5c8){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(0x481*0x8+-0x321+-0x20e6));return;}let _0x1cc907;if(this['sprite']['renderMode']===Pt?_0x1cc907=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Mt?_0x1cc907=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x1cc907=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new He(_0x49a5c8,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(0x922+0x453*0x6+0x1*-0x2313),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(0x5*0x305+0x2355+-0x326d),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][0x1dcf+-0x1d61+0x16*-0x5]=this['_color']['r'],this['_colorUnif'+'orm'][0x1f2b*0x1+-0x3*-0x29+-0x1fa5]=this['_color']['g'],this['_colorUnif'+'orm'][0x239a+-0xcd6*-0x2+-0xa36*0x6]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](uS,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x1cc907&&(this['_meshInsta'+'nce']['material']=_0x1cc907),this['_meshInsta'+'nce']['mesh']!==_0x49a5c8&&(this['_meshInsta'+'nce']['mesh']=_0x49a5c8,this['_meshInsta'+'nce']['visible']=!(-0x95*-0xa+0x1f7*0x1+-0x7c9),this['_meshInsta'+'nce']['_aabbVer']=-(0x1db7+0x1*-0x1c90+0xe*-0x15)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](hS,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](dS,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](hS),this['_meshInsta'+'nce']['deletePara'+'meter'](dS)),this['sprite']['atlas']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x354678=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x562ef4]];if(_0x354678){const _0x49d845=(0x21e3+-0x1ced+-0x4f4)/_0x354678['rect']['z'],_0x5d47a0=(-0x356+0x1977*0x1+-0x161f)/_0x354678['rect']['w'];this['_innerOffs'+'et']['set'](_0x354678['border']['x']*_0x49d845,_0x354678['border']['y']*_0x5d47a0,_0x354678['border']['z']*_0x49d845,_0x354678['border']['w']*_0x5d47a0);const _0xb78060=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x354678['rect']['x']/_0xb78060['width'],_0x354678['rect']['y']/_0xb78060['height'],_0x354678['rect']['z']/_0xb78060['width'],_0x354678['rect']['w']/_0xb78060['height']);}else this['_innerOffs'+'et']['set'](-0x4*-0x819+-0x278+0x77b*-0x4,-0x2382+0x5*-0x463+0x3971,0x863*-0x2+-0x38*0x89+0x1*0x2ebe,-0x1a1c+0x1b9a*0x1+-0x2*0xbf);this['_innerOffs'+'etUniform'][0x1*-0x269e+-0xd*-0x16d+0x1415]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x258+-0x102b+-0x2*-0x942]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0x144d+-0x1*-0x6b5+0xd9a]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0x565+-0x222b+0x1*0x1cc9]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](dF,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0xcdc+0xe83*-0x2+0x1*0x102a]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0x217c+0x5*0x7c+-0xd*0x2c3]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0x15*-0x53+0x120f+-0x18dc]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][0x1681+-0x647*-0x1+-0x1cc5]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](uF,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x47b555=this['flipX']?-(-0x6d*0x48+-0x73*0x4d+0x3a0*0x12):0x6e*0x5+-0x1619*-0x1+0xd6*-0x1d,_0x361b01=this['flipY']?-(0x151*0x1a+0x5f3*0x6+-0x45eb):0x86*-0x22+-0x360+0x1a1*0xd,_0x2f9c03=0x1969+0xa7*0x5+-0x1cac,_0x21d333=0xa19*-0x2+0x711+0xd21;if(this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){let _0x176362=0x1069*0x1+0x2687+-0x29*0x157,_0x41b984=0x1cb9+0x51c+-0x6c4*0x5;if(this['sprite']['atlas']){const _0x8c80cb=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x8c80cb&&(_0x176362=_0x8c80cb['rect']['z'],_0x41b984=_0x8c80cb['rect']['w'],_0x2f9c03=(0x83c*0x3+-0x2*-0xed+-0xd47*0x2+0.5-_0x8c80cb['pivot']['x'])*this['_width'],_0x21d333=(-0x1*-0x2138+-0xa06*-0x3+0x1*-0x3f4a+0.5-_0x8c80cb['pivot']['y'])*this['_height']);}const _0x1876b9=_0x176362/this['sprite']['pixelsPerU'+'nit'],_0xb328fb=_0x41b984/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0x1876b9),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0xb328fb)),_0x47b555*=_0x1876b9,_0x361b01*=_0xb328fb,this['_outerScal'+'e']['x']/=_0x1876b9,this['_outerScal'+'e']['y']/=_0xb328fb,_0x47b555*=Y['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0x1876b9),-0x236f+0x115f+0x908*0x2+0.0001,-0x58f*-0x2+0x24b8+-0x2fd5),_0x361b01*=Y['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0xb328fb),-0x543*-0x2+-0x6*0x125+-0x3a8+0.0001,0x101f+0x1*0x2042+-0x3060),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][0x11*-0xc5+-0x477+0x118c]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x1c7c+0x227*-0x1+0x2a2*-0xa]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](fF,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x47b555,_0x361b01,-0x13aa+0xb28+0x883),this['_node']['setLocalPo'+'sition'](_0x2f9c03,_0x21d333,-0x21*0xf+0x1b20+-0x1*0x1931);}['_updateAab'+'b'](_0x13b366){return _0x13b366['center']['set'](0x1b4*-0x7+-0x2622+-0x56*-0x95,0xcb*-0x4+0x1dff+-0x1ad3,0x26ea*-0x1+-0x7ff*0x1+-0x3*-0xfa3),_0x13b366['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0x79d*-0x5+0x5b0+0x1b*0x133+0.5),this['_outerScal'+'e']['y']*(0xe0c+0x1105+0x1f11*-0x1+0.5),0x1ded+0x1363+-0x3150+0.001),_0x13b366['setFromTra'+'nsformedAa'+'bb'](_0x13b366,this['_node']['getWorldTr'+'ansform']()),_0x13b366;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==cS)return;const _0x149b4a=this['_clips'][this['_autoPlayC'+'lip']];_0x149b4a&&!_0x149b4a['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x149b4a['name']);}['_onLayersC'+'hanged'](_0x16cee3,_0x4dd497){_0x16cee3['off']('add',this['onLayerAdd'+'ed'],this),_0x16cee3['off']('remove',this['onLayerRem'+'oved'],this),_0x4dd497['on']('add',this['onLayerAdd'+'ed'],this),_0x4dd497['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x3cd401){this['layers']['indexOf'](_0x3cd401['id'])<0xf81+0x1*0x5ab+-0x152c||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x3cd401['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0x562d3e){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0x562d3e['id'])<0x1a04+0x2405*-0x1+0xa01||_0x562d3e['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0x533f1c=-0x15d8+-0x1*0x289+-0x1861*-0x1;_0x533f1c<this['layers']['length'];_0x533f1c++){const _0x39a6db=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x533f1c]);_0x39a6db&&_0x39a6db['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x55b91c){const _0x56fba0=new Hi(this,{'name':_0x55b91c['name'],'fps':_0x55b91c['fps'],'loop':_0x55b91c['loop'],'spriteAsset':_0x55b91c['spriteAsse'+'t']});return this['_clips'][_0x55b91c['name']]=_0x56fba0,_0x56fba0['name']&&_0x56fba0['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0x56fba0;}['removeClip'](_0x28bea5){delete this['_clips'][_0x28bea5];}['clip'](_0x5897c1){return this['_clips'][_0x5897c1];}['play'](_0x5d4b76){const _0x3de2b8=this['_clips'][_0x5d4b76],_0x10f032=this['_currentCl'+'ip'];return _0x10f032&&_0x10f032!==_0x3de2b8&&(_0x10f032['_playing']=!(-0x138f+-0x1*-0xd84+-0x204*-0x3)),this['_currentCl'+'ip']=_0x3de2b8,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x3de2b8,this['_currentCl'+'ip']['play']()):w['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0x5d4b76+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x3de2b8;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}h(ur,'EVENT_PLAY','play'),h(ur,'EVENT_PAUS'+'E','pause'),h(ur,'EVENT_RESU'+'ME','resume'),h(ur,'EVENT_STOP','stop'),h(ur,'EVENT_END','end'),h(ur,'EVENT_LOOP','loop');class pF{constructor(){this['enabled']=!(-0x336+0x1be+-0x1*-0x178);}}const f0=['enabled'];class mF extends ct{constructor(_0x480c57){super(_0x480c57),this['id']='sprite',this['ComponentT'+'ype']=ur,this['DataType']=pF,this['schema']=f0,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x30f3b9){this['_defaultMa'+'terial']=_0x30f3b9;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x3dd921=new _e(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'sprite'}),_0x26a849=new Uint8Array(_0x3dd921['lock']());_0x26a849[0x1e42+0xf52+0x1*-0x2d94]=_0x26a849[-0x22*0xa7+0x3*-0xa45+0x34fe]=_0x26a849[0x9b*-0x1a+-0x247a+0x343a]=_0x26a849[-0x21e7*-0x1+0xca6+-0x2e8a]=-0x7*0x1ef+-0x1d08+0x2b90,_0x3dd921['unlock']();const _0x323a78=new Ut();_0x323a78['diffuse']['set'](0xb4f+-0x26ea*0x1+0xbf*0x25,0x1ee7*0x1+-0x203*0xd+-0x4c0*0x1,0x2264*-0x1+0x12a7+0x11*0xed),_0x323a78['emissive']['set'](0xc35+0x1f57*-0x1+0x45*0x47,-0x1*0x16bf+-0x155+-0x2d*-0x89,-0x2075*0x1+-0x74*-0x12+0x184e),_0x323a78['emissiveMa'+'p']=_0x3dd921,_0x323a78['opacityMap']=_0x3dd921,_0x323a78['opacityMap'+'Channel']='a',_0x323a78['useLightin'+'g']=!(0x7cd+0x1e6e+-0x263a),_0x323a78['useTonemap']=!(0x26ee+0x49*-0x11+0x110a*-0x2),_0x323a78['useFog']=!(0x1*-0x18c7+-0x3*0x2e3+0x2171),_0x323a78['useSkybox']=!(0x247a+0x143f+-0x38b8),_0x323a78['blendType']=Gn,_0x323a78['depthWrite']=!(-0x1506+0x10bd+0x3*0x16e),_0x323a78['pixelSnap']=!(0x6*-0x27d+0x23c3*-0x1+-0xe*-0x39f),_0x323a78['cull']=bt,_0x323a78['update'](),this['_defaultTe'+'xture']=_0x3dd921,this['_defaultMa'+'terial']=_0x323a78;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x284cc2){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x284cc2;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x44804c=this['defaultMat'+'erial']['clone']();_0x44804c['nineSliced'+'Mode']=Pt,_0x44804c['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x44804c;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x23d372){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x23d372;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x212423=this['defaultMat'+'erial']['clone']();_0x212423['nineSliced'+'Mode']=Mt,_0x212423['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x212423;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x2d65aa,_0x9bc969,_0x4425be){if(_0x9bc969['enabled']!==void(-0x9*-0x2e6+0x124a+-0x2c60)&&(_0x2d65aa['enabled']=_0x9bc969['enabled']),_0x2d65aa['type']=_0x9bc969['type'],_0x9bc969['layers']&&Array['isArray'](_0x9bc969['layers'])&&(_0x2d65aa['layers']=_0x9bc969['layers']['slice'](0x1*0xc1a+0x3a*-0x9f+-0x17ec*-0x1)),_0x9bc969['drawOrder']!==void(0x3e9+0x1*0x1e65+-0x224e)&&(_0x2d65aa['drawOrder']=_0x9bc969['drawOrder']),_0x9bc969['color']!==void(-0x337*-0xa+-0x52*0x50+0x1*-0x686)&&(_0x9bc969['color']instanceof ie?_0x2d65aa['color']['set'](_0x9bc969['color']['r'],_0x9bc969['color']['g'],_0x9bc969['color']['b'],_0x9bc969['opacity']??-0x19*-0x187+-0x121c+-0x1412):_0x2d65aa['color']['set'](_0x9bc969['color'][-0x1c70+0x2021+-0x3b1],_0x9bc969['color'][-0xbef+-0x22f7+0x2ee7],_0x9bc969['color'][0x1*0xb2d+-0xff6+-0x1*-0x4cb],_0x9bc969['opacity']??-0x3e2+0x1d33+-0xd8*0x1e),_0x2d65aa['color']=_0x2d65aa['color']),_0x9bc969['opacity']!==void(0x1*0x1fb2+-0x18db+-0x6d7*0x1)&&(_0x2d65aa['opacity']=_0x9bc969['opacity']),_0x9bc969['flipX']!==void(-0x23c5*0x1+-0x4*-0x853+0x279)&&(_0x2d65aa['flipX']=_0x9bc969['flipX']),_0x9bc969['flipY']!==void(0x1a47+-0x1171+-0x8d6)&&(_0x2d65aa['flipY']=_0x9bc969['flipY']),_0x9bc969['width']!==void(-0x22b*-0x10+-0x34d*-0xa+-0x43b2)&&(_0x2d65aa['width']=_0x9bc969['width']),_0x9bc969['height']!==void(0x233*0x7+-0x260*-0xd+-0x67*0x73)&&(_0x2d65aa['height']=_0x9bc969['height']),_0x9bc969['spriteAsse'+'t']!==void(-0x4*0x8ef+0x1b73*0x1+0x2c3*0x3)&&(_0x2d65aa['spriteAsse'+'t']=_0x9bc969['spriteAsse'+'t']),_0x9bc969['sprite']&&(_0x2d65aa['sprite']=_0x9bc969['sprite']),_0x9bc969['frame']!==void(0x1934+0x2da+-0x1c0e)&&(_0x2d65aa['frame']=_0x9bc969['frame']),_0x9bc969['clips']){for(const _0x54e9a5 in _0x9bc969['clips'])_0x2d65aa['addClip'](_0x9bc969['clips'][_0x54e9a5]);}_0x9bc969['speed']!==void(-0x640+-0x259a+-0x3*-0xe9e)&&(_0x2d65aa['speed']=_0x9bc969['speed']),_0x9bc969['autoPlayCl'+'ip']&&(_0x2d65aa['autoPlayCl'+'ip']=_0x9bc969['autoPlayCl'+'ip']),_0x2d65aa['batchGroup'+'Id']=_0x9bc969['batchGroup'+'Id']===void(-0x1*0x137b+0x1fd4*-0x1+0x334f)||_0x9bc969['batchGroup'+'Id']===null?-(-0x1a71+0xc*0xba+0x11ba*0x1):_0x9bc969['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x2d65aa,_0x9bc969,_0x4425be);}['cloneCompo'+'nent'](_0x113f3f,_0x39df7c){const _0x25ba99=_0x113f3f['sprite'];return this['addCompone'+'nt'](_0x39df7c,{'enabled':_0x25ba99['enabled'],'type':_0x25ba99['type'],'spriteAsset':_0x25ba99['spriteAsse'+'t'],'sprite':_0x25ba99['sprite'],'width':_0x25ba99['width'],'height':_0x25ba99['height'],'frame':_0x25ba99['frame'],'color':_0x25ba99['color']['clone'](),'opacity':_0x25ba99['opacity'],'flipX':_0x25ba99['flipX'],'flipY':_0x25ba99['flipY'],'speed':_0x25ba99['speed'],'clips':_0x25ba99['clips'],'autoPlayClip':_0x25ba99['autoPlayCl'+'ip'],'batchGroupId':_0x25ba99['batchGroup'+'Id'],'drawOrder':_0x25ba99['drawOrder'],'layers':_0x25ba99['layers']['slice'](0x16da+0xb*0x283+-0x327b)});}['onUpdate'](_0x86ce07){const _0x3325d5=this['store'];for(const _0x432109 in _0x3325d5)if(_0x3325d5['hasOwnProp'+'erty'](_0x432109)){const _0x3dacd5=_0x3325d5[_0x432109];if(_0x3dacd5['data']['enabled']&&_0x3dacd5['entity']['enabled']){const _0x2829b9=_0x3dacd5['entity']['sprite'];_0x2829b9['_currentCl'+'ip']&&_0x2829b9['_currentCl'+'ip']['_update'](_0x86ce07);}}}['onBeforeRe'+'move'](_0x1f150d,_0x1cf634){_0x1cf634['onDestroy']();}}we['_buildAcce'+'ssors'](ur['prototype'],f0);class _n extends we{constructor(_0x25c390,_0x3789a6){super(_0x25c390,_0x3789a6),this['_oldState']=!(0x1*-0xf21+-0x40*-0x70+-0xcdf),this['_size']=new D(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0x57dbf7){_0x57dbf7 instanceof D?this['_size']['copy'](_0x57dbf7):_0x57dbf7 instanceof Array&&_0x57dbf7['length']>=-0x1ab6+0x90a+-0x1*-0x11af&&this['size']['set'](_0x57dbf7[0xad9+-0x1b8b+0x859*0x2],_0x57dbf7[-0x1a04+0x1687+0x12a*0x3],_0x57dbf7[-0x7c6+0x19d+-0x62b*-0x1]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0xa80261,_0x4e3d12,_0x67d7a7){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x2f5ced=this['enabled']&&this['entity']['enabled'];_0x2f5ced!==this['_oldState']&&(this['_oldState']=_0x2f5ced,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}h(_n,'EVENT_ENAB'+'LE','enable'),h(_n,'EVENT_DISA'+'BLE','disable'),h(_n,'EVENT_STAT'+'E','state'),h(_n,'EVENT_REMO'+'VE','remove');class _F{constructor(){this['enabled']=!(0x9d+-0xf2+0x55);}}const u0=['enabled'];class gF extends ct{constructor(_0x226f03){super(_0x226f03),this['id']='zone',this['ComponentT'+'ype']=_n,this['DataType']=_F,this['schema']=u0,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x56a791,_0x1781e2,_0xa9eba5){_0x56a791['enabled']=_0x1781e2['hasOwnProp'+'erty']('enabled')?!!_0x1781e2['enabled']:!(-0x1*-0x1007+0x2*-0xdc1+0xb7b*0x1),_0x1781e2['size']&&(_0x1781e2['size']instanceof D?_0x56a791['size']['copy'](_0x1781e2['size']):_0x1781e2['size']instanceof Array&&_0x1781e2['size']['length']>=0x1a1e+0x1b47+-0x3562&&_0x56a791['size']['set'](_0x1781e2['size'][0x1*0x132d+-0x14e5*0x1+-0x1*-0x1b8],_0x1781e2['size'][0x1*0x565+0x7*-0x44f+-0x175*-0x11],_0x1781e2['size'][-0x2692*-0x1+-0xf8c+-0x1704*0x1]));}['cloneCompo'+'nent'](_0x2da4b5,_0x5c5769){const _0x4af570={'enabled':_0x2da4b5['zone']['enabled'],'size':_0x2da4b5['zone']['size']};return this['addCompone'+'nt'](_0x5c5769,_0x4af570);}['_onBeforeR'+'emove'](_0x1d0fa7,_0x51967a){_0x51967a['_onBeforeR'+'emove']();}}we['_buildAcce'+'ssors'](_n['prototype'],u0);class SF{constructor(_0x344ef4,_0x43c989){this['effect']=_0x344ef4,this['inputTarge'+'t']=_0x43c989,this['outputTarg'+'et']=null,this['name']=_0x344ef4['constructo'+'r']['name'];}}class yF{constructor(_0x536055,_0x1936a2){this['app']=_0x536055,this['camera']=_0x1936a2,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(0x1303+0x1f50+-0xe2*0x39),this['depthTarge'+'t']=null,_0x1936a2['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x2f6587,_0x6b2072){const _0x3bc752=this['camera']['rect'],_0x377452=this['destinatio'+'nRenderTar'+'get'],_0x3c4ff8=this['app']['graphicsDe'+'vice'],_0x1ea8d5=Math['floor'](_0x3bc752['z']*((_0x377452==null?void(0x10ae+-0x225e*0x1+-0x11b*-0x10):_0x377452['width'])??_0x3c4ff8['width'])),_0x178bb1=Math['floor'](_0x3bc752['w']*((_0x377452==null?void(-0x1236+-0x13*0x1d7+0x352b):_0x377452['height'])??_0x3c4ff8['height']));return new _e(_0x3c4ff8,{'name':_0x6b2072,'format':_0x2f6587,'width':_0x1ea8d5,'height':_0x178bb1,'mipmaps':!(-0x737*0x1+0x12e8+-0xbb0),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});}['_createOff'+'screenTarg'+'et'](_0x45488e,_0x4e7ca8){const _0xbec188=this['app']['graphicsDe'+'vice'],_0x552437=(this['destinatio'+'nRenderTar'+'get']??_0xbec188['backBuffer'])['isColorBuf'+'ferSrgb'](0x261+0x1*0x1788+0xc9*-0x21),_0x2f1e6a=(_0x4e7ca8&&_0xbec188['getRendera'+'bleHdrForm'+'at']([nt,Xt],!(-0xc*0x195+-0x3e*-0x45+0xc2*0x3)))??(_0x552437?_s:Ne),_0x4821a7=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0xd92499=this['_allocateC'+'olorBuffer'](_0x2f1e6a,_0x4821a7);return new gt({'colorBuffer':_0xd92499,'depth':_0x45488e,'stencil':_0x45488e&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0x45488e?_0xbec188['samples']:0x1*-0x1057+0x3b*0xa6+-0x5*0x462});}['_resizeOff'+'screenTarg'+'et'](_0x1bd8c3){const _0x20f007=_0x1bd8c3['colorBuffe'+'r']['format'],_0x504075=_0x1bd8c3['colorBuffe'+'r']['name'];_0x1bd8c3['destroyFra'+'meBuffers'](),_0x1bd8c3['destroyTex'+'tureBuffer'+'s'](),_0x1bd8c3['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x20f007,_0x504075),_0x1bd8c3['_colorBuff'+'ers']=[_0x1bd8c3['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x3ef757){_0x3ef757['destroyTex'+'tureBuffer'+'s'](),_0x3ef757['destroy']();}['addEffect'](_0x748578){const _0x5d863d=this['effects'],_0x39d86f=_0x5d863d['length']===0x9e0+0x1b26*0x1+-0x2*0x1283,_0x40e2ca=this['_createOff'+'screenTarg'+'et'](_0x39d86f,_0x748578['hdr']),_0x54ede9=new SF(_0x748578,_0x40e2ca);_0x5d863d['push'](_0x54ede9),this['_sourceTar'+'get']=_0x54ede9['inputTarge'+'t'],_0x5d863d['length']>-0x128b+0xce6+-0x2*-0x2d3&&(_0x5d863d[_0x5d863d['length']-(0x32+-0x6b7*-0x1+-0x6e7)]['outputTarg'+'et']=_0x54ede9['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x748578,_0x748578['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(0x22e1+-0x1fce+0x313*-0x1);}['removeEffe'+'ct'](_0x1e1917){let _0x3911cb=-(-0xb5*0x1+-0x20e7+0x1*0x219d);for(let _0x1ebcf6=-0x1e21+-0x457*0x5+0x33d4,_0x1c440c=this['effects']['length'];_0x1ebcf6<_0x1c440c;_0x1ebcf6++)if(this['effects'][_0x1ebcf6]['effect']===_0x1e1917){_0x3911cb=_0x1ebcf6;break;}_0x3911cb>=-0x22d*-0x11+-0x1*-0x1c3+-0x28*0xf8&&(_0x3911cb>-0x2e*0x79+-0x1*0x15a7+0x2b65?this['effects'][_0x3911cb-(0x50f+-0x21d*-0x1+-0x72b)]['outputTarg'+'et']=_0x3911cb+(0x22*-0x31+0x1f07+0xc*-0x20b)<this['effects']['length']?this['effects'][_0x3911cb+(-0xc93*-0x1+0x7*-0x204+0x18a)]['inputTarge'+'t']:null:this['effects']['length']>-0xa66*-0x1+-0xf*-0x12e+-0x3*0x95d&&(this['effects'][0x2fa*0x2+-0x649*0x1+0x56]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][0x1a55+-0xecd+-0xb87]['inputTarge'+'t']),this['effects'][0x7*0x1c+-0x1*0x1cd6+-0x1*-0x1c13]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(0x1*0x16cb+-0x25f1+-0x1*-0xf26),this['effects'][-0xd*0x24a+-0x2*0xcb6+0x372f*0x1]['hdr']),this['_sourceTar'+'get']=this['effects'][0x5*0x6b+-0x24*-0x51+-0xd7a]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][0x4*-0x8a9+-0x2*0xcbe+0x3c21]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x3911cb]['inputTarge'+'t']),this['effects']['splice'](_0x3911cb,-0x2*0x11ba+-0x80b*-0x1+-0x2*-0xdb5)),this['enabled']&&_0x1e1917['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===-0x169e+0x1953+-0x2b5&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x4d52eb=0x248b+0x2041*-0x1+-0x44a,_0x405129=this['effects']['length'];_0x4d52eb<_0x405129;_0x4d52eb++){const _0x12512f=this['effects'][_0x4d52eb]['effect'];this['_newPostEf'+'fect']!==_0x12512f&&_0x12512f['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x231402=-0x1*-0x25+0x1*-0x54e+0x1*0x529,_0x4fa8fe=this['effects']['length'];_0x231402<_0x4fa8fe;_0x231402++)this['effects'][_0x231402]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x3c8c64=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x3c8c64&&(_0x3c8c64['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0xba5+-0xfec+0x447)));}['_releaseDe'+'pthMap'](){const _0x86231d=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x86231d&&(_0x86231d['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(-0x100b+-0x1095+0x1*0x20a1)));}['destroy'](){for(let _0x2f11ce=-0x3*-0xa50+-0x3*0x962+0x6*-0x77,_0x2c6cdb=this['effects']['length'];_0x2f11ce<_0x2c6cdb;_0x2f11ce++)this['effects'][_0x2f11ce]['inputTarge'+'t']['destroy']();this['effects']['length']=0xd1a+-0x7c7*0x1+-0x553,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(0x1b57+0x21e6+0x1*-0x3d3d),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][-0xa7*-0x36+0x2*0x88b+-0x3450]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x18c313=null;const _0x59850e=this['effects']['length'];if(_0x59850e)for(let _0x36b8b6=0x89*0x1b+0x1222*-0x1+0x3af;_0x36b8b6<_0x59850e;_0x36b8b6++){const _0x2d2afd=this['effects'][_0x36b8b6];let _0x18bc97=_0x2d2afd['outputTarg'+'et'];_0x36b8b6===_0x59850e-(0x10ca*-0x2+-0x592*-0x5+-0x9*-0xa3)&&(_0x18c313=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x18bc97=this['destinatio'+'nRenderTar'+'get'])),Q['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0x2d2afd['name']),_0x2d2afd['effect']['render'](_0x2d2afd['inputTarge'+'t'],_0x18bc97,_0x18c313),Q['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(0x19c6+0x2*0x10fc+-0x175*0x29),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x1539e0,_0x5e5305){const _0x384a33=this['camera']['rect'],_0x365d6d=this['destinatio'+'nRenderTar'+'get'];_0x1539e0=(_0x365d6d==null?void(0x1ea9+0x2*0x7ca+-0x85*0x59):_0x365d6d['width'])??_0x1539e0,_0x5e5305=(_0x365d6d==null?void(0x2*0x79c+-0x11*-0x4f+-0x1477):_0x365d6d['height'])??_0x5e5305,this['camera']['camera']['aspectRati'+'o']=_0x1539e0*_0x384a33['z']/(_0x5e5305*_0x384a33['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x7137a7=this['app']['graphicsDe'+'vice'],_0x8e38ba=this['destinatio'+'nRenderTar'+'get'],_0x4a16e2=(_0x8e38ba==null?void(0x12a9+0x1a9e+-0xad*0x43):_0x8e38ba['width'])??_0x7137a7['width'],_0x2b3ab4=(_0x8e38ba==null?void(0xeb4*0x2+-0x1d3*-0x4+0x92d*-0x4):_0x8e38ba['height'])??_0x7137a7['height'],_0x1e4d02=this['camera']['rect'],_0x1357cf=Math['floor'](_0x1e4d02['z']*_0x4a16e2),_0x4e0cf3=Math['floor'](_0x1e4d02['w']*_0x2b3ab4),_0x50a7fa=this['effects'];for(let _0x3a1bf0=0x27f+0x7b*-0x34+0x167d,_0x3fa4c6=_0x50a7fa['length'];_0x3a1bf0<_0x3fa4c6;_0x3a1bf0++){const _0x157af9=_0x50a7fa[_0x3a1bf0];(_0x157af9['inputTarge'+'t']['width']!==_0x1357cf||_0x157af9['inputTarge'+'t']['height']!==_0x4e0cf3)&&this['_resizeOff'+'screenTarg'+'et'](_0x157af9['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x5683a7,_0x41760a,_0x4b8c04){this['enabled']&&this['resizeRend'+'erTargets']();}}class Ir extends we{constructor(_0x1ddf9c,_0x5d3d19){super(_0x1ddf9c,_0x5d3d19),h(this,'onPostproc'+'essing',null),h(this,'_renderSce'+'neDepthMap',0x1a2b+0x148b+-0x2eb6),h(this,'_renderSce'+'neColorMap',0x317*0x5+-0x2556+0x15e3),h(this,'_sceneDept'+'hMapReques'+'ted',!(-0x1805+0x315+0x14f1)),h(this,'_sceneColo'+'rMapReques'+'ted',!(-0x1ec7+-0x18b3+0x1*0x377b)),h(this,'_priority',0x3*0x9a1+-0x4ca+-0x1819*0x1),h(this,'_disablePo'+'stEffectsL'+'ayer',Il),h(this,'_camera',new Fl()),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x5d3d19,this['_postEffec'+'ts']=new yF(_0x1ddf9c['app'],this));}['setShaderP'+'ass'](_0x4dbc0f){const _0x1c078b=Si['get'](this['system']['app']['graphicsDe'+'vice']),_0x17de8d=_0x4dbc0f?_0x1c078b['allocate'](_0x4dbc0f,{'isForward':!(-0x3ff*0x7+-0x1ed*0xb+0x3128)}):null;return this['_camera']['shaderPass'+'Info']=_0x17de8d,_0x17de8d['index'];}['getShaderP'+'ass'](){var _0x55c780;return(_0x55c780=this['_camera']['shaderPass'+'Info'])==null?void(-0x113+0x3*0xc85+0x123e*-0x2):_0x55c780['name'];}set['renderPass'+'es'](_0x3ded51){this['_camera']['renderPass'+'es']=_0x3ded51||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(0x111d+0x2158+-0x3275*0x1);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x385b4b){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x385b4b;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0x2e3fe6){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0x2e3fe6;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x2cdb23){this['_camera']['fogParams']=_0x2cdb23;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x12dfd3){this['_camera']['aperture']=_0x12dfd3;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x17b448){this['_camera']['aspectRati'+'o']=_0x17b448;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0xa8597a){this['_camera']['aspectRati'+'oMode']=_0xa8597a;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0xd2ac6f){this['_camera']['calculateP'+'rojection']=_0xd2ac6f;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x274106){this['_camera']['calculateT'+'ransform']=_0x274106;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x59b901){this['_camera']['clearColor']=_0x59b901;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x3c5e7e){this['_camera']['clearColor'+'Buffer']=_0x3c5e7e,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x923dad){this['_camera']['clearDepth'+'Buffer']=_0x923dad,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x426ce0){this['_camera']['clearStenc'+'ilBuffer']=_0x426ce0,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x5dbb35){this['_camera']['cullFaces']=_0x5dbb35;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x52897){this['_disablePo'+'stEffectsL'+'ayer']=_0x52897,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x25d3fe){this['_camera']['farClip']=_0x25d3fe;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0x2af424){this['_camera']['flipFaces']=_0x2af424;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x16b102){this['_camera']['fov']=_0x16b102;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0x2ab247){this['_camera']['frustumCul'+'ling']=_0x2ab247;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x2c5611){this['_camera']['horizontal'+'Fov']=_0x2c5611;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x26494d){const _0xcdb8f5=this['_camera']['layers'],_0x3a29d7=this['system']['app']['scene'];_0xcdb8f5['forEach'](_0x4a8862=>{const _0x3060c4=_0x3a29d7['layers']['getLayerBy'+'Id'](_0x4a8862);_0x3060c4==null||_0x3060c4['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x26494d,this['enabled']&&this['entity']['enabled']&&_0x26494d['forEach'](_0x1bda8e=>{const _0x5cf8ed=_0x3a29d7['layers']['getLayerBy'+'Id'](_0x1bda8e);_0x5cf8ed==null||_0x5cf8ed['addCamera'](this);}),this['fire']('set:layers');}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x1e62b4){this['_camera']['jitter']=_0x1e62b4;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x22e453){this['_camera']['nearClip']=_0x22e453;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0xd2120c){this['_camera']['orthoHeigh'+'t']=_0xd2120c;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x1d8262){this['_priority']=_0x1d8262,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x15346b){this['_camera']['projection']=_0x15346b;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x4b07dd){this['_camera']['rect']=_0x4b07dd,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x47b468){_0x47b468&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(-0x940+0x2c5*0xb+-0x1537)),this['_sceneColo'+'rMapReques'+'ted']=!(0x11ba+0x12ab+-0x2465)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(-0x34*0x97+0x1d4d*0x1+0x160)),this['_sceneColo'+'rMapReques'+'ted']=!(0x9c2+-0x1e83+0x14c2));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>-0x6ca+0x1*-0x24ac+0x2b76*0x1;}set['renderScen'+'eDepthMap'](_0x567ed6){_0x567ed6&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(0x5*0x641+-0x1f42+0x3*-0x1)),this['_sceneDept'+'hMapReques'+'ted']=!(0x7e0+-0x1ce0+0x1500)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(0x2564+0x13a5+-0x3908)),this['_sceneDept'+'hMapReques'+'ted']=!(0x1931+-0x263c+-0xa7*-0x14));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>0xb14+-0x20f*0x11+0x17eb*0x1;}set['renderTarg'+'et'](_0x554d29){w['call'](()=>{this['_camera']['renderPass'+'es']['length']>0xd4c+0x1564+0x8ac*-0x4&&w['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x554d29,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x3ac062){this['_camera']['scissorRec'+'t']=_0x3ac062;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x28b7a5){this['_camera']['sensitivit'+'y']=_0x28b7a5;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0xc9c2cb){this['_camera']['shutter']=_0xc9c2cb;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x5b0874){if(this['layers']['find'](_0x6bfb83=>_0x6bfb83===ps)){const _0x740e5b=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x5b0874?_0x740e5b==null||_0x740e5b['incrementC'+'ounter']():_0x740e5b==null||_0x740e5b['decrementC'+'ounter']();}else{if(_0x5b0874)return!(-0x57*-0x2b+0xdc*-0x20+0xce4);}return!(0x3*0x85f+-0x1b80+0x263);}['requestSce'+'neColorMap'](_0x528aaf){this['_renderSce'+'neColorMap']+=_0x528aaf?0x1562+0x5*-0x27d+-0x8f0:-(0x1f45+-0x104e+-0xef6),w['assert'](this['_renderSce'+'neColorMap']>=0x16fd+0x31*0xad+-0x56*0xa7),this['_enableDep'+'thLayer'](_0x528aaf)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']),this['system']['app']['scene']['layers']['markDirty']();}['requestSce'+'neDepthMap'](_0x2a35ae){this['_renderSce'+'neDepthMap']+=_0x2a35ae?-0xdc8+0x58a+-0x83f*-0x1:-(0xa87+-0xf*0x7c+-0x342),w['assert'](this['_renderSce'+'neDepthMap']>=0x2369*0x1+0x6*0x42d+-0x3c77),this['_enableDep'+'thLayer'](_0x2a35ae)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']),this['system']['app']['scene']['layers']['markDirty']();}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x5d08f0=this['system']['app']['scene']['layers'];_0x5d08f0['_dirty']=!(0x1*0x161+-0x1a83+0x1922);}['screenToWo'+'rld'](_0x26c2f5,_0x1ee3d9,_0x64c060,_0x3c2aff){const _0x403cac=this['system']['app']['graphicsDe'+'vice'],{width:_0x5257eb,height:_0x1f1dba}=_0x403cac['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x26c2f5,_0x1ee3d9,_0x64c060,_0x5257eb,_0x1f1dba,_0x3c2aff);}['worldToScr'+'een'](_0x2f968e,_0x3fd5a2){const _0xbd4cee=this['system']['app']['graphicsDe'+'vice'],{width:_0x980d15,height:_0x2416ed}=_0xbd4cee['clientRect'];return this['_camera']['worldToScr'+'een'](_0x2f968e,_0x980d15,_0x2416ed,_0x3fd5a2);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(0x1806+-0xe3e+-0x1*0x9c8),this['_camera']['_viewProjM'+'atDirty']=!(0x31*0x3b+0x5*0x7b2+-0x31c5);}['addCameraT'+'oLayers'](){const _0x3280ad=this['layers'];for(let _0x4a664f=0x24ea+-0xff5+-0x14f5;_0x4a664f<_0x3280ad['length'];_0x4a664f++){const _0x30c35d=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x3280ad[_0x4a664f]);_0x30c35d&&_0x30c35d['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0xfae0b4=this['layers'];for(let _0x59e1d9=-0x122*0x8+0x1*0x1c3+0x10b*0x7;_0x59e1d9<_0xfae0b4['length'];_0x59e1d9++){const _0x551e79=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0xfae0b4[_0x59e1d9]);_0x551e79&&_0x551e79['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0x50281e,_0x49205a){this['addCameraT'+'oLayers'](),_0x50281e['off']('add',this['onLayerAdd'+'ed'],this),_0x50281e['off']('remove',this['onLayerRem'+'oved'],this),_0x49205a['on']('add',this['onLayerAdd'+'ed'],this),_0x49205a['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x250aed){this['layers']['indexOf'](_0x250aed['id'])<-0x1*0x263a+-0x2d*0x9e+0x16*0x300||_0x250aed['addCamera'](this);}['onLayerRem'+'oved'](_0x165e43){this['layers']['indexOf'](_0x165e43['id'])<-0x2386*0x1+-0x1d*-0xf9+-0x751*-0x1||_0x165e43['removeCame'+'ra'](this);}['onEnable'](){var _0x3fe0d0,_0xfe5da,_0x11be21;const _0x2814d9=this['system']['app']['scene'],_0x58d561=_0x2814d9['layers'];this['system']['addCamera'](this),(_0x3fe0d0=this['_evtLayers'+'Changed'])==null||_0x3fe0d0['off'](),this['_evtLayers'+'Changed']=_0x2814d9['on']('set:layers',this['onLayersCh'+'anged'],this),_0x58d561&&((_0xfe5da=this['_evtLayerA'+'dded'])==null||_0xfe5da['off'](),this['_evtLayerA'+'dded']=_0x58d561['on']('add',this['onLayerAdd'+'ed'],this),(_0x11be21=this['_evtLayerR'+'emoved'])==null||_0x11be21['off'](),this['_evtLayerR'+'emoved']=_0x58d561['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x1a8bf5,_0x58a605,_0x223ba3;const _0x2f81a8=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x1a8bf5=this['_evtLayers'+'Changed'])==null||_0x1a8bf5['off'](),this['_evtLayers'+'Changed']=null,_0x2f81a8&&((_0x58a605=this['_evtLayerA'+'dded'])==null||_0x58a605['off'](),this['_evtLayerA'+'dded']=null,(_0x223ba3=this['_evtLayerR'+'emoved'])==null||_0x223ba3['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x297647){const _0x4253e8=this['system']['app']['graphicsDe'+'vice'],_0x347715=_0x297647?_0x297647['width']:_0x4253e8['width'],_0x54a8e3=_0x297647?_0x297647['height']:_0x4253e8['height'];return _0x347715*this['rect']['z']/(_0x54a8e3*this['rect']['w']);}['frameUpdat'+'e'](_0x57695c){this['aspectRati'+'oMode']===hm&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x57695c));}['startXr'](_0xae0bee,_0xbea18a,_0x22a4a6){this['system']['app']['xr']['start'](this,_0xae0bee,_0xbea18a,_0x22a4a6);}['endXr'](_0x244ba5){if(!this['_camera']['xr']){_0x244ba5&&_0x244ba5(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x244ba5);}['copy'](_0x1a93cd){this['aperture']=_0x1a93cd['aperture'],this['aspectRati'+'o']=_0x1a93cd['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x1a93cd['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x1a93cd['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x1a93cd['calculateT'+'ransform'],this['clearColor']=_0x1a93cd['clearColor'],this['clearColor'+'Buffer']=_0x1a93cd['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x1a93cd['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x1a93cd['clearStenc'+'ilBuffer'],this['cullFaces']=_0x1a93cd['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x1a93cd['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x1a93cd['farClip'],this['flipFaces']=_0x1a93cd['flipFaces'],this['fov']=_0x1a93cd['fov'],this['frustumCul'+'ling']=_0x1a93cd['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x1a93cd['horizontal'+'Fov'],this['layers']=_0x1a93cd['layers'],this['nearClip']=_0x1a93cd['nearClip'],this['orthoHeigh'+'t']=_0x1a93cd['orthoHeigh'+'t'],this['priority']=_0x1a93cd['priority'],this['projection']=_0x1a93cd['projection'],this['rect']=_0x1a93cd['rect'],this['renderTarg'+'et']=_0x1a93cd['renderTarg'+'et'],this['scissorRec'+'t']=_0x1a93cd['scissorRec'+'t'],this['sensitivit'+'y']=_0x1a93cd['sensitivit'+'y'],this['shutter']=_0x1a93cd['shutter'];}}class vF{constructor(){this['enabled']=!(-0x2*-0xbdf+-0x1b4f+0x391);}}const p0=['enabled'];class xF extends ct{constructor(_0x259e75){super(_0x259e75),h(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=Ir,this['DataType']=vF,this['schema']=p0,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x51cca0,_0x272bd0,_0x40a921){_0x40a921=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fog','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x350a6a=-0x11*0x151+0x20c0+-0xa5f*0x1;_0x350a6a<_0x40a921['length'];_0x350a6a++){const _0x399ba6=_0x40a921[_0x350a6a];if(_0x272bd0['hasOwnProp'+'erty'](_0x399ba6)){const _0x576f28=_0x272bd0[_0x399ba6];switch(_0x399ba6){case'rect':case'scissorRec'+'t':Array['isArray'](_0x576f28)?_0x51cca0[_0x399ba6]=new re(_0x576f28[0x1cd*-0xb+-0x2547+0x3916],_0x576f28[0xf89*0x2+-0x8d*-0x9+0x6a*-0x57],_0x576f28[0x1637+-0x621*-0x1+-0x12*0x193],_0x576f28[-0x1584+-0x1*-0x19b8+-0x431]):_0x51cca0[_0x399ba6]=_0x576f28;break;case'clearColor':Array['isArray'](_0x576f28)?_0x51cca0[_0x399ba6]=new ie(_0x576f28[-0x225d+-0xf48+0x1*0x31a5],_0x576f28[0x2627*-0x1+-0x33*0x43+0xa4d*0x5],_0x576f28[-0x1*0x1532+-0xa04+0x14d*0x18],_0x576f28[-0x2623+-0x1*0x1b23+-0x4149*-0x1]):_0x51cca0[_0x399ba6]=_0x576f28;break;default:_0x51cca0[_0x399ba6]=_0x576f28;break;}}}super['initialize'+'ComponentD'+'ata'](_0x51cca0,_0x272bd0,['enabled']);}['cloneCompo'+'nent'](_0x11450b,_0x269abd){const _0x5c01b6=_0x11450b['camera'];return this['addCompone'+'nt'](_0x269abd,{'aspectRatio':_0x5c01b6['aspectRati'+'o'],'aspectRatioMode':_0x5c01b6['aspectRati'+'oMode'],'calculateProjection':_0x5c01b6['calculateP'+'rojection'],'calculateTransform':_0x5c01b6['calculateT'+'ransform'],'clearColor':_0x5c01b6['clearColor'],'clearColorBuffer':_0x5c01b6['clearColor'+'Buffer'],'clearDepthBuffer':_0x5c01b6['clearDepth'+'Buffer'],'clearStencilBuffer':_0x5c01b6['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0x5c01b6['renderScen'+'eDepthMap'],'renderSceneColorMap':_0x5c01b6['renderScen'+'eColorMap'],'cullFaces':_0x5c01b6['cullFaces'],'enabled':_0x5c01b6['enabled'],'farClip':_0x5c01b6['farClip'],'flipFaces':_0x5c01b6['flipFaces'],'fov':_0x5c01b6['fov'],'frustumCulling':_0x5c01b6['frustumCul'+'ling'],'horizontalFov':_0x5c01b6['horizontal'+'Fov'],'layers':_0x5c01b6['layers'],'renderTarget':_0x5c01b6['renderTarg'+'et'],'nearClip':_0x5c01b6['nearClip'],'orthoHeight':_0x5c01b6['orthoHeigh'+'t'],'projection':_0x5c01b6['projection'],'priority':_0x5c01b6['priority'],'rect':_0x5c01b6['rect'],'scissorRect':_0x5c01b6['scissorRec'+'t'],'aperture':_0x5c01b6['aperture'],'sensitivity':_0x5c01b6['sensitivit'+'y'],'shutter':_0x5c01b6['shutter'],'gammaCorrection':_0x5c01b6['gammaCorre'+'ction'],'toneMapping':_0x5c01b6['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x5c2cb1,_0x5d76b6){this['removeCame'+'ra'](_0x5d76b6),_0x5d76b6['onRemove']();}['onAppPrere'+'nder'](){for(let _0x5dfa71=-0x3e*0x35+0x192*0x18+-0x18da,_0x445754=this['cameras']['length'];_0x5dfa71<_0x445754;_0x5dfa71++)this['cameras'][_0x5dfa71]['onAppPrere'+'nder']();}['addCamera'](_0x13edeb){this['cameras']['push'](_0x13edeb),ul(this['cameras']);}['removeCame'+'ra'](_0x54b3e5){const _0x3677ea=this['cameras']['indexOf'](_0x54b3e5);_0x3677ea>=-0x12d7+0x1e07*-0x1+0x30de&&(this['cameras']['splice'](_0x3677ea,0x684+0x92f+-0xfb2*0x1),ul(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}we['_buildAcce'+'ssors'](Ir['prototype'],p0);class m0{constructor(){h(this,'enabled',!(-0x12f3+0x2504+-0x1*0x1211)),h(this,'light'),h(this,'type','directiona'+'l'),h(this,'color',new ie(0x1062+0x168e+0x26ef*-0x1,0x4a+-0x6b1*-0x2+-0xdab*0x1,0x3*-0x3db+0x9f2+-0x1*-0x1a0)),h(this,'intensity',-0x269d+0x75b+0x1f43),h(this,'luminance',-0x1147+-0x100c*0x2+0x315f),h(this,'shape',Ys),h(this,'affectSpec'+'ularity',!(-0xd89+-0x25*-0x35+0x178*0x4)),h(this,'castShadow'+'s',!(-0x47e*0x1+-0x6*0x668+0x1*0x2aef)),h(this,'shadowDist'+'ance',0x94+-0x1*0xdda+0x23d*0x6),h(this,'shadowInte'+'nsity',-0x265a*0x1+-0x626*0x5+0x9df*0x7),h(this,'shadowReso'+'lution',0x2*-0x12a3+0x2616+0x22*0x18),h(this,'shadowBias',0x2*-0x48d+0x1ea8+-0x158e+0.05),h(this,'numCascade'+'s',-0x759+0xa2*0x34+0x198e*-0x1),h(this,'cascadeBle'+'nd',-0x80*-0x4a+0x2379+-0x4879),h(this,'bakeNumSam'+'ples',-0x15bb+-0x5*-0x131+0xfc7),h(this,'bakeArea',-0xbcc+-0x11d7+-0x119*-0x1b),h(this,'cascadeDis'+'tribution',-0x130e+-0x49*0x1d+-0x577*-0x5+0.5),h(this,'normalOffs'+'etBias',0x2*0x3e5+0xe52+-0x161c),h(this,'range',0xe33+0x14*-0x8+-0x4d*0x2d),h(this,'innerConeA'+'ngle',0x11*0x7e+0x2*-0x1286+0x1cd6),h(this,'outerConeA'+'ngle',-0x83c*-0x2+-0x3de*0x2+0x1*-0x88f),h(this,'falloffMod'+'e',Qp),h(this,'shadowType',$s),h(this,'vsmBlurSiz'+'e',-0x171d+-0x53e+-0x2d7*-0xa),h(this,'vsmBlurMod'+'e',em),h(this,'vsmBias',(-0x165a+-0x1622+-0x49*-0x9c+0.01)*(0x107f*0x1+0x23f*-0x2+-0x7*0x1b7+0.25)),h(this,'cookieAsse'+'t',null),h(this,'cookie',null),h(this,'cookieInte'+'nsity',0x173a+0x1df0+-0x3529),h(this,'cookieFall'+'off',!(-0x125a+-0x57*-0xb+0xe9d)),h(this,'cookieChan'+'nel','rgb'),h(this,'cookieAngl'+'e',-0x205f+-0x159d+-0x2b3*-0x14),h(this,'cookieScal'+'e',null),h(this,'cookieOffs'+'et',null),h(this,'shadowUpda'+'teMode',lm),h(this,'mask',0x156d+-0x8*-0x3c9+0x19da*-0x2),h(this,'affectDyna'+'mic',!(-0x3*0x35b+-0x1061+0xa*0x2a5)),h(this,'affectLigh'+'tmapped',!(-0x97d+-0x5*-0x359+-0x73f*0x1)),h(this,'bake',!(0xb4c+-0x1*0x16c1+0xb76)),h(this,'bakeDir',!(0x25f3+-0x1e3b+0x34*-0x26)),h(this,'isStatic',!(0x1230+0x1cbf+-0x1*0x2eee)),h(this,'layers',[er]),h(this,'penumbraSi'+'ze',0x12d8+0xe41*0x2+-0x2f59),h(this,'penumbraFa'+'lloff',0x1*0x1bf5+0x1bac+-0x1*0x37a0),h(this,'shadowSamp'+'les',-0x22a1+-0x4*-0x5a+0x2149),h(this,'shadowBloc'+'kerSamples',-0x225d*0x1+-0x2*0xe2b+-0x3ec3*-0x1);}}const Ho=Object['keys'](new m0());class TF extends we{constructor(){super(...arguments),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_cookieAss'+'et',null),h(this,'_cookieAss'+'etId',null),h(this,'_cookieAss'+'etAdd',!(-0x1fe7+0x1cfc+0x2ec)),h(this,'_cookieMat'+'rix',null);}get['data'](){const _0xc32cfb=this['system']['store'][this['entity']['getGuid']()];return _0xc32cfb?_0xc32cfb['data']:null;}set['enabled'](_0x11a7c5){this['_setValue']('enabled',_0x11a7c5,function(_0xe17348,_0x28b103){this['onSetEnabl'+'ed'](null,_0x28b103,_0xe17348);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x544e90){this['_setValue']('light',_0x544e90);}get['light'](){return this['data']['light'];}set['type'](_0x5eb47c){this['_setValue']('type',_0x5eb47c,function(_0xe4a1f7,_0x38e7ee){this['system']['changeType'](this,_0x38e7ee,_0xe4a1f7),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x53c780){this['_setValue']('color',_0x53c780,function(_0x97e23d,_0x282200){this['light']['setColor'](_0x97e23d);},!(-0x5*-0x6fd+-0x9fb*-0x3+0xb*-0x5e6));}get['color'](){return this['data']['color'];}set['intensity'](_0x151e44){this['_setValue']('intensity',_0x151e44,function(_0x4a7dfb,_0xbd840){this['light']['intensity']=_0x4a7dfb;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x19c826){this['_setValue']('luminance',_0x19c826,function(_0x506c61,_0x31cc21){this['light']['luminance']=_0x506c61;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x3f52d5){this['_setValue']('shape',_0x3f52d5,function(_0x42608e,_0x3f8933){this['light']['shape']=_0x42608e;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x2ae934){this['_setValue']('affectSpec'+'ularity',_0x2ae934,function(_0x19f74a,_0x42d263){this['light']['affectSpec'+'ularity']=_0x19f74a;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x570566){this['_setValue']('castShadow'+'s',_0x570566,function(_0x1d5dc9,_0x54cf07){this['light']['castShadow'+'s']=_0x1d5dc9;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0x4607ea){this['_setValue']('shadowDist'+'ance',_0x4607ea,function(_0xc538e7,_0x1c31c7){this['light']['shadowDist'+'ance']=_0xc538e7;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x54f0f8){this['_setValue']('shadowInte'+'nsity',_0x54f0f8,function(_0x27697b,_0x213453){this['light']['shadowInte'+'nsity']=_0x27697b;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x2e600b){this['_setValue']('shadowReso'+'lution',_0x2e600b,function(_0x27792c,_0x4fcfd5){this['light']['shadowReso'+'lution']=_0x27792c;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x558c50){this['_setValue']('shadowBias',_0x558c50,function(_0x116249,_0x5aadf0){this['light']['shadowBias']=-(-0x1*0x17b9+0x18a2+-0xe9+0.01)*Y['clamp'](_0x116249,-0x15a5+-0x18e*-0x12+-0x657,-0x1*-0x14c9+-0x3af+0x1119*-0x1);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0xb3e18b){this['_setValue']('numCascade'+'s',_0xb3e18b,function(_0x3b68c4,_0x4077bd){this['light']['numCascade'+'s']=Y['clamp'](Math['floor'](_0x3b68c4),-0x1a0a+0x143*-0x3+0x1dd4,-0x523*-0x1+-0x24b3*0x1+0x1f94);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0x3ff13f){this['_setValue']('cascadeBle'+'nd',_0x3ff13f,function(_0x175ee3,_0x48f04b){this['light']['cascadeBle'+'nd']=Y['clamp'](_0x175ee3,0x2096+-0x4a2+-0x1bf4,-0x1d26+0x168+0x1bbf*0x1);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0x78d4a8){this['_setValue']('bakeNumSam'+'ples',_0x78d4a8,function(_0x3f64c2,_0x225331){this['light']['bakeNumSam'+'ples']=Y['clamp'](Math['floor'](_0x3f64c2),0x26a8+0x11ec+0x1*-0x3893,0x1c37+-0xfa+-0x2*0xd1f);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0x57e3c9){this['_setValue']('bakeArea',_0x57e3c9,function(_0x14b47b,_0x2ad97f){this['light']['bakeArea']=Y['clamp'](_0x14b47b,-0x974*-0x1+-0x1047+0x6d3*0x1,0x12d9+-0x4a0+-0xd85);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x1ba905){this['_setValue']('cascadeDis'+'tribution',_0x1ba905,function(_0x2ef221,_0x1293ee){this['light']['cascadeDis'+'tribution']=Y['clamp'](_0x2ef221,0x2551+-0x1*0x5ef+0x2*-0xfb1,-0x1*-0x141e+0xf*0xa9+0x44*-0x71);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x456f82){this['_setValue']('normalOffs'+'etBias',_0x456f82,function(_0x5881e3,_0x49009c){this['light']['normalOffs'+'etBias']=Y['clamp'](_0x5881e3,0x458+-0x1*-0x1953+-0x7*0x43d,0x9*0x392+0xfd3+-0x45c*0xb);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0x31c1cb){this['_setValue']('range',_0x31c1cb,function(_0x320ee5,_0x311c50){this['light']['attenuatio'+'nEnd']=_0x320ee5;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x10d065){this['_setValue']('innerConeA'+'ngle',_0x10d065,function(_0x192a69,_0x5e3d75){this['light']['innerConeA'+'ngle']=_0x192a69;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0x1c0800){this['_setValue']('outerConeA'+'ngle',_0x1c0800,function(_0x1fdcce,_0x43dd12){this['light']['outerConeA'+'ngle']=_0x1fdcce;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0x6fbd41){this['_setValue']('falloffMod'+'e',_0x6fbd41,function(_0x18b99a,_0x5bfb66){this['light']['falloffMod'+'e']=_0x18b99a;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x4866f5){this['_setValue']('shadowType',_0x4866f5,function(_0x2b2997,_0x216e9c){this['light']['shadowType']=_0x2b2997;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x4e53cb){this['_setValue']('vsmBlurSiz'+'e',_0x4e53cb,function(_0x9eb045,_0x233212){this['light']['vsmBlurSiz'+'e']=_0x9eb045;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x4b756d){this['_setValue']('vsmBlurMod'+'e',_0x4b756d,function(_0x2d4029,_0x1468b2){this['light']['vsmBlurMod'+'e']=_0x2d4029;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x2fdeaf){this['_setValue']('vsmBias',_0x2fdeaf,function(_0x509fc7,_0x140a2a){this['light']['vsmBias']=Y['clamp'](_0x509fc7,-0x1399+-0x2130+0x34c9,0x1*0x779+-0x27*-0xac+-0x86b*0x4);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x3230ce){this['_setValue']('cookieAsse'+'t',_0x3230ce,function(_0x7e95d4,_0x524b83){if(!(this['_cookieAss'+'etId']&&(_0x7e95d4 instanceof pe&&_0x7e95d4['id']===this['_cookieAss'+'etId']||_0x7e95d4===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x7e95d4 instanceof pe)this['data']['cookieAsse'+'t']=_0x7e95d4['id'],this['_cookieAss'+'etId']=_0x7e95d4['id'],this['onCookieAs'+'setAdd'](_0x7e95d4);else{if(typeof _0x7e95d4=='number'){this['_cookieAss'+'etId']=_0x7e95d4;const _0xc49e32=this['system']['app']['assets']['get'](_0x7e95d4);_0xc49e32?this['onCookieAs'+'setAdd'](_0xc49e32):(this['_cookieAss'+'etAdd']=!(0x1f39+-0x214d+0x214),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0x59c629){this['_setValue']('cookie',_0x59c629,function(_0x42fa14,_0x485a17){this['light']['cookie']=_0x42fa14;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x4fa73b){this['_setValue']('cookieInte'+'nsity',_0x4fa73b,function(_0x22239e,_0x12b27b){this['light']['cookieInte'+'nsity']=Y['clamp'](_0x22239e,-0x2*0xf58+-0x1*0xb4b+0x29fb,0x1*-0xac7+-0xf*-0x213+0x15b*-0xf);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x447f34){this['_setValue']('cookieFall'+'off',_0x447f34,function(_0x41dc79,_0x4557fe){this['light']['cookieFall'+'off']=_0x41dc79;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x108d46){this['_setValue']('cookieChan'+'nel',_0x108d46,function(_0x3a1b85,_0x24fa7c){this['light']['cookieChan'+'nel']=_0x3a1b85;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x55d4b4){this['_setValue']('cookieAngl'+'e',_0x55d4b4,function(_0x118d92,_0x425b37){if(_0x118d92!==0x1a4a+-0x1def+-0x3*-0x137||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());let _0x42bf07=0x159*-0x15+0x1e9c+0x1*-0x24e,_0x352bf7=-0x1377+-0x14*-0x1dc+-0x11b8;this['cookieScal'+'e']&&(_0x42bf07=this['cookieScal'+'e']['x'],_0x352bf7=this['cookieScal'+'e']['y']);const _0x5edd2c=Math['cos'](_0x118d92*Y['DEG_TO_RAD']),_0x48fb45=Math['sin'](_0x118d92*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x5edd2c/_0x42bf07,-_0x48fb45/_0x42bf07,_0x48fb45/_0x352bf7,_0x5edd2c/_0x352bf7),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x5363fd){this['_setValue']('cookieScal'+'e',_0x5363fd,function(_0x1a6af3,_0x53d6a6){if(_0x1a6af3!==null||this['cookieAngl'+'e']!==0x2428+-0x1615+-0xe13){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());const _0x208ce1=_0x1a6af3['x'],_0x37adb5=_0x1a6af3['y'],_0x3dce4c=Math['cos'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']),_0x397dee=Math['sin'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x3dce4c/_0x208ce1,-_0x397dee/_0x208ce1,_0x397dee/_0x37adb5,_0x3dce4c/_0x37adb5),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(0x91*-0x22+0x3*0x277+-0xbdd*-0x1));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0x1f524b){this['_setValue']('cookieOffs'+'et',_0x1f524b,function(_0x24eb03,_0x1defa2){this['light']['cookieOffs'+'et']=_0x24eb03;},!(-0x17fd+0x1*-0x222a+0x3a27));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x205b68){this['_setValue']('shadowUpda'+'teMode',_0x205b68,function(_0x1ed52d,_0x589eca){this['light']['shadowUpda'+'teMode']=_0x1ed52d;},!(0x4*-0x38d+-0x1b21+-0xdc7*-0x3));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0xae2473){this['_setValue']('mask',_0xae2473,function(_0x3e7dfe,_0x374dbb){this['light']['mask']=_0x3e7dfe;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x2870df){this['_setValue']('affectDyna'+'mic',_0x2870df,function(_0x40e8c2,_0x568005){_0x40e8c2?this['light']['mask']|=Ss:this['light']['mask']&=~Ss,this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x21ee7e){this['_setValue']('affectLigh'+'tmapped',_0x21ee7e,function(_0x304dd1,_0x424bd2){_0x304dd1?(this['light']['mask']|=di,this['bake']&&(this['light']['mask']&=~fi)):(this['light']['mask']&=~di,this['bake']&&(this['light']['mask']|=fi));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x55c5ba){this['_setValue']('bake',_0x55c5ba,function(_0x2fe055,_0x55f1fa){_0x2fe055?(this['light']['mask']|=fi,this['affectLigh'+'tmapped']&&(this['light']['mask']&=~di)):(this['light']['mask']&=~fi,this['affectLigh'+'tmapped']&&(this['light']['mask']|=di)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x50aa36){this['_setValue']('bakeDir',_0x50aa36,function(_0x49e156,_0x4138c2){this['light']['bakeDir']=_0x49e156;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x221c8e){this['_setValue']('isStatic',_0x221c8e,function(_0xe7f4b5,_0x46861a){this['light']['isStatic']=_0xe7f4b5;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0x58765f){this['_setValue']('layers',_0x58765f,function(_0x1a5685,_0x11b8e1){for(let _0x55ad21=0x824+0x221e+-0x2a42;_0x55ad21<_0x11b8e1['length'];_0x55ad21++){const _0x33b83c=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x11b8e1[_0x55ad21]);_0x33b83c&&(_0x33b83c['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x33b83c));}for(let _0x480d97=-0x79*-0x3e+0x2672+-0x43c0;_0x480d97<_0x1a5685['length'];_0x480d97++){const _0x5e070a=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x1a5685[_0x480d97]);_0x5e070a&&this['enabled']&&this['entity']['enabled']&&(_0x5e070a['addLight'](this),this['light']['addLayer'](_0x5e070a));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x17b6c0){this['light']['shadowUpda'+'teOverride'+'s']=_0x17b6c0;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x2f7e60){this['light']['shadowSamp'+'les']=_0x2f7e60;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x20f9af){this['light']['shadowBloc'+'kerSamples']=_0x20f9af;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0x518ed5){this['light']['penumbraSi'+'ze']=_0x518ed5;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0x1c202b){this['light']['penumbraFa'+'lloff']=_0x1c202b;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x358ea2,_0x14af8f,_0x2b2d20,_0x4197e2){const _0x5915da=this['data'],_0xe1e4bb=_0x5915da[_0x358ea2];!_0x4197e2&&_0xe1e4bb===_0x14af8f||(_0x5915da[_0x358ea2]=_0x14af8f,_0x2b2d20&&_0x2b2d20['call'](this,_0x14af8f,_0xe1e4bb));}['addLightTo'+'Layers'](){for(let _0x55cfa0=0xae5+-0x2200*0x1+-0xa9*-0x23;_0x55cfa0<this['layers']['length'];_0x55cfa0++){const _0x1e6cf1=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x55cfa0]);_0x1e6cf1&&(_0x1e6cf1['addLight'](this),this['light']['addLayer'](_0x1e6cf1));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0x3eb55e=0x1d6e*0x1+-0x2c0*-0x8+-0x336e;_0x3eb55e<this['layers']['length'];_0x3eb55e++){const _0x591f63=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x3eb55e]);_0x591f63&&(_0x591f63['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x591f63));}}['onLayersCh'+'anged'](_0x10d616,_0x172445){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x10d616['off']('add',this['onLayerAdd'+'ed'],this),_0x10d616['off']('remove',this['onLayerRem'+'oved'],this),_0x172445['on']('add',this['onLayerAdd'+'ed'],this),_0x172445['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x4230ab){this['layers']['indexOf'](_0x4230ab['id'])>=0x1*0xf5e+-0x533+-0xa2b&&this['enabled']&&this['entity']['enabled']&&(_0x4230ab['addLight'](this),this['light']['addLayer'](_0x4230ab));}['onLayerRem'+'oved'](_0xe26064){this['layers']['indexOf'](_0xe26064['id'])>=0x7*-0x50e+-0x1*-0x2aa+0x20b8&&(_0xe26064['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0xe26064));}['refreshPro'+'perties'](){for(let _0x8b9b3b=-0x3*0x789+-0x135*-0x2+-0x3*-0x6bb;_0x8b9b3b<Ho['length'];_0x8b9b3b++){const _0x1c05a7=Ho[_0x8b9b3b];this[_0x1c05a7]=this[_0x1c05a7];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x20b796=!(0x51*0x6+0x13b1+-0x1596);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(-0x74*-0xe+-0x1*-0x1388+-0x19e0),_0x20b796=!(0xdcd+0x1ee4+-0x2a1*0x11)),(!this['_cookieAss'+'et']['resource']||_0x20b796)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x3b97a6){this['_cookieAss'+'etId']===_0x3b97a6['id']&&(this['_cookieAss'+'et']=_0x3b97a6,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(0x1511+0x8af+-0x1dbf)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x52a518=this['system']['app']['scene'],_0x373393=_0x52a518['layers'];this['light']['enabled']=!(-0x1*0x5a7+-0xdfc+-0x1*-0x13a3),this['_evtLayers'+'Changed']=_0x52a518['on']('set:layers',this['onLayersCh'+'anged'],this),_0x373393&&(this['_evtLayerA'+'dded']=_0x373393['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x373393['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x5f2d60,_0xdd4f35,_0x593236;const _0x467b9f=this['system']['app']['scene']['layers'];this['light']['enabled']=!(0x1160+-0x3*-0x967+0x16ca*-0x2),(_0x5f2d60=this['_evtLayers'+'Changed'])==null||_0x5f2d60['off'](),this['_evtLayers'+'Changed']=null,_0x467b9f&&((_0xdd4f35=this['_evtLayerA'+'dded'])==null||_0xdd4f35['off'](),this['_evtLayerA'+'dded']=null,(_0x593236=this['_evtLayerR'+'emoved'])==null||_0x593236['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class wF extends ct{constructor(_0x1ce7b7){super(_0x1ce7b7),this['id']='light',this['ComponentT'+'ype']=TF,this['DataType']=m0,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x961aa0,_0x58dfc1){const _0x5e0865={..._0x58dfc1};_0x5e0865['type']||(_0x5e0865['type']=_0x961aa0['data']['type']),_0x961aa0['data']['type']=_0x5e0865['type'],_0x5e0865['layers']&&Array['isArray'](_0x5e0865['layers'])&&(_0x5e0865['layers']=_0x5e0865['layers']['slice'](-0x41+-0x187a+0xd*0x1e7)),_0x5e0865['color']&&Array['isArray'](_0x5e0865['color'])&&(_0x5e0865['color']=new ie(_0x5e0865['color'][0x1*-0x2014+-0x7a7+-0x5ad*-0x7],_0x5e0865['color'][-0x21f3+-0x55f+0x2753],_0x5e0865['color'][-0x24c5+0x225d+0x26a])),_0x5e0865['cookieOffs'+'et']&&_0x5e0865['cookieOffs'+'et']instanceof Array&&(_0x5e0865['cookieOffs'+'et']=new J(_0x5e0865['cookieOffs'+'et'][-0x1be9+0x9*0xbf+0x2*0xa99],_0x5e0865['cookieOffs'+'et'][0x1821+0xd4a+0x12b5*-0x2])),_0x5e0865['cookieScal'+'e']&&_0x5e0865['cookieScal'+'e']instanceof Array&&(_0x5e0865['cookieScal'+'e']=new J(_0x5e0865['cookieScal'+'e'][-0x10ee+-0x1e85+0x2f73],_0x5e0865['cookieScal'+'e'][0x1*0x45d+0x1e0*0x9+-0x153c])),_0x5e0865['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x5e0865['enabled']=_0x5e0865['enable']),_0x5e0865['shape']||(_0x5e0865['shape']=Ys);const _0x3555f4=new pl(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x3555f4['type']=fu[_0x5e0865['type']],_0x3555f4['_node']=_0x961aa0['entity'],_0x961aa0['data']['light']=_0x3555f4,super['initialize'+'ComponentD'+'ata'](_0x961aa0,_0x5e0865,Ho);}['_onRemoveC'+'omponent'](_0x15572b,_0x4bbb7a){_0x4bbb7a['onRemove']();}['cloneCompo'+'nent'](_0x17eae4,_0x17302d){const _0x50281f=_0x17eae4['light'],_0x4a386a=[];let _0x361e8d;for(let _0x1eb618=-0x487*0x1+-0x63e+0xac5;_0x1eb618<Ho['length'];_0x1eb618++)_0x361e8d=Ho[_0x1eb618],_0x361e8d!=='light'&&(_0x50281f[_0x361e8d]&&_0x50281f[_0x361e8d]['clone']?_0x4a386a[_0x361e8d]=_0x50281f[_0x361e8d]['clone']():_0x4a386a[_0x361e8d]=_0x50281f[_0x361e8d]);return this['addCompone'+'nt'](_0x17302d,_0x4a386a);}['changeType'](_0x339937,_0x43a356,_0x46e9a9){_0x43a356!==_0x46e9a9&&(_0x339937['light']['type']=fu[_0x46e9a9]);}}const EF=['x','y','z','w'],bF=[void(0x821*0x4+0x6c8+-0x274c),void(0xc*0x2a6+0x2375+-0x433d),J,D,re];function Yn(_0x586918,_0x5279c8,_0x24dae1,_0x524819){switch(_0x5279c8['type']){case'boolean':return!!_0x24dae1;case'number':if(typeof _0x24dae1=='number')return _0x24dae1;if(typeof _0x24dae1=='string'){const _0x6a46b1=parseInt(_0x24dae1,0x2*0x71f+0x47*-0x5b+-0x71*-0x19);return isNaN(_0x6a46b1)?null:_0x6a46b1;}else{if(typeof _0x24dae1=='boolean')return-0x146*0x13+-0x7b*0x3a+0x3410+_0x24dae1;}return null;case'json':{const _0x539297={};if(Array['isArray'](_0x5279c8['schema'])){(!_0x24dae1||typeof _0x24dae1!='object')&&(_0x24dae1={});for(let _0x1a688b=0xc3c+0x147+0x3*-0x481;_0x1a688b<_0x5279c8['schema']['length'];_0x1a688b++){const _0x5d338a=_0x5279c8['schema'][_0x1a688b];if(_0x5d338a['name']){if(_0x5d338a['array']){_0x539297[_0x5d338a['name']]=[];const _0x332ae5=Array['isArray'](_0x24dae1[_0x5d338a['name']])?_0x24dae1[_0x5d338a['name']]:[];for(let _0x4a5784=0x353+-0xf90*-0x2+0x2273*-0x1;_0x4a5784<_0x332ae5['length'];_0x4a5784++)_0x539297[_0x5d338a['name']]['push'](Yn(_0x586918,_0x5d338a,_0x332ae5[_0x4a5784]));}else{const _0x5ab37d=_0x24dae1['hasOwnProp'+'erty'](_0x5d338a['name'])?_0x24dae1[_0x5d338a['name']]:_0x5d338a['default'];_0x539297[_0x5d338a['name']]=Yn(_0x586918,_0x5d338a,_0x5ab37d);}}}}return _0x539297;}case'asset':return _0x24dae1 instanceof pe?_0x24dae1:typeof _0x24dae1=='number'?_0x586918['assets']['get'](_0x24dae1)||null:typeof _0x24dae1=='string'&&_0x586918['assets']['get'](parseInt(_0x24dae1,-0x2*-0x1f3+-0x2*0x1344+-0x13d*-0x1c))||null;case'entity':return _0x24dae1 instanceof Ie?_0x24dae1:typeof _0x24dae1=='string'?_0x586918['getEntityF'+'romIndex'](_0x24dae1):null;case'rgb':case'rgba':if(_0x24dae1 instanceof ie)return _0x524819 instanceof ie?(_0x524819['copy'](_0x24dae1),_0x524819):_0x24dae1['clone']();if(_0x24dae1 instanceof Array&&_0x24dae1['length']>=0x3*-0x551+-0x13*0x152+0x290c&&_0x24dae1['length']<=-0x20*0x112+0x2bb*-0xa+0x3d92){for(let _0x326c55=-0x2*-0x606+-0x1*0xb1b+-0xf1;_0x326c55<_0x24dae1['length'];_0x326c55++)if(typeof _0x24dae1[_0x326c55]!='number')return null;return _0x524819||(_0x524819=new ie()),_0x524819['r']=_0x24dae1[0x1*0xd21+0x1*-0xa3b+-0x2e6],_0x524819['g']=_0x24dae1[0x44a+0x19c*0xe+-0x1*0x1ad1],_0x524819['b']=_0x24dae1[0x2405+-0x2f*-0x37+-0x34*0xe3],_0x524819['a']=_0x24dae1['length']===-0x4*-0xee+-0x1495+-0x10*-0x10e?-0x32*-0x52+-0x20b*-0x1+-0x120e:_0x24dae1[0x281*-0x4+-0x13fd+-0x1c4*-0x11],_0x524819;}else{if(typeof _0x24dae1=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x24dae1))return _0x524819||(_0x524819=new ie()),_0x524819['fromString'](_0x24dae1),_0x524819;}return null;case'vec2':case'vec3':case'vec4':{const _0x58b4dc=parseInt(_0x5279c8['type']['slice'](-0x8fa+0x1*0x13ed+-0xaf0),-0x1*0x1093+0x356*0x2+0x9f1),_0x5e08a0=bF[_0x58b4dc];if(_0x24dae1 instanceof _0x5e08a0)return _0x524819 instanceof _0x5e08a0?(_0x524819['copy'](_0x24dae1),_0x524819):_0x24dae1['clone']();if(_0x24dae1 instanceof Array&&_0x24dae1['length']===_0x58b4dc){for(let _0x4ada31=0x1a16+-0xf04+-0x1a*0x6d;_0x4ada31<_0x24dae1['length'];_0x4ada31++)if(typeof _0x24dae1[_0x4ada31]!='number')return null;_0x524819||(_0x524819=new _0x5e08a0());for(let _0x21ce27=0x48b*0x2+-0xe0*0x2+0x756*-0x1;_0x21ce27<_0x58b4dc;_0x21ce27++)_0x524819[EF[_0x21ce27]]=_0x24dae1[_0x21ce27];return _0x524819;}return null;}case'curve':if(_0x24dae1){let _0x7f9533;if(_0x24dae1 instanceof qs||_0x24dae1 instanceof na)_0x7f9533=_0x24dae1['clone']();else{const _0x3cb5d3=_0x24dae1['keys'][-0x45b*-0x6+-0x1aa4+-0x82*-0x1]instanceof Array?na:qs;_0x7f9533=new _0x3cb5d3(_0x24dae1['keys']),_0x7f9533['type']=_0x24dae1['type'];}return _0x7f9533;}break;}return _0x24dae1;}function _0(_0x1f861b,_0x30d00c,_0x5476cd,_0x1b34b1){return _0x30d00c['array']?_0x5476cd['map']((_0x13800c,_0x1112ab)=>Yn(_0x1f861b,_0x30d00c,_0x13800c,_0x1b34b1?_0x1b34b1[_0x1112ab]:null)):Yn(_0x1f861b,_0x30d00c,_0x5476cd,_0x1b34b1);}function g0(_0x247238,_0x3d1c6a,_0x27372c,_0x592341){if(_0x27372c)for(const _0xfdbe71 in _0x3d1c6a){const _0x4f73aa=_0x3d1c6a[_0xfdbe71],_0xef072=_0x27372c[_0xfdbe71];_0xef072!==void(0x88*-0x31+0x23*0x17+0x16e3)&&(_0x592341[_0xfdbe71]=_0(_0x247238,_0x4f73aa,_0xef072,_0x592341[_0xfdbe71]));}}const yn=class yn{constructor(_0x2a9dff){this['scriptType']=_0x2a9dff,this['index']={};}['add'](_0x47de41,_0x1b2025){if(this['index'][_0x47de41]){w['warn']('attribute\x20'+'\x27'+_0x47de41+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(yn['reservedNa'+'mes']['has'](_0x47de41)){w['warn']('attribute\x20'+'\x27'+_0x47de41+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x47de41]=_0x1b2025,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x47de41,{'get':function(){return this['__attribut'+'es'][_0x47de41];},'set':function(_0x35cfa1){const _0x5dc43b='attr',_0x3fca7c='attr:'+_0x47de41,_0xe549f=this['__attribut'+'es'][_0x47de41];let _0x2f8c82=_0xe549f;if(_0xe549f&&_0x1b2025['type']!=='json'&&_0x1b2025['type']!=='entity'&&_0xe549f['clone']&&(this['hasEvent'](_0x5dc43b)||this['hasEvent'](_0x3fca7c))&&(_0x2f8c82=_0xe549f['clone']()),_0x1b2025['array']){if(this['__attribut'+'es'][_0x47de41]=[],_0x35cfa1){for(let _0x1b5158=-0x1666+0x6*0x2f5+0x4a8,_0x55e76a=_0x35cfa1['length'];_0x1b5158<_0x55e76a;_0x1b5158++)this['__attribut'+'es'][_0x47de41]['push'](Yn(this['app'],_0x1b2025,_0x35cfa1[_0x1b5158],_0xe549f?_0xe549f[_0x1b5158]:null));}}else this['__attribut'+'es'][_0x47de41]=Yn(this['app'],_0x1b2025,_0x35cfa1,_0xe549f);this['fire'](_0x5dc43b,_0x47de41,this['__attribut'+'es'][_0x47de41],_0x2f8c82),this['fire'](_0x3fca7c,this['__attribut'+'es'][_0x47de41],_0x2f8c82);}});}['remove'](_0x3251bc){return this['index'][_0x3251bc]?(delete this['index'][_0x3251bc],delete this['scriptType']['prototype'][_0x3251bc],!(0x2*0xfa3+0x9*0x32e+-0x3be4)):!(-0x19*0x117+-0x2*-0x88a+0x15*0x7c);}['has'](_0xa5cb7b){return!!this['index'][_0xa5cb7b];}['get'](_0x151030){return this['index'][_0x151030]||null;}};h(yn,'assignAttr'+'ibutesToSc'+'ript',g0),h(yn,'attributeT'+'oValue',_0),h(yn,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Sl=yn;const Bu='initialize',zu='postInitia'+'lize',AF='update',CF='postUpdate',PF='swap';class ts extends me{constructor(_0x565a02){super(),h(this,'app'),h(this,'entity'),h(this,'_enabled'),h(this,'_enabledOl'+'d'),h(this,'_initializ'+'ed'),h(this,'_postIniti'+'alized'),h(this,'__destroye'+'d'),h(this,'__scriptTy'+'pe'),h(this,'__executio'+'nOrder'),this['initScript'](_0x565a02);}set['enabled'](_0x8454ea){this['_enabled']=!!_0x8454ea,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(0x52*0x52+-0x2230+0x7ec),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,Bu)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(-0x2*0xfaf+0x3*-0x392+0x2*0x150a),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,zu)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0xc95ecc){const _0x1337f1=this['constructo'+'r'];w['assert'](_0xc95ecc&&_0xc95ecc['app']&&_0xc95ecc['entity'],'script\x20['+_0x1337f1['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0xc95ecc['app'],this['entity']=_0xc95ecc['entity'],this['_enabled']=typeof _0xc95ecc['enabled']=='boolean'?_0xc95ecc['enabled']:!(-0x94d+0x78b+0x1c2),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(-0x3f4+0x5*0x2c7+-0x9ee),this['__scriptTy'+'pe']=_0x1337f1,this['__executio'+'nOrder']=-(-0x18b6+-0x16e0+0x2f97);}static get['scriptName'](){return this['__name'];}}h(ts,'EVENT_ENAB'+'LE','enable'),h(ts,'EVENT_DISA'+'BLE','disable'),h(ts,'EVENT_STAT'+'E','state'),h(ts,'EVENT_DEST'+'ROY','destroy'),h(ts,'EVENT_ATTR','attr'),h(ts,'EVENT_ERRO'+'R','error'),h(ts,'__name',null),h(ts,'__getScrip'+'tName',S0);const MF=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function S0(_0x5c6cab){if(typeof _0x5c6cab!='function')return;if(_0x5c6cab['scriptName'])return _0x5c6cab['scriptName'];if('name'in Function['prototype'])return _0x5c6cab['name'];if(_0x5c6cab===Function||_0x5c6cab===Function['prototype']['constructo'+'r'])return'Function';const _0x31b3c6=(''+_0x5c6cab)['match'](MF);return _0x31b3c6?_0x31b3c6[0x1e*-0xce+-0x1*0x12c1+0x2ae6]:void(0x1169*0x1+-0x60a*-0x2+-0x1d7d);}class Wo extends ts{constructor(_0x459703){super(_0x459703),h(this,'__attribut'+'es'),h(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x459703);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Sl(this)),this['__attribut'+'es'];}['initScript'](_0x486743){ts['prototype']['initScript']['call'](this,_0x486743),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x486743['attributes']||{};}['initScript'+'Type'](_0x12a838){this['initScript'](_0x12a838);}['__initiali'+'zeAttribut'+'es'](_0x8186b4){if(!(!_0x8186b4&&!this['__attribut'+'esRaw'])){for(const _0x5bf4f2 in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x5bf4f2)?this[_0x5bf4f2]=this['__attribut'+'esRaw'][_0x5bf4f2]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x5bf4f2)||(this['__scriptTy'+'pe']['attributes']['index'][_0x5bf4f2]['hasOwnProp'+'erty']('default')?this[_0x5bf4f2]=this['__scriptTy'+'pe']['attributes']['index'][_0x5bf4f2]['default']:this[_0x5bf4f2]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0x1e0a0a){for(const _0x208d5b in _0x1e0a0a)_0x1e0a0a['hasOwnProp'+'erty'](_0x208d5b)&&(this['prototype'][_0x208d5b]=_0x1e0a0a[_0x208d5b]);}}const DF=_0x4e464d=>_0x4e464d[0x11*0xc5+-0xd3*-0x1d+-0x3*0xc54]['toLowerCas'+'e']()+_0x4e464d['substring'](0x201d+0x1df1+-0x3e0d);class Ii extends we{constructor(_0xeb02db,_0x592b0f){super(_0xeb02db,_0x592b0f),h(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new oh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new oh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(0xe5*-0x1a+0x317*-0x7+0x152*0x22),this['_scriptsDa'+'ta']=null,this['_oldState']=!(-0x1*0xc1f+-0x1d*0x40+0x135f),this['_enabled']=!(0x588+-0x1*0x126a+0xce2),this['_beingEnab'+'led']=!(-0x435*-0x1+-0xd01*0x1+0x8cd*0x1),this['_isLooping'+'ThroughScr'+'ipts']=!(0x17eb+-0x1552+-0x298),this['_execution'+'Order']=-(0x1*-0x1c4b+-0x646+0x2*0x1149),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x37f43b){this['_scriptsDa'+'ta']=_0x37f43b;for(const _0x516035 in _0x37f43b){if(!_0x37f43b['hasOwnProp'+'erty'](_0x516035))continue;const _0x4f804b=this['_scriptsIn'+'dex'][_0x516035];if(_0x4f804b){if(typeof _0x37f43b[_0x516035]['enabled']=='boolean'&&(_0x4f804b['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x4f804b);}),_0x4f804b['enabled']=!!_0x37f43b[_0x516035]['enabled']),typeof _0x37f43b[_0x516035]['attributes']=='object'){for(const _0x456081 in _0x37f43b[_0x516035]['attributes'])if(!Sl['reservedNa'+'mes']['has'](_0x456081)){if(!_0x4f804b['__attribut'+'es']['hasOwnProp'+'erty'](_0x456081)){const _0x22ec7b=this['system']['app']['scripts']['get'](_0x516035);_0x22ec7b&&_0x22ec7b['attributes']['add'](_0x456081,{});}_0x4f804b[_0x456081]=_0x37f43b[_0x516035]['attributes'][_0x456081];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x3ff667){const _0x41d64d=this['_enabled'];this['_enabled']=_0x3ff667,this['fire']('set','enabled',_0x41d64d,_0x3ff667);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(-0x7*0x3c6+0x1a*-0xd9+0x3074),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(-0x22a*0xb+-0x1*0x799+0x43*0x78);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x427559=this['_beginLoop'+'ing']();for(let _0xd5b818=0x1676+0x2006+0x2c*-0x13d,_0x1978f6=this['scripts']['length'];_0xd5b818<_0x1978f6;_0xd5b818++){const _0x523c93=this['scripts'][_0xd5b818];_0x523c93['_initializ'+'ed']&&!_0x523c93['_postIniti'+'alized']&&_0x523c93['enabled']&&(_0x523c93['_postIniti'+'alized']=!(-0x59c+0x5*0x503+-0xd*0x17f),_0x523c93['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x523c93,zu));}this['_endLoopin'+'g'](_0x427559);}['_beginLoop'+'ing'](){const _0x105547=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(-0x5ab*-0x6+-0x11d1+-0x1031),_0x105547;}['_endLoopin'+'g'](_0x49c5a8){this['_isLooping'+'ThroughScr'+'ipts']=_0x49c5a8,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0x173fce,_0x51ce7f,_0x2a7533){this['_beingEnab'+'led']=!(0x2*0x8f1+-0x8f7+-0x8eb),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(0x1b9b*0x1+-0x1e29+0x28f);}['_checkStat'+'e'](){const _0x39b922=this['enabled']&&this['entity']['enabled'];if(_0x39b922===this['_oldState'])return;this['_oldState']=_0x39b922,this['fire'](_0x39b922?'enable':'disable'),this['fire']('state',_0x39b922),_0x39b922?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x7e36f1=this['_beginLoop'+'ing']();for(let _0xa5f430=-0x91d+-0x1*-0xb51+-0x234,_0x3b2dbb=this['scripts']['length'];_0xa5f430<_0x3b2dbb;_0xa5f430++){const _0x8e93c2=this['scripts'][_0xa5f430];_0x8e93c2['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x8e93c2);}),_0x8e93c2['enabled']=_0x8e93c2['_enabled'];}this['_endLoopin'+'g'](_0x7e36f1);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x3c167d=this['_beginLoop'+'ing']();for(let _0x13e69e=-0x45c+-0x343+0x79f;_0x13e69e<this['scripts']['length'];_0x13e69e++){const _0x1c63ae=this['scripts'][_0x13e69e];_0x1c63ae&&this['destroy'](_0x1c63ae['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x3c167d);}['_removeDes'+'troyedScri'+'pts'](){const _0x5b2cc5=this['_destroyed'+'Scripts']['length'];if(_0x5b2cc5){for(let _0x53bfba=-0x107f*0x1+0x1*-0x20ab+0x312a;_0x53bfba<_0x5b2cc5;_0x53bfba++){const _0x313da8=this['_destroyed'+'Scripts'][_0x53bfba];this['_removeScr'+'iptInstanc'+'e'](_0x313da8);}this['_destroyed'+'Scripts']['length']=0x3a9*0x1+0xe33*0x2+-0x1*0x200f,this['_resetExec'+'utionOrder'](-0xd80*-0x1+0x24b2*0x1+0x19*-0x202,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x1901fb=0x8*-0x324+-0x1*0xd3b+0x265b,_0x9be7dd=this['scripts']['length'];_0x1901fb<_0x9be7dd;_0x1901fb++){const _0x1e5682=this['scripts'][_0x1901fb];this['initialize'+'Attributes'](_0x1e5682);}}['initialize'+'Attributes'](_0x31db53){var _0x145179;if(_0x31db53 instanceof Wo)_0x31db53['__initiali'+'zeAttribut'+'es']();else{const _0x3d0dc7=_0x31db53['__scriptTy'+'pe']['__name'],_0x32f30e=this['_attribute'+'DataMap']['get'](_0x3d0dc7);if(!_0x32f30e)return;const _0x58b0e2=(_0x145179=this['system']['app']['scripts'])==null?void(0x1bf7+0x1*-0xefd+-0xcfa):_0x145179['getSchema'](_0x3d0dc7);_0x58b0e2||w['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x3d0dc7+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),g0(this['system']['app'],_0x58b0e2['attributes'],_0x32f30e,_0x31db53);}}['_scriptMet'+'hod'](_0x48c750,_0x10b35b,_0x5c8a21){try{_0x48c750[_0x10b35b](_0x5c8a21);}catch(_0x1388bc){_0x48c750['enabled']=!(0x50+-0xeb1+0xe62),_0x48c750['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x10b35b+'\x22\x20for\x20\x22'+_0x48c750['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x1388bc),console['error'](_0x1388bc)),_0x48c750['fire']('error',_0x1388bc,_0x10b35b),this['fire']('error',_0x48c750,_0x1388bc,_0x10b35b);}}['_onInitial'+'ize'](){const _0x2c5bef=this['_scripts'],_0x4bb56d=this['_beginLoop'+'ing']();for(let _0x38006f=-0x1*-0x2ea+-0x12*0x8f+0x724,_0x3e4f0a=_0x2c5bef['length'];_0x38006f<_0x3e4f0a;_0x38006f++){const _0x3b18ba=_0x2c5bef[_0x38006f];!_0x3b18ba['_initializ'+'ed']&&_0x3b18ba['enabled']&&(_0x3b18ba['_initializ'+'ed']=!(0x1*-0x16dd+0x1+-0x1a2*-0xe),_0x3b18ba['initialize']&&this['_scriptMet'+'hod'](_0x3b18ba,Bu));}this['_endLoopin'+'g'](_0x4bb56d);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0xb0985d){const _0x2fb9a7=this['_updateLis'+'t'];if(!_0x2fb9a7['length'])return;const _0x25ef4=this['_beginLoop'+'ing']();for(_0x2fb9a7['loopIndex']=-0x1bb*-0x2+0xa98*-0x1+0x722;_0x2fb9a7['loopIndex']<_0x2fb9a7['length'];_0x2fb9a7['loopIndex']++){const _0x10da1f=_0x2fb9a7['items'][_0x2fb9a7['loopIndex']];_0x10da1f['enabled']&&this['_scriptMet'+'hod'](_0x10da1f,AF,_0xb0985d);}this['_endLoopin'+'g'](_0x25ef4);}['_onPostUpd'+'ate'](_0x210171){const _0x1c86b0=this['_postUpdat'+'eList'];if(!_0x1c86b0['length'])return;const _0x3415a0=this['_beginLoop'+'ing']();for(_0x1c86b0['loopIndex']=0x150d+0x1*-0x3dd+0x190*-0xb;_0x1c86b0['loopIndex']<_0x1c86b0['length'];_0x1c86b0['loopIndex']++){const _0x354616=_0x1c86b0['items'][_0x1c86b0['loopIndex']];_0x354616['enabled']&&this['_scriptMet'+'hod'](_0x354616,CF,_0x210171);}this['_endLoopin'+'g'](_0x3415a0);}['_insertScr'+'iptInstanc'+'e'](_0x32184c,_0x1bfab3,_0x5b6abf){_0x1bfab3===-(-0x13f0+-0x10dd+0x24ce)?(this['_scripts']['push'](_0x32184c),_0x32184c['__executio'+'nOrder']=_0x5b6abf,_0x32184c['update']&&this['_updateLis'+'t']['append'](_0x32184c),_0x32184c['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x32184c)):(this['_scripts']['splice'](_0x1bfab3,0x1fd6+-0x4cc*-0x6+-0x3c9e,_0x32184c),_0x32184c['__executio'+'nOrder']=_0x1bfab3,this['_resetExec'+'utionOrder'](_0x1bfab3+(0x10c9+-0xfb0+-0x118),_0x5b6abf+(-0x20ff*-0x1+0x8b*-0x29+-0xabb)),_0x32184c['update']&&this['_updateLis'+'t']['insert'](_0x32184c),_0x32184c['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x32184c));}['_removeScr'+'iptInstanc'+'e'](_0x188459){const _0x20a367=this['_scripts']['indexOf'](_0x188459);return _0x20a367===-(0xefe*-0x2+-0x116+0x1f13)||(this['_scripts']['splice'](_0x20a367,0x15b9+-0x1e94+0x8dc),_0x188459['update']&&this['_updateLis'+'t']['remove'](_0x188459),_0x188459['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x188459)),_0x20a367;}['_resetExec'+'utionOrder'](_0x2e63e9,_0x4dd5ab){for(let _0x5a295a=_0x2e63e9;_0x5a295a<_0x4dd5ab;_0x5a295a++)this['_scripts'][_0x5a295a]['__executio'+'nOrder']=_0x5a295a;}['_resolveEn'+'tityScript'+'Attribute'](_0x4ba91a,_0x21614c,_0x1b7b57,_0x1f7fe4,_0xe131dc,_0x1bbb70){if(_0x4ba91a['array']){const _0x5407f2=_0x1b7b57['length'];if(!_0x5407f2)return;const _0x4f724b=_0x1b7b57['slice']();for(let _0x27d831=0x1e53+-0x163a+-0x819;_0x27d831<_0x5407f2;_0x27d831++){const _0x261c4a=_0x4f724b[_0x27d831]instanceof lt?_0x4f724b[_0x27d831]['getGuid']():_0x4f724b[_0x27d831];_0x1bbb70[_0x261c4a]&&(_0x4f724b[_0x27d831]=_0x1f7fe4?_0x1bbb70[_0x261c4a]['getGuid']():_0x1bbb70[_0x261c4a]);}_0xe131dc[_0x21614c]=_0x4f724b;}else{if(_0x1b7b57 instanceof lt)_0x1b7b57=_0x1b7b57['getGuid']();else{if(typeof _0x1b7b57!='string')return;}_0x1bbb70[_0x1b7b57]&&(_0xe131dc[_0x21614c]=_0x1bbb70[_0x1b7b57]);}}['has'](_0x27370d){if(typeof _0x27370d=='string')return!!this['_scriptsIn'+'dex'][_0x27370d];if(!_0x27370d)return!(0x1c6*0x5+-0x237+-0x353*0x2);const _0x453307=_0x27370d,_0x133a3a=_0x453307['__name'],_0x443572=this['_scriptsIn'+'dex'][_0x133a3a];return(_0x443572&&_0x443572['instance'])instanceof _0x453307;}['get'](_0x2bce2b){if(typeof _0x2bce2b=='string'){const _0xcb3aba=this['_scriptsIn'+'dex'][_0x2bce2b];return _0xcb3aba?_0xcb3aba['instance']:null;}if(!_0x2bce2b)return null;const _0x1e4942=_0x2bce2b,_0x5a4575=_0x1e4942['__name'],_0x28b07a=this['_scriptsIn'+'dex'][_0x5a4575],_0x18af69=_0x28b07a&&_0x28b07a['instance'];return _0x18af69 instanceof _0x1e4942?_0x18af69:null;}['create'](_0x10ba2b,_0x37c8ab={}){const _0x1f67e0=this;let _0x57103b=_0x10ba2b,_0x36edf8=_0x10ba2b;if(typeof _0x57103b=='string')_0x57103b=this['system']['app']['scripts']['get'](_0x57103b);else{if(_0x57103b){const _0xed92bc=S0(_0x57103b),_0x1273ac=DF(_0xed92bc);!(_0x57103b['prototype']instanceof Wo)&&!_0x57103b['scriptName']&&w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0xed92bc+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0xed92bc+('.scriptNam'+'e\x20=\x20\x22')+_0x1273ac+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.')),_0x57103b['__name']??(_0x57103b['__name']=_0x57103b['scriptName']??_0x1273ac),_0x36edf8=_0x57103b['__name'];}}if(_0x57103b){if(!this['_scriptsIn'+'dex'][_0x36edf8]||!this['_scriptsIn'+'dex'][_0x36edf8]['instance']){const _0x330068=new _0x57103b({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x37c8ab['hasOwnProp'+'erty']('enabled')?_0x37c8ab['enabled']:!(0x223c+-0xb*-0xf+-0x22e1),'attributes':_0x37c8ab['attributes']||{}});_0x37c8ab['properties']&&typeof _0x37c8ab['properties']=='object'&&Object['assign'](_0x330068,_0x37c8ab['properties']),_0x330068 instanceof Wo||this['_attribute'+'DataMap']['set'](_0x36edf8,_0x37c8ab['attributes']);const _0x134847=this['_scripts']['length'];let _0x1272b7=-(-0x1*0x2485+-0x1fa2*-0x1+0x4e4);return typeof _0x37c8ab['ind']=='number'&&_0x37c8ab['ind']!==-(0xece+-0x21cf+-0x1302*-0x1)&&_0x134847>_0x37c8ab['ind']&&(_0x1272b7=_0x37c8ab['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x330068,_0x1272b7,_0x134847),this['_scriptsIn'+'dex'][_0x36edf8]={'instance':_0x330068,'onSwap':function(){_0x1f67e0['swap'](_0x36edf8);}},this[_0x36edf8]=_0x330068,_0x37c8ab['preloading']||this['initialize'+'Attributes'](_0x330068),this['fire']('create',_0x36edf8,_0x330068),this['fire']('create:'+_0x36edf8,_0x330068),this['system']['app']['scripts']['on']('swap:'+_0x36edf8,this['_scriptsIn'+'dex'][_0x36edf8]['onSwap']),_0x37c8ab['preloading']||(_0x330068['enabled']&&!_0x330068['_initializ'+'ed']&&(_0x330068['_initializ'+'ed']=!(0x874*0x1+0x16a6+0x1f1a*-0x1),_0x330068['initialize']&&this['_scriptMet'+'hod'](_0x330068,Bu)),_0x330068['enabled']&&!_0x330068['_postIniti'+'alized']&&(_0x330068['_postIniti'+'alized']=!(0x669*0x1+0x1b48+-0xb3b*0x3),_0x330068['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x330068,zu))),_0x330068;}w['warn']('script\x20\x27'+_0x36edf8+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x36edf8]={'awaiting':!(-0x2e8+-0x7*-0x58f+0x2c5*-0xd),'ind':this['_scripts']['length']},w['warn']('script\x20\x27'+_0x36edf8+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x35a0d2){let _0x3bdcdc=_0x35a0d2,_0x57d17e=_0x35a0d2;typeof _0x57d17e=='string'?_0x57d17e=this['system']['app']['scripts']['get'](_0x57d17e):_0x57d17e&&(_0x3bdcdc=_0x57d17e['__name']);const _0x258c2d=this['_scriptsIn'+'dex'][_0x3bdcdc];if(delete this['_scriptsIn'+'dex'][_0x3bdcdc],!_0x258c2d)return!(0x11d2*0x2+0x359*-0x3+-0x1998);this['_attribute'+'DataMap']['delete'](_0x3bdcdc);const _0x598f07=_0x258c2d['instance'];if(_0x598f07&&!_0x598f07['_destroyed']){if(_0x598f07['enabled']=!(0x1ab3*-0x1+-0x2147+0x53*0xb9),_0x598f07['_destroyed']=!(0x6*-0x33a+-0x1e1a+0x3176),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x598f07);else{const _0x27aae0=this['_removeScr'+'iptInstanc'+'e'](_0x598f07);_0x27aae0>=0x625+0x331*-0x8+0x1363*0x1&&this['_resetExec'+'utionOrder'](_0x27aae0,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x3bdcdc,_0x258c2d['onSwap']),delete this[_0x3bdcdc],this['fire']('destroy',_0x3bdcdc,_0x598f07||null),this['fire']('destroy:'+_0x3bdcdc,_0x598f07||null),_0x598f07&&_0x598f07['fire']('destroy'),!(-0x21*0x9a+0x1c75+-0x89b);}['swap'](_0x33590c){let _0xf5c855=_0x33590c,_0x43c3e3=_0x33590c;typeof _0x43c3e3=='string'?_0x43c3e3=this['system']['app']['scripts']['get'](_0x43c3e3):_0x43c3e3&&(_0xf5c855=_0x43c3e3['__name']);const _0x31aa93=this['_scriptsIn'+'dex'][_0xf5c855];if(!_0x31aa93||!_0x31aa93['instance'])return!(0x1*-0x14ad+0x6e2*0x1+0xdcc);const _0x58e40c=_0x31aa93['instance'],_0x3bdb2c=this['_scripts']['indexOf'](_0x58e40c),_0x4d5889=new _0x43c3e3({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x58e40c['enabled'],'attributes':_0x58e40c['__attribut'+'es']});return _0x4d5889['swap']?(this['initialize'+'Attributes'](_0x4d5889),this['_scripts'][_0x3bdb2c]=_0x4d5889,this['_scriptsIn'+'dex'][_0xf5c855]['instance']=_0x4d5889,this[_0xf5c855]=_0x4d5889,_0x4d5889['__executio'+'nOrder']=_0x3bdb2c,_0x58e40c['update']&&this['_updateLis'+'t']['remove'](_0x58e40c),_0x58e40c['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x58e40c),_0x4d5889['update']&&this['_updateLis'+'t']['insert'](_0x4d5889),_0x4d5889['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x4d5889),this['_scriptMet'+'hod'](_0x4d5889,PF,_0x58e40c),this['fire']('swap',_0xf5c855,_0x4d5889),this['fire']('swap:'+_0xf5c855,_0x4d5889),!(0x14ed+-0x35*-0x10+-0x183d)):!(0x11d1*-0x1+0xe1d*-0x1+-0x663*-0x5);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4b2537,_0x5bad0c){var _0x4964a5,_0x401f30,_0x2b89b3;const _0x55d226=this['entity']['script'];for(const _0x15254f in _0x4b2537['_scriptsIn'+'dex']){const _0x164a9d=this['system']['app']['scripts']['get'](_0x15254f);if(!_0x164a9d)continue;const _0x3ca332=_0x4b2537['_scriptsIn'+'dex'][_0x15254f];if(!_0x3ca332||!_0x3ca332['instance'])continue;const _0x28abb7=_0x55d226[_0x15254f]['__attribut'+'esRaw']??_0x55d226['_attribute'+'DataMap']['get'](_0x15254f),_0x253362=_0x55d226[_0x15254f]['__attribut'+'es'];if(!_0x28abb7&&!_0x253362)continue;const _0x105675=!!_0x28abb7,_0x260112=_0x3ca332['instance']['__attribut'+'es']??_0x55d226['_attribute'+'DataMap']['get'](_0x15254f);for(const _0x402be3 in _0x260112){if(!_0x260112[_0x402be3])continue;const _0x4460e9=((_0x4964a5=_0x164a9d['attributes'])==null?void(-0x534+0x236*0x9+-0xeb2):_0x4964a5['get'](_0x402be3))??((_0x2b89b3=(_0x401f30=this['system']['app']['scripts']['getSchema'](_0x15254f))==null?void(0x19a*-0x16+0x2*-0x3df+0x2*0x157d):_0x401f30['attributes'])==null?void(0xdbf+0x1*-0xe35+0x3b*0x2):_0x2b89b3[_0x402be3]);if(_0x4460e9){if(_0x4460e9['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x4460e9,_0x402be3,_0x260112[_0x402be3],_0x105675,_0x28abb7||_0x253362,_0x5bad0c);else{if(_0x4460e9['type']==='json'&&Array['isArray'](_0x4460e9['schema'])){const _0x147eae=_0x260112[_0x402be3],_0x1f0925=_0x28abb7?_0x28abb7[_0x402be3]:_0x253362[_0x402be3];for(let _0x356d3b=-0x4be*0x4+-0x1*-0x549+0xdaf;_0x356d3b<_0x4460e9['schema']['length'];_0x356d3b++){const _0x98c781=_0x4460e9['schema'][_0x356d3b];if(_0x98c781['type']==='entity'){if(_0x4460e9['array']){for(let _0x282f25=0xfd*-0x1f+-0x101+0xa8c*0x3;_0x282f25<_0x147eae['length'];_0x282f25++)this['_resolveEn'+'tityScript'+'Attribute'](_0x98c781,_0x98c781['name'],_0x147eae[_0x282f25][_0x98c781['name']],_0x105675,_0x1f0925[_0x282f25],_0x5bad0c);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x98c781,_0x98c781['name'],_0x147eae[_0x98c781['name']],_0x105675,_0x1f0925,_0x5bad0c);}}}}}}}}['move'](_0x2c5b68,_0x271f62){const _0x1671bf=this['_scripts']['length'];if(_0x271f62>=_0x1671bf||_0x271f62<0x37d+0x10a3*-0x2+0x1dc9)return!(-0x1*0xc1d+0xa*0x79+-0x56*-0x16);let _0x17f084=_0x2c5b68,_0x31ea1d=_0x2c5b68;typeof _0x31ea1d!='string'?_0x31ea1d=_0x2c5b68['__name']:_0x17f084=null;const _0x3bdef5=this['_scriptsIn'+'dex'][_0x31ea1d];if(!_0x3bdef5||!_0x3bdef5['instance'])return!(-0x1*-0x15d+-0x44e+0x179*0x2);const _0x32afee=_0x3bdef5['instance'];if(_0x17f084&&!(_0x32afee instanceof _0x17f084))return!(0x1725+-0x7*-0x417+-0x33c5);const _0x4ccd29=this['_scripts']['indexOf'](_0x32afee);return _0x4ccd29===-(-0x7*-0x529+-0x1152+-0x12cc)||_0x4ccd29===_0x271f62?!(0x7ec+0x83b*0x3+-0x209c):(this['_scripts']['splice'](_0x271f62,-0x1fc2+-0x25*-0x67+0x10df,this['_scripts']['splice'](_0x4ccd29,0x8*0x288+0x1c4b+-0x308a)[0x7*-0x458+0x10bb+0x185*0x9]),this['_resetExec'+'utionOrder'](-0x1f58+-0x22ff+0x4257,_0x1671bf),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x31ea1d,_0x32afee,_0x271f62,_0x4ccd29),this['fire']('move:'+_0x31ea1d,_0x32afee,_0x271f62,_0x4ccd29),!(0x1175+-0x1539+0x3c4));}}h(Ii,'EVENT_CREA'+'TE','create'),h(Ii,'EVENT_DEST'+'ROY','destroy'),h(Ii,'EVENT_ENAB'+'LE','enable'),h(Ii,'EVENT_DISA'+'BLE','disable'),h(Ii,'EVENT_REMO'+'VE','remove'),h(Ii,'EVENT_STAT'+'E','state'),h(Ii,'EVENT_MOVE','move'),h(Ii,'EVENT_ERRO'+'R','error');class IF{constructor(){this['enabled']=!(0x17ff+-0x2*-0x12df+-0x5*0xc59);}}const LF='_onInitial'+'izeAttribu'+'tes',RF='_onInitial'+'ize',OF='_onPostIni'+'tialize',FF='_onUpdate',NF='_onPostUpd'+'ate';let Mc=-0x4f*0x45+-0x1a55+0x2fa0;class kF extends ct{constructor(_0x156a95){super(_0x156a95),this['id']='script',this['ComponentT'+'ype']=Ii,this['DataType']=IF,this['_component'+'s']=new oh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new oh({'sortBy':'_execution'+'Order'}),this['preloading']=!(0x325+-0x19c+0x1*-0x189),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x321cf5,_0x5bccb2){if(_0x321cf5['_execution'+'Order']=Mc++,this['_component'+'s']['append'](_0x321cf5),Mc>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x321cf5['enabled']=_0x5bccb2['hasOwnProp'+'erty']('enabled')?!!_0x5bccb2['enabled']:!(-0x266d+0x240*-0xb+0x3f2d),_0x321cf5['enabled']&&_0x321cf5['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x321cf5),_0x5bccb2['hasOwnProp'+'erty']('order')&&_0x5bccb2['hasOwnProp'+'erty']('scripts')){_0x321cf5['_scriptsDa'+'ta']=_0x5bccb2['scripts'];for(let _0x484b66=0x29f*0x4+0xb*0x15a+-0x195a;_0x484b66<_0x5bccb2['order']['length'];_0x484b66++)_0x321cf5['create'](_0x5bccb2['order'][_0x484b66],{'enabled':_0x5bccb2['scripts'][_0x5bccb2['order'][_0x484b66]]['enabled'],'attributes':_0x5bccb2['scripts'][_0x5bccb2['order'][_0x484b66]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x28dde0,_0x5ca33c){var _0x106642;const _0x4f934a=[],_0x9ab95c={};for(let _0x201739=-0x1*0x7ab+0x1231+-0xa86;_0x201739<_0x28dde0['script']['_scripts']['length'];_0x201739++){const _0xee1aa2=_0x28dde0['script']['_scripts'][_0x201739],_0x4a68a6=_0xee1aa2['__scriptTy'+'pe']['__name'];_0x4f934a['push'](_0x4a68a6);const _0xcc7022=((_0x106642=_0x28dde0['script']['_attribute'+'DataMap'])==null?void(0x18b0+-0xbd3+0x25*-0x59):_0x106642['get'](_0x4a68a6))||{};for(const _0x52ba1f in _0xee1aa2['__attribut'+'es'])_0xcc7022[_0x52ba1f]=_0xee1aa2['__attribut'+'es'][_0x52ba1f];_0x9ab95c[_0x4a68a6]={'enabled':_0xee1aa2['_enabled'],'attributes':_0xcc7022};}for(const _0x5b0f37 in _0x28dde0['script']['_scriptsIn'+'dex'])_0x5b0f37['awaiting']&&_0x4f934a['splice'](_0x5b0f37['ind'],0x16ca*0x1+0x1*0xc1+-0x31*0x7b,_0x5b0f37);const _0x4b6b8f={'enabled':_0x28dde0['script']['enabled'],'order':_0x4f934a,'scripts':_0x9ab95c};return this['addCompone'+'nt'](_0x5ca33c,_0x4b6b8f);}['_resetExec'+'utionOrder'](){Mc=0x1379+-0x6*0x16d+-0xaeb;for(let _0x3a23e6=0x1*0x1c05+0x41e+0x1b1*-0x13,_0x162b89=this['_component'+'s']['length'];_0x3a23e6<_0x162b89;_0x3a23e6++)this['_component'+'s']['items'][_0x3a23e6]['_execution'+'Order']=Mc++;}['_callCompo'+'nentMethod'](_0x35044f,_0x271188,_0xfb7158){for(_0x35044f['loopIndex']=-0x90f+0x56*-0x4e+0x2343;_0x35044f['loopIndex']<_0x35044f['length'];_0x35044f['loopIndex']++)_0x35044f['items'][_0x35044f['loopIndex']][_0x271188](_0xfb7158);}['_onInitial'+'ize'](){this['preloading']=!(-0x21fb+0x2a8+0x1f54),this['_callCompo'+'nentMethod'](this['_component'+'s'],LF),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],RF);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],OF);}['_onUpdate'](_0x230c5e){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],FF,_0x230c5e);}['_onPostUpd'+'ate'](_0x4367f0){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],NF,_0x4367f0);}['_addCompon'+'entToEnabl'+'ed'](_0x4b386a){this['_enabledCo'+'mponents']['insert'](_0x4b386a);}['_removeCom'+'ponentFrom'+'Enabled'](_0x213d55){this['_enabledCo'+'mponents']['remove'](_0x213d55);}['_onBeforeR'+'emove'](_0x3ae6ca,_0x58562c){this['_component'+'s']['items']['indexOf'](_0x58562c)>=0x23cb+0x1675+-0x3a4*0x10&&_0x58562c['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0x58562c),this['_component'+'s']['remove'](_0x58562c);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class y0 extends we{constructor(_0x51db4c,_0x59e390){super(_0x51db4c,_0x59e390),h(this,'_layers',[er]),h(this,'_instance',null),h(this,'_materialT'+'mp',null),h(this,'_highQuali'+'tySH',!(-0x15f5+0x464*0x2+0x1*0xd2d)),h(this,'_customAab'+'b',null),h(this,'_assetRefe'+'rence'),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_castShado'+'ws',!(-0x6*-0x455+-0x18*0x19d+0xcbb)),(this['_assetRefe'+'rence']=new gl('asset',this,_0x51db4c['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0x59e390['on']('remove',this['onRemoveCh'+'ild'],this),_0x59e390['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x59e390['on']('insert',this['onInsertCh'+'ild'],this),_0x59e390['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x5f5715){var _0x55bdfe,_0x4b2106;this['_customAab'+'b']=_0x5f5715,(_0x4b2106=(_0x55bdfe=this['_instance'])==null?void(0x2dd*0x5+0x25c2+0x3413*-0x1):_0x55bdfe['meshInstan'+'ce'])==null||_0x4b2106['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x5a64ae){if(this['destroyIns'+'tance'](),this['_instance']=_0x5a64ae,this['_instance']){const _0xe968bc=this['_instance']['meshInstan'+'ce'];_0xe968bc['node']||(_0xe968bc['node']=this['entity']),_0xe968bc['castShadow']=this['_castShado'+'ws'],_0xe968bc['setCustomA'+'abb'](this['_customAab'+'b']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['material'](_0x5bf294){this['_instance']?this['_instance']['material']=_0x5bf294:this['_materialT'+'mp']=_0x5bf294;}get['material'](){var _0x565e97;return((_0x565e97=this['_instance'])==null?void(0x1e0c+-0x22b2+0x4a6):_0x565e97['material'])??this['_materialT'+'mp']??null;}set['highQualit'+'ySH'](_0x1da4fc){_0x1da4fc!==this['_highQuali'+'tySH']&&(this['_highQuali'+'tySH']=_0x1da4fc,this['_instance']&&this['_instance']['setHighQua'+'litySH'](_0x1da4fc));}get['highQualit'+'ySH'](){return this['_highQuali'+'tySH'];}set['castShadow'+'s'](_0x3a550a){var _0x5b41e0;if(this['_castShado'+'ws']!==_0x3a550a){const _0xb784b9=(_0x5b41e0=this['instance'])==null?void(0x8a0+0x1*-0x1e5d+0x1*0x15bd):_0x5b41e0['meshInstan'+'ce'];if(_0xb784b9){const _0x26d0ee=this['layers'],_0x5b811e=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x3a550a)for(let _0x2f89af=0xc06+-0x1211+0x60b;_0x2f89af<_0x26d0ee['length'];_0x2f89af++){const _0x51e7ba=_0x5b811e['layers']['getLayerBy'+'Id'](this['layers'][_0x2f89af]);_0x51e7ba&&_0x51e7ba['removeShad'+'owCasters']([_0xb784b9]);}if(_0xb784b9['castShadow']=_0x3a550a,!this['_castShado'+'ws']&&_0x3a550a)for(let _0x1c4a3f=0x1*0x2590+0xc6a+-0x31fa;_0x1c4a3f<_0x26d0ee['length'];_0x1c4a3f++){const _0x41eb89=_0x5b811e['layers']['getLayerBy'+'Id'](_0x26d0ee[_0x1c4a3f]);_0x41eb89&&_0x41eb89['addShadowC'+'asters']([_0xb784b9]);}}this['_castShado'+'ws']=_0x3a550a;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['layers'](_0x2ae30a){this['removeFrom'+'Layers'](),this['_layers']['length']=-0xc81+0x16a7*0x1+-0xa26;for(let _0x4b1294=-0x1ebc+0x6d*-0x8+0x2224*0x1;_0x4b1294<_0x2ae30a['length'];_0x4b1294++)this['_layers'][_0x4b1294]=_0x2ae30a[_0x4b1294];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x374190){const _0x1fa425=_0x374190 instanceof pe?_0x374190['id']:_0x374190;this['_assetRefe'+'rence']['id']!==_0x1fa425&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x1fa425,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['destroyIns'+'tance'](){var _0x31c0bb;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x31c0bb=this['_instance'])==null||_0x31c0bb['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x1c2ca9,_0x28856f;const _0x53be20=(_0x1c2ca9=this['instance'])==null?void(-0x832+-0x1782+0x1fb4):_0x1c2ca9['meshInstan'+'ce'];if(_0x53be20){const _0x16370d=this['system']['app']['scene']['layers'];for(let _0x4cda99=-0x1*-0xc0b+0x24fc+-0x3107;_0x4cda99<this['_layers']['length'];_0x4cda99++)(_0x28856f=_0x16370d['getLayerBy'+'Id'](this['_layers'][_0x4cda99]))==null||_0x28856f['addMeshIns'+'tances']([_0x53be20]);}}['removeFrom'+'Layers'](){var _0x48bd0a,_0x360906;const _0x3acc94=(_0x48bd0a=this['instance'])==null?void(-0x2181+-0x1700+0x3881):_0x48bd0a['meshInstan'+'ce'];if(_0x3acc94){const _0x1e1e02=this['system']['app']['scene']['layers'];for(let _0xdaec6a=-0x605*0x5+0x1e58+0x15*-0x3;_0xdaec6a<this['_layers']['length'];_0xdaec6a++)(_0x360906=_0x1e1e02['getLayerBy'+'Id'](this['_layers'][_0xdaec6a]))==null||_0x360906['removeMesh'+'Instances']([_0x3acc94]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x3bb201,_0x26d227){this['addToLayer'+'s'](),_0x3bb201['off']('add',this['onLayerAdd'+'ed'],this),_0x3bb201['off']('remove',this['onLayerRem'+'oved'],this),_0x26d227['on']('add',this['onLayerAdd'+'ed'],this),_0x26d227['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x333ff9){this['layers']['indexOf'](_0x333ff9['id'])<0x2*0xbe1+0x344+-0xd83*0x2||this['_instance']&&_0x333ff9['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x200266){this['layers']['indexOf'](_0x200266['id'])<-0xe69*-0x2+0x1b1*-0x4+0x2*-0xb07||this['_instance']&&_0x200266['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x1557c0=this['system']['app']['scene'],_0x3c8147=_0x1557c0['layers'];this['_evtLayers'+'Changed']=_0x1557c0['on']('set:layers',this['onLayersCh'+'anged'],this),_0x3c8147&&(this['_evtLayerA'+'dded']=_0x3c8147['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x3c8147['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x40b491,_0x109095,_0x7a0a23;const _0xa538d0=this['system']['app']['scene']['layers'];(_0x40b491=this['_evtLayers'+'Changed'])==null||_0x40b491['off'](),this['_evtLayers'+'Changed']=null,_0xa538d0&&((_0x109095=this['_evtLayerA'+'dded'])==null||_0x109095['off'](),this['_evtLayerA'+'dded']=null,(_0x7a0a23=this['_evtLayerR'+'emoved'])==null||_0x7a0a23['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x1*-0x29d+-0x43*-0x4b+-0x1103));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x1626+-0x1aa5+0x47f));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x263205=this['_assetRefe'+'rence']['asset'];_0x263205&&(this['instance']=_0x263205['resource']['createInst'+'ance'](_0x263205['resource'],{'material':this['_materialT'+'mp'],'highQualitySH':this['_highQuali'+'tySH']}),this['_materialT'+'mp']=null,this['customAabb']=this['instance']['resource']['aabb']['clone']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class UF{constructor(){this['enabled']=!(-0x1*-0x14d2+-0x1fcf+-0x1d*-0x61);}}const Vu=['enabled'],To=['castShadow'+'s','material','highQualit'+'ySH','asset','layers'];class BF extends ct{constructor(_0x5c2cb8){super(_0x5c2cb8),this['id']='gsplat',this['ComponentT'+'ype']=y0,this['DataType']=UF,this['schema']=Vu,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x3432a2,_0x27b4d6,_0x512989){_0x27b4d6['layers']&&_0x27b4d6['layers']['length']&&(_0x27b4d6['layers']=_0x27b4d6['layers']['slice'](-0xc4c+0x1*-0x21a3+0x42d*0xb));for(let _0x58d20a=-0x1b7b+-0x690+0x220b;_0x58d20a<To['length'];_0x58d20a++)_0x27b4d6['hasOwnProp'+'erty'](To[_0x58d20a])&&(_0x3432a2[To[_0x58d20a]]=_0x27b4d6[To[_0x58d20a]]);_0x27b4d6['aabbCenter']&&_0x27b4d6['aabbHalfEx'+'tents']&&(_0x3432a2['customAabb']=new De(new D(_0x27b4d6['aabbCenter']),new D(_0x27b4d6['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x3432a2,_0x27b4d6,Vu);}['cloneCompo'+'nent'](_0x339c1e,_0x2a2bdf){const _0x38368f=_0x339c1e['gsplat'],_0x25db03={};To['forEach'](_0x1aef00=>{_0x1aef00==='material'?_0x25db03[_0x1aef00]=_0x38368f[_0x1aef00]['clone']():_0x25db03[_0x1aef00]=_0x38368f[_0x1aef00];}),_0x25db03['enabled']=_0x38368f['enabled'];const _0x4ae0f9=this['addCompone'+'nt'](_0x2a2bdf,_0x25db03);return _0x38368f['customAabb']&&(_0x4ae0f9['customAabb']=_0x38368f['customAabb']['clone']()),_0x4ae0f9;}['onRemove'](_0x12b6cf,_0x13adb8){_0x13adb8['onRemove']();}}we['_buildAcce'+'ssors'](y0['prototype'],Vu);class Em extends me{constructor(){super(...arguments),h(this,'_meshes',null);}set['meshes'](_0x177a04){this['decRefMesh'+'es'](),this['_meshes']=_0x177a04,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x177a04);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x279dad;(_0x279dad=this['_meshes'])==null||_0x279dad['forEach']((_0x377823,_0x263705)=>{_0x377823&&(_0x377823['decRefCoun'+'t'](),_0x377823['refCount']<0x2*0x9b+-0x404+0x2cf&&(_0x377823['destroy'](),this['_meshes'][_0x263705]=null));});}['incRefMesh'+'es'](){var _0x59f88a;(_0x59f88a=this['_meshes'])==null||_0x59f88a['forEach'](_0x5a49bd=>{_0x5a49bd==null||_0x5a49bd['incRefCoun'+'t']();});}}h(Em,'EVENT_SETM'+'ESHES','set:meshes');function sh(_0xb9da38){const _0x3092f1=this;if(!_0x3092f1['resource'])return;const _0xdc923a=_0xb9da38['resource'],_0x33af2a=_0xdc923a['renders']&&_0xdc923a['renders'][_0x3092f1['data']['renderInde'+'x']];_0x33af2a&&(_0x3092f1['resource']['meshes']=_0x33af2a['resource']['meshes']);}function pS(_0x4673f9){const _0x4b5413=this;_0x4b5413['registry']['off']('load:'+_0x4673f9['id'],sh,_0x4b5413),_0x4b5413['registry']['on']('load:'+_0x4673f9['id'],sh,_0x4b5413),_0x4b5413['registry']['off']('remove:'+_0x4673f9['id'],mS,_0x4b5413),_0x4b5413['registry']['once']('remove:'+_0x4673f9['id'],mS,_0x4b5413),_0x4673f9['resource']?sh['call'](_0x4b5413,_0x4673f9):_0x4b5413['registry']['load'](_0x4673f9);}function mS(_0x2edad0){const _0x10cb12=this;_0x10cb12['registry']['off']('load:'+_0x2edad0['id'],sh,_0x10cb12),_0x10cb12['resource']&&_0x10cb12['resource']['destroy']();}class zF extends Qe{constructor(_0x5df9a4){super(_0x5df9a4,'render'),this['_registry']=_0x5df9a4['assets'];}['open'](_0x1fba52,_0xa25f56){return new Em();}['patch'](_0x32d628,_0x5e99bc){if(!_0x32d628['data']['containerA'+'sset'])return;const _0x2a68f8=_0x5e99bc['get'](_0x32d628['data']['containerA'+'sset']);if(!_0x2a68f8){_0x5e99bc['once']('add:'+_0x32d628['data']['containerA'+'sset'],pS,_0x32d628);return;}pS['call'](_0x32d628,_0x2a68f8);}}class v0{constructor(_0x5b883c,_0x588fdd,_0x34c9d6,_0xb34b12){this['_paths']=_0x5b883c,this['_input']=_0x588fdd,this['_output']=_0x34c9d6,this['_interpola'+'tion']=_0xb34b12;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class Fh{constructor(_0x5321d0,_0x83726f){this['_component'+'s']=_0x5321d0,this['_data']=_0x83726f;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function VF(_0x4a1546,_0x587f13){let _0x1e765f;const _0x4b16ac=(_0xf01b02,_0x42a912)=>{switch(_0x42a912){case _0x1e765f['DT_INT8']:return new Int8Array(_0xf01b02['buffer'],_0xf01b02['byteOffset'],_0xf01b02['byteLength']);case _0x1e765f['DT_INT16']:return new Int16Array(_0xf01b02['buffer'],_0xf01b02['byteOffset'],_0xf01b02['byteLength']/(0x124e+0x145*0x1+0x1391*-0x1));case _0x1e765f['DT_INT32']:return new Int32Array(_0xf01b02['buffer'],_0xf01b02['byteOffset'],_0xf01b02['byteLength']/(-0x1586+0x1d33+0x1*-0x7a9));case _0x1e765f['DT_UINT8']:return new Uint8Array(_0xf01b02['buffer'],_0xf01b02['byteOffset'],_0xf01b02['byteLength']);case _0x1e765f['DT_UINT16']:return new Uint16Array(_0xf01b02['buffer'],_0xf01b02['byteOffset'],_0xf01b02['byteLength']/(-0x63d*0x1+-0x8*0x4a9+0x2b87));case _0x1e765f['DT_UINT32']:return new Uint32Array(_0xf01b02['buffer'],_0xf01b02['byteOffset'],_0xf01b02['byteLength']/(0x2359*-0x1+-0x120*-0x2+0x7*0x4bb));case _0x1e765f['DT_FLOAT32']:return new Float32Array(_0xf01b02['buffer'],_0xf01b02['byteOffset'],_0xf01b02['byteLength']/(-0x15cf*-0x1+0x5*0x3a6+-0x2809));}return null;},_0x3ea631=_0x270db7=>{switch(_0x270db7){case _0x1e765f['DT_INT8']:return 0x1081+0x561+-0x3*0x74b;case _0x1e765f['DT_INT16']:return 0x17a1+-0xf81+-0x81e;case _0x1e765f['DT_INT32']:return 0x2601+-0x8be*-0x2+-0x3779;case _0x1e765f['DT_UINT8']:return-0x7e1*-0x1+0x31*0x71+-0xd*0x245;case _0x1e765f['DT_UINT16']:return 0xd*-0x12d+0x26ac+0x1761*-0x1;case _0x1e765f['DT_UINT32']:return-0x1196*0x1+-0x2188+0x1*0x3322;case _0x1e765f['DT_FLOAT32']:return-0x26c1+0x1ae0+0x261*0x5;}return-0x1*-0x1fb2+0x1b61+0x1d89*-0x2;},_0x1ea647=_0x98ed4e=>_0x98ed4e['num_compon'+'ents']()*_0x3ea631(_0x98ed4e['data_type']()),_0x454d68={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x2444fa=(_0xd75012,_0x52964b)=>{const _0x10cdcb=(_0x15bd7c,_0x39fa3b,_0x82af3b)=>{_0x15bd7c[0x16e1+-0x1*0x13b5+-0x32c]=_0x39fa3b[-0xc74+0x1*-0x1f9d+0x185*0x1d]-_0x82af3b[-0x25ca+0x1*0x196b+-0x1*-0xc5f],_0x15bd7c[-0x2*0xb1c+-0x1*-0x18e5+0x3*-0xe4]=_0x39fa3b[-0x2b*-0x2e+-0x1341+-0x148*-0x9]-_0x82af3b[-0x774+-0xd*0x53+-0x1f2*-0x6],_0x15bd7c[0x25ee+-0x35d*0x6+-0x11be]=_0x39fa3b[0x14bb+-0x72*-0x2f+-0x29a7]-_0x82af3b[-0xb*0x293+0xc9c+0xfb7];},_0xfc2be4=(_0x5e4a83,_0x3646ca,_0x3c84cd)=>{_0x5e4a83[-0x1a5d+0x66*0x13+0x12cb]=_0x3646ca[0x123e+-0x2689+-0x6*-0x362]*_0x3c84cd[-0x3e9+-0x1e0a+0x21f5]-_0x3c84cd[-0x2306*0x1+0x6f6*-0x3+0xd*0x44d]*_0x3646ca[-0x253a+-0xd*0x3+0x2563],_0x5e4a83[0x2*-0xd81+0x4e6*-0x7+0x3d4d]=_0x3646ca[-0x12e5+-0x1c+-0x1f*-0x9d]*_0x3c84cd[0x6*0x5ea+0x1fc0+-0x433c]-_0x3c84cd[-0x1935+0x1882+-0x1*-0xb5]*_0x3646ca[-0x42*0x77+-0x1cc3*-0x1+-0x1eb*-0x1],_0x5e4a83[0xbc2+0x1e5+0x7*-0x1f3]=_0x3646ca[0x1088*-0x1+0x3*0x739+-0x107*0x5]*_0x3c84cd[0x53a*0x7+0x2655+-0x4aea]-_0x3c84cd[0x20cf*-0x1+-0x1a12+0x3ae1]*_0x3646ca[0x730+0x1*-0xed1+0x1*0x7a2];},_0x2831b5=(_0x536b4b,_0x231948)=>{const _0x24c75c=_0x536b4b[_0x231948+(0xeb4+-0x138a+0x4d6)],_0x16466c=_0x536b4b[_0x231948+(-0x138a+0x1*0x446+-0xf45*-0x1)],_0x1616fa=_0x536b4b[_0x231948+(-0x1d55+0xb*0x95+0x16f0)],_0x52e4de=(0x1*0x11cb+-0x447*0x2+0x2*-0x49e)/Math['sqrt'](_0x24c75c*_0x24c75c+_0x16466c*_0x16466c+_0x1616fa*_0x1616fa);_0x536b4b[_0x231948+(0x2055*-0x1+0x34+0xaf*0x2f)]*=_0x52e4de,_0x536b4b[_0x231948+(0x1*0xc85+0x2611+-0x3295)]*=_0x52e4de,_0x536b4b[_0x231948+(0x1*-0xc0b+-0xc2f+-0x21*-0xbc)]*=_0x52e4de;},_0x500417=(_0x4faf2d,_0x49c4f1,_0x1f68c0)=>{for(let _0x2a3651=-0x1de*-0xa+-0xe6c+-0x440;_0x2a3651<0x34*0x86+-0x9e4+0xd*-0x155;++_0x2a3651)_0x4faf2d[_0x2a3651]=_0x49c4f1[_0x1f68c0+_0x2a3651];},_0x3fa6c1=_0x52964b['length']/(0x46*0x1d+-0x9e6+0x27*0xd),_0x44981e=_0xd75012['length']/(-0x525*-0x5+-0x592*-0x5+-0x3590),_0x4d6f07=new Float32Array(_0xd75012['length']),_0x2f393f=[0x1768+0x1e9a+-0x3602,0x184+-0x26d3+-0x1*-0x254f,-0x1a7d+0x46*0x35+-0x53*-0x25],_0x14b69b=[0x1a63+-0x185a+-0x209,-0x1329+-0x3*-0x1f6+0xd47,-0x653+-0x1024+-0x47*-0x51],_0x326b84=[0x64f+0x95d+-0xfac,0x108*-0x6+0x64e+-0x2*0xf,0x1630+-0x4c7*-0x3+-0x1*0x2485],_0x1e43bc=[0x3d1*0x2+0x157f*-0x1+0xddd,-0x3e*0x20+-0x20cf*0x1+0x288f,0x24b*-0xb+-0x7d*0x12+-0x2203*-0x1],_0x47caf5=[0xc7*-0x5+0x2f4*0x1+0xef*0x1,-0x1*-0x37a+-0x16*0x29+0xc,0x52+-0xef*-0x19+0x17a9*-0x1],_0x60ed46=[0xd29*0x1+-0x17a1+0xa78,0x599*0x5+-0x316+-0x18e7,0x4*0x35+-0x1d*0x151+0x2559];for(let _0x426287=-0x1e61+0x1ed9+0x78*-0x1;_0x426287<_0x3fa6c1;++_0x426287){const _0x34d76e=_0x52964b[_0x426287*(-0x20d1+0x467+0x13*0x17f)+(-0x19cb+-0xf5*-0x6+0x140d)]*(-0x3*-0x60a+0x12a9+-0x24c4),_0x4db1bd=_0x52964b[_0x426287*(0x89+-0x2092+0x4*0x803)+(-0x11*-0x1c3+-0x31b+-0x1ad7)]*(0x3*-0x6d9+-0x1543*0x1+0x29d1),_0x533fb1=_0x52964b[_0x426287*(0x3ad*-0x7+0x70d+0x12b1)+(-0x10*-0x4f+0x1689+-0x1b77)]*(-0x26e*0xe+0x140e+0xdf9);_0x500417(_0x2f393f,_0xd75012,_0x34d76e),_0x500417(_0x14b69b,_0xd75012,_0x4db1bd),_0x500417(_0x326b84,_0xd75012,_0x533fb1),_0x10cdcb(_0x1e43bc,_0x14b69b,_0x2f393f),_0x10cdcb(_0x47caf5,_0x326b84,_0x2f393f),_0xfc2be4(_0x60ed46,_0x1e43bc,_0x47caf5),_0x2831b5(_0x60ed46,0x12d9*-0x1+0xacf+-0x2*-0x405);for(let _0x5ba731=0x86c*-0x1+0x1f64*-0x1+0x27d0;_0x5ba731<-0x5*-0xd+-0xa11*-0x2+0x146*-0x10;++_0x5ba731)_0x4d6f07[_0x34d76e+_0x5ba731]+=_0x60ed46[_0x5ba731],_0x4d6f07[_0x4db1bd+_0x5ba731]+=_0x60ed46[_0x5ba731],_0x4d6f07[_0x533fb1+_0x5ba731]+=_0x60ed46[_0x5ba731];}for(let _0x267924=0x2473*-0x1+0x16f6+0x47f*0x3;_0x267924<_0x44981e;++_0x267924)_0x2831b5(_0x4d6f07,_0x267924*(0xe1f+0x2*-0x10fd+0x13de*0x1));return new Uint8Array(_0x4d6f07['buffer']);},_0x2473f8=_0x26901c=>{const _0x3ee360={},_0x25966b=new _0x1e765f['DecoderBuf'+'fer']();_0x25966b['Init'](_0x26901c,_0x26901c['length']);const _0x26aaef=new _0x1e765f['Decoder']();if(_0x26aaef['GetEncoded'+'GeometryTy'+'pe'](_0x25966b)!==_0x1e765f['TRIANGULAR'+'_MESH'])return _0x3ee360['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x3ee360;const _0x1140a5=new _0x1e765f['Mesh'](),_0x3aeeed=_0x26aaef['DecodeBuff'+'erToMesh'](_0x25966b,_0x1140a5);if(!_0x3aeeed||!_0x3aeeed['ok']()||_0x1e765f['getPointer'](_0x1140a5)===-0x1*0x2f1+-0x1857+0x1b48)return _0x3ee360['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x3ee360;const _0x1b453a=_0x1140a5['num_faces']()*(-0x5c*-0x2b+-0x263e+0x1*0x16cd),_0x110316=_0x1140a5['num_points']()<=0xd078+0x1*-0xf9fb+-0x12982*-0x1,_0x55d6da=_0x1b453a*(_0x110316?-0x11aa+-0x2491+0x363d:-0x2509+-0x10b*-0x20+0x3ad*0x1),_0x585f11=_0x1e765f['_malloc'](_0x55d6da);_0x110316?(_0x26aaef['GetTriangl'+'esUInt16Ar'+'ray'](_0x1140a5,_0x55d6da,_0x585f11),_0x3ee360['indices']=new Uint16Array(_0x1e765f['HEAPU16']['buffer'],_0x585f11,_0x1b453a)['slice']()['buffer']):(_0x26aaef['GetTriangl'+'esUInt32Ar'+'ray'](_0x1140a5,_0x55d6da,_0x585f11),_0x3ee360['indices']=new Uint32Array(_0x1e765f['HEAPU32']['buffer'],_0x585f11,_0x1b453a)['slice']()['buffer']),_0x1e765f['_free'](_0x585f11);const _0x5e4fad=[];for(let _0x4962bd=0x52*-0x58+-0xd*-0x1c6+-0x49*-0x12;_0x4962bd<_0x1140a5['num_attrib'+'utes']();++_0x4962bd)_0x5e4fad['push'](_0x26aaef['GetAttribu'+'te'](_0x1140a5,_0x4962bd));_0x5e4fad['sort']((_0x612b84,_0x207e57)=>(_0x454d68[_0x612b84['attribute_'+'type']()]??_0x454d68['length'])-(_0x454d68[_0x207e57['attribute_'+'type']()]??_0x454d68['length'])),_0x3ee360['attributes']=_0x5e4fad['map'](_0x2f7e71=>_0x2f7e71['unique_id']());let _0x508727=-0x3*0xcc2+-0x71*0x55+0x4bcb;const _0x1f5410=_0x5e4fad['map'](_0x337b03=>{const _0x5d08a5=_0x508727;return _0x508727+=Math['ceil'](_0x1ea647(_0x337b03)/(0x3*0xa86+-0x8*0x347+0x556*-0x1))*(-0x924+0x1641+-0x1*0xd19),_0x5d08a5;}),_0x4aafd9=_0x5e4fad['some'](_0x53cb44=>_0x53cb44['attribute_'+'type']()===0x1278*0x1+0x1520+0x2797*-0x1),_0x2ae9ba=_0x1f5410[0x1780+0x985*-0x1+-0x6fd*0x2];if(!_0x4aafd9){for(let _0x19b869=-0x1*-0x220f+-0x1*0x6ad+0x1b61*-0x1;_0x19b869<_0x1f5410['length'];++_0x19b869)_0x1f5410[_0x19b869]+=0x1*0x20bf+0xfe4+-0x3097;_0x508727+=0xb5*-0x1c+0x2*-0x87d+-0x1*-0x24d2;}_0x3ee360['vertices']=new ArrayBuffer(_0x1140a5['num_points']()*_0x508727);const _0x44aa4c=new Uint8Array(_0x3ee360['vertices']);for(let _0xf8235b=0x18bb+0x155+-0x1a10;_0xf8235b<_0x1140a5['num_attrib'+'utes']();++_0xf8235b){const _0x1379ba=_0x5e4fad[_0xf8235b],_0xdf6ded=_0x1ea647(_0x1379ba),_0xa66037=_0x1140a5['num_points']()*_0xdf6ded,_0x3cf886=_0x1e765f['_malloc'](_0xa66037);_0x26aaef['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x1140a5,_0x1379ba,_0x1379ba['data_type'](),_0xa66037,_0x3cf886);const _0x5045e1=new Uint8Array(_0x1e765f['HEAPU8']['buffer'],_0x3cf886,_0xa66037);for(let _0x1b8e3c=-0x14f5+-0x7d*-0x21+0x4d8;_0x1b8e3c<_0x1140a5['num_points']();++_0x1b8e3c)for(let _0x4a3dd9=0x1f*0x14+-0x14f4+0x1288;_0x4a3dd9<_0xdf6ded;++_0x4a3dd9)_0x44aa4c[_0x1b8e3c*_0x508727+_0x1f5410[_0xf8235b]+_0x4a3dd9]=_0x5045e1[_0x1b8e3c*_0xdf6ded+_0x4a3dd9];if(!_0x4aafd9&&_0x1379ba['attribute_'+'type']()===0x16e6+-0x1*0x479+-0x126d){const _0x587a0d=_0x2444fa(_0x4b16ac(_0x5045e1,_0x1379ba['data_type']()),_0x110316?new Uint16Array(_0x3ee360['indices']):new Uint32Array(_0x3ee360['indices']));for(let _0x22b519=-0x33*0x2f+-0x1f17+0x2874*0x1;_0x22b519<_0x1140a5['num_points']();++_0x22b519)for(let _0x50aa03=-0x1281*0x1+0x4*0x8+0x1261;_0x50aa03<-0x2*-0xf65+-0x1f2e+0x70;++_0x50aa03)_0x44aa4c[_0x22b519*_0x508727+_0x2ae9ba+_0x50aa03]=_0x587a0d[_0x22b519*(0x7*0x21a+-0xb6a+-0x340)+_0x50aa03];}_0x1e765f['_free'](_0x3cf886);}return _0x1e765f['destroy'](_0x1140a5),_0x1e765f['destroy'](_0x26aaef),_0x1e765f['destroy'](_0x25966b),_0x3ee360;},_0x54ccb5=_0x539d11=>{const _0xf46c80=_0x2473f8(new Uint8Array(_0x539d11['buffer']));self['postMessag'+'e']({'jobId':_0x539d11['jobId'],'error':_0xf46c80['error'],'indices':_0xf46c80['indices'],'vertices':_0xf46c80['vertices'],'attributes':_0xf46c80['attributes']},[_0xf46c80['indices'],_0xf46c80['vertices']]['filter'](_0x425ae7=>_0x425ae7!=null));},_0x5547cb=[];self['onmessage']=_0xaf6344=>{const _0x211422=_0xaf6344['data'];switch(_0x211422['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x444c7d,_0xa82218)=>(WebAssembly['instantiat'+'e'](_0x211422['module'],_0x444c7d)['then'](_0x224ade=>_0xa82218(_0x224ade))['catch'](_0x1c674c=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x1c674c)),{})})['then'](_0x1b9f3d=>{_0x1e765f=_0x1b9f3d,_0x5547cb['forEach'](_0x4e525b=>_0x54ccb5(_0x4e525b));});break;case'decodeMesh':_0x1e765f?_0x54ccb5(_0x211422):_0x5547cb['push'](_0x211422);break;}};}const _S=-0x228a+0x1b26+0x5*0x17b;class GF{constructor(){this['workers']=[[],[],[]],this['jobId']=-0xc73+-0x1f90+0x2c03,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x37d995,_0xae3310)=>{_0x37d995['postMessag'+'e']({'type':'decodeMesh','jobId':_0xae3310['jobId'],'buffer':_0xae3310['buffer']},[_0xae3310['buffer']]);};}['init'](_0x2a48cf){for(_0x2a48cf['forEach'](_0x2b1919=>{_0x2b1919['addEventLi'+'stener']('message',_0x145fb4=>{const _0x39ffb8=_0x145fb4['data'],_0x518f10=this['jobCallbac'+'ks']['get'](_0x39ffb8['jobId']);if(_0x518f10&&_0x518f10(_0x39ffb8['error'],{'indices':_0x39ffb8['indices'],'vertices':_0x39ffb8['vertices'],'attributes':_0x39ffb8['attributes']}),this['jobCallbac'+'ks']['delete'](_0x39ffb8['jobId']),this['jobQueue']['length']>0xc09+0xfd6+-0x1bdf){const _0x2503ca=this['jobQueue']['shift']();this['run'](_0x2b1919,_0x2503ca);}else{const _0x286444=this['workers'][-0x3e4*0x9+0x1001+-0x1*-0x1305]['indexOf'](_0x2b1919);if(_0x286444!==-(-0xbac+-0x1*0x87d+0x142a))this['workers'][-0x10ef+0xa12+0x1*0x6df]['splice'](_0x286444,0x803*-0x1+0x41d*-0x4+-0x74*-0x36),this['workers'][-0xbd2+0x346+0x88d]['push'](_0x2b1919);else{const _0x8fe66=this['workers'][0x20aa*-0x1+0x1802+-0x1*-0x8a9]['indexOf'](_0x2b1919);_0x8fe66!==-(-0xb5*-0xf+0x1*0x1287+-0x1d21*0x1)?(this['workers'][-0x8d*-0x26+0xca*0x31+0x3f9*-0xf]['splice'](_0x8fe66,0x2007*0x1+0x1d1b+-0x3d21),this['workers'][0x1896+0x4e0+-0x1d76]['push'](_0x2b1919)):w['error']('logical\x20er'+'ror');}}});}),this['workers'][-0x383*0xb+-0x1a42*0x1+0x40e3]=_0x2a48cf;this['jobQueue']['length']&&(this['workers'][-0x1*-0x4cf+-0x2653*-0x1+-0x2b22]['length']||this['workers'][0x3*-0x31a+0x1899+0x67*-0x26]['length']);){const _0x51ae49=this['jobQueue']['shift']();if(this['workers'][0x1c1b+-0x1dd9+0x1be]['length']>-0xab1+-0x1*-0x1bda+-0x1*0x1129){const _0x128231=this['workers'][0x744*0x2+-0xb7b*-0x3+-0xc7*0x3f]['shift']();this['workers'][0x7ba+0x2*0x6bb+-0x152f]['push'](_0x128231),this['run'](_0x128231,_0x51ae49);}else{const _0x4a8b0e=this['workers'][-0x1f31+-0x3*0x59f+0x300f]['shift']();this['workers'][0x35b*-0x1+-0x13da+0x1737]['push'](_0x4a8b0e),this['run'](_0x4a8b0e,_0x51ae49);}}}['enqueueJob'](_0x1230ec,_0x2d2c37){const _0x56bddd={'jobId':this['jobId']++,'buffer':_0x1230ec};if(this['jobCallbac'+'ks']['set'](_0x56bddd['jobId'],_0x2d2c37),this['workers'][-0x1a8*0x16+-0x1*-0x11f5+0x127b*0x1]['length']>-0x221*0x11+-0x14c*0x16+0x40b9){const _0x58be20=this['workers'][0x192+0x1*-0x10df+0x1*0xf4d]['shift']();this['workers'][0x7fb+0x13d4+-0x1bce]['push'](_0x58be20),this['run'](_0x58be20,_0x56bddd);}else{if(this['workers'][-0x1*0x2634+-0x2*0xf47+0x44c3]['length']>-0x1481*0x1+-0x745+0x1bc6){const _0x5a1498=this['workers'][-0x133b*0x2+0x3e8+0x228f]['shift']();this['workers'][0xd43+0x11*-0x7d+-0x4f4]['push'](_0x5a1498),this['run'](_0x5a1498,_0x56bddd);}else this['jobQueue']['push'](_0x56bddd);}}}const HF=_0x58c7f2=>new Promise((_0x1ac117,_0x466223)=>{const _0x9f7d4={'cache':!(-0x58d+0x1*0x1fa6+-0x1a19),'responseType':'text','retry':_S>0xaf6+0x1969+0x1*-0x245f,'maxRetries':_S};ot['get'](_0x58c7f2,_0x9f7d4,(_0x26c32a,_0x20e0e9)=>{_0x26c32a?_0x466223(_0x26c32a):_0x1ac117(_0x20e0e9);});}),WF=_0x3e9f62=>{const _0x1bbe57=()=>fetch(_0x3e9f62)['then'](_0x1a950c=>_0x1a950c['arrayBuffe'+'r']())['then'](_0x398e58=>WebAssembly['compile'](_0x398e58)),_0x139cb3=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x3e9f62))['catch'](_0x2fc744=>(w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x3e9f62+'\x20('+_0x2fc744+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x1bbe57()));return WebAssembly['compileStr'+'eaming']?_0x139cb3():_0x1bbe57();},gS=0xa60+-0x1b4+0x8ab*-0x1;let ih;const $F=_0x178187=>{if(ih)return!(0xcf1+-0x1*0x11d2+0x4e1);if(!_0x178187){const _0x29dcc9=YS['getConfig']('DracoDecod'+'erModule');_0x29dcc9?_0x178187={'jsUrl':_0x29dcc9['glueUrl'],'wasmUrl':_0x29dcc9['wasmUrl'],'numWorkers':_0x29dcc9['numWorkers']}:_0x178187={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':gS};}return!_0x178187['jsUrl']||!_0x178187['wasmUrl']?!(0x1*-0x2051+-0x2446+-0x1126*-0x4):(ih=new GF(),Promise['all']([HF(_0x178187['jsUrl']),WF(_0x178187['wasmUrl'])])['then'](([_0x1442ca,_0x51a79f])=>{const _0x50ab00=['/*\x20draco\x20*'+'/',_0x1442ca,'/*\x20worker\x20'+'*/','(\x0a'+VF['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x142c1c=new Blob([_0x50ab00],{'type':'applicatio'+'n/javascri'+'pt'}),_0x3da722=URL['createObje'+'ctURL'](_0x142c1c),_0x2b1163=Math['max'](0x4*0x5ab+0x1*-0x23db+0xd30,Math['min'](-0x5*-0x742+-0x25e1+0x1a7,_0x178187['numWorkers']||gS)),_0x5a5dd3=[];for(let _0x260085=0x1d63*-0x1+-0x773+0x3af*0xa;_0x260085<_0x2b1163;++_0x260085){const _0x4c79b2=new Worker(_0x3da722);_0x4c79b2['postMessag'+'e']({'type':'init','module':_0x51a79f}),_0x5a5dd3['push'](_0x4c79b2);}ih['init'](_0x5a5dd3);}),!(-0x56d*0x1+-0xa*0x190+0x150d));},XF=(_0x10778b,_0x299dfc)=>$F()?(ih['enqueueJob'](_0x10778b,_0x299dfc),!(-0x516*-0x7+0x440+-0x13ed*0x2)):!(-0x208e+0x1*0x490+0x3*0x955);class qF{constructor(){h(this,'gltf'),h(this,'nodes'),h(this,'scenes'),h(this,'animations'),h(this,'textures'),h(this,'materials'),h(this,'variants'),h(this,'meshVarian'+'ts'),h(this,'meshDefaul'+'tMaterials'),h(this,'renders'),h(this,'skins'),h(this,'lights'),h(this,'cameras'),h(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x412156=>{_0x412156['meshes']=null;});}}const x0=_0x23fb2f=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x23fb2f),jF=_0xc7891a=>_0xc7891a['substring'](_0xc7891a['indexOf'](':')+(0x754+0x1f81+-0x7*0x58c),_0xc7891a['indexOf'](';')),yl=_0x77fe1f=>{switch(_0x77fe1f){case'SCALAR':return-0xf74+0xd87*0x2+-0xb99;case'VEC2':return-0x1e1*0xc+0x2550+-0x1*0xec2;case'VEC3':return-0x9ba+-0x89*-0x1c+-0x53f;case'VEC4':return-0x19*-0x6b+-0x5*-0x59b+-0x2*0x133b;case'MAT2':return-0x95*0x1+-0x563+0x5fc*0x1;case'MAT3':return 0x164*-0xe+-0x1fd1+0x3352;case'MAT4':return-0x87f+0x5*0x35f+0xb1*-0xc;default:return 0x2a*0x2d+0x20ba+0x2819*-0x1;}},Dd=_0x294c83=>{switch(_0x294c83){case 0x421+0x7c8+-0x1*-0x817:return dd;case-0x2ed+-0x2121+-0x1*-0x380f:return la;case-0x1f70+0x3*-0x716+0x16*0x34e:return fd;case 0x66d+0x2*-0x11dc+0x314e*0x1:return Ml;case-0x8f6*0x4+-0x16*0x1a+0x68*0x8f:return Ty;case-0x555*0x1+0x735+0x1225:return el;case-0x21b4+-0x67*-0x59+-0x5f9*-0x3:return Ve;default:return-0x2554*-0x1+0x4*0x39e+0xc3*-0x44;}},YF=_0x5507d1=>{switch(_0x5507d1){case-0x4a*-0x23+-0x23*-0xb6+-0xf00:return 0x53b+0x1569*-0x1+0x102f;case 0xe2e+0x603*-0x3+0x1fd*0xc:return-0x2519+-0x1*-0x1786+0xd94;case-0x1c62+-0x91*0x12+0x1d4b*0x2:return 0x1d8c+-0x74e+-0x4*0x58f;case-0x2db+0x1*0xc5+0x1*0x1619:return-0x211d*-0x1+0x18ef+-0x2*0x1d05;case-0x1529+-0x19ca+0x7*0x991:return-0x29*-0x55+-0x1acd+-0x41*-0x34;case 0x2517+0x1c3*0xb+-0x2473:return-0x14*0x53+-0x1abb*-0x1+-0x143b;case-0x30b+-0x232d+0x1e*0x1f1:return 0xf*-0x22e+-0xb*-0x13c+0x1322;default:return 0x2*-0x905+0x1*-0x23ef+0x35f9;}},KF=_0x2d6ca1=>{switch(_0x2d6ca1){case 0x7d1+0x29*0xc7+-0xa8*0x1e:return Int8Array;case-0x1f93+-0x9*0x32b+-0xcb*-0x65:return Uint8Array;case 0xdf4+-0xff*-0x7+-0xeb:return Int16Array;case-0x5*0x437+-0xd*-0x2af+-0x45*-0x17:return Uint16Array;case-0x646+-0x1b2*-0x13+-0x5ec:return Int32Array;case-0x3*0xc07+-0xe*0x160+0x283*0x1e:return Uint32Array;case 0x1*0x55c+0x1607+-0x75d:return Float32Array;default:return null;}},Nh={'POSITION':Me,'NORMAL':gs,'TANGENT':yi,'COLOR_0':Wt,'JOINTS_0':us,'WEIGHTS_0':gi,'TEXCOORD_0':is,'TEXCOORD_1':ba,'TEXCOORD_2':wl,'TEXCOORD_3':El,'TEXCOORD_4':bl,'TEXCOORD_5':Al,'TEXCOORD_6':Cl,'TEXCOORD_7':Pl},SS={[Me]:0x24c0+0xb96+-0x1*0x3056,[gs]:-0x5*0x411+-0x1e73*0x1+0x1*0x32c9,[yi]:0x20a1*-0x1+-0x238+0x22db,[Wt]:-0x5*-0x7b1+-0x26ba+0x3*0x18,[us]:-0x265e+-0x3*0x87e+0x3fdc,[gi]:0x7*0x500+-0xc32+-0x1*0x16c9,[is]:-0x37*-0x2f+0x25b7+-0x2fca,[ba]:0x3e1*0x7+-0x983*-0x1+-0x1*0x24a3,[wl]:-0x5ad*0x1+-0x17e4+0x1d99,[El]:0x1f91+-0x18d+-0x5*0x5ff,[bl]:-0x146*0xc+0x3*-0x4d5+0x1dd1,[Al]:-0x1*0x1a90+-0x2308*0x1+-0x1f*-0x1fd,[Cl]:-0x1e6+0x1169+-0xf77,[Pl]:-0x4*0x73b+0x6c5*0x3+0x8aa},ZF=_0x4cf736=>{switch(_0x4cf736){case dd:return _0x1324f6=>Math['max'](_0x1324f6/(-0xecc+-0x2163+0x30ae),-(0x8a2+0x115+-0x9b6));case la:return _0x5db04f=>_0x5db04f/(0x1343*0x2+0x116*-0x13+0xad*-0x19);case fd:return _0x26339d=>Math['max'](_0x26339d/(0x9a97+0xe2cd*0x1+-0x7*0x2433),-(0x1105+0xfd*0xa+0x16*-0x139));case Ml:return _0x352ab7=>_0x352ab7/(0x4504*0x1+-0x8045*-0x3+-0xc5d4);default:return _0x14e2e6=>_0x14e2e6;}},Gu=(_0x522398,_0x325b20,_0x525225)=>{const _0x49a4ce=ZF(_0x525225),_0x446e1d=_0x325b20['length'];for(let _0x4d68bd=-0x9*0x85+0x856+-0x3a9;_0x4d68bd<_0x446e1d;++_0x4d68bd)_0x522398[_0x4d68bd]=_0x49a4ce(_0x325b20[_0x4d68bd]);return _0x522398;},ua=(_0x25bdfa,_0x2cdc7c,_0x3ee12b=!(-0xd91+0x2df*-0xa+0x2a48*0x1))=>{const _0x40feeb=yl(_0x25bdfa['type']),_0x5626b=KF(_0x25bdfa['componentT'+'ype']);if(!_0x5626b)return null;let _0x3ab4b0;if(_0x25bdfa['sparse']){const _0x57583a=_0x25bdfa['sparse'],_0x550170={'count':_0x57583a['count'],'type':'SCALAR'},_0x4385ae=ua(Object['assign'](_0x550170,_0x57583a['indices']),_0x2cdc7c,!(0x4ac+0x2d7*0x1+-0x783)),_0x1c004a={'count':_0x57583a['count'],'type':_0x25bdfa['type'],'componentType':_0x25bdfa['componentT'+'ype']},_0x139a2e=ua(Object['assign'](_0x1c004a,_0x57583a['values']),_0x2cdc7c,!(-0x1880+0x116b+-0x25*-0x31));if(_0x25bdfa['hasOwnProp'+'erty']('bufferView')){const _0x2c13d3={'bufferView':_0x25bdfa['bufferView'],'byteOffset':_0x25bdfa['byteOffset'],'componentType':_0x25bdfa['componentT'+'ype'],'count':_0x25bdfa['count'],'type':_0x25bdfa['type']};_0x3ab4b0=ua(_0x2c13d3,_0x2cdc7c,!(0x1e42+-0x15*0x33+-0x537*0x5))['slice']();}else _0x3ab4b0=new _0x5626b(_0x25bdfa['count']*_0x40feeb);for(let _0x16a9e3=0x140d+-0x1*-0x1402+-0x280f;_0x16a9e3<_0x57583a['count'];++_0x16a9e3){const _0x1bc618=_0x4385ae[_0x16a9e3];for(let _0x4bd050=0x1*-0xab5+-0x86*-0x1+0xa2f;_0x4bd050<_0x40feeb;++_0x4bd050)_0x3ab4b0[_0x1bc618*_0x40feeb+_0x4bd050]=_0x139a2e[_0x16a9e3*_0x40feeb+_0x4bd050];}}else{if(_0x25bdfa['hasOwnProp'+'erty']('bufferView')){const _0x5ebe3e=_0x2cdc7c[_0x25bdfa['bufferView']];if(_0x3ee12b&&_0x5ebe3e['hasOwnProp'+'erty']('byteStride')){const _0x3a483a=_0x40feeb*_0x5626b['BYTES_PER_'+'ELEMENT'],_0x28c19d=new ArrayBuffer(_0x25bdfa['count']*_0x3a483a),_0x555c46=new Uint8Array(_0x28c19d);let _0x1c8379=-0x20f3+0x1f6*-0x4+-0x3b*-0xb1;for(let _0x2cf73f=0x239c+0x947*-0x4+0x6*0x40;_0x2cf73f<_0x25bdfa['count'];++_0x2cf73f){let _0x29de21=(_0x25bdfa['byteOffset']||-0xb8e+-0x18c3+-0x9*-0x409)+_0x2cf73f*_0x5ebe3e['byteStride'];for(let _0x1e491f=-0x965+-0x2*0x345+0xfef;_0x1e491f<_0x3a483a;++_0x1e491f)_0x555c46[_0x1c8379++]=_0x5ebe3e[_0x29de21++];}_0x3ab4b0=new _0x5626b(_0x28c19d);}else _0x3ab4b0=new _0x5626b(_0x5ebe3e['buffer'],_0x5ebe3e['byteOffset']+(_0x25bdfa['byteOffset']||-0x97e+0x37*-0x9b+-0x2acb*-0x1),_0x25bdfa['count']*_0x40feeb);}else _0x3ab4b0=new _0x5626b(_0x25bdfa['count']*_0x40feeb);}return _0x3ab4b0;},Pn=(_0x2d79b8,_0x15fd30)=>{const _0x36b7dd=ua(_0x2d79b8,_0x15fd30,!(-0x1131+-0xf9a+-0x68f*-0x5));if(_0x36b7dd instanceof Float32Array||!_0x2d79b8['normalized'])return _0x36b7dd;const _0x18921b=new Float32Array(_0x36b7dd['length']);return Gu(_0x18921b,_0x36b7dd,Dd(_0x2d79b8['componentT'+'ype'])),_0x18921b;},Hu=_0x53dc76=>{let _0x165766=_0x53dc76['min'],_0x466f1f=_0x53dc76['max'];if(!_0x165766||!_0x466f1f)return null;if(_0x53dc76['normalized']){const _0x4b0854=Dd(_0x53dc76['componentT'+'ype']);_0x165766=Gu([],_0x165766,_0x4b0854),_0x466f1f=Gu([],_0x466f1f,_0x4b0854);}return new De(new D((_0x466f1f[0x254b+0x1b57+-0x40a2]+_0x165766[0x18*0x12f+-0x684+-0x4*0x579])*(-0x193*0x1+-0x1885+-0x5*-0x538+0.5),(_0x466f1f[0x14fc+0x1899+-0x2d94]+_0x165766[0x1d41*-0x1+0x1f*0xa+0x1c0c])*(-0x1*0x2585+-0x5c3*0x5+0x4254+0.5),(_0x466f1f[-0x6b4+0x148b+-0xdd5*0x1]+_0x165766[-0x1*0x9a3+-0x2060+-0x15b*-0x1f])*(0x389*0x9+0x1a*0xb9+-0xa1f*0x5+0.5)),new D((_0x466f1f[-0xb*-0x1a2+0x923+0x1*-0x1b19]-_0x165766[0x2d4*-0x7+-0x1699*0x1+0x1*0x2a65])*(-0x1f37+0x21f7+0x40*-0xb+0.5),(_0x466f1f[-0x18a1+0x1075+0x82d]-_0x165766[-0x1a37+-0x1*0x1ac6+-0x31e*-0x11])*(-0x6b9*-0x2+0x935*0x1+-0x16a7+0.5),(_0x466f1f[-0xbd0+-0x1*-0x19ef+-0xe1d]-_0x165766[0x1*0xb9c+-0x23f6+-0xc2e*-0x2])*(-0x1*-0x1a17+0x2489+-0xa7*0x60+0.5)));},T0=_0x4b9d89=>{if(!_0x4b9d89['hasOwnProp'+'erty']('mode'))return js;switch(_0x4b9d89['mode']){case-0x61b*0x2+-0x18fc+0x2532:return cd;case-0x1*-0xc4c+0xd*0x1a0+0x91*-0x3b:return hd;case-0x38*0x25+-0x105a+0x1874:return _y;case 0x190a+0x1d37+0x1b1f*-0x2:return gy;case 0xcfc+0x55f*-0x2+-0x26*0xf:return js;case-0x25*0x6+0xfd1*-0x2+0x2085:return Er;case 0xb09+-0xd*-0x2fa+-0x31b5:return oa;default:return js;}},QF=_0x400d78=>{const _0xd6922b=new Uint16Array(_0x400d78);for(let _0x599d26=0x139*0x11+-0xae9+-0x4f*0x20;_0x599d26<_0x400d78;_0x599d26++)_0xd6922b[_0x599d26]=_0x599d26;return _0xd6922b;},JF=(_0x4d6221,_0x398fd3)=>{const _0x57aaf6=_0x4d6221[Me];if(!_0x57aaf6||_0x57aaf6['components']!==-0x16e0+-0x1260+-0xdc1*-0x3)return;let _0x30e401;if(_0x57aaf6['size']!==_0x57aaf6['stride']){const _0x2f8887=_0x57aaf6['stride']/No[_0x57aaf6['type']],_0xf17b=new wn[_0x57aaf6['type']](_0x57aaf6['buffer'],_0x57aaf6['offset'],_0x57aaf6['count']*_0x2f8887);_0x30e401=new wn[_0x57aaf6['type']](_0x57aaf6['count']*(-0x5f*-0x6+0x1634+-0x13*0x149));for(let _0x209789=-0x17f9+0x61*0x61+-0xcc8;_0x209789<_0x57aaf6['count'];++_0x209789)_0x30e401[_0x209789*(-0x1*-0x251c+-0x1fd1+-0x548)+(0x1*0x17e7+-0x548*-0x4+-0x2d07)]=_0xf17b[_0x209789*_0x2f8887+(0x822*-0x3+-0x46+0x18ac)],_0x30e401[_0x209789*(0x1067+0x2ee*0xd+-0x367a)+(-0x2004+0x1*0xfe+0x1f07)]=_0xf17b[_0x209789*_0x2f8887+(-0x2336+0x16fa+0xc3d)],_0x30e401[_0x209789*(0x1*0x1d3+0x13a7+-0x1577)+(0xdb6+0x9c8+-0x177c)]=_0xf17b[_0x209789*_0x2f8887+(0xbb*0x19+0x1da9+0x2fea*-0x1)];}else _0x30e401=new wn[_0x57aaf6['type']](_0x57aaf6['buffer'],_0x57aaf6['offset'],_0x57aaf6['count']*(0x2688+0x1*0x377+-0x29fc));const _0x25ac6b=_0x57aaf6['count'];_0x398fd3||(_0x398fd3=QF(_0x25ac6b));const _0x47caaa=Iv(_0x30e401,_0x398fd3),_0x5f1ddc=new Float32Array(_0x47caaa['length']);_0x5f1ddc['set'](_0x47caaa),_0x4d6221[gs]={'buffer':_0x5f1ddc['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x25ac6b,'components':0x3,'type':Ve};},eN=_0x433db7=>{const _0x47e3fe=_0x1a57ca=>{const _0x2bd358=[];for(let _0x5140e8=-0x701+-0x212d+0x282e;_0x5140e8<_0x1a57ca['_levels']['length'];++_0x5140e8){let _0x18d0e2=[];if(_0x1a57ca['cubemap']){for(let _0x104298=0x25ad+0x2ad+0x5*-0x812;_0x104298<-0x4a2+0x268f+-0x107*0x21;++_0x104298)_0x18d0e2['push'](_0x1a57ca['_levels'][_0x5140e8][_0x104298]);}else _0x18d0e2=_0x1a57ca['_levels'][_0x5140e8];_0x2bd358['push'](_0x18d0e2);}return _0x2bd358;},_0x5e6fc1=new _e(_0x433db7['device'],_0x433db7);return _0x5e6fc1['_levels']=_0x47e3fe(_0x433db7),_0x5e6fc1;},tN=_0x17c3d8=>{const _0x54a0ac=new pe(_0x17c3d8['name']+'_clone',_0x17c3d8['type'],_0x17c3d8['file'],_0x17c3d8['data'],_0x17c3d8['options']);return _0x54a0ac['loaded']=!(-0x21ed+-0x1017+0x6*0x856),_0x54a0ac['resource']=eN(_0x17c3d8['resource']),_0x17c3d8['registry']['add'](_0x54a0ac),_0x54a0ac;},sN=(_0x2a1739,_0x188aa7)=>{const _0x136264=_0x188aa7[Me];if(!_0x136264)return null;const _0x53c40c=_0x136264['count'],_0x49f990=[];for(const _0x34bf63 in _0x188aa7)if(_0x188aa7['hasOwnProp'+'erty'](_0x34bf63)){const _0x3d862c={'semantic':_0x34bf63,'components':_0x188aa7[_0x34bf63]['components'],'type':_0x188aa7[_0x34bf63]['type'],'normalize':!!_0x188aa7[_0x34bf63]['normalize']};kt['isElementV'+'alid'](_0x2a1739,_0x3d862c)||_0x3d862c['components']++,_0x49f990['push'](_0x3d862c);}_0x49f990['sort']((_0x197d35,_0x354465)=>SS[_0x197d35['semantic']]-SS[_0x354465['semantic']]);let _0x2162c,_0x34395a,_0x459e7e,_0x2c92f7,_0x16e0bf,_0x382b3c;const _0x149d72=new kt(_0x2a1739,_0x49f990);let _0xc1af73=!(-0x476*-0x8+0x1b3d*-0x1+-0x873);for(_0x2162c=0x103d+-0xca*-0x1d+-0x271f;_0x2162c<_0x149d72['elements']['length'];++_0x2162c)if(_0x16e0bf=_0x149d72['elements'][_0x2162c],_0x2c92f7=_0x188aa7[_0x16e0bf['name']],_0x382b3c=_0x2c92f7['offset']-_0x136264['offset'],_0x2c92f7['buffer']!==_0x136264['buffer']||_0x2c92f7['stride']!==_0x16e0bf['stride']||_0x2c92f7['size']!==_0x16e0bf['size']||_0x382b3c!==_0x16e0bf['offset']){_0xc1af73=!(0x7*0x292+-0x1194+0x7*-0xf);break;}const _0x1d5338=new Is(_0x2a1739,_0x149d72,_0x53c40c),_0xc91fd1=_0x1d5338['lock'](),_0x444f47=new Uint32Array(_0xc91fd1);let _0x3388d4;if(_0xc1af73)_0x3388d4=new Uint32Array(_0x136264['buffer'],_0x136264['offset'],_0x53c40c*_0x1d5338['format']['size']/(-0x1004+-0x122a+0x2232)),_0x444f47['set'](_0x3388d4);else{let _0x18ee24,_0x48e547;for(_0x2162c=0x1b*0xf1+-0x1c*0x13f+0x5*0x1e5;_0x2162c<_0x1d5338['format']['elements']['length'];++_0x2162c){_0x16e0bf=_0x1d5338['format']['elements'][_0x2162c],_0x18ee24=_0x16e0bf['stride']/(-0xa84+-0xb65+-0x74f*-0x3),_0x2c92f7=_0x188aa7[_0x16e0bf['name']],_0x48e547=_0x2c92f7['stride']/(0x2e9*0x3+-0x88+-0x82f),_0x3388d4=new Uint32Array(_0x2c92f7['buffer'],_0x2c92f7['offset'],(_0x2c92f7['count']-(-0x1a6b+-0x9*-0x2a5+0x29f))*_0x48e547+(_0x2c92f7['size']+(-0xa53+-0x2*0xcb8+-0x13*-0x1e2))/(-0x14a5+0xe4b+0x146*0x5));let _0x2f5101=0x1d6c+-0x1a7b+0xfb*-0x3,_0xae0675=_0x16e0bf['offset']/(-0x54*-0x5+-0x21bd+0x201d);const _0x235349=Math['floor']((_0x2c92f7['size']+(0x16*0xe4+0xa73+0x8*-0x3c1))/(-0x1248+-0x1*0x1ed7+0x3123));for(_0x34395a=-0x1*0x210a+0x53*-0x5+-0x1d3*-0x13;_0x34395a<_0x53c40c;++_0x34395a){for(_0x459e7e=-0x116e+0x72+0x10fc;_0x459e7e<_0x235349;++_0x459e7e)_0x444f47[_0xae0675+_0x459e7e]=_0x3388d4[_0x2f5101+_0x459e7e];_0x2f5101+=_0x48e547,_0xae0675+=_0x18ee24;}}}return _0x1d5338['unlock'](),_0x1d5338;},iN=(_0x4d3b54,_0x25ca5d,_0x30f69a,_0x5878bb,_0x1c115e,_0x3cdc06)=>{const _0x1c94a8={},_0x110c65=[];for(const _0x1209cc in _0x25ca5d)_0x25ca5d['hasOwnProp'+'erty'](_0x1209cc)&&Nh['hasOwnProp'+'erty'](_0x1209cc)&&(_0x1c94a8[_0x1209cc]=_0x25ca5d[_0x1209cc],_0x110c65['push'](_0x1209cc+':'+_0x25ca5d[_0x1209cc]));_0x110c65['sort']();const _0x230c09=_0x110c65['join']();let _0x2a2756=_0x3cdc06[_0x230c09];if(!_0x2a2756){const _0x21238d={};for(const _0x32389c in _0x1c94a8){const _0x21d48c=_0x5878bb[_0x25ca5d[_0x32389c]],_0x158752=ua(_0x21d48c,_0x1c115e),_0x416c0f=_0x1c115e[_0x21d48c['bufferView']],_0x5cbd14=Nh[_0x32389c],_0x4f2c1e=yl(_0x21d48c['type'])*YF(_0x21d48c['componentT'+'ype']),_0x2ce516=_0x416c0f&&_0x416c0f['hasOwnProp'+'erty']('byteStride')?_0x416c0f['byteStride']:_0x4f2c1e;_0x21238d[_0x5cbd14]={'buffer':_0x158752['buffer'],'size':_0x4f2c1e,'offset':_0x158752['byteOffset'],'stride':_0x2ce516,'count':_0x21d48c['count'],'components':yl(_0x21d48c['type']),'type':Dd(_0x21d48c['componentT'+'ype']),'normalize':_0x21d48c['normalized']};}_0x21238d['hasOwnProp'+'erty'](gs)||JF(_0x21238d,_0x30f69a),_0x2a2756=sN(_0x4d3b54,_0x21238d),_0x3cdc06[_0x230c09]=_0x2a2756;}return _0x2a2756;},rN=(_0x34b80b,_0xdfe97c,_0x2d6d6a,_0x1e234c,_0x4b8a2d,_0x2236a5)=>{let _0x4fafda,_0x11fe64,_0x5b1651;const _0x570848=_0xdfe97c['joints'],_0x4b9ceb=_0x570848['length'],_0x177c6a=[];if(_0xdfe97c['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x1d7381=_0xdfe97c['inverseBin'+'dMatrices'],_0x4efa09=ua(_0x2d6d6a[_0x1d7381],_0x1e234c,!(-0x19a5*-0x1+0x16*0x8b+-0x1*0x2597)),_0x1d7508=[];for(_0x4fafda=-0x4cb*-0x5+0x1*-0x13eb+-0x40c;_0x4fafda<_0x4b9ceb;_0x4fafda++){for(_0x11fe64=0x1bb7+0x1cb*-0xe+-0x29d;_0x11fe64<-0x1*-0x1fcd+0x2*0x527+0xe5*-0x2f;_0x11fe64++)_0x1d7508[_0x11fe64]=_0x4efa09[_0x4fafda*(-0xeb5+-0x106f+0x1f34)+_0x11fe64];_0x5b1651=new te(),_0x5b1651['set'](_0x1d7508),_0x177c6a['push'](_0x5b1651);}}else{for(_0x4fafda=0x611+-0x688+0x1*0x77;_0x4fafda<_0x4b9ceb;_0x4fafda++)_0x5b1651=new te(),_0x177c6a['push'](_0x5b1651);}const _0x37a665=[];for(_0x4fafda=-0x236e*0x1+0x3*-0xb6d+0x45b5;_0x4fafda<_0x4b9ceb;_0x4fafda++)_0x37a665[_0x4fafda]=_0x4b8a2d[_0x570848[_0x4fafda]]['name'];const _0x3c5f33=_0x37a665['join']('#');let _0x19bd0c=_0x2236a5['get'](_0x3c5f33);return _0x19bd0c||(_0x19bd0c=new Lv(_0x34b80b,_0x177c6a,_0x37a665),_0x2236a5['set'](_0x3c5f33,_0x19bd0c)),_0x19bd0c;},aN=(_0x447796,_0x202a49,_0x5897a8,_0x425d72,_0x597d89,_0x2eb55e,_0x5f2b5d)=>{var _0x24319c;const _0x4f9771=new Ge(_0x447796);_0x4f9771['aabb']=Hu(_0x5897a8[_0x202a49['attributes']['POSITION']]);const _0x35673b=[];for(const [_0x17787f,_0x11323b]of Object['entries'](_0x202a49['attributes'])){const _0x39ebdc=_0x5897a8[_0x11323b],_0x4aa08e=Nh[_0x17787f],_0x4e179e=Dd(_0x39ebdc['componentT'+'ype']);_0x35673b['push']({'semantic':_0x4aa08e,'components':yl(_0x39ebdc['type']),'type':_0x4e179e,'normalize':_0x39ebdc['normalized']??(_0x4aa08e===Wt&&(_0x4e179e===la||_0x4e179e===Ml))});}if(_0x5f2b5d['push'](new Promise((_0x18d508,_0x13fd96)=>{const _0xb675c7=_0x202a49['extensions']['KHR_draco_'+'mesh_compr'+'ession'];XF(_0x425d72[_0xb675c7['bufferView']]['slice']()['buffer'],(_0x434802,_0x485837)=>{var _0x4c4af9;if(_0x434802)console['log'](_0x434802),_0x13fd96(_0x434802);else{const _0x32d0ac={};for(const [_0x4f8618,_0x457340]of Object['entries'](_0xb675c7['attributes']))_0x32d0ac[Nh[_0x4f8618]]=_0x485837['attributes']['indexOf'](_0x457340);_0x35673b['sort']((_0x4cb896,_0x43f018)=>_0x32d0ac[_0x4cb896['semantic']]-_0x32d0ac[_0x43f018['semantic']]),(_0x4c4af9=_0x202a49['attributes'])!=null&&_0x4c4af9['NORMAL']||_0x35673b['splice'](0x4*0x3c3+0x1*-0xaab+-0x460,-0x1379+0x2260+-0xee7,{'semantic':'NORMAL','components':0x3,'type':Ve});const _0x780c59=new kt(_0x447796,_0x35673b),_0x2bdb9c=_0x485837['vertices']['byteLength']/_0x780c59['size'],_0x5e0f65=_0x2bdb9c<=-0x1f*-0x8f4+-0x171d3+0xae23*0x2?Yi:wr,_0x4f4f14=_0x485837['indices']['byteLength']/(_0x2bdb9c<=-0xa18+-0x4d55+-0x55db*-0x4?0x264a+-0xd3*-0x1+-0x47*0x8d:0x1*-0x16a+0x1*-0x49a+0x608);w['call'](()=>{_0x2bdb9c!==_0x5897a8[_0x202a49['attributes']['POSITION']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0x4f4f14!==_0x5897a8[_0x202a49['indices']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x241422=new Is(_0x447796,_0x780c59,_0x2bdb9c,{'data':_0x485837['vertices']}),_0x3b3ef2=new br(_0x447796,_0x5e0f65,_0x4f4f14,ms,_0x485837['indices']);_0x4f9771['vertexBuff'+'er']=_0x241422,_0x4f9771['indexBuffe'+'r'][0x2d2*-0x5+-0x1*-0x178f+0x975*-0x1]=_0x3b3ef2,_0x4f9771['primitive'][-0x15*-0xbc+-0x1715+-0x7a9*-0x1]['type']=T0(_0x202a49),_0x4f9771['primitive'][-0xe99*-0x2+-0x91e*-0x2+-0xd*0x3a6]['base']=0xcd2+-0x1*-0x1c26+0x3*-0xda8,_0x4f9771['primitive'][0x6a0+-0xc34+0xc*0x77]['count']=_0x3b3ef2?_0x4f4f14:_0x2bdb9c,_0x4f9771['primitive'][-0x463*-0x1+0x5*0xca+-0x855]['indexed']=!!_0x3b3ef2,_0x18d508();}});})),(_0x24319c=_0x202a49==null?void(-0x25ab*0x1+-0x1*-0x17ff+0xdac):_0x202a49['extensions'])!=null&&_0x24319c['KHR_materi'+'als_varian'+'ts']){const _0x1bd498=_0x202a49['extensions']['KHR_materi'+'als_varian'+'ts'],_0x349d06={};_0x1bd498['mappings']['forEach'](_0x47118f=>{_0x47118f['variants']['forEach'](_0x10eb79=>{_0x349d06[_0x10eb79]=_0x47118f['material'];});}),_0x597d89[_0x4f9771['id']]=_0x349d06;}return _0x2eb55e[_0x4f9771['id']]=_0x202a49['material'],_0x4f9771;},nN=(_0x2910a1,_0x46cfb6,_0x38ad3f,_0x29b405,_0x4998d7,_0x22e856,_0x456d2f,_0x248eb7,_0x57ce1b)=>{const _0x4a85fa=[];return _0x46cfb6['primitives']['forEach'](_0x5595e6=>{var _0x418eff;if((_0x418eff=_0x5595e6['extensions'])!=null&&_0x418eff['KHR_draco_'+'mesh_compr'+'ession'])_0x4a85fa['push'](aN(_0x2910a1,_0x5595e6,_0x38ad3f,_0x29b405,_0x22e856,_0x456d2f,_0x57ce1b));else{let _0x130a91=_0x5595e6['hasOwnProp'+'erty']('indices')?ua(_0x38ad3f[_0x5595e6['indices']],_0x29b405,!(0x2ee+-0x1c9e+0xc*0x224)):null;const _0x44e9bc=iN(_0x2910a1,_0x5595e6['attributes'],_0x130a91,_0x38ad3f,_0x29b405,_0x4998d7),_0x3d7667=T0(_0x5595e6),_0x553bb4=new Ge(_0x2910a1);if(_0x553bb4['vertexBuff'+'er']=_0x44e9bc,_0x553bb4['primitive'][0x6*-0x54b+-0x1c08+-0x1*-0x3bca]['type']=_0x3d7667,_0x553bb4['primitive'][0xc48+0x12f7*0x1+0x1a5*-0x13]['base']=0x3*-0xfb+-0x1cd7*-0x1+-0x19e6,_0x553bb4['primitive'][0x1*0xd69+-0x2*0x49f+-0x61*0xb]['indexed']=_0x130a91!==null,_0x130a91!==null){let _0x15bf45;_0x130a91 instanceof Uint8Array?_0x15bf45=$f:_0x130a91 instanceof Uint16Array?_0x15bf45=Yi:_0x15bf45=wr,_0x15bf45===$f&&_0x2910a1['isWebGPU']&&(_0x15bf45=Yi,_0x130a91=new Uint16Array(_0x130a91));const _0x101e3e=new br(_0x2910a1,_0x15bf45,_0x130a91['length'],ms,_0x130a91);_0x553bb4['indexBuffe'+'r'][-0x112c+-0x158d+0x26b9]=_0x101e3e,_0x553bb4['primitive'][-0x5*-0x5b+-0x7a9+0xfb*0x6]['count']=_0x130a91['length'];}else _0x553bb4['primitive'][-0x1*0x87d+-0xf92+-0x1*-0x180f]['count']=_0x44e9bc['numVertice'+'s'];if(_0x5595e6['hasOwnProp'+'erty']('extensions')&&_0x5595e6['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x244a18=_0x5595e6['extensions']['KHR_materi'+'als_varian'+'ts'],_0xd04488={};_0x244a18['mappings']['forEach'](_0x104766=>{_0x104766['variants']['forEach'](_0x32e681=>{_0xd04488[_0x32e681]=_0x104766['material'];});}),_0x22e856[_0x553bb4['id']]=_0xd04488;}_0x456d2f[_0x553bb4['id']]=_0x5595e6['material'];let _0x2f0730=_0x38ad3f[_0x5595e6['attributes']['POSITION']];if(_0x553bb4['aabb']=Hu(_0x2f0730),_0x5595e6['hasOwnProp'+'erty']('targets')){const _0x16ae27=[];_0x5595e6['targets']['forEach']((_0x5a4e6e,_0x106cc3)=>{const _0x4ddba8={};_0x5a4e6e['hasOwnProp'+'erty']('POSITION')&&(_0x2f0730=_0x38ad3f[_0x5a4e6e['POSITION']],_0x4ddba8['deltaPosit'+'ions']=Pn(_0x2f0730,_0x29b405),_0x4ddba8['aabb']=Hu(_0x2f0730)),_0x5a4e6e['hasOwnProp'+'erty']('NORMAL')&&(_0x2f0730=_0x38ad3f[_0x5a4e6e['NORMAL']],_0x4ddba8['deltaNorma'+'ls']=Pn(_0x2f0730,_0x29b405)),_0x46cfb6['hasOwnProp'+'erty']('extras')&&_0x46cfb6['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x4ddba8['name']=_0x46cfb6['extras']['targetName'+'s'][_0x106cc3]:_0x4ddba8['name']=_0x106cc3['toString'](0x1be6*-0x1+0x56e+0x1*0x1682),_0x46cfb6['hasOwnProp'+'erty']('weights')&&(_0x4ddba8['defaultWei'+'ght']=_0x46cfb6['weights'][_0x106cc3]),_0x4ddba8['preserveDa'+'ta']=_0x248eb7['morphPrese'+'rveData'],_0x16ae27['push'](new Md(_0x4ddba8));}),_0x553bb4['morph']=new mm(_0x16ae27,_0x2910a1,{'preferHighPrecision':_0x248eb7['morphPrefe'+'rHighPreci'+'sion']});}_0x4a85fa['push'](_0x553bb4);}}),_0x4a85fa;},Dt=(_0x72da9c,_0x46ef95,_0x2d6349)=>{var _0x2643ba;let _0x346910;const _0x37eddb=_0x72da9c['texCoord'];if(_0x37eddb){for(_0x346910=-0x1*-0x1ee3+0xa5b+-0x293e;_0x346910<_0x2d6349['length'];++_0x346910)_0x46ef95[_0x2d6349[_0x346910]+'MapUv']=_0x37eddb;}const _0x4da8b1=[0x1*-0x59f+0x11f3+0xc*-0x107,-0x691+-0x344+0x9d5],_0x21f7d8=[-0x132a+-0xf24+0x224f,-0x1a0b+0x204f+-0x643],_0x53e968=(_0x2643ba=_0x72da9c['extensions'])==null?void(-0x1855+-0x57a+0x1dcf):_0x2643ba['KHR_textur'+'e_transfor'+'m'];if(_0x53e968){const _0x112442=_0x53e968['offset']||_0x4da8b1,_0x1f15b1=_0x53e968['scale']||_0x21f7d8,_0x5ea9f6=_0x53e968['rotation']?-_0x53e968['rotation']*Y['RAD_TO_DEG']:-0x3*0x6b+0x2*-0xe2c+-0x1d99*-0x1,_0x149009=new J(_0x1f15b1[0x2624+-0x526*0x3+-0x16b2],_0x1f15b1[-0x1*-0x18f5+-0xa40+-0x75a*0x2]),_0x3fd00d=new J(_0x112442[-0xf67*0x1+-0x8ad*0x2+0x68d*0x5],0x1fa5+-0x4f8+-0x4*0x6ab-_0x1f15b1[0x1494*-0x1+0x84e+-0x1*-0xc47]-_0x112442[0x380*0x2+-0x73*0x44+0x1*0x178d]);for(_0x346910=-0x22f8*-0x1+0x4*0x62+-0x40*0x92;_0x346910<_0x2d6349['length'];++_0x346910)_0x46ef95[_0x2d6349[_0x346910]+'MapTiling']=_0x149009,_0x46ef95[_0x2d6349[_0x346910]+'MapOffset']=_0x3fd00d,_0x46ef95[_0x2d6349[_0x346910]+('MapRotatio'+'n')]=_0x5ea9f6;}},oN=(_0x4b81c4,_0x4b96ac,_0xe63b4d)=>{let _0x136fc7,_0xd73031;if(_0x4b81c4['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x136fc7=_0x4b81c4['diffuseFac'+'tor'],_0x4b96ac['diffuse']['set'](Math['pow'](_0x136fc7[-0x85f+-0x1*-0x4c7+-0x1cc*-0x2],(-0x89d+-0x180a+-0x688*-0x5)/(-0x3*-0x7d7+-0x1*0xa05+-0xd7e+0.20000000000000018)),Math['pow'](_0x136fc7[-0x697+-0xd71*-0x1+-0x6d9],(0x399*-0x9+-0xc85+0x2ce7*0x1)/(0xbaf*-0x1+-0x253+0xe04+0.20000000000000018)),Math['pow'](_0x136fc7[0xeae*0x2+-0x167b+-0x6df*0x1],(0x1c88+0x2a0+-0x1f27)/(0x206d+0x2451+-0x44bc+0.20000000000000018))),_0x4b96ac['opacity']=_0x136fc7[-0x165d+-0x18fd*0x1+0x2f5d]):(_0x4b96ac['diffuse']['set'](-0x999+-0x2167+0x6d*0x65,0x23b9+0x25c7+-0x163*0x35,0x183d+-0x819*0x3+0xf),_0x4b96ac['opacity']=-0xef9+-0xf68+0x1e62),_0x4b81c4['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x1648f6=_0x4b81c4['diffuseTex'+'ture'];_0xd73031=_0xe63b4d[_0x1648f6['index']],_0x4b96ac['diffuseMap']=_0xd73031,_0x4b96ac['diffuseMap'+'Channel']='rgb',_0x4b96ac['opacityMap']=_0xd73031,_0x4b96ac['opacityMap'+'Channel']='a',Dt(_0x1648f6,_0x4b96ac,['diffuse','opacity']);}if(_0x4b96ac['useMetalne'+'ss']=!(0x6*-0x2bd+-0x1b6f+0x1*0x2bde),_0x4b81c4['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x136fc7=_0x4b81c4['specularFa'+'ctor'],_0x4b96ac['specular']['set'](Math['pow'](_0x136fc7[-0x6cc+0x24df+-0x1e13*0x1],(-0xcd6+-0x7d7+0x1*0x14ae)/(-0x53*0x1+-0x1d*-0x143+-0x2442+0.20000000000000018)),Math['pow'](_0x136fc7[-0x1b9a+-0x3be+0x1f59],(0x4d8+0xbf*0x6+0xf*-0x9f)/(0x1a17*0x1+-0x2d3+-0x1742*0x1+0.20000000000000018)),Math['pow'](_0x136fc7[-0x2*-0x3f2+0x1b30+-0x2312],(0x3c+0x1*-0x136f+0x1334)/(0x1f2f+-0x1*-0x143a+-0x1*0x3367+0.20000000000000018)))):_0x4b96ac['specular']['set'](-0x1*0x76f+-0x200a+-0x277a*-0x1,-0x580+0x1*0x1189+-0xc08,-0x820+-0x1*0x704+0xf25),_0x4b81c4['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x4b96ac['gloss']=_0x4b81c4['glossiness'+'Factor']:_0x4b96ac['gloss']=-0x293*-0x7+-0x10a7+-0x15d,_0x4b81c4['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x36d783=_0x4b81c4['specularGl'+'ossinessTe'+'xture'];_0x4b96ac['specularMa'+'p']=_0x4b96ac['glossMap']=_0xe63b4d[_0x36d783['index']],_0x4b96ac['specularMa'+'pChannel']='rgb',_0x4b96ac['glossMapCh'+'annel']='a',Dt(_0x36d783,_0x4b96ac,['gloss','metalness']);}},lN=(_0x385d77,_0x4eac53,_0x25893d)=>{if(_0x385d77['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x4eac53['clearCoat']=_0x385d77['clearcoatF'+'actor']*(-0x13e+-0x16f*0x9+0xe25+0.25):_0x4eac53['clearCoat']=-0x20ad+-0x422+-0x417*-0x9,_0x385d77['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0x5b9501=_0x385d77['clearcoatT'+'exture'];_0x4eac53['clearCoatM'+'ap']=_0x25893d[_0x5b9501['index']],_0x4eac53['clearCoatM'+'apChannel']='r',Dt(_0x5b9501,_0x4eac53,['clearCoat']);}if(_0x385d77['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x4eac53['clearCoatG'+'loss']=_0x385d77['clearcoatR'+'oughnessFa'+'ctor']:_0x4eac53['clearCoatG'+'loss']=0x9bb*-0x1+0x4a*-0x2+0xa4f,_0x385d77['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0x576b1f=_0x385d77['clearcoatR'+'oughnessTe'+'xture'];_0x4eac53['clearCoatG'+'lossMap']=_0x25893d[_0x576b1f['index']],_0x4eac53['clearCoatG'+'lossMapCha'+'nnel']='g',Dt(_0x576b1f,_0x4eac53,['clearCoatG'+'loss']);}if(_0x385d77['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x4d0829=_0x385d77['clearcoatN'+'ormalTextu'+'re'];_0x4eac53['clearCoatN'+'ormalMap']=_0x25893d[_0x4d0829['index']],Dt(_0x4d0829,_0x4eac53,['clearCoatN'+'ormal']),_0x4d0829['hasOwnProp'+'erty']('scale')?_0x4eac53['clearCoatB'+'umpiness']=_0x4d0829['scale']:_0x4eac53['clearCoatB'+'umpiness']=0x142e+-0x1a88+0x65b;}_0x4eac53['clearCoatG'+'lossInvert']=!(0x17e7+0x200c+0x1*-0x37f3);},cN=(_0x4a6260,_0x1c6090,_0x52bd22)=>{_0x1c6090['useLightin'+'g']=!(-0x12f5+0x24c0+-0x11ca),_0x1c6090['emissive']['copy'](_0x1c6090['diffuse']),_0x1c6090['emissiveMa'+'p']=_0x1c6090['diffuseMap'],_0x1c6090['emissiveMa'+'pUv']=_0x1c6090['diffuseMap'+'Uv'],_0x1c6090['emissiveMa'+'pTiling']['copy'](_0x1c6090['diffuseMap'+'Tiling']),_0x1c6090['emissiveMa'+'pOffset']['copy'](_0x1c6090['diffuseMap'+'Offset']),_0x1c6090['emissiveMa'+'pRotation']=_0x1c6090['diffuseMap'+'Rotation'],_0x1c6090['emissiveMa'+'pChannel']=_0x1c6090['diffuseMap'+'Channel'],_0x1c6090['emissiveVe'+'rtexColor']=_0x1c6090['diffuseVer'+'texColor'],_0x1c6090['emissiveVe'+'rtexColorC'+'hannel']=_0x1c6090['diffuseVer'+'texColorCh'+'annel'],_0x1c6090['useLightin'+'g']=!(-0xe*0xd7+-0x11ea*-0x2+-0x1811),_0x1c6090['useSkybox']=!(-0x1b0f+0xead*-0x1+0x29bd),_0x1c6090['diffuse']['set'](-0x2514+-0x736+0x29b*0x11,0x1*0x13c6+-0xe53+-0x572,-0xbdb+0x2*-0x12bc+0x29*0x134),_0x1c6090['diffuseMap']=null,_0x1c6090['diffuseVer'+'texColor']=!(-0xa59+0x1659*-0x1+-0x2f9*-0xb);},hN=(_0x4cc2d8,_0x4f6823,_0x16f742)=>{if(_0x4f6823['useMetalne'+'ssSpecular'+'Color']=!(-0x2*-0x11a1+-0x1*0x15b0+-0x3*0x486),_0x4cc2d8['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x4f6823['specularMa'+'p']=_0x16f742[_0x4cc2d8['specularCo'+'lorTexture']['index']],_0x4f6823['specularMa'+'pChannel']='rgb',Dt(_0x4cc2d8['specularCo'+'lorTexture'],_0x4f6823,['specular'])),_0x4cc2d8['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x3df622=_0x4cc2d8['specularCo'+'lorFactor'];_0x4f6823['specular']['set'](Math['pow'](_0x3df622[0x1511*-0x1+-0x8d+0x159e],(0x2028+0x1c*0xec+-0x39f7)/(-0x19ba*-0x1+0x26d4+-0x408c*0x1+0.20000000000000018)),Math['pow'](_0x3df622[0x17*-0x11c+-0x782*0x2+-0x3*-0xd83],(0x6*-0x199+-0x19cf+0x17*0x18a)/(0x21f1+-0xa83+0x4*-0x5db+0.20000000000000018)),Math['pow'](_0x3df622[-0x2*0x98b+-0x580*0x3+0x2398],(0x156b+-0x242*-0x1+-0x17ac)/(-0x9a5*-0x1+-0x1*-0x1e95+-0x63*0x68+0.20000000000000018)));}else _0x4f6823['specular']['set'](0x252*-0x3+-0x326+-0x1*-0xa1d,-0x2f6*0x4+0x171*0x13+-0xf8a,0x2*-0x908+0x1*0x10f+-0x7*-0x26e);_0x4cc2d8['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x4f6823['specularit'+'yFactor']=_0x4cc2d8['specularFa'+'ctor']:_0x4f6823['specularit'+'yFactor']=-0x14fc+0x12b8+0x245,_0x4cc2d8['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x4f6823['specularit'+'yFactorMap'+'Channel']='a',_0x4f6823['specularit'+'yFactorMap']=_0x16f742[_0x4cc2d8['specularTe'+'xture']['index']],Dt(_0x4cc2d8['specularTe'+'xture'],_0x4f6823,['specularit'+'yFactor']));},dN=(_0x1b51ba,_0x715c2a,_0x1830cd)=>{_0x1b51ba['hasOwnProp'+'erty']('ior')&&(_0x715c2a['refraction'+'Index']=(-0xa3*-0x9+0x1115*0x2+-0x114*0x25)/_0x1b51ba['ior']);},fN=(_0x1f3ca8,_0x5c99dc,_0x3820fe)=>{_0x1f3ca8['hasOwnProp'+'erty']('dispersion')&&(_0x5c99dc['dispersion']=_0x1f3ca8['dispersion']);},uN=(_0xeb70b7,_0x4797f9,_0x5126de)=>{_0x4797f9['blendType']=Zs,_0x4797f9['useDynamic'+'Refraction']=!(0x6d7+-0x1b99+0xa61*0x2),_0xeb70b7['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x4797f9['refraction']=_0xeb70b7['transmissi'+'onFactor']),_0xeb70b7['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x4797f9['refraction'+'MapChannel']='r',_0x4797f9['refraction'+'Map']=_0x5126de[_0xeb70b7['transmissi'+'onTexture']['index']],Dt(_0xeb70b7['transmissi'+'onTexture'],_0x4797f9,['refraction']));},pN=(_0x5b0ab7,_0x5ab9da,_0x2222eb)=>{if(_0x5ab9da['useSheen']=!(0x17d2+0x16*-0x32+-0x1386),_0x5b0ab7['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0x1780d6=_0x5b0ab7['sheenColor'+'Factor'];_0x5ab9da['sheen']['set'](Math['pow'](_0x1780d6[0x15a6+0x9*0x67+0x1945*-0x1],(0x239*0x11+0x1*0x1f39+-0x4501)/(-0x152b*0x1+0x5d0*-0x1+0x8ff*0x3+0.20000000000000018)),Math['pow'](_0x1780d6[-0x1*0xdfc+-0x7f*-0x15+0x392],(-0xa37*-0x2+0x83a+-0x1ca7)/(-0x12b*-0x2+0x2467*0x1+-0x26bb+0.20000000000000018)),Math['pow'](_0x1780d6[-0x1cdd+-0x1a89*-0x1+-0x1*-0x256],(-0x557*-0x2+0x2347+-0xad*0x44)/(-0x18d7+0x1f3b+0x1*-0x662+0.20000000000000018)));}else _0x5ab9da['sheen']['set'](0x1798+-0x381*-0x4+0x3*-0xc89,-0x1927+-0xd19+0x2641,0x3*-0x89+0x3*0x162+0x1*-0x28a);_0x5b0ab7['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x5ab9da['sheenMap']=_0x2222eb[_0x5b0ab7['sheenColor'+'Texture']['index']],Dt(_0x5b0ab7['sheenColor'+'Texture'],_0x5ab9da,['sheen'])),_0x5ab9da['sheenGloss']=_0x5b0ab7['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x5b0ab7['sheenRough'+'nessFactor']:-0x9b2+0x2480+-0x1ace,_0x5b0ab7['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x5ab9da['sheenGloss'+'Map']=_0x2222eb[_0x5b0ab7['sheenRough'+'nessTextur'+'e']['index']],_0x5ab9da['sheenGloss'+'MapChannel']='a',Dt(_0x5b0ab7['sheenRough'+'nessTextur'+'e'],_0x5ab9da,['sheenGloss'])),_0x5ab9da['sheenGloss'+'Invert']=!(0x15a3+-0x31f+-0x1284);},mN=(_0x30d07b,_0x151246,_0x5c1541)=>{if(_0x151246['blendType']=Zs,_0x151246['useDynamic'+'Refraction']=!(-0x1*0x234f+0x1c9a+0x6b5),_0x30d07b['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0x151246['thickness']=_0x30d07b['thicknessF'+'actor']),_0x30d07b['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0x151246['thicknessM'+'ap']=_0x5c1541[_0x30d07b['thicknessT'+'exture']['index']],_0x151246['thicknessM'+'apChannel']='g',Dt(_0x30d07b['thicknessT'+'exture'],_0x151246,['thickness'])),_0x30d07b['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0x151246['attenuatio'+'nDistance']=_0x30d07b['attenuatio'+'nDistance']),_0x30d07b['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x23383b=_0x30d07b['attenuatio'+'nColor'];_0x151246['attenuatio'+'n']['set'](Math['pow'](_0x23383b[-0x214e+-0x20a2+0xa*0x698],(0x2150+-0x2196+0x47)/(-0x24b*0x1+0x841*-0x2+0x9*0x217+0.20000000000000018)),Math['pow'](_0x23383b[0x244e+-0x87*-0x35+-0x20*0x202],(0x1*-0xc6e+-0x1d9a+0x2a09)/(0x772*-0x5+0x187f+0xcbd+0.20000000000000018)),Math['pow'](_0x23383b[-0x14ef*0x1+0x1eaf*-0x1+0x1c*0x1d8],(-0x1eac+-0x3bb+0x2268)/(0xa53+-0x1974+0x1*0xf23+0.20000000000000018)));}},_N=(_0x441aa9,_0x3706cd,_0x5481e6)=>{_0x441aa9['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x3706cd['emissiveIn'+'tensity']=_0x441aa9['emissiveSt'+'rength']);},gN=(_0x5008c0,_0x44f06c,_0xf5f3be)=>{_0x44f06c['useIridesc'+'ence']=!(0x1*0x2203+-0x5c2*0x4+-0xafb),_0x5008c0['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x44f06c['iridescenc'+'e']=_0x5008c0['iridescenc'+'eFactor']),_0x5008c0['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x44f06c['iridescenc'+'eMapChanne'+'l']='r',_0x44f06c['iridescenc'+'eMap']=_0xf5f3be[_0x5008c0['iridescenc'+'eTexture']['index']],Dt(_0x5008c0['iridescenc'+'eTexture'],_0x44f06c,['iridescenc'+'e'])),_0x5008c0['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x44f06c['iridescenc'+'eRefractio'+'nIndex']=_0x5008c0['iridescenc'+'eIor']),_0x5008c0['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x44f06c['iridescenc'+'eThickness'+'Min']=_0x5008c0['iridescenc'+'eThickness'+'Minimum']),_0x5008c0['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x44f06c['iridescenc'+'eThickness'+'Max']=_0x5008c0['iridescenc'+'eThickness'+'Maximum']),_0x5008c0['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x44f06c['iridescenc'+'eThickness'+'MapChannel']='g',_0x44f06c['iridescenc'+'eThickness'+'Map']=_0xf5f3be[_0x5008c0['iridescenc'+'eThickness'+'Texture']['index']],Dt(_0x5008c0['iridescenc'+'eThickness'+'Texture'],_0x44f06c,['iridescenc'+'eThickness']));},SN=(_0x194aa5,_0x545a9c,_0x4f1676)=>{if(_0x545a9c['enableGGXS'+'pecular']=!(-0x5*0x359+0xbca*-0x1+0x1c87),_0x194aa5['hasOwnProp'+'erty']('anisotropy'+'Strength')?_0x545a9c['anisotropy'+'Intensity']=_0x194aa5['anisotropy'+'Strength']:_0x545a9c['anisotropy'+'Intensity']=0xb4c+-0x1863+-0xd17*-0x1,_0x194aa5['hasOwnProp'+'erty']('anisotropy'+'Texture')){const _0x90956c=_0x194aa5['anisotropy'+'Texture'];_0x545a9c['anisotropy'+'Map']=_0x4f1676[_0x90956c['index']],Dt(_0x90956c,_0x545a9c,['anisotropy']);}_0x194aa5['hasOwnProp'+'erty']('anisotropy'+'Rotation')?_0x545a9c['anisotropy'+'Rotation']=_0x194aa5['anisotropy'+'Rotation']*Y['RAD_TO_DEG']:_0x545a9c['anisotropy'+'Rotation']=-0x2125+-0x68c+0x27b1;},w0=(_0x5048f0,_0x82e17a)=>{const _0x52e005=new Ut();_0x5048f0['hasOwnProp'+'erty']('name')&&(_0x52e005['name']=_0x5048f0['name']),_0x52e005['occludeSpe'+'cular']=bd,_0x52e005['diffuseVer'+'texColor']=!(-0x2*0x871+0xc*0xa3+0x93e),_0x52e005['specularTi'+'nt']=!(-0x1f*-0xfb+-0x2079+0x10a*0x2),_0x52e005['specularVe'+'rtexColor']=!(-0x2375+-0x17*0x8+0x7*0x52b),_0x52e005['specular']['set'](0x1a6b+0x40c*0x3+-0x268e,0xd5d+0x260+-0xfbc,-0x171f+0x22d3+0x257*-0x5),_0x52e005['gloss']=0x1f07+-0x1ee+-0x1d18,_0x52e005['glossInver'+'t']=!(-0x226f+-0xf08+0x3177),_0x52e005['useMetalne'+'ss']=!(0x85*-0x14+0x259f+0x1*-0x1b3b);let _0x5604ed,_0x1bd850;if(_0x5048f0['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x508d09=_0x5048f0['pbrMetalli'+'cRoughness'];if(_0x508d09['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x5604ed=_0x508d09['baseColorF'+'actor'],_0x52e005['diffuse']['set'](Math['pow'](_0x5604ed[-0x6ff+-0xf6b+-0xb35*-0x2],(0x60*0x3e+-0xf41+-0x7fe)/(-0x350+0x370*-0xa+-0x2*-0x12d9+0.20000000000000018)),Math['pow'](_0x5604ed[0x23a8+-0x21ca+-0x9f*0x3],(0x1271+-0x1ed*0x7+0x1a7*-0x3)/(-0x22ef+0x1f22+0x3cf+0.20000000000000018)),Math['pow'](_0x5604ed[0x1ca2+-0x319*0x1+-0x1987],(0x1*-0x3ed+-0x14a6+0x1894)/(0x1e10+0x151+-0x1f5f+0.20000000000000018))),_0x52e005['opacity']=_0x5604ed[-0x996*-0x4+-0x198e+0x1*-0xcc7]),_0x508d09['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x4a42b2=_0x508d09['baseColorT'+'exture'];_0x1bd850=_0x82e17a[_0x4a42b2['index']],_0x52e005['diffuseMap']=_0x1bd850,_0x52e005['diffuseMap'+'Channel']='rgb',_0x52e005['opacityMap']=_0x1bd850,_0x52e005['opacityMap'+'Channel']='a',Dt(_0x4a42b2,_0x52e005,['diffuse','opacity']);}if(_0x508d09['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0x52e005['metalness']=_0x508d09['metallicFa'+'ctor']),_0x508d09['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0x52e005['gloss']=_0x508d09['roughnessF'+'actor']),_0x508d09['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x30cd72=_0x508d09['metallicRo'+'ughnessTex'+'ture'];_0x52e005['metalnessM'+'ap']=_0x52e005['glossMap']=_0x82e17a[_0x30cd72['index']],_0x52e005['metalnessM'+'apChannel']='b',_0x52e005['glossMapCh'+'annel']='g',Dt(_0x30cd72,_0x52e005,['gloss','metalness']);}}if(_0x5048f0['hasOwnProp'+'erty']('normalText'+'ure')){const _0xb6a5ff=_0x5048f0['normalText'+'ure'];_0x52e005['normalMap']=_0x82e17a[_0xb6a5ff['index']],Dt(_0xb6a5ff,_0x52e005,['normal']),_0xb6a5ff['hasOwnProp'+'erty']('scale')&&(_0x52e005['bumpiness']=_0xb6a5ff['scale']);}if(_0x5048f0['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x331a73=_0x5048f0['occlusionT'+'exture'];_0x52e005['aoMap']=_0x82e17a[_0x331a73['index']],_0x52e005['aoMapChann'+'el']='r',Dt(_0x331a73,_0x52e005,['ao']);}if(_0x5048f0['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x5604ed=_0x5048f0['emissiveFa'+'ctor'],_0x52e005['emissive']['set'](Math['pow'](_0x5604ed[-0x1dcd+-0x1*-0x1779+0x654],(0x12b1+-0x1af*-0x5+-0x1b1b)/(0xb*0x1b9+-0x1d4b*0x1+0x19*0x6a+0.20000000000000018)),Math['pow'](_0x5604ed[-0x1*0x10c9+0x195c+-0x892*0x1],(-0x1986+-0x1173*-0x1+0x205*0x4)/(0x24f6+0x1afd+-0x3ff1+0.20000000000000018)),Math['pow'](_0x5604ed[0x2103+0x24e7+0x8*-0x8bd],(0x3*0x23d+-0x1067+0x9b1)/(-0x11f3*-0x1+-0x1381+0x190+0.20000000000000018)))),_0x5048f0['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x8a1d39=_0x5048f0['emissiveTe'+'xture'];_0x52e005['emissiveMa'+'p']=_0x82e17a[_0x8a1d39['index']],Dt(_0x8a1d39,_0x52e005,['emissive']);}if(_0x5048f0['hasOwnProp'+'erty']('alphaMode'))switch(_0x5048f0['alphaMode']){case'MASK':_0x52e005['blendType']=Cs,_0x5048f0['hasOwnProp'+'erty']('alphaCutof'+'f')?_0x52e005['alphaTest']=_0x5048f0['alphaCutof'+'f']:_0x52e005['alphaTest']=0x5*0x43f+-0x2c7*0x9+0x3c4+0.5;break;case'BLEND':_0x52e005['blendType']=Zs,_0x52e005['depthWrite']=!(0x1*-0xb88+-0x18ab+0x2434);break;default:case'OPAQUE':_0x52e005['blendType']=Cs;break;}else _0x52e005['blendType']=Cs;_0x5048f0['hasOwnProp'+'erty']('doubleSide'+'d')?(_0x52e005['twoSidedLi'+'ghting']=_0x5048f0['doubleSide'+'d'],_0x52e005['cull']=_0x5048f0['doubleSide'+'d']?bt:pa):(_0x52e005['twoSidedLi'+'ghting']=!(0x24a7+0x49*-0x6c+-0x5da),_0x52e005['cull']=pa);const _0x3c6fc0={'KHR_materials_clearcoat':lN,'KHR_materials_emissive_strength':_N,'KHR_materials_ior':dN,'KHR_materials_dispersion':fN,'KHR_materials_iridescence':gN,'KHR_materials_pbrSpecularGlossiness':oN,'KHR_materials_sheen':pN,'KHR_materials_specular':hN,'KHR_materials_transmission':uN,'KHR_materials_unlit':cN,'KHR_materials_volume':mN,'KHR_materials_anisotropy':SN};if(_0x5048f0['hasOwnProp'+'erty']('extensions'))for(const _0x402ddc in _0x5048f0['extensions']){const _0x4cb386=_0x3c6fc0[_0x402ddc];_0x4cb386!==void(-0xcd2+0xd*0xb8+0x37a)&&_0x4cb386(_0x5048f0['extensions'][_0x402ddc],_0x52e005,_0x82e17a);}return _0x52e005['update'](),_0x52e005;},yN=(_0x288e6b,_0x314919,_0xc389aa,_0x513ab8,_0x3b7067,_0x4682f1,_0xd23fe)=>{const _0x15e03b=_0x17a4d6=>new Fh(yl(_0x17a4d6['type']),Pn(_0x17a4d6,_0x513ab8)),_0x218545={'STEP':Bv,'LINEAR':Su,'CUBICSPLINE':yu},_0x4a2592={},_0x56d1f6={},_0x49f2a7={};let _0x1e9d25=-0x3b3+0x1ad6+-0x1722,_0x1cfaa2;for(_0x1cfaa2=-0x62*-0x55+0x1162+-0x31ec;_0x1cfaa2<_0x288e6b['samplers']['length'];++_0x1cfaa2){const _0x1b17f2=_0x288e6b['samplers'][_0x1cfaa2];_0x4a2592['hasOwnProp'+'erty'](_0x1b17f2['input'])||(_0x4a2592[_0x1b17f2['input']]=_0x15e03b(_0xc389aa[_0x1b17f2['input']])),_0x56d1f6['hasOwnProp'+'erty'](_0x1b17f2['output'])||(_0x56d1f6[_0x1b17f2['output']]=_0x15e03b(_0xc389aa[_0x1b17f2['output']]));const _0x63100d=_0x1b17f2['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x218545['hasOwnProp'+'erty'](_0x1b17f2['interpolat'+'ion'])?_0x218545[_0x1b17f2['interpolat'+'ion']]:Su,_0x11245d={'paths':[],'input':_0x1b17f2['input'],'output':_0x1b17f2['output'],'interpolation':_0x63100d};_0x49f2a7[_0x1cfaa2]=_0x11245d;}const _0x40daf1=[],_0x4a05fa={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x152e16=_0x51d398=>{const _0x1c24c8=[];for(;_0x51d398;)_0x1c24c8['unshift'](_0x51d398['name']),_0x51d398=_0x51d398['parent'];return _0x1c24c8;},_0x1215d8=(_0x5c70f5,_0x121fd7,_0x527a88)=>{const _0x5d9cc1=_0x56d1f6[_0x5c70f5['output']];if(!_0x5d9cc1){w['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x527a88+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0x3e205e;if(_0x4682f1&&_0x4682f1[_0x121fd7['mesh']]){const _0x6bfbf9=_0x4682f1[_0x121fd7['mesh']];_0x6bfbf9['hasOwnProp'+'erty']('extras')&&_0x6bfbf9['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0x3e205e=_0x6bfbf9['extras']['targetName'+'s']);}const _0x9ded69=_0x5d9cc1['data'],_0x33e7a4=_0x9ded69['length']/_0x4a2592[_0x5c70f5['input']]['data']['length'],_0x727d2f=_0x9ded69['length']/_0x33e7a4,_0x418d65=_0x727d2f*(0x56*0x27+0x3*0x2db+-0x15a7),_0x10fa89=new ArrayBuffer(_0x418d65*_0x33e7a4);for(let _0x1f71d5=-0x2270+0x2*-0x3f1+0x1529*0x2;_0x1f71d5<_0x33e7a4;_0x1f71d5++){const _0x2e5a6=new Float32Array(_0x10fa89,_0x418d65*_0x1f71d5,_0x727d2f);for(let _0x58c8d9=-0x331*0xb+0x1*-0x151b+0x3836;_0x58c8d9<_0x727d2f;_0x58c8d9++)_0x2e5a6[_0x58c8d9]=_0x9ded69[_0x58c8d9*_0x33e7a4+_0x1f71d5];const _0x4fd55b=new Fh(-0x1c40+-0x83*-0xf+0x1494,_0x2e5a6),_0x6f7c9a=_0x3e205e!=null&&_0x3e205e[_0x1f71d5]?'name.'+_0x3e205e[_0x1f71d5]:_0x1f71d5;_0x56d1f6[-_0x1e9d25]=_0x4fd55b;const _0x27f364={'paths':[{'entityPath':_0x527a88,'component':'graph','propertyPath':['weight.'+_0x6f7c9a]}],'input':_0x5c70f5['input'],'output':-_0x1e9d25,'interpolation':_0x5c70f5['interpolat'+'ion']};_0x1e9d25++,_0x49f2a7['morphCurve'+'-'+_0x1cfaa2+'-'+_0x1f71d5]=_0x27f364;}};for(_0x1cfaa2=-0x189f+-0x1a9e+0x333d;_0x1cfaa2<_0x288e6b['channels']['length'];++_0x1cfaa2){const _0x1a3459=_0x288e6b['channels'][_0x1cfaa2],_0x2f933c=_0x1a3459['target'],_0x501578=_0x49f2a7[_0x1a3459['sampler']],_0x546fb1=_0x3b7067[_0x2f933c['node']],_0x5c1a43=_0xd23fe[_0x2f933c['node']],_0x1a69dd=_0x152e16(_0x546fb1);_0x2f933c['path']['startsWith']('weights')?(_0x1215d8(_0x501578,_0x5c1a43,_0x1a69dd),_0x49f2a7[_0x1a3459['sampler']]['morphCurve']=!(0x52b+0xda*-0x1+-0xdd*0x5)):_0x501578['paths']['push']({'entityPath':_0x1a69dd,'component':'graph','propertyPath':[_0x4a05fa[_0x2f933c['path']]]});}const _0x500663=[],_0x377d72=[],_0x4dd5f8=[];for(const _0x1cbdee in _0x4a2592)_0x500663['push'](_0x4a2592[_0x1cbdee]),_0x4a2592[_0x1cbdee]=_0x500663['length']-(-0x1*-0xaab+-0x98f*0x2+0x874);for(const _0x8d0c6d in _0x56d1f6)_0x377d72['push'](_0x56d1f6[_0x8d0c6d]),_0x56d1f6[_0x8d0c6d]=_0x377d72['length']-(0xeb9+0x36*-0xab+0x6*0x38f);for(const _0xcb6a7d in _0x49f2a7){const _0x45c5b5=_0x49f2a7[_0xcb6a7d];_0x45c5b5['morphCurve']||(_0x4dd5f8['push'](new v0(_0x45c5b5['paths'],_0x4a2592[_0x45c5b5['input']],_0x56d1f6[_0x45c5b5['output']],_0x45c5b5['interpolat'+'ion'])),_0x45c5b5['paths']['length']>-0x1a38+0x704+0x1334&&_0x45c5b5['paths'][0x3cf+-0x137*-0x5+-0xa*0xfd]['propertyPa'+'th'][-0x91*0x5+0x12*0x11f+-0x1159]==='localRotat'+'ion'&&_0x45c5b5['interpolat'+'ion']!==yu&&_0x40daf1['push'](_0x4dd5f8[_0x4dd5f8['length']-(0x1*-0x1c1+-0x1*0xb29+0x1*0xceb)]['output']));}_0x40daf1['sort']();let _0x2e4fa8=null,_0x453719;for(_0x1cfaa2=-0x14e4+0x1*-0x19d5+-0x531*-0x9;_0x1cfaa2<_0x40daf1['length'];++_0x1cfaa2){const _0x3bc9ba=_0x40daf1[_0x1cfaa2];if(_0x1cfaa2===-0x2278+0x100d+-0x1*-0x126b||_0x3bc9ba!==_0x2e4fa8){if(_0x453719=_0x377d72[_0x3bc9ba],_0x453719['components']===0x1*0xeb6+0x2*0x1e8+0x17*-0xce){const _0x2e59d5=_0x453719['data'],_0x193425=_0x2e59d5['length']-(-0x278*-0x6+0x194b+-0x2817);for(let _0x3481c8=-0x24c6+-0x4f*0x4+0x2602;_0x3481c8<_0x193425;_0x3481c8+=0x411*-0x7+-0x1631*-0x1+-0x142*-0x5)_0x2e59d5[_0x3481c8+(-0x31a*-0x5+-0x23ad+0x142b)]*_0x2e59d5[_0x3481c8+(-0x382*0x1+-0xf69+0x25*0x83)]+_0x2e59d5[_0x3481c8+(0xd2d+-0x2441*0x1+0x1715)]*_0x2e59d5[_0x3481c8+(0x1567+0x1650+-0x2*0x15d9)]+_0x2e59d5[_0x3481c8+(-0x235c+0x21c1+0x19d*0x1)]*_0x2e59d5[_0x3481c8+(0xe3*0x29+0x73d+0xd*-0x35a)]+_0x2e59d5[_0x3481c8+(-0x1871+-0x906+-0x359*-0xa)]*_0x2e59d5[_0x3481c8+(-0x180c+0x8*-0x452+0x373*0x11)]<-0x10ad*0x2+-0x1*0x455+0x25af&&(_0x2e59d5[_0x3481c8+(0x1*-0x258d+0x56a+0x1*0x2027)]*=-(0x4*-0x10c+-0xf6b*-0x1+0x3be*-0x3),_0x2e59d5[_0x3481c8+(0x254+0x7a5+-0x9f4)]*=-(-0x1f3+0x2139+-0x1f45),_0x2e59d5[_0x3481c8+(0x1842+0x1*-0x21cb+0x98f*0x1)]*=-(-0x1906*0x1+-0x21*-0x88+0x77f),_0x2e59d5[_0x3481c8+(-0x517*-0x1+-0x3*-0x639+-0x17bb)]*=-(0xf2a+0xc9a*0x1+-0x3*0x941));}_0x2e4fa8=_0x3bc9ba;}}let _0x2486e9=-0x86e+0x476*-0x7+0x27a8;for(_0x1cfaa2=0x75b+0x1d7*-0x11+0x17ec;_0x1cfaa2<_0x500663['length'];_0x1cfaa2++)_0x453719=_0x500663[_0x1cfaa2]['_data'],_0x2486e9=Math['max'](_0x2486e9,_0x453719['length']===0xc0*0x33+-0x24c1+-0x17f?-0x888*0x3+-0xa7c*-0x2+-0x94*-0x8:_0x453719[_0x453719['length']-(0xe4e+0xe53+0x8*-0x394)]);return new Qi(_0x288e6b['hasOwnProp'+'erty']('name')?_0x288e6b['name']:'animation_'+_0x314919,_0x2486e9,_0x500663,_0x377d72,_0x4dd5f8);},Dc=new te(),Qa=new D(),vN=(_0x481c10,_0x5be3a9,_0x332c6b)=>{const _0x651e69=new Ie();if(_0x481c10['hasOwnProp'+'erty']('name')&&_0x481c10['name']['length']>0x12ab+-0x7a7*-0x3+-0x534*0x8?_0x651e69['name']=_0x481c10['name']:_0x651e69['name']='node_'+_0x5be3a9,_0x481c10['hasOwnProp'+'erty']('matrix')&&(Dc['data']['set'](_0x481c10['matrix']),Dc['getTransla'+'tion'](Qa),_0x651e69['setLocalPo'+'sition'](Qa),Dc['getEulerAn'+'gles'](Qa),_0x651e69['setLocalEu'+'lerAngles'](Qa),Dc['getScale'](Qa),_0x651e69['setLocalSc'+'ale'](Qa)),_0x481c10['hasOwnProp'+'erty']('rotation')){const _0x57032a=_0x481c10['rotation'];_0x651e69['setLocalRo'+'tation'](_0x57032a[0x25c8+0x73*-0xb+-0x20d7*0x1],_0x57032a[-0x2096+0x454*-0x5+0x363b],_0x57032a[-0x576+0x1*0x2171+-0x15*0x155],_0x57032a[-0x20f8+0x11c0+0x7*0x22d]);}if(_0x481c10['hasOwnProp'+'erty']('translatio'+'n')){const _0x2623be=_0x481c10['translatio'+'n'];_0x651e69['setLocalPo'+'sition'](_0x2623be[-0x1cf*0xd+0x1358+0x42b],_0x2623be[0x995+-0x1c2f+0xb*0x1b1],_0x2623be[0xc44+0x1*0x1584+-0x21c6]);}if(_0x481c10['hasOwnProp'+'erty']('scale')){const _0x4f7b80=_0x481c10['scale'];_0x651e69['setLocalSc'+'ale'](_0x4f7b80[-0xa*0x2c8+-0x21a4*-0x1+-0x5d4],_0x4f7b80[-0x33*-0x5e+-0x6c7+0x16*-0x8b],_0x4f7b80[0x21cc+-0x9*0x159+0x1*-0x15a9]);}return _0x481c10['hasOwnProp'+'erty']('extensions')&&_0x481c10['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x332c6b['set'](_0x481c10,{'ext':_0x481c10['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x651e69;},xN=(_0x1048dd,_0x18c3a3)=>{const _0x2e4ff8=_0x1048dd['type']==='orthograph'+'ic'?En:ni,_0x2e5d26=_0x2e4ff8===En?_0x1048dd['orthograph'+'ic']:_0x1048dd['perspectiv'+'e'],_0x214272={'enabled':!(-0x1791+0x7*0x31b+0x1d5),'projection':_0x2e4ff8,'nearClip':_0x2e5d26['znear'],'aspectRatioMode':hm};_0x2e5d26['zfar']&&(_0x214272['farClip']=_0x2e5d26['zfar']),_0x2e4ff8===En?(_0x214272['orthoHeigh'+'t']=(0x2699+0xc0a*-0x1+-0x20b*0xd+0.5)*_0x2e5d26['ymag'],_0x2e5d26['ymag']&&(_0x214272['aspectRati'+'oMode']=lu,_0x214272['aspectRati'+'o']=_0x2e5d26['xmag']/_0x2e5d26['ymag'])):(_0x214272['fov']=_0x2e5d26['yfov']*Y['RAD_TO_DEG'],_0x2e5d26['aspectRati'+'o']&&(_0x214272['aspectRati'+'oMode']=lu,_0x214272['aspectRati'+'o']=_0x2e5d26['aspectRati'+'o']));const _0x107c0e=new lt(_0x1048dd['name']);return _0x107c0e['addCompone'+'nt']('camera',_0x214272),_0x107c0e;},TN=(_0x32c937,_0x31600f)=>{const _0x517438={'enabled':!(0x2140+0x1552+-0x3691*0x1),'type':_0x32c937['type']==='point'?'omni':_0x32c937['type'],'color':_0x32c937['hasOwnProp'+'erty']('color')?new ie(_0x32c937['color']):ie['WHITE'],'range':_0x32c937['hasOwnProp'+'erty']('range')?_0x32c937['range']:-0x5d*-0x95+-0x7f*0x43+0x1*0x122b,'falloffMode':ev,'intensity':_0x32c937['hasOwnProp'+'erty']('intensity')?Y['clamp'](_0x32c937['intensity'],0x100d+-0xb5*-0xd+-0x193e,-0x16c7+-0x15b2+-0x1*-0x2c7b):-0x20a1*-0x1+0x20fe+-0x419e};_0x32c937['hasOwnProp'+'erty']('spot')&&(_0x517438['innerConeA'+'ngle']=_0x32c937['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x32c937['spot']['innerConeA'+'ngle']*Y['RAD_TO_DEG']:0x323+-0x3*0x44b+-0x4df*-0x2,_0x517438['outerConeA'+'ngle']=_0x32c937['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x32c937['spot']['outerConeA'+'ngle']*Y['RAD_TO_DEG']:Math['PI']/(-0x36f+0xaab+-0x21*0x38)),_0x32c937['hasOwnProp'+'erty']('intensity')&&(_0x517438['luminance']=_0x32c937['intensity']*pl['getLightUn'+'itConversi'+'on'](fu[_0x517438['type']],_0x517438['outerConeA'+'ngle'],_0x517438['innerConeA'+'ngle']));const _0x31f6e9=new lt(_0x31600f['name']);return _0x31f6e9['rotateLoca'+'l'](-0xab0+-0x1142+0xe26*0x2,0x39b*-0x1+0x3*-0x881+-0x1*-0x1d1e,-0xb*0x1bf+-0xb*-0x291+0x2*-0x483),_0x31f6e9['addCompone'+'nt']('light',_0x517438),_0x31f6e9;},wN=(_0xf6a3b2,_0x20b3b0,_0x3be9a3,_0x5e9445)=>{if(!_0x20b3b0['hasOwnProp'+'erty']('skins')||_0x20b3b0['skins']['length']===0x3c3*0x1+0x2335+0x74*-0x56)return[];const _0x4ea405=new Map();return _0x20b3b0['skins']['map'](_0x463b89=>rN(_0xf6a3b2,_0x463b89,_0x20b3b0['accessors'],_0x5e9445,_0x3be9a3,_0x4ea405));},EN=(_0x5a4175,_0x453753,_0xbe2d32,_0x2e255b)=>{var _0x3af1df,_0x4e01c3,_0x4cc5e6;const _0x492c52={},_0x5610f7={},_0x3b9042={},_0x491178=[];return{'meshes':!_0x2e255b['skipMeshes']&&((_0x3af1df=_0x453753==null?void(-0x22d4+0x7b2+0x1b22*0x1):_0x453753['meshes'])==null?void(-0x2*0xa59+-0x1fce+0x18*0x230):_0x3af1df['length'])&&((_0x4e01c3=_0x453753==null?void(0x706+-0x1c30*0x1+0x152a):_0x453753['accessors'])==null?void(-0x1*-0x268f+0x188b+0xc5*-0x52):_0x4e01c3['length'])&&((_0x4cc5e6=_0x453753==null?void(0x1744+-0x19a1+0x79*0x5):_0x453753['bufferView'+'s'])==null?void(-0x2*-0x637+-0x28a+-0x9e4):_0x4cc5e6['length'])?_0x453753['meshes']['map'](_0x2e979f=>nN(_0x5a4175,_0x2e979f,_0x453753['accessors'],_0xbe2d32,_0x492c52,_0x5610f7,_0x3b9042,_0x2e255b,_0x491178)):[],'meshVariants':_0x5610f7,'meshDefaultMaterials':_0x3b9042,'promises':_0x491178};},bN=(_0x350f6f,_0x7c6709,_0x11f032)=>{var _0x416573,_0x283f5f,_0x1ccc99;if(!_0x350f6f['hasOwnProp'+'erty']('materials')||_0x350f6f['materials']['length']===-0x1*-0x75a+-0x2f3*-0x2+0x6a*-0x20)return[];const _0x141860=(_0x416573=_0x11f032==null?void(0x2306+0x13*0x65+0x613*-0x7):_0x11f032['material'])==null?void(-0x1efb+0x1d*0x99+0xda6):_0x416573['preprocess'],_0x22b278=((_0x283f5f=_0x11f032==null?void(0x1d*0x43+-0xc04*-0x2+-0x1f9f):_0x11f032['material'])==null?void(0x1652*0x1+0x1ae2+-0x3134):_0x283f5f['process'])??w0,_0x8417ae=(_0x1ccc99=_0x11f032==null?void(-0x5f7*-0x5+-0x10c1+0x1*-0xd12):_0x11f032['material'])==null?void(-0x4*-0x47d+-0x671*-0x2+-0x1ed6):_0x1ccc99['postproces'+'s'];return _0x350f6f['materials']['map'](_0x4887fe=>{_0x141860&&_0x141860(_0x4887fe);const _0xcb2a1b=_0x22b278(_0x4887fe,_0x7c6709);return _0x8417ae&&_0x8417ae(_0x4887fe,_0xcb2a1b),_0xcb2a1b;});},AN=_0x1f47b2=>{if(!_0x1f47b2['hasOwnProp'+'erty']('extensions')||!_0x1f47b2['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x38a428=_0x1f47b2['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0xa47456={};for(let _0x22f791=0x13b4+0xb31+-0x1ee5*0x1;_0x22f791<_0x38a428['length'];_0x22f791++)_0xa47456[_0x38a428[_0x22f791]['name']]=_0x22f791;return _0xa47456;},CN=(_0x43438d,_0x3e8a48,_0x252d67,_0x12c1c4)=>{var _0x25399b,_0x3808a1;if(!_0x43438d['hasOwnProp'+'erty']('animations')||_0x43438d['animations']['length']===0x1*0x172c+0x6a*0x8+-0x1a7c)return[];const _0x4babc8=(_0x25399b=_0x12c1c4==null?void(0x2259+0x12a0*-0x1+-0xfb9):_0x12c1c4['animation'])==null?void(-0x242e+0xcf*0x11+0x166f):_0x25399b['preprocess'],_0x3b1196=(_0x3808a1=_0x12c1c4==null?void(0x1*0x6ab+-0x189f+0x1*0x11f4):_0x12c1c4['animation'])==null?void(0x128e+-0x14a6+0x218):_0x3808a1['postproces'+'s'];return _0x43438d['animations']['map']((_0x56525b,_0x3b51e2)=>{_0x4babc8&&_0x4babc8(_0x56525b);const _0x3a8a56=yN(_0x56525b,_0x3b51e2,_0x43438d['accessors'],_0x252d67,_0x3e8a48,_0x43438d['meshes'],_0x43438d['nodes']);return _0x3b1196&&_0x3b1196(_0x56525b,_0x3a8a56),_0x3a8a56;});},PN=(_0x37e9ce,_0x4d27d0,_0x3fd61b,_0x354746)=>{const _0x13d677=_0x4d27d0['accessors'];_0x3fd61b['forEach']((_0x39ef76,_0xbfb782)=>{const _0x2d9153=_0x39ef76['ext']['attributes'];let _0x38e241;if(_0x2d9153['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x43cefd=_0x13d677[_0x2d9153['TRANSLATIO'+'N']];_0x38e241=Pn(_0x43cefd,_0x354746);}let _0x21dbc5;if(_0x2d9153['hasOwnProp'+'erty']('ROTATION')){const _0x21586d=_0x13d677[_0x2d9153['ROTATION']];_0x21dbc5=Pn(_0x21586d,_0x354746);}let _0x595b26;if(_0x2d9153['hasOwnProp'+'erty']('SCALE')){const _0x252fcf=_0x13d677[_0x2d9153['SCALE']];_0x595b26=Pn(_0x252fcf,_0x354746);}const _0x2dc8be=(_0x38e241?_0x38e241['length']/(-0x2276*0x1+0x2566+0x1*-0x2ed):0xb*-0x1da+-0x1e0+0x163e)||(_0x21dbc5?_0x21dbc5['length']/(-0x6c4+-0x8b3+0xf7b):-0x1a03+-0xc5e+-0x2661*-0x1)||(_0x595b26?_0x595b26['length']/(0x1d56+0x76b*0x3+-0x3394):-0x13bd+0x173f+-0x382);if(_0x2dc8be){const _0x47a719=new Float32Array(_0x2dc8be*(-0x47*0x16+-0x58b*0x1+-0x51*-0x25)),_0x386b3c=new D(),_0x820709=new le(),_0x16a2d4=new D(-0x754+-0x517*-0x7+-0x1c4c,-0x2f6+-0x5*0x19+0x374,0x38f*-0x7+0xbeb+-0x1*-0xcff),_0x26ec38=new te();let _0x4b4a88=-0xa3+-0x1*0x246a+0x250d;for(let _0x51168c=0x9b9*0x2+-0x510*0x4+0xce;_0x51168c<_0x2dc8be;_0x51168c++){const _0x4e7108=_0x51168c*(-0xd95+-0xc*-0x317+-0x177c);if(_0x38e241&&_0x386b3c['set'](_0x38e241[_0x4e7108],_0x38e241[_0x4e7108+(0x2b*0x2b+-0x106a+-0x16*-0x6b)],_0x38e241[_0x4e7108+(-0x1111+-0x1647+0x275a)]),_0x21dbc5){const _0x5c54b6=_0x51168c*(-0x1*0x1f85+-0x1fdf+-0x1fb4*-0x2);_0x820709['set'](_0x21dbc5[_0x5c54b6],_0x21dbc5[_0x5c54b6+(-0x8f*0x3+0x16aa+-0x4*0x53f)],_0x21dbc5[_0x5c54b6+(0x1e37+0x442+0x3*-0xb7d)],_0x21dbc5[_0x5c54b6+(0x710*0x5+-0x1*0x25bf+0x139*0x2)]);}_0x595b26&&_0x16a2d4['set'](_0x595b26[_0x4e7108],_0x595b26[_0x4e7108+(0x166*-0x4+-0x83*0x1+0x61c)],_0x595b26[_0x4e7108+(-0x2b2*0x5+-0x1*0x25f9+0x3375*0x1)]),_0x26ec38['setTRS'](_0x386b3c,_0x820709,_0x16a2d4);for(let _0x361f83=0x1566+-0x2*-0x10ce+-0x3702;_0x361f83<-0x2351+-0x18fe+0x3c5f;_0x361f83++)_0x47a719[_0x4b4a88++]=_0x26ec38['data'][_0x361f83];}_0x39ef76['matrices']=_0x47a719;}});},MN=(_0x5c3307,_0x20c4b5,_0x4a28f9)=>{var _0x10ce76,_0x49dd81,_0x39c073;if(!_0x5c3307['hasOwnProp'+'erty']('nodes')||_0x5c3307['nodes']['length']===0x1*-0x1c3a+0x7e1+0x1459)return[];const _0x2761b4=(_0x10ce76=_0x20c4b5==null?void(-0x19e1+-0xe41*-0x1+0xba0):_0x20c4b5['node'])==null?void(-0x12+0x1d0c+0xe7d*-0x2):_0x10ce76['preprocess'],_0x4c31ce=((_0x49dd81=_0x20c4b5==null?void(-0x8be+-0x1*0x1765+0x1b1*0x13):_0x20c4b5['node'])==null?void(0x1*-0x1dde+0x1*-0x24b7+0x4295):_0x49dd81['process'])??vN,_0x5e9532=(_0x39c073=_0x20c4b5==null?void(-0xd29+-0x3*0x8a4+0x2715):_0x20c4b5['node'])==null?void(0x137b+0x1*0x147+-0xa61*0x2):_0x39c073['postproces'+'s'],_0x5f5c26=_0x5c3307['nodes']['map']((_0x367bd6,_0x46a900)=>{_0x2761b4&&_0x2761b4(_0x367bd6);const _0x3cef4a=_0x4c31ce(_0x367bd6,_0x46a900,_0x4a28f9);return _0x5e9532&&_0x5e9532(_0x367bd6,_0x3cef4a),_0x3cef4a;});for(let _0x415ae6=-0x1f81+-0x23af+-0x56*-0xc8;_0x415ae6<_0x5c3307['nodes']['length'];++_0x415ae6){const _0x39102a=_0x5c3307['nodes'][_0x415ae6];if(_0x39102a['hasOwnProp'+'erty']('children')){const _0x5a5da7=_0x5f5c26[_0x415ae6],_0x2b5606={};for(let _0x67dc90=0x1d*0xec+0x8*0x402+-0x3acc;_0x67dc90<_0x39102a['children']['length'];++_0x67dc90){const _0x18cc0f=_0x5f5c26[_0x39102a['children'][_0x67dc90]];_0x18cc0f['parent']||(_0x2b5606['hasOwnProp'+'erty'](_0x18cc0f['name'])?_0x18cc0f['name']+=_0x2b5606[_0x18cc0f['name']]++:_0x2b5606[_0x18cc0f['name']]=-0xd*0x20e+0x1391+-0x1e*-0x3d,_0x5a5da7['addChild'](_0x18cc0f));}}}return _0x5f5c26;},DN=(_0x4ab367,_0xd2d491)=>{var _0xf1c33e;const _0x497ecb=[],_0x1caf2b=_0x4ab367['scenes']['length'];if(_0x1caf2b===-0x1*-0x213+0x1*0x1b2f+0x1d41*-0x1&&((_0xf1c33e=_0x4ab367['scenes'][0x5*0x223+0xdb*-0x15+0x748]['nodes'])==null?void(-0x1b26+0x2701+0x5*-0x25f):_0xf1c33e['length'])===-0x2121+-0x1*-0x21a4+-0x82){const _0x39f460=_0x4ab367['scenes'][0x1b2c+-0x16ec+-0x440]['nodes'][-0x8fc+0x18fd+-0xf1*0x11];_0x497ecb['push'](_0xd2d491[_0x39f460]);}else for(let _0xa8f48a=-0x282*0x1+0xad1+-0x84f;_0xa8f48a<_0x1caf2b;_0xa8f48a++){const _0x27c73d=_0x4ab367['scenes'][_0xa8f48a];if(_0x27c73d['nodes']){const _0x13f5c9=new Ie(_0x27c73d['name']);for(let _0x25db5b=0x1b97+-0x16ef+-0x4a8;_0x25db5b<_0x27c73d['nodes']['length'];_0x25db5b++){const _0x7f9749=_0xd2d491[_0x27c73d['nodes'][_0x25db5b]];_0x13f5c9['addChild'](_0x7f9749);}_0x497ecb['push'](_0x13f5c9);}}return _0x497ecb;},IN=(_0x4b2687,_0x3dd223,_0x942dbb)=>{var _0x39c3df,_0x35342b,_0x59b692;let _0x2665a9=null;if(_0x4b2687['hasOwnProp'+'erty']('nodes')&&_0x4b2687['hasOwnProp'+'erty']('cameras')&&_0x4b2687['cameras']['length']>-0x355*-0x5+0x1d7b+-0x4*0xb89){const _0x40a48b=(_0x39c3df=_0x942dbb==null?void(0xe9*-0x6+0x1ab1*-0x1+0x2027):_0x942dbb['camera'])==null?void(-0x1c*-0xb7+0x2*-0x97c+0x10c*-0x1):_0x39c3df['preprocess'],_0x51ef12=((_0x35342b=_0x942dbb==null?void(-0x22b+0x20b4+-0x1e89):_0x942dbb['camera'])==null?void(0x1b2c+0x7*0x195+-0x263f):_0x35342b['process'])??xN,_0x43cbb8=(_0x59b692=_0x942dbb==null?void(-0x1*0x89b+0x40b+0x490):_0x942dbb['camera'])==null?void(-0x1934+0x2663+-0xe1*0xf):_0x59b692['postproces'+'s'];_0x4b2687['nodes']['forEach']((_0xd9c19f,_0x5a971b)=>{if(_0xd9c19f['hasOwnProp'+'erty']('camera')){const _0x524d81=_0x4b2687['cameras'][_0xd9c19f['camera']];if(_0x524d81){_0x40a48b&&_0x40a48b(_0x524d81);const _0x5bf517=_0x51ef12(_0x524d81,_0x3dd223[_0x5a971b]);_0x43cbb8&&_0x43cbb8(_0x524d81,_0x5bf517),_0x5bf517&&(_0x2665a9||(_0x2665a9=new Map()),_0x2665a9['set'](_0xd9c19f,_0x5bf517));}}});}return _0x2665a9;},LN=(_0x21517d,_0xc500ce,_0x17ed16)=>{var _0x1f2002,_0x4a61c5,_0x58652b;let _0x37274c=null;if(_0x21517d['hasOwnProp'+'erty']('nodes')&&_0x21517d['hasOwnProp'+'erty']('extensions')&&_0x21517d['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x21517d['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x3031ae=_0x21517d['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x3031ae['length']){const _0x1982d3=(_0x1f2002=_0x17ed16==null?void(0x1f12+0x8+-0x1f1a):_0x17ed16['light'])==null?void(0x1*0x194d+0x10f7+-0x2a44):_0x1f2002['preprocess'],_0x210fcb=((_0x4a61c5=_0x17ed16==null?void(-0x958+-0x47+0x99f):_0x17ed16['light'])==null?void(-0xc4c*-0x3+0xda5+0x1*-0x3289):_0x4a61c5['process'])??TN,_0x4682eb=(_0x58652b=_0x17ed16==null?void(0x1c3+-0x8*-0x44f+0x243b*-0x1):_0x17ed16['light'])==null?void(-0xb5*-0x25+0x1*0x5ff+-0x2028):_0x58652b['postproces'+'s'];_0x21517d['nodes']['forEach']((_0x950062,_0x2ba52d)=>{if(_0x950062['hasOwnProp'+'erty']('extensions')&&_0x950062['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x950062['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0x1a8857=_0x950062['extensions']['KHR_lights'+'_punctual']['light'],_0x12c33b=_0x3031ae[_0x1a8857];if(_0x12c33b){_0x1982d3&&_0x1982d3(_0x12c33b);const _0x164b36=_0x210fcb(_0x12c33b,_0xc500ce[_0x2ba52d]);_0x4682eb&&_0x4682eb(_0x12c33b,_0x164b36),_0x164b36&&(_0x37274c||(_0x37274c=new Map()),_0x37274c['set'](_0x950062,_0x164b36));}}});}}return _0x37274c;},RN=(_0x198597,_0xd1091c,_0x3743e5)=>{_0x198597['nodes']['forEach'](_0x5b0f85=>{_0x5b0f85['hasOwnProp'+'erty']('mesh')&&_0x5b0f85['hasOwnProp'+'erty']('skin')&&_0xd1091c[_0x5b0f85['mesh']]['meshes']['forEach'](_0x2b7b9d=>{_0x2b7b9d['skin']=_0x3743e5[_0x5b0f85['skin']];});});},ON=async(_0x27f17f,_0x42da7e,_0x2e3c0e,_0x2eca07,_0xc29386)=>{var _0x29a06c,_0x37be2c;const _0x6c486d=(_0x29a06c=_0xc29386==null?void(-0x554+0x45*-0x73+0x2453):_0xc29386['global'])==null?void(-0x2c5+0x978+-0x6b3):_0x29a06c['preprocess'],_0xf97d8e=(_0x37be2c=_0xc29386==null?void(-0x2532+-0x250e+0x48*0x108):_0xc29386['global'])==null?void(-0x22ea+0x207*-0x5+-0x1*-0x2d0d):_0x37be2c['postproces'+'s'];_0x6c486d&&_0x6c486d(_0x42da7e),_0x42da7e['asset']&&_0x42da7e['asset']['generator']==='PlayCanvas'&&w['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x286d32=new Map(),_0x34e3aa=MN(_0x42da7e,_0xc29386,_0x286d32),_0x35d29b=DN(_0x42da7e,_0x34e3aa),_0x4c8edc=LN(_0x42da7e,_0x34e3aa,_0xc29386),_0x3d2522=IN(_0x42da7e,_0x34e3aa,_0xc29386),_0x4374a5=AN(_0x42da7e),_0x24a0ff=await Promise['all'](_0x2e3c0e),{meshes:_0x464af3,meshVariants:_0x5039b3,meshDefaultMaterials:_0x1d7da1,promises:_0x49ddf8}=EN(_0x27f17f,_0x42da7e,_0x24a0ff,_0xc29386),_0x466aab=CN(_0x42da7e,_0x34e3aa,_0x24a0ff,_0xc29386);PN(_0x27f17f,_0x42da7e,_0x286d32,_0x24a0ff);const _0x30794b=await Promise['all'](_0x2eca07),_0x3190ac=_0x30794b['map'](_0xadb8ed=>_0xadb8ed['resource']),_0x24f723=bN(_0x42da7e,_0x3190ac,_0xc29386),_0x1b81a3=wN(_0x27f17f,_0x42da7e,_0x34e3aa,_0x24a0ff),_0x2cec84=[];for(let _0x33a1bd=0x24aa+0x17ee+-0x3c98;_0x33a1bd<_0x464af3['length'];_0x33a1bd++)_0x2cec84[_0x33a1bd]=new Em(),_0x2cec84[_0x33a1bd]['meshes']=_0x464af3[_0x33a1bd];RN(_0x42da7e,_0x2cec84,_0x1b81a3);const _0x493111=new qF();return _0x493111['gltf']=_0x42da7e,_0x493111['nodes']=_0x34e3aa,_0x493111['scenes']=_0x35d29b,_0x493111['animations']=_0x466aab,_0x493111['textures']=_0x30794b,_0x493111['materials']=_0x24f723,_0x493111['variants']=_0x4374a5,_0x493111['meshVarian'+'ts']=_0x5039b3,_0x493111['meshDefaul'+'tMaterials']=_0x1d7da1,_0x493111['renders']=_0x2cec84,_0x493111['skins']=_0x1b81a3,_0x493111['lights']=_0x4c8edc,_0x493111['cameras']=_0x3d2522,_0x493111['nodeInstan'+'cingMap']=_0x286d32,_0xf97d8e&&_0xf97d8e(_0x42da7e,_0x493111),await Promise['all'](_0x49ddf8),_0x493111;},FN=(_0x39971f,_0x54ed42)=>{const _0x5945cb=(_0x5ad95f,_0x5f1729)=>{switch(_0x5ad95f){case 0x431c+-0x1*-0x3262+-0x4f7e:return Te;case 0x5*-0x8f9+0xc*-0x621+0x9c6a:return vt;case-0x1*0x217a+-0x38ce+0x15*0x628:return Kh;case 0x8*-0x75d+-0x1b65*0x2+0x98b3:return Qh;case 0x2d2c+-0x1de3*-0x2+-0x41f0:return Zh;case 0x396e+0x2e7b*-0x1+0x1c10:return ma;default:return _0x5f1729;}},_0x5a962f=(_0x1a8959,_0x5d2bbc)=>{switch(_0x1a8959){case-0x57b*-0x20+0x54e5+-0x8316:return ue;case 0x10*0x851+-0x41d2+0x4032:return ip;case 0x3c5+-0x51cb*-0x1+-0x2c8f:return yt;default:return _0x5d2bbc;}};_0x39971f&&(_0x54ed42=_0x54ed42??{},_0x39971f['minFilter']=_0x5945cb(_0x54ed42['minFilter'],ma),_0x39971f['magFilter']=_0x5945cb(_0x54ed42['magFilter'],vt),_0x39971f['addressU']=_0x5a962f(_0x54ed42['wrapS'],yt),_0x39971f['addressV']=_0x5a962f(_0x54ed42['wrapT'],yt));};let NN=-0x35*-0xad+0x49*0x5+0x2*-0x129f;const nn=_0x4f7556=>{var _0x29be2f,_0x9dce69,_0x2fb47a,_0x1ba105;return((_0x9dce69=(_0x29be2f=_0x4f7556['extensions'])==null?void(0x12ea+0xfde+0x6a*-0x54):_0x29be2f['KHR_textur'+'e_basisu'])==null?void(-0x6f1+-0x12f4+-0x3b3*-0x7):_0x9dce69['source'])??((_0x1ba105=(_0x2fb47a=_0x4f7556['extensions'])==null?void(-0x53*-0x76+0x1*0x20ff+-0x4741*0x1):_0x2fb47a['EXT_textur'+'e_webp'])==null?void(-0xe76+0x2149+-0x12d3):_0x1ba105['source'])??_0x4f7556['source'];},kN=(_0x42846f,_0x4a26ed,_0x5e92dc,_0x56d500,_0x469b20)=>{var _0x2987de,_0x346785,_0x525bd5;if(!_0x42846f['images']||_0x42846f['images']['length']===0x53*-0x4a+0x599*-0x4+0x3*0xf76)return[];const _0x2a062e=(_0x2987de=_0x469b20==null?void(-0xabb*-0x3+-0xead*-0x1+0x7*-0x6b2):_0x469b20['image'])==null?void(-0x1*-0xff2+0x14b9+-0xc39*0x3):_0x2987de['preprocess'],_0x172f60=(_0x346785=_0x469b20==null?void(-0xf87+0x2297+-0x1310):_0x469b20['image'])==null?void(-0x2*0xcd6+-0x2e*-0xa3+-0x39e):_0x346785['processAsy'+'nc'],_0x21d8dd=(_0x525bd5=_0x469b20==null?void(0x14a5*0x1+0x42f+0x1c6*-0xe):_0x469b20['image'])==null?void(-0x6b8+0x11a8+-0xaf0):_0x525bd5['postproces'+'s'],_0x4703c4={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x3dbfe0=_0x446215=>{const _0x4902e0=new Set();return _0x446215['hasOwnProp'+'erty']('materials')&&_0x446215['materials']['forEach'](_0x2b3231=>{if(_0x2b3231['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0xdd015d=_0x2b3231['pbrMetalli'+'cRoughness'];if(_0xdd015d['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x4afe67=_0x446215['textures'][_0xdd015d['baseColorT'+'exture']['index']];_0x4902e0['add'](nn(_0x4afe67));}}if(_0x2b3231['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x2b3c51=_0x446215['textures'][_0x2b3231['emissiveTe'+'xture']['index']];_0x4902e0['add'](nn(_0x2b3c51));}if(_0x2b3231['hasOwnProp'+'erty']('extensions')){const _0x51e90a=_0x2b3231['extensions']['KHR_materi'+'als_sheen'];if(_0x51e90a&&_0x51e90a['hasOwnProp'+'erty']('sheenColor'+'Texture')){const _0xb7df02=_0x446215['textures'][_0x51e90a['sheenColor'+'Texture']['index']];_0x4902e0['add'](nn(_0xb7df02));}const _0x32feaf=_0x2b3231['extensions']['KHR_materi'+'als_pbrSpe'+'cularGloss'+'iness'];if(_0x32feaf&&_0x32feaf['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0xc85621=_0x446215['textures'][_0x32feaf['specularGl'+'ossinessTe'+'xture']['index']];_0x4902e0['add'](nn(_0xc85621));}const _0x186c3f=_0x2b3231['extensions']['KHR_materi'+'als_specul'+'ar'];if(_0x186c3f&&_0x186c3f['hasOwnProp'+'erty']('specularCo'+'lorTexture')){const _0x47fafd=_0x446215['textures'][_0x186c3f['specularCo'+'lorTexture']['index']];_0x4902e0['add'](nn(_0x47fafd));}}}),_0x4902e0;},_0x32611f=(_0x36497b,_0x749f2,_0x4798e2,_0x298f08,_0x2e2df7,_0x483fe2)=>new Promise((_0x185305,_0x445803)=>{const _0x4fd5ad=_0x5a2dfa=>{const _0x588771=(_0x36497b['name']||'gltf-textu'+'re')+'-'+NN++,_0x2a338c={'url':_0x749f2||_0x588771};if(_0x5a2dfa&&(_0x2a338c['contents']=_0x5a2dfa['slice'](0x212f+0x1*0x982+-0x1*0x2ab1)['buffer']),_0x298f08){const _0x33167e=_0x4703c4[_0x298f08];_0x33167e&&(_0x2a338c['filename']=_0x2a338c['url']+'.'+_0x33167e);}const _0x3c6686={'srgb':_0x483fe2},_0x280d4a=new pe(_0x588771,'texture',_0x2a338c,_0x3c6686,_0x2e2df7);_0x280d4a['on']('load',_0x170dd4=>_0x185305(_0x170dd4)),_0x280d4a['on']('error',_0x18aab5=>_0x445803(_0x18aab5)),_0x56d500['add'](_0x280d4a),_0x56d500['load'](_0x280d4a);};_0x4798e2?_0x4798e2['then'](_0x1b6264=>_0x4fd5ad(_0x1b6264)):_0x4fd5ad(null);}),_0x29eadc=_0x3dbfe0(_0x42846f);return _0x42846f['images']['map']((_0x496818,_0x39da36)=>{_0x2a062e&&_0x2a062e(_0x496818);let _0x2cf141;return _0x172f60?_0x2cf141=new Promise((_0x5f031f,_0x3fa7ec)=>{_0x172f60(_0x496818,(_0x4e5921,_0x2e3418)=>{_0x4e5921?_0x3fa7ec(_0x4e5921):_0x5f031f(_0x2e3418);});}):_0x2cf141=new Promise(_0x444b05=>{_0x444b05(null);}),_0x2cf141=_0x2cf141['then'](_0x40d64d=>{const _0xd2eb8f=_0x29eadc['has'](_0x39da36);return _0x40d64d||(_0x496818['hasOwnProp'+'erty']('uri')?x0(_0x496818['uri'])?_0x32611f(_0x496818,_0x496818['uri'],null,jF(_0x496818['uri']),null,_0xd2eb8f):_0x32611f(_0x496818,jn['test'](_0x496818['uri'])?_0x496818['uri']:xe['join'](_0x5e92dc,_0x496818['uri']),null,null,{'crossOrigin':'anonymous'},_0xd2eb8f):_0x496818['hasOwnProp'+'erty']('bufferView')&&_0x496818['hasOwnProp'+'erty']('mimeType')?_0x32611f(_0x496818,null,_0x4a26ed[_0x496818['bufferView']],_0x496818['mimeType'],null,_0xd2eb8f):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x39da36)));}),_0x21d8dd&&(_0x2cf141=_0x2cf141['then'](_0x2cfd5c=>(_0x21d8dd(_0x496818,_0x2cfd5c),_0x2cfd5c))),_0x2cf141;});},UN=(_0x20ee3f,_0x3bc000,_0x2eeca4)=>{var _0x5cf146,_0x26d1fe,_0x1d4738,_0xdd9f1f,_0x55a4f9;if(!((_0x5cf146=_0x20ee3f==null?void(-0x1dce+-0x1cc3+0x3a91):_0x20ee3f['images'])!=null&&_0x5cf146['length'])||!((_0x26d1fe=_0x20ee3f==null?void(-0x17bd*-0x1+0xd75+0xc66*-0x3):_0x20ee3f['textures'])!=null&&_0x26d1fe['length']))return[];const _0xe0e8df=(_0x1d4738=_0x2eeca4==null?void(0x1*-0x245f+0x135c+0x1*0x1103):_0x2eeca4['texture'])==null?void(-0x881+0x2*-0xead+-0x371*-0xb):_0x1d4738['preprocess'],_0x5683c3=(_0xdd9f1f=_0x2eeca4==null?void(0x1fb7+0x213b*-0x1+0x61*0x4):_0x2eeca4['texture'])==null?void(-0x740*-0x4+0x38f*0x1+0x208f*-0x1):_0xdd9f1f['processAsy'+'nc'],_0xcbf747=(_0x55a4f9=_0x2eeca4==null?void(-0x20*-0x62+-0x129a*0x1+0x65a):_0x2eeca4['texture'])==null?void(0xa*-0x82+-0xae5+0xff9):_0x55a4f9['postproces'+'s'],_0x2a7a74=new Set();return _0x20ee3f['textures']['map'](_0x506d41=>{_0xe0e8df&&_0xe0e8df(_0x506d41);let _0x34dfb1;return _0x5683c3?_0x34dfb1=new Promise((_0x1ed9f3,_0x5ce33b)=>{_0x5683c3(_0x506d41,_0x20ee3f['images'],(_0x3f9d42,_0x4e3006)=>{_0x3f9d42?_0x5ce33b(_0x3f9d42):_0x1ed9f3(_0x4e3006);});}):_0x34dfb1=new Promise(_0x31351b=>{_0x31351b(null);}),_0x34dfb1=_0x34dfb1['then'](_0x253e9a=>{_0x253e9a=_0x253e9a??nn(_0x506d41);const _0x243bc3=_0x2a7a74['has'](_0x253e9a);return _0x2a7a74['add'](_0x253e9a),_0x3bc000[_0x253e9a]['then'](_0xf7ad86=>{const _0x19adfb=_0x243bc3?tN(_0xf7ad86):_0xf7ad86;return FN(_0x19adfb['resource'],(_0x20ee3f['samplers']??[])[_0x506d41['sampler']]),_0x19adfb;});}),_0xcbf747&&(_0x34dfb1=_0x34dfb1['then'](_0x11bdf4=>(_0xcbf747(_0x506d41,_0x11bdf4),_0x11bdf4))),_0x34dfb1;});},BN=(_0x4972c8,_0x32cc67,_0xf7dfa6,_0x58d7f8)=>{var _0x6482c1,_0x568292,_0xa4afcb;if(!_0x4972c8['buffers']||_0x4972c8['buffers']['length']===0x664*0x1+-0x1e06+-0xf2*-0x19)return[];const _0x3b128c=(_0x6482c1=_0x58d7f8==null?void(0x11fc+0x1f38+0xc4d*-0x4):_0x58d7f8['buffer'])==null?void(0x1671+0x2199*-0x1+0x66*0x1c):_0x6482c1['preprocess'],_0x45172d=(_0x568292=_0x58d7f8==null?void(0x1258+-0x1297+0x3f):_0x58d7f8['buffer'])==null?void(0x115d+0x1*-0x52f+-0x2*0x617):_0x568292['processAsy'+'nc'],_0x456e56=(_0xa4afcb=_0x58d7f8==null?void(0x16a6+0x1ce2+-0x3388):_0x58d7f8['buffer'])==null?void(-0x12f3+-0x2cc*0x5+0x20ef):_0xa4afcb['postproces'+'s'];return _0x4972c8['buffers']['map']((_0x4e22f3,_0x4800a2)=>{_0x3b128c&&_0x3b128c(_0x4e22f3);let _0x3d968a;return _0x45172d?_0x3d968a=new Promise((_0x44a39d,_0x19ae91)=>{_0x45172d(_0x4e22f3,(_0x1d07e7,_0x132a93)=>{_0x1d07e7?_0x19ae91(_0x1d07e7):_0x44a39d(_0x132a93);});}):_0x3d968a=new Promise(_0x5b37b8=>{_0x5b37b8(null);}),_0x3d968a=_0x3d968a['then'](_0x3757c3=>{if(_0x3757c3)return _0x3757c3;if(_0x4e22f3['hasOwnProp'+'erty']('uri')){if(x0(_0x4e22f3['uri'])){const _0x1c57a1=atob(_0x4e22f3['uri']['split'](',')[0x20e1+-0x135a+-0x241*0x6]),_0x17bc2f=new Uint8Array(_0x1c57a1['length']);for(let _0x39c55d=0x77+-0x26fb+0x7b4*0x5;_0x39c55d<_0x1c57a1['length'];_0x39c55d++)_0x17bc2f[_0x39c55d]=_0x1c57a1['charCodeAt'](_0x39c55d);return _0x17bc2f;}return new Promise((_0x3b135a,_0x3e52ed)=>{ot['get'](jn['test'](_0x4e22f3['uri'])?_0x4e22f3['uri']:xe['join'](_0xf7dfa6,_0x4e22f3['uri']),{'cache':!(0x203f+-0x618*0x6+0x451),'responseType':'arraybuffe'+'r','retry':!(-0x2f*0xd+-0x1fe9+0x224d)},(_0x5c63ba,_0x392a45)=>{_0x5c63ba?_0x3e52ed(_0x5c63ba):_0x3b135a(new Uint8Array(_0x392a45));});});}return _0x32cc67;}),_0x456e56&&(_0x3d968a=_0x3d968a['then'](_0x4a532b=>(_0x456e56(_0x4972c8['buffers'][_0x4800a2],_0x4a532b),_0x4a532b))),_0x3d968a;});},zN=(_0x16a9d0,_0x3c3071)=>{const _0x1e36da=JSON['parse']((_0x3af94d=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x3af94d);let _0x4b44bd='';for(let _0x2081ef=-0x2104+0x53*-0x19+0x3*0xdb5;_0x2081ef<_0x3af94d['length'];_0x2081ef++)_0x4b44bd+=String['fromCharCo'+'de'](_0x3af94d[_0x2081ef]);return decodeURIComponent(escape(_0x4b44bd));})(_0x16a9d0));if(_0x1e36da['asset']&&_0x1e36da['asset']['version']&&parseFloat(_0x1e36da['asset']['version'])<-0xe6f+-0x8bd*-0x1+0x5b4*0x1){_0x3c3071('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x1e36da['asset']['version']+'\x27.');return;}_0x3c3071(null,_0x1e36da);},VN=(_0x1487e8,_0x4f96f1)=>{const _0x23e403=_0x1487e8 instanceof ArrayBuffer?new DataView(_0x1487e8):new DataView(_0x1487e8['buffer'],_0x1487e8['byteOffset'],_0x1487e8['byteLength']),_0x106a0e=_0x23e403['getUint32'](0x201*-0x4+-0x2*0x790+0x1*0x1724,!(-0x24cd+-0x1*0xd9+0x25a6)),_0x2a6c90=_0x23e403['getUint32'](0xde8+-0x389*-0xb+-0x34c7,!(-0x1fc*-0x8+0x17*-0x184+0x12fc)),_0x32e800=_0x23e403['getUint32'](-0x5*0x383+-0xd*-0x25c+-0xc5*0x11,!(0x74f*-0x3+-0x2467+0x3a54*0x1));if(_0x106a0e!==-0x5e34f8b1+-0x54607fd8+0xf8e9e4f0){_0x4f96f1('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x106a0e['toString'](0x1312+0xcdf+0x1fe1*-0x1));return;}if(_0x2a6c90!==-0xcb6+-0xb9*-0x2f+-0x715*0x3){_0x4f96f1('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x2a6c90);return;}if(_0x32e800<=-0x1*-0x987+-0x17*-0xa4+-0x1*0x1843||_0x32e800>_0x23e403['byteLength']){_0x4f96f1('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x32e800);return;}const _0x32870d=[];let _0x213256=0x5c*-0x2+-0x1*0x3e3+-0x18d*-0x3;for(;_0x213256<_0x32e800;){const _0x426fdc=_0x23e403['getUint32'](_0x213256,!(-0xdc*0x18+0x1148+-0x8*-0x6b));_0x213256+_0x426fdc+(0x3*-0xad1+0x1257+0xe24)>_0x23e403['byteLength']&&_0x4f96f1('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x426fdc);const _0x2c536e=_0x23e403['getUint32'](_0x213256+(0xed*-0x13+-0x5a7*0x1+0x1742),!(0x884+-0xdd4+0x550)),_0x4cba8f=new Uint8Array(_0x23e403['buffer'],_0x23e403['byteOffset']+_0x213256+(0x20d3+-0x1dde+-0x6b*0x7),_0x426fdc);_0x32870d['push']({'length':_0x426fdc,'type':_0x2c536e,'data':_0x4cba8f}),_0x213256+=_0x426fdc+(0x1*-0x2017+-0x9*0x3a1+0x40c8);}if(_0x32870d['length']!==-0x5a5+0x168e+-0x10e8&&_0x32870d['length']!==0x6*-0xba+-0x1*0x1df9+0x95*0x3b){_0x4f96f1('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x32870d[0x1b6a+-0x5*0x64e+-0x107*-0x4]['type']!==-0x7*-0x161d7be3+0x3ba6dc8e+-0x8825ec79){_0x4f96f1('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x32870d[-0x10*-0x50+0x10*-0x71+0x210]['type']['toString'](0xcec*0x2+0xa69+-0x2431));return;}if(_0x32870d['length']>0x5aa*0x2+-0x20f5+0x15a2&&_0x32870d[-0xb*0x1+0x72e+-0x722]['type']!==0xbb3c3*0x1+0x11*0x6868b+-0x2c59bc){_0x4f96f1('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x32870d[0x1c96+-0x2*0x4cd+-0x12fb]['type']['toString'](0x25a0+-0x26f4+0x164));return;}_0x4f96f1(null,{'gltfChunk':_0x32870d[-0x73*-0x28+0x1*-0x2504+0x130c]['data'],'binaryChunk':_0x32870d['length']===0x1751+0x69d+-0x1dec?_0x32870d[-0x1*-0x630+-0x16e2+0x10b3]['data']:null});},GN=(_0x58415d,_0x546e93,_0x4cd1f2)=>{const _0x1fbbaa=()=>{const _0x2220aa=new Uint8Array(_0x546e93);return _0x2220aa[-0xb66+0xea2*-0x1+-0x2*-0xd04]===0x1b7*0x1+0x3*0xa8d+0x123*-0x1d&&_0x2220aa[0xc*-0x95+0x528+0x1*0x1d5]===-0x26a8+0x89b*0x2+0x15de&&_0x2220aa[-0x9d7+-0x1e1*0x5+0x6*0x335]===0x1705+-0x3*-0x185+-0x1b40&&_0x2220aa[0x1b67+0x7*-0x4a9+0x53b]===0x12f8+0x2319*0x1+-0x35cb;};_0x58415d&&_0x58415d['toLowerCas'+'e']()['endsWith']('.glb')||_0x1fbbaa()?VN(_0x546e93,_0x4cd1f2):_0x4cd1f2(null,{'gltfChunk':_0x546e93,'binaryChunk':null});},HN=(_0x8e6f28,_0x4d516a,_0x100d99)=>{var _0xe22ab9,_0x5e5d75,_0x9f9e41,_0x10ddb9;const _0x2eda37=[],_0x4146d1=(_0xe22ab9=_0x100d99==null?void(0x1bd6+-0x256b+0x995):_0x100d99['bufferView'])==null?void(0x1d1*-0x11+0x11f6+0xceb*0x1):_0xe22ab9['preprocess'],_0x2a12d3=(_0x5e5d75=_0x100d99==null?void(-0x17f2+-0x1e36+0x3628):_0x100d99['bufferView'])==null?void(0xc31*-0x3+0xb27+0x196c):_0x5e5d75['processAsy'+'nc'],_0x23a787=(_0x9f9e41=_0x100d99==null?void(-0x7a4+-0x14e1*0x1+-0x31*-0x95):_0x100d99['bufferView'])==null?void(0x1*0xf6b+-0x1159*0x1+0x1ee):_0x9f9e41['postproces'+'s'];if(!((_0x10ddb9=_0x8e6f28['bufferView'+'s'])!=null&&_0x10ddb9['length']))return _0x2eda37;for(let _0x2b1e17=-0x27*-0x19+-0x109b+0x3f*0x34;_0x2b1e17<_0x8e6f28['bufferView'+'s']['length'];++_0x2b1e17){const _0x4cd86e=_0x8e6f28['bufferView'+'s'][_0x2b1e17];_0x4146d1&&_0x4146d1(_0x4cd86e);let _0x1f87b2;_0x2a12d3?_0x1f87b2=new Promise((_0x329085,_0x39d22b)=>{_0x2a12d3(_0x4cd86e,_0x4d516a,(_0x4e71bb,_0x21829d)=>{_0x4e71bb?_0x39d22b(_0x4e71bb):_0x329085(_0x21829d);});}):_0x1f87b2=new Promise(_0x528b8f=>{_0x528b8f(null);}),_0x1f87b2=_0x1f87b2['then'](_0x4f3d98=>_0x4f3d98||_0x4d516a[_0x4cd86e['buffer']]['then'](_0x406c43=>new Uint8Array(_0x406c43['buffer'],_0x406c43['byteOffset']+(_0x4cd86e['byteOffset']||0x14*-0x95+-0x1689+0x1*0x222d),_0x4cd86e['byteLength']))),_0x4cd86e['hasOwnProp'+'erty']('byteStride')&&(_0x1f87b2=_0x1f87b2['then'](_0x17c2f3=>(_0x17c2f3['byteStride']=_0x4cd86e['byteStride'],_0x17c2f3))),_0x23a787&&(_0x1f87b2=_0x1f87b2['then'](_0x18fdc5=>(_0x23a787(_0x4cd86e,_0x18fdc5),_0x18fdc5))),_0x2eda37['push'](_0x1f87b2);}return _0x2eda37;};class kh{static['parse'](_0x3d6587,_0x5c8eb8,_0x1755c8,_0x1997a3,_0x1f87a1,_0x3ec4a0,_0x50e3a3){GN(_0x3d6587,_0x1755c8,(_0x4731d0,_0x47e105)=>{if(_0x4731d0){_0x50e3a3(_0x4731d0);return;}zN(_0x47e105['gltfChunk'],(_0x25cf38,_0x5453a7)=>{if(_0x25cf38){_0x50e3a3(_0x25cf38);return;}const _0x30a6c5=BN(_0x5453a7,_0x47e105['binaryChun'+'k'],_0x5c8eb8,_0x3ec4a0),_0x4070cc=HN(_0x5453a7,_0x30a6c5,_0x3ec4a0),_0x5c1ad6=kN(_0x5453a7,_0x4070cc,_0x5c8eb8,_0x1f87a1,_0x3ec4a0),_0x4af8dc=UN(_0x5453a7,_0x5c1ad6,_0x3ec4a0);ON(_0x1997a3,_0x5453a7,_0x4070cc,_0x4af8dc,_0x3ec4a0)['then'](_0x2daaa0=>_0x50e3a3(null,_0x2daaa0))['catch'](_0x327c0b=>_0x50e3a3(_0x327c0b));});});}static['createDefa'+'ultMateria'+'l'](){return w0({'name':'defaultGlb'+'Material'},[]);}}class WN extends Qe{constructor(_0x223184){super(_0x223184,'animation'),this['device']=_0x223184['graphicsDe'+'vice'],this['assets']=_0x223184['assets'];}['load'](_0x288a3e,_0x41c293,_0x5cffca){typeof _0x288a3e=='string'&&(_0x288a3e={'load':_0x288a3e,'original':_0x288a3e});const _0x511f97={'retry':this['maxRetries']>-0x2343+-0x14*-0x92+-0xc5*-0x1f,'maxRetries':this['maxRetries']};(_0x288a3e['load']['startsWith']('blob:')||_0x288a3e['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x288a3e['original'])['toLowerCas'+'e']()==='.glb'?_0x511f97['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x511f97['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x288a3e['load'],_0x511f97,(_0x4590d7,_0x4c8626)=>{_0x4590d7?_0x41c293('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x288a3e['original']+'\x20['+_0x4590d7+']'):xe['getExtensi'+'on'](_0x288a3e['original'])['toLowerCas'+'e']()==='.glb'?kh['parse']('filename.g'+'lb','',_0x4c8626,this['device'],this['assets'],(_0x5cffca==null?void(0x8aa+-0x4e4+-0x1*0x3c6):_0x5cffca['options'])??{},(_0xb09268,_0x522b6f)=>{var _0x48b685;if(_0xb09268)_0x41c293(_0xb09268);else{const _0x4b754d=_0x522b6f['animations'];if((_0x48b685=_0x5cffca==null?void(-0x7a7+-0x655*0x3+0x1aa6):_0x5cffca['data'])!=null&&_0x48b685['events']){for(let _0x1ae8b1=0x3*-0x8cf+0x11*0xc1+-0x86*-0x1a;_0x1ae8b1<_0x4b754d['length'];_0x1ae8b1++)_0x4b754d[_0x1ae8b1]['events']=new Hv(Object['values'](_0x5cffca['data']['events']));}_0x522b6f['destroy'](),_0x41c293(null,_0x4b754d);}}):_0x41c293(null,this['_parseAnim'+'ationV'+_0x4c8626['animation']['version']](_0x4c8626));});}['open'](_0x4ab0c8,_0x2bb9a1,_0xc9eda0){return _0x2bb9a1;}['_parseAnim'+'ationV3'](_0x5cf79a){const _0x103ad1=_0x5cf79a['animation'],_0x5c9129=new ug();_0x5c9129['name']=_0x103ad1['name'],_0x5c9129['duration']=_0x103ad1['duration'];for(let _0x39401a=-0x1152*0x1+0x1*0x1d6c+-0xc1a;_0x39401a<_0x103ad1['nodes']['length'];_0x39401a++){const _0x3965f9=new fg(),_0x4e94ba=_0x103ad1['nodes'][_0x39401a];_0x3965f9['_name']=_0x4e94ba['name'];for(let _0x40b35c=-0x21c8+0x18c5+0x903;_0x40b35c<_0x4e94ba['keys']['length'];_0x40b35c++){const _0x3531e6=_0x4e94ba['keys'][_0x40b35c],_0x51a5f0=_0x3531e6['time'],_0x204146=_0x3531e6['pos'],_0x42aadc=_0x3531e6['rot'],_0xd11ff5=_0x3531e6['scale'],_0x5b7674=new D(_0x204146[-0xfc*0x2+0x17f0+-0x15f8],_0x204146[0x1fd5+0x1e0a+-0x3dde],_0x204146[-0x26f3+0x1a50*-0x1+-0xd9*-0x4d]),_0x401fd6=new le()['setFromEul'+'erAngles'](_0x42aadc[-0x151b+0x134d+0x1ce],_0x42aadc[0x3*-0xb89+-0x1413+0x36af],_0x42aadc[-0x12f9+-0x1*0x1921+0x2c1c]),_0x3f4ab8=new D(_0xd11ff5[-0x252*-0xb+-0x7a8+-0x11de*0x1],_0xd11ff5[-0x25*0x6a+-0x1db2+-0x2d05*-0x1],_0xd11ff5[0x1271+0x1366+-0x25d5]),_0xbff6f2=new dg(_0x51a5f0,_0x5b7674,_0x401fd6,_0x3f4ab8);_0x3965f9['_keys']['push'](_0xbff6f2);}_0x5c9129['addNode'](_0x3965f9);}return _0x5c9129;}['_parseAnim'+'ationV4'](_0x1e778d){const _0x58baae=_0x1e778d['animation'],_0x5b12ad=new ug();_0x5b12ad['name']=_0x58baae['name'],_0x5b12ad['duration']=_0x58baae['duration'];for(let _0x1a5d12=-0x2223*0x1+0x176d+0xab6;_0x1a5d12<_0x58baae['nodes']['length'];_0x1a5d12++){const _0x1d1f9e=new fg(),_0x11ece6=_0x58baae['nodes'][_0x1a5d12];_0x1d1f9e['_name']=_0x11ece6['name'];const _0x3d472e=_0x11ece6['defaults']['p'],_0x23fa71=_0x11ece6['defaults']['r'],_0x77b880=_0x11ece6['defaults']['s'];for(let _0xd59f87=-0x13e7*0x1+0xd12+0x3*0x247;_0xd59f87<_0x11ece6['keys']['length'];_0xd59f87++){const _0x5dc1e3=_0x11ece6['keys'][_0xd59f87],_0x12cba2=_0x5dc1e3['t'],_0x318c38=_0x3d472e||_0x5dc1e3['p'],_0x492843=_0x23fa71||_0x5dc1e3['r'],_0x519a10=_0x77b880||_0x5dc1e3['s'],_0x5ecd86=new D(_0x318c38[-0x993+0x266*-0x3+0x10c5],_0x318c38[-0x1c+0x259*-0x4+0x3*0x32b],_0x318c38[-0x1*-0xe25+-0x21c8+-0x6b*-0x2f]),_0x475c85=new le()['setFromEul'+'erAngles'](_0x492843[0x1cc+0x240e+-0x1*0x25da],_0x492843[-0x34*0x34+-0x670*0x6+0x3131],_0x492843[-0x254c+-0x2*0x10f+-0x2*-0x13b6]),_0x7309f6=new D(_0x519a10[-0x1*0x3e1+-0xa*0x1de+0x1*0x168d],_0x519a10[-0x1493+0x1c09*-0x1+-0x5f*-0x83],_0x519a10[-0x114e+-0x977+0x1ac7]),_0x2d40ef=new dg(_0x12cba2,_0x5ecd86,_0x475c85,_0x7309f6);_0x1d1f9e['_keys']['push'](_0x2d40ef);}_0x5b12ad['addNode'](_0x1d1f9e);}return _0x5b12ad;}}class $N extends Qe{constructor(_0x462df8){super(_0x462df8,'animclip');}['load'](_0x396738,_0xec002e){typeof _0x396738=='string'&&(_0x396738={'load':_0x396738,'original':_0x396738});const _0x35df52={'retry':this['maxRetries']>-0xfe*0xa+0x1*-0x12b5+0x1ca1,'maxRetries':this['maxRetries']};_0x396738['load']['startsWith']('blob:')&&(_0x35df52['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x396738['load'],_0x35df52,(_0x36f31b,_0x5f1f15)=>{_0x36f31b?_0xec002e('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x396738['original']+'\x20['+_0x36f31b+']'):_0xec002e(null,_0x5f1f15);});}['open'](_0x2ac0a4,_0x56a4c5){const _0x40ff6e=_0x56a4c5['name'],_0x10fc41=_0x56a4c5['duration'],_0x3141dc=_0x56a4c5['inputs']['map'](_0x2acb25=>new Fh(0xd5f+-0x7b*0x3e+-0x836*-0x2,_0x2acb25)),_0x2ebec3=_0x56a4c5['outputs']['map'](_0x5291b7=>new Fh(_0x5291b7['components'],_0x5291b7['data'])),_0x3c849b=_0x56a4c5['curves']['map'](_0x3024c0=>new v0([_0x3024c0['path']],_0x3024c0['inputIndex'],_0x3024c0['outputInde'+'x'],_0x3024c0['interpolat'+'ion']));return new Qi(_0x40ff6e,_0x10fc41,_0x3141dc,_0x2ebec3,_0x3c849b);}}class XN extends Qe{constructor(_0x3519d8){super(_0x3519d8,'animstateg'+'raph');}['load'](_0x3376ee,_0x4296fb){typeof _0x3376ee=='string'&&(_0x3376ee={'load':_0x3376ee,'original':_0x3376ee});const _0x218ebf={'retry':this['maxRetries']>-0x1c8a+-0x6*-0x2d1+-0x4*-0x2e9,'maxRetries':this['maxRetries']};_0x3376ee['load']['startsWith']('blob:')&&(_0x218ebf['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x3376ee['load'],_0x218ebf,(_0x11db64,_0x40e39e)=>{_0x11db64?_0x4296fb('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x3376ee['original']+'\x20['+_0x11db64+']'):_0x4296fb(null,_0x40e39e);});}['open'](_0x46573b,_0x42fff9){return new Jc(_0x42fff9);}}const Af=(function(){if(typeof window>'u')return!(0x1302+0x50b*-0x5+0x636);const _0x3c31c7=window['navigator']['userAgent'],_0x1324cd=_0x3c31c7['indexOf']('MSIE\x20');if(_0x1324cd>-0x16*-0x6b+0x23da+-0x2d0c)return parseInt(_0x3c31c7['substring'](_0x1324cd+(-0xb*0x97+0x2*0x1193+-0x729*0x4),_0x3c31c7['indexOf']('.',_0x1324cd)),-0x1503*0x1+0x6*0x266+0x6a9);if(_0x3c31c7['indexOf']('Trident/')>0x1349+0x1*0xb61+-0x1eaa){const _0x54386c=_0x3c31c7['indexOf']('rv:');return parseInt(_0x3c31c7['substring'](_0x54386c+(-0x11a5+0x2662+-0x14ba),_0x3c31c7['indexOf']('.',_0x54386c)),-0x5c*0x51+0x1*0x14e3+-0x2f*-0x2d);}return!(-0x3*-0x3ff+0x3*0x9f8+-0x29e4);}()),qN=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class jN extends Qe{constructor(_0x378d45){super(_0x378d45,'audio'),this['manager']=_0x378d45['soundManag'+'er'],w['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x1d3fc7){const _0x305632=xe['getExtensi'+'on'](_0x1d3fc7);return qN['indexOf'](_0x305632)>-(-0x840+0x33f*0x5+-0x7fa)||_0x1d3fc7['startsWith']('blob:');}['load'](_0x8213d1,_0x20c8dc){typeof _0x8213d1=='string'&&(_0x8213d1={'load':_0x8213d1,'original':_0x8213d1});const _0x2319db=function(_0x2676b6){_0x20c8dc(null,new Mw(_0x2676b6));},_0x4bb5e4=function(_0xf3675e){let _0x3ff773='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0x8213d1['original'];_0xf3675e&&(_0x3ff773+=':\x20'+(_0xf3675e['message']||_0xf3675e)),console['warn'](_0x3ff773),_0x20c8dc(_0x3ff773);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0x8213d1['original'])){_0x4bb5e4('Audio\x20form'+'at\x20for\x20'+_0x8213d1['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0x8213d1['load'],_0x2319db,_0x4bb5e4);}else _0x4bb5e4(null);}['_createSou'+'nd'](_0x4bd2ee,_0x513783,_0x590922){if(Dl()){const _0x552308=this['manager'];if(!_0x552308['context']){_0x590922('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x45834d={'retry':this['maxRetries']>-0x2090+-0x5c*-0x4c+0xa8*0x8,'maxRetries':this['maxRetries']};(_0x4bd2ee['startsWith']('blob:')||_0x4bd2ee['startsWith']('data:'))&&(_0x45834d['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),ot['get'](_0x4bd2ee,_0x45834d,(_0x5efae5,_0x34fce3)=>{if(_0x5efae5){_0x590922(_0x5efae5);return;}_0x552308['context']['decodeAudi'+'oData'](_0x34fce3,_0x513783,_0x590922);});}else{let _0x384e15=null;try{_0x384e15=new Audio();}catch{_0x590922('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Af&&document['body']['appendChil'+'d'](_0x384e15);const _0x119e2e=function(){_0x384e15['removeEven'+'tListener']('canplaythr'+'ough',_0x119e2e),Af&&document['body']['removeChil'+'d'](_0x384e15),_0x513783(_0x384e15);};_0x384e15['onerror']=function(){_0x384e15['onerror']=null,Af&&document['body']['removeChil'+'d'](_0x384e15),_0x590922();},_0x384e15['addEventLi'+'stener']('canplaythr'+'ough',_0x119e2e),_0x384e15['src']=_0x4bd2ee;}}}class YN extends Qe{constructor(_0x4e15ce){super(_0x4e15ce,'binary');}['load'](_0x3750b4,_0x4f0ad0){typeof _0x3750b4=='string'&&(_0x3750b4={'load':_0x3750b4,'original':_0x3750b4}),ot['get'](_0x3750b4['load'],{'responseType':Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>0x1*-0x1951+-0x1*0x2131+0x3a82,'maxRetries':this['maxRetries']},(_0x5e7f27,_0x385669)=>{_0x5e7f27?_0x4f0ad0('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x3750b4['original']+'\x20['+_0x5e7f27+']'):_0x4f0ad0(null,_0x385669);});}['openBinary'](_0x4d5edd){return _0x4d5edd['buffer'];}}class yr{constructor(_0x5bef6f,_0x1436b7,_0x153d4a,_0x527009){const _0x31f72e=function(_0x21c235,_0x37bce8,_0x1f6382){const _0x1e26bd=yr['createAsse'+'t'](_0x1436b7['name'],_0x21c235,_0x37bce8,_0x1f6382);return _0x153d4a['add'](_0x1e26bd),_0x1e26bd;},_0xeab076=[];for(let _0x24cc88=0xd*0xb3+0x1a8c*0x1+0x3*-0xbe1;_0x24cc88<_0x5bef6f['renders']['length'];++_0x24cc88)_0xeab076['push'](_0x31f72e('render',_0x5bef6f['renders'][_0x24cc88],_0x24cc88));const _0x154ddb=[];for(let _0x531325=-0x1e90+0x17e7+0x6a9;_0x531325<_0x5bef6f['materials']['length'];++_0x531325)_0x154ddb['push'](_0x31f72e('material',_0x5bef6f['materials'][_0x531325],_0x531325));const _0x376636=[];for(let _0x53eb14=0x55e+0xd92+-0x12f0;_0x53eb14<_0x5bef6f['animations']['length'];++_0x53eb14)_0x376636['push'](_0x31f72e('animation',_0x5bef6f['animations'][_0x53eb14],_0x53eb14));this['data']=_0x5bef6f,this['_model']=null,this['_assetName']=_0x1436b7['name'],this['_assets']=_0x153d4a,this['_defaultMa'+'terial']=_0x527009,this['renders']=_0xeab076,this['materials']=_0x154ddb,this['textures']=_0x5bef6f['textures'],this['animations']=_0x376636;}get['model'](){if(!this['_model']){const _0x5d1cfb=yr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x3bcf5d=yr['createAsse'+'t'](this['_assetName'],'model',_0x5d1cfb,0x16ce+-0x3*-0x37c+-0x2142);this['_assets']['add'](_0x3bcf5d),this['_model']=_0x3bcf5d;}return this['_model'];}static['createAsse'+'t'](_0xae42c9,_0x1ce623,_0x28f899,_0x110bef){const _0x166219=new pe(_0xae42c9+'/'+_0x1ce623+'/'+_0x110bef,_0x1ce623,{'url':''});return _0x166219['resource']=_0x28f899,_0x166219['loaded']=!(0xe19+0x38*0x43+-0x1cc1),_0x166219;}['instantiat'+'eModelEnti'+'ty'](_0xe0a9fb){const _0x4e608f=new lt(void(-0x37*0x7+0xed*-0x2+0x35b*0x1),this['_assets']['_loader']['_app']);return _0x4e608f['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0xe0a9fb)),_0x4e608f;}['instantiat'+'eRenderEnt'+'ity'](_0x28bedc){const _0x567955=this['_defaultMa'+'terial'],_0x20db10=[],_0x2a024d=function(_0x16966d,_0x4bd658,_0x210a9e,_0x25e5c3,_0x5ea172,_0x569367,_0x1e2f5c,_0x535cae){const _0x2a2126=_0x5ea172[_0x210a9e['id']],_0x470985=_0x2a2126===void(-0x1849+0x21c5+-0x4*0x25f)?_0x567955:_0x25e5c3[_0x2a2126],_0x5a32f8=new He(_0x210a9e,_0x470985);_0x210a9e['morph']&&(_0x5a32f8['morphInsta'+'nce']=new xa(_0x210a9e['morph'])),_0x1e2f5c['hasOwnProp'+'erty']('skin')&&_0x20db10['push']({'meshInstance':_0x5a32f8,'rootBone':_0x16966d,'entity':_0x4bd658});const _0x8a66c3=_0x535cae['get'](_0x1e2f5c);if(_0x8a66c3){const _0x39e44a=_0x8a66c3['matrices'],_0xc75eb7=kt['getDefault'+'Instancing'+'Format'](_0x210a9e['device']),_0x3c3405=new Is(_0x210a9e['device'],_0xc75eb7,_0x39e44a['length']/(-0xc02*-0x2+-0x1a5b+-0x7b*-0x5),{'data':_0x39e44a});_0x5a32f8['setInstanc'+'ing'](_0x3c3405),_0x5a32f8['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(0x15b3*-0x1+-0x25e1+-0x5d*-0xa4);}return _0x5a32f8;},_0x2f08e5=(_0x352f42,_0xf87b30,_0xaa97fd)=>{const _0x37d4f3=new lt(void(0x23c3+-0x8c3*0x1+0x2*-0xd80),this['_assets']['_loader']['_app']);_0xf87b30['_cloneInte'+'rnal'](_0x37d4f3),_0x352f42||(_0x352f42=_0x37d4f3);let _0x5e1a7a=null,_0x108062=null;for(let _0x26b8b2=0x1522*0x1+-0x16d+-0x13b5;_0x26b8b2<_0xaa97fd['nodes']['length'];_0x26b8b2++)if(_0xaa97fd['nodes'][_0x26b8b2]===_0xf87b30){const _0xc8e15d=_0xaa97fd['gltf']['nodes'][_0x26b8b2];if(_0xc8e15d['hasOwnProp'+'erty']('mesh')){const _0x401536=_0xaa97fd['renders'][_0xc8e15d['mesh']]['meshes'];_0x108062=this['renders'][_0xc8e15d['mesh']];for(let _0x19228b=0xa90+0xcc3+0x7*-0x355;_0x19228b<_0x401536['length'];_0x19228b++){const _0x57c4aa=_0x401536[_0x19228b];if(_0x57c4aa){const _0x36db13=_0x2a024d(_0x352f42,_0x37d4f3,_0x57c4aa,_0xaa97fd['materials'],_0xaa97fd['meshDefaul'+'tMaterials'],_0xaa97fd['skins'],_0xc8e15d,_0xaa97fd['nodeInstan'+'cingMap']);_0x5e1a7a||(_0x5e1a7a=[]),_0x5e1a7a['push'](_0x36db13);}}}if(_0xaa97fd['lights']){const _0x2c2614=_0xaa97fd['lights']['get'](_0xc8e15d);_0x2c2614&&_0x37d4f3['addChild'](_0x2c2614['clone']());}if(_0xaa97fd['cameras']){const _0x45d106=_0xaa97fd['cameras']['get'](_0xc8e15d);_0x45d106&&_0x45d106['camera']['system']['cloneCompo'+'nent'](_0x45d106,_0x37d4f3);}}_0x5e1a7a&&(_0x37d4f3['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x5e1a7a},_0x28bedc)),_0x37d4f3['render']['assignAsse'+'t'](_0x108062));const _0x37df3d=_0xf87b30['children'];for(let _0x57b0d1=0x41*-0x1c+-0x123b*0x1+0x1957;_0x57b0d1<_0x37df3d['length'];_0x57b0d1++){const _0x377213=_0x2f08e5(_0x352f42,_0x37df3d[_0x57b0d1],_0xaa97fd);_0x37d4f3['addChild'](_0x377213);}return _0x37d4f3;},_0xe6b1d8=[];for(const _0x27362a of this['data']['scenes'])_0xe6b1d8['push'](_0x2f08e5(null,_0x27362a,this['data']));return _0x20db10['forEach'](_0x4135bf=>{_0x4135bf['meshInstan'+'ce']['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0x4135bf['meshInstan'+'ce']['mesh']['skin'],_0x4135bf['rootBone'],_0x4135bf['entity']),_0x4135bf['meshInstan'+'ce']['node']['render']['rootBone']=_0x4135bf['rootBone'];}),yr['createScen'+'eHierarchy'](_0xe6b1d8,lt);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0x345708,_0x1ab80a){const _0x18e45a=_0x1ab80a?this['data']['variants'][_0x1ab80a]:null;if(_0x18e45a===void(0x2235+0xfcb+-0x3200)){w['warn']('No\x20variant'+'\x20named\x20'+_0x1ab80a+('\x20exists\x20in'+'\x20resource'));return;}const _0x336228=_0x345708['findCompon'+'ents']('render');for(let _0x18631b=-0x1*0x11dd+0x1df0+-0x119*0xb;_0x18631b<_0x336228['length'];_0x18631b++){const _0x2f7ba=_0x336228[_0x18631b];this['_applyMate'+'rialVarian'+'t'](_0x18e45a,_0x2f7ba['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0x33e950,_0x369c11){const _0x4a2acc=_0x369c11?this['data']['variants'][_0x369c11]:null;if(_0x4a2acc===void(0x8*0xac+-0x220c+0x1cac)){w['warn']('No\x20variant'+'\x20named\x20'+_0x369c11+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x4a2acc,_0x33e950);}['_applyMate'+'rialVarian'+'t'](_0x1cf022,_0x505393){_0x505393['forEach'](_0x2264a1=>{if(_0x1cf022===null)_0x2264a1['material']=this['_defaultMa'+'terial'];else{const _0x2edf74=this['data']['meshVarian'+'ts'][_0x2264a1['mesh']['id']];_0x2edf74&&(_0x2264a1['material']=this['data']['materials'][_0x2edf74[_0x1cf022]]);}w['assert'](_0x2264a1['material']);});}static['createScen'+'eHierarchy'](_0x3f2b4c,_0xdaf62){let _0x37bf62=null;if(_0x3f2b4c['length']===-0x8*-0x225+0x250e+0x3635*-0x1)_0x37bf62=_0x3f2b4c[0x2bc+0xff2+-0x12ae];else{_0x37bf62=new _0xdaf62('SceneGroup');for(const _0x47155f of _0x3f2b4c)_0x37bf62['addChild'](_0x47155f);}return _0x37bf62;}static['createMode'+'l'](_0x2d9fad,_0x1bf981){const _0x1ba76c=function(_0x4b4216,_0x3c3ba1,_0x5a0020,_0x55c689,_0x557945,_0x5bd6d7,_0x26cd86){const _0x44d450=_0x2d9fad['meshDefaul'+'tMaterials'][_0x3c3ba1['id']],_0x11cd88=_0x44d450===void(0x996+-0x1*-0x2547+-0x2edd)?_0x1bf981:_0x557945[_0x44d450],_0x474908=new He(_0x3c3ba1,_0x11cd88,_0x5bd6d7);if(_0x3c3ba1['morph']){const _0xc9257e=new xa(_0x3c3ba1['morph']);_0x474908['morphInsta'+'nce']=_0xc9257e,_0x4b4216['morphInsta'+'nces']['push'](_0xc9257e);}if(_0x26cd86['hasOwnProp'+'erty']('skin')){const _0x327830=_0x26cd86['skin'],_0x1ac260=_0x5a0020[_0x327830];_0x3c3ba1['skin']=_0x1ac260;const _0x343322=_0x55c689[_0x327830];_0x474908['skinInstan'+'ce']=_0x343322,_0x4b4216['skinInstan'+'ces']['push'](_0x343322);}_0x4b4216['meshInstan'+'ces']['push'](_0x474908);},_0x5759cb=new sr(),_0x1fdf69=[];for(const _0x1de3bb of _0x2d9fad['skins']){const _0xfe4dab=new Ol(_0x1de3bb);_0xfe4dab['bones']=_0x1de3bb['bones'],_0x1fdf69['push'](_0xfe4dab);}_0x5759cb['graph']=yr['createScen'+'eHierarchy'](_0x2d9fad['scenes'],Ie);for(let _0x19cf91=0x1c1*-0x1+0xa5e*-0x3+0x20db*0x1;_0x19cf91<_0x2d9fad['nodes']['length'];_0x19cf91++){const _0x418e91=_0x2d9fad['nodes'][_0x19cf91];if(_0x418e91['root']===_0x5759cb['graph']){const _0x48185c=_0x2d9fad['gltf']['nodes'][_0x19cf91];if(_0x48185c['hasOwnProp'+'erty']('mesh')){const _0x13a8ef=_0x2d9fad['renders'][_0x48185c['mesh']]['meshes'];for(let _0x1ebcee=0x70b*0x4+-0x362*0xb+-0xb2*-0xd;_0x1ebcee<_0x13a8ef['length'];_0x1ebcee++){const _0x22f5eb=_0x13a8ef[_0x1ebcee];_0x22f5eb&&_0x1ba76c(_0x5759cb,_0x22f5eb,_0x2d9fad['skins'],_0x1fdf69,_0x2d9fad['materials'],_0x418e91,_0x48185c);}}}}return _0x5759cb;}['destroy'](){const _0x2cdf77=this['_assets'],_0x23cd1a=function(_0x3a548e){_0x2cdf77['remove'](_0x3a548e),_0x3a548e['unload']();},_0x3fd16b=function(_0x27c83b){_0x27c83b['forEach'](_0x3ce4c5=>{_0x23cd1a(_0x3ce4c5);});};this['animations']&&(_0x3fd16b(this['animations']),this['animations']=null),this['textures']&&(_0x3fd16b(this['textures']),this['textures']=null),this['materials']&&(_0x3fd16b(this['materials']),this['materials']=null),this['renders']&&(_0x3fd16b(this['renders']),this['renders']=null),this['_model']&&(_0x23cd1a(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class KN{constructor(_0x22c2da,_0x5986cf,_0x1afebc){this['_device']=_0x22c2da,this['_assets']=_0x5986cf,this['_defaultMa'+'terial']=kh['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x1afebc;}['_getUrlWit'+'houtParams'](_0x398683){return _0x398683['indexOf']('?')>=-0x1*0xf75+-0x4f*0x2b+0x1cba?_0x398683['split']('?')[-0x21ed+-0x999+0x12*0x26b]:_0x398683;}['load'](_0x2d2987,_0x40f92d,_0x2c54d3){pe['fetchArray'+'Buffer'](_0x2d2987['load'],(_0x65f263,_0x1ec96d)=>{_0x65f263?_0x40f92d(_0x65f263):kh['parse'](this['_getUrlWit'+'houtParams'](_0x2d2987['original']),xe['extractPat'+'h'](_0x2d2987['load']),_0x1ec96d,this['_device'],_0x2c54d3['registry'],_0x2c54d3['options'],(_0x3ead83,_0x39dac8)=>{_0x3ead83?_0x40f92d(_0x3ead83):_0x40f92d(null,new yr(_0x39dac8,_0x2c54d3,this['_assets'],this['_defaultMa'+'terial']));});},_0x2c54d3,this['maxRetries']);}['open'](_0x27ae10,_0x39e3e4,_0x11d4a4){return _0x39e3e4;}['patch'](_0x4664da,_0x17f399){}}class ZN extends Qe{constructor(_0x14795a){super(_0x14795a,'container'),this['glbContain'+'erParser']=new KN(_0x14795a['graphicsDe'+'vice'],_0x14795a['assets'],0x1962+-0x3*0x923+0x207),this['parsers']={};}set['maxRetries'](_0x5b3854){this['glbContain'+'erParser']['maxRetries']=_0x5b3854;for(const _0x24650e in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x24650e)&&(this['parsers'][_0x24650e]['maxRetries']=_0x5b3854);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x470c73){return _0x470c73['indexOf']('?')>=0xa6b+0x1994+0x23ff*-0x1?_0x470c73['split']('?')[-0x19*0xac+0x1*-0x23e5+0x34b1]:_0x470c73;}['_getParser'](_0x5621bf){const _0x7b61fc=_0x5621bf?xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x5621bf))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x7b61fc]||this['glbContain'+'erParser'];}['load'](_0x3b9abd,_0x4ac6ad,_0x4666d0){typeof _0x3b9abd=='string'&&(_0x3b9abd={'load':_0x3b9abd,'original':_0x3b9abd}),this['_getParser'](_0x3b9abd['original'])['load'](_0x3b9abd,_0x4ac6ad,_0x4666d0);}['open'](_0x139d54,_0x41d936,_0x4a00ea){return this['_getParser'](_0x139d54)['open'](_0x139d54,_0x41d936,_0x4a00ea);}}class QN extends Qe{constructor(_0x4aaf33){super(_0x4aaf33,'css'),h(this,'decoder',null);}['load'](_0xbed63b,_0x26c6b3){typeof _0xbed63b=='string'&&(_0xbed63b={'load':_0xbed63b,'original':_0xbed63b}),ot['get'](_0xbed63b['load'],{'retry':this['maxRetries']>0x1da4+0x17b6+-0x2*0x1aad,'maxRetries':this['maxRetries']},(_0x2ebc2e,_0xa3ea8a)=>{_0x2ebc2e?_0x26c6b3('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0xbed63b['original']+'\x20['+_0x2ebc2e+']'):_0x26c6b3(null,_0xa3ea8a);});}['openBinary'](_0x1d38cf){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x1d38cf);}}class JN extends Qe{constructor(_0x492195){super(_0x492195,'cubemap'),this['_device']=_0x492195['graphicsDe'+'vice'],this['_registry']=_0x492195['assets'],this['_loader']=_0x492195['loader'];}['load'](_0x20e055,_0x5168ac,_0x55629e){this['loadAssets'](_0x55629e,_0x5168ac);}['open'](_0x26df0a,_0x45c344,_0xd7a08a){return _0xd7a08a?_0xd7a08a['resource']:null;}['patch'](_0x40bd02,_0x45003d){this['loadAssets'](_0x40bd02,(_0x474336,_0x1f1d8d)=>{_0x474336&&(_0x45003d['fire']('error',_0x40bd02),_0x45003d['fire']('error:'+_0x40bd02['id'],_0x474336,_0x40bd02),_0x40bd02['fire']('error',_0x40bd02));});}['getAssetId'+'s'](_0x563a3b){const _0x37695f=[];if(_0x37695f[-0x2a*0x2+0xd*-0x1ca+0x1796]=_0x563a3b['file'],(_0x563a3b['loadFaces']||!_0x563a3b['file'])&&_0x563a3b['data']&&_0x563a3b['data']['textures']){for(let _0x41acd8=-0x1*-0x823+0x43f+-0x5*0x27a;_0x41acd8<-0x13c6+-0x184d+-0x3*-0xeb3;++_0x41acd8)_0x37695f[_0x41acd8+(-0x1*0x762+-0x4*-0xf8+0x1d*0x1f)]=_0x563a3b['data']['textures'][_0x41acd8];}else _0x37695f[-0xbc4+0xd73*0x1+-0xa*0x2b]=_0x37695f[-0xd*-0xac+-0x1ddb+0x9*0x259]=_0x37695f[-0x5*-0x1ff+0x2a+-0xa22]=_0x37695f[0x17f+-0x266a+0x24ef]=_0x37695f[0x10d7+0x1ed6*-0x1+0xe04]=_0x37695f[-0x1e7*-0x8+0x7*-0x131+-0x6db]=null;return _0x37695f;}['compareAss'+'etIds'](_0x34959b,_0xe57494){return _0x34959b&&_0xe57494?parseInt(_0x34959b,0x1d6c+0x1b*-0x147+0x51b)===_0x34959b||typeof _0x34959b=='string'?_0x34959b===_0xe57494:_0x34959b['url']===_0xe57494['url']:_0x34959b!==null==(_0xe57494!==null);}['update'](_0x4e31af,_0x2e65f2,_0x2fbbd2){const _0x539f63=_0x4e31af['data']||{},_0x4f4609=_0x4e31af['_handlerSt'+'ate']['assets'],_0x5e957d=_0x4e31af['_resources'];let _0x3e2ce4,_0xe819da,_0x937879;const _0x421260=[null,null,null,null,null,null,null],_0x3da6=function(){return _0x539f63['hasOwnProp'+'erty']('type')?_0x539f63['type']:_0x539f63['hasOwnProp'+'erty']('rgbm')?_0x539f63['rgbm']?Zi:Ds:null;};if(!_0x4e31af['loaded']||_0x2fbbd2[-0x1bb6+0xb*0x163+0xc75*0x1]!==_0x4f4609[-0x16f6+-0x2668+0x3d5e]){if(_0x2fbbd2[-0x1311+-0x5c0*0x2+0x1e91]){if(_0x3e2ce4=_0x2fbbd2[0x1f94+-0x179a+-0x7fa]['resource'],_0x3e2ce4['cubemap']){for(_0x937879=0x491+0x1*0x1d4b+-0x21dc;_0x937879<0x16da*0x1+0x19*0x62+-0x1a*0x13f;++_0x937879)_0x421260[_0x937879+(-0x533*0x3+0x2a*0xd+0x1*0xd78)]=new _e(this['_device'],{'name':_0x4e31af['name']+('_prelitCub'+'emap')+(_0x3e2ce4['width']>>_0x937879),'cubemap':!(0x61*-0x57+-0x1*0x19d9+0x1*0x3ad0),'type':_0x3da6()||_0x3e2ce4['type'],'width':_0x3e2ce4['width']>>_0x937879,'height':_0x3e2ce4['height']>>_0x937879,'format':_0x3e2ce4['format'],'levels':[_0x3e2ce4['_levels'][_0x937879]],'addressU':ue,'addressV':ue,'mipmaps':_0x937879===-0x277*-0xb+-0x5e*-0x10+-0x20fd*0x1});}else _0x421260[-0x10b7*0x1+-0x18f9+0x1*0x29b1]=_0x3e2ce4;}}else _0x421260[0x129c+0x880+0x909*-0x3]=_0x5e957d[0xef6+-0x1ba*0x2+-0xb81]||null,_0x421260[0x54d+0x4*-0x58a+0x10dd]=_0x5e957d[-0x1*-0x133c+0x139b+-0x1*0x26d5]||null,_0x421260[0x30*-0x39+-0x13c9+0x1e7c*0x1]=_0x5e957d[-0x1e7e+0x2*-0x7dd+0x1*0x2e3b]||null,_0x421260[0x20fc+-0x17b7+-0x941]=_0x5e957d[0x1765+0x236e+-0x3acf]||null,_0x421260[0x10a*-0x1f+0x17*-0x133+-0x42*-0xe8]=_0x5e957d[-0x1*0x1675+-0xa11*0x1+0x1*0x208b]||null,_0x421260[-0x20*-0x116+-0x1f83+-0x337]=_0x5e957d[-0x1d80+-0x761+0x24e7]||null;const _0x53eac0=_0x2fbbd2['slice'](0x487+-0x1a02+0x157c);if(!_0x4e31af['loaded']||!this['cmpArrays'](_0x53eac0,_0x4f4609['slice'](0x83*-0x1f+0x1*0x176e+-0x8*0xf2))){if(_0x53eac0['indexOf'](null)===-(-0x197b+0x23a4+-0xa28)){const _0x3dfdd4=_0x53eac0['map'](_0x357556=>_0x357556['resource']),_0x4b8b67=[];for(_0xe819da=-0x142f+0x1*0x13b2+-0x1*-0x7d;_0xe819da<_0x3dfdd4[0x885+0x1*0x4bd+-0xd42]['_levels']['length'];++_0xe819da)_0x4b8b67['push'](_0x3dfdd4['map'](_0x25d5d1=>_0x25d5d1['_levels'][_0xe819da]));const _0x526853=_0x3dfdd4[-0x25e1+-0x13*-0xeb+-0xc*-0x1b4]['format'],_0x364883=new _e(this['_device'],{'name':_0x4e31af['name']+'_faces','cubemap':!(0x332+0x34c*-0xa+0x2*0xee3),'type':_0x3da6()||_0x3dfdd4[0x3e*-0x25+-0x178b+0x1*0x2081]['type'],'width':_0x3dfdd4[-0x2523+0xb9e+0x1985]['width'],'height':_0x3dfdd4[-0xeca+-0xcb+-0x1*-0xf95]['height'],'format':_0x526853===Cr?Ne:_0x526853,'mipmaps':_0x539f63['mipmaps']??!(-0xf0b+0xb01+0x205*0x2),'levels':_0x4b8b67,'minFilter':_0x539f63['hasOwnProp'+'erty']('minFilter')?_0x539f63['minFilter']:_0x3dfdd4[-0x687*0x1+0xfae+-0x927]['minFilter'],'magFilter':_0x539f63['hasOwnProp'+'erty']('magFilter')?_0x539f63['magFilter']:_0x3dfdd4[0x1*-0x1db7+-0x1748+0x34ff]['magFilter'],'anisotropy':_0x539f63['hasOwnProp'+'erty']('anisotropy')?_0x539f63['anisotropy']:0x19c7+0x7*-0x1cf+-0x1*0xd1d,'addressU':ue,'addressV':ue});_0x421260[-0x3*-0xd03+-0x23bb*-0x1+-0x1*0x4ac4]=_0x364883;}}else _0x421260[0x15*-0x47+0x7*0x291+-0x94*0x15]=_0x5e957d[0xfef+-0x1f*0x82+-0x31]||null;if(!this['cmpArrays'](_0x421260,_0x5e957d)){for(_0x4e31af['resources']=_0x421260,_0x4e31af['_handlerSt'+'ate']['assetIds']=_0x2e65f2,_0x4e31af['_handlerSt'+'ate']['assets']=_0x2fbbd2,_0x937879=0x14fb+-0x1ad*0x9+-0x5e6;_0x937879<_0x5e957d['length'];++_0x937879)_0x5e957d[_0x937879]!==null&&_0x421260['indexOf'](_0x5e957d[_0x937879])===-(-0x1569+-0x23fd*-0x1+-0xe93)&&_0x5e957d[_0x937879]['destroy']();}for(_0x937879=0xdc*0x1e+-0x1*-0x126e+-0x2c36;_0x937879<_0x4f4609['length'];++_0x937879)_0x4f4609[_0x937879]!==null&&_0x2fbbd2['indexOf'](_0x4f4609[_0x937879])===-(-0x10a6*0x2+0x3*0x2c9+-0xce*-0x1f)&&_0x4f4609[_0x937879]['unload']();}['cmpArrays'](_0x5e71cf,_0x145605){if(_0x5e71cf['length']!==_0x145605['length'])return!(0x5e7*0x2+-0xeda*0x2+0x11e7);for(let _0x1e0872=-0x445*0x2+-0x91+0x91b;_0x1e0872<_0x5e71cf['length'];++_0x1e0872)if(_0x5e71cf[_0x1e0872]!==_0x145605[_0x1e0872])return!(-0x1*-0x2141+0x1*0x15d7+-0x61f*0x9);return!(-0x1aaa+0x2509+-0x5*0x213);}['resolveId'](_0x4b1148){const _0x518200=parseInt(_0x4b1148,-0xa15+0x13d*-0x7+0x1a*0xb9);return _0x518200===_0x4b1148||_0x518200['toString']()===_0x4b1148?_0x518200:_0x4b1148;}['loadAssets'](_0x116ea5,_0x7a4a3){_0x116ea5['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x116ea5['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x2eae73=this,_0x2687fc=_0x2eae73['getAssetId'+'s'](_0x116ea5),_0x2995af=[null,null,null,null,null,null,null],_0x14215b=_0x116ea5['_handlerSt'+'ate']['assetIds'],_0x33c765=_0x116ea5['_handlerSt'+'ate']['assets'],_0x33fba7=_0x2eae73['_registry'];let _0x49fd2a=-0x11c*-0x10+0x6b3+-0x186c;const _0x3920c1=function(_0x5cd270,_0x32cd84){_0x2995af[_0x5cd270]=_0x32cd84,_0x49fd2a--,_0x49fd2a===-0x1*0x214f+0x1601+0xb4e&&(_0x2eae73['update'](_0x116ea5,_0x2687fc,_0x2995af),_0x7a4a3(null,_0x116ea5['resources']));},_0x4aa3ec=function(_0x531fce,_0x60ae9e,_0x178d3c){_0x7a4a3(_0x60ae9e);},_0x44df1d=function(_0x30c667,_0x5dddc9){_0x5dddc9['loaded']?_0x3920c1(_0x30c667,_0x5dddc9):(_0x33fba7['once']('load:'+_0x5dddc9['id'],_0x3920c1['bind'](_0x2eae73,_0x30c667)),_0x33fba7['once']('error:'+_0x5dddc9['id'],_0x4aa3ec['bind'](_0x2eae73,_0x30c667)),_0x5dddc9['loading']||_0x33fba7['load'](_0x5dddc9));};let _0x37a423;for(let _0x2af7f7=-0x24cc+0x1185+0x1347;_0x2af7f7<-0x14d1+0x1*0x32f+-0x21*-0x89;++_0x2af7f7){const _0x497872=this['resolveId'](_0x2687fc[_0x2af7f7]);if(!_0x497872)_0x3920c1(_0x2af7f7,null);else{if(_0x2eae73['compareAss'+'etIds'](_0x497872,_0x14215b[_0x2af7f7]))_0x44df1d(_0x2af7f7,_0x33c765[_0x2af7f7]);else{if(parseInt(_0x497872,0x1310+-0xabc+-0x84a)===_0x497872)_0x37a423=_0x33fba7['get'](_0x497872),_0x37a423?_0x44df1d(_0x2af7f7,_0x37a423):setTimeout(((_0x94114a,_0x1fa5fb)=>{const _0x195a03=_0x33fba7['get'](_0x1fa5fb);_0x195a03?_0x44df1d(_0x94114a,_0x195a03):_0x4aa3ec(_0x94114a,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x1fa5fb);})['bind'](null,_0x2af7f7,_0x497872));else{const _0xbffd02=typeof _0x497872=='string'?{'url':_0x497872,'filename':_0x497872}:_0x497872,_0xe1b950=_0xbffd02['url']['search']('.dds')===-(-0x1456+0x1*-0x1120+-0x8b*-0x45)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(-0x2540*0x1+-0xb*0xd3+-0xe*-0x34f)}:null;_0x37a423=new pe(_0x116ea5['name']+'_part_'+_0x2af7f7,'texture',_0xbffd02,_0xe1b950),_0x33fba7['add'](_0x37a423),_0x44df1d(_0x2af7f7,_0x37a423);}}}}}}class ek extends Qe{constructor(_0x4de69f){super(_0x4de69f,'folder');}['load'](_0x443214,_0x2d360c){_0x2d360c(null,null);}}class yS{constructor(_0x3ea2bb,_0x263c29){this['type']=_0x263c29&&_0x263c29['type']||Rh,this['em']=0x1*0xa54+-0x53c+0x1*-0x517,this['textures']=_0x3ea2bb,this['intensity']=0x169*0x13+-0xb9f+-0x1*0xf2c,this['_data']=null,this['data']=_0x263c29;}set['data'](_0x48c8da){if(this['_data']=_0x48c8da,!!_0x48c8da&&(this['_data']['intensity']!==void(0x39*-0x43+-0x22ec+0x31d7)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<-0x3*0x463+-0x7*-0x289+-0x494)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x2faf56 in this['_data']['chars'])this['_data']['chars'][_0x2faf56]['map']=-0x2*0x11e1+-0x669*-0x3+0x1087;}}get['data'](){return this['_data'];}}function Cf(_0x516a2b){return _0x516a2b['version']<0x3a4*0x9+0x1*0x954+-0x2a15&&(_0x516a2b['version']<0x43f+0xb2*-0x15+0xa5d&&(_0x516a2b['info']['maps']=_0x516a2b['info']['maps']||[{'width':_0x516a2b['info']['width'],'height':_0x516a2b['info']['height']}]),_0x516a2b['chars']=Object['keys'](_0x516a2b['chars']||{})['reduce']((_0x2e734b,_0x4efb6e)=>{const _0x2db8ea=_0x516a2b['chars'][_0x4efb6e],_0x3a5060=_0x2db8ea['letter']!==void(-0x2c*-0x10+-0x24f6+0x2236)?_0x2db8ea['letter']:Hc['fromCodePo'+'int'](_0x4efb6e);return _0x516a2b['version']<0xf5a+-0x1cdf*-0x1+-0x2c37&&(_0x2db8ea['map']=_0x2db8ea['map']||0x1b9b*0x1+-0x10d1+0xaca*-0x1),_0x2e734b[_0x3a5060]=_0x2db8ea,_0x2e734b;},{}),_0x516a2b['version']=-0x59+-0x1d9f*0x1+0x1dfb),_0x516a2b;}class tk extends Qe{constructor(_0x3eae24){super(_0x3eae24,'font'),this['_loader']=_0x3eae24['loader'],this['maxRetries']=0x1*-0x9d+0x23a0+-0x2303;}['load'](_0x3bdc23,_0x897394,_0x375377){typeof _0x3bdc23=='string'&&(_0x3bdc23={'load':_0x3bdc23,'original':_0x3bdc23});const _0x3c21b6=this;xe['getExtensi'+'on'](_0x3bdc23['original'])==='.json'?ot['get'](_0x3bdc23['load'],{'retry':this['maxRetries']>-0x2159*-0x1+-0x243*0xd+0x3f2*-0x1,'maxRetries':this['maxRetries']},(_0x11c4df,_0x28e96d)=>{if(_0x11c4df)_0x897394('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x3bdc23['original']+'\x20['+_0x11c4df+']');else{const _0x391d60=Cf(_0x28e96d);_0x3c21b6['_loadTextu'+'res'](_0x3bdc23['load']['replace']('.json','.png'),_0x391d60,(_0x2d5b08,_0x5525d5)=>{_0x2d5b08?_0x897394(_0x2d5b08):_0x897394(null,{'data':_0x391d60,'textures':_0x5525d5});});}}):(_0x375377&&_0x375377['data']&&(_0x375377['data']=Cf(_0x375377['data'])),this['_loadTextu'+'res'](_0x3bdc23['load'],_0x375377&&_0x375377['data'],_0x897394));}['_loadTextu'+'res'](_0x46a93a,_0x29d7a6,_0x2b489f){const _0x22aad1=_0x29d7a6['info']['maps']['length'];let _0x39993a=-0x344+0x1*0x24e6+0x21a2*-0x1,_0x5d4c6f=null;const _0x1a4583=new Array(_0x22aad1),_0xe08597=this['_loader'],_0xe9185b=function(_0x7b04ca){const _0x14f72f=function(_0x5c1c7d,_0x3b9a19){if(!_0x5d4c6f){if(_0x5c1c7d){_0x5d4c6f=_0x5c1c7d,_0x2b489f(_0x5c1c7d);return;}_0x3b9a19['upload'](),_0x1a4583[_0x7b04ca]=_0x3b9a19,_0x39993a++,_0x39993a===_0x22aad1&&_0x2b489f(null,_0x1a4583);}};_0x7b04ca===0xd*-0x1ab+-0x543*-0x1+-0x41b*-0x4?_0xe08597['load'](_0x46a93a,'texture',_0x14f72f):_0xe08597['load'](_0x46a93a['replace']('.png',_0x7b04ca+'.png'),'texture',_0x14f72f);};for(let _0xef6ca0=0x225+0xad4+-0xcf9*0x1;_0xef6ca0<_0x22aad1;_0xef6ca0++)_0xe9185b(_0xef6ca0);}['open'](_0x2adc36,_0x5b3af7,_0x2e6cd6){let _0x24b9f1;return _0x5b3af7['textures']?_0x24b9f1=new yS(_0x5b3af7['textures'],_0x5b3af7['data']):_0x24b9f1=new yS(_0x5b3af7,null),_0x24b9f1;}['patch'](_0x2ae402,_0x18949b){const _0x8ba43c=_0x2ae402['resource'];!_0x8ba43c['data']&&_0x2ae402['data']?_0x8ba43c['data']=_0x2ae402['data']:!_0x2ae402['data']&&_0x8ba43c['data']&&(_0x2ae402['data']=_0x8ba43c['data']),_0x2ae402['data']&&(_0x2ae402['data']=Cf(_0x2ae402['data']));}}async function sk(){const _0x343b64=0x2073+-0x3*-0x345+-0x2a42+0.28209479177387814;class _0x6b07dc{constructor(_0x20fc81,_0x55ff61,_0x19aafa){this['x']=_0x20fc81,this['y']=_0x55ff61,this['z']=_0x19aafa;}}class _0x1d6b55{constructor(_0x2b2b0c,_0x1c8485,_0x48989b,_0x54e970){this['x']=_0x2b2b0c,this['y']=_0x1c8485,this['z']=_0x48989b,this['w']=_0x54e970;}}class _0x439592{constructor(_0x407d11,_0x6bb95a,_0x302eee,_0x1617d8){this['x']=_0x407d11,this['y']=_0x6bb95a,this['z']=_0x302eee,this['w']=_0x1617d8;}['set'](_0x24884a,_0x1cc394,_0x1786bf,_0x5ec4bb){this['x']=_0x24884a,this['y']=_0x1cc394,this['z']=_0x1786bf,this['w']=_0x5ec4bb;}}class _0x425d81{constructor(_0x420a8e,_0x2e24db,_0x3673cc,_0x3bf3bc,_0x51c7a8,_0x312f39,_0x2de571,_0x398682,_0x63c6e,_0x358d29,_0xbc9445,_0x21a46c,_0x1456a3,_0x580f0e){const _0x573214=(_0x435652,_0xfc17ed)=>{const _0xdb23a3=(0x1*0x991+0x875+0x1*-0x1205<<_0xfc17ed)-(-0x20b0+0x12e5+0x1*0xdcc);return(_0x435652&_0xdb23a3)/_0xdb23a3;},_0x2d4553=(_0x38615d,_0x5d7de5)=>{_0x38615d['x']=_0x573214(_0x5d7de5>>>-0xe*0x66+-0x6a5+0x2d*0x46,-0x303+0x745+0xd*-0x53),_0x38615d['y']=_0x573214(_0x5d7de5>>>0x2003+0x1*0xa19+-0x2a11,-0x1102+0x1*-0x1cb2+-0x2dbe*-0x1),_0x38615d['z']=_0x573214(_0x5d7de5,0xe*-0x3a+-0x7*-0x1c+0x273);},_0x428904=(_0x2297ba,_0x1c28d3)=>{_0x2297ba['x']=_0x573214(_0x1c28d3>>>0xc62+-0x318+-0x932,-0x1de9*0x1+-0x11c1+0x1*0x2fb2),_0x2297ba['y']=_0x573214(_0x1c28d3>>>0x691*-0x5+0x1*0x18b2+0x833*0x1,-0x51+0x591+-0x538),_0x2297ba['z']=_0x573214(_0x1c28d3>>>-0x118*0x13+0x16*0x53+-0x67*-0x22,-0x11a7+-0x4ff*-0x1+0xcb0),_0x2297ba['w']=_0x573214(_0x1c28d3,0x22b5*0x1+0x1178+-0x3425);},_0x2d42f0=(_0x40dd46,_0x456cb5)=>{const _0x319b0a=(-0x1724+-0x11*0x18+0x18bd*0x1)/(Math['sqrt'](-0x2*0xa3d+-0x1*-0x287+0x11f5)*(0x2249+0xca2+-0x2eeb+0.5)),_0xbbeda1=(_0x573214(_0x456cb5>>>-0x1*-0x39a+0x1ca7+0x1*-0x202d,-0x8c*-0x31+0x2597+0x363*-0x13)-(0x815+-0x7*0x3ab+-0x4*-0x466+0.5))*_0x319b0a,_0x169984=(_0x573214(_0x456cb5>>>0x107d+0x21e3+0x17b*-0x22,0x198+0x2163+0x22f1*-0x1)-(0x20b9+0x1*-0x26c5+-0x81*-0xc+0.5))*_0x319b0a,_0xf27a10=(_0x573214(_0x456cb5,0x1*0x23dd+-0x5*0x91+-0x52*0x67)-(0x1*0x235+0x15b*-0x6+0x5ed+0.5))*_0x319b0a,_0x762b54=Math['sqrt'](-0x2600+0xd38+0x18c9-(_0xbbeda1*_0xbbeda1+_0x169984*_0x169984+_0xf27a10*_0xf27a10));switch(_0x456cb5>>>0x2064+0x201d+-0x4063){case-0xb3*-0x29+0x24f6+-0x41a1:_0x40dd46['set'](_0xbbeda1,_0x169984,_0xf27a10,_0x762b54);break;case-0x1cd+0x1805+0x205*-0xb:_0x40dd46['set'](_0x762b54,_0x169984,_0xf27a10,_0xbbeda1);break;case 0xb6b*0x1+0x7eb*0x2+-0x1b3f:_0x40dd46['set'](_0x169984,_0x762b54,_0xf27a10,_0xbbeda1);break;case-0x1aec+-0x5b2+-0x1*-0x20a1:_0x40dd46['set'](_0x169984,_0xf27a10,_0x762b54,_0xbbeda1);break;}},_0x787206=(_0x4ed8df,_0x58c3ad,_0x14f605)=>_0x4ed8df*(0xc7+-0x3*0x85f+0x1857-_0x14f605)+_0x58c3ad*_0x14f605,_0x4f6f58=[-0x16fd+0x263d+-0xf3d,-0x1*-0x22c6+0x16e8+-0x1cd3*0x2,-0xe9e*-0x1+-0x1*0x3cb+-0x2b1*0x4][_0x2de571-(0x2*-0xfd6+-0x18bc+0x3869)],_0x5d801a=0x7*0x2a2+0x23cd*0x1+-0x1*0x3635;this['read']=_0x18d77b=>{const _0x1c6ec5=Math['floor'](_0x18d77b/(0xd83+0x53+0x35*-0x3e))*_0x2e24db;if(_0x398682&&(_0x2d4553(_0x398682,_0x3673cc[_0x18d77b*_0x5d801a+(0x1fe*0xd+-0x3f4*0x2+0x149*-0xe)]),_0x398682['x']=_0x787206(_0x420a8e[_0x1c6ec5+(-0x1*0xecb+0x1988+0xabd*-0x1)],_0x420a8e[_0x1c6ec5+(-0x249d+-0x15d2+0x3a72)],_0x398682['x']),_0x398682['y']=_0x787206(_0x420a8e[_0x1c6ec5+(-0x557+-0x97d*-0x3+-0x171f)],_0x420a8e[_0x1c6ec5+(-0x82c+0x1*-0x1c01+0x2431*0x1)],_0x398682['y']),_0x398682['z']=_0x787206(_0x420a8e[_0x1c6ec5+(-0x1*-0x10ff+-0x32c+-0x3*0x49b)],_0x420a8e[_0x1c6ec5+(-0x1*0x94d+-0x6cb+0x101d)],_0x398682['z'])),_0x63c6e&&_0x2d42f0(_0x63c6e,_0x3673cc[_0x18d77b*_0x5d801a+(-0x17c8+0x26d7+-0x52*0x2f)]),_0x358d29&&(_0x2d4553(_0x358d29,_0x3673cc[_0x18d77b*_0x5d801a+(0x1b*0xd3+0x1*0x1c53+-0x1949*0x2)]),_0x358d29['x']=_0x787206(_0x420a8e[_0x1c6ec5+(0x4f8+0x1869*-0x1+0x1377)],_0x420a8e[_0x1c6ec5+(-0x1cf7*-0x1+0xa*-0x392+-0x33*-0x22)],_0x358d29['x']),_0x358d29['y']=_0x787206(_0x420a8e[_0x1c6ec5+(-0x1a61*-0x1+0x105c+-0x2ab6)],_0x420a8e[_0x1c6ec5+(0x1f65+0x87d+-0x27d8)],_0x358d29['y']),_0x358d29['z']=_0x787206(_0x420a8e[_0x1c6ec5+(-0x31d*-0xb+-0x67*0x4f+-0x1*0x26e)],_0x420a8e[_0x1c6ec5+(-0x1a*-0x8+0x54+-0x119)],_0x358d29['z'])),_0xbc9445&&(_0x428904(_0xbc9445,_0x3673cc[_0x18d77b*_0x5d801a+(0x1*0x199d+0x7b*-0x9+-0x1547)]),_0x2e24db>0x324+0x7c9+-0xae1&&(_0xbc9445['x']=_0x787206(_0x420a8e[_0x1c6ec5+(-0x128*0x1d+0x2b6*-0xb+-0x6*-0xa91)],_0x420a8e[_0x1c6ec5+(0x3b3*0x1+-0xdcc+0xa28)],_0xbc9445['x']),_0xbc9445['y']=_0x787206(_0x420a8e[_0x1c6ec5+(-0x1e2d+-0xf00*-0x1+0xf3a)],_0x420a8e[_0x1c6ec5+(0x5*0x33d+-0x2158+0x3*0x5bd)],_0xbc9445['y']),_0xbc9445['z']=_0x787206(_0x420a8e[_0x1c6ec5+(0x1576+0x3*0x3aa+-0xd*0x27e)],_0x420a8e[_0x1c6ec5+(-0x3b*0x86+0x1e7f+-0x74*-0x1)],_0xbc9445['z']))),_0x21a46c&&(_0x2d4553(_0x21a46c,_0x3673cc[_0x18d77b*_0x5d801a+(0x1*0x1bd3+-0xe09+0x6e3*-0x2)]),_0x21a46c['x']=_0x787206(_0x420a8e[_0x1c6ec5+(0xee9+-0x2672*0x1+0x179b)],_0x420a8e[_0x1c6ec5+(-0xe5f+-0x8c8+0x173c)],_0x21a46c['x']),_0x21a46c['y']=_0x787206(_0x420a8e[_0x1c6ec5+(0x1eb6+0x10e8+-0x2f8b)],_0x420a8e[_0x1c6ec5+(0x26*-0xe9+-0x1d00+0x3fac)],_0x21a46c['y']),_0x21a46c['z']=_0x787206(_0x420a8e[_0x1c6ec5+(0x2586+-0xa06+-0x1b*0x104)],_0x420a8e[_0x1c6ec5+(0x263d+-0x1b29*-0x1+-0x414f)],_0x21a46c['z'])),_0x1456a3&&(_0x2d4553(_0x1456a3,_0x3673cc[_0x18d77b*_0x5d801a+(-0x11c4+0xd*-0x21d+0x2d42)]),_0x1456a3['x']=_0x787206(_0x420a8e[_0x1c6ec5+(-0xf*0x281+0x3ed*-0x1+0x2994)],_0x420a8e[_0x1c6ec5+(-0x11d7+0x13*0x201+-0x1423)],_0x1456a3['x']),_0x1456a3['y']=_0x787206(_0x420a8e[_0x1c6ec5+(-0x529*0x5+-0x103+0x1aea)],_0x420a8e[_0x1c6ec5+(-0x14f9+-0x201*0x3+0x1b17)],_0x1456a3['y'])),_0x580f0e&&_0x2de571>0x2*0x593+0xb1+-0x1b1*0x7){const _0x153029=[_0x3bf3bc,_0x51c7a8,_0x312f39];for(let _0x1c5522=-0x12aa*-0x2+-0xa12*-0x1+-0x1*0x2f66;_0x1c5522<-0x23a+-0x5*0x1df+-0xe*-0xd4;++_0x1c5522)for(let _0x22a2c3=-0x5*0x1ab+0x1b60+-0x1309;_0x22a2c3<-0x8b*-0x11+-0x32c+-0x600;++_0x22a2c3)_0x580f0e[_0x1c5522*(-0x113+0x19e5+0x841*-0x3)+_0x22a2c3]=_0x22a2c3<_0x4f6f58?_0x153029[_0x1c5522][_0x18d77b*(-0x1*0x207e+0x8f8+0x1796)+_0x22a2c3]*((-0x1a24*-0x1+0x2299+0x3cb5*-0x1)/(0x17d6+0x4*-0x257+-0x1*0xd7b))-(0x1*0x202e+0x2099+-0x40c3):0x1*0x1ab3+-0x1*-0x1039+-0x4*0xabb;}};}}self['onmessage']=async _0x278847=>{const {data:_0x3c6120}=_0x278847;switch(_0x3c6120['type']){case'initWorker':break;case'decompress':_0x4c1487(_0x3c6120['numSplats'],_0x3c6120['chunkData'],_0x3c6120['chunkSize'],_0x3c6120['vertexData'],_0x3c6120['shData0'],_0x3c6120['shData1'],_0x3c6120['shData2'],_0x3c6120['shBands']);break;}};const _0x4c1487=(_0x443f1b,_0x574194,_0x321f7f,_0x579089,_0x5d9ad8,_0x118013,_0x584762,_0xd265ab)=>{const _0x17e0d7=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0xd265ab>-0x89+0x5*-0x5e2+0x1df3){const _0x125dea=[];for(let _0x141ec4=0xc99*0x1+0x3b6+-0x104f;_0x141ec4<0xc1*-0x25+-0x1*-0x952+0x12c0;++_0x141ec4)_0x125dea['push']('f_rest_'+_0x141ec4);_0x17e0d7['splice'](_0x17e0d7['indexOf']('f_dc_0')+(-0x13f8+-0x857*0x1+0x38a*0x8),0xf5a*0x1+0x1*0xe87+-0x1de1,..._0x125dea);}const _0x586225={};_0x17e0d7['forEach'](_0xb00f91=>{_0x586225[_0xb00f91]=new Float32Array(_0x443f1b);});const _0x13ae4d=new _0x6b07dc(),_0x394919=new _0x439592(),_0x4ca563=new _0x6b07dc(),_0xc3e088=new _0x1d6b55(),_0x3036d4=new _0x6b07dc(),_0x1ae3ba=new _0x6b07dc(),_0x2193e5=_0xd265ab>0x1590+0x4a0+-0x1a30?new Float32Array(0x21a*-0x6+0x1eec+-0x1223):null,_0x32f1e9=new _0x425d81(_0x574194,_0x321f7f,_0x579089,_0x5d9ad8,_0x118013,_0x584762,_0xd265ab,_0x13ae4d,_0x394919,_0x4ca563,_0xc3e088,_0x3036d4,_0x1ae3ba,_0x2193e5);for(let _0x5c18ee=-0x1ebd+-0xda*0x1f+0x1*0x3923;_0x5c18ee<_0x443f1b;++_0x5c18ee)if(_0x32f1e9['read'](_0x5c18ee),_0x586225['x'][_0x5c18ee]=_0x13ae4d['x'],_0x586225['y'][_0x5c18ee]=_0x13ae4d['y'],_0x586225['z'][_0x5c18ee]=_0x13ae4d['z'],_0x586225['rot_1'][_0x5c18ee]=_0x394919['x'],_0x586225['rot_2'][_0x5c18ee]=_0x394919['y'],_0x586225['rot_3'][_0x5c18ee]=_0x394919['z'],_0x586225['rot_0'][_0x5c18ee]=_0x394919['w'],_0x586225['scale_0'][_0x5c18ee]=_0x4ca563['x'],_0x586225['scale_1'][_0x5c18ee]=_0x4ca563['y'],_0x586225['scale_2'][_0x5c18ee]=_0x4ca563['z'],_0x586225['motion_0'][_0x5c18ee]=_0x3036d4['x'],_0x586225['motion_1'][_0x5c18ee]=_0x3036d4['y'],_0x586225['motion_2'][_0x5c18ee]=_0x3036d4['z'],_0x586225['t_scale'][_0x5c18ee]=_0x1ae3ba['x'],_0x586225['t'][_0x5c18ee]=_0x1ae3ba['y'],_0x586225['f_dc_0'][_0x5c18ee]=(_0xc3e088['x']-(0x1927+-0x1*-0xeb3+-0x27da+0.5))/_0x343b64,_0x586225['f_dc_1'][_0x5c18ee]=(_0xc3e088['y']-(-0xee7*-0x1+0x1d*-0x18+-0xc2f+0.5))/_0x343b64,_0x586225['f_dc_2'][_0x5c18ee]=(_0xc3e088['z']-(0x74f*-0x3+-0x1*-0x1969+-0x37c+0.5))/_0x343b64,_0x586225['opacity'][_0x5c18ee]=_0xc3e088['w']<=-0x8*-0x251+-0x3*-0x979+-0x65*0x77?-(-0xa08+-0xa9b+0x14cb):_0xc3e088['w']>=0x25e0*0x1+0x267e*-0x1+0x9f?-0x1549+-0xeeb*-0x1+-0x14e*-0x5:-Math['log']((0x1e*0x4e+-0x173*0x11+-0x20*-0x7c)/_0xc3e088['w']-(0x2*0x99b+-0x17c+-0x11b9)),_0x2193e5){for(let _0x2786a3=0xffc+-0x1fac+0x4*0x3ec;_0x2786a3<0xb*-0x2b6+0xdee*0x2+0x223;++_0x2786a3)_0x586225['f_rest_'+_0x2786a3][_0x5c18ee]=_0x2193e5[_0x2786a3];}let _0x5da09c={'x':_0x586225['x'],'y':_0x586225['y'],'z':_0x586225['z'],'rot_1':_0x586225['rot_1'],'rot_2':_0x586225['rot_2'],'rot_3':_0x586225['rot_3'],'rot_0':_0x586225['rot_0'],'scale_0':_0x586225['scale_0'],'scale_1':_0x586225['scale_1'],'scale_2':_0x586225['scale_2'],'motion_0':_0x586225['motion_0'],'motion_1':_0x586225['motion_1'],'motion_2':_0x586225['motion_2'],'t_scale':_0x586225['t_scale'],'t':_0x586225['t'],'f_dc_0':_0x586225['f_dc_0'],'f_dc_1':_0x586225['f_dc_1'],'f_dc_2':_0x586225['f_dc_2'],'opacity':_0x586225['opacity']};_0x2193e5&&(_0x5da09c={..._0x5da09c,'f_rest_0':_0x586225['f_rest_0'],'f_rest_1':_0x586225['f_rest_1'],'f_rest_2':_0x586225['f_rest_2'],'f_rest_3':_0x586225['f_rest_3'],'f_rest_4':_0x586225['f_rest_4'],'f_rest_5':_0x586225['f_rest_5'],'f_rest_6':_0x586225['f_rest_6'],'f_rest_7':_0x586225['f_rest_7'],'f_rest_8':_0x586225['f_rest_8'],'f_rest_9':_0x586225['f_rest_9'],'f_rest_10':_0x586225['f_rest_10'],'f_rest_11':_0x586225['f_rest_11'],'f_rest_12':_0x586225['f_rest_12'],'f_rest_13':_0x586225['f_rest_13'],'f_rest_14':_0x586225['f_rest_14'],'f_rest_15':_0x586225['f_rest_15'],'f_rest_16':_0x586225['f_rest_16'],'f_rest_17':_0x586225['f_rest_17'],'f_rest_18':_0x586225['f_rest_18'],'f_rest_19':_0x586225['f_rest_19'],'f_rest_20':_0x586225['f_rest_20'],'f_rest_21':_0x586225['f_rest_21'],'f_rest_22':_0x586225['f_rest_22'],'f_rest_23':_0x586225['f_rest_23'],'f_rest_24':_0x586225['f_rest_24'],'f_rest_25':_0x586225['f_rest_25'],'f_rest_26':_0x586225['f_rest_26'],'f_rest_27':_0x586225['f_rest_27'],'f_rest_28':_0x586225['f_rest_28'],'f_rest_29':_0x586225['f_rest_29'],'f_rest_30':_0x586225['f_rest_30'],'f_rest_31':_0x586225['f_rest_31'],'f_rest_32':_0x586225['f_rest_32'],'f_rest_33':_0x586225['f_rest_33'],'f_rest_34':_0x586225['f_rest_34'],'f_rest_35':_0x586225['f_rest_35'],'f_rest_36':_0x586225['f_rest_36'],'f_rest_37':_0x586225['f_rest_37'],'f_rest_38':_0x586225['f_rest_38'],'f_rest_39':_0x586225['f_rest_39'],'f_rest_40':_0x586225['f_rest_40'],'f_rest_41':_0x586225['f_rest_41'],'f_rest_42':_0x586225['f_rest_42'],'f_rest_43':_0x586225['f_rest_43'],'f_rest_44':_0x586225['f_rest_44']});const _0x83d910=Object['values'](_0x5da09c)['map'](_0x50c561=>_0x50c561['buffer']);self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x5da09c},_0x83d910);};}class ik extends me{constructor(){super(),h(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+sk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x1ad9c9=>{if(!this['worker'])return;const {data:_0x34c1c7}=_0x1ad9c9;switch(_0x34c1c7['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x34c1c7['data']);break;}};}['decompress'](_0x585d42,_0x15336b,_0x9d3d7a,_0x48d030,_0x5add6f,_0x51867f,_0x51e9a0,_0xea2411){const _0x66044b=[_0x15336b['buffer'],_0x48d030['buffer']];_0x5add6f&&_0x66044b['push'](_0x5add6f['buffer']),_0x51867f&&_0x66044b['push'](_0x51867f['buffer']),_0x51e9a0&&_0x66044b['push'](_0x51e9a0['buffer']),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x585d42,'chunkData':_0x15336b,'chunkSize':_0x9d3d7a,'vertexData':_0x48d030,'shData0':_0x5add6f,'shData1':_0x51867f,'shData2':_0x51e9a0,'shBands':_0xea2411},_0x66044b);}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class rk{constructor(_0x190476,_0x153c01,_0x9b18e5,_0x427b9b,_0x690bf1,_0x3d40cb,_0x105c9f,_0x9e2f60){const _0x1a0848=(_0x3fa340,_0x1c995a)=>{const _0x10b390=(0x2*-0x1f7+-0x13ac+0x179b<<_0x1c995a)-(-0x8e3+-0x20d7+-0x9*-0x4a3);return(_0x3fa340&_0x10b390)/_0x10b390;},_0x34c8d0=(_0x35c443,_0x4915b2)=>{_0x35c443['x']=_0x1a0848(_0x4915b2>>>-0x445*-0x2+-0x8*0xd3+-0x1dd*0x1,0xdb*0x25+0x789+-0x2725),_0x35c443['y']=_0x1a0848(_0x4915b2>>>-0xae2*0x2+-0x1efc+-0x1*-0x34cb,0x400*-0x1+0x641+0xbd*-0x3),_0x35c443['z']=_0x1a0848(_0x4915b2,0x6ce+0x101c*0x2+-0x1*0x26fb);},_0x442563=(_0xbfcd8c,_0x228f37)=>{_0xbfcd8c['x']=_0x1a0848(_0x228f37>>>-0x1773+0x16fb+0x90,0x2072+-0x1ca5*-0x1+-0x3d0f),_0xbfcd8c['y']=_0x1a0848(_0x228f37>>>-0x36f*0x3+-0x830+0x1*0x128d,0x182+-0x2323+0x7*0x4cf),_0xbfcd8c['z']=_0x1a0848(_0x228f37>>>0x1*-0x95e+0x22b+0x3*0x269,0x17ba+0x2521+-0x2a5*0x17),_0xbfcd8c['w']=_0x1a0848(_0x228f37,-0x1*0xe8f+-0xc7*0x17+0x2078*0x1);},_0x4f7633=(_0x5a9da6,_0x202474)=>{const _0x1da096=(0x1*0xe35+0x1f0d*-0x1+0x10d9*0x1)/(Math['sqrt'](0x9*-0x3ac+-0xba*-0x5+0x21a*0xe)*(0x1475+-0x25a3+0x112e+0.5)),_0x31a551=(_0x1a0848(_0x202474>>>-0x16e5+-0x75*0x48+0x37e1,-0x40*0x89+0x6f3+-0x3*-0x91d)-(0x1817+0x1*-0x43c+-0x1*0x13db+0.5))*_0x1da096,_0x1ccf68=(_0x1a0848(_0x202474>>>-0x1*-0xcf4+0x135a*-0x1+0x670,0x232f+0x1125*-0x2+-0xdb)-(0x3b8+-0x1f5b+-0x1*-0x1ba3+0.5))*_0x1da096,_0xb67ff0=(_0x1a0848(_0x202474,0x1929+0x15d*0x7+-0x99*0x3a)-(-0xd2e*0x2+0x44b*0x1+0x7*0x327+0.5))*_0x1da096,_0x5aa1c3=Math['sqrt'](0x1bf9+0xe*0x29b+-0x4072-(_0x31a551*_0x31a551+_0x1ccf68*_0x1ccf68+_0xb67ff0*_0xb67ff0));switch(_0x202474>>>0x27*-0xeb+-0x1b38+-0x7*-0x905){case 0x1eba+-0x1*0x3e6+-0x1ad4:_0x5a9da6['set'](_0x31a551,_0x1ccf68,_0xb67ff0,_0x5aa1c3);break;case-0x113c+-0x5*-0x10+-0x10ed*-0x1:_0x5a9da6['set'](_0x5aa1c3,_0x1ccf68,_0xb67ff0,_0x31a551);break;case-0xec3*0x1+0x1*0x172d+-0x868:_0x5a9da6['set'](_0x1ccf68,_0x5aa1c3,_0xb67ff0,_0x31a551);break;case 0x143a+0x1*-0x1885+0x44e:_0x5a9da6['set'](_0x1ccf68,_0xb67ff0,_0x5aa1c3,_0x31a551);break;}},_0x53a67f=(_0x460102,_0xa379bb,_0x32ed99)=>_0x460102*(-0x1b03+0x1c09*-0x1+0x1*0x370d-_0x32ed99)+_0xa379bb*_0x32ed99,{chunkData:_0x349528,chunkSize:_0x421778,vertexData:_0x56fca7,shData0:_0x4c68f1,shData1:_0x40336c,shData2:_0x1c77f8,shBands:_0x253ffc}=_0x190476,_0x336045=[0x261a+0x3c4+-0x29db,-0x7a7+0x4a7+0x308,-0xcd1+-0x2428+-0x6*-0x82c][_0x253ffc-(-0x152d*-0x1+-0x2e*0xa7+0xd*0xae)],_0x57c1e1=0x143b+-0x4*-0x87e+-0x362d;this['read']=_0x39b46b=>{const _0x566497=Math['floor'](_0x39b46b/(0x19ad+-0x81*0x5+-0x1628))*_0x421778;if(_0x153c01&&(_0x34c8d0(_0x153c01,_0x56fca7[_0x39b46b*_0x57c1e1+(-0x1ba1*0x1+0x2308+-0x767)]),_0x153c01['x']=_0x53a67f(_0x349528[_0x566497+(-0x6f6+-0x19b*-0xb+-0xab3)],_0x349528[_0x566497+(-0x128d+0x26dc+-0x144c)],_0x153c01['x']),_0x153c01['y']=_0x53a67f(_0x349528[_0x566497+(-0x5b4+-0x54a+0x5*0x233)],_0x349528[_0x566497+(-0x2*0x3a9+-0xb*-0x2e7+-0x1897)],_0x153c01['y']),_0x153c01['z']=_0x53a67f(_0x349528[_0x566497+(0x1337*0x1+-0x44f+-0xee6)],_0x349528[_0x566497+(-0x251a+-0xb6b+-0x308a*-0x1)],_0x153c01['z'])),_0x9b18e5&&_0x4f7633(_0x9b18e5,_0x56fca7[_0x39b46b*_0x57c1e1+(0x9*0x241+0x137*-0xc+0x5*-0x124)]),_0x427b9b&&(_0x34c8d0(_0x427b9b,_0x56fca7[_0x39b46b*_0x57c1e1+(0x4df+-0xf41+0xa64)]),_0x427b9b['x']=_0x53a67f(_0x349528[_0x566497+(0x24b6+-0x100e+-0x14a2)],_0x349528[_0x566497+(-0xa16*0x1+0x6*-0xd+-0x9d*-0x11)],_0x427b9b['x']),_0x427b9b['y']=_0x53a67f(_0x349528[_0x566497+(0xe5*0x13+-0x1*-0x576+0x42*-0x57)],_0x349528[_0x566497+(0x1*0x1724+0x1f5*0x5+-0x20e3)],_0x427b9b['y']),_0x427b9b['z']=_0x53a67f(_0x349528[_0x566497+(-0x1*-0xc49+0x1f90+-0x2bd1*0x1)],_0x349528[_0x566497+(-0x7ef*0x4+0x232d+-0x2*0x1b3)],_0x427b9b['z'])),_0x690bf1&&(_0x442563(_0x690bf1,_0x56fca7[_0x39b46b*_0x57c1e1+(-0x993+0xb05+-0x16f*0x1)]),_0x421778>0x4*-0x422+0xf53+0x141&&(_0x690bf1['x']=_0x53a67f(_0x349528[_0x566497+(0x1*-0x10a9+-0x66*-0x4f+-0x13*0xc7)],_0x349528[_0x566497+(0xbb8+-0x215f*-0x1+-0x2d08)],_0x690bf1['x']),_0x690bf1['y']=_0x53a67f(_0x349528[_0x566497+(0x2ee+0x65*0x3e+0x91d*-0x3)],_0x349528[_0x566497+(-0x134d+0x1*0x384+-0x1*-0xfd9)],_0x690bf1['y']),_0x690bf1['z']=_0x53a67f(_0x349528[_0x566497+(0x582+0x204+-0xef*0x8)],_0x349528[_0x566497+(-0x18cb+0x2407*0x1+-0xb2b)],_0x690bf1['z']))),_0x3d40cb&&(_0x34c8d0(_0x3d40cb,_0x56fca7[_0x39b46b*_0x57c1e1+(0x571+-0x395+-0x1d8)]),_0x3d40cb['x']=_0x53a67f(_0x349528[_0x566497+(0x1840+0xb04+-0x2332)],_0x349528[_0x566497+(-0xc3d*-0x1+-0x1c6+-0xa62)],_0x3d40cb['x']),_0x3d40cb['y']=_0x53a67f(_0x349528[_0x566497+(0x17f*0xf+-0x14*0x31+-0x128a)],_0x349528[_0x566497+(-0xbc4+0x1303*0x2+-0x1a2c)],_0x3d40cb['y']),_0x3d40cb['z']=_0x53a67f(_0x349528[_0x566497+(0xb57+0x1*-0xe11+0x2ce)],_0x349528[_0x566497+(-0x1*0x2294+-0x3*-0x83+0x2122)],_0x3d40cb['z'])),_0x105c9f&&(_0x34c8d0(_0x105c9f,_0x56fca7[_0x39b46b*_0x57c1e1+(0xb4f+0x69f+-0x11e9)]),_0x105c9f['x']=_0x53a67f(_0x349528[_0x566497+(0x21bd+-0x10c3+-0x10e2*0x1)],_0x349528[_0x566497+(0x45f+-0x233+0xb1*-0x3)],_0x105c9f['x']),_0x105c9f['y']=_0x53a67f(_0x349528[_0x566497+(-0x1*0x7a+-0x199d*0x1+0x1a31)],_0x349528[_0x566497+(-0x2343+-0x2079+0x43d7)],_0x105c9f['y'])),_0x9e2f60&&_0x253ffc>0x1d6f+-0x1971+-0x2*0x1ff){const _0xd54f32=[_0x4c68f1,_0x40336c,_0x1c77f8];for(let _0x44c0f1=-0x1*-0x2a8+0x1b50+-0x1df8;_0x44c0f1<-0x2*-0xa99+0x230e+-0x1*0x383d;++_0x44c0f1)for(let _0x1496cb=-0x544+-0x83b*0x2+-0x26a*-0x9;_0x1496cb<-0x63*-0x3e+0x18b8+-0x30a3;++_0x1496cb)_0x9e2f60[_0x44c0f1*(0x1*-0xa45+0x67*0x18+0x56*0x2)+_0x1496cb]=_0x1496cb<_0x336045?_0xd54f32[_0x44c0f1][_0x39b46b*(-0x1*0x62b+0x2e5*0x8+-0x10ed)+_0x1496cb]*((0xeed*-0x1+-0x12de+0x21d3)/(0xdfb*0x2+-0x1f78+-0x481*-0x1))-(-0x1*-0x1c1c+-0x6*0x1e8+-0x10a8):-0x3*-0xce7+-0x1*0x1fa1+-0x1*0x714;}};}}class ak{constructor(){h(this,'numSplats'),h(this,'comments'),h(this,'chunkData'),h(this,'vertexData'),h(this,'is4D'),h(this,'shData0'),h(this,'shData1'),h(this,'shData2'),h(this,'shBands');}['createIter'](_0x455d10,_0x320546,_0x37b896,_0x1dcaab,_0x41a251,_0x15cdbd,_0x47f7cc){return new rk(this,_0x455d10,_0x320546,_0x37b896,_0x1dcaab,_0x41a251,_0x15cdbd,_0x47f7cc);}['calcAabb'](_0x494cf9){const {chunkData:_0x5552f3,numChunks:_0x496756,chunkSize:_0x373e8e}=this;let _0x1a6e02=Math['exp'](Math['max'](_0x5552f3[0xed0+0xef4*0x1+-0x3*0x9e9],_0x5552f3[-0x115*-0x19+0xf1*0xd+-0x2740],_0x5552f3[-0x1b23*-0x1+0x2134+-0x3c4c])),_0x4fa51c=_0x5552f3[-0x1*-0x1a70+-0x6ec+-0x1384]-_0x1a6e02,_0x487843=_0x5552f3[0x1*-0x1d+-0xf6c+-0xdd*-0x12]-_0x1a6e02,_0x528087=_0x5552f3[-0x33+-0x1*-0x1a17+-0x19e2]-_0x1a6e02,_0x54879c=_0x5552f3[0x1*0xdb2+-0x26d1+0x1*0x1922]+_0x1a6e02,_0x3b03bf=_0x5552f3[-0x136f+-0x2068+0x33db]+_0x1a6e02,_0x440809=_0x5552f3[-0x5*0x4de+-0x11*-0x4e+0x132d]+_0x1a6e02;for(let _0x5ee828=0x3*0x90c+-0x16bb+-0x468;_0x5ee828<_0x496756;++_0x5ee828){const _0x41d24a=_0x5ee828*_0x373e8e;_0x1a6e02=Math['exp'](Math['max'](_0x5552f3[_0x41d24a+(0xb19+0x1b5f+0x1*-0x266f)],_0x5552f3[_0x41d24a+(0x1b4+-0x2417+-0x7*-0x4eb)],_0x5552f3[_0x41d24a+(0x2550+0x26f+0x15*-0x1e4)])),_0x4fa51c=Math['min'](_0x4fa51c,_0x5552f3[_0x41d24a+(-0x87b+0xdc1*0x2+0x1307*-0x1)]-_0x1a6e02),_0x487843=Math['min'](_0x487843,_0x5552f3[_0x41d24a+(-0xc*-0x326+0x1976+-0x1*0x3f3d)]-_0x1a6e02),_0x528087=Math['min'](_0x528087,_0x5552f3[_0x41d24a+(0x33e+-0x1486+0x114a)]-_0x1a6e02),_0x54879c=Math['max'](_0x54879c,_0x5552f3[_0x41d24a+(0x2139+0x44e+-0x2584)]+_0x1a6e02),_0x3b03bf=Math['max'](_0x3b03bf,_0x5552f3[_0x41d24a+(-0x2*0x1f+0xb14+0x22a*-0x5)]+_0x1a6e02),_0x440809=Math['max'](_0x440809,_0x5552f3[_0x41d24a+(0x129*-0x13+0x6a7*0x3+0x7*0x4d)]+_0x1a6e02);}return _0x494cf9['center']['set']((_0x4fa51c+_0x54879c)*(-0x577*0x2+0x55*-0x11+-0x1093*-0x1+0.5),(_0x487843+_0x3b03bf)*(-0x2342+-0x1516*-0x1+-0x38b*-0x4+0.5),(_0x528087+_0x440809)*(0x31e*-0x6+0x2e2+-0xe1*-0x12+0.5)),_0x494cf9['halfExtent'+'s']['set']((_0x54879c-_0x4fa51c)*(0x1b5a+0xe8f*0x2+0x8*-0x70f+0.5),(_0x3b03bf-_0x487843)*(-0x147f+0x7*-0x3a9+0x2e1e+0.5),(_0x440809-_0x528087)*(0x1*0x3e5+-0x564+0x17f+0.5)),!(0x267b*-0x1+-0xd*0x11f+-0x2*-0x1a87);}['getCenters'](_0x11e684){const {vertexData:_0x59345a,chunkData:_0x2a0da7,numChunks:_0x3ddc3d,chunkSize:_0x58c4ba}=this;let _0x1f9afb,_0x3e5c69,_0x2d7bed,_0xa4255d,_0x194d4c,_0x5772af;for(let _0xcf5192=0x101e*0x2+0x9e6+-0x2a22;_0xcf5192<_0x3ddc3d;++_0xcf5192){const _0x1eaa75=_0xcf5192*_0x58c4ba;_0x1f9afb=_0x2a0da7[_0x1eaa75+(0x52*-0x52+0x1fb9+-0x575)],_0x3e5c69=_0x2a0da7[_0x1eaa75+(0x26b5*-0x1+0x6a*0x5d+0xd*0x4)],_0x2d7bed=_0x2a0da7[_0x1eaa75+(0x1660+-0x3*0x61a+-0x410)],_0xa4255d=_0x2a0da7[_0x1eaa75+(0xf30+0x1*0x50e+-0x143b*0x1)],_0x194d4c=_0x2a0da7[_0x1eaa75+(-0x3*-0x45d+-0x4*-0x24d+0x1647*-0x1)],_0x5772af=_0x2a0da7[_0x1eaa75+(-0x1536+0x1*0x237c+0x29*-0x59)];const _0x41d3e4=Math['min'](this['numSplats'],(_0xcf5192+(0x1*0xc61+0xc69+-0xeb*0x1b))*(0xa*-0x3e5+0x1e70+0x4c1*0x2));for(let _0x245b44=_0xcf5192*(-0x849+-0x10db*0x1+0x1a24);_0x245b44<_0x41d3e4;++_0x245b44){const _0x38f1f3=_0x59345a[_0x245b44*(0xd75+0x1*-0x13e5+0x674)],_0x33b66d=(_0x38f1f3>>>0x1bb5+0x1a43+-0x35e3)/(0xd20+0x3bc+-0x8dd*0x1),_0x40a41b=(_0x38f1f3>>>0x2581*0x1+0x1f69+-0x44df&0xb*-0x241+-0x17b*0x5+0x2431)/(-0x25af+-0x180e+-0x964*-0x7),_0x336e7e=(_0x38f1f3&0x224e*-0x1+-0x148c+0x5d*0xad)/(0x527*0x3+-0x453+-0x323);_0x11e684[_0x245b44*(0x153a+-0xf2c+-0x60b)+(0xb*-0xb7+0x286+0x557)]=(0x1de2+-0x12c1+0x2c8*-0x4-_0x33b66d)*_0x1f9afb+_0x33b66d*_0xa4255d,_0x11e684[_0x245b44*(0x41d*-0x2+0x9ac+-0x16f)+(0x3fb*-0x1+-0x1*-0x16eb+-0x25*0x83)]=(0xa25+-0x4*-0xbf+-0xd20-_0x40a41b)*_0x3e5c69+_0x40a41b*_0x194d4c,_0x11e684[_0x245b44*(0xf9*0x6+0x2*0xbab+-0x1d29)+(0x1*0x4f+0x1*0x2624+-0x2671)]=(0x34a+0x199*0xb+-0x537*0x4-_0x336e7e)*_0x2d7bed+_0x336e7e*_0x5772af;}}}['getChunks'](_0x1fb37c){const {chunkData:_0x1750fc,numChunks:_0x59984c,chunkSize:_0x4da491}=this;let _0x1aa0e6,_0x3c5e4d,_0x2b0869,_0x1b1a9e,_0x35f861,_0x4f99ac;for(let _0x4edae9=-0x1*0x1423+0x1*-0x252b+0x394e;_0x4edae9<_0x59984c;++_0x4edae9){const _0x1a973e=_0x4edae9*_0x4da491;_0x1aa0e6=_0x1750fc[_0x1a973e+(-0x239b+-0x45e*0x5+0x361*0x11)],_0x3c5e4d=_0x1750fc[_0x1a973e+(0x7*-0x388+0x1*0x2a2+0x1b3*0xd)],_0x2b0869=_0x1750fc[_0x1a973e+(0x13*-0x1f+0x101d+-0xdce)],_0x1b1a9e=_0x1750fc[_0x1a973e+(-0xe6a+-0x5*-0xad+0xb0c)],_0x35f861=_0x1750fc[_0x1a973e+(-0x1144+0x1*-0x13b+0x1283)],_0x4f99ac=_0x1750fc[_0x1a973e+(0x407*-0x7+0xca*-0x17+0x45*0xac)],_0x1fb37c[_0x4edae9*(-0x257b+-0x1aec+-0x406d*-0x1)+(-0xfd8*0x2+-0x1*-0x1956+0x65a)]=_0x1aa0e6,_0x1fb37c[_0x4edae9*(0x1*-0x18cd+-0x3*0x88+0x1a6b)+(0x1b95+0x1*-0x1484+-0x710)]=_0x3c5e4d,_0x1fb37c[_0x4edae9*(0x56*0x53+-0x2264+0x688*0x1)+(0x1f78+-0xbd*-0x19+-0x3d7*0xd)]=_0x2b0869,_0x1fb37c[_0x4edae9*(-0x2*0xf8f+-0x1*0x304+0x2228)+(0x187*-0xf+0x8*-0x4a1+-0x6*-0x9fe)]=_0x1b1a9e,_0x1fb37c[_0x4edae9*(-0x21a4*0x1+0xb81+-0x1f*-0xb7)+(-0x129c+0x1*0x2514+-0x1274)]=_0x35f861,_0x1fb37c[_0x4edae9*(0x1*-0x464+-0x8ae+0xd18)+(-0xb41+0x219d+0x85*-0x2b)]=_0x4f99ac;}}['calcFocalP'+'oint'](_0x4623ca){const {chunkData:_0x4f30ed,numChunks:_0xdd10de,chunkSize:_0x145923}=this;_0x4623ca['x']=-0x1517+-0x1d27+0x3b*0xda,_0x4623ca['y']=-0x44d*-0x8+0x279+-0x24e1,_0x4623ca['z']=0x1c5d*-0x1+0x8ae+0x1*0x13af;for(let _0xbd813b=-0xe2*-0x1+-0x1a29*-0x1+-0x1*0x1b0b;_0xbd813b<_0xdd10de;++_0xbd813b){const _0x245a9f=_0xbd813b*_0x145923;_0x4623ca['x']+=_0x4f30ed[_0x245a9f+(0x1*0xb15+-0x2151+0x163c)]+_0x4f30ed[_0x245a9f+(-0x1b69+0x123d+-0x92f*-0x1)],_0x4623ca['y']+=_0x4f30ed[_0x245a9f+(0x47b*-0x5+-0x73c*0x3+0x2c1c)]+_0x4f30ed[_0x245a9f+(-0x1255+-0x6b*-0x13+0x14d*0x8)],_0x4623ca['z']+=_0x4f30ed[_0x245a9f+(0x1721+0xce7*0x1+-0x1d*0x13e)]+_0x4f30ed[_0x245a9f+(0x10a7+-0x1f5d+0xebb)];}_0x4623ca['mulScalar']((-0x5*-0x12d+-0x1f0+0x3f1*-0x1+0.5)/_0xdd10de);}get['isCompress'+'ed'](){return!(0x9*0x257+0x4e7*-0x7+0x2*0x6a1);}get['numChunks'](){return Math['ceil'](this['numSplats']/(0xe*0x164+0x643+-0x1e7*0xd));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}async['decompress'](){const _0x13914d=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x389a27}=this;if(_0x389a27>0x236d+-0x17*0x33+-0x1ed8){const _0x965e79=[];for(let _0x30edb1=0x1*-0x20c1+-0x1*-0x10d5+0xfec;_0x30edb1<-0x137*0xe+-0x1a1*-0x2+0xded;++_0x30edb1)_0x965e79['push']('f_rest_'+_0x30edb1);_0x13914d['splice'](_0x13914d['indexOf']('f_dc_0')+(-0x1*0x185+-0xb3+0x239),0x26c0+-0xb*-0x31b+0xe95*-0x5,..._0x965e79);}const _0x52803b=new ik();return _0x52803b['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData0'],this['shData1'],this['shData2'],this['shBands']),new Promise((_0x4088c4,_0x231db5)=>{_0x52803b['on']('decompress'+'ed',_0x4c8e08=>{_0x52803b['destroy'](),_0x4088c4(new qn([{'name':'vertex','count':this['numSplats'],'properties':_0x13914d['map'](_0x2d8e9d=>({'type':'float','name':_0x2d8e9d,'storage':_0x4c8e08[_0x2d8e9d],'byteSize':0x4}))}],this['comments']));});});}}async function nk(){const _0x46903a='super4d-ca'+'che-v1',_0x469cd8={'maxAge':0x9a7ec800,'maxSize':0x280000000},_0xdd48fa=new Uint8Array([0x99*-0x13+0xd69+0x45*-0x6,0x22*0x10f+0x193b+0xc29*-0x5,-0x1*0x479+-0x44*-0x8f+0x2*-0x1085,0x3*0x9f5+-0x1c97+-0x13e*0x1]),_0x265489=new Uint8Array([0xdf3+0x12ce+-0x20b7,0x3c9+-0x90d*0x3+0x17c3,-0x56*0x3e+0xd53*0x1+0x7ef*0x1,-0x1916+-0xce*-0x1c+0x2f2,-0xb6b+0x5b*0x32+-0x5fc,-0xeec+-0x67*0xb+-0xd*-0x185,-0x124b+-0x17*0x5c+-0xe6*-0x1e,-0x18c0+0x22b+0x16f6,-0x156a+-0x5f5+0x1bc3,-0x12e7+0xd7a+0x2*0x2e9,0xd4b+-0x26b8+0x19df*0x1,-0x21de+0x56c*-0x1+0x2754]),_0xef7ed0=0x5*0x293+-0x12ee+0x60f+0.28209479177387814,_0x22db2c=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class _0xe07931{constructor(_0x35efbe={}){this['options']={..._0x469cd8,..._0x35efbe},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=0x8ca+0x934+-0x7*0x292,this['initialize'+'d']=!(-0xb59+-0x1c68+0x27c2);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x46903a);const _0xa1ba86=await this['cache']['keys'](),_0x56c05f=[];for(const _0x1d398f of _0xa1ba86){const _0x3954a7=_0x1d398f['url'],_0x3510de=await this['cache']['match'](_0x3954a7);if(_0x3510de){const _0x3998c3=(await _0x3510de['blob']())['size'],_0x41cf51=_0x3510de['headers']['get']('x-cache-ti'+'me');_0x41cf51&&_0x56c05f['push']({'url':_0x3954a7,'size':_0x3998c3,'cacheTime':parseInt(_0x41cf51)});}}_0x56c05f['sort']((_0x158f54,_0x2e3079)=>_0x158f54['cacheTime']-_0x2e3079['cacheTime']);for(const _0x5d5ece of _0x56c05f)this['cacheSizes']['set'](_0x5d5ece['url'],_0x5d5ece['size']),this['currentSiz'+'e']+=_0x5d5ece['size'],this['lruList']['push'](_0x5d5ece['url']);}catch(_0x5af390){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x5af390);}this['initialize'+'d']=!(0x1a8f+0x3*0x163+0x1*-0x1eb8);}}async['get'](_0x3145c1){if(await this['init'](),!this['cache'])return null;try{const _0x146ab9=await this['cache']['match'](_0x3145c1);if(!_0x146ab9)return null;const _0x40dbd5=_0x146ab9['headers']['get']('x-cache-ti'+'me');return _0x40dbd5&&Date['now']()-parseInt(_0x40dbd5)>this['options']['maxAge']?(await this['delete'](_0x3145c1),null):(this['updateLRU'](_0x3145c1),_0x146ab9);}catch{return null;}}async['set'](_0x1e8b67,_0x2719bd){if(!(!this['cache']||_0x1e8b67['startsWith']('blob:')))try{const _0x4e4451=_0x2719bd['clone'](),_0x5193e9=await _0x4e4451['blob'](),_0xe0cda4=_0x5193e9['size'];this['currentSiz'+'e']+_0xe0cda4>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0xe0cda4);const _0x5de573=new Headers(_0x4e4451['headers']);_0x5de573['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x526bfc=new Response(_0x5193e9,{'status':_0x4e4451['status'],'statusText':_0x4e4451['statusText'],'headers':_0x5de573});await this['cache']['put'](_0x1e8b67,_0x526bfc),this['cacheSizes']['set'](_0x1e8b67,_0xe0cda4),this['currentSiz'+'e']+=_0xe0cda4,this['updateLRU'](_0x1e8b67);}catch(_0x129602){console['error']('Cache\x20set\x20'+'error:',_0x129602);}}['updateLRU'](_0x1f4fad){const _0x486dfe=this['lruList']['indexOf'](_0x1f4fad);_0x486dfe>-(0x2*0x1101+0x3e8+-0x25e9)&&this['lruList']['splice'](_0x486dfe,0x1faa+-0x1*0xe5+-0x1ec4),this['lruList']['push'](_0x1f4fad);}async['cleanupSpa'+'ce'](_0x59c5b8){const _0x48dc7b=this['options']['maxSize']*(0x1dee+0xd0e*0x1+-0x2afc+0.9);if(!(this['currentSiz'+'e']<=_0x48dc7b))for(;this['lruList']['length']>-0x4b*0xb+-0x515*0x3+0x1278&&this['currentSiz'+'e']>_0x48dc7b;){const _0x1c3715=this['lruList']['shift']();_0x1c3715&&await this['delete'](_0x1c3715);}}async['delete'](_0x4bf5f7){if(this['cache'])try{await this['cache']['delete'](_0x4bf5f7);const _0x24688e=this['cacheSizes']['get'](_0x4bf5f7)||-0x2342*-0x1+-0x40d*-0x3+-0xe5*0x35;this['currentSiz'+'e']-=_0x24688e,this['cacheSizes']['delete'](_0x4bf5f7);const _0x3e0ccc=this['lruList']['indexOf'](_0x4bf5f7);_0x3e0ccc>-(-0xbf*0x1d+0x57f+0x1025*0x1)&&this['lruList']['splice'](_0x3e0ccc,0x47*-0x65+-0x1cdc+0x38e0);}catch(_0x1b55d9){console['error']('Cache\x20dele'+'te\x20error:',_0x1b55d9);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0x568c8b=>Promise['all'](_0x568c8b['map'](_0x22363d=>{var _0x2099ca;return(_0x2099ca=this['cache'])==null?void(-0x1a6e+0xadb+0xf93):_0x2099ca['delete'](_0x22363d);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0x1ae*-0xd+0x2d3+-0x18a9;}catch(_0x191067){console['error']('Cache\x20clea'+'r\x20error:',_0x191067);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0x2*0xa6f+0x2*-0xce5+0x2ea8;}}class _0x4007e2{constructor(_0x47e702=[],_0x582a51={}){this['cacheManag'+'er']=new _0xe07931(_0x582a51['cache']),this['retryCount']=_0x582a51['retryCount']||0x445+-0xd4d*0x2+-0x14*-0x11e,this['retryDelay']=_0x582a51['retryDelay']||0x2f1+-0x2*0x11d9+0x22b5,this['maxConcurr'+'ency']=_0x582a51['maxConcurr'+'ency']||-0xef7+-0x93*0x29+0x2684,this['downloadQu'+'eue']=_0x47e702,this['isProcessi'+'ngDownload'+'Queue']=!(0x802+0x42*-0x41+0x8c1),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(0x7bb*0x1+-0xb3*-0xd+-0x1*0x10d2);this['downloadQu'+'eue']['length']>0x1926+-0x1008+-0x6*0x185;)try{const _0xf4dc87=this['downloadQu'+'eue']['splice'](-0x1811+-0x1*-0x2287+-0x1*0xa76,this['maxConcurr'+'ency'])['map'](_0x159581=>{if(!this['pendingRes'+'ponses']['has'](_0x159581)){const _0x3ad2aa=this['download'](_0x159581);return this['pendingRes'+'ponses']['set'](_0x159581,_0x3ad2aa),_0x3ad2aa['then'](()=>{this['pendingRes'+'ponses']['delete'](_0x159581);});}return Promise['resolve']();});await Promise['all'](_0xf4dc87);}catch(_0xe68efd){console['error']('Download\x20e'+'rror:',_0xe68efd);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(0xc13*0x2+0x1f01*-0x1+-0x1b7*-0x4);}}}async['fetch'](_0x428a26,_0x999749={}){if(this['pendingRes'+'ponses']['has'](_0x428a26))return this['pendingRes'+'ponses']['get'](_0x428a26);const {forceRefresh:_0xe5b6ac=!(-0x2*0x94e+-0x1e4e*0x1+-0x1*-0x30eb),..._0x204b27}=_0x999749;this['pendingRes'+'ponses']['set'](_0x428a26,this['download'](_0x428a26,_0x204b27));const _0x18eaa1=await this['pendingRes'+'ponses']['get'](_0x428a26);return this['pendingRes'+'ponses']['delete'](_0x428a26),_0x18eaa1;}async['download'](_0x13ec3c,_0x5e05ab={}){var _0x7ac59c;await((_0x7ac59c=this['cacheManag'+'er'])==null?void(0x11c1+0x54a+-0x170b):_0x7ac59c['init']());const {forceRefresh:_0x4ac007=!(0x21a9+-0x20d+-0x1f9b*0x1),..._0x4a23f7}=_0x5e05ab;_0x4ac007&&await this['cacheManag'+'er']['delete'](_0x13ec3c);const _0x366b08=await this['cacheManag'+'er']['get'](_0x13ec3c);if(_0x366b08)return _0x366b08;let _0x3c4339;for(let _0x407804=-0x10e1*-0x2+-0x2379*-0x1+-0x25*0x1df;_0x407804<this['retryCount'];_0x407804++)try{const _0x162497=await fetch(_0x13ec3c,_0x4a23f7);if(!_0x162497['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x162497['status']);return await this['cacheManag'+'er']['set'](_0x13ec3c,_0x162497),_0x162497;}catch(_0x2da576){console['error']('Download\x20e'+'rror:',_0x2da576),_0x3c4339=_0x2da576,_0x407804<this['retryCount']-(-0x1*-0xe59+0xd55+0x41*-0x6d)&&await new Promise(_0x5884aa=>setTimeout(_0x5884aa,this['retryDelay']*(_0x407804+(-0x8b*-0x3a+0x281*-0x8+-0xb75))));}throw _0x3c4339;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){this['cacheManag'+'er']['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(-0x603*0x5+0x63b+-0x17d5*-0x1),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0x27a32c{constructor(){this['numSplats']=0x10*-0x10d+0xd5*-0x20+0x2b70,this['comments']=[],this['chunkData']=new Float32Array(0x11ad*-0x1+0x13c3*-0x1+0x2570*0x1),this['vertexData']=new Uint32Array(-0x781+-0x1b15+0x2296),this['is4D']=!(-0x10f6*0x1+-0xf67+0x205d),this['shBands']=-0x17ae+-0x16e6+0x2e94,this['shData0']=new Uint8Array(0x1c5*0x9+-0x23d*0x7+0x3*-0x16),this['shData1']=new Uint8Array(0x1*0x789+-0x10d*-0x1d+-0x2602),this['shData2']=new Uint8Array(-0x1cbd*-0x1+-0x115a*0x2+0x5f7),this['elements']=[],this['isCompress'+'ed']=!(0x26d3+-0x128c+-0x1d*0xb3);}get['numChunks'](){return Math['ceil'](this['numSplats']/(-0x7*-0xad+0x1*-0x1823+0x1468));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}}class _0x4f363e{constructor(_0x43b12c,_0x28e711=[]){this['elements']=_0x43b12c,this['comments']=_0x28e711,this['isCompress'+'ed']=!(0x1*-0x1cc9+-0x724+0x23ee);}}class _0x388edd{constructor(_0xf53fcc,_0x74083f){this['reader']=_0xf53fcc,this['progressFu'+'nc']=_0x74083f,this['head']=-0x81f+0x1587+-0xd68,this['tail']=-0x59*0x6+-0x1a85+0x3*0x989;}async['read'](){var _0x4aade2;const {value:_0x535675,done:_0x13602d}=await this['reader']['read']();if(_0x13602d)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x535675),(_0x4aade2=this['progressFu'+'nc'])==null||_0x4aade2['call'](this,_0x535675['byteLength']);}['push'](_0x384b41){if(!this['data'])this['data']=_0x384b41,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x384b41['length'];else{const _0x247089=this['tail']-this['head'],_0x13b9a8=_0x247089+_0x384b41['length'];if(this['data']['length']>=_0x13b9a8)this['head']>0x201e+0x1b90+0x3bae*-0x1?(this['data']['copyWithin'](0x1235*-0x1+0x115c+0x1f*0x7,this['head'],this['tail']),this['data']['set'](_0x384b41,_0x247089),this['head']=-0x1*0x166f+-0x4*0x77+0x1*0x184b,this['tail']=_0x13b9a8):(this['data']['set'](_0x384b41,this['tail']),this['tail']+=_0x384b41['length']);else{const _0x1b11ee=new Uint8Array(_0x13b9a8);this['head']>-0x263d+-0x2*-0x1159+0x38b||this['tail']<this['data']['length']?_0x1b11ee['set'](this['data']['subarray'](this['head'],this['tail']),0x71f+-0x2*-0x875+-0x1809):_0x1b11ee['set'](this['data'],0x25c8+0x245c+-0x5*0xed4),_0x1b11ee['set'](_0x384b41,_0x247089),this['data']=_0x1b11ee,this['view']=new DataView(this['data']['buffer']),this['head']=-0x1504+0x18c+0x1378,this['tail']=_0x13b9a8;}}}['compact'](){this['head']>0xb96+-0x1*0x3e5+-0x7b1&&(this['data']['copyWithin'](0x69b*-0x1+0x10df+-0x92*0x12,this['head'],this['tail']),this['tail']-=this['head'],this['head']=-0x1*-0x12fd+0x704+-0x1a01);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x2f9086=this['view']['getInt8'](this['head']);return this['head']++,_0x2f9086;}['getUint8'](){const _0x5c41cd=this['view']['getUint8'](this['head']);return this['head']++,_0x5c41cd;}['getInt16'](){const _0x4ae1fd=this['view']['getInt16'](this['head'],!(0x2*0xf95+-0x2581*-0x1+0x44ab*-0x1));return this['head']+=-0x222e+-0x1*-0x266e+-0x43e,_0x4ae1fd;}['getUint16'](){const _0x45f490=this['view']['getUint16'](this['head'],!(0x6*0x4f4+-0xa7*0x1f+-0x97f));return this['head']+=0x1*-0x648+0x6*-0x5f2+0x29f6,_0x45f490;}['getInt32'](){const _0x17aa24=this['view']['getInt32'](this['head'],!(-0x4*-0x904+0x1*-0xbff+0x1811*-0x1));return this['head']+=0x6e3+0x373*0x1+-0xa52,_0x17aa24;}['getUint32'](){const _0x317040=this['view']['getUint32'](this['head'],!(0xdc3+0x1baa+-0x296d));return this['head']+=0x1b89+0x1f32+0x3ab7*-0x1,_0x317040;}['getFloat32'](){const _0xe62cfd=this['view']['getFloat32'](this['head'],!(-0x106*0x1b+0x1*-0xb87+0x191*0x19));return this['head']+=0x1c9e+-0x1d*-0x149+-0x41df,_0xe62cfd;}['getFloat64'](){const _0x34d955=this['view']['getFloat64'](this['head'],!(0x1b7b+-0x9*0x21d+0x876*-0x1));return this['head']+=-0x14c6+0x1*0x1261+-0x3*-0xcf,_0x34d955;}}class _0x195464{constructor(_0x19df8f,_0x536075,_0x314d2d){this['x']=_0x19df8f,this['y']=_0x536075,this['z']=_0x314d2d;}}class _0xf5af52{constructor(_0x4afa39,_0x581fe3,_0x3af521,_0x2599c4){this['x']=_0x4afa39,this['y']=_0x581fe3,this['z']=_0x3af521,this['w']=_0x2599c4;}}class _0x3dc63a{constructor(_0x12632c,_0x5d488a,_0x469121,_0x127c5b){this['x']=_0x12632c,this['y']=_0x5d488a,this['z']=_0x469121,this['w']=_0x127c5b;}['set'](_0x2d6e85,_0x3dd551,_0x410a1f,_0xcd244){this['x']=_0x2d6e85,this['y']=_0x3dd551,this['z']=_0x410a1f,this['w']=_0xcd244;}}class _0x57d772{constructor(_0x301a43,_0x39ab83,_0x9445e9,_0x4f97d8,_0x2d6fce,_0x16ca30,_0x436d3a,_0x549f23,_0x3e9bf0,_0xf8afd3,_0x28eb70,_0x33540b,_0x2a40bc,_0x182b07){const _0x2985d1=(_0x1ab47b,_0x5ca82e)=>{const _0x401486=(-0x6c4+-0xe5d*-0x1+-0x798<<_0x5ca82e)-(-0x479*-0x2+-0x26da+0x13*0x193);return(_0x1ab47b&_0x401486)/_0x401486;},_0x14f3a2=(_0x60a636,_0x5121e3)=>{_0x60a636['x']=_0x2985d1(_0x5121e3>>>0x102+-0x19e3+0x2d*0x8e,0x1*-0x26ef+-0x2cf*0xb+0x45df),_0x60a636['y']=_0x2985d1(_0x5121e3>>>-0x26e1+-0x20b9+0x47a5,-0x1347+0x81a*-0x1+0x1b6b*0x1),_0x60a636['z']=_0x2985d1(_0x5121e3,0x1*-0x1745+0x10b+-0x1*-0x1645);},_0xf52be1=(_0x48135e,_0x33bdbd)=>{_0x48135e['x']=_0x2985d1(_0x33bdbd>>>0x15c1+-0x1*-0x24e1+-0x76*0x7f,-0x664+-0x1b6e*0x1+-0x21da*-0x1),_0x48135e['y']=_0x2985d1(_0x33bdbd>>>-0xa4c+0x1*-0x731+0x1*0x118d,-0x1c42+-0x2694+-0x1*-0x42de),_0x48135e['z']=_0x2985d1(_0x33bdbd>>>0xfd2+-0x1*0x1bef+-0x1*-0xc25,-0xabf*-0x2+-0xe*0x123+0x5*-0x11c),_0x48135e['w']=_0x2985d1(_0x33bdbd,0x1f7*0xb+0xd1*-0xe+-0xa27);},_0x3d7d37=(_0x359e56,_0x23dffc)=>{const _0x338d3b=(-0x22e6+-0x1*0x24f7+0x1*0x47de)/(Math['sqrt'](-0x6*-0x2c8+-0x1ef6+0xe48)*(-0x14b5+0x1*-0x1dba+0x326f+0.5)),_0x43bfee=(_0x2985d1(_0x23dffc>>>0x1*-0x157+0x2*0x2cc+-0x1*0x42d,0x3d*0x14+-0x2e*0x6c+0xeae)-(-0x17e5+0x257+0xac7*0x2+0.5))*_0x338d3b,_0x55352e=(_0x2985d1(_0x23dffc>>>0x3e*0xa+0xcc2+0xf24*-0x1,-0x1*0xdf1+-0xa0+0xe9b)-(-0xc2b+-0x2f*-0xb5+-0x1510+0.5))*_0x338d3b,_0x796df9=(_0x2985d1(_0x23dffc,-0x540+-0x633+0x1*0xb7d)-(-0x2*-0x1101+-0x29*-0x2d+0x1*-0x2937+0.5))*_0x338d3b,_0x3a621d=Math['sqrt'](0x3a4*-0x4+-0x42*-0xa+0xbfd-(_0x43bfee*_0x43bfee+_0x55352e*_0x55352e+_0x796df9*_0x796df9));switch(_0x23dffc>>>-0x18c*-0x10+0xb*-0x27b+0x61*0x7){case 0x1a6*-0x12+-0x1bb*-0xc+0x1e*0x4c:_0x359e56['set'](_0x43bfee,_0x55352e,_0x796df9,_0x3a621d);break;case 0x2e1+-0x14a0*0x1+0x11c0:_0x359e56['set'](_0x3a621d,_0x55352e,_0x796df9,_0x43bfee);break;case-0x1c65+-0x1*0x1b5+0x1e1c:_0x359e56['set'](_0x55352e,_0x3a621d,_0x796df9,_0x43bfee);break;case-0x343+0x248f+-0x2149:_0x359e56['set'](_0x55352e,_0x796df9,_0x3a621d,_0x43bfee);break;}},_0x5bbc76=(_0x5cdb1a,_0x176dc1,_0x418d1f)=>_0x5cdb1a*(0x1*-0x24d+0x28f*-0xc+0x2102-_0x418d1f)+_0x176dc1*_0x418d1f,_0x3c2c32=[0x7d3+-0x1295*-0x2+-0x2cfa,-0x13d5*0x1+0x353+-0x2*-0x845,0x1989*0x1+0xbe7*-0x1+-0xd93][_0x436d3a-(-0x187e+-0x1c4+0x1a43)],_0x146ad8=0x1da1+0x9*0x239+0x32*-0xfe;this['read']=_0xdc7811=>{const _0x4000eb=Math['floor'](_0xdc7811/(-0xa8c+0x6*0x2b2+-0x4a0))*_0x39ab83;if(_0x549f23&&(_0x14f3a2(_0x549f23,_0x9445e9[_0xdc7811*_0x146ad8+(0x653*0x1+-0x3*-0x8b4+-0x206f)]),_0x549f23['x']=_0x5bbc76(_0x301a43[_0x4000eb+(0x2bd*-0x3+0xc43+-0x40c)],_0x301a43[_0x4000eb+(-0x7f8+0x3d1*-0x5+0x1b10)],_0x549f23['x']),_0x549f23['y']=_0x5bbc76(_0x301a43[_0x4000eb+(0xd36+-0x2671+0x193c)],_0x301a43[_0x4000eb+(0x11ad+0x21a0+-0x13*0x2b3)],_0x549f23['y']),_0x549f23['z']=_0x5bbc76(_0x301a43[_0x4000eb+(0x215e*-0x1+0xdc9+-0x1397*-0x1)],_0x301a43[_0x4000eb+(0xcb0+0x156e*0x1+-0x2219)],_0x549f23['z'])),_0x3e9bf0&&_0x3d7d37(_0x3e9bf0,_0x9445e9[_0xdc7811*_0x146ad8+(0xd*0x2c5+-0x18cd+0x1*-0xb33)]),_0xf8afd3&&(_0x14f3a2(_0xf8afd3,_0x9445e9[_0xdc7811*_0x146ad8+(0x13*0x209+0x14b8+-0x3b61)]),_0xf8afd3['x']=_0x5bbc76(_0x301a43[_0x4000eb+(-0x7f1+0x9*0x69+-0x223*-0x2)],_0x301a43[_0x4000eb+(-0x1763+-0x16f6+0x2e62)],_0xf8afd3['x']),_0xf8afd3['y']=_0x5bbc76(_0x301a43[_0x4000eb+(0x1f30+0x1492+0x143*-0x29)],_0x301a43[_0x4000eb+(-0x1*0x599+0x308+-0x1d*-0x17)],_0xf8afd3['y']),_0xf8afd3['z']=_0x5bbc76(_0x301a43[_0x4000eb+(0x185*-0x9+-0x682*0x4+-0xd3f*-0x3)],_0x301a43[_0x4000eb+(-0x9a9+-0x55c+0xf10)],_0xf8afd3['z'])),_0x28eb70&&(_0xf52be1(_0x28eb70,_0x9445e9[_0xdc7811*_0x146ad8+(0x155+-0x1*0x114d+0x1*0xffb)]),_0x39ab83>-0x14cd+0x17af+0x2d6*-0x1&&(_0x28eb70['x']=_0x5bbc76(_0x301a43[_0x4000eb+(0x2*0xcbe+-0x195a+-0x16)],_0x301a43[_0x4000eb+(-0x34+0x205f+-0x201c)],_0x28eb70['x']),_0x28eb70['y']=_0x5bbc76(_0x301a43[_0x4000eb+(-0x5db*0x2+0x65b+-0x2b4*-0x2)],_0x301a43[_0x4000eb+(0x3a7+-0x23cd+-0x24d*-0xe)],_0x28eb70['y']),_0x28eb70['z']=_0x5bbc76(_0x301a43[_0x4000eb+(0x51b+-0x21b0+0x1ca3*0x1)],_0x301a43[_0x4000eb+(-0x252e+0x21f6+0x349)],_0x28eb70['z']))),_0x33540b&&(_0x14f3a2(_0x33540b,_0x9445e9[_0xdc7811*_0x146ad8+(-0x2063*0x1+-0x21ee*0x1+0x4255)]),_0x33540b['x']=_0x5bbc76(_0x301a43[_0x4000eb+(0x1b8b+-0x21a0+-0x69*-0xf)],_0x301a43[_0x4000eb+(0x1b30+-0x9*-0xa9+-0x210c)],_0x33540b['x']),_0x33540b['y']=_0x5bbc76(_0x301a43[_0x4000eb+(-0x633+-0x13a*-0x7+-0x250)],_0x301a43[_0x4000eb+(0xab6+-0x830+-0x270)],_0x33540b['y']),_0x33540b['z']=_0x5bbc76(_0x301a43[_0x4000eb+(-0x25b*-0x5+0x1*0x1889+0x4*-0x90f)],_0x301a43[_0x4000eb+(0x86*0x2e+0x4f4+0x1*-0x1cf1)],_0x33540b['z'])),_0x2a40bc&&(_0x14f3a2(_0x2a40bc,_0x9445e9[_0xdc7811*_0x146ad8+(-0x1*-0x18eb+-0x1785+-0x1*0x161)]),_0x2a40bc['x']=_0x5bbc76(_0x301a43[_0x4000eb+(-0x41*-0x49+-0x1*0xc04+-0xeb*0x7)],_0x301a43[_0x4000eb+(-0x26d6+0x2fb*0xb+0x626)],_0x2a40bc['x']),_0x2a40bc['y']=_0x5bbc76(_0x301a43[_0x4000eb+(0xed1+0x10c+-0xf*0x10d)],_0x301a43[_0x4000eb+(-0x15ca+0x148+-0x149d*-0x1)],_0x2a40bc['y'])),_0x182b07&&_0x436d3a>0x9*0x12+0x19a8+-0x1a4a){const _0x483da1=[_0x4f97d8,_0x2d6fce,_0x16ca30];for(let _0x291b6a=0x1be6+-0xdee*0x1+0x1bf*-0x8;_0x291b6a<-0x87*0xe+-0x2372+0x2ad7;++_0x291b6a)for(let _0x466b1d=-0x1*-0x1433+0xf11+-0x2344;_0x466b1d<0x19b+0x1bf5+-0xd*0x245;++_0x466b1d)_0x182b07[_0x291b6a*(-0xf3*-0x17+0xb0+-0x1676)+_0x466b1d]=_0x466b1d<_0x3c2c32?_0x483da1[_0x291b6a][_0xdc7811*(0x671+0x1c0*-0x11+-0x1f*-0xc1)+_0x466b1d]*((-0x55*-0x61+-0x18d2+0x1*-0x75b)/(0x2ef*0x7+0x2266+-0x35f0))-(0x2389*0x1+0x28*-0x9f+-0xaad):-0x1*-0x76d+-0x1*-0x3b6+-0xb23;}};}}self['onmessage']=async _0x5828ff=>{var _0x48453b,_0x2ccb5b,_0x1d36db;const {data:_0x1db6d0}=_0x5828ff;switch(_0x1db6d0['type']){case'initWorker':globalThis['loadUrlLis'+'t']=_0x1db6d0['loadUrlLis'+'t'],globalThis['fetchWorke'+'r']=new _0x4007e2(globalThis['loadUrlLis'+'t']);break;case'destroyWor'+'ker':(_0x48453b=globalThis['fetchWorke'+'r'])==null||_0x48453b['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['loadUrlLis'+'t']=[];break;case'loadPly':const {url:_0x433997,decompress:_0x41665e}=_0x1db6d0;try{globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x4007e2(globalThis['loadUrlLis'+'t']));const _0x5e0ecc=await globalThis['fetchWorke'+'r']['fetch'](_0x433997);if(!_0x5e0ecc||!_0x5e0ecc['body'])self['postMessag'+'e']({'type':'error','data':'Error\x20load'+'ing\x20resour'+'ce','url':_0x433997});else{const _0x1ac0e8=parseInt(_0x5e0ecc['headers']['get']('content-le'+'ngth')??'0',-0x1fe3+0x621+-0x1*-0x19cc);self['postMessag'+'e']({'type':'totalLengt'+'h','totalLength':_0x1ac0e8,'bytes':0x0,'url':_0x433997});let _0x2b67a8=await _0x2c46e0(_0x5e0ecc['body']['getReader'](),_0x6160d6=>{self['postMessag'+'e']({'type':'progress','bytes':_0x6160d6,'totalLength':_0x1ac0e8,'url':_0x433997});});if(_0x41665e&&_0x2b67a8['isCompress'+'ed']){const _0x511c5f=_0x33874d(_0x2b67a8),_0x3ef249=(_0x2ccb5b=_0x511c5f==null?void(0xc39+0x1693+0x2*-0x1166):_0x511c5f['elements'][-0x164f*-0x1+0x2055+0x1a*-0x21a])==null?void(-0x71+-0x155d+-0x1*-0x15ce):_0x2ccb5b['properties']['map'](_0x114ba8=>_0x114ba8['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0x511c5f,'url':_0x433997},_0x3ef249);}else{if(_0x2b67a8['isCompress'+'ed']){const _0x2f3f0e=['chunkData','vertexData'];_0x2b67a8['shData0']&&_0x2f3f0e['push']('shData0','shData1','shData2');const _0x1e2830=_0x2f3f0e['map'](_0x800795=>{var _0x41ef34;return(_0x41ef34=_0x2b67a8[_0x800795])==null?void(0xebe+-0x1b9+-0x1*0xd05):_0x41ef34['buffer'];});self['postMessag'+'e']({'type':'splatData','data':_0x2b67a8,'url':_0x433997},_0x1e2830);}else{_0x2b67a8=_0x3f9755(_0x2b67a8);const _0x8765fa=(_0x1d36db=_0x2b67a8==null?void(-0x98f+0x217*0x3+0x34a):_0x2b67a8['elements'][-0x218b+-0x1656+-0x5*-0xb2d])==null?void(0x158*0x1+0x2312+-0x9e*0x3b):_0x1d36db['properties']['map'](_0x41a6d0=>_0x41a6d0['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0x2b67a8,'url':_0x433997},_0x8765fa);}}}}catch(_0x6e105b){self['postMessag'+'e']({'type':'error','data':_0x6e105b['message'],'url':_0x433997});}break;}};const _0x3f9755=_0x5a2b57=>{var _0x79c605;const _0xbf7cfb=(_0x79c605=_0x5a2b57==null?void(0x15ca*-0x1+0x319+0x12b1*0x1):_0x5a2b57['elements'][0x151a+0x73*0x49+-0x9*0x5fd])==null?void(-0x21af*0x1+0x196f+0x840):_0x79c605['properties']['find'](_0x2a79af=>_0x2a79af['name']==='opacity');if(_0xbf7cfb){for(let _0x1b746f=-0x24b5*0x1+-0x2331+-0x2*-0x23f3;_0x1b746f<_0xbf7cfb['storage']['length'];_0x1b746f++)_0xbf7cfb['storage'][_0x1b746f]=(0x1550+0x23b5+-0x164*0x29)/(-0x2010+-0x1778+-0x3*-0x1283+Math['exp'](-_0xbf7cfb['storage'][_0x1b746f]));}return _0x5a2b57;},_0x4b32e0=_0x30bcb6=>{const _0x27b6a9=[],_0x39a4b2=[];let _0x5cf148;for(let _0x1e6c6f=0x7b*0x17+0x311*0x6+0x1d72*-0x1;_0x1e6c6f<_0x30bcb6['length'];++_0x1e6c6f){const _0x5481b0=_0x30bcb6[_0x1e6c6f]['split']('\x20');switch(_0x5481b0[0x13e4+0xcb6+-0x209a]){case'comment':_0x39a4b2['push'](_0x5481b0['slice'](-0x1656+-0x189b+-0x6*-0x7d3)['join']('\x20'));break;case'format':_0x5cf148=_0x5481b0[0x25bf+0x18a*-0xe+-0x1032];break;case'element':_0x27b6a9['push']({'name':_0x5481b0[-0x142e+-0x14d*0x1d+0x44*0xda],'count':parseInt(_0x5481b0[0xf2c+-0xcf5*-0x1+-0x1c1f],-0x1f44+-0xb59*-0x1+-0x1*-0x13f5),'properties':[]});break;case'property':{if(!_0x22db2c['has'](_0x5481b0[-0x1518+0x1001+0x518*0x1]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0x5481b0[-0x9b1*-0x3+-0x180c+0x283*-0x2]+('\x27\x20in\x20ply\x20h'+'eader'));_0x27b6a9[_0x27b6a9['length']-(-0x1*-0x1901+0xe3d+0x29*-0xf5)]['properties']['push']({'type':_0x5481b0[-0x1a*-0x112+-0x222f*-0x1+-0x3e02],'name':_0x5481b0[0x1a72+-0x4*0x26c+-0x10c0],'storage':null,'byteSize':_0x22db2c['get'](_0x5481b0[-0x178e+0x1e6d+-0x6de])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0x5481b0[-0x194c+0x1c14+-0x2c8]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x27b6a9,'format':_0x5cf148,'comments':_0x39a4b2};},_0xd27ac3=_0x1adfc7=>{const _0x48818f=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x2d858c=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x4e76d6=new Array(0x4*-0x3d6+0x1*0x1487+-0x502)['fill']('')['map']((_0x58fb45,_0x11ca71)=>'f_rest_'+_0x11ca71),_0x3cc663=()=>_0x1adfc7[-0x4*0x134+0xbdb+0x70b*-0x1]['name']==='chunk'&&_0x1adfc7[0x23f8+-0x89a+-0x1b5e]['properties']['every']((_0x2f7a77,_0x36c883)=>_0x2f7a77['name']===_0x48818f[_0x36c883]&&_0x2f7a77['type']==='float')&&_0x1adfc7[-0x1b*-0x51+-0x1*0x9ad+0x123]['name']==='vertex'&&_0x1adfc7[-0x8*-0x437+-0x266b+0x1c*0x2b]['properties']['every']((_0xaf79ca,_0x327ae2)=>_0xaf79ca['name']===_0x2d858c[_0x327ae2]&&_0xaf79ca['type']==='uint'),_0x2bc3d3=()=>_0x1adfc7[-0x11d0+0x1*0x7ed+0x9e5]['name']==='sh'&&[0x3*-0x321+0xd2a+-0x1df*0x2,0xb2b+0x2043+-0x2b56,0x41*0x41+0x1*0x2291+-0x65*0x81]['indexOf'](_0x1adfc7[0xd0c+-0x1*-0x4cf+-0x1*0x11d9]['properties']['length'])!==-(0x1d04+0x4*0x33f+-0x29ff)&&_0x1adfc7[-0x1e42+0x1*-0x1bb9+0x39fd*0x1]['properties']['every']((_0x201317,_0x558168)=>_0x201317['name']===_0x4e76d6[_0x558168]&&_0x201317['type']==='uchar');return _0x1adfc7['length']===-0x7b+0x25a5+-0x2528&&_0x3cc663()||_0x1adfc7['length']===-0x9*0x2f6+0x133+-0xcbb*-0x2&&_0x3cc663()&&_0x2bc3d3();},_0x2a16f0=_0x1f48b6=>_0x1f48b6['length']===-0x1eed+-0x1*0x189b+-0x7ef*-0x7&&_0x1f48b6[-0x88*0x8+0x5c0+-0x60*0x4]['name']==='vertex'&&_0x1f48b6[-0x17e9+-0x3*0x2cf+-0x1*-0x2056]['properties']['every'](_0xbec107=>_0xbec107['type']==='float'),_0xadfe46=async(_0x6799c9,_0x50b220,_0x5d9d58)=>{const _0x5df64e=new _0x27a32c();_0x5df64e['comments']=_0x5d9d58;const _0x1a08b1=_0x50b220[-0x25a3+-0x1de+0x1*0x2781]['count'],_0x58c5f4=_0x50b220[-0x22be+-0x1ed6+0x4194]['properties']['length'],_0x34662c=_0x50b220[-0x2*0x137f+-0x1d09+-0x1c*-0x26e]['count'],_0x141f9a=_0x50b220[-0xa*0x23d+-0xe96*-0x2+-0x1*0x6c9]['properties']['some'](_0x32c090=>_0x32c090['name']==='packed_tim'+'e'),_0x251de8=(_0x2cdd33=>{const _0x532f6e=Math['ceil'](Math['sqrt'](_0x2cdd33)),_0x4ff58f=Math['ceil'](_0x2cdd33/_0x532f6e);return _0x532f6e*_0x4ff58f;})(_0x34662c);_0x5df64e['numSplats']=_0x34662c,_0x5df64e['is4D']=_0x141f9a,_0x5df64e['chunkData']=new Float32Array(_0x1a08b1*_0x58c5f4),_0x5df64e['vertexData']=new Uint32Array(_0x251de8*(0xb*-0x26+0xde7+-0xc3f));const _0x2b10ff=async(_0x2c471a,_0x55cd4d)=>{const _0x1fce2d=new Uint8Array(_0x2c471a);let _0x180138=0x115e+-0xb1b*-0x1+-0xc5*0x25;for(;_0x180138<_0x55cd4d;){for(;_0x6799c9['remaining']===0x17*0x115+-0x7fd+-0x10e6;)await _0x6799c9['read']();const _0xb9d69f=Math['min'](_0x55cd4d-_0x180138,_0x6799c9['remaining']),_0x30a52b=_0x6799c9['data'];for(let _0x21a03e=-0x1c30+0x1c0a+-0x13*-0x2;_0x21a03e<_0xb9d69f;++_0x21a03e)_0x1fce2d[_0x180138++]=_0x30a52b[_0x6799c9['head']++];}};if(await _0x2b10ff(_0x5df64e['chunkData']['buffer'],_0x1a08b1*_0x58c5f4*(-0x1*0xb9c+0x8*0x2cb+0x8*-0x157)),await _0x2b10ff(_0x5df64e['vertexData']['buffer'],_0x34662c*(0x1ada*-0x1+-0xe*0x1bf+-0x3352*-0x1)*(-0x2*0xa4b+0x804+0xc96)),_0x50b220['length']===0x1559+0x1698+-0x2bee){const _0x457453=_0x251de8*(-0x1260+-0xe3a+0x20aa),_0x3eef2d=new Uint8Array(_0x457453),_0x3fbb16=new Uint8Array(_0x457453),_0x59d63e=new Uint8Array(_0x457453),_0x2c5af7=-0x17e9+0xef1+0x2*0x67c,_0x5d2ae9=_0x50b220[-0xfea+-0x1fd2+0x2fbe]['properties']['length']/(0x2064+-0x52e+-0x1b33),_0x2a49ab=new Uint8Array(_0x2c5af7*_0x5d2ae9*(-0x2159+0x26ce*-0x1+0x482a));for(let _0xfcaf25=-0x1*-0xc15+-0x872+-0x3a3;_0xfcaf25<_0x5df64e['numSplats'];_0xfcaf25+=_0x2c5af7){const _0x1adb51=Math['min'](_0x2c5af7,_0x5df64e['numSplats']-_0xfcaf25);await _0x2b10ff(_0x2a49ab['buffer'],_0x1adb51*_0x5d2ae9*(-0x7*-0x563+-0x1b4*-0x5+-0x2e36));for(let _0x2fde6e=-0x1963+0x2*0x67f+0xc65;_0x2fde6e<_0x1adb51;++_0x2fde6e)for(let _0x46c191=0x2*-0x85a+0xd*0x19b+-0x61*0xb;_0x46c191<-0x7e4+-0x1e9d+0x1*0x2690;++_0x46c191){const _0x38c071=(_0xfcaf25+_0x2fde6e)*(-0x74f*-0x2+0x114*0x1f+-0xb2*0x45)+_0x46c191;_0x46c191<_0x5d2ae9?(_0x3eef2d[_0x38c071]=_0x2a49ab[(_0x2fde6e*(0xb0b+-0x22d6+-0xb*-0x22a)+(0x8c0+0x1b00+-0x23c0))*_0x5d2ae9+_0x46c191],_0x3fbb16[_0x38c071]=_0x2a49ab[(_0x2fde6e*(0x1587+0xd*0x2+0xacf*-0x2)+(-0x25ab+-0x2234+0x47e0))*_0x5d2ae9+_0x46c191],_0x59d63e[_0x38c071]=_0x2a49ab[(_0x2fde6e*(0x24b5+0x2*0x101a+-0x44e6)+(-0x1e54+-0x259*-0x1+0x1bfd))*_0x5d2ae9+_0x46c191]):(_0x3eef2d[_0x38c071]=0x265d+-0x1b15+-0xac9,_0x3fbb16[_0x38c071]=0x1f75*0x1+-0x520+-0x19d6,_0x59d63e[_0x38c071]=-0xdad+0x1819*-0x1+0x2645);}}_0x5df64e['shData0']=_0x3eef2d,_0x5df64e['shData1']=_0x3fbb16,_0x5df64e['shData2']=_0x59d63e,_0x5df64e['shBands']={0x3:0x1,0x8:0x2,0xf:0x3}[_0x5d2ae9];}else _0x5df64e['shBands']=-0x6*0x565+-0x1d9*0x5+0x299b;return _0x5df64e;},_0x3ecad3=async(_0x1a77ed,_0x59e5ca,_0x24d7d3)=>{const _0x10e525=_0x59e5ca[-0x2155+0x257f+-0x42a],_0xe741fc=_0x10e525['properties'],_0x58529a=_0xe741fc['length'],_0x41d97b=_0xe741fc['map'](_0x43b1d7=>_0x43b1d7['storage']),_0x53461f=_0xe741fc['reduce']((_0x51634e,_0x3064a5)=>_0x51634e+_0x3064a5['byteSize'],0x1de3+-0x22f0+0x1*0x50d);let _0x5332de=-0x14*0x1c0+-0x5*-0x201+-0x18fb*-0x1,_0x34d5d8;const _0x130612=()=>{const _0x2ff13d=_0x1a77ed['data']['buffer'];(_0x34d5d8==null?void(-0x1*-0xb27+0x5*-0x5e5+0x1252):_0x34d5d8['buffer'])!==_0x2ff13d&&(_0x34d5d8=new Float32Array(_0x2ff13d,-0x1935+0x235d+-0xa28,_0x2ff13d['byteLength']/(-0x2cf+0xa28+-0x755*0x1)));};for(_0x130612();_0x5332de<_0x10e525['count'];){for(;_0x1a77ed['remaining']<_0x53461f;)await _0x1a77ed['read'](),_0x130612();const _0x33d8d4=Math['min'](_0x10e525['count']-_0x5332de,Math['floor'](_0x1a77ed['remaining']/_0x53461f));for(let _0x375268=0xb93*0x1+0x20b*-0x1+-0x988;_0x375268<_0x58529a;++_0x375268){const _0x1928db=_0x41d97b[_0x375268];for(let _0x2b9081=0x43d+0x2180+-0x1*0x25bd;_0x2b9081<_0x33d8d4;++_0x2b9081)_0x1928db[_0x2b9081+_0x5332de]=_0x34d5d8[_0x2b9081*_0x58529a+_0x375268];}_0x5332de+=_0x33d8d4,_0x1a77ed['head']+=_0x33d8d4*_0x53461f;}return new _0x4f363e(_0x59e5ca,_0x24d7d3);},_0x133dbf=async(_0x1575da,_0x4f0cbb,_0x299b62)=>{for(let _0x5cf32a=0xe*0x152+-0x1cf*-0x12+-0x330a;_0x5cf32a<_0x4f0cbb['length'];++_0x5cf32a){const _0x56427e=_0x4f0cbb[_0x5cf32a],_0x560bfb=_0x56427e['properties']['reduce']((_0x1ea812,_0x2b67e4)=>_0x1ea812+_0x2b67e4['byteSize'],-0x1*0x943+-0x9*0x249+0x1dd4),_0x6753dd=_0x56427e['properties']['map'](_0x5f0f6c=>{if(_0x5f0f6c['storage'])switch(_0x5f0f6c['type']){case'char':return(_0x115ad7,_0x3b1d28)=>{_0x5f0f6c['storage'][_0x3b1d28]=_0x115ad7['getInt8']();};case'uchar':return(_0x7982ff,_0x3ecec6)=>{_0x5f0f6c['storage'][_0x3ecec6]=_0x7982ff['getUint8']();};case'short':return(_0x3a8703,_0x5cb847)=>{_0x5f0f6c['storage'][_0x5cb847]=_0x3a8703['getInt16']();};case'ushort':return(_0x2651ed,_0x3a8293)=>{_0x5f0f6c['storage'][_0x3a8293]=_0x2651ed['getUint16']();};case'int':return(_0x3b1faa,_0x269a8e)=>{_0x5f0f6c['storage'][_0x269a8e]=_0x3b1faa['getInt32']();};case'uint':return(_0x33dcc0,_0x3813c3)=>{_0x5f0f6c['storage'][_0x3813c3]=_0x33dcc0['getUint32']();};case'float':return(_0x131056,_0x31e224)=>{_0x5f0f6c['storage'][_0x31e224]=_0x131056['getFloat32']();};case'double':return(_0x20ef01,_0x1673f5)=>{_0x5f0f6c['storage'][_0x1673f5]=_0x20ef01['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0x5f0f6c['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0x1e6a2b=>{_0x1e6a2b['head']+=_0x5f0f6c['byteSize'];};});let _0x481b1b=0x52a+0xb*0x2b3+-0x22db;for(;_0x481b1b<_0x56427e['count'];){for(;_0x1575da['remaining']<_0x560bfb;)await _0x1575da['read']();const _0x5e7576=Math['min'](_0x56427e['count']-_0x481b1b,Math['floor'](_0x1575da['remaining']/_0x560bfb));for(let _0xa2085d=0x360+0x7a*0x2d+-0x18d2;_0xa2085d<_0x5e7576;++_0xa2085d){for(let _0x13e4bf=-0x1*-0xd23+0x1*0x1c65+-0x2988;_0x13e4bf<_0x56427e['properties']['length'];++_0x13e4bf)_0x6753dd[_0x13e4bf](_0x1575da,_0x481b1b);_0x481b1b++;}}}return new _0x4f363e(_0x4f0cbb,_0x299b62);},_0x2c46e0=async(_0x461e66,_0x3342e6=null)=>{const _0x5f170b=(_0x4f20c6,_0x5c9b61)=>{const _0x1f83b0=_0x4f20c6['length']-_0x5c9b61['length'];let _0x125fe4,_0x45114d;for(_0x125fe4=-0x1b47+0x1*-0x1ee6+0x3a2d;_0x125fe4<=_0x1f83b0;++_0x125fe4){for(_0x45114d=-0x1596*0x1+-0x1e7f+-0xc7*-0x43;_0x45114d<_0x5c9b61['length']&&_0x4f20c6[_0x125fe4+_0x45114d]===_0x5c9b61[_0x45114d];++_0x45114d);if(_0x45114d===_0x5c9b61['length'])return _0x125fe4;}return-(-0xf59+0x21*0x11e+0x6*-0x396);},_0x181af7=(_0x3c6721,_0x25d359)=>{if(_0x3c6721['length']<_0x25d359['length'])return!(0x1*-0x2683+-0x1df0+0x4474);for(let _0x3b0e78=0x943+-0x157f+0xc3c;_0x3b0e78<_0x25d359['length'];++_0x3b0e78)if(_0x3c6721[_0x3b0e78]!==_0x25d359[_0x3b0e78])return!(0x1f6*-0x10+0x14b+0x2*0xf0b);return!(-0x123d+-0x30*-0xa6+-0xce3);},_0x59f0a5=new _0x388edd(_0x461e66,_0x3342e6);let _0xf4d677;for(;;){if(await _0x59f0a5['read'](),_0x59f0a5['tail']>=_0xdd48fa['length']&&!_0x181af7(_0x59f0a5['data'],_0xdd48fa))throw new Error('Invalid\x20pl'+'y\x20header');if(_0xf4d677=_0x5f170b(_0x59f0a5['data'],_0x265489),_0xf4d677!==-(0x1303+0x1272+-0x2574))break;}const _0x1c80d7=new TextDecoder('ascii')['decode'](_0x59f0a5['data']['subarray'](-0x1d39*0x1+0xace+0x126b,_0xf4d677))['split']('\x0a'),{elements:_0x3305f6,format:_0x299062,comments:_0x171f7d}=_0x4b32e0(_0x1c80d7);if(_0x299062!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x59f0a5['head']=_0xf4d677+_0x265489['length'],_0x59f0a5['compact'](),await((async()=>_0xd27ac3(_0x3305f6)?await _0xadfe46(_0x59f0a5,_0x3305f6,_0x171f7d):(_0x3305f6['forEach'](_0x2575ad=>{_0x2575ad['properties']['forEach'](_0x260b9e=>{const _0x11311e=_0x22db2c['get'](_0x260b9e['type']);if(_0x11311e){const _0x54ecf7=new _0x11311e(_0x2575ad['count']);_0x260b9e['storage']=_0x54ecf7;}});}),_0x2a16f0(_0x3305f6)?await _0x3ecad3(_0x59f0a5,_0x3305f6,_0x171f7d):await _0x133dbf(_0x59f0a5,_0x3305f6,_0x171f7d)))());},_0x33874d=_0x25fb77=>{const {numSplats:_0x4ed720,chunkData:_0x3d7a45,chunkSize:_0x531c68,vertexData:_0x48d963,shData0:_0x2b9783,shData1:_0x29ae36,shData2:_0x51c4e0,shBands:_0xd38e43,comments:_0x2f0d0b,is4D:_0x4d73c6}=_0x25fb77,_0x3d5a7f=['x','y','z','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','f_dc_0','f_dc_1','f_dc_2','opacity'];if(_0x4d73c6&&_0x3d5a7f['push']('t','t_scale','motion_0','motion_1','motion_2'),_0xd38e43>0x1ccb+-0xc73+-0x1058){const _0x4ffe84=[];for(let _0x506b58=0x2648+0x20e3+-0x472b;_0x506b58<-0x1*-0x1b6f+0x1147*0x1+-0x36d*0xd;++_0x506b58)_0x4ffe84['push']('f_rest_'+_0x506b58);_0x3d5a7f['splice'](_0x3d5a7f['indexOf']('f_dc_0')+(-0x1de+0x1ad5+-0x2c6*0x9),0x15b0+-0x1918+0x1*0x368,..._0x4ffe84);}const _0x2d1316={};_0x3d5a7f['forEach'](_0x4bd297=>{_0x2d1316[_0x4bd297]=new Float32Array(_0x4ed720);});const _0x272379=new _0x195464(),_0x577332=new _0x3dc63a(),_0x4c501c=new _0x195464(),_0x2745e6=new _0xf5af52(),_0x4cc421=new _0x195464(),_0x43efac=new _0x195464(),_0x5b2260=_0xd38e43>0x1440+-0x3*-0xcbe+0x9bf*-0x6?new Float32Array(0x1*-0x66+0x1*0x1deb+0x1d58*-0x1):null,_0x1f40b7=new _0x57d772(_0x3d7a45,_0x531c68,_0x48d963,_0x2b9783,_0x29ae36,_0x51c4e0,_0xd38e43,_0x272379,_0x577332,_0x4c501c,_0x2745e6,_0x4cc421,_0x43efac,_0x5b2260);for(let _0x2d9c64=-0x1*0x859+-0x1505+-0x9ca*-0x3;_0x2d9c64<_0x4ed720;++_0x2d9c64){_0x1f40b7['read'](_0x2d9c64),_0x2d1316['x'][_0x2d9c64]=_0x272379['x'],_0x2d1316['y'][_0x2d9c64]=_0x272379['y'],_0x2d1316['z'][_0x2d9c64]=_0x272379['z'],_0x2d1316['rot_1'][_0x2d9c64]=_0x577332['x'],_0x2d1316['rot_2'][_0x2d9c64]=_0x577332['y'],_0x2d1316['rot_3'][_0x2d9c64]=_0x577332['z'],_0x2d1316['rot_0'][_0x2d9c64]=_0x577332['w'],_0x2d1316['scale_0'][_0x2d9c64]=_0x4c501c['x'],_0x2d1316['scale_1'][_0x2d9c64]=_0x4c501c['y'],_0x2d1316['scale_2'][_0x2d9c64]=_0x4c501c['z'],_0x2d1316['motion_0'][_0x2d9c64]=_0x4cc421['x'],_0x2d1316['motion_1'][_0x2d9c64]=_0x4cc421['y'],_0x2d1316['motion_2'][_0x2d9c64]=_0x4cc421['z'],_0x2d1316['t_scale'][_0x2d9c64]=_0x43efac['x'],_0x2d1316['t'][_0x2d9c64]=_0x43efac['y'],_0x2d1316['f_dc_0'][_0x2d9c64]=(_0x2745e6['x']-(0x391+0x8e7*0x4+-0x272d+0.5))/_0xef7ed0,_0x2d1316['f_dc_1'][_0x2d9c64]=(_0x2745e6['y']-(0x186a+0xf*-0xd7+-0xbd1+0.5))/_0xef7ed0,_0x2d1316['f_dc_2'][_0x2d9c64]=(_0x2745e6['z']-(-0x15*-0xfd+-0x1*0xd21+-0x7a0+0.5))/_0xef7ed0;const _0x4e64ad=_0x2745e6['w']<=0x1*-0xcdd+-0x20ee+-0x269*-0x13?-(-0x19ab*0x1+-0xde0+0x27b3):_0x2745e6['w']>=-0x1*-0x829+-0x2405+0x3fb*0x7?-0x1613*0x1+0x3*-0x7bd+0x2d72:-Math['log']((0x2518+-0x1*0x181c+-0xcfb*0x1)/_0x2745e6['w']-(0x2dd*0x8+-0x7*0x4dd+0xb24));if(_0x2d1316['opacity'][_0x2d9c64]=(0x2c5*-0xe+-0x86a+-0x3*-0xfbb)/(-0x9d9+0xf*0xb5+-0xc1*0x1+Math['exp'](-_0x4e64ad)),_0x5b2260){for(let _0x2fd6b3=0x1*0x8cb+-0x1747+0x135*0xc;_0x2fd6b3<-0x3*-0xb69+-0xe1c+-0x13f2;++_0x2fd6b3)_0x2d1316['f_rest_'+_0x2fd6b3][_0x2d9c64]=_0x5b2260[_0x2fd6b3];}}const _0x189546=[{'count':_0x4ed720,'name':'vertex','properties':_0x3d5a7f['map'](_0x4486fd=>({'byteSize':0x4,'name':_0x4486fd,'type':'float','storage':_0x2d1316[_0x4486fd]}))}];return new _0x4f363e(_0x189546,_0x2f0d0b);};}class ok extends me{constructor(_0x174ba7){super(),h(this,'worker'),h(this,'loadUrlLis'+'t'),(this['loadUrlLis'+'t']=_0x174ba7,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+nk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','loadUrlList':this['loadUrlLis'+'t']});}['loadPly'](_0x3cb987,_0x552e2c,_0x132c0b=(_0x53f1e7,_0x4b8692)=>{},_0x55eaf8=(_0x395419,_0x1f3540,_0x1a42d9)=>{},_0x361c83=(_0x4bc80d,_0x3edb74)=>{}){var _0x21622f;return(_0x21622f=this['worker'])==null||_0x21622f['postMessag'+'e']({'type':'loadPly','url':_0x3cb987,'decompress':_0x552e2c}),new Promise((_0x59e9a0,_0x39b80a)=>{if(!this['worker']){_0x39b80a(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x191fde=>{if(!this['worker'])return;const {data:_0x38de35}=_0x191fde;if(_0x3cb987===_0x38de35['url'])switch(_0x38de35['type']){case'totalLengt'+'h':_0x132c0b==null||_0x132c0b(_0x38de35['totalLengt'+'h'],_0x38de35['url']);break;case'progress':_0x55eaf8==null||_0x55eaf8(_0x38de35['bytes'],_0x38de35['totalLengt'+'h'],_0x38de35['url']);break;case'splatData':_0x59e9a0(_0x38de35['data']);break;case'error':_0x361c83==null||_0x361c83(_0x38de35['data'],_0x38de35['url']);break;}};});}['destroy'](){this['loadUrl']='',this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(-0x2*0x4d8+-0x17*0xc9+-0x1bbf*-0x1));}}class lk{constructor(_0x4f89f8,_0x1c27b0){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'readWorker'),(console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','Register\x20P'+'lyParser.c'+'onstructor'),this['app']=_0x4f89f8,this['maxRetries']=_0x1c27b0,this['urlList']=[],this['gsplatReso'+'urce']=null,this['readWorker']=null,this['totalRecei'+'ved']=0x12d9*0x1+0x1998+-0x1*0x2c71);}async['load'](_0x40b200,_0x1ec112,_0x11bf05){var _0x1b2941,_0x23a032,_0x19511b;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','PlyParser.'+'load'),this['urlList']=[],_0x40b200['load']['includes'](',')?this['urlList']=_0x40b200['load']['split'](','):this['urlList']['push'](_0x40b200['load']);const _0x43a785=_0x11bf05['data']['createTime']!==((_0x23a032=(_0x1b2941=this['onlyOneAss'+'et'])==null?void(0x436+-0x26e0+0x22aa):_0x1b2941['data'])==null?void(-0x260b+0x1*-0x23bf+0x49ca):_0x23a032['createTime']);(!this['readWorker']||_0x43a785)&&((_0x19511b=this['readWorker'])==null||_0x19511b['destroy'](),this['readWorker']=new ok(this['urlList']));const _0x40e43=_0x11bf05['data']['loadIndex']>=-0x75f+0x475+-0x2ea*-0x1?_0x11bf05['data']['loadIndex']:0x106+0x21c2*0x1+-0x22c8,_0x56b401=_0x11bf05['data']['loadMode']==='all'?this['urlList']['length']-_0x40e43:_0x40e43+(0x147c+-0x2*0x1334+-0xd*-0x161),_0x1f9462=_0x11bf05['data']['timeOption'],_0x4f1d69=_0x11bf05['data']['events'];for(let _0x5c320e=_0x40e43;_0x5c320e<_0x56b401;_0x5c320e++)await this['loadGsplat'+'Data'](this['urlList'],_0x1ec112,_0x11bf05,_0x5c320e,_0x1f9462,_0x4f1d69,_0x56b401);_0x4f1d69['fire']('loadAllAss'+'etsDone');}async['loadGsplat'+'Data'](_0x56de7a,_0xe1b43e,_0xe6fb71,_0x48cc8f,_0x33f9f3,_0x4e59bd,_0x3b3dce){var _0x422b20,_0x50704e,_0x4b4f1e;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','loadGsplat'+'Data',_0x56de7a[_0x48cc8f]['trim'](),_0x48cc8f);const _0x501878=_0x33f9f3[(0x1*0x26e5+0x1*0x10c7+-0x37aa)*_0x48cc8f]+_0x33f9f3[(0x1*0x1e63+-0x133e+0xb23*-0x1)*_0x48cc8f+(0x15d5+-0xfe7+-0x1*0x5ed)],_0xfe5b74=_0x56de7a[_0x48cc8f]['trim']();globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('loadTime','=========='+'=========='+'=========='+'=========='+'=========='+'====='),console['log']('loadTime','start\x20load'+'\x20ply\x20data',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(0x1902+-0x6b*-0x51+0x1*-0x2755))['toFixed'](-0x82+-0x25*-0xa7+-0x179f));try{const _0x489588=await((_0x422b20=this['readWorker'])==null?void(0x25c0+-0x833*-0x2+-0x3626):_0x422b20['loadPly'](_0xfe5b74,_0xe6fb71['data']['decompress'],()=>{this['totalRecei'+'ved']=-0x1f7e+-0xf10+0x2e8e;},(_0x3a0f6f,_0x4b4114)=>{this['totalRecei'+'ved']+=_0x3a0f6f,_0xe6fb71&&_0x4e59bd['fire']('progress',_0x4b4114*_0x48cc8f/_0x3b3dce+this['totalRecei'+'ved']/_0x3b3dce,_0x4b4114);},(_0x5a2ab6,_0x5136fb)=>{debugger;console['warn']('ERROE\x20Load'+'\x20Ply',_0x5136fb,_0x5a2ab6);}));let _0x562bc6;console['log']('loadTime','load\x20ply\x20d'+'ata\x20done',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(-0x1daa+0x457+0x1*0x2cdb))['toFixed'](-0x15*0xb1+-0x1*0x2416+-0x7*-0x73b)),_0x489588['isCompress'+'ed']?(_0x562bc6=new ak(),_0x562bc6['comments']=_0x489588['comments'],_0x562bc6['numSplats']=_0x489588['numSplats'],_0x562bc6['is4D']=_0x489588['is4D'],_0x562bc6['chunkData']=_0x489588['chunkData'],_0x562bc6['vertexData']=_0x489588['vertexData'],_0x562bc6['shData0']=_0x489588['shData0'],_0x562bc6['shData1']=_0x489588['shData1'],_0x562bc6['shData2']=_0x489588['shData2'],_0x562bc6['shBands']=_0x489588['shBands']):_0x562bc6=new qn(_0x489588['elements'],_0x489588['comments']),_0xe6fb71['fire']('load:data',_0x562bc6),_0x562bc6['isCompress'+'ed']||_0xe6fb71['data']['reorder'];const _0x2a7df1=_0xe6fb71['data']['createTime']!==((_0x4b4f1e=(_0x50704e=this['onlyOneAss'+'et'])==null?void(-0x58*0x1d+-0x1046+0x1a3e):_0x50704e['data'])==null?void(-0x5db+-0x1024+-0x1*-0x15ff):_0x4b4f1e['createTime']);this['gsplatReso'+'urce']&&!_0x2a7df1?this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0x562bc6['isCompress'+'ed']?await _0x562bc6['decompress']():_0x562bc6,_0x33f9f3,_0x501878,_0xe6fb71,_0x4e59bd):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new EC(this['app']['graphicsDe'+'vice'],_0x562bc6['isCompress'+'ed']?await _0x562bc6['decompress']():_0x562bc6),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x33f9f3,this['onlyOneAss'+'et']=_0xe6fb71),_0xe1b43e(null,this['gsplatReso'+'urce']);}catch(_0x4cbe3a){_0xe1b43e(_0x4cbe3a,null);}}['open'](_0x57ef98,_0x145254){return _0x145254;}}async function ck(){const _0x44cc05='super4d-ca'+'che-v1',_0x2987ad={'maxAge':0x202fbf000,'maxSize':0x280000000},_0x1c7195=0x22cb+-0xe51+0xa3d*-0x2+0.28209479177387814;class _0x3001e7{constructor(_0x256573={}){this['options']={..._0x2987ad,..._0x256573},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=-0x2*-0x12dd+0xc04+-0x31be,this['initialize'+'d']=!(0x1160+0xc56+-0x1fb*0xf);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x44cc05);const _0xda28c4=await this['cache']['keys'](),_0x25cfe6=[];for(const _0x4b44d7 of _0xda28c4){const _0x34ae7d=_0x4b44d7['url'],_0x4fda71=await this['cache']['match'](_0x34ae7d);if(_0x4fda71){const _0xf02d96=(await _0x4fda71['blob']())['size'],_0x28a248=_0x4fda71['headers']['get']('x-cache-ti'+'me');_0x28a248&&_0x25cfe6['push']({'url':_0x34ae7d,'size':_0xf02d96,'cacheTime':parseInt(_0x28a248)});}}_0x25cfe6['sort']((_0x5d99fa,_0x179b4a)=>_0x5d99fa['cacheTime']-_0x179b4a['cacheTime']);for(const _0x1d98e5 of _0x25cfe6)this['cacheSizes']['set'](_0x1d98e5['url'],_0x1d98e5['size']),this['currentSiz'+'e']+=_0x1d98e5['size'],this['lruList']['push'](_0x1d98e5['url']);}catch(_0x8a8fff){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x8a8fff);}this['initialize'+'d']=!(0x185a+-0x2*-0x684+-0xae*0x37);}}async['get'](_0x55af20){if(await this['init'](),!this['cache'])return null;try{const _0x4046ca=await this['cache']['match'](_0x55af20);if(!_0x4046ca)return null;const _0x4f5d37=_0x4046ca['headers']['get']('x-cache-ti'+'me');return _0x4f5d37&&Date['now']()-parseInt(_0x4f5d37)>this['options']['maxAge']?(await this['delete'](_0x55af20),null):(this['updateLRU'](_0x55af20),_0x4046ca);}catch{return null;}}async['set'](_0x11997d,_0x2bdeaf){if(!(!this['cache']||_0x11997d['startsWith']('blob:')))try{const _0x22b096=_0x2bdeaf['clone'](),_0x26bca8=await _0x22b096['blob'](),_0x3eb92e=_0x26bca8['size'];this['currentSiz'+'e']+_0x3eb92e>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x3eb92e);const _0x57d6be=new Headers(_0x22b096['headers']);_0x57d6be['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x440f2e=new Response(_0x26bca8,{'status':_0x22b096['status'],'statusText':_0x22b096['statusText'],'headers':_0x57d6be});await this['cache']['put'](_0x11997d,_0x440f2e),this['cacheSizes']['set'](_0x11997d,_0x3eb92e),this['currentSiz'+'e']+=_0x3eb92e,this['updateLRU'](_0x11997d);}catch(_0x4aa147){console['error']('Cache\x20set\x20'+'error:',_0x4aa147);}}['updateLRU'](_0x1012b2){const _0x4aa579=this['lruList']['indexOf'](_0x1012b2);_0x4aa579>-(-0x8af+-0x2ff+0xbaf)&&this['lruList']['splice'](_0x4aa579,-0x673+-0x1bca+0x223e),this['lruList']['push'](_0x1012b2);}async['cleanupSpa'+'ce'](_0x17e853){const _0x48de79=this['options']['maxSize']*(-0x2*-0x911+-0x4*-0x79f+-0x309e+0.9);if(!(this['currentSiz'+'e']<=_0x48de79))for(;this['lruList']['length']>-0x1*0xcbd+-0x881+0x153e&&this['currentSiz'+'e']>_0x48de79;){const _0x242ff4=this['lruList']['shift']();_0x242ff4&&await this['delete'](_0x242ff4);}}async['delete'](_0x3f7415){if(this['cache'])try{await this['cache']['delete'](_0x3f7415);const _0x20dbda=this['cacheSizes']['get'](_0x3f7415)||0x190a+-0x1ada+0x1d0;this['currentSiz'+'e']-=_0x20dbda,this['cacheSizes']['delete'](_0x3f7415);const _0x21b1d3=this['lruList']['indexOf'](_0x3f7415);_0x21b1d3>-(0x16e1+-0x1ef*-0x2+-0x146*0x15)&&this['lruList']['splice'](_0x21b1d3,0x116f*-0x2+0x1258+0x1087);}catch(_0x2c80d5){console['error']('Cache\x20dele'+'te\x20error:',_0x2c80d5);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0x335964=>Promise['all'](_0x335964['map'](_0x481375=>{var _0x3f0afd;return(_0x3f0afd=this['cache'])==null?void(-0x49*0x26+0xeb2+-0x3dc):_0x3f0afd['delete'](_0x481375);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0x1823+-0xf92*-0x1+-0x27b5;}catch(_0x4f6f8f){console['error']('Cache\x20clea'+'r\x20error:',_0x4f6f8f);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0x1*-0x1348+-0x1ba1+0x859;}}class _0x3d94d8{constructor(_0x8dd5a4=[],_0x3459aa={}){this['cacheManag'+'er']=new _0x3001e7(_0x3459aa['cache']),this['retryCount']=_0x3459aa['retryCount']||0x483*0x1+0x218*0x3+-0xac8,this['retryDelay']=_0x3459aa['retryDelay']||0x28b+-0x22eb+0x2254,this['maxConcurr'+'ency']=_0x3459aa['maxConcurr'+'ency']||0x11*0x1ad+0x24a8+0x3*-0x15b5,this['downloadQu'+'eue']=_0x8dd5a4,this['isProcessi'+'ngDownload'+'Queue']=!(0x991*0x4+0x1040+-0x3683),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(0x1*0x109d+0xf02+-0x653*0x5);this['downloadQu'+'eue']['length']>-0x1acc+-0x1693+-0x47d*-0xb;)try{const _0x2b71a6=this['downloadQu'+'eue']['splice'](-0x1297*-0x1+0x149d+-0x34*0xc1,this['maxConcurr'+'ency'])['map'](_0x49da65=>{if(!this['pendingRes'+'ponses']['has'](_0x49da65)){const _0x546389=this['download'](_0x49da65);return this['pendingRes'+'ponses']['set'](_0x49da65,_0x546389),_0x546389['then'](()=>{this['pendingRes'+'ponses']['delete'](_0x49da65);});}return Promise['resolve']();});await Promise['all'](_0x2b71a6);}catch(_0xb60469){console['error']('Download\x20e'+'rror:',_0xb60469);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(-0x1*-0xa58+0x1af*-0xb+0x6*0x15d);}}}async['fetch'](_0x177093,_0x4547e6={}){if(this['pendingRes'+'ponses']['has'](_0x177093))return this['pendingRes'+'ponses']['get'](_0x177093);const {forceRefresh:_0x3dff56=!(-0x1*0x204c+-0x1ab2+0x3aff),..._0xb2f8c2}=_0x4547e6;this['pendingRes'+'ponses']['set'](_0x177093,this['download'](_0x177093,_0xb2f8c2));const _0x158013=await this['pendingRes'+'ponses']['get'](_0x177093);return this['pendingRes'+'ponses']['delete'](_0x177093),_0x158013;}async['download'](_0x23b8a9,_0x512d31={}){var _0x277d16;await((_0x277d16=this['cacheManag'+'er'])==null?void(0x55a+0xebd+-0x1417):_0x277d16['init']());const {forceRefresh:_0x1c61ce=!(-0x60d*0x2+0x443*-0x2+-0x14a1*-0x1),..._0x938437}=_0x512d31;_0x1c61ce&&await this['cacheManag'+'er']['delete'](_0x23b8a9);const _0x4dcf2d=await this['cacheManag'+'er']['get'](_0x23b8a9);if(_0x4dcf2d)return _0x4dcf2d;let _0x1f0659;for(let _0x3c0813=0x2dd*0xd+-0x11*0x97+-0x3b*0x76;_0x3c0813<this['retryCount'];_0x3c0813++)try{const _0x36b4ec=await fetch(_0x23b8a9,_0x938437);if(!_0x36b4ec['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x36b4ec['status']);return await this['cacheManag'+'er']['set'](_0x23b8a9,_0x36b4ec),_0x36b4ec;}catch(_0x38a7ca){console['error']('Download\x20e'+'rror:',_0x38a7ca),_0x1f0659=_0x38a7ca,_0x3c0813<this['retryCount']-(-0x2e*0xc3+0x1*0x25f+0x20ac)&&await new Promise(_0x1cd65a=>setTimeout(_0x1cd65a,this['retryDelay']*(_0x3c0813+(-0x137b*0x1+-0x1a*-0xd6+-0x2*0x120))));}throw _0x1f0659;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){var _0x2df708;(_0x2df708=this['cacheManag'+'er'])==null||_0x2df708['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(0x3fb*0x7+0x1*0x1fbb+0x1b*-0x235),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0x3169e1{constructor(_0x1c5116,_0x217880=[]){this['elements']=_0x1c5116,this['comments']=_0x217880,this['isCompress'+'ed']=!(-0xcab+0xd*-0x293+0x2e23);}}class _0xa7fc04{constructor(_0x5cbb00){this['url']=_0x5cbb00;}async['readFragme'+'nt'](){globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x3d94d8(globalThis['downloadQu'+'eueUrlList']));const _0x10118f=await globalThis['fetchWorke'+'r']['fetch'](this['url']);if(!_0x10118f['ok'])throw new Error('Failed\x20to\x20'+'fetch\x20'+this['url']+':\x20'+_0x10118f['statusText']);const _0x25dcc9=await _0x10118f['arrayBuffe'+'r'](),_0x3ab5c8=new Uint8Array(_0x25dcc9);let _0x2035f8=-0x2322+0x1bd*0xd+0xc89,{size:_0x3b8436,type:_0x42f356}=this['_readBoxHe'+'ader'](_0x3ab5c8,_0x2035f8);if(_0x42f356!=='moof')throw new Error('Not\x20a\x20moof');_0x2035f8+=-0x2632+0xa9+0xa3*0x3b;const _0x277f91=_0x2035f8+_0x3b8436-(-0xec1+-0x1e9d+0x2d66);let _0x2ec340=null;for(;_0x2035f8<_0x277f91;){const {size:_0x190b27,type:_0x5b2efb}=this['_readBoxHe'+'ader'](_0x3ab5c8,_0x2035f8);_0x2035f8+=0x252d+0x1569+-0x3a8e;const _0x22d794=_0x3ab5c8['slice'](_0x2035f8,_0x2035f8+_0x190b27-(0x1fb7+0x7*-0x112+-0x1831));_0x2035f8+=_0x190b27-(0x3d*0x4+-0x1d1d+0x1c31),_0x5b2efb==='emsg'&&(_0x2ec340=this['_parseEmsg'](_0x22d794));}if(!_0x2ec340)throw new Error('Incomplete'+'\x20moof');const {size:_0x4c5739,type:_0xcac77d}=this['_readBoxHe'+'ader'](_0x3ab5c8,_0x2035f8);if(_0xcac77d!=='mdat')throw new Error('Expected\x20m'+'dat\x20box\x20af'+'ter\x20moof');_0x2035f8+=-0x23b0+0xa*0x119+-0x2*-0xc5f;const _0x6c60c=_0x3ab5c8['slice'](_0x2035f8,_0x2035f8+(_0x4c5739-(0x4*0x806+0x10d*0x14+-0x13c*0x2b)));return{'metadata':_0x2ec340,'segmentData':_0x6c60c};}['_readBoxHe'+'ader'](_0x250fa9,_0x513953){if(_0x513953+(0xc5c*-0x1+-0x833*-0x3+-0xc35)>_0x250fa9['length'])throw new Error('EOF');const _0x23f145=_0x250fa9[_0x513953]<<-0x607+-0x2f*0x27+0xd48|_0x250fa9[_0x513953+(0x20fb+-0x1f*-0xbd+-0x37dd)]<<0x1*-0x1baf+-0x23ef+-0xd1*-0x4e|_0x250fa9[_0x513953+(-0x1cc4+-0x239*-0x1+-0x1a8d*-0x1)]<<-0x24b8+0x10c3+0x13fd|_0x250fa9[_0x513953+(-0x786+-0x18b9+0x1*0x2042)],_0x58f64c=String['fromCharCo'+'de'](_0x250fa9[_0x513953+(-0x23f*-0x2+0x13*0xeb+-0x15eb*0x1)],_0x250fa9[_0x513953+(-0x1529+-0x232d*-0x1+-0xdff)],_0x250fa9[_0x513953+(-0x136+-0x17f*0x4+0x738)],_0x250fa9[_0x513953+(0x25f3+0xa1a+0x1002*-0x3)]);return{'size':_0x23f145,'type':_0x58f64c};}['_parseEmsg'](_0x7de4b2){let _0x4c9610=0x1*-0xbf9+-0x1361*-0x1+0x13c*-0x6;_0x4c9610=_0x7de4b2['indexOf'](0x6ed*-0x3+-0x2*0x80f+0x24e5,_0x4c9610)+(0x195d+0x20*-0x49+0x2*-0x81e),_0x4c9610=_0x7de4b2['indexOf'](0xda0+0x344+-0x10e4,_0x4c9610)+(-0x1108+-0x2304+0x19*0x215),_0x4c9610+=-0xf17+-0x4*-0x2f5+0x353*0x1;const _0x56a154=_0x7de4b2['slice'](_0x4c9610);return globalThis['CBOR']['decode'](_0x56a154);}}class _0x3dcb91{constructor(_0x234c56=-0x1*0x20e1+-0x2113*-0x1+-0x32,_0x534a80=0xdbe+-0x52c*-0x6+0x1*-0x2cc6,_0x3dc910=0x2620+-0x11db+-0x1445,_0x253607=0x6fb+0x1cb7+0x1*-0x23b1){this['x']=_0x234c56,this['y']=_0x534a80,this['z']=_0x3dc910,this['w']=_0x253607;}['set'](_0x15247e,_0x50b33e,_0x3b40a7,_0x570277){return this['x']=_0x15247e,this['y']=_0x50b33e,this['z']=_0x3b40a7,this['w']=_0x570277,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x5ca27d=this){let _0x2c9544=_0x5ca27d['length']();return _0x2c9544===-0x9*-0x3cd+0x1*0x847+-0x2a7c?(this['x']=this['y']=this['z']=0x12d9+-0x656*0x5+0xcd5,this['w']=-0x19f2+0x37*0xa5+-0x980):(_0x2c9544=(-0x716+0x4*0x1f7+-0x1*0xc5)/_0x2c9544,this['x']=_0x5ca27d['x']*_0x2c9544,this['y']=_0x5ca27d['y']*_0x2c9544,this['z']=_0x5ca27d['z']*_0x2c9544,this['w']=_0x5ca27d['w']*_0x2c9544),this;}['mulScalar'](_0x2ca4a5,_0x5a7981=this){return this['x']=_0x5a7981['x']*_0x2ca4a5,this['y']=_0x5a7981['y']*_0x2ca4a5,this['z']=_0x5a7981['z']*_0x2ca4a5,this['w']=_0x5a7981['w']*_0x2ca4a5,this;}}self['onmessage']=async _0x14e105=>{var _0x57ae13,_0x40f5b2;const {data:_0x114441}=_0x14e105;switch(_0x114441['type']){case'initWorker':importScripts(_0x114441['cborXUrl']);break;case'destroyWor'+'ker':_0x279e34();break;case'loadGsdMan'+'ifest':const {manifestUrl:_0x51745e,loadRepresentation:_0x428ba2}=_0x114441,_0x5aebc6=await _0x344061(_0x51745e,_0x428ba2);globalThis['manifestUr'+'l']=_0x51745e,globalThis['manifest']=_0x5aebc6,globalThis['resentatio'+'n']=_0x5aebc6['representa'+'tion'],globalThis['downloadQu'+'eueUrlList']=_0x4b3f56(),globalThis['fetchWorke'+'r']=new _0x3d94d8(globalThis['downloadQu'+'eueUrlList']),self['postMessag'+'e']({'type':'onloadMani'+'fest','data':_0x5aebc6,'url':_0x51745e,'representation':_0x428ba2});break;case'loadGsdSeg'+'ments':try{const _0x44c436=_0x57775a(globalThis['manifest'],globalThis['resentatio'+'n']),_0x59188f=await _0x22adc5(globalThis['manifest'],_0x44c436),_0x17a4a1=(_0x57ae13=_0x59188f==null?void(-0x461*-0x1+0x7d*-0x7+-0xf6):_0x59188f['elements'][-0xe+-0x241*0xd+-0x343*-0x9])==null?void(-0x1bed+0x7*0x3ce+0x14b):_0x57ae13['properties']['map'](_0x12098d=>_0x12098d['storage']['buffer']);self['postMessag'+'e']({'type':'loadGsdSeg'+'mentsDone','data':_0x59188f,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x17a4a1);}catch(_0x1ba507){console['error']('Error\x20load'+'ing\x20GSD:',_0x1ba507),self['postMessag'+'e']({'type':'error','data':_0x1ba507['message'],'url':globalThis['manifestUr'+'l']});}break;case'loadTimeli'+'neIndexSeg'+'ments':const {timelineIndexs:_0x3a0986}=_0x114441;try{const _0x2d6be2=_0x57775a(globalThis['manifest'],globalThis['resentatio'+'n']),_0x401ba5=await _0xfafdb3(globalThis['manifest'],_0x2d6be2,_0x3a0986),_0x57da3e=(_0x40f5b2=_0x401ba5==null?void(-0x1e7f+0x2*0x28d+0x1965):_0x401ba5['elements'][0xb*0x369+0x19f6+-0x3f79])==null?void(0x1a8e+0x15e8+0x3076*-0x1):_0x40f5b2['properties']['map'](_0x4a1474=>_0x4a1474['storage']['buffer']);self['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'mentsDone','data':_0x401ba5,'timelineIndexs':_0x3a0986,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x57da3e);}catch(_0x5f2f92){console['error']('Error\x20load'+'ing\x20GSD:',_0x5f2f92),self['postMessag'+'e']({'type':'error','data':_0x5f2f92['message'],'url':globalThis['manifestUr'+'l']});}break;}};const _0x279e34=()=>{var _0x3a1468;globalThis['manifestUr'+'l']=null,globalThis['manifest']=null,globalThis['resentatio'+'n']=null,(_0x3a1468=globalThis['fetchWorke'+'r'])==null||_0x3a1468['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['downloadQu'+'eueUrlList']=[],globalThis['loadedSegm'+'ents']=[],globalThis['currentLoa'+'dSg']=null;},_0x4b3f56=()=>{const _0x3116c8=new Set(),_0xa27567=_0x57775a(globalThis['manifest'],globalThis['resentatio'+'n']),_0x2e06be=globalThis['manifest']['baseUrl'],_0x53ff7a=_0xa27567['segmentTem'+'plate'][0x1f27+-0x190e+-0xdf*0x7];for(const _0x1a1ff1 of _0x53ff7a['segmentTim'+'eline'])for(const _0x54cc92 of _0x1a1ff1['nl']){const _0x4e8909=''+_0x2e06be+_0x53ff7a['media']['replace']('$SegGroupI'+'ndex$',String(_0x1a1ff1['sg']))['replace']('$NodeIndex'+'$',String(_0x54cc92));_0x3116c8['add'](_0x4e8909);}return Array['from'](_0x3116c8);},_0x344061=async(_0x36c065,_0x476af1)=>{const _0x9d518b=await(await fetch(_0x36c065))['text'](),_0x488510=JSON['parse'](_0x9d518b);_0x488510['baseUrl']=_0x36c065['replace'](/\/[^\/]*$/,'/');const {schemas:_0x425e68,gsiUrl:_0x2b5c5,repId:_0x29416f}=await _0x36c3e7(_0x488510,_0x476af1);return _0x488510['schemas']=_0x425e68,_0x488510['gsiUrl']=_0x2b5c5,_0x488510['representa'+'tion']=_0x29416f,_0x488510;},_0x36c3e7=async(_0xdab7fa,_0xa82f91)=>{let _0x1b24fe=null,_0x54ffe9=null;for(const _0x28f7c0 of _0xdab7fa['adaptation'+'Sets'])if(_0x28f7c0['contentTyp'+'e']==='4dgs'){_0x54ffe9=_0x28f7c0;for(const _0x352a43 of _0x28f7c0['representa'+'tions'])if(_0x352a43['id']===_0xa82f91){_0x1b24fe=_0x352a43;break;}break;}_0x1b24fe||(_0x1b24fe=_0x54ffe9['representa'+'tions'][0x4*-0x94f+0x14ad+0x108f],console['warn']('Representa'+'tion\x20\x27'+_0xa82f91+('\x27\x20not\x20foun'+'d,\x20use\x20the'+'\x20first\x20rep'+'resentatio'+'n\x20instead')));const _0x9b1ae2=_0x1b24fe['id'],_0x2877e3=_0xdab7fa['baseUrl']+_0x9b1ae2+('/init.gsi.'+'json'),_0x182315=await(await fetch(_0x2877e3))['text'](),_0x502f9c=JSON['parse'](_0x182315),_0xe7a670={};return _0xe7a670[_0x9b1ae2]=_0x502f9c,{'schemas':_0xe7a670,'gsiUrl':_0x2877e3,'repId':_0x9b1ae2};},_0x57775a=(_0x2e389f,_0x3431a0='high-quant'+'ized')=>{let _0x565880=null;for(const _0x18d1bd of _0x2e389f['adaptation'+'Sets'])if(_0x18d1bd['contentTyp'+'e']==='4dgs'){for(const _0x146ca1 of _0x18d1bd['representa'+'tions'])if(_0x146ca1['id']===_0x3431a0){_0x565880=_0x146ca1;break;}break;}if(!_0x565880)throw new Error('Representa'+'tion\x20\x27'+_0x3431a0+('\x27\x20not\x20foun'+'d'));return _0x565880;},_0x22adc5=async(_0x1ec7f8,_0x4931e9)=>{const _0x2ea6bf=_0x4931e9['id'],_0xbabc88=_0x1ec7f8['schemas'][_0x2ea6bf]['attributes'],_0x388167=_0x4931e9['segmentTem'+'plate'][0xc10+-0x18c8+-0xcb8*-0x1];globalThis['loadedSegm'+'ents']=[];const _0xe4c3ff=[],_0x1d4d75=[];for(const _0x55cfaa of _0x388167['segmentTim'+'eline'])for(const _0x1491de of _0x55cfaa['nl']){if(globalThis['loadedSegm'+'ents']['includes'](_0x55cfaa['sg']+'_'+_0x1491de))continue;globalThis['loadedSegm'+'ents']['push'](_0x55cfaa['sg']+'_'+_0x1491de);const _0x46a211=await _0x24b83a(_0x1ec7f8,_0x4931e9,_0xbabc88,_0x55cfaa['sg'],_0x1491de);_0x1d4d75['push'](_0x46a211['decoded']),_0xe4c3ff['push'](_0x46a211['metadata']);}return _0x12cb39(_0x1d4d75,_0xbabc88,_0x1ec7f8['comments']);},_0xfafdb3=async(_0x42c554,_0x446636,_0x41a6da)=>{if(!_0x41a6da||_0x41a6da['length']===0x2*-0x32f+-0x2f*-0x33+-0xd*0x3b)return{'decoded':[],'metadata':[]};const _0x4b29a5=_0x446636['id'],_0x4a8b4b=_0x42c554['schemas'][_0x4b29a5]['attributes'],_0x35bfb0=_0x446636['segmentTem'+'plate'][0x20c9+-0x3*-0xa23+0x1f99*-0x2];globalThis['loadedSegm'+'ents']||(globalThis['loadedSegm'+'ents']=[]);const _0x191e7d=_0x35bfb0['segmentTim'+'eline'][_0x41a6da[-0x2338+-0xa1*0x2e+0x4026]];globalThis['currentLoa'+'dSg']!==_0x191e7d['sg']&&(globalThis['loadedSegm'+'ents']=globalThis['loadedSegm'+'ents']['filter'](_0x299361=>!_0x299361['startsWith'](globalThis['currentLoa'+'dSg'])),globalThis['currentLoa'+'dSg']=_0x191e7d['sg']);let _0x1c4531;const _0x6d4cd9=[];for(const _0x13fc25 of _0x41a6da){_0x1c4531=_0x35bfb0['segmentTim'+'eline'][_0x13fc25];for(const _0x599d95 of _0x1c4531['nl'])globalThis['loadedSegm'+'ents']['includes'](_0x1c4531['sg']+'_'+_0x599d95)||(globalThis['loadedSegm'+'ents']['push'](_0x1c4531['sg']+'_'+_0x599d95),_0x6d4cd9['push'](_0x599d95));}const _0x59924f=await _0x24b83a(_0x42c554,_0x446636,_0x4a8b4b,_0x1c4531['sg'],_0x6d4cd9);_0x59924f['metadata'];const _0x2a6deb=_0x59924f['decoded'];return _0x12cb39(_0x2a6deb,_0x4a8b4b,_0x42c554['comments']);},_0x24b83a=async(_0x58b1ca,_0x14a769,_0x4090eb,_0x10619d,_0xc988cd)=>{const _0x37b4f9=_0x58b1ca['baseUrl'],_0x30937f=_0x14a769['segmentTem'+'plate'][0x1*0x1049+-0x5*0x3b3+0x236]['media'],_0x192758=_0xc988cd['map'](_0xfd3889=>''+_0x37b4f9+_0x30937f['replace']('$SegGroupI'+'ndex$',String(_0x10619d))['replace']('$NodeIndex'+'$',String(_0xfd3889))),_0x4f8c74=await Promise['all'](_0x192758['map'](async _0x1c6475=>{const _0x1eae62=await _0x4269a6(_0x1c6475),_0x16f5d5=_0x1eae62['metadata'],_0x5f3acf=_0x1eae62['segmentDat'+'a'],_0x58a57b=_0x16f5d5['gaussianCo'+'unt'];console['log']('loadSegmen'+'t\x20'+_0x1c6475),console['log']('loadSegmen'+'t\x20timeStar'+'t:',_0x16f5d5['timeStart'],'segment\x20ti'+'meEnd:',_0x16f5d5['timeEnd'],'segment\x20ga'+'ussianCoun'+'t:',_0x58a57b);let _0x45ece2;if(_0x14a769['id']['includes']('quantized')){const _0x4b7da1=_0x16f5d5['chunk_boun'+'ds'];_0x45ece2=_0x3cb3ba(_0x5f3acf,_0x58a57b,_0x4090eb,_0x10619d,_0x4b7da1);}else _0x45ece2=_0x38276c(_0x5f3acf,_0x58a57b,_0x4090eb,_0x10619d);return{'decoded':_0x45ece2,'metadata':_0x16f5d5};})),_0x3baaea=_0x4f8c74['map'](_0x24f603=>_0x24f603['decoded']),_0x406533=_0x4f8c74['map'](_0x26e7f2=>_0x26e7f2['metadata']);return{'decoded':_0x3baaea,'metadata':_0x406533};},_0x12cb39=(_0x18a2c3,_0x3cdc0c,_0x1997ea)=>{if(_0x18a2c3['length']===-0x9*0x123+0x1016+-0x5db)return new _0x3169e1([{'name':'vertex','count':0x0,'properties':[{'name':'position','type':'float','storage':new Float32Array(0x7*0x115+-0x65a+0x1*-0x139),'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':new Uint16Array(-0xcbc*-0x1+0x37a+-0x1036),'byteSize':0x2},{'name':'t','type':'float','storage':new Float32Array(0x2b8+-0x577+0x2bf),'byteSize':0x4},{'name':'t_scale','type':'float','storage':new Float32Array(0xfcb*0x1+-0x1c54+0xc89),'byteSize':0x4},{'name':'cutoff','type':'float','storage':new Float32Array(0x4de+0x21e*0x6+-0x1192),'byteSize':0x4},{'name':'motion','type':'float','storage':new Float32Array(-0x16fb+-0x1762+0x437*0xb),'byteSize':0x4},{'name':'rotation','type':'float','storage':new Float32Array(-0x19f3*0x1+-0x1a16+0x3409),'byteSize':0x4},{'name':'scale','type':'uint16','storage':new Uint16Array(-0x8c3*-0x1+0xb63+-0x1426),'byteSize':0x2},{'name':'time_index','type':'float','storage':new Float32Array(-0x1fb9+-0x204f+0x4008),'byteSize':0x4}]}],_0x1997ea);const _0x1a3c54=_0x5423ca(_0x18a2c3),[_0x49dec6,_0xaa30c,_0x383a21]=_0x40276d(_0x1a3c54['lifecycle'],0x5*-0x8b+-0x970*-0x4+-0x2306,Float32Array),_0x5546fd=_0x1a3c54['time_index'],_0xd628fd=_0x3cdc0c['find'](_0x1ea2ae=>_0x1ea2ae['name']==='feature_re'+'st'),_0x55c295=[];if(_0xd628fd&&_0x1a3c54['feature_re'+'st']){const _0x264ec3=_0xd628fd['dataType']['split'](',')[0x16fa+0x1d35*0x1+0x1a17*-0x2]['trim']()['replace']('>',''),_0x1e6a84=_0x40276d(_0x1a3c54['feature_re'+'st'],0x901+-0x534+-0x1e5*0x2,Float32Array);for(const _0x157ff6 of _0x1e6a84){const _0x1d2c44=_0x40276d(_0x157ff6,_0x264ec3/(0x2295+-0x99+-0x21f9),Float32Array);for(let _0x86d2cd=0x19eb+-0x4*0x2ba+-0xf03;_0x86d2cd<_0x1d2c44['length'];_0x86d2cd++)_0x55c295['push']({'name':'f_rest_'+_0x86d2cd,'type':'float','storage':_0x1d2c44[_0x86d2cd],'byteSize':0x4});}}return new _0x3169e1([{'name':'vertex','count':_0x1a3c54['position']['length']/(0x1*0x1321+0x9d0+-0x1cee),'properties':[{'name':'position','type':'float','storage':_0x1a3c54['position'],'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':_0x1a3c54['color_opac'+'ity'],'byteSize':0x2},{'name':'t','type':'float','storage':_0xaa30c,'byteSize':0x4},{'name':'t_scale','type':'float','storage':_0x49dec6,'byteSize':0x4},{'name':'cutoff','type':'float','storage':_0x383a21,'byteSize':0x4},{'name':'motion','type':'float','storage':_0x1a3c54['motion'],'byteSize':0x4},{'name':'rotation','type':'float','storage':_0x1a3c54['rotation'],'byteSize':0x4},{'name':'scale','type':'uint16','storage':_0x1a3c54['scale'],'byteSize':0x2},{'name':'time_index','type':'float','storage':_0x5546fd,'byteSize':0x4},..._0x55c295]}],_0x1997ea);},_0x40276d=(_0x12d7dd,_0xb1dd1,_0xdd337f)=>{const _0x3d7ef0=new Array(_0xb1dd1),_0xfba075=Math['floor'](_0x12d7dd['length']/_0xb1dd1),_0x4632e5=_0x12d7dd['length']%_0xb1dd1;for(let _0x200b08=-0x1f*-0xa1+-0xb99*0x1+-0x6*0x151;_0x200b08<_0xb1dd1;_0x200b08++){const _0x2a8e6f=_0x200b08<_0x4632e5?_0xfba075+(-0x3*0xcae+-0x1e72*-0x1+0x799):_0xfba075;_0x3d7ef0[_0x200b08]=new _0xdd337f(_0x2a8e6f);}for(let _0x724623=0x5*0x5ba+0x23c2+-0x4064;_0x724623<_0x12d7dd['length'];_0x724623++){const _0x246aea=_0x724623%_0xb1dd1,_0x38f94b=Math['floor'](_0x724623/_0xb1dd1);_0x3d7ef0[_0x246aea][_0x38f94b]=_0x12d7dd[_0x724623];}return _0x3d7ef0;},_0x4269a6=async _0x4b03cf=>{const _0x3bc674=new _0xa7fc04(_0x4b03cf),{metadata:_0x50b9cc,segmentData:_0x29bcc6}=await _0x3bc674['readFragme'+'nt']();return{'metadata':_0x50b9cc,'segmentData':_0x29bcc6};},_0x2fd167=(_0x2a0a33,_0x4c9e6a)=>{let _0x4aa12a,_0x3c572d,_0x556937=-(-0x377+-0xc8a+0x1002);if(_0x2a0a33['encoding']){const _0x390edf=_0x2a0a33['encoding']['storageTyp'+'e'];if(_0x390edf==='uint32')_0x3c572d=Uint32Array,_0x4aa12a=Uint32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x390edf['startsWith']('array<ucha'+'r')){_0x3c572d=Uint8Array;const _0x392c29=_0x390edf['split'](',')[0x16a*-0x16+0x3a1+0x1b7c]['trim']()['replace']('>','');_0x556937=parseInt(_0x392c29),_0x4aa12a=_0x556937*Uint8Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20storage\x20'+'type:\x20'+_0x390edf);}}else{if(_0x3c572d=Float32Array,_0x2a0a33['dataType']==='vec3f')_0x4aa12a=(0x1*0x764+-0x1f35+0x17d4)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x2a0a33['dataType']==='vec4f')_0x4aa12a=(-0x72e*0x4+0x2*-0x2f6+0x22a8)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x2a0a33['dataType']==='vec2f')_0x4aa12a=(0x27*-0x5a+-0xb*0x49+0x5*0x35f)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x2a0a33['dataType']['startsWith']('array<floa'+'t')){const _0x3b3868=_0x2a0a33['dataType']['split'](',')[0x853*-0x1+0x27c+0x5d8*0x1]['trim']()['replace']('>','');_0x556937=parseInt(_0x3b3868),_0x4aa12a=_0x556937*Float32Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0x2a0a33['dataType']);}}}}return{'dataSize':_0x4c9e6a*_0x4aa12a,'datatype':_0x3c572d,'arraySize':_0x556937};},_0x1b5b70=(_0x32f2ac,_0x40e03c)=>{const _0x345d78=(0x10df+0x101f+0x699*-0x5<<_0x40e03c)-(-0x1842+-0x1da5+0xe6*0x3c);return(_0x32f2ac&_0x345d78)/_0x345d78;},_0x2eaafe=_0x4d52ec=>{const _0xb26030=new Float32Array(_0x4d52ec['length']*(0x1*0xf11+0x35*-0x97+-0x567*-0x3));for(let _0x360981=0x1*-0xd3a+0x1*0xa2b+0x30f;_0x360981<_0x4d52ec['length'];_0x360981++)_0xb26030[_0x360981*(-0xd*0xb6+-0xb*0x1e5+0x1e18)]=_0x1b5b70(_0x4d52ec[_0x360981]>>>-0x3*-0x6c5+0x2136+0x18*-0x23a,0x803*-0x3+-0x41d+0x1*0x1c31),_0xb26030[_0x360981*(0x1988+-0xbf*0x1+-0x1*0x18c6)+(0x6e4+0x1b0c+-0x21ef)]=_0x1b5b70(_0x4d52ec[_0x360981]>>>0x1043*0x2+0x19af+-0x5*0xba2,-0x22cc+-0x1c3a+0x3f10),_0xb26030[_0x360981*(0x39d*0x1+0x256a+-0x1a4*0x19)+(-0x6b5+0xf39+0x16*-0x63)]=_0x1b5b70(_0x4d52ec[_0x360981],-0x1e59+-0x928*-0x2+0xc14);return _0xb26030;},_0xc12ff7=_0x5b9bf8=>{const _0x5d00af=new Float32Array(_0x5b9bf8['length']*(0x808+0x59e*0x4+-0x1e7c));for(let _0x17304e=0x11a1*-0x1+-0xeb1+0x2052;_0x17304e<_0x5b9bf8['length'];_0x17304e++)_0x5d00af[_0x17304e*(-0x22d5+-0x23b9+0x4692)]=_0x1b5b70(_0x5b9bf8[_0x17304e]>>>0x26fa+-0x2141*-0x1+-0x4823*0x1,0x112d+0x495+-0x67*0x36),_0x5d00af[_0x17304e*(-0x2445+0xe07+0x1642)+(-0x1c76*-0x1+-0x1dea+0x175)]=_0x1b5b70(_0x5b9bf8[_0x17304e]>>>0x2251+0x1ec5*-0x1+-0x37c*0x1,0x395*-0x5+0x1ec3+0x3*-0x446),_0x5d00af[_0x17304e*(-0x394*0x7+-0x1f34+0x3844)+(-0x2c5*-0x1+-0x25f2+0x232f)]=_0x1b5b70(_0x5b9bf8[_0x17304e]>>>0x1*0x194c+0x525*0x5+0x13*-0x2af,-0x101b+0xd12+0x311),_0x5d00af[_0x17304e*(-0x1f*-0x3e+-0x5*-0x305+-0x1697)+(0x199*-0x13+0x229a+0x43c*-0x1)]=_0x1b5b70(_0x5b9bf8[_0x17304e],-0x936+0xca3+-0x365*0x1);return _0x5d00af;},_0x173bbc=_0x59d4b3=>{const _0x15131d=new Float32Array(_0x59d4b3['length']*(-0x1b5d+-0x55c+-0x2*-0x105e)),_0x4088b0=(0x11b9+0x24b9*0x1+-0x3671)/(Math['sqrt'](0x1*-0x1c9d+-0x1de2+0x3a81)*(-0x1*-0x556+-0xb*0x188+-0x2*-0x5c1+0.5));for(let _0x1aae35=0x22ab+0x2*0xc77+-0x3b99*0x1;_0x1aae35<_0x59d4b3['length'];_0x1aae35++){const _0x10941c=(_0x1b5b70(_0x59d4b3[_0x1aae35]>>>-0x347*0x5+0x2404+-0x138d,0x707+-0xf39+0x83c)-(0x322*-0xb+0x12e7*0x1+0x1*0xf8f+0.5))*_0x4088b0,_0x1b8b1d=(_0x1b5b70(_0x59d4b3[_0x1aae35]>>>0x23e0+0x1d3*0xa+-0x3614,0x1*-0x267d+0x2287*0x1+0x400)-(0xfe8+0x6*-0x5d1+0x12fe+0.5))*_0x4088b0,_0x403dfc=(_0x1b5b70(_0x59d4b3[_0x1aae35],-0x163d+-0x5bc+0x1c03)-(0x81*-0x20+0x1fc5+-0x537*0x3+0.5))*_0x4088b0,_0x1eca9d=Math['sqrt'](-0xed9+0x149c+0x86*-0xb-(_0x10941c*_0x10941c+_0x1b8b1d*_0x1b8b1d+_0x403dfc*_0x403dfc));let _0x46139f=-0x2*0x3a9+-0xd5e*-0x1+-0x6*0x102,_0x4d3074=0x1*0x18b9+-0x1d+0x69*-0x3c,_0x5889c1=-0x76d+0x477*-0x4+0x1949,_0x123c37=0x11be+-0x1*-0x139+0x3cb*-0x5;switch(_0x59d4b3[_0x1aae35]>>>-0x50*0x37+-0xa0a+-0x32*-0x8c){case 0x2c*0xb7+-0x2*-0x10f1+-0x1*0x4156:_0x46139f=_0x1eca9d,_0x4d3074=_0x10941c,_0x5889c1=_0x1b8b1d,_0x123c37=_0x403dfc;break;case 0x5a*-0x1+-0x10*0x1eb+0x1f0b:_0x46139f=_0x1eca9d,_0x4d3074=_0x1b8b1d,_0x5889c1=_0x403dfc,_0x123c37=_0x10941c;break;case-0x19f1*-0x1+0x2191+-0x3b80:_0x46139f=_0x1b8b1d,_0x4d3074=_0x1eca9d,_0x5889c1=_0x403dfc,_0x123c37=_0x10941c;break;case 0xbd0+0x1f*-0xf1+-0x5*-0x37a:_0x46139f=_0x1b8b1d,_0x4d3074=_0x403dfc,_0x5889c1=_0x1eca9d,_0x123c37=_0x10941c;break;}const _0x1af1b1=_0x407755(_0x46139f,_0x4d3074,_0x5889c1,_0x123c37);_0x15131d[_0x1aae35*(0x5fb*-0x5+-0xf44+0x2d2e)]=_0x1af1b1['x'],_0x15131d[_0x1aae35*(-0x6*-0x353+0x3*0x683+-0x2778)+(0x798+-0x672+0x1*-0x125)]=_0x1af1b1['y'],_0x15131d[_0x1aae35*(0x6*0x26a+0x826+-0x169f*0x1)+(-0x5e0+0x1584+-0x3a*0x45)]=_0x1af1b1['z'];}return _0x15131d;},_0xec287=(_0x46ee56,_0x302aba,_0x16894d)=>{const _0x72f73d=_0x16894d-_0x302aba,_0x2ca5f9=new Float32Array(_0x46ee56['length']);for(let _0x4f9d27=0x93c*0x3+0x2a4*0x4+-0x2644;_0x4f9d27<_0x46ee56['length'];_0x4f9d27++)_0x2ca5f9[_0x4f9d27]=_0x46ee56[_0x4f9d27]/(0x1*0x57d+0x150+-0x1*0x5ce)*_0x72f73d+_0x302aba;return _0x2ca5f9;},_0x402504=new Float32Array(-0xa*-0x26c+0x1d*0x95+-0x2918),_0x3abd2a=new Int32Array(_0x402504['buffer']),_0x1ef9aa=_0x24385c=>{_0x402504[-0x65b*-0x6+-0xd*-0xc7+-0x303d]=_0x24385c;const _0x49a718=_0x3abd2a[-0x2*0x1021+-0x8f5*0x1+-0x1*-0x2937];let _0x578846=_0x49a718>>0x8f0*0x3+0x44d+0x1f0d*-0x1&0xde61+0x2a*-0x4b7+0xa9*0x9d,_0x5dc01e=_0x49a718>>0x664*0x2+-0x1364+-0x2*-0x354&0x1511*0x1+-0xe61+-0x43*-0x5;const _0x33acb2=_0x49a718>>-0x1*-0x20f8+0x1e60+-0x1*0x3f41&0x79*0x17+-0x2d*0x33+-0xe9*0x1;return _0x33acb2<-0x6c4+0x1c01+-0x3*0x6f2?_0x578846:_0x33acb2>0x81d+0x1de*0x5+-0x10e5?(_0x578846|=0x86c2+0x1*0x7d1e+-0x87e0,_0x578846|=(_0x33acb2===0x824+0x1*0x62e+-0xd53?0x5b8*-0x6+-0xd36+0x2f86:0xd81+0x159f+-0x231f)&&_0x49a718&-0x45653e*-0x3+-0x4d7*-0x242e+0xff4a5d*-0x1,_0x578846):_0x33acb2<-0x18a7+-0x2cf*-0x8+0x2a*0x10?(_0x5dc01e|=0x10f8+0x2*0x8de+-0x1ab4*0x1,_0x578846|=(_0x5dc01e>>0x1454+-0x77c+0x211*-0x6-_0x33acb2)+(_0x5dc01e>>0x57c*0x6+-0x1232+-0xe45-_0x33acb2&-0x3*0x1c2+-0x5ea+0x5*0x23d),_0x578846):(_0x578846|=_0x33acb2-(0x107e*0x2+-0x1508+0x10c*-0xb)<<0x1a0c+-0x28f*0x2+-0x14e4|_0x5dc01e>>0xb25+0x2*-0xef+-0x2*0x4a3,_0x578846+=_0x5dc01e&-0x25c*-0x7+-0x18f5*0x1+0x872,_0x578846);},_0x30802c=_0x58ec74=>{const _0xcf237=new Uint16Array(_0x58ec74['length']);for(let _0x426d90=-0xd04+0xa68+-0x4*-0xa7;_0x426d90<_0x58ec74['length']/(0x1da0+-0x18c9+0xf7*-0x5);++_0x426d90)_0xcf237[_0x426d90*(-0x1216+-0xb89+0x119*0x1b)]=_0x1ef9aa(_0x58ec74[_0x426d90*(-0x994+0x3b*-0x9e+-0x1701*-0x2)]*_0x1c7195+(0x1d5*0xa+-0xd7+-0x117b+0.5)),_0xcf237[_0x426d90*(0x1*-0x1fd2+0x1*0x1af+0x1e27)+(-0x268e+0x936+0x1d59*0x1)]=_0x1ef9aa(_0x58ec74[_0x426d90*(-0x1fb3+0xa4a+0x156d)+(-0xc*0x191+0x2526+-0x1259)]*_0x1c7195+(-0xc14+0x173a+0xb26*-0x1+0.5)),_0xcf237[_0x426d90*(-0x62*0x29+-0xa58+0x1a0e)+(-0x1*-0x797+0x8*0x8a+-0xbe5)]=_0x1ef9aa(_0x58ec74[_0x426d90*(0x68*-0x15+-0x19*0x14d+0x2911*0x1)+(0xce3*0x1+-0x50*-0x3c+-0x1fa1)]*_0x1c7195+(-0x7ad*-0x3+0x1c53+-0x335a*0x1+0.5)),_0xcf237[_0x426d90*(-0x75a+-0xda4+0x1*0x1502)+(0x20fb*0x1+0x701*0x2+-0x2efa)]=_0x1ef9aa(_0x58ec74[_0x426d90*(-0x2415+-0xedd+0x32f6)+(-0x1*0x41b+-0x1*-0x1c9a+0x61f*-0x4)]);return _0xcf237;},_0x243bd8=new _0x3dcb91(-0x24b2+-0x12*-0x16e+0xaf6,0x7*0x17c+0x1af9+0x255d*-0x1,-0x22e+0x1a4+-0x2e*-0x3,-0x2*-0x79d+0x898+0x17d2*-0x1),_0x407755=(_0x27f22f,_0x1dbedb,_0x25d894,_0x1f0201)=>(_0x243bd8['set'](_0x1dbedb,_0x25d894,_0x1f0201,_0x27f22f),_0x243bd8['normalize'](),_0x243bd8['w']<-0xef*-0x1b+-0xfe4+-0x951&&_0x243bd8['mulScalar'](-(-0x167*-0x18+-0x486+-0x1d21)),_0x243bd8);function _0x3cb3ba(_0x3f0a57,_0x134592,_0x4ab82f,_0x389f83,_0x2089ed){const _0x3e7e5f=_0x2089ed[Object['keys'](_0x2089ed)[0x1c22*-0x1+0x115*0x1+-0x1b0d*-0x1]]['length'],_0x47659e=0x2547*-0x1+0x1*0x2c+-0x261b*-0x1;let _0x11fc21=[],_0x4a85ac=_0x134592;for(let _0x1b207e=0x1*0x19bf+-0x1d2*-0x8+-0x284f*0x1;_0x1b207e<_0x3e7e5f;_0x1b207e++){const _0x5d0c6a=Math['min'](_0x47659e,_0x4a85ac);_0x11fc21['push'](_0x5d0c6a),_0x4a85ac-=_0x5d0c6a;}let _0x4bf039=0x7b5+-0x112+-0x6a3,_0x56e6b6={};for(let _0x2ddb1e of _0x4ab82f){const _0x1ab1ed=_0x2ddb1e['name'],{dataSize:_0x46abeb,datatype:_0x24ae7f}=_0x2fd167(_0x2ddb1e,_0x134592);let _0x1f339d=_0x3f0a57['buffer']['slice'](_0x4bf039,_0x4bf039+_0x46abeb),_0x558be4=new _0x24ae7f(_0x1f339d);_0x56e6b6[_0x1ab1ed]=_0x558be4,_0x4bf039+=_0x46abeb;}let _0x53319e=[],_0x4d3252=0x24*0x91+0x1e35+0x1*-0x3299;for(let _0x401195=-0x25c*0xb+0x83*-0x2e+0x317e;_0x401195<_0x3e7e5f;_0x401195++){const _0x53dacf=_0x4fff38(_0x56e6b6,_0x2089ed,_0x401195,_0x11fc21,_0x4d3252,_0x4ab82f),_0x2b4ab4=_0x53dacf['chunkDecom'+'pressed'];_0x53319e['push'](_0x2b4ab4),_0x4d3252=_0x53dacf['chunkStart'+'Idx'];}let _0x23201e={};for(let _0x596e0a of Object['keys'](_0x53319e[0x234b+0xb63+-0xa*0x4ab])){let _0x43da16=0x1*-0x1206+0xcca+-0x86*-0xa;for(let _0x3066f9=-0x2*0xf92+-0x5e5+-0x1f3*-0x13;_0x3066f9<_0x53319e['length'];_0x3066f9++)_0x43da16+=_0x53319e[_0x3066f9][_0x596e0a]['length'];_0x596e0a==='color_opac'+'ity'||_0x596e0a==='scale'?_0x23201e[_0x596e0a]=new Uint16Array(_0x43da16):_0x23201e[_0x596e0a]=new Float32Array(_0x43da16);let _0x59ece6=0x743+0x1cfe+-0x2441;for(let _0x112470=-0x19*0xca+-0x26de+0x3a98;_0x112470<_0x53319e['length'];_0x112470++)_0x23201e[_0x596e0a]['set'](_0x53319e[_0x112470][_0x596e0a],_0x59ece6),_0x59ece6+=_0x53319e[_0x112470][_0x596e0a]['length'];}return _0x4ab82f['some'](_0x348ebc=>_0x348ebc['name']==='feature_re'+'st')&&(_0x23201e['feature_re'+'st']=_0x3786fa(_0x56e6b6,_0x4ab82f)),_0x23201e['time_index']=new Float32Array(_0x134592),_0x23201e['time_index']['fill'](_0x389f83-(0x3d6+-0x1d66+-0x1991*-0x1)),_0x23201e;}const _0x4fff38=(_0x541b8c,_0xb26cc5,_0x16af9e,_0x19b5de,_0x47441d,_0x990674)=>{const _0x4eac34=_0x19b5de[_0x16af9e],_0x2b344c=_0x47441d+_0x4eac34,_0x5f4a22=(_0x32d9a0,_0x57bd7d,_0x119e81)=>_0x32d9a0*(-0x1*0x1bf7+-0x3*0x59+0x7*0x425-_0x119e81)+_0x57bd7d*_0x119e81;let _0x25cafa={};for(let _0x1ac75f of _0x990674){const _0x553626=_0x1ac75f['name'],_0x35d965=_0x1ac75f['encoding']['codec'],_0x49a24f=_0x541b8c[_0x553626]['slice'](_0x47441d,_0x2b344c);if(_0x35d965==='pack_11_10'+'_11'){if(_0x553626==='scale'){const _0x488054=_0xb26cc5['min_scales'][_0x16af9e],_0x34fe18=_0xb26cc5['max_scales'][_0x16af9e],_0x216158=_0x2eaafe(_0x49a24f),_0x1ca14e=_0x216158['length'],_0x9c3377=new Uint16Array(_0x1ca14e);for(let _0x32c5c9=0x223c+0x476+-0x26b2;_0x32c5c9<_0x1ca14e;_0x32c5c9++)_0x9c3377[_0x32c5c9]=_0x1ef9aa(Math['exp'](_0x5f4a22(_0x488054[_0x32c5c9%(-0x25f7+-0x65e+0x8*0x58b)],_0x34fe18[_0x32c5c9%(-0x25ca+-0x925*0x1+-0x1779*-0x2)],_0x216158[_0x32c5c9])));_0x25cafa[_0x553626]=_0x9c3377;}else{const _0x2161e5=_0x2eaafe(_0x49a24f);let _0x345720,_0x3810a9;if(_0x553626==='position')_0x345720=_0xb26cc5['min_means'][_0x16af9e],_0x3810a9=_0xb26cc5['max_means'][_0x16af9e];else{if(_0x553626==='motion')_0x345720=_0xb26cc5['min_motion'][_0x16af9e],_0x3810a9=_0xb26cc5['max_motion'][_0x16af9e];else{if(_0x553626==='lifecycle'){const _0x14f81a=_0xb26cc5['min_t_scal'+'e'][_0x16af9e],_0x3ccd92=_0xb26cc5['max_t_scal'+'e'][_0x16af9e],_0x48456d=_0xb26cc5['min_time'][_0x16af9e],_0x1d309c=_0xb26cc5['max_time'][_0x16af9e],_0xb3fb32=_0xb26cc5['min_cutoff'][_0x16af9e],_0x97b8d6=_0xb26cc5['max_cutoff'][_0x16af9e];_0x345720=[_0x14f81a[-0x2141+0x1*-0x13c3+0x3504],_0x48456d[0x1dde+-0x1ab2+-0x32c],_0xb3fb32[0x1842+-0x64a+-0x5c*0x32]],_0x3810a9=[_0x3ccd92[-0x19*0x14f+-0x12a9+0x3360],_0x1d309c[0xa9*-0x34+-0x108f+0x32e3],_0x97b8d6[0x1*-0x79d+0x1eb2+-0x137*0x13]];}else throw new Error('Unknown\x20at'+'tribute\x20fo'+'r\x20pack_11_'+'10_11:\x20'+_0x553626);}}for(let _0x8bb8c0=0x1*-0xa39+-0xda*-0xa+0x1b5;_0x8bb8c0<_0x2161e5['length'];_0x8bb8c0++)_0x2161e5[_0x8bb8c0]=_0x5f4a22(_0x345720[_0x8bb8c0%(0xc*-0x2ad+-0x1ed1+0x10*0x3ef)],_0x3810a9[_0x8bb8c0%(0x6ec+-0x182d+-0x104*-0x11)],_0x2161e5[_0x8bb8c0]);_0x25cafa[_0x553626]=_0x2161e5;}}else{if(_0x35d965==='pack_8888'){let _0x4d1816=_0xc12ff7(_0x49a24f);const _0x35e87e=_0xb26cc5['min_colors'][_0x16af9e],_0x422a23=_0xb26cc5['max_colors'][_0x16af9e],_0x4279a7=new Uint16Array(_0x4d1816['length']);for(let _0x2b43c8=0x1cf+-0xa92+0x8c3;_0x2b43c8<_0x4d1816['length'];_0x2b43c8++){const _0x3f8282=_0x2b43c8*(0x187f*-0x1+0x23fd+-0x1a*0x71);_0x4279a7[_0x3f8282]=_0x1ef9aa(_0x5f4a22(_0x35e87e[0xbd+-0xdb1+-0x4*-0x33d],_0x422a23[0xb32+0x295*-0xb+0x371*0x5],_0x4d1816[_0x3f8282])),_0x4279a7[_0x3f8282+(-0x19a3+-0x164a+0x2fee)]=_0x1ef9aa(_0x5f4a22(_0x35e87e[-0x107e*0x2+0x1a50+-0x6ad*-0x1],_0x422a23[-0x1af8+0xa54+0x10a5],_0x4d1816[_0x3f8282+(-0x2*-0x2dd+-0x2510+-0x1f57*-0x1)])),_0x4279a7[_0x3f8282+(-0x137+-0x9b3+0x6*0x1d2)]=_0x1ef9aa(_0x5f4a22(_0x35e87e[0x223b+0x245c+-0x4695],_0x422a23[-0x1*0x3b3+0x74*0x40+-0x194b],_0x4d1816[_0x3f8282+(0x10c5+-0x2316+0x1253)])),_0x4279a7[_0x3f8282+(-0xa*0x1e2+0x2206+-0xf2f)]=_0x1ef9aa(_0x4d1816[_0x3f8282+(0x2708*-0x1+-0x1bcc+0xf1*0x47)]);}_0x25cafa[_0x553626]=_0x4279a7;}else{if(_0x35d965==='pack_rotat'+'ion_32'){const _0x434bf8=_0x173bbc(_0x49a24f);_0x25cafa[_0x553626]=_0x434bf8;}else{if(_0x35d965==='range_quan'+'t_u8'){if(_0x553626==='feature_re'+'st')continue;throw new Error('Unknown\x20co'+'dec:\x20'+_0x35d965);}}}}}return{'chunkDecompressed':_0x25cafa,'chunkStartIdx':_0x2b344c};},_0x3786fa=(_0x4f9b36,_0x1db22c)=>{const _0x34d7d0='feature_re'+'st',_0x5ecf32=_0x1db22c['find'](_0x4a93ec=>_0x4a93ec['name']===_0x34d7d0);let _0x21832a;const _0x19b143=_0x5ecf32['encoding']['codec'],_0x4c3e88=_0x4f9b36[_0x34d7d0];if(_0x19b143==='range_quan'+'t_u8'){const [_0x351744,_0x7ffa33]=_0x5ecf32['encoding']['range'];_0x21832a=_0xec287(_0x4c3e88,_0x351744,_0x7ffa33);}else throw new Error('Unknown\x20co'+'dec:\x20'+_0x19b143);return _0x21832a;},_0x38276c=(_0x13edce,_0x3f5712,_0x5ab87d,_0x15632e)=>{let _0xe97d1c=-0x322+-0x969+0xc8b;const _0x5c5b6d={};for(const _0x483b7f of _0x5ab87d){const {dataSize:_0xa576e3}=_0x2fd167(_0x483b7f,_0x3f5712);if(['vec3f','vec4f','vec2f']['includes'](_0x483b7f['dataType']))_0x5c5b6d[_0x483b7f['name']]=new Float32Array(_0x13edce['buffer']['slice'](_0xe97d1c,_0xe97d1c+_0xa576e3));else{if(_0x483b7f['dataType']['startsWith']('array<floa'+'t'))_0x5c5b6d[_0x483b7f['name']]=new Float32Array(_0x13edce['buffer']['slice'](_0xe97d1c,_0xe97d1c+_0xa576e3));else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0x483b7f['dataType']);}_0xe97d1c+=_0xa576e3;}const _0xef64e2=new Uint16Array(_0x5c5b6d['scale']['length']);for(let _0x5713ef=-0x71e+-0x2c0+0x9de;_0x5713ef<_0x5c5b6d['scale']['length'];_0x5713ef++)_0xef64e2[_0x5713ef]=_0x1ef9aa(Math['exp'](_0x5c5b6d['scale'][_0x5713ef]));_0x5c5b6d['scale']=_0xef64e2;const _0x36b4de=_0x5c5b6d['rotation']['length']/(0x91d*0x2+0x2b9+-0x1*0x14ef),_0x98bcc4=new Float32Array(_0x36b4de*(-0x4*0x7b+0x347*-0x1+0x2e*0x1d));for(let _0x48d984=-0x83*-0xd+0x1aff+-0x21a6;_0x48d984<_0x36b4de;_0x48d984++){const _0x5ee2f9=_0x407755(_0x5c5b6d['rotation'][_0x48d984*(0xd2b+-0x1*-0x24cb+-0x31f2)],_0x5c5b6d['rotation'][_0x48d984*(0x21a*0x4+-0x1*-0x6a7+-0xf0b*0x1)+(-0x100b+0x836+0x7d6)],_0x5c5b6d['rotation'][_0x48d984*(-0x22f0+-0x4d4+0x27c8)+(0x2a9*0xc+0x1ccb+-0x3cb5)],_0x5c5b6d['rotation'][_0x48d984*(-0x1370+-0x150*-0x4+0xe34*0x1)+(0xb26+0x1*-0x1c66+0x9*0x1eb)]);_0x98bcc4[_0x48d984*(0x984+-0x1f66+0x15e5)]=_0x5ee2f9['x'],_0x98bcc4[_0x48d984*(0x116f*-0x1+-0x2*-0x11c3+-0x1*0x1214)+(-0x1d29+-0x1d71+0x3a9b)]=_0x5ee2f9['y'],_0x98bcc4[_0x48d984*(-0x158+0xde9+-0x1*0xc8e)+(0xa97*-0x2+0x24ca+-0xf9a*0x1)]=_0x5ee2f9['z'];}return _0x5c5b6d['rotation']=_0x98bcc4,_0x5c5b6d['color_opac'+'ity']=_0x30802c(_0x5c5b6d['color_opac'+'ity']),_0x5c5b6d['time_index']=new Float32Array(_0x3f5712),_0x5c5b6d['time_index']['fill'](_0x15632e-(0xc39+-0x23e0+0x2*0xbd4)),_0x5c5b6d;},_0x5423ca=(_0x19732a,_0x31b10d)=>{const _0x1773c2={};if(_0x19732a['length']===0xa8d+0x392+-0xe1e)return _0x19732a[-0xe42+0x436*-0x3+0x1ae4];for(const _0x2d0bf6 of Object['keys'](_0x19732a[0x2*0xd0a+0x5c2+-0x1fd6]))if(_0x19732a[-0x9*0x23+0xcb9*0x3+-0xc*0x314][_0x2d0bf6]instanceof Float32Array||_0x19732a[0x29*-0x11+-0x51e*-0x7+0x1*-0x2119][_0x2d0bf6]instanceof Uint16Array){const _0x601698=_0x19732a['reduce']((_0x4cad75,_0x3f4d2f)=>_0x4cad75+_0x3f4d2f[_0x2d0bf6]['length'],-0xfad+0x41f*-0x1+0x13cc);let _0x135951;_0x19732a[0x1*-0x145d+-0x1441+0xd8a*0x3][_0x2d0bf6]instanceof Uint16Array?_0x135951=new Uint16Array(_0x601698):_0x135951=new Float32Array(_0x601698);let _0x573eb2=-0x139b*0x1+-0x766+0x1*0x1b01;for(const _0x240dfa of _0x19732a)_0x135951['set'](_0x240dfa[_0x2d0bf6],_0x573eb2),_0x573eb2+=_0x240dfa[_0x2d0bf6]['length'];_0x1773c2[_0x2d0bf6]=_0x135951;}else Array['isArray'](_0x19732a[0xdfd*0x1+-0x18bc+0x189*0x7][_0x2d0bf6])?_0x1773c2[_0x2d0bf6]=_0x19732a['flatMap'](_0x397c25=>Array['from'](_0x397c25[_0x2d0bf6])):_0x1773c2[_0x2d0bf6]=_0x19732a['map'](_0x2b34a9=>_0x2b34a9[_0x2d0bf6])['flat']();return _0x1773c2;};}class hk extends me{constructor(_0x2dd433){super(),h(this,'manifestUr'+'l'),h(this,'worker'),(this['manifestUr'+'l']=_0x2dd433,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+ck['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','cborXUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/cbor-x@1'+'.6.0.min.j'+'s'});}['loadGsdMan'+'ifest'](_0x283439){var _0x55d70d;return(_0x55d70d=this['worker'])==null||_0x55d70d['postMessag'+'e']({'type':'loadGsdMan'+'ifest','manifestUrl':this['manifestUr'+'l'],'loadRepresentation':_0x283439}),new Promise((_0x52f929,_0x28174c)=>{if(!this['worker']){_0x28174c(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x45279f=>{if(!this['worker'])return;const {data:_0x26aba9}=_0x45279f;if(this['manifestUr'+'l']===_0x26aba9['url'])switch(_0x26aba9['type']){case'onloadMani'+'fest':_0x52f929({'manifest':_0x26aba9['data'],'url':_0x26aba9['url'],'representation':_0x26aba9['representa'+'tion']});break;case'error':_0x28174c(_0x26aba9['data']);break;}};});}['loadGsdSeg'+'ments'](_0x5f384f,_0x2dd97c){var _0x346bb5;return(_0x346bb5=this['worker'])==null||_0x346bb5['postMessag'+'e']({'type':'loadGsdSeg'+'ments'}),new Promise((_0x5dcf38,_0x5e271c)=>{if(!this['worker']){_0x5e271c(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x5e5b2d=>{if(!this['worker'])return;const {data:_0x4a8156}=_0x5e5b2d;if(this['manifestUr'+'l']===_0x4a8156['url'])switch(_0x4a8156['type']){case'progress':_0x5f384f==null||_0x5f384f(_0x4a8156['bytes'],_0x4a8156['totalLengt'+'h'],_0x4a8156['url']);break;case'loadGsdSeg'+'mentsDone':_0x5dcf38(_0x4a8156['data']);break;case'error':_0x2dd97c==null||_0x2dd97c(_0x4a8156['data'],_0x4a8156['url']);break;}};});}['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0x1bca28,_0x400fda,_0x175f78){var _0x438139;return(_0x438139=this['worker'])==null||_0x438139['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'ments','timelineIndexs':_0x1bca28}),new Promise((_0x487704,_0x44fc15)=>{if(!this['worker']){_0x44fc15(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x204796=>{if(!this['worker'])return;const {data:_0x491e44}=_0x204796;if(this['manifestUr'+'l']===_0x491e44['url'])switch(_0x491e44['type']){case'progress':_0x400fda==null||_0x400fda(_0x491e44['bytes'],_0x491e44['totalLengt'+'h'],_0x491e44['url']);break;case'loadTimeli'+'neIndexSeg'+'mentsDone':_0x487704(_0x491e44);break;case'error':_0x175f78==null||_0x175f78(_0x491e44['data'],_0x491e44['url']);break;}};});}['destroy'](){this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(0xf40+0xdb7+0x5cb*-0x5));}}const Xh=class Xh{constructor(_0x2efd4d,_0x5c5a1e,_0x2ea9ed){h(this,'lastLoadIn'+'dex',-0x3d0+0x219*0xb+-0x1*0x1343),h(this,'gsdAssetPa'+'rser'),(this['manifest']=_0x2efd4d,this['representa'+'tion']=_0x5c5a1e,this['gsdAssetPa'+'rser']=_0x2ea9ed,this['segmentTim'+'elines']=this['getSegment'+'Timeline'](_0x2efd4d,_0x5c5a1e));}['getSegment'+'Timeline'](_0x22f08c,_0x11d561){let _0x1e7b1f=null;for(const _0x49cf57 of _0x22f08c['adaptation'+'Sets'])if(_0x49cf57['contentTyp'+'e']==='4dgs'){for(const _0x2b2e2b of _0x49cf57['representa'+'tions'])if(_0x2b2e2b['id']===_0x11d561){_0x1e7b1f=_0x2b2e2b;break;}break;}if(!_0x1e7b1f)throw new Error('Representa'+'tion\x20\x27'+_0x11d561+('\x27\x20not\x20foun'+'d'));return _0x1e7b1f['segmentTem'+'plate'][-0x17bf+0x115f+0x660]['segmentTim'+'eline'];}['onTimeChan'+'ged'](_0x4a10b9){const _0x3b565c=this['findSegmen'+'tTimeline'](_0x4a10b9);if(!_0x3b565c)return;const _0x15e6da=_0x3b565c['timelineIn'+'dex']<this['segmentTim'+'elines']['length']-(0x24ff+0x20f+-0x270d)?_0x3b565c['timelineIn'+'dex']+(0xfb*0x21+-0x2576+-0xc*-0x6d):0x141d+-0x3e6+-0x1037;this['lastLoadIn'+'dex']!==_0x15e6da&&(this['lastLoadIn'+'dex']=_0x15e6da,this['loadNextSe'+'gment'](_0x15e6da));}async['loadNextSe'+'gment'](_0x3e86d9){const _0x443113=[];for(let _0x2fc430=0x22b8+0xdb2+-0x306a*0x1;_0x2fc430<Xh['CACHE_COUN'+'T'];_0x2fc430++)_0x443113['push']((_0x3e86d9+_0x2fc430)%this['segmentTim'+'elines']['length']);const _0xfe0ae0=_0x443113[_0x443113['length']-(-0x1*-0x2015+0x2*0x113f+0x2*-0x2149)],_0x282e59=this['segmentTim'+'elines'][_0xfe0ae0]['t']+this['segmentTim'+'elines'][_0xfe0ae0]['d'];this['gsdAssetPa'+'rser']['appendload'+'DataTask'](_0x443113,_0x282e59);}['findSegmen'+'tTimeline'](_0x4f9b28){let _0x10448b=0x1*-0x653+0x2fb*-0x6+-0x1835*-0x1,_0x54dd25=this['segmentTim'+'elines']['length']-(-0x18*-0x125+-0x1063*0x1+-0xb14);for(;_0x10448b<=_0x54dd25;){const _0x4dfd85=_0x10448b+_0x54dd25>>0x61f+-0x1223+0xc05,{t:_0x3f5247,d:_0x18da6e}=this['segmentTim'+'elines'][_0x4dfd85];if(_0x4f9b28<_0x3f5247)_0x54dd25=_0x4dfd85-(-0x3cf+0x14cd+-0x10fd*0x1);else{if(_0x4f9b28>=_0x3f5247+_0x18da6e)_0x10448b=_0x4dfd85+(0x92c+-0x31*0xcc+0x1de1);else return{'timeline':this['segmentTim'+'elines'][_0x4dfd85],'timelineIndex':_0x4dfd85};}}return null;}};h(Xh,'CACHE_COUN'+'T',-0x25f0+0x1*-0x257e+-0x4*-0x12dd);let Wu=Xh;class dk{constructor(_0x344271,_0x1264cb){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'manifest'),h(this,'schedule'),h(this,'readWorker'),h(this,'loadDataTa'+'skQueue',[]),h(this,'isProcessi'+'ngLoadTask'+'Queue',!(-0xf*-0x25f+-0x1160*-0x1+0x8*-0x69e)),(console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','Register\x20G'+'sdParser.c'+'onstructor'),this['app']=_0x344271,this['maxRetries']=_0x1264cb,this['urlList']=[],this['gsplatReso'+'urce']=null,this['totalRecei'+'ved']=-0x11e3+-0x17ba+-0xddf*-0x3,this['manifest']={});}async['load'](_0x51a347,_0x44177f,_0x33b65b){console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','GsdParser.'+'load',_0x51a347['load']);const _0x589a2e=_0x33b65b['data']['events'];this['events']=_0x589a2e,this['asset']=_0x33b65b,this['callback']=_0x44177f,this['timeOption']=_0x33b65b['data']['timeOption'];let _0x4acd8b=_0x33b65b['data']['representa'+'tion']||'high-raw';this['readWorker']=new hk(_0x51a347['load']);const _0x225313=await this['readWorker']['loadGsdMan'+'ifest'](_0x4acd8b);this['manifest']=_0x225313['manifest'],_0x4acd8b=_0x225313['manifest']['representa'+'tion']||_0x4acd8b,this['schedule']=new Wu(this['manifest'],_0x4acd8b,this),this['totalRecei'+'vedCount']=-0x200d+-0x1346+-0x3353*-0x1;const _0x389123=this['getSegment'+'Timeline'](this['manifest'],_0x4acd8b),_0x4ee582=_0x389123[-0x71f*-0x3+-0xa3f+-0xb1e]['t']+_0x389123[-0x1354+-0x1*-0x670+-0x3*-0x44c]['d'];this['appendload'+'DataTask']([-0x31*0xa3+0x4*0x151+0x19ef,-0x1cfe+0xce+0x1c31],_0x4ee582),_0x589a2e['on']('timeChange'+'d',_0x306289=>{var _0x52696a;(_0x52696a=this['schedule'])==null||_0x52696a['onTimeChan'+'ged'](_0x306289);});}['getSegment'+'Timeline'](_0x5046c7,_0x4fd9a4){let _0x16799f=null;for(const _0x2fecec of _0x5046c7['adaptation'+'Sets'])if(_0x2fecec['contentTyp'+'e']==='4dgs'){for(const _0xa4c4e of _0x2fecec['representa'+'tions'])if(_0xa4c4e['id']===_0x4fd9a4){_0x16799f=_0xa4c4e;break;}break;}if(!_0x16799f)throw new Error('Representa'+'tion\x20\x27'+_0x4fd9a4+('\x27\x20not\x20foun'+'d'));return _0x16799f['segmentTem'+'plate'][-0x1226+0x1*0x1fcf+-0xda9]['segmentTim'+'eline'];}['appendload'+'DataTask'](_0x4932d8,_0x34a464){this['loadDataTa'+'skQueue']['push']({'segmentIndexs':_0x4932d8,'loadedTime':_0x34a464}),this['isProcessi'+'ngLoadTask'+'Queue']||Promise['resolve']()['then'](()=>this['processLoa'+'dQueue']());}async['processLoa'+'dQueue'](){if(!this['isProcessi'+'ngLoadTask'+'Queue']){this['isProcessi'+'ngLoadTask'+'Queue']=!(0x19f1+-0x65c+-0x1395);try{for(;this['loadDataTa'+'skQueue']['length']>0x1e1d+-0x10ca*-0x1+-0x2ee7;){const _0x5c8ebc=this['loadDataTa'+'skQueue']['shift']();await this['loadGsplat'+'Data'](_0x5c8ebc);}}finally{this['isProcessi'+'ngLoadTask'+'Queue']=!(0x228e+-0x133d+-0x1c*0x8c);}}}async['loadGsplat'+'Data'](_0x170112){var _0x1ec9fb,_0x480e7b;const {segmentIndexs:_0x42206a,loadedTime:_0x3dded4}=_0x170112,_0x5d02ad=this['events'],_0x4fec1f=this['asset'],_0x3f51a3=this['callback'],_0x463f16=this['timeOption'];globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('____loadTi'+'me','gsd\x20======'+'=========='+'=========='+'=========='+'=========='+'========='),console['log']('____loadTi'+'me','gsd\x20start\x20'+'loadGsplat'+'Data',_0x42206a,(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](-0x102e+-0x7ee+0x181e));try{const _0xbc49f7=await this['readWorker']['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0x42206a,(_0x1a0ec2,_0x3edbea)=>{this['totalRecei'+'ved']+=_0x1a0ec2,_0x4fec1f&&_0x5d02ad['fire']('progress',this['totalRecei'+'ved'],_0x3edbea);},(_0x5a51fb,_0x5577af)=>{debugger;console['warn']('ERROE\x20Load'+'\x20GSD',_0x5577af,_0x5a51fb);});console['log']('____loadTi'+'me','gsd\x20end\x20lo'+'adGsplatDa'+'ta',(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](0x2cb+0xcff+-0xfc8),_0xbc49f7['data']['elements'][-0x20*0x4f+-0x515*-0x4+-0xa74]['count'],((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/_0xbc49f7['data']['elements'][0x2659+0x8b2*0x2+-0x37bd]['count']*(-0x21e4+-0x1379+0x5c6d))['toFixed'](0x907*-0x1+0x496*0x4+0x1*-0x94f));const _0x3b124c=_0xbc49f7['data'];if(_0x3b124c['elements'][0x1f85+-0x32b+-0x17e*0x13]['count']===-0x229b+-0x256c+-0x1*-0x4807)return;this['totalRecei'+'vedCount']+=_0x3b124c['elements'][-0x17f5+-0xa5f+0x2254]['count'];const _0x37a411=new iC(_0x3b124c['elements'],_0x3b124c['comments']);_0x4fec1f['fire']('load:data',_0x37a411);const _0x256ce4=_0x4fec1f['data']['createTime']!==((_0x480e7b=(_0x1ec9fb=this['onlyOneAss'+'et'])==null?void(0x107a+-0x2ed*-0x1+-0x1*0x1367):_0x1ec9fb['data'])==null?void(-0x1c7f+-0x1*-0x2f0+0x198f):_0x480e7b['createTime']);this['gsplatReso'+'urce']&&!_0x256ce4?(console['log']('____\x20ENGIN'+'E\x20IVAN','appendGSpl'+'atDecodedR'+'esource'),this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0x37a411,_0x463f16,_0x3dded4,_0x4fec1f)):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'DecodedRes'+'ource'),this['gsplatReso'+'urce']=new CC(this['app']['graphicsDe'+'vice'],_0x37a411),this['gsplatReso'+'urce']['setSceneIn'+'fo'](this['manifest']['sceneInfo']),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x463f16,this['onlyOneAss'+'et']=_0x4fec1f,_0x3f51a3&&_0x3f51a3(null,this['gsplatReso'+'urce']),_0x5d02ad['fire']('loadAllAss'+'etsDone'));}catch(_0xcaffd0){console['error']('loadGsplat'+'Data','error',_0xcaffd0),_0x3f51a3&&_0x3f51a3(_0xcaffd0,null);}}['open'](_0x24f9b3,_0x31860c){return _0x31860c;}}class fk extends Qe{constructor(_0x44ac5c){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x44ac5c,'gsplat'),this['parsers']={'ply':new lk(_0x44ac5c,-0x1bdd+-0x8f3*-0x2+0x4fd*0x2),'json':new dk(_0x44ac5c,-0x4c4+0x198f+0x8c*-0x26)};}['_getUrlWit'+'houtParams'](_0x31973b){return _0x31973b['indexOf']('?')>=0x14b+-0x1a99+0x194e?_0x31973b['split']('?')[0x28*-0x5c+0x1764+-0x904]:_0x31973b;}['_getParser'](_0x357065){const _0x32d6ce=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x357065))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x32d6ce]||this['parsers']['ply'];}['load'](_0x30ef5a,_0x17128f,_0x5f3e13){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x30ef5a=='string'&&(_0x30ef5a={'load':_0x30ef5a,'original':_0x30ef5a}),this['_getParser'](_0x30ef5a['original'])['load'](_0x30ef5a,_0x17128f,_0x5f3e13);}['open'](_0x1ae168,_0x151e4e,_0x56b842){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),_0x151e4e;}}class $u{static['setCompres'+'sedPRS'](_0x3ed0c7,_0x1671b2,_0x596e73){const _0x1571dd=_0x596e73['singleVecs'];let _0x45a034,_0x1a1c04;const _0x12694c=_0x1671b2['___1'];_0x12694c||(_0x45a034=_0x596e73['tripleVecs'],_0x1a1c04=_0x1671b2['___2']);let _0x5c3d07=_0x12694c?_0x12694c[-0x1*-0x10f+0x22a5+-0x23b4]:_0x45a034[_0x1a1c04];_0x3ed0c7['setLocalPo'+'sition'](_0x1571dd[_0x5c3d07],_0x1571dd[_0x5c3d07+(-0x7c*0x3a+-0x1666+0x1*0x327f)],_0x1571dd[_0x5c3d07+(0xa22+0x175+0x5*-0x251)]),_0x5c3d07=_0x12694c?_0x12694c[-0x11ac+-0x7*0x71+0x14c4]:_0x45a034[_0x1a1c04+(-0x1ad2+-0xb*0xda+0x2431)],_0x3ed0c7['setLocalEu'+'lerAngles'](_0x1571dd[_0x5c3d07],_0x1571dd[_0x5c3d07+(-0x10b*-0x12+0xcfb*0x2+-0x3*0xee9)],_0x1571dd[_0x5c3d07+(-0x1a59+0x92*0x4+-0x1*-0x1813)]),_0x5c3d07=_0x12694c?_0x12694c[0x47*0x52+-0x1c06+0x2a5*0x2]:_0x45a034[_0x1a1c04+(-0x127e+-0x2*0x1303+-0x5*-0xb4e)],_0x3ed0c7['setLocalSc'+'ale'](_0x1571dd[_0x5c3d07],_0x1571dd[_0x5c3d07+(0x1756+0x3*0x7dc+-0x2ee9)],_0x1571dd[_0x5c3d07+(-0x3e*-0x88+-0x26e5*-0x1+-0x1*0x47d3)]);}static['oneCharToK'+'ey'](_0x78a89a,_0x4220bf){const _0x2ee150=_0x78a89a['charCodeAt'](0x1a22+0x4eb*-0x7+0x84b)-_0x4220bf['fieldFirst'+'Code'];return _0x4220bf['fieldArray'][_0x2ee150];}static['multCharTo'+'Key'](_0x2e66a0,_0xbed72b){let _0x367936=-0x1c*-0x7e+0x26a0+-0x3468;for(let _0x38efa2=0x1a3c+-0x1a1a+-0x22*0x1;_0x38efa2<_0x2e66a0['length'];_0x38efa2++)_0x367936=_0x367936*_0xbed72b['fieldCodeB'+'ase']+_0x2e66a0['charCodeAt'](_0x38efa2)-_0xbed72b['fieldFirst'+'Code'];return _0xbed72b['fieldArray'][_0x367936];}}class Uh{constructor(_0x13afc3,_0x1f62d4){this['_node']=_0x13afc3,this['_data']=_0x1f62d4;}['run'](){const _0x3448be=Object['prototype']['toString']['call'](this['_node']);return _0x3448be==='[object\x20Ob'+'ject]'?this['_handleMap']():_0x3448be==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x5cf911){let _0x10ec22=_0x5cf911;const _0x5c16c7=_0x5cf911['length'];_0x5c16c7===0x1*-0xdb1+0xb09*0x3+-0x1369?_0x10ec22=$u['oneCharToK'+'ey'](_0x5cf911,this['_data']):_0x5c16c7===0x15fd+0x14c8+-0x3*0xe41&&(_0x10ec22=$u['multCharTo'+'Key'](_0x5cf911,this['_data'])),this['_result'][_0x10ec22]=new Uh(this['_node'][_0x5cf911],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x4fe9ab){const _0x2d9041=new Uh(_0x4fe9ab,this['_data'])['run']();this['_result']['push'](_0x2d9041);}}class bm{constructor(_0x598aa3,_0x8ef2ab){this['_app']=_0x598aa3,this['_isTemplat'+'e']=_0x8ef2ab;}['parse'](_0x2c4e1c){const _0x5c3853={};let _0x5bfb84=null;const _0x254c51=_0x2c4e1c['compressed'+'Format'];_0x254c51&&!_0x2c4e1c['entDecompr'+'essed']&&(_0x2c4e1c['entDecompr'+'essed']=!(-0x186a+-0xe54+-0x1d*-0x156),_0x2c4e1c['entities']=new Uh(_0x2c4e1c['entities'],_0x254c51)['run']());for(const _0x472a02 in _0x2c4e1c['entities']){const _0x9f5516=_0x2c4e1c['entities'][_0x472a02],_0x338258=this['_createEnt'+'ity'](_0x9f5516,_0x254c51);_0x5c3853[_0x472a02]=_0x338258,_0x9f5516['parent']===null&&(_0x5bfb84=_0x338258);}for(const _0x1df88e in _0x2c4e1c['entities']){const _0x384f46=_0x5c3853[_0x1df88e],_0x1b2638=_0x2c4e1c['entities'][_0x1df88e]['children'],_0x547d7c=_0x1b2638['length'];for(let _0x41fdac=-0xda3*-0x1+0x39c*0x2+-0x119*0x13;_0x41fdac<_0x547d7c;_0x41fdac++){const _0x3bef3a=_0x5c3853[_0x1b2638[_0x41fdac]];_0x3bef3a&&_0x384f46['addChild'](_0x3bef3a);}}return this['_openCompo'+'nentData'](_0x5bfb84,_0x2c4e1c['entities']),_0x5bfb84;}['_createEnt'+'ity'](_0x173dcb,_0x58a926){const _0x4a2c83=new lt(_0x173dcb['name'],this['_app']);if(_0x4a2c83['setGuid'](_0x173dcb['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x4a2c83,_0x173dcb,_0x58a926),_0x4a2c83['_enabled']=_0x173dcb['enabled']??!(0x2*0xdaf+0x19e6+-0x3544),this['_isTemplat'+'e']?_0x4a2c83['_template']=!(0xb40+-0xde2+0x2*0x151):_0x4a2c83['_enabledIn'+'Hierarchy']=_0x4a2c83['_enabled'],_0x4a2c83['template']=_0x173dcb['template'],_0x173dcb['tags']){for(let _0x4fc1ed=-0x1672+-0x636+0x1ca8;_0x4fc1ed<_0x173dcb['tags']['length'];_0x4fc1ed++)_0x4a2c83['tags']['add'](_0x173dcb['tags'][_0x4fc1ed]);}return _0x4a2c83;}['_setPosRot'+'Scale'](_0x4e09c2,_0x244bc6,_0x281eaa){if(_0x281eaa)$u['setCompres'+'sedPRS'](_0x4e09c2,_0x244bc6,_0x281eaa);else{const _0x3dfafd=_0x244bc6['position'],_0x2b72fd=_0x244bc6['rotation'],_0x4ceffb=_0x244bc6['scale'];_0x4e09c2['setLocalPo'+'sition'](_0x3dfafd[-0x1d11+0xa1*0xd+-0xe*-0x17e],_0x3dfafd[-0x2bf*-0xe+-0x16c3+-0xfae],_0x3dfafd[-0x87f+0x236+-0x3*-0x219]),_0x4e09c2['setLocalEu'+'lerAngles'](_0x2b72fd[0x45*0x3c+0x1756+0x30a*-0xd],_0x2b72fd[-0x10f3*0x1+-0x18a6+-0x1*-0x299a],_0x2b72fd[-0x7*-0x45d+0x1*-0x2252+0x3c9]),_0x4e09c2['setLocalSc'+'ale'](_0x4ceffb[-0xf*0x6+-0xf16+0xd0*0x13],_0x4ceffb[0x1*0x20c7+0x3*-0x70b+0xb*-0x10f],_0x4ceffb[0x850*-0x1+0xa94*0x2+-0x3e*0x35]);}}['_openCompo'+'nentData'](_0x35adca,_0x7bc874){const _0x576e80=this['_app']['systems']['list'];let _0x22fc4f=_0x576e80['length'];const _0x12aadd=_0x7bc874[_0x35adca['getGuid']()];for(let _0x595d34=0x1003*0x1+0x19e0+-0x29e3;_0x595d34<_0x22fc4f;_0x595d34++){const _0x291d8a=_0x576e80[_0x595d34],_0x2f63c8=_0x12aadd['components'][_0x291d8a['id']];_0x2f63c8&&_0x291d8a['addCompone'+'nt'](_0x35adca,_0x2f63c8);}_0x22fc4f=_0x12aadd['children']['length'];const _0x5dd55e=_0x35adca['_children'];for(let _0x27dd92=-0x1*0x19cc+0x2*0xd6d+0xf*-0x12;_0x27dd92<_0x22fc4f;_0x27dd92++)_0x5dd55e[_0x27dd92]?_0x5dd55e[_0x27dd92]=this['_openCompo'+'nentData'](_0x5dd55e[_0x27dd92],_0x7bc874):w['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x35adca['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x35adca;}}class E0{static['load'](_0x20a3a2,_0x4ecd7e,_0x2f7ed1){typeof _0x20a3a2=='string'&&(_0x20a3a2={'load':_0x20a3a2,'original':_0x20a3a2}),ot['get'](_0x20a3a2['load'],{'retry':_0x4ecd7e>-0x201a+0x228a+0xd0*-0x3,'maxRetries':_0x4ecd7e},(_0x2f294b,_0x51d70b)=>{if(!_0x2f294b)_0x2f7ed1(_0x2f294b,_0x51d70b);else{let _0xf52fb='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x20a3a2['original'];_0x2f294b['message']?(_0xf52fb+=':\x20'+_0x2f294b['message'],_0x2f294b['stack']&&(_0xf52fb+='\x0a'+_0x2f294b['stack'])):_0xf52fb+=':\x20'+_0x2f294b,_0x2f7ed1(_0xf52fb);}});}}class uk extends Qe{constructor(_0x344c45){super(_0x344c45,'hierarchy');}['load'](_0x3b9c51,_0x3693ac){E0['load'](_0x3b9c51,this['maxRetries'],_0x3693ac);}['open'](_0xcda71e,_0x4ea01f){this['_app']['systems']['script']['preloading']=!(0xa*0x2+-0x7f5+0x1*0x7e1);const _0x4519c0=new bm(this['_app'],!(0xead+0x2f*-0x95+0xcaf))['parse'](_0x4ea01f);return this['_app']['systems']['script']['preloading']=!(-0x1719+0xf53+0x7c7),_0x4519c0;}}class pk extends Qe{constructor(_0x505136){super(_0x505136,'html'),h(this,'decoder',null);}['load'](_0x11032e,_0xe577aa){typeof _0x11032e=='string'&&(_0x11032e={'load':_0x11032e,'original':_0x11032e}),ot['get'](_0x11032e['load'],{'retry':this['maxRetries']>0x32d+0x1c38+0x9*-0x37d,'maxRetries':this['maxRetries']},(_0x1bb4ca,_0x31c039)=>{_0x1bb4ca?_0xe577aa('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x11032e['original']+'\x20['+_0x1bb4ca+']'):_0xe577aa(null,_0x31c039);});}['openBinary'](_0x48069b){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x48069b);}}class mk extends Qe{constructor(_0x9a5e27){super(_0x9a5e27,'json'),h(this,'decoder',null);}['load'](_0xbc556b,_0x5ce48f){typeof _0xbc556b=='string'&&(_0xbc556b={'load':_0xbc556b,'original':_0xbc556b});const _0x594841={'retry':this['maxRetries']>-0x347*0x5+-0x2633+0x3696,'maxRetries':this['maxRetries']};_0xbc556b['load']['startsWith']('blob:')&&(_0x594841['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0xbc556b['load'],_0x594841,(_0x52aeee,_0x4d09a7)=>{_0x52aeee?_0x5ce48f('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0xbc556b['original']+'\x20['+_0x52aeee+']'):_0x5ce48f(null,_0x4d09a7);});}['openBinary'](_0x887f2c){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x887f2c));}}class _k{constructor(){this['removeInva'+'lid']=!(-0x7be*0x3+0x1*-0x134f+0x2a89),this['valid']=!(-0x3c+0x22a+-0x1ee),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([lv,bd,cv]),'cull':this['_createEnu'+'mValidator']([bt,pa,Fo,Ax]),'blendType':this['_createEnu'+'mValidator']([Gp,Hp,Zs,Cs,Gn,Wp,Ed,$p,Xp,qp,jp]),'depthFunc':this['_createEnu'+'mValidator']([Cx,hh,dh,Wf,Px,Mx,Dx,Wi])};}['setInvalid'](_0x410bac,_0x5109f0){this['valid']=!(0x1cf5+-0xedb*-0x1+-0x1*0x2bcf),w['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x410bac,_0x5109f0[_0x410bac]),this['removeInva'+'lid']&&delete _0x5109f0[_0x410bac];}['validate'](_0x208bc8){const _0x4e33e0=$n,_0x25f1e7=gb,_0x589ab7=_0x208bc8['mappingFor'+'mat']==='path';for(const _0x3db459 in _0x208bc8){const _0x4cb53f=_0x4e33e0[_0x3db459];if(!_0x4cb53f){_0x25f1e7[_0x3db459]?delete _0x208bc8[_0x3db459]:(w['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x3db459),this['valid']=!(-0x1a79+-0x237e+0x4*0xf7e));continue;}if(_0x4cb53f['startsWith']('enum')){const _0x1323da=_0x4cb53f['split'](':')[-0xc4a+-0x1edf+-0x1ba*-0x19];this['enumValida'+'tors'][_0x1323da]&&(this['enumValida'+'tors'][_0x1323da](_0x208bc8[_0x3db459])||this['setInvalid'](_0x3db459,_0x208bc8));}else{if(_0x4cb53f==='number')typeof _0x208bc8[_0x3db459]!='number'&&this['setInvalid'](_0x3db459,_0x208bc8);else{if(_0x4cb53f==='boolean')typeof _0x208bc8[_0x3db459]!='boolean'&&this['setInvalid'](_0x3db459,_0x208bc8);else{if(_0x4cb53f==='string')typeof _0x208bc8[_0x3db459]!='string'&&this['setInvalid'](_0x3db459,_0x208bc8);else{if(_0x4cb53f==='vec2')_0x208bc8[_0x3db459]instanceof Array&&_0x208bc8[_0x3db459]['length']===0xfe*0x11+0x151*0x6+-0x18c2*0x1||this['setInvalid'](_0x3db459,_0x208bc8);else{if(_0x4cb53f==='rgb')_0x208bc8[_0x3db459]instanceof Array&&_0x208bc8[_0x3db459]['length']===0xa07+0x822*0x2+0x3a*-0x74||this['setInvalid'](_0x3db459,_0x208bc8);else{if(_0x4cb53f==='texture')_0x589ab7?typeof _0x208bc8[_0x3db459]=='string'||_0x208bc8[_0x3db459]===null||_0x208bc8[_0x3db459]instanceof _e||this['setInvalid'](_0x3db459,_0x208bc8):typeof _0x208bc8[_0x3db459]=='number'||_0x208bc8[_0x3db459]===null||_0x208bc8[_0x3db459]instanceof _e||this['setInvalid'](_0x3db459,_0x208bc8);else{if(_0x4cb53f==='boundingbo'+'x')_0x208bc8[_0x3db459]['center']&&_0x208bc8[_0x3db459]['center']instanceof Array&&_0x208bc8[_0x3db459]['center']['length']===-0x8bd*-0x1+-0x8cb+0x1*0x11||this['setInvalid'](_0x3db459,_0x208bc8),_0x208bc8[_0x3db459]['halfExtent'+'s']&&_0x208bc8[_0x3db459]['halfExtent'+'s']instanceof Array&&_0x208bc8[_0x3db459]['halfExtent'+'s']['length']===-0xefd*0x1+0x6b1+0x84f*0x1||this['setInvalid'](_0x3db459,_0x208bc8);else{if(_0x4cb53f==='cubemap')typeof _0x208bc8[_0x3db459]=='number'||_0x208bc8[_0x3db459]===null||_0x208bc8[_0x3db459]===void(-0xc96+0xbc0+0x6b*0x2)||_0x208bc8[_0x3db459]instanceof _e&&_0x208bc8[_0x3db459]['cubemap']||this['setInvalid'](_0x3db459,_0x208bc8);else{if(_0x4cb53f==='chunks'){const _0x5780a9=Object['keys'](_0x208bc8[_0x3db459]);for(let _0x1b65f9=-0x1daa*0x1+0x1fc*0x3+0x17b6;_0x1b65f9<_0x5780a9['length'];_0x1b65f9++)typeof _0x208bc8[_0x3db459][_0x5780a9[_0x1b65f9]]!='string'&&this['setInvalid'](_0x5780a9[_0x1b65f9],_0x208bc8[_0x3db459]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x4cb53f);}}}}}}}}}}return _0x208bc8['validated']=!(-0x2f4+0x52*0x79+-0x23ce),this['valid'];}['_createEnu'+'mValidator'](_0x56f0a5){return function(_0x44456c){return _0x56f0a5['indexOf'](_0x44456c)>=0x15*-0x76+-0x13fe+0x1dac;};}}class gk{constructor(){this['_validator']=null;}['parse'](_0x58ebbe){const _0x1b7577=this['migrate'](_0x58ebbe),_0x57d0fb=this['_validate'](_0x1b7577),_0x16659a=new Ut();return this['initialize'](_0x16659a,_0x57d0fb),_0x16659a;}['initialize'](_0x26bafe,_0x5a8484){if(_0x5a8484['validated']||(_0x5a8484=this['_validate'](_0x5a8484)),_0x5a8484['chunks']&&_0x5a8484['chunks']&&Object['keys'](_0x5a8484['chunks'])['length']>-0x6b*0x51+-0x19f1*0x1+0x3bcc){const _0x5be8e1=_0x26bafe['shaderChun'+'ks']['glsl'];Object['entries'](_0x5a8484['chunks'])['forEach'](([_0x4aa9e5,_0x2aafaa])=>_0x5be8e1['set'](_0x4aa9e5,_0x2aafaa));}for(const _0x15d98e in _0x5a8484){const _0x2386bd=$n[_0x15d98e],_0x254292=_0x5a8484[_0x15d98e];if(_0x2386bd==='vec2')_0x26bafe[_0x15d98e]=new J(_0x254292[0x2290+-0x211b+-0x175],_0x254292[-0x3*0x2+-0x1340+0x3*0x66d]);else{if(_0x2386bd==='rgb')_0x26bafe[_0x15d98e]=new ie(_0x254292[0x16d2+-0xcb3*0x2+0x4*0xa5],_0x254292[0x111e+0x17*0x13f+-0x2dc6],_0x254292[0x2637+0x1372+-0x1*0x39a7]);else{if(_0x2386bd==='texture')_0x254292 instanceof _e?_0x26bafe[_0x15d98e]=_0x254292:_0x26bafe[_0x15d98e]instanceof _e&&typeof _0x254292=='number'&&_0x254292>0x24d6+0xea0+-0x7*0x75a||(_0x26bafe[_0x15d98e]=null);else{if(_0x2386bd==='cubemap')_0x254292 instanceof _e?_0x26bafe[_0x15d98e]=_0x254292:_0x26bafe[_0x15d98e]instanceof _e&&typeof _0x254292=='number'&&_0x254292>-0x124d+-0x1fb1+0x31fe||(_0x26bafe[_0x15d98e]=null),_0x15d98e==='cubeMap'&&!_0x254292&&(_0x26bafe['prefiltere'+'dCubemaps']=null);else{if(_0x2386bd==='boundingbo'+'x'){const _0x48c491=new D(_0x254292['center'][-0xe*-0x290+-0xa75+0x1*-0x196b],_0x254292['center'][-0x2*-0xdde+-0x399*0x4+-0xd57],_0x254292['center'][0x1*-0x1d6a+0x1*-0xeaf+-0x64d*-0x7]),_0x3fabb2=new D(_0x254292['halfExtent'+'s'][-0x1*0x24ac+0x454+0x5c*0x5a],_0x254292['halfExtent'+'s'][0x976+0x9f4+-0x1*0x1369],_0x254292['halfExtent'+'s'][-0xa1d*0x1+-0xc0c*0x1+0x162b]);_0x26bafe[_0x15d98e]=new De(_0x48c491,_0x3fabb2);}else _0x26bafe[_0x15d98e]=_0x5a8484[_0x15d98e];}}}}}_0x26bafe['update']();}['migrate'](_0x455c26){_0x455c26['shader']&&delete _0x455c26['shader'],_0x455c26['mapping_fo'+'rmat']&&(_0x455c26['mappingFor'+'mat']=_0x455c26['mapping_fo'+'rmat'],delete _0x455c26['mapping_fo'+'rmat']);let _0x3f6fcf;const _0x5e2124=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x3f6fcf=0x4dd*-0x4+0xc09*0x2+0xc5*-0x6;_0x3f6fcf<_0x5e2124['length'];_0x3f6fcf++){const _0x325acd=_0x5e2124[_0x3f6fcf][0x87a*-0x2+-0x4a4*0x3+-0xf70*-0x2],_0x358583=_0x5e2124[_0x3f6fcf][0xb78+0xc1+-0xc38];_0x455c26[_0x325acd]!==void(-0x2457+0x1*-0x836+0x2c8d)&&(_0x455c26[_0x358583]===void(0x1*-0x1a4+0x199*0x17+0xb*-0x331)&&(_0x455c26[_0x358583]=_0x455c26[_0x325acd]),delete _0x455c26[_0x325acd]);}const _0x12762d=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x3f6fcf=0x1def+-0x1ee9+0xfa;_0x3f6fcf<_0x12762d['length'];_0x3f6fcf++){const _0x18d645=_0x12762d[_0x3f6fcf];_0x455c26['hasOwnProp'+'erty'](_0x18d645)&&delete _0x455c26[_0x18d645];}return _0x455c26;}['_validate'](_0x4eed20){return _0x4eed20['validated']||(this['_validator']||(this['_validator']=new _k()),this['_validator']['validate'](_0x4eed20)),_0x4eed20;}}const Sk={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black','anisotropyMap':'black'};class yk extends Qe{constructor(_0x5c730c){super(_0x5c730c,'material'),this['_assets']=_0x5c730c['assets'],this['_device']=_0x5c730c['graphicsDe'+'vice'],this['_parser']=new gk();}['load'](_0x2d7d85,_0xff5c9c){typeof _0x2d7d85=='string'&&(_0x2d7d85={'load':_0x2d7d85,'original':_0x2d7d85}),ot['get'](_0x2d7d85['load'],{'retry':this['maxRetries']>0x1*-0xf3a+0x3*-0x931+0x2acd,'maxRetries':this['maxRetries']},(_0x24d150,_0x28ec7f)=>{_0x24d150?_0xff5c9c&&_0xff5c9c('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x2d7d85['original']+'\x20['+_0x24d150+']'):_0xff5c9c&&(_0x28ec7f['_engine']=!(0x1999+-0x4*0x1df+-0x121d),_0xff5c9c(null,_0x28ec7f));});}['open'](_0x10dfff,_0x1a9908){const _0x60a8db=this['_parser']['parse'](_0x1a9908);return _0x1a9908['_engine']&&(_0x60a8db['_data']=_0x1a9908,delete _0x1a9908['_engine']),_0x60a8db;}['patch'](_0x3d44d8,_0x31173d){_0x3d44d8['resource']['_data']&&(_0x3d44d8['_data']=_0x3d44d8['resource']['_data'],delete _0x3d44d8['resource']['_data']),_0x3d44d8['data']['name']=_0x3d44d8['name'],_0x3d44d8['resource']['name']=_0x3d44d8['name'],this['_bindAndAs'+'signAssets'](_0x3d44d8,_0x31173d),_0x3d44d8['off']('unload',this['_onAssetUn'+'load'],this),_0x3d44d8['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x463cca){delete _0x463cca['data']['parameters'],delete _0x463cca['data']['chunks'],delete _0x463cca['data']['name'];}['_assignTex'+'ture'](_0x5abc23,_0x5da5eb,_0x3725b5){_0x5da5eb['resource'][_0x5abc23]=_0x3725b5;}['_getPlaceh'+'olderTextu'+'re'](_0x15cd35){const _0x4b0394=Sk[_0x15cd35];return w['assert'](_0x4b0394,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x15cd35),fa(this['_device'],_0x4b0394);}['_assignPla'+'ceholderTe'+'xture'](_0x9f3f21,_0x2a40ac){_0x2a40ac['resource'][_0x9f3f21]=this['_getPlaceh'+'olderTextu'+'re'](_0x9f3f21);}['_onTexture'+'Load'](_0x4c0c46,_0x4cee0d,_0x59af2e){this['_assignTex'+'ture'](_0x4c0c46,_0x4cee0d,_0x59af2e['resource']),_0x4cee0d['resource']['update']();}['_onTexture'+'Add'](_0x2146f8,_0x166446,_0x3339d9){this['_assets']['load'](_0x3339d9);}['_onTexture'+'RemoveOrUn'+'load'](_0x376564,_0x3d5dbc,_0x527ab7){const _0x4268b0=_0x3d5dbc['resource'];_0x4268b0&&_0x3d5dbc['resource'][_0x376564]===_0x527ab7['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x376564,_0x3d5dbc),_0x4268b0['update']());}['_assignCub'+'emap'](_0x266dd1,_0x40878c,_0x46045f){if(_0x40878c['resource'][_0x266dd1]=_0x46045f[0x1755+0x2*-0xbb4+0x13],_0x266dd1==='cubeMap'){const _0x523be3=_0x46045f['slice'](0x68d*-0x1+0x2*-0x122e+0x2aea);_0x523be3['every'](_0x490bb1=>_0x490bb1)?_0x40878c['resource']['prefiltere'+'dCubemaps']=_0x523be3:_0x523be3[0x80f+0x2*0x8+0x81f*-0x1]&&(_0x40878c['resource']['envAtlas']=_0x523be3[0x1d46+0x2102+-0x3e48]);}}['_onCubemap'+'Load'](_0xbc14f6,_0x1053f4,_0x147ec0){this['_assignCub'+'emap'](_0xbc14f6,_0x1053f4,_0x147ec0['resources']),this['_parser']['initialize'](_0x1053f4['resource'],_0x1053f4['data']);}['_onCubemap'+'Add'](_0x95874f,_0x57c5b3,_0xd4aaa1){this['_assets']['load'](_0xd4aaa1);}['_onCubemap'+'RemoveOrUn'+'load'](_0x50e053,_0x165d1a,_0x1d0ca9){const _0x277cfa=_0x165d1a['resource'];_0x165d1a['data']['prefiltere'+'dCubeMap12'+'8']===_0x1d0ca9['resources'][-0x4bb+-0x333+0x7ef]&&(this['_assignCub'+'emap'](_0x50e053,_0x165d1a,[null,null,null,null,null,null,null]),_0x277cfa['update']());}['_bindAndAs'+'signAssets'](_0x9afae5,_0x3b835d){const _0x10ad96=this['_parser']['migrate'](_0x9afae5['data']),_0x133818=_0x9afae5['resource'],_0x46780a=_0x10ad96['mappingFor'+'mat']==='path',_0xd24b53=Cd;let _0x3f37a6,_0x456db3,_0x498e35;for(_0x3f37a6=-0x35d*0x1+-0x1f1e*0x1+0x5b*0x61;_0x3f37a6<_0xd24b53['length'];_0x3f37a6++){_0x456db3=_0xd24b53[_0x3f37a6],_0x498e35=_0x133818['_assetRefe'+'rences'][_0x456db3];const _0x33e4d4=_0x10ad96[_0x456db3],_0x251706=_0x133818[_0x456db3],_0x49c81c=_0x251706===this['_getPlaceh'+'olderTextu'+'re'](_0x456db3),_0x3cde84=_0x10ad96['validated'];_0x33e4d4&&(!_0x251706||!_0x3cde84||_0x49c81c)?(_0x498e35||(_0x498e35=new gl(_0x456db3,_0x9afae5,_0x3b835d,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x133818['_assetRefe'+'rences'][_0x456db3]=_0x498e35),_0x46780a?_0x498e35['url']=_0x9afae5['getAbsolut'+'eUrl'](_0x33e4d4):_0x498e35['id']=_0x33e4d4,_0x498e35['asset']&&(_0x498e35['asset']['resource']?this['_assignTex'+'ture'](_0x456db3,_0x9afae5,_0x498e35['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x456db3,_0x9afae5),_0x3b835d['load'](_0x498e35['asset']))):_0x498e35&&(_0x46780a?_0x498e35['url']=null:_0x498e35['id']=null);}const _0x12bb75=fm;for(_0x3f37a6=0x1*0x1a8a+-0x27b+0x805*-0x3;_0x3f37a6<_0x12bb75['length'];_0x3f37a6++)_0x456db3=_0x12bb75[_0x3f37a6],_0x498e35=_0x133818['_assetRefe'+'rences'][_0x456db3],_0x10ad96[_0x456db3]&&!_0x9afae5['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x498e35||(_0x498e35=new gl(_0x456db3,_0x9afae5,_0x3b835d,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x133818['_assetRefe'+'rences'][_0x456db3]=_0x498e35),_0x46780a?_0x498e35['url']=_0x10ad96[_0x456db3]:_0x498e35['id']=_0x10ad96[_0x456db3],_0x498e35['asset']&&(_0x498e35['asset']['loaded']&&this['_assignCub'+'emap'](_0x456db3,_0x9afae5,_0x498e35['asset']['resources']),_0x3b835d['load'](_0x498e35['asset'])));this['_parser']['initialize'](_0x133818,_0x10ad96);}}class vk{constructor(_0x142049){this['_device']=_0x142049['device'],this['_defaultMa'+'terial']=_0x142049['defaultMat'+'erial'],this['_assets']=_0x142049['assets'];}['parse'](_0x145f42,_0x1e2da6,_0x1d31da){kh['parse']('filename.g'+'lb','',_0x145f42,this['_device'],this['_assets'],(_0x1d31da==null?void(0x21b*0x8+-0x3*-0xafd+0x29*-0x137):_0x1d31da['options'])??{},(_0x52e11e,_0x19d904)=>{if(_0x52e11e)_0x1e2da6(_0x52e11e);else{const _0x523359=yr['createMode'+'l'](_0x19d904,this['_defaultMa'+'terial']);_0x19d904['destroy'](),_0x1e2da6(null,_0x523359);}});}}const xk={'points':cd,'lines':hd,'lineloop':_y,'linestrip':gy,'triangles':js,'trianglestrip':Er,'trianglefan':oa},Tk={'int8':dd,'uint8':la,'int16':fd,'uint16':Ml,'int32':Ty,'uint32':el,'float32':Ve};class wk{constructor(_0x3d1d30){this['_device']=_0x3d1d30['device'],this['_defaultMa'+'terial']=_0x3d1d30['defaultMat'+'erial'];}['parse'](_0x2d7686,_0x492ba8){const _0x378704=_0x2d7686['model'];if(!_0x378704){_0x492ba8(null,null);return;}if(_0x378704['version']<=-0x4*-0x7a+0x13d0*-0x1+0x11e9*0x1){_0x492ba8('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x4c7d2a=this['_parseNode'+'s'](_0x2d7686),_0x23e93d=this['_parseSkin'+'s'](_0x2d7686,_0x4c7d2a),_0x557785=this['_parseVert'+'exBuffers'](_0x2d7686),_0xdea411=this['_parseInde'+'xBuffers'](_0x2d7686,_0x557785),_0x29e1e8=this['_parseMorp'+'hs'](_0x2d7686,_0x4c7d2a,_0x557785),_0x284115=this['_parseMesh'+'es'](_0x2d7686,_0x23e93d['skins'],_0x29e1e8['morphs'],_0x557785,_0xdea411['buffer'],_0xdea411['data']),_0x2c87fe=this['_parseMesh'+'Instances'](_0x2d7686,_0x4c7d2a,_0x284115,_0x23e93d['skins'],_0x23e93d['instances'],_0x29e1e8['morphs'],_0x29e1e8['instances']),_0x39e772=new sr();_0x39e772['graph']=_0x4c7d2a[-0x201f*-0x1+-0xf1*0x19+-0x896],_0x39e772['meshInstan'+'ces']=_0x2c87fe,_0x39e772['skinInstan'+'ces']=_0x23e93d['instances'],_0x39e772['morphInsta'+'nces']=_0x29e1e8['instances'],_0x39e772['getGraph']()['syncHierar'+'chy'](),_0x492ba8(null,_0x39e772);}['_parseNode'+'s'](_0xf77b94){const _0x2e6f7a=_0xf77b94['model'],_0x2d3293=[];let _0x84e1ff;for(_0x84e1ff=-0x1b9c+0x913+0x16d*0xd;_0x84e1ff<_0x2e6f7a['nodes']['length'];_0x84e1ff++){const _0x383be6=_0x2e6f7a['nodes'][_0x84e1ff],_0x38bbaf=new Ie(_0x383be6['name']);_0x38bbaf['setLocalPo'+'sition'](_0x383be6['position'][0x1976+0x127b*-0x1+0x6fb*-0x1],_0x383be6['position'][-0x81d+-0x314*-0xb+-0x19be],_0x383be6['position'][-0x56*-0x71+-0x28*0x2c+-0xea*0x22]),_0x38bbaf['setLocalEu'+'lerAngles'](_0x383be6['rotation'][0xeda+-0x43*0x6b+0xd27],_0x383be6['rotation'][-0x19d6+0xa41+0x39*0x46],_0x383be6['rotation'][0x56*0x22+-0x19c1+0x1*0xe57]),_0x38bbaf['setLocalSc'+'ale'](_0x383be6['scale'][0x2de+0x17*-0x41+0x2f9],_0x383be6['scale'][-0x1*-0x9d4+-0x44d*0x1+-0x586],_0x383be6['scale'][-0x267c+0xe69+0x1815]),_0x38bbaf['scaleCompe'+'nsation']=!!_0x383be6['scaleCompe'+'nsation'],_0x2d3293['push'](_0x38bbaf);}for(_0x84e1ff=0xa3a+0x234c+-0x2d85;_0x84e1ff<_0x2e6f7a['parents']['length'];_0x84e1ff++)_0x2d3293[_0x2e6f7a['parents'][_0x84e1ff]]['addChild'](_0x2d3293[_0x84e1ff]);return _0x2d3293;}['_parseSkin'+'s'](_0xea28fb,_0x8e7b08){const _0x2456d3=_0xea28fb['model'],_0x2bb187=[],_0x555b43=[];let _0x49a7b0,_0x2500a0;for(_0x49a7b0=0x1387+-0x1057*-0x1+-0x1*0x23de;_0x49a7b0<_0x2456d3['skins']['length'];_0x49a7b0++){const _0x2f8cdc=_0x2456d3['skins'][_0x49a7b0],_0x2d51ab=[];for(_0x2500a0=0x84a+-0x1a86+0x3*0x614;_0x2500a0<_0x2f8cdc['inverseBin'+'dMatrices']['length'];_0x2500a0++){const _0x2ccc59=_0x2f8cdc['inverseBin'+'dMatrices'][_0x2500a0];_0x2d51ab[_0x2500a0]=new te()['set'](_0x2ccc59);}const _0x468cae=new Lv(this['_device'],_0x2d51ab,_0x2f8cdc['boneNames']);_0x2bb187['push'](_0x468cae);const _0x3a955e=new Ol(_0x468cae),_0x4b4c9b=[];for(_0x2500a0=-0x2030+0x4b3+0x1b7d;_0x2500a0<_0x468cae['boneNames']['length'];_0x2500a0++){const _0x39ac42=_0x468cae['boneNames'][_0x2500a0],_0x2a6832=_0x8e7b08[0x51c+0xb90*-0x2+0x1204]['findByName'](_0x39ac42);_0x4b4c9b['push'](_0x2a6832);}_0x3a955e['bones']=_0x4b4c9b,_0x555b43['push'](_0x3a955e);}return{'skins':_0x2bb187,'instances':_0x555b43};}['_getMorphV'+'ertexCount'](_0x3ab55a,_0x60a16,_0x1a5231){for(let _0x350c39=0x2643+-0x15aa+-0x1099;_0x350c39<_0x3ab55a['meshes']['length'];_0x350c39++){const _0x2ba5d3=_0x3ab55a['meshes'][_0x350c39];if(_0x2ba5d3['morph']===_0x60a16)return _0x1a5231[_0x2ba5d3['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x559b7b,_0x3ef1c3,_0x594269){const _0x30b915=_0x559b7b['model'],_0x4e3d34=[],_0x252aab=[];let _0x5a2e7f,_0x27e0e3,_0x4f0b21,_0x23fe9c,_0x16c705,_0x4b3351;if(_0x30b915['morphs']){const _0xcea5d=function(_0x4fd562,_0x309bc4,_0x19ae6b){const _0x10122a=new Float32Array(_0x19ae6b*(-0xce8+0x141*0x5+0x6a6));for(let _0x55a8cc=0x43c*0x5+0x2481+-0x39ad;_0x55a8cc<_0x309bc4['length'];_0x55a8cc++){const _0x43dc8f=_0x309bc4[_0x55a8cc]*(-0x3ad*-0x5+0x216b+-0x33c9);_0x10122a[_0x43dc8f]=_0x4fd562[_0x55a8cc*(-0x6d*-0x35+-0xc63+-0xa2b)],_0x10122a[_0x43dc8f+(-0xba0+-0x418*-0x6+0x1*-0xcef)]=_0x4fd562[_0x55a8cc*(-0x13fa+0x38e+0x7*0x259)+(0x3a*-0x6d+-0x8c*0xc+0x1f43)],_0x10122a[_0x43dc8f+(-0x5*-0x44e+0xb90+-0x2114)]=_0x4fd562[_0x55a8cc*(-0x16d1+0x1eb+-0x65*-0x35)+(0x1*0x1eaa+0x12fb+-0x61*0x83)];}return _0x10122a;};for(_0x5a2e7f=0x1*-0x1f99+-0x14b+-0x839*-0x4;_0x5a2e7f<_0x30b915['morphs']['length'];_0x5a2e7f++){for(_0x23fe9c=_0x30b915['morphs'][_0x5a2e7f]['targets'],_0x4b3351=[],_0x4f0b21=this['_getMorphV'+'ertexCount'](_0x30b915,_0x5a2e7f,_0x594269),_0x27e0e3=0x22f*0x7+0x1d*-0x141+-0x4*-0x545;_0x27e0e3<_0x23fe9c['length'];_0x27e0e3++){const _0x4d1e02=_0x23fe9c[_0x27e0e3]['aabb'],_0x4b95b3=_0x4d1e02['min'],_0x535692=_0x4d1e02['max'],_0x185e4b=new De(new D((_0x535692[0x7*0x32c+0x201e+-0x332*0x11]+_0x4b95b3[-0x932+-0x11b*0x19+-0x3*-0xc47])*(0x1*0x239d+-0x8a2+-0x1afb+0.5),(_0x535692[-0x2697+0x2d*0x8b+0xe29]+_0x4b95b3[0x1b48+-0x2638+0xaf1*0x1])*(0x13d5+0xab6+-0x1e8b+0.5),(_0x535692[0x1bdc*0x1+0x9*0xa2+-0x218c]+_0x4b95b3[0x22a1*-0x1+0x4e*-0x21+0x2cb1])*(-0x12e7+-0xb0a*-0x3+0xe37*-0x1+0.5)),new D((_0x535692[-0xf5e+-0x82d+0x178b]-_0x4b95b3[-0x234*-0xd+-0x11a1+-0xb03*0x1])*(-0x351*-0x3+0x6d1+-0x10c4+0.5),(_0x535692[0x8de+0x33*-0x65+-0x2*-0x5a1]-_0x4b95b3[-0x1b7f*-0x1+-0x231d*-0x1+-0x3e9b])*(0x21*0x115+-0x3*-0x89+0x638*-0x6+0.5),(_0x535692[-0x1*0x966+0x1e5*0x6+0x1f6*-0x1]-_0x4b95b3[-0x3fa*0x9+0xaea+0x18e2])*(0x120c*-0x1+0x2e*0xd7+-0x136*0x11+0.5))),_0xb13d72=_0x23fe9c[_0x27e0e3]['indices'];let _0x5ac9e6=_0x23fe9c[_0x27e0e3]['deltaPosit'+'ions'],_0x1a4580=_0x23fe9c[_0x27e0e3]['deltaNorma'+'ls'];_0xb13d72&&(_0x5ac9e6=_0xcea5d(_0x5ac9e6,_0xb13d72,_0x4f0b21),_0x1a4580=_0xcea5d(_0x1a4580,_0xb13d72,_0x4f0b21)),_0x16c705=new Md({'deltaPositions':_0x5ac9e6,'deltaNormals':_0x1a4580,'name':_0x23fe9c[_0x27e0e3]['name'],'aabb':_0x185e4b}),_0x4b3351['push'](_0x16c705);}const _0x56776e=new mm(_0x4b3351,this['_device']);_0x4e3d34['push'](_0x56776e);const _0x303895=new xa(_0x56776e);_0x252aab['push'](_0x303895);}}return{'morphs':_0x4e3d34,'instances':_0x252aab};}['_parseVert'+'exBuffers'](_0x4c3caa){const _0x3108a1=_0x4c3caa['model'],_0x16353f=[],_0x289a45={'position':Me,'normal':gs,'tangent':yi,'blendWeight':gi,'blendIndices':us,'color':Wt,'texCoord0':is,'texCoord1':ba,'texCoord2':wl,'texCoord3':El,'texCoord4':bl,'texCoord5':Al,'texCoord6':Cl,'texCoord7':Pl};for(let _0x2621fa=-0x5a4+0x21d+0x387;_0x2621fa<_0x3108a1['vertices']['length'];_0x2621fa++){const _0x1f0c5d=_0x3108a1['vertices'][_0x2621fa],_0x55b658=[];for(const _0xe937f7 in _0x1f0c5d){const _0x264c3d=_0x1f0c5d[_0xe937f7];_0x55b658['push']({'semantic':_0x289a45[_0xe937f7],'components':_0x264c3d['components'],'type':Tk[_0x264c3d['type']],'normalize':_0x289a45[_0xe937f7]===Wt});}const _0x349f0f=new kt(this['_device'],_0x55b658),_0x22d404=_0x1f0c5d['position']['data']['length']/_0x1f0c5d['position']['components'],_0x16eaa3=new Is(this['_device'],_0x349f0f,_0x22d404),_0x5c9086=new Uo(_0x16eaa3);for(let _0x3b6946=0x17c9*-0x1+0x1eed*-0x1+0x1b5b*0x2;_0x3b6946<_0x22d404;_0x3b6946++){for(const _0x575942 in _0x1f0c5d){const _0x90a4fc=_0x1f0c5d[_0x575942];switch(_0x90a4fc['components']){case-0x65a+-0x19*0x2d+0x56*0x20:_0x5c9086['element'][_0x289a45[_0x575942]]['set'](_0x90a4fc['data'][_0x3b6946]);break;case 0x12f9*0x1+-0x1*0x2048+0xd51:_0x5c9086['element'][_0x289a45[_0x575942]]['set'](_0x90a4fc['data'][_0x3b6946*(-0x52*0x52+-0x28a+0x1cd0)],0x2638*-0x1+-0x6e3*0x5+0x48a8-_0x90a4fc['data'][_0x3b6946*(0x126e*-0x2+0x6d*0x6+-0x90*-0x3d)+(-0x1*-0x1aad+-0xd*-0xff+-0x279f)]);break;case-0x23e5+0x1*0xf9e+0x144a:_0x5c9086['element'][_0x289a45[_0x575942]]['set'](_0x90a4fc['data'][_0x3b6946*(0x17e2+0x24b8+-0x3c97*0x1)],_0x90a4fc['data'][_0x3b6946*(0x9c*0xa+-0x4b*-0x75+-0x4*0xa17)+(-0x1*0x5cd+-0x4cf*-0x5+-0x123d)],_0x90a4fc['data'][_0x3b6946*(-0xb5*0x1d+-0x657*0x2+-0x7*-0x4be)+(0xe2*0x28+-0x25*-0x101+-0x4873)]);break;case-0x2466+0x20e5*-0x1+0x1*0x454f:_0x5c9086['element'][_0x289a45[_0x575942]]['set'](_0x90a4fc['data'][_0x3b6946*(0x27*-0x57+0x7*0x17b+0x2e8)],_0x90a4fc['data'][_0x3b6946*(0x25df+-0x4c4+0x1*-0x2117)+(-0x8a2+-0x9b5+-0x8*-0x24b)],_0x90a4fc['data'][_0x3b6946*(0x7e3*0x1+-0x4a6+0x113*-0x3)+(0x1*0x44+-0x2ce*-0xb+-0x1f1c)],_0x90a4fc['data'][_0x3b6946*(-0x23c7*-0x1+-0x1e31+-0x17*0x3e)+(-0x21b0+0x1*0x1b97+0x22*0x2e)]);break;}}_0x5c9086['next']();}_0x5c9086['end'](),_0x16353f['push'](_0x16eaa3);}return _0x16353f;}['_parseInde'+'xBuffers'](_0x254d21,_0x3350e){const _0x224058=_0x254d21['model'];let _0x254113=null,_0xf3f47c=null,_0x48c890,_0xad8a16=-0x39*0x43+0x1*0x152c+-0x641;for(_0x48c890=-0x217*0x1+-0x1e53*0x1+-0xace*-0x3;_0x48c890<_0x224058['meshes']['length'];_0x48c890++){const _0x1d4cb0=_0x224058['meshes'][_0x48c890];_0x1d4cb0['indices']!==void(-0x910+-0xe0*-0x2c+-0x1d70)&&(_0xad8a16+=_0x1d4cb0['indices']['length']);}let _0x19dd8a=0x49*0x4d+0x2579+-0x2*0x1db7;for(_0x48c890=0x7db+-0x1*0x16ca+0x1*0xeef;_0x48c890<_0x3350e['length'];_0x48c890++)_0x19dd8a=Math['max'](_0x19dd8a,_0x3350e[_0x48c890]['numVertice'+'s']);return _0xad8a16>-0x1*-0x2438+-0x19b9+0xa7f*-0x1&&(_0x19dd8a>-0x1c2e2+0x64b4*-0x1+0x32795?(_0x254113=new br(this['_device'],wr,_0xad8a16),_0xf3f47c=new Uint32Array(_0x254113['lock']())):(_0x254113=new br(this['_device'],Yi,_0xad8a16),_0xf3f47c=new Uint16Array(_0x254113['lock']()))),{'buffer':_0x254113,'data':_0xf3f47c};}['_parseMesh'+'es'](_0x3b1137,_0xf0175f,_0x17ae5e,_0x1934cd,_0x3ec0c4,_0x1a09c6){const _0x1b30d1=_0x3b1137['model'],_0x5add47=[];let _0x375544=0xbca+0x24a5+-0x306f;for(let _0x359d2c=-0x1f75*0x1+0xc36+0x133f;_0x359d2c<_0x1b30d1['meshes']['length'];_0x359d2c++){const _0x4097fb=_0x1b30d1['meshes'][_0x359d2c],_0x1790cd=_0x4097fb['aabb'],_0x11b9d0=_0x1790cd['min'],_0x21195f=_0x1790cd['max'],_0x1a65fb=new De(new D((_0x21195f[0x199*-0x1+0x1*-0x151f+0x2d7*0x8]+_0x11b9d0[0xd*0x1e7+0xb2*0x4+-0x1b83])*(0x22f*-0x7+0x1*-0x2342+0x39*0xe3+0.5),(_0x21195f[0x4*0x85f+0x837*-0x3+0x1a*-0x57]+_0x11b9d0[0x1fce*0x1+-0x72d*0x4+0x319*-0x1])*(0xca+-0x7e4+0x9*0xca+0.5),(_0x21195f[0xcc*-0x1a+-0x12bd+0x2777]+_0x11b9d0[-0xd09+-0xa8+0xdb3])*(0x463*-0x2+-0x27b+0xb41+0.5)),new D((_0x21195f[-0xf52+0x26b9+0x7cd*-0x3]-_0x11b9d0[0x17b9+-0x1ddf+0x626])*(0xf06+0x9b7+0x3*-0x83f+0.5),(_0x21195f[-0xb*0xfb+-0x43a+0xf04]-_0x11b9d0[-0x2095+0x100f+0x1087])*(-0xb49*0x3+-0x1*0xa9f+0x2*0x163d+0.5),(_0x21195f[0x13a+-0x1a5*-0x2+-0x1*0x482]-_0x11b9d0[-0xfb2+-0x64e+0x756*0x3])*(0x25*-0x31+0x17*0x145+-0x161e+0.5))),_0x25c410=_0x4097fb['indices']!==void(-0x1af6+0x106f+0xa87),_0x2fd043=new Ge(this['_device']);_0x2fd043['vertexBuff'+'er']=_0x1934cd[_0x4097fb['vertices']],_0x2fd043['indexBuffe'+'r'][-0x5c3*0x2+-0x5*-0x541+0x1*-0xebf]=_0x25c410?_0x3ec0c4:null,_0x2fd043['primitive'][0x1*-0xe99+-0x1888+0x2721]['type']=xk[_0x4097fb['type']],_0x2fd043['primitive'][0xdc3+-0x2c*-0xdf+0x69*-0x7f]['base']=_0x25c410?_0x4097fb['base']+_0x375544:_0x4097fb['base'],_0x2fd043['primitive'][0x1*0x891+0x130a*0x1+-0x1b9b]['count']=_0x4097fb['count'],_0x2fd043['primitive'][0x6e*-0x13+-0x245a+0x2c84]['indexed']=_0x25c410,_0x2fd043['skin']=_0x4097fb['skin']!==void(0x1a4d+-0x2*-0x824+-0x2a95)?_0xf0175f[_0x4097fb['skin']]:null,_0x2fd043['morph']=_0x4097fb['morph']!==void(0x2252+-0x122f+-0x51*0x33)?_0x17ae5e[_0x4097fb['morph']]:null,_0x2fd043['aabb']=_0x1a65fb,_0x25c410&&(_0x1a09c6['set'](_0x4097fb['indices'],_0x375544),_0x375544+=_0x4097fb['indices']['length']),_0x5add47['push'](_0x2fd043);}return _0x3ec0c4!==null&&_0x3ec0c4['unlock'](),_0x5add47;}['_parseMesh'+'Instances'](_0x3b06df,_0x5c51cc,_0x438fac,_0x2260c3,_0x50b345,_0x48321c,_0x39bc1f){const _0x1d4ada=_0x3b06df['model'],_0x5c5098=[];let _0x2bc5a5;for(_0x2bc5a5=0x1d*-0x89+-0x14a3+0x2428;_0x2bc5a5<_0x1d4ada['meshInstan'+'ces']['length'];_0x2bc5a5++){const _0x393e45=_0x1d4ada['meshInstan'+'ces'][_0x2bc5a5],_0x11e367=_0x5c51cc[_0x393e45['node']],_0x489444=_0x438fac[_0x393e45['mesh']],_0x15bbf3=new He(_0x489444,this['_defaultMa'+'terial'],_0x11e367);if(_0x489444['skin']){const _0x1d2e21=_0x2260c3['indexOf'](_0x489444['skin']);if(_0x1d2e21===-(-0x14b7*-0x1+-0x4*-0x590+-0x2af6))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x15bbf3['skinInstan'+'ce']=_0x50b345[_0x1d2e21];}if(_0x489444['morph']){const _0x2d7035=_0x48321c['indexOf'](_0x489444['morph']);if(_0x2d7035===-(-0x1c0c+-0x1154+-0x2d61*-0x1))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x15bbf3['morphInsta'+'nce']=_0x39bc1f[_0x2d7035];}_0x5c5098['push'](_0x15bbf3);}return _0x5c5098;}}class Ek extends Qe{constructor(_0x6ad41){super(_0x6ad41,'model'),this['_parsers']=[],this['device']=_0x6ad41['graphicsDe'+'vice'],this['assets']=_0x6ad41['assets'],this['defaultMat'+'erial']=Qn(this['device']),this['addParser'](new wk(this),(_0x4e90ad,_0x3e4a9d)=>xe['getExtensi'+'on'](_0x4e90ad)==='.json'),this['addParser'](new vk(this),(_0x2b2dc5,_0x572fdd)=>xe['getExtensi'+'on'](_0x2b2dc5)==='.glb');}['load'](_0x28c027,_0x18bd54,_0x531d6c){typeof _0x28c027=='string'&&(_0x28c027={'load':_0x28c027,'original':_0x28c027});const _0xf0cc59={'retry':this['maxRetries']>-0x11e9+0x1*-0x2405+0x3*0x11fa,'maxRetries':this['maxRetries']};(_0x28c027['load']['startsWith']('blob:')||_0x28c027['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x28c027['original'])['toLowerCas'+'e']()==='.glb'?_0xf0cc59['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0xf0cc59['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x28c027['load'],_0xf0cc59,(_0x209a7d,_0x83a0f3)=>{if(_0x18bd54){if(_0x209a7d)_0x18bd54('Error\x20load'+'ing\x20model:'+'\x20'+_0x28c027['original']+'\x20['+_0x209a7d+']');else{for(let _0x324464=0x146b*0x1+0xe9d+-0x2308;_0x324464<this['_parsers']['length'];_0x324464++){const _0x4d00fe=this['_parsers'][_0x324464];if(_0x4d00fe['decider'](_0x28c027['original'],_0x83a0f3)){_0x4d00fe['parser']['parse'](_0x83a0f3,(_0x4dfe2c,_0x5bcbfe)=>{_0x4dfe2c?_0x18bd54(_0x4dfe2c):_0x18bd54(null,_0x5bcbfe);},_0x531d6c);return;}}_0x18bd54('No\x20parsers'+'\x20found');}}});}['open'](_0x57b1cd,_0x3c5696){return _0x3c5696;}['patch'](_0x45d14e,_0x2e98b4){if(!_0x45d14e['resource'])return;const _0x3be30e=_0x45d14e['data'],_0x5a0bd2=this;_0x45d14e['resource']['meshInstan'+'ces']['forEach']((_0x48a376,_0x453c9f)=>{if(_0x3be30e['mapping']){const _0x3608a6=function(_0x354758){_0x354758['resource']?_0x48a376['material']=_0x354758['resource']:(_0x354758['once']('load',_0x3608a6),_0x2e98b4['load'](_0x354758)),_0x354758['once']('remove',_0x11438e=>{_0x48a376['material']===_0x11438e['resource']&&(_0x48a376['material']=_0x5a0bd2['defaultMat'+'erial']);});};if(!_0x3be30e['mapping'][_0x453c9f]){_0x48a376['material']=_0x5a0bd2['defaultMat'+'erial'];return;}const _0xf7ac7=_0x3be30e['mapping'][_0x453c9f]['material'],_0x5696be=_0x3be30e['mapping'][_0x453c9f]['path'];let _0x388b7e;if(_0xf7ac7!==void(0x57c+-0x3*0x187+-0xe7))_0xf7ac7?(_0x388b7e=_0x2e98b4['get'](_0xf7ac7),_0x388b7e?_0x3608a6(_0x388b7e):_0x2e98b4['once']('add:'+_0xf7ac7,_0x3608a6)):_0x48a376['material']=_0x5a0bd2['defaultMat'+'erial'];else{if(_0x5696be){const _0x319193=_0x45d14e['getAbsolut'+'eUrl'](_0x3be30e['mapping'][_0x453c9f]['path']);_0x388b7e=_0x2e98b4['getByUrl'](_0x319193),_0x388b7e?_0x3608a6(_0x388b7e):_0x2e98b4['once']('add:url:'+_0x319193,_0x3608a6);}}}});}['addParser'](_0x4b3b6a,_0x2801a3){this['_parsers']['push']({'parser':_0x4b3b6a,'decider':_0x2801a3});}}class bk extends Qe{constructor(_0x1e1bfd){super(_0x1e1bfd,'scene');}['load'](_0x2c5655,_0x5cd7c9){E0['load'](_0x2c5655,this['maxRetries'],_0x5cd7c9);}['open'](_0x4932ac,_0x3ed15c){this['_app']['systems']['script']['preloading']=!(0x171f+-0x5d*0xe+-0x1209);const _0x59e930=new bm(this['_app'],!(0x22b7+-0x1855*0x1+-0xa61))['parse'](_0x3ed15c),_0x37bc8e=this['_app']['scene'];return _0x37bc8e['root']=_0x59e930,this['_app']['applyScene'+'Settings'](_0x3ed15c['settings']),this['_app']['systems']['script']['preloading']=!(0x3a6*0x4+-0x1230*0x2+0x15c9),_0x37bc8e;}}const qh=class qh{static['push'](_0x566165){qh['_types']['push'](_0x566165);}};h(qh,'_types',[]);let aa=qh;const Ak=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),Ck={};Sl['reservedNa'+'mes']['forEach']((_0x2f01ef,_0x24c851,_0x74df34)=>{Ck[_0x2f01ef]=0x1c02+-0x8d0+-0x1331;});function Pk(_0x42e15a,_0x4c6742,_0x23b77b){if(typeof _0x42e15a!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x42e15a+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x42e15a['prototype']instanceof ts))throw new Error('script\x20cla'+'ss:\x20\x27'+Wo['__getScrip'+'tName'](_0x42e15a)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x4c6742=_0x4c6742||_0x42e15a['__name']||Wo['__getScrip'+'tName'](_0x42e15a),Ak['has'](_0x4c6742))throw new Error('script\x20nam'+'e:\x20\x27'+_0x4c6742+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x42e15a['__name']=_0x4c6742,Ks['getApplica'+'tion']()['scripts']['add'](_0x42e15a),aa['push'](_0x42e15a);}const Mk=_0x41d083=>_0x41d083[0x13c0+-0x2ef+0x5*-0x35d]['toLowerCas'+'e']()+_0x41d083['substring'](0x1d1b+-0x17ee+0x52c*-0x1);class Dk extends Qe{constructor(_0x95ab50){super(_0x95ab50,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x5f4e5a in this['_cache']){const _0x26a027=this['_cache'][_0x5f4e5a],_0x3eccba=_0x26a027['parentNode'];_0x3eccba&&_0x3eccba['removeChil'+'d'](_0x26a027);}this['_cache']={};}['load'](_0x36e457,_0x3d10ca){typeof _0x36e457=='string'&&(_0x36e457={'load':_0x36e457,'original':_0x36e457});const _0x476f2c=this;this['_app'];const _0xb670dd=(_0x36e457['load'],(_0x63a66e,_0x1bf9f0,_0x28a1e6)=>{if(_0x63a66e)_0x3d10ca(_0x63a66e);else{const _0x233527={};for(let _0xb079d9=0x1*-0x1191+-0xd*0x12b+0x20c0;_0xb079d9<aa['_types']['length'];_0xb079d9++)_0x233527[aa['_types'][_0xb079d9]['name']]=aa['_types'][_0xb079d9];aa['_types']['length']=0x2007+-0x153f+0xac8*-0x1,_0x3d10ca(null,_0x233527,_0x28a1e6);const _0x47e635=_0x1bf9f0['split']('&hash=')[-0x243f+0x240b+0x34];delete _0x476f2c['_loader']['_cache'][Cn['makeKey'](_0x47e635,'script')];}}),[_0x48e4e9]=_0x36e457['load']['split']('?');_0x48e4e9['endsWith']('.mjs')?this['_loadModul'+'e'](_0x48e4e9,_0xb670dd):this['_loadScrip'+'t'](_0x36e457['load'],_0xb670dd);}['open'](_0x494e99,_0x3ec2eb){return _0x3ec2eb;}['patch'](_0x4abe6e,_0x4261a9){}['_loadScrip'+'t'](_0x16c91c,_0x1d9728){const _0x53d5e6=document['head'],_0x5a901d=document['createElem'+'ent']('script');this['_cache'][_0x16c91c]=_0x5a901d,_0x5a901d['async']=!(-0x120*0xd+-0x1643*-0x1+-0x7a2),_0x5a901d['addEventLi'+'stener']('error',_0x2e9696=>{_0x1d9728('Script:\x20'+_0x2e9696['target']['src']+('\x20failed\x20to'+'\x20load'));},!(0x230+-0x49c+0x26d));let _0x1d7094=!(0x13*-0x1c4+-0x3dc+0x2569);_0x5a901d['onload']=_0x5a901d['onreadysta'+'techange']=function(){!_0x1d7094&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x1d7094=!(-0x1237*-0x1+0x17c7+0x19*-0x1ae),_0x1d9728(null,_0x16c91c,_0x5a901d));},_0x5a901d['src']=_0x16c91c,_0x53d5e6['appendChil'+'d'](_0x5a901d);}['_loadModul'+'e'](_0x31e3be,_0x916228){const _0x4c5b3e=Ae['browser']&&window['location']['origin']!=='null'?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x3ccbec=new URL(_0x31e3be,_0x4c5b3e);import(_0x3ccbec['toString']())['then'](_0x44011d=>{var _0x441f5b,_0x273c71;const _0x4f14cd=_0x3ccbec['pathname']['split']('/')['pop'](),_0x8be9b5=(_0x273c71=(_0x441f5b=this['_app']['assets']['find'](_0x4f14cd,'script'))==null?void(0x33b*0x3+-0x997+-0x2*0xd):_0x441f5b['data'])==null?void(0xee8+-0x18d9+0x9f1):_0x273c71['scripts'];for(const _0x40a746 in _0x44011d){const _0x4c0814=_0x44011d[_0x40a746];if(_0x4c0814['prototype']instanceof ts){const _0x14a969=Mk(_0x4c0814['name']);_0x4c0814['scriptName']||w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0x4c0814['name']+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0x4c0814['name']+('.scriptNam'+'e\x20=\x20\x22')+_0x14a969+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.'));const _0x12c0ba=_0x4c0814['scriptName']??_0x14a969;Pk(_0x4c0814,_0x12c0ba),_0x8be9b5&&this['_app']['scripts']['addSchema'](_0x12c0ba,_0x8be9b5[_0x12c0ba]);}}_0x916228(null,_0x31e3be,null);})['catch'](_0xec4300=>{_0x916228(_0xec4300);});}}class Ik extends Qe{constructor(_0x16649a){super(_0x16649a,'shader'),h(this,'decoder',null);}['load'](_0x21fb2c,_0x439798){typeof _0x21fb2c=='string'&&(_0x21fb2c={'load':_0x21fb2c,'original':_0x21fb2c}),ot['get'](_0x21fb2c['load'],{'retry':this['maxRetries']>-0x1a1e+-0x1a4b*-0x1+0xf*-0x3,'maxRetries':this['maxRetries']},(_0x244bf6,_0x1ce92f)=>{_0x244bf6?_0x439798('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x21fb2c['original']+'\x20['+_0x244bf6+']'):_0x439798(null,_0x1ce92f);});}['openBinary'](_0x24431f){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x24431f);}}function Pf(_0x48ad73){const _0xa9787d=this;_0xa9787d['resource']&&(_0xa9787d['resource']['atlas']=_0x48ad73['resource']);}function Mf(_0x35e8ac){this['registry']['load'](_0x35e8ac);}class Lk extends Qe{constructor(_0x3d2ba7){super(_0x3d2ba7,'sprite'),this['_assets']=_0x3d2ba7['assets'],this['_device']=_0x3d2ba7['graphicsDe'+'vice'];}['load'](_0x253d72,_0x35ac80){typeof _0x253d72=='string'&&(_0x253d72={'load':_0x253d72,'original':_0x253d72}),xe['getExtensi'+'on'](_0x253d72['original'])==='.json'&&ot['get'](_0x253d72['load'],{'retry':this['maxRetries']>0x882+-0x1*-0x130d+-0x1*0x1b8f,'maxRetries':this['maxRetries']},(_0x47bcb1,_0x5381d6)=>{_0x47bcb1?_0x35ac80(_0x47bcb1):_0x35ac80(null,_0x5381d6);});}['open'](_0x269927,_0x2511d1){const _0x218bf2=new BA(this['_device']);return _0x269927&&(_0x218bf2['__data']=_0x2511d1),_0x218bf2;}['patch'](_0x10022e,_0x31b5b7){const _0x30df85=_0x10022e['resource'];if(_0x30df85['__data']&&(_0x10022e['data']['pixelsPerU'+'nit']=_0x30df85['__data']['pixelsPerU'+'nit'],_0x10022e['data']['renderMode']=_0x30df85['__data']['renderMode'],_0x10022e['data']['frameKeys']=_0x30df85['__data']['frameKeys'],_0x30df85['__data']['textureAtl'+'asAsset'])){const _0x3980d7=_0x31b5b7['getByUrl'](_0x30df85['__data']['textureAtl'+'asAsset']);_0x3980d7?_0x10022e['data']['textureAtl'+'asAsset']=_0x3980d7['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x30df85['__data']['textureAtl'+'asAsset']);}_0x30df85['startUpdat'+'e'](),_0x30df85['renderMode']=_0x10022e['data']['renderMode'],_0x30df85['pixelsPerU'+'nit']=_0x10022e['data']['pixelsPerU'+'nit'],_0x30df85['frameKeys']=_0x10022e['data']['frameKeys'],this['_updateAtl'+'as'](_0x10022e),_0x30df85['endUpdate'](),_0x10022e['off']('change',this['_onAssetCh'+'ange'],this),_0x10022e['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x196b3e){const _0x4b45d1=_0x196b3e['resource'];if(!_0x196b3e['data']['textureAtl'+'asAsset']){_0x4b45d1['atlas']=null;return;}this['_assets']['off']('load:'+_0x196b3e['data']['textureAtl'+'asAsset'],Pf,_0x196b3e),this['_assets']['on']('load:'+_0x196b3e['data']['textureAtl'+'asAsset'],Pf,_0x196b3e);const _0x3f07d8=this['_assets']['get'](_0x196b3e['data']['textureAtl'+'asAsset']);_0x3f07d8&&_0x3f07d8['resource']?_0x4b45d1['atlas']=_0x3f07d8['resource']:_0x3f07d8?this['_assets']['load'](_0x3f07d8):(this['_assets']['off']('add:'+_0x196b3e['data']['textureAtl'+'asAsset'],Mf,_0x196b3e),this['_assets']['on']('add:'+_0x196b3e['data']['textureAtl'+'asAsset'],Mf,_0x196b3e));}['_onAssetCh'+'ange'](_0x4ae46e,_0x2c9915,_0x640a58,_0x2b4afb){_0x2c9915==='data'&&_0x640a58&&_0x640a58['textureAtl'+'asAsset']&&_0x2b4afb&&_0x640a58['textureAtl'+'asAsset']!==_0x2b4afb['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x2b4afb['textureAtl'+'asAsset'],Pf,_0x4ae46e),this['_assets']['off']('add:'+_0x2b4afb['textureAtl'+'asAsset'],Mf,_0x4ae46e));}}class vS{constructor(_0x419edc,_0xe7e1fb){h(this,'_app'),h(this,'_data'),h(this,'_templateR'+'oot',null),(this['_app']=_0x419edc,this['_data']=_0xe7e1fb);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x407908=new bm(this['_app'],!(-0x4*0x805+-0x11d+0x1d*0x125));this['_templateR'+'oot']=_0x407908['parse'](this['_data']);}}class Rk extends Qe{constructor(_0x24a5b8){super(_0x24a5b8,'template'),h(this,'decoder',null);}['load'](_0x4a7290,_0x154b13){typeof _0x4a7290=='string'&&(_0x4a7290={'load':_0x4a7290,'original':_0x4a7290});const _0x459082={'retry':this['maxRetries']>-0x1a32*-0x1+-0x212b+-0x1*-0x6f9,'maxRetries':this['maxRetries']};ot['get'](_0x4a7290['load'],_0x459082,(_0x282f37,_0x13ad57)=>{_0x282f37?_0x154b13('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x4a7290['original']):_0x154b13(_0x282f37,_0x13ad57);});}['open'](_0xd3073c,_0x358a68){return new vS(this['_app'],_0x358a68);}['openBinary'](_0x50d162){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new vS(this['_app'],JSON['parse'](this['decoder']['decode'](_0x50d162)));}}class Ok extends Qe{constructor(_0x59287f){super(_0x59287f,'text'),h(this,'decoder',null);}['load'](_0x47ae74,_0x3609c2){typeof _0x47ae74=='string'&&(_0x47ae74={'load':_0x47ae74,'original':_0x47ae74}),ot['get'](_0x47ae74['load'],{'retry':this['maxRetries']>0x7*0x463+0x1*-0x58c+-0x1929,'maxRetries':this['maxRetries']},(_0x3f87f8,_0x4639d6)=>{_0x3f87f8?_0x3609c2('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x47ae74['original']+'\x20['+_0x3f87f8+']'):_0x3609c2(null,_0x4639d6);});}['openBinary'](_0x2b5b61){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x2b5b61);}}const Ic={'repeat':yt,'clamp':ue,'mirror':ip},Lc={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},Fk=/^data\.frames\.(\d+)$/;class Nk extends Qe{constructor(_0x459656){super(_0x459656,'textureatl'+'as'),this['_loader']=_0x459656['loader'];}['load'](_0x58c452,_0x491b94){typeof _0x58c452=='string'&&(_0x58c452={'load':_0x58c452,'original':_0x58c452});const _0x446f76=this,_0x3948b5=this['_loader']['getHandler']('texture');xe['getExtensi'+'on'](_0x58c452['original'])==='.json'?ot['get'](_0x58c452['load'],{'retry':this['maxRetries']>0x22e8+0x8b4+-0x2b9c,'maxRetries':this['maxRetries']},(_0x395f11,_0xbcb57a)=>{if(_0x395f11)_0x491b94(_0x395f11);else{const _0x44ae2d=_0x58c452['original']['replace']('.json','.png');_0x446f76['_loader']['load'](_0x44ae2d,'texture',(_0x3ecd00,_0x108b85)=>{_0x3ecd00?_0x491b94(_0x3ecd00):_0x491b94(null,{'data':_0xbcb57a,'texture':_0x108b85});});}}):_0x3948b5['load'](_0x58c452,_0x491b94);}['open'](_0x2dfdf7,_0x3df688,_0x42495e){const _0x53d3e8=new zA();if(_0x3df688['texture']&&_0x3df688['data'])_0x53d3e8['texture']=_0x3df688['texture'],_0x53d3e8['__data']=_0x3df688['data'];else{const _0x1370fb=this['_loader']['getHandler']('texture')['open'](_0x2dfdf7,_0x3df688,_0x42495e);if(!_0x1370fb)return null;_0x53d3e8['texture']=_0x1370fb;}return _0x53d3e8;}['patch'](_0x1c300b,_0x41df7c){if(!_0x1c300b['resource'])return;_0x1c300b['resource']['__data']&&(_0x1c300b['resource']['__data']['minfilter']!==void(0x1cf9+-0x45f+-0x189a)&&(_0x1c300b['data']['minfilter']=_0x1c300b['resource']['__data']['minfilter']),_0x1c300b['resource']['__data']['magfilter']!==void(-0x4*0x22+0x163+0xdb*-0x1)&&(_0x1c300b['data']['magfilter']=_0x1c300b['resource']['__data']['magfilter']),_0x1c300b['resource']['__data']['addressu']!==void(0xf55*0x2+0x1ff9+-0x3ea3)&&(_0x1c300b['data']['addressu']=_0x1c300b['resource']['__data']['addressu']),_0x1c300b['resource']['__data']['addressv']!==void(0x8*-0x24b+0x12c1*-0x2+0x37da)&&(_0x1c300b['data']['addressv']=_0x1c300b['resource']['__data']['addressv']),_0x1c300b['resource']['__data']['mipmaps']!==void(0x9e9*0x3+-0xf72+0x4c3*-0x3)&&(_0x1c300b['data']['mipmaps']=_0x1c300b['resource']['__data']['mipmaps']),_0x1c300b['resource']['__data']['anisotropy']!==void(-0x1*0x2151+0x4a*0xf+0x1cfb)&&(_0x1c300b['data']['anisotropy']=_0x1c300b['resource']['__data']['anisotropy']),_0x1c300b['resource']['__data']['rgbm']!==void(0x18e8+0x22c7+-0x3baf)&&(_0x1c300b['data']['rgbm']=!!_0x1c300b['resource']['__data']['rgbm']),_0x1c300b['data']['frames']=_0x1c300b['resource']['__data']['frames'],delete _0x1c300b['resource']['__data']);const _0x1034f5=_0x1c300b['resource']['texture'];if(_0x1034f5&&(_0x1034f5['name']=_0x1c300b['name'],_0x1c300b['data']['hasOwnProp'+'erty']('minfilter')&&_0x1034f5['minFilter']!==Lc[_0x1c300b['data']['minfilter']]&&(_0x1034f5['minFilter']=Lc[_0x1c300b['data']['minfilter']]),_0x1c300b['data']['hasOwnProp'+'erty']('magfilter')&&_0x1034f5['magFilter']!==Lc[_0x1c300b['data']['magfilter']]&&(_0x1034f5['magFilter']=Lc[_0x1c300b['data']['magfilter']]),_0x1c300b['data']['hasOwnProp'+'erty']('addressu')&&_0x1034f5['addressU']!==Ic[_0x1c300b['data']['addressu']]&&(_0x1034f5['addressU']=Ic[_0x1c300b['data']['addressu']]),_0x1c300b['data']['hasOwnProp'+'erty']('addressv')&&_0x1034f5['addressV']!==Ic[_0x1c300b['data']['addressv']]&&(_0x1034f5['addressV']=Ic[_0x1c300b['data']['addressv']]),_0x1c300b['data']['hasOwnProp'+'erty']('mipmaps')&&_0x1034f5['mipmaps']!==_0x1c300b['data']['mipmaps']&&(_0x1034f5['mipmaps']=_0x1c300b['data']['mipmaps']),_0x1c300b['data']['hasOwnProp'+'erty']('anisotropy')&&_0x1034f5['anisotropy']!==_0x1c300b['data']['anisotropy']&&(_0x1034f5['anisotropy']=_0x1c300b['data']['anisotropy']),_0x1c300b['data']['hasOwnProp'+'erty']('rgbm'))){const _0x3e3a95=_0x1c300b['data']['rgbm']?Zi:Ds;_0x1034f5['type']!==_0x3e3a95&&(_0x1034f5['type']=_0x3e3a95);}_0x1c300b['resource']['texture']=_0x1034f5;const _0x40e7f9={};for(const _0x4240bd in _0x1c300b['data']['frames']){const _0x203153=_0x1c300b['data']['frames'][_0x4240bd];_0x40e7f9[_0x4240bd]={'rect':new re(_0x203153['rect']),'pivot':new J(_0x203153['pivot']),'border':new re(_0x203153['border'])};}_0x1c300b['resource']['frames']=_0x40e7f9,_0x1c300b['off']('change',this['_onAssetCh'+'ange'],this),_0x1c300b['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x710f8c,_0x2d6b86,_0x3ff95e){let _0x4b067b;if(_0x2d6b86==='data'||_0x2d6b86==='data.frame'+'s'){const _0x4d6508={};for(const _0x2b6fd8 in _0x3ff95e['frames'])_0x4b067b=_0x3ff95e['frames'][_0x2b6fd8],_0x4d6508[_0x2b6fd8]={'rect':new re(_0x4b067b['rect']),'pivot':new J(_0x4b067b['pivot']),'border':new re(_0x4b067b['border'])};_0x710f8c['resource']['frames']=_0x4d6508;}else{const _0x41c501=_0x2d6b86['match'](Fk);if(_0x41c501){const _0xddeb14=_0x41c501[-0x1*0x608+0x18b6+0x2ab*-0x7];_0x3ff95e?(_0x710f8c['resource']['frames'][_0xddeb14]?(_0x4b067b=_0x710f8c['resource']['frames'][_0xddeb14],_0x4b067b['rect']['set'](_0x3ff95e['rect'][0x1+0x1a9*-0x3+0x4fa],_0x3ff95e['rect'][0x15*0x17b+-0x19e5*-0x1+-0x38fb],_0x3ff95e['rect'][0x1a4c+-0x72d+-0x131d],_0x3ff95e['rect'][0x2*0x1303+-0x733*0x3+-0x106a]),_0x4b067b['pivot']['set'](_0x3ff95e['pivot'][0x1f*0xbf+-0xce*0xa+0x15f*-0xb],_0x3ff95e['pivot'][-0x393*-0x2+0x1*-0xd3+-0x652]),_0x4b067b['border']['set'](_0x3ff95e['border'][-0x6c4+0x1670+-0xfac],_0x3ff95e['border'][-0x25f9+0x417+0x21e3],_0x3ff95e['border'][-0x7f*-0x15+-0xe1b+0x16*0x2b],_0x3ff95e['border'][-0x40e*0x6+-0x458*-0x4+-0x1*-0x6f7])):_0x710f8c['resource']['frames'][_0xddeb14]={'rect':new re(_0x3ff95e['rect']),'pivot':new J(_0x3ff95e['pivot']),'border':new re(_0x3ff95e['border'])},_0x710f8c['resource']['fire']('set:frame',_0xddeb14,_0x710f8c['resource']['frames'][_0xddeb14])):_0x710f8c['resource']['frames'][_0xddeb14]&&(delete _0x710f8c['resource']['frames'][_0xddeb14],_0x710f8c['resource']['fire']('remove:fra'+'me',_0xddeb14));}}}}function kk(){const _0x5c6b65={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x5a670b={'astc':_0x5c6b65['cTFASTC_4x'+'4'],'dxt':_0x5c6b65['cTFBC1'],'etc1':_0x5c6b65['cTFETC1'],'etc2':_0x5c6b65['cTFETC1'],'pvr':_0x5c6b65['cTFPVRTC1_'+'4_RGB'],'atc':_0x5c6b65['cTFATC_RGB'],'none':_0x5c6b65['cTFRGB565']},_0x455d47={'astc':_0x5c6b65['cTFASTC_4x'+'4'],'dxt':_0x5c6b65['cTFBC3'],'etc1':_0x5c6b65['cTFRGBA444'+'4'],'etc2':_0x5c6b65['cTFETC2'],'pvr':_0x5c6b65['cTFPVRTC1_'+'4_RGBA'],'atc':_0x5c6b65['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x5c6b65['cTFRGBA444'+'4']},_0x1900e4={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x409ae4=(_0x5e050d,_0x4d9c46)=>{switch(_0x5e050d){case _0x5c6b65['cTFETC1']:return _0x4d9c46['formats']['etc2']?_0x1900e4['ETC2_RGB']:_0x1900e4['ETC1'];case _0x5c6b65['cTFETC2']:return _0x1900e4['ETC2_RGBA'];case _0x5c6b65['cTFBC1']:return _0x1900e4['DXT1'];case _0x5c6b65['cTFBC3']:return _0x1900e4['DXT5'];case _0x5c6b65['cTFPVRTC1_'+'4_RGB']:return _0x1900e4['PVRTC_4BPP'+'_RGB_1'];case _0x5c6b65['cTFPVRTC1_'+'4_RGBA']:return _0x1900e4['PVRTC_4BPP'+'_RGBA_1'];case _0x5c6b65['cTFASTC_4x'+'4']:return _0x1900e4['ASTC_4x4'];case _0x5c6b65['cTFATC_RGB']:return _0x1900e4['ATC_RGB'];case _0x5c6b65['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x1900e4['ATC_RGBA'];case _0x5c6b65['cTFRGBA32']:return _0x1900e4['R8_G8_B8_A'+'8'];case _0x5c6b65['cTFRGB565']:return _0x1900e4['R5_G6_B5'];case _0x5c6b65['cTFRGBA444'+'4']:return _0x1900e4['R4_G4_B4_A'+'4'];}},_0x37912a=_0x38b05a=>{const _0x3d8402=function(_0x2ad0b4,_0x24c5ea){const _0x2830e1=_0x2ad0b4*(0xb86+-0x1*-0x1265+0x45*-0x6f+0.00784313725490196)-(-0x1*0xa9f+0x2*-0xbb2+0x2204),_0x1fac18=_0x24c5ea*((-0x267c+0x1*0x1ccf+-0x9af*-0x1)/(0x1*-0x2284+0xc39*-0x1+0x2fbc))-(-0x10d7*0x2+0x11*0x89+-0x6*-0x419),_0x385e23=Math['sqrt'](-0x1cb5*-0x1+0x4*-0xca+0x5*-0x51c-Math['min'](0x1*-0x37f+0x112a+-0xdaa,_0x2830e1*_0x2830e1+_0x1fac18*_0x1fac18));return Math['max'](0xf4c+-0xe*0xca+-0x440,Math['min'](-0x1027+0x243c+-0x7*0x2ba,Math['floor']((_0x385e23+(-0x1*0x1e89+-0x1a72+0x38fc))*(0x1*-0x16a1+0x1dfa+-0x759+0.5)*(0x1507+0x6d9*0x2+-0x21ba))));};for(let _0xbf149f=-0xa*-0x228+0xb29+-0x20b9;_0xbf149f<_0x38b05a['length'];_0xbf149f+=0x1ba4+0x532*0x2+-0x32b*0xc){const _0x1b02fc=_0x38b05a[_0xbf149f+(-0x41b+-0x3e6*-0x4+-0x2*0x5bd)],_0x764bf0=_0x38b05a[_0xbf149f+(0x1*0x6dd+-0x4*0x5a4+-0x7da*-0x2)];_0x38b05a[_0xbf149f+(-0xc88+0x199c*-0x1+0x2*0x1312)]=_0x1b02fc,_0x38b05a[_0xbf149f+(-0x1*-0xfef+0x1360+-0x234d)]=_0x3d8402(_0x1b02fc,_0x764bf0),_0x38b05a[_0xbf149f+(-0x1*0xd03+-0x4*0x6f7+0x2*0x1471)]=0x39*0x4d+-0x264e+0x8*0x2c5;}return _0x38b05a;},_0x1f7b7b=_0x3b0796=>{const _0x23e967=new Uint16Array(_0x3b0796['length']/(0xa4*0xa+0x3c4+0xc8*-0xd));for(let _0x2c49ba=0x1*0x2c4+-0x1029+0xd65;_0x2c49ba<_0x3b0796['length'];_0x2c49ba+=-0x1dba+-0x1b*0x4+0x1e2a){const _0x50620d=_0x3b0796[_0x2c49ba+(0x1819+0x22c4+-0x3add)],_0x5d9733=_0x3b0796[_0x2c49ba+(-0x8f0+0x6c0+0x231)],_0x496cb9=_0x3b0796[_0x2c49ba+(0x259b+-0x6e2+-0x1eb7)];_0x23e967[_0x2c49ba/(0x5f*0x3a+0x1943+-0x2ec5)]=(_0x50620d&0x1*-0x1f85+0x1f*0x13f+-0x3*0x20c)<<-0x1266+0x31*0x3d+-0x5b*-0x13|(_0x5d9733&0xad*-0x16+-0xae6+0x6b0*0x4)<<0xa2d+-0x1ca*0xe+0xee2|_0x496cb9>>-0x2286+0x1136*0x2+0x1d;}return _0x23e967;},_0x19defe=(_0x16d5ac,_0x312630)=>(_0x16d5ac&_0x16d5ac-(-0x46*-0x4+0xf3+0x1d*-0x12))===0x11a5+0x184b+-0x3d0*0xb&&(_0x312630&_0x312630-(0x118f+-0xa*-0x3da+-0x3812))===0xbfb*0x3+0x1*0x10ad+-0x349e,_0x203332=()=>typeof performance<'u'?performance['now']():-0x1226+-0x5*-0x289+0x579;let _0x2e49e6,_0xef8e36,_0x430d05;const _0xac36dd=(_0x2939a9,_0x461924,_0x6084dc)=>{if(_0x6084dc){if(_0x2939a9['formats']['astc'])return'astc';}else{if(_0x461924){if(_0x2939a9['formats']['etc2'])return'etc2';}else{if(_0x2939a9['formats']['etc2'])return'etc2';if(_0x2939a9['formats']['etc1'])return'etc1';}}return(_0x1e3c2c=>{for(let _0x4f7668=0x54*0x3b+0xdb*-0x7+-0xd5f;_0x4f7668<_0x1e3c2c['length'];++_0x4f7668){const _0x4980d5=_0x1e3c2c[_0x4f7668];if(_0x2939a9['formats'][_0x4980d5])return _0x4980d5;}return'none';})(_0x461924?_0x430d05:_0xef8e36);},_0x37e4a3=(_0x5a5201,_0x5b9151,_0x39e54e)=>{switch(_0x39e54e){case _0x5c6b65['cTFETC1']:case _0x5c6b65['cTFETC2']:return!(0x1*0x25cd+-0xfa7+-0x1626);case _0x5c6b65['cTFBC1']:case _0x5c6b65['cTFBC3']:return(_0x5a5201&-0xef8+-0xc86*0x3+-0xb*-0x4c7)===-0x2*0x1045+0xf81*-0x2+0x3f8c&&(_0x5b9151&-0x31c*0x8+-0x1640+0x2f23)===0x23c9+-0x22a3+-0x126;case _0x5c6b65['cTFPVRTC1_'+'4_RGB']:case _0x5c6b65['cTFPVRTC1_'+'4_RGBA']:return _0x19defe(_0x5a5201,_0x5b9151);case _0x5c6b65['cTFASTC_4x'+'4']:return!(-0x1*0x2512+-0xeb7*-0x1+0x1*0x165b);case _0x5c6b65['cTFATC_RGB']:case _0x5c6b65['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(-0x13d*-0x3+-0x22bc+0x1f05);}return!(0x2686+0x24d2+-0x9*0x85f);},_0xd77e6a=(_0x5bd8e0,_0x3b0aa0,_0xab6096)=>{if(!_0x2e49e6['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x28341a=_0x203332(),_0x457e14=new _0x2e49e6['KTX2File'](new Uint8Array(_0x3b0aa0)),_0x10d7c1=_0x457e14['getWidth'](),_0x191c6f=_0x457e14['getHeight'](),_0x3bd7b3=_0x457e14['getLevels'](),_0x25459a=!!_0x457e14['getHasAlph'+'a'](),_0x9c0d1f=_0x457e14['isUASTC']&&_0x457e14['isUASTC']();if(!_0x10d7c1||!_0x191c6f||!_0x3bd7b3)throw _0x457e14['close'](),_0x457e14['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x5bd8e0+'\x20width='+_0x10d7c1+'\x20height='+_0x191c6f+'\x20levels='+_0x3bd7b3);const _0x51785c=_0xac36dd(_0xab6096['deviceDeta'+'ils'],_0x25459a,_0x9c0d1f),_0x359e32=!!_0xab6096['isGGGR']&&_0x51785c==='pvr';let _0xec7527;if(_0x359e32?_0xec7527=_0x5c6b65['cTFRGBA32']:(_0xec7527=_0x25459a?_0x455d47[_0x51785c]:_0x5a670b[_0x51785c],_0x37e4a3(_0x10d7c1,_0x191c6f,_0xec7527)||(_0xec7527=_0x25459a?_0x5c6b65['cTFRGBA32']:_0x5c6b65['cTFRGB565'])),!_0x457e14['startTrans'+'coding']())throw _0x457e14['close'](),_0x457e14['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x5bd8e0);let _0x874124;const _0x147dba=[];for(let _0x392522=0xc8e+-0x677+0x617*-0x1;_0x392522<_0x3bd7b3;++_0x392522){const _0x2ead85=_0x457e14['getImageTr'+'anscodedSi'+'zeInBytes'](_0x392522,0x224*0x3+-0x737*0x3+0xf39,0x269d+0x1*-0x20e7+-0x1*0x5b6,_0xec7527),_0x311e4b=new Uint8Array(_0x2ead85);if(!_0x457e14['transcodeI'+'mage'](_0x311e4b,_0x392522,-0x1cb7*-0x1+-0x20bd+0x2*0x203,0x4*0x985+0x1*-0x2349+-0x2cb,_0xec7527,0x25f4+0x1*-0x106a+0xac5*-0x2,-(-0x168a+0x1b*-0x72+-0x2291*-0x1),-(0x204f+-0xe3*0x9+0x1853*-0x1)))throw _0x457e14['close'](),_0x457e14['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x5bd8e0);const _0x38e7f7=_0xec7527===_0x5c6b65['cTFRGB565']||_0xec7527===_0x5c6b65['cTFRGBA444'+'4'];_0x147dba['push'](_0x38e7f7?new Uint16Array(_0x311e4b['buffer']):_0x311e4b);}if(_0x457e14['close'](),_0x457e14['delete'](),_0x359e32){for(_0xec7527=_0x5c6b65['cTFRGB565'],_0x874124=0x1a76+-0xb83*-0x1+-0x25f9*0x1;_0x874124<_0x147dba['length'];++_0x874124)_0x147dba[_0x874124]=_0x1f7b7b(_0x37912a(_0x147dba[_0x874124]));}return{'format':_0x409ae4(_0xec7527,_0xab6096['deviceDeta'+'ils']),'width':_0x10d7c1,'height':_0x191c6f,'levels':_0x147dba,'cubemap':!(-0x1bd6+0x2634+-0xa5d),'transcodeTime':_0x203332()-_0x28341a,'url':_0x5bd8e0,'unswizzledGGGR':_0x359e32};},_0x57f169=(_0x144a7c,_0x272d7c,_0xf68ecd)=>{const _0x2aaf09=_0x203332(),_0x5a448c=new _0x2e49e6['BasisFile'](new Uint8Array(_0x272d7c)),_0x5a9a97=_0x5a448c['getImageWi'+'dth'](-0x1618+0x1bc5+-0x1*0x5ad,-0xf3c+-0x4*0x29f+0x337*0x8),_0x560937=_0x5a448c['getImageHe'+'ight'](0x1b56+-0x833+-0x1323,0x25ce+0x1*-0xe21+-0x17ad),_0xdd349a=_0x5a448c['getNumImag'+'es'](),_0x2c78f6=_0x5a448c['getNumLeve'+'ls'](-0xd54+-0x1c94+0x29e8),_0x5ab3d0=!!_0x5a448c['getHasAlph'+'a'](),_0x5016e3=_0x5a448c['isUASTC']&&_0x5a448c['isUASTC']();if(!_0x5a9a97||!_0x560937||!_0xdd349a||!_0x2c78f6)throw _0x5a448c['close'](),_0x5a448c['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x144a7c+'\x20width='+_0x5a9a97+'\x20height='+_0x560937+'\x20images='+_0xdd349a+'\x20levels='+_0x2c78f6);const _0x341be0=_0xac36dd(_0xf68ecd['deviceDeta'+'ils'],_0x5ab3d0,_0x5016e3),_0x21a7ce=!!_0xf68ecd['isGGGR']&&_0x341be0==='pvr';let _0xac34fc;if(_0x21a7ce?_0xac34fc=_0x5c6b65['cTFRGBA32']:(_0xac34fc=_0x5ab3d0?_0x455d47[_0x341be0]:_0x5a670b[_0x341be0],_0x37e4a3(_0x5a9a97,_0x560937,_0xac34fc)||(_0xac34fc=_0x5ab3d0?_0x5c6b65['cTFRGBA32']:_0x5c6b65['cTFRGB565'])),!_0x5a448c['startTrans'+'coding']())throw _0x5a448c['close'](),_0x5a448c['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x144a7c);let _0x45cf7b;const _0x26a12d=[];for(let _0x364225=-0x37f+-0x1*0x261+0x5e0;_0x364225<_0x2c78f6;++_0x364225){const _0x243d7a=_0x5a448c['getImageTr'+'anscodedSi'+'zeInBytes'](-0x2230+0x9ad*-0x3+0x3f37,_0x364225,_0xac34fc),_0xb54060=new Uint8Array(_0x243d7a);if(!_0x5a448c['transcodeI'+'mage'](_0xb54060,-0xd0a+0x1*0x1c6a+-0xf60,_0x364225,_0xac34fc,0x14d4+-0x6*0x4b3+-0x52*-0x17,0x1a66+0x2f*-0xd+-0x1803)){if(_0x364225===_0x2c78f6-(-0xa*-0x14b+-0xb17+-0x1d6)&&_0x243d7a===_0x26a12d[_0x364225-(0x66*-0x31+0x2*0x379+0xc95)]['buffer']['byteLength'])_0xb54060['set'](new Uint8Array(_0x26a12d[_0x364225-(-0x9ed*-0x3+-0xd1f+-0x10a7)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0x144a7c);else throw _0x5a448c['close'](),_0x5a448c['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x144a7c);}const _0x562685=_0xac34fc===_0x5c6b65['cTFRGB565']||_0xac34fc===_0x5c6b65['cTFRGBA444'+'4'];_0x26a12d['push'](_0x562685?new Uint16Array(_0xb54060['buffer']):_0xb54060);}if(_0x5a448c['close'](),_0x5a448c['delete'](),_0x21a7ce){for(_0xac34fc=_0x5c6b65['cTFRGB565'],_0x45cf7b=-0x1*-0x16+-0x1116+0x100*0x11;_0x45cf7b<_0x26a12d['length'];++_0x45cf7b)_0x26a12d[_0x45cf7b]=_0x1f7b7b(_0x37912a(_0x26a12d[_0x45cf7b]));}return{'format':_0x409ae4(_0xac34fc,_0xf68ecd['deviceDeta'+'ils']),'width':_0x5a9a97,'height':_0x560937,'levels':_0x26a12d,'cubemap':!(0xb95*0x3+-0x9d4+-0x18ea),'transcodeTime':_0x203332()-_0x2aaf09,'url':_0x144a7c,'unswizzledGGGR':_0x21a7ce};},_0xa21397=(_0x1951fc,_0x53d300,_0x29d5d0)=>_0x29d5d0['isKTX2']?_0xd77e6a(_0x1951fc,_0x53d300,_0x29d5d0):_0x57f169(_0x1951fc,_0x53d300,_0x29d5d0),_0x5635ef=(_0xaecc02,_0x6455eb,_0x1983e1)=>{try{const _0x1f3f71=_0xa21397(_0xaecc02,_0x6455eb,_0x1983e1);_0x1f3f71['levels']=_0x1f3f71['levels']['map'](_0x4ee17a=>_0x4ee17a['buffer']),self['postMessag'+'e']({'url':_0xaecc02,'data':_0x1f3f71},_0x1f3f71['levels']);}catch(_0x151c40){self['postMessag'+'e']({'url':_0xaecc02,'err':_0x151c40},null);}},_0x46eb96=(_0x5222c3,_0x1ab4ce)=>{const _0x25217d=(_0x57ecd2,_0x3898c1)=>(WebAssembly['instantiat'+'e'](_0x5222c3['module'],_0x57ecd2)['then'](_0x171d54=>{_0x3898c1(_0x171d54);})['catch'](_0x2319a8=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x2319a8);}),{});self['BASIS'](_0x5222c3['module']?{'instantiateWasm':_0x25217d}:null)['then'](_0x2b5bb4=>{_0x2b5bb4['initialize'+'Basis'](),_0x2e49e6=_0x2b5bb4,_0xef8e36=_0x5222c3['rgbPriorit'+'y'],_0x430d05=_0x5222c3['rgbaPriori'+'ty'],_0x1ab4ce(null);});},_0x3ef3b4=[];self['onmessage']=_0x2650a2=>{const _0x148077=_0x2650a2['data'];switch(_0x148077['type']){case'init':_0x46eb96(_0x148077['config'],()=>{for(let _0x4ee221=-0x5*0x232+-0x22a5+0x2d9f;_0x4ee221<_0x3ef3b4['length'];++_0x4ee221)_0x5635ef(_0x3ef3b4[_0x4ee221]['url'],_0x3ef3b4[_0x4ee221]['data'],_0x3ef3b4[_0x4ee221]['options']);_0x3ef3b4['length']=0x207d+-0x3*0x1be+-0x1b43;});break;case'transcode':_0x2e49e6?_0x5635ef(_0x148077['url'],_0x148077['data'],_0x148077['options']):_0x3ef3b4['push'](_0x148077);break;}};}const Uk=_0x2eb314=>({'astc':!!_0x2eb314['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x2eb314['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x2eb314['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x2eb314['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x2eb314['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x2eb314['extCompres'+'sedTexture'+'PVRTC']}),Bk=(_0x166a07,_0x59d1c)=>{const _0x30e09f=_0x190015=>{const _0x13ed5d=['/*\x20basis\x20*'+'/',_0x190015,'','('+kk['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0x13ed5d],{'type':'applicatio'+'n/javascri'+'pt'});},_0x16c271=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x1c676c=new WebAssembly['Module'](Uint8Array['of'](-0x1a80+0x36f*0x7+0x277,0x289*-0xb+0x3cb*-0x3+0x27a5,-0x1da9+0x53*-0x49+0x35c7,-0x2604+-0xf5b+-0x16*-0x272,-0x4d2+0x258c*0x1+-0x1*0x20b9,0xfec+0xd5c+-0x1d48,0x2125+-0x3*0x282+0x1*-0x199f,-0xb8*0xe+0x2*0x801+-0x5f2));if(_0x1c676c instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x1c676c)instanceof WebAssembly['Instance'];}}catch{}return!(-0x7e8*0x3+0x9*0x1b+0x6a*0x37);},_0x51ff63=(_0x3eee91,_0x5ca072)=>{_0x59d1c(null,{'workerUrl':URL['createObje'+'ctURL'](_0x30e09f(_0x3eee91)),'module':_0x5ca072,'rgbPriority':_0x166a07['rgbPriorit'+'y'],'rgbaPriority':_0x166a07['rgbaPriori'+'ty']});},_0x3302c2={'cache':!(0x1f12+0xbe6*0x1+-0x2af8),'responseType':'text','retry':_0x166a07['maxRetries']>-0x196d+-0x113a+-0x3d*-0xb3,'maxRetries':_0x166a07['maxRetries']};if(_0x166a07['glueUrl']&&_0x166a07['wasmUrl']&&_0x16c271()){let _0x34f7d9=null,_0x49809f=null;ot['get'](_0x166a07['glueUrl'],_0x3302c2,(_0x3eb240,_0x49eede)=>{_0x3eb240?_0x59d1c(_0x3eb240):_0x49809f?_0x51ff63(_0x49eede,_0x49809f):_0x34f7d9=_0x49eede;});const _0x6e0bc9=fetch(_0x166a07['wasmUrl']),_0x2b297e=()=>{_0x6e0bc9['then'](_0x239a20=>_0x239a20['arrayBuffe'+'r']())['then'](_0x4962a9=>WebAssembly['compile'](_0x4962a9))['then'](_0x519717=>{_0x34f7d9?_0x51ff63(_0x34f7d9,_0x519717):_0x49809f=_0x519717;})['catch'](_0x362fa0=>{_0x59d1c(_0x362fa0,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x6e0bc9)['then'](_0x594da0=>{_0x34f7d9?_0x51ff63(_0x34f7d9,_0x594da0):_0x49809f=_0x594da0;})['catch'](_0x34cac3=>{w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x166a07['wasmUrl']+'\x20('+_0x34cac3+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x2b297e();}):_0x2b297e();}else ot['get'](_0x166a07['fallbackUr'+'l'],_0x3302c2,(_0x6abdc7,_0x1018ba)=>{_0x6abdc7?_0x59d1c(_0x6abdc7,null):_0x51ff63(_0x1018ba,null);});};class zk{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x57a3c3,_0x2df9c4,_0x3dd805,_0x290999){if(this['callbacks']['hasOwnProp'+'erty'](_0x57a3c3))this['callbacks'][_0x57a3c3]['push'](_0x3dd805);else{this['callbacks'][_0x57a3c3]=[_0x3dd805];const _0x5eba80={'url':_0x57a3c3,'data':_0x2df9c4,'options':_0x290999};this['clients']['length']>0x2273+0x89f+-0x2b12?this['clients']['shift']()['run'](_0x5eba80):this['queue']['push'](_0x5eba80);}}['enqueueCli'+'ent'](_0x87b7e7){this['queue']['length']>0x12c3*0x1+-0x1d01+0xa3e?_0x87b7e7['run'](this['queue']['shift']()):this['clients']['push'](_0x87b7e7);}['handleResp'+'onse'](_0x53359b,_0x357cde,_0x3293e2){const _0x4a7e29=this['callbacks'][_0x53359b];if(_0x357cde){for(let _0x454050=0x1036+-0x8*0xf9+0xd*-0xa6;_0x454050<_0x4a7e29['length'];++_0x454050)_0x4a7e29[_0x454050](_0x357cde);}else{_0x3293e2['format']===Jh||_0x3293e2['format']===ed?_0x3293e2['levels']=_0x3293e2['levels']['map'](_0x14423d=>new Uint16Array(_0x14423d)):_0x3293e2['levels']=_0x3293e2['levels']['map'](_0x194c8b=>new Uint8Array(_0x194c8b));for(let _0xbb0b5e=0x5*0x3eb+-0x1efb+0x3*0x3cc;_0xbb0b5e<_0x4a7e29['length'];++_0xbb0b5e)_0x4a7e29[_0xbb0b5e](null,_0x3293e2);}delete this['callbacks'][_0x53359b];}}class Vk{constructor(_0x47cb98,_0x5ae45d,_0x320ecf){this['queue']=_0x47cb98,this['worker']=new Worker(_0x5ae45d['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x56f1ba=>{const _0x34588c=_0x56f1ba['data'];this['queue']['handleResp'+'onse'](_0x34588c['url'],_0x34588c['err'],_0x34588c['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x5ae45d}),this['eager']=_0x320ecf;}['run'](_0x4100f6){const _0x3a819e=[];_0x4100f6['data']instanceof ArrayBuffer&&_0x3a819e['push'](_0x4100f6['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x4100f6['url'],'format':_0x4100f6['format'],'data':_0x4100f6['data'],'options':_0x4100f6['options']},_0x3a819e),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const Gk=0x10d7+0x11e8+-0x22be,Hk=['etc2','etc1','astc','dxt','pvr','atc'],Wk=['astc','dxt','etc2','pvr','atc'],$k=-0x180c+-0x7cc+0x1*0x1fdd,Xu=new zk();let xS=null,qu=!(-0x132*-0x19+-0x1c4b+-0x196);function Xk(_0x31f662){if(!qu){if(!_0x31f662)_0x31f662=xS||{};else{if(_0x31f662['lazyInit']){xS=_0x31f662;return;}}if(!_0x31f662['glueUrl']||!_0x31f662['wasmUrl']||!_0x31f662['fallbackUr'+'l']){const _0x3421b2=YS['getConfig']('BASIS');_0x3421b2&&(_0x31f662={'glueUrl':_0x3421b2['glueUrl'],'wasmUrl':_0x3421b2['wasmUrl'],'fallbackUrl':_0x3421b2['fallbackUr'+'l'],'numWorkers':_0x3421b2['numWorkers']});}if(_0x31f662['glueUrl']||_0x31f662['wasmUrl']||_0x31f662['fallbackUr'+'l']){qu=!(0x5d5*0x4+0x147d+-0x2bd1);const _0x229972=Math['max'](0x955+-0x15c2+-0xc6e*-0x1,Math['min'](0x185c*-0x1+-0x69*0x57+0x3c1b,_0x31f662['numWorkers']||Gk)),_0x5a1914=_0x31f662['numWorkers']===-0x1fff+0x82e+0xbe9*0x2||(_0x31f662['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x31f662['eagerWorke'+'rs']:!(0x11b5*-0x1+0x5*0x19b+0x9ae));_0x31f662['rgbPriorit'+'y']=_0x31f662['rgbPriorit'+'y']||Hk,_0x31f662['rgbaPriori'+'ty']=_0x31f662['rgbaPriori'+'ty']||Wk,_0x31f662['maxRetries']=_0x31f662['hasOwnProp'+'erty']('maxRetries')?_0x31f662['maxRetries']:$k,Bk(_0x31f662,(_0x3372da,_0xa2509f)=>{if(_0x3372da)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x3372da);else{for(let _0x396047=0x32b*-0xb+0x5c8+-0x7*-0x427;_0x396047<_0x229972;++_0x396047)Xu['enqueueCli'+'ent'](new Vk(Xu,_0xa2509f,_0x5a1914));}});}}}let Df=null;function b0(_0x4744c2,_0xeeb2f2,_0x55c953,_0x180937,_0x216e65){return Xk(),Df||(Df={'formats':Uk(_0x4744c2)}),Xu['enqueueJob'](_0xeeb2f2,_0x55c953,_0x180937,{'deviceDetails':Df,'isGGGR':!!(_0x216e65!=null&&_0x216e65['isGGGR']),'isKTX2':!!(_0x216e65!=null&&_0x216e65['isKTX2'])}),qu;}class eo{['load'](_0xb7f633,_0x12b27f,_0x421c04){throw new Error('not\x20implem'+'ented');}['open'](_0x1dc42a,_0x4bad49,_0x1e0b1b){throw new Error('not\x20implem'+'ented');}}class qk extends eo{constructor(_0x5bcddc,_0x2c1cb8){super(),this['device']=_0x2c1cb8,this['maxRetries']=-0x1943+0x654+0x12ef;}['load'](_0x238f08,_0x59b8d4,_0x2ed1b5){const _0x365783=this['device'],_0x48ab4f=_0xb790c8=>{var _0xd76585,_0x2edcbb,_0x4276cb;b0(_0x365783,_0x238f08['load'],_0xb790c8,_0x59b8d4,{'isGGGR':(((_0x4276cb=(_0x2edcbb=(_0xd76585=_0x2ed1b5==null?void(-0x7*0x1df+-0x16*0x47+-0x5*-0x3d7):_0x2ed1b5['file'])==null?void(0x639+-0x1ab3+0x147a*0x1):_0xd76585['variants'])==null?void(-0x1b65*0x1+-0x2c8*-0x4+0x1045):_0x2edcbb['basis'])==null?void(-0x89+0x126c+-0x11e3*0x1):_0x4276cb['opt'])&-0x1*-0x11c3+0x61+-0x121c)!==0xcbf+0x40+-0xcff})||_0x59b8d4('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x2ed1b5['name']+']('+_0x2ed1b5['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};pe['fetchArray'+'Buffer'](_0x238f08['load'],(_0x1e8df5,_0x55fefb)=>{_0x1e8df5?_0x59b8d4(_0x1e8df5):_0x48ab4f(_0x55fefb);},_0x2ed1b5,this['maxRetries']);}['open'](_0x241421,_0x259368,_0x4158ff,_0x10c7eb={}){const _0x37035e=_0x10c7eb['srgb']?ld(_0x259368['format']):_0x259368['format'],_0x3ae34b=new _e(_0x4158ff,{'name':_0x241421,'profilerHint':Pr,'addressU':_0x259368['cubemap']?ue:yt,'addressV':_0x259368['cubemap']?ue:yt,'width':_0x259368['width'],'height':_0x259368['height'],'format':_0x37035e,'cubemap':_0x259368['cubemap'],'levels':_0x259368['levels'],..._0x10c7eb});return _0x3ae34b['upload'](),_0x3ae34b;}}const A0=new Uint8Array([0xb*0x107+0x4*-0x26f+-0x108,0x1*-0x3f2+-0x65f*-0x2+-0x87c,-0xdf8+0x2*-0x823+0xe6*0x22,0xfe5*0x1+0x657+-0x15f5,-0xa81+-0x44*0x2c+0x4e*0x49,0x1016+0x797+-0x17a3,0x382*-0x2+-0x7*0x522+0x2*0x1586,-0x1*0xf86+0x1463+-0x4d3,0xd85+0xab1+-0x1*0x1836,-0x5*-0x5f7+-0x13e+-0x1c95,0x1ad5+0x106*-0x13+-0x1*0x763,-0x847+0x3b*0xa2+-0x1d02,0x64c+0x1a33+0x24d*-0xe,0x975+-0x204+-0x2f*0x27,-0x2238+-0x271+-0x89*-0x45,0xc00+-0x1*-0xd12+-0x18c0,0x1807+0x5*-0x3ed+0x2*-0x233,0xa8e+-0x1*-0x5db+-0x1069,0x168b+0x1*-0x1ac8+0x43d,0xd83+-0x15bd*-0x1+-0x233f,-0x3c*-0x51+0x50f*-0x7+0x106d,-0x24b+-0x115*-0x11+-0x1*0x101a,0x332*0xa+-0x1307+0x44f*-0x3,-0x1a71+0x1913+-0x3*-0x75,0x47*0x84+0x1312+0x2*-0x1bd3,-0x77b+-0x2040+0x27c1,-0x8*-0x363+0x1677+-0x318f,-0x26a5+0x945+-0x10*-0x1d6,-0x10a7+0x80c+-0x89b*-0x1,-0x188f+-0xd15+0x25c3,0x1fc3*0x1+0x29a+-0x2248,-0x12ed+0x3*-0xe3+0x165a,0x1e65+0x1aac+-0x8*0x711,0x4*-0xdd+0x382*-0x8+0x1f84,-0x5f3*0x3+0x988+0x851,-0x6f5+-0x4*0x709+0x2319,-0x22d0+0x1fd3+0x185*0x2,-0x188d+0x41*-0x31+0x2547,-0x2104*0x1+0x90b*-0x1+0x2a53,-0x1d49+0x111f+0xc6b,-0x2*0xed5+-0x6c8+0x24c6,0x1660+-0xac4+-0xb24,-0x3*-0x6fd+0x2445+-0x3862,0x3c*-0x97+-0x48b*0x8+0x481f,0x17f2+0xb05+-0xa7*0x35,0xd7*0x1d+0x1ccf*0x1+-0x34c6,-0x4*0x916+-0x110+0x25ca,0x112d+-0xe*-0x28c+-0x341f*0x1,-0x3*0x20f+0x1d0f+-0x1*0x16db,0x224b+0x1*0x1316+0x38f*-0xf,0x1b7d+0x5*-0x631+-0x1*-0x378,-0xc*-0x197+0x253+0x1ea*-0xb,0x1*-0x188b+-0x1246+0x1*0x2ad1,0x88b*-0x1+0x7*0x103+0x5*0x59,-0x1627*0x1+-0xdd1+0x243b,0x25b5*0x1+-0x2065+-0x4cb,0x1f*-0x97+0xeea+0x3f3,0x4a*0x7+-0x1ca6+0x1b8d,0x13*0x167+0xa2d+-0xc46*0x3,0x16e4+-0xe9f+-0x845,-0x2*0x1fd+0x1512+-0x1118,0x26*-0x17+-0x168b+0x19f5,0x942+-0x23*0x33+-0x80*0x4,0x30b+-0x2095+0x1dcf,-0x7*0x272+-0xffc+0x4*0x85a,-0x29*-0xa7+0x2551+0x1fe6*-0x2,-0xb*0x311+0x18af+0x9ba,-0xb05+0x258d+-0x1a46,0x1050+0x2c*-0x31+-0x2*0x3c2,-0x26f4+0x518*-0x4+-0xcf*-0x4a]),C0=(_0x13af30,_0x59a7ac)=>{const _0x4ff39a=new _e(_0x13af30,{'width':0x1,'height':0x1,'format':Ne,'mipmaps':!(-0x1*0xece+0xf*0x1a1+0x70*-0x16),'levels':[_0x59a7ac]}),_0x15230c=new gt({'colorBuffer':_0x4ff39a,'depth':!(0x2366+0xc1+-0x2426)});_0x13af30['setFramebu'+'ffer'](_0x15230c['impl']['_glFrameBu'+'ffer']),_0x13af30['initRender'+'Target'](_0x15230c);const _0x13bf9d=new Uint8ClampedArray(-0xfa7+0x44*-0x63+-0x3*-0xdfd);return _0x13af30['gl']['readPixels'](0x2f3*0x5+-0x10a3*0x2+0x1*0x1287,0x1*0x5f9+0x25ee+0x2be7*-0x1,0x2b1+-0x109d+-0x73*-0x1f,-0x8d9*-0x2+-0x504+-0xcad,_0x13af30['gl']['RGBA'],_0x13af30['gl']['UNSIGNED_B'+'YTE'],_0x13bf9d),_0x15230c['destroy'](),_0x4ff39a['destroy'](),_0x13bf9d[-0x83*-0x22+-0x718+-0xa4e]===0x23f5+-0x91e+0x2af*-0xa&&_0x13bf9d[-0x16b5*-0x1+0xf*0xc2+-0xb2*0x31]===0x18b3+0xfbb+-0x286c&&_0x13bf9d[-0x2fe+0x1af9+0x17f9*-0x1]===0x12d*0x17+-0x1ccd+-0x3*-0x97&&_0x13bf9d[0x1*0x33d+0x1*0x83e+-0xb78]===0x214f+-0x20ca+-0xe*0x5;},jk=_0x5292cf=>createImageBitmap(new Blob([A0],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x4382a9=>C0(_0x5292cf,_0x4382a9))['catch'](_0x35d936=>!(0x8d2+0x464+0xa1*-0x15)),Yk=_0x27967f=>new Promise((_0x3fa57b,_0x53c5ec)=>{const _0x1367ed=new Image();_0x1367ed['src']=URL['createObje'+'ctURL'](new Blob([A0])),_0x1367ed['onload']=()=>{_0x3fa57b(C0(_0x27967f,_0x1367ed));};});class Kk{static['run'](_0x42340b){jk(_0x42340b)['then'](_0x30e6e0=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x30e6e0);}),Yk(_0x42340b)['then'](_0x204557=>{console['log']('imgElement'+'IsCorrect='+_0x204557);});}}class Zk extends eo{constructor(_0x1e09e9,_0x26d5af){super(),this['crossOrigi'+'n']=_0x1e09e9['prefix']?'anonymous':null,this['maxRetries']=-0x1*-0x200e+-0xd79+-0x1*0x1295,this['device']=_0x26d5af,mi['get']('IMG_ALPHA_'+'TEST')&&Kk['run'](this['device']);}['load'](_0x279df7,_0x542a20,_0x294677){var _0x77452a;const _0x50ccdb=!!((_0x77452a=_0x294677==null?void(-0x1*-0xb33+0x16b*0x17+-0x2bd0):_0x294677['file'])!=null&&_0x77452a['contents']);if(_0x50ccdb){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0x294677['file']['contents']]),_0x542a20);return;}_0x279df7={'load':URL['createObje'+'ctURL'](new Blob([_0x294677['file']['contents']])),'original':_0x279df7['original']};}const _0x54858a=(_0x45953c,_0x3eee18)=>{_0x50ccdb&&URL['revokeObje'+'ctURL'](_0x279df7['load']),_0x542a20(_0x45953c,_0x3eee18);};let _0x56357b;_0x294677&&_0x294677['options']&&_0x294677['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x56357b=_0x294677['options']['crossOrigi'+'n']:jn['test'](_0x279df7['load'])&&(_0x56357b=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x279df7['load'],_0x279df7['original'],_0x56357b,_0x54858a,_0x294677):this['_loadImage'](_0x279df7['load'],_0x279df7['original'],_0x56357b,_0x54858a);}['open'](_0x1285a5,_0x4a2f33,_0x43f794,_0x53f2cf={}){const _0x5e2d79=new _e(_0x43f794,{'name':_0x1285a5,'profilerHint':Pr,'width':_0x4a2f33['width'],'height':_0x4a2f33['height'],'format':_0x53f2cf['srgb']?_s:Ne,..._0x53f2cf});return _0x5e2d79['setSource'](_0x4a2f33),_0x5e2d79;}['_loadImage'](_0x5236c0,_0x23410e,_0x5d2dd4,_0x160a1c){const _0x1b3921=new Image();_0x5d2dd4&&(_0x1b3921['crossOrigi'+'n']=_0x5d2dd4);let _0xd93b92=0xf2f+-0x1cac+-0x1*-0xd7d;const _0x2f2cb2=this['maxRetries'];let _0x378e3e;_0x1b3921['onload']=function(){_0x160a1c(null,_0x1b3921);},_0x1b3921['onerror']=function(){if(!_0x378e3e){if(_0x2f2cb2>0x1fbb+-0x1482+-0xb39&&++_0xd93b92<=_0x2f2cb2){const _0x21850a=Math['pow'](-0xb92+-0x1bfc+0x2790,_0xd93b92)*(-0x11*-0x1e4+0x1b6*-0x11+-0x1*0x2aa);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x23410e+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x21850a+'ms...');const _0x79d37f=_0x5236c0['indexOf']('?')>=-0x1*0x11b5+0x1510+0x1*-0x35b?'&':'?';_0x378e3e=setTimeout(()=>{_0x1b3921['src']=_0x5236c0+_0x79d37f+'retry='+Date['now'](),_0x378e3e=null;},_0x21850a);}else _0x160a1c('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x23410e+'\x27');}},_0x1b3921['src']=_0x5236c0;}['_loadImage'+'Bitmap'](_0x427f13,_0x554b1b,_0x5f13ce,_0x27b948,_0x5cda10){const _0x71ca71={'cache':!(-0xc55+-0x1*0x1511+-0x6*-0x591),'responseType':'blob','retry':this['maxRetries']>0x1*-0xf29+-0x2282+0x31ab,'maxRetries':this['maxRetries'],'progress':_0x5cda10};ot['get'](_0x427f13,_0x71ca71,(_0x1246bb,_0x91f799)=>{_0x1246bb?_0x27b948(_0x1246bb):this['_loadImage'+'BitmapFrom'+'Blob'](_0x91f799,_0x27b948);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x44468e,_0x43c7bd){createImageBitmap(_0x44468e,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x406f57=>_0x43c7bd(null,_0x406f57))['catch'](_0xdeaccd=>_0x43c7bd(_0xdeaccd));}}const If=[0x9*-0xbfc8765+-0x8ca7be29+0x150dccc61,0xda5a565e+-0x1*-0xf42ed9f7+-0x11357ff35,-0x9158381+0x136b4c49+-0x3bbebb],Qk={0x83f0:td,0x83f2:op,0x83f3:vl,0x8d64:id,0x9274:cp,0x9278:hp,0x8c00:rd,0x8c01:xl,0x8c02:ad,0x8c03:Tl,0x8051:Cr,0x8058:Ne,0x8c41:lp,0x8c43:_s,0x8c3a:In,0x881b:ui,0x881a:nt};function Jk(_0x2c5f35,_0x9c5967,_0x3e995b,_0xedc89){return _0x2c5f35===In?new Uint32Array(_0x9c5967,_0x3e995b,_0xedc89/(0xe77+0x26f7+-0x356a)):new Uint8Array(_0x9c5967,_0x3e995b,_0xedc89);}class eU extends eo{constructor(_0x971a05){super(),this['maxRetries']=-0xb*0x31+0x1c4d+0x1df*-0xe;}['load'](_0x13d44b,_0x30ddbc,_0x31afac){pe['fetchArray'+'Buffer'](_0x13d44b['load'],_0x30ddbc,_0x31afac,this['maxRetries']);}['open'](_0x990955,_0x3af613,_0x404b61,_0x161a71={}){const _0x2ca14a=this['parse'](_0x3af613);if(!_0x2ca14a)return null;const _0x3c06f9=_0x161a71['srgb']?ld(_0x2ca14a['format']):_0x2ca14a['format'],_0x3b2859=new _e(_0x404b61,{'name':_0x990955,'profilerHint':Pr,'addressU':_0x2ca14a['cubemap']?ue:yt,'addressV':_0x2ca14a['cubemap']?ue:yt,'width':_0x2ca14a['width'],'height':_0x2ca14a['height'],'format':_0x3c06f9,'cubemap':_0x2ca14a['cubemap'],'levels':_0x2ca14a['levels'],..._0x161a71});return _0x3b2859['upload'](),_0x3b2859;}['parse'](_0x2cf3c9){const _0x165110=new Uint32Array(_0x2cf3c9);if(If[-0xd09+-0xc1c*0x1+0x1925]!==_0x165110[-0x2*0x132b+-0x1f01*0x1+0x171d*0x3]||If[0x1846+0xdaf*-0x2+0x319]!==_0x165110[0x2031+-0x2*-0x514+-0x21e*0x14]||If[-0x9ed+0xe5b*0x2+-0x13*0xfd]!==_0x165110[-0x1*0x1d78+-0x1a*0x108+0x384a])return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x404343={'endianness':_0x165110[-0x202+-0x2eb*-0x9+-0x183e],'glType':_0x165110[-0x1c17+0xbb*0x2+0x13*0x167],'glTypeSize':_0x165110[-0x459*0x7+0x1d1b*-0x1+0x3b8f],'glFormat':_0x165110[-0xd*-0x8c+0x9a*-0x2f+0x2a6*0x8],'glInternalFormat':_0x165110[0x18df+-0x1f22+0x5*0x142],'glBaseInternalFormat':_0x165110[-0xa8f+0x1c31+-0x119a],'pixelWidth':_0x165110[0x6*0x195+0x664*0x2+-0x163d],'pixelHeight':_0x165110[0x2*0x38d+0xbd1+0x3*-0x64b],'pixelDepth':_0x165110[-0xd6+0x1d1b+-0x1c3a],'numberOfArrayElements':_0x165110[-0x1*0x1079+0x1*-0xd8d+-0x503*-0x6],'numberOfFaces':_0x165110[-0xb1+-0xd*-0x27+-0x13d],'numberOfMipmapLevels':_0x165110[0x31*-0x29+-0x13*-0x12a+-0xe37],'bytesOfKeyValueData':_0x165110[-0xf8f*-0x1+0x673*-0x2+-0x29a]};if(_0x404343['pixelDepth']>0x365*-0xa+0x129+0x3*0xaee)return w['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x404343['numberOfAr'+'rayElement'+'s']!==-0x1*-0x4d7+0x878+-0xd4f)return w['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x3087e7=Qk[_0x404343['glInternal'+'Format']];if(_0x3087e7===void(0xa6*-0x11+-0xa*0x148+0x3f9*0x6))return w['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x404343['glInternal'+'Format']),null;let _0x30f102=0x1*-0x1cbb+0x21e2+-0x1*0x517+_0x404343['bytesOfKey'+'ValueData']/(-0x200c+-0x163c+-0xa*-0x56e);const _0x53bfe6=_0x404343['numberOfFa'+'ces']>0x1cbc+-0x2021+0x122*0x3,_0x28239b=[];for(let _0x561da0=0xb*0x3c+0x2545+0x1*-0x27d9;_0x561da0<(_0x404343['numberOfMi'+'pmapLevels']||-0x2401+0x274*0x9+0xdee);_0x561da0++){const _0x1b12dc=_0x165110[_0x30f102++];_0x53bfe6&&_0x28239b['push']([]);const _0x51d7d3=_0x53bfe6?_0x28239b[_0x561da0]:_0x28239b;for(let _0x5d214d=0xe4+0x11*0x49+-0x5bd;_0x5d214d<(_0x53bfe6?-0xefd+-0x13dd+0x22e0:-0x1*0xf19+0x1e29+-0xf0f);++_0x5d214d)_0x51d7d3['push'](Jk(_0x3087e7,_0x2cf3c9,_0x30f102*(-0x5*0x167+0x1*0x1c9+-0x16*-0x3d),_0x1b12dc)),_0x30f102+=_0x1b12dc+(0x12fb*0x1+0x767+-0x1a5f)>>-0x3*0x88e+-0x250c+-0x9*-0x6f8;}return{'format':_0x3087e7,'width':_0x404343['pixelWidth'],'height':_0x404343['pixelHeigh'+'t'],'levels':_0x28239b,'cubemap':_0x53bfe6};}}const tU={'KHR_DF_MODEL_UASTC':0xa6};class sU extends eo{constructor(_0x1888dd,_0x505b41){super(),this['maxRetries']=0x8a2+0x1b71*-0x1+0x12cf,this['device']=_0x505b41;}['load'](_0xfa429c,_0x139add,_0x547b13){pe['fetchArray'+'Buffer'](_0xfa429c['load'],(_0x169db5,_0x2ffe5d)=>{_0x169db5?_0x139add(_0x169db5,_0x2ffe5d):this['parse'](_0x2ffe5d,_0xfa429c,_0x139add,_0x547b13);},_0x547b13,this['maxRetries']);}['open'](_0xb15f,_0x136819,_0xe2cea,_0x10cf48={}){const _0x3e9e37=_0x10cf48['srgb']?ld(_0x136819['format']):_0x136819['format'],_0x1d454=new _e(_0xe2cea,{'name':_0xb15f,'profilerHint':Pr,'addressU':_0x136819['cubemap']?ue:yt,'addressV':_0x136819['cubemap']?ue:yt,'width':_0x136819['width'],'height':_0x136819['height'],'format':_0x3e9e37,'cubemap':_0x136819['cubemap'],'levels':_0x136819['levels'],..._0x10cf48});return _0x1d454['upload'](),_0x1d454;}['parse'](_0x4e2585,_0x372276,_0x55f45e,_0x542b4e){var _0x33d7bd,_0x44abf6,_0x51d32e;const _0x63c2f4=new KS(_0x4e2585),_0x59a758=[_0x63c2f4['readU32be'](),_0x63c2f4['readU32be'](),_0x63c2f4['readU32be']()];if(_0x59a758[-0x4e2*-0x3+-0x8bf+-0x5e7]!==0x51*-0x33ac81b+0x1b*-0x2099cff+0x8*0x3cfd0679||_0x59a758[0x2137+-0x24bf+-0x1*-0x389]!==-0xcc5b5fa*-0x1+0x2462*-0x11c8b+0x3bdcf3f7||_0x59a758[0x1f2e+-0x106a+-0xec2*0x1]!==0xa1e*-0x19480+-0x1*0x5d4e128+0x2*0x116db119)return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0x104942={'vkFormat':_0x63c2f4['readU32'](),'typeSize':_0x63c2f4['readU32'](),'pixelWidth':_0x63c2f4['readU32'](),'pixelHeight':_0x63c2f4['readU32'](),'pixelDepth':_0x63c2f4['readU32'](),'layerCount':_0x63c2f4['readU32'](),'faceCount':_0x63c2f4['readU32'](),'levelCount':_0x63c2f4['readU32'](),'supercompressionScheme':_0x63c2f4['readU32']()},_0x3df888={'dfdByteOffset':_0x63c2f4['readU32'](),'dfdByteLength':_0x63c2f4['readU32'](),'kvdByteOffset':_0x63c2f4['readU32'](),'kvdByteLength':_0x63c2f4['readU32'](),'sgdByteOffset':_0x63c2f4['readU64'](),'sgdByteLength':_0x63c2f4['readU64']()},_0x3fd759=[];for(let _0x356e09=0x76*-0x4a+-0x1c47+0x3e63*0x1;_0x356e09<Math['max'](-0x1c8e+0x136b+0x2*0x492,_0x104942['levelCount']);++_0x356e09)_0x3fd759['push']({'byteOffset':_0x63c2f4['readU64'](),'byteLength':_0x63c2f4['readU64'](),'uncompressedByteLength':_0x63c2f4['readU64']()});if(_0x63c2f4['readU32']()!==_0x3df888['kvdByteOff'+'set']-_0x3df888['dfdByteOff'+'set'])return w['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x63c2f4['skip'](-0xae*0x29+-0xef*0x1b+0x351b);const _0x5cf0d2=_0x63c2f4['readU8']();_0x63c2f4['skip'](_0x3df888['dfdByteLen'+'gth']-(0x2*-0x1381+0x1610+-0x1*-0x10fb)),_0x63c2f4['skip'](_0x3df888['kvdByteLen'+'gth']),_0x104942['supercompr'+'essionSche'+'me']===-0x178f+-0xe*-0x71+0x1162||_0x5cf0d2===tU['KHR_DF_MOD'+'EL_UASTC']?b0(this['device'],_0x372276['load'],_0x4e2585,_0x55f45e,{'isGGGR':(((_0x51d32e=(_0x44abf6=(_0x33d7bd=_0x542b4e==null?void(0x1c42+-0x35*0x61+0x1*-0x82d):_0x542b4e['file'])==null?void(-0x1af2+0xa*0x2c2+-0xa2):_0x33d7bd['variants'])==null?void(-0x9a9*0x4+0x13*-0x9d+0x324b):_0x44abf6['basis'])==null?void(-0x1c34+0x1457+0x7dd):_0x51d32e['opt'])&-0x1c95+0x853+0x144a)!==-0x16d6+-0x34b*-0x4+0x9aa,'isKTX2':!(0xe*0x49+-0x8d2+0x4d4)})||_0x55f45e('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x542b4e['name']+']('+_0x542b4e['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x55f45e('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class iU extends eo{constructor(_0x358011){super(),this['maxRetries']=0x7*0x119+-0x1c*-0x7e+-0x1577;}['load'](_0x3bf664,_0xcb9447,_0x1f4900){pe['fetchArray'+'Buffer'](_0x3bf664['load'],_0xcb9447,_0x1f4900,this['maxRetries']);}['open'](_0x481ce9,_0x2d9625,_0x49faf6,_0x4063ba={}){const _0x1d72f9=new Uint32Array(_0x2d9625,-0x1*0x543+0x2136+0xf*-0x1dd,-0x632+-0x5f1+0xc43),_0x370058=_0x1d72f9[0x5*0x241+-0x185*0xf+0xb8a],_0x44df3f=_0x1d72f9[0x7d7+0x737*0x3+-0x1d79],_0x10bce8=Math['max'](_0x1d72f9[-0xf94+-0x235b+0x1*0x32f6],0xb14+0x32f+-0xe42),_0x3b4565=_0x1d72f9[-0x1*0x17ec+0x6*0x3aa+-0x2*-0x102]===-0xc*0x2e2+-0x2*0xbde+0x2*0x1d2c,_0x51c372=_0x1d72f9[-0x7a7*0x3+0x1*0x2533+-0xe29],_0x20f2bf=_0x1d72f9[0x1*-0x170a+-0x1fc*-0x13+-0x3a5*0x4],_0x1c5b4=_0x1d72f9[0x122e+0x1*0xb63+-0x1d75]===0x2b6*0x41+0x159*0xc+0x148a*0x3,_0x34e0ce=0x3e708702+0x271a7089+-0x34369f47,_0x47d272=-0xd40896c*-0x3+-0xf635b5b+0x287*0xb758d,_0xf143ae=-0x545*0x7+0x1b2e+0x2*0x513,_0x14b738=-0x589*0x4+-0x1946+0x2fde,_0x58a9e7=0x3a6d2b22+0xade119*0x29+0x28aa2e*-0xe9,_0x31e193=-0x406258e3*-0x1+-0x27bd4*-0xca1+-0x2e8cf6e7,_0x39e626=0x94*-0x127a2e+0x810fd74+0x33d1d774,_0x48b715=0x48f7c3*0x2f+0x183c12a5+-0x1*-0xb91a4de,_0x84b86a=0x180a6f68+-0x11225de*0x2b+0x47362132;let _0x24ad45=!(0x16b+-0x4*-0x29+-0x20e),_0x4ace55=!(-0xc6e+0x1281+-0x612),_0x52ed7e=!(0x4f*0x3+0x19*-0x3e+0x522),_0x5929dd=!(-0x167*0xa+0x654+0x49*0x1b),_0x2d3d5c=null,_0x83fad4=-0x729+-0x2*-0xa63+-0x86*0x1a,_0x2b17f1;if(_0x3b4565?_0x51c372===_0x34e0ce?(_0x2d3d5c=td,_0x24ad45=!(0x423+0xc*0x2e8+-0x2703)):_0x51c372===_0x47d272?(_0x2d3d5c=vl,_0x24ad45=!(-0x6*0x415+-0x1561+0x2ddf*0x1)):_0x51c372===_0xf143ae?(_0x2d3d5c=nt,_0x83fad4=-0xa54+0x592+0x4c4):_0x51c372===_0x14b738?(_0x2d3d5c=Xt,_0x83fad4=0xa36+0xd*0xa7+-0x12ad):_0x51c372===_0x58a9e7?(_0x2d3d5c=id,_0x24ad45=!(0xd*0xd9+0x118d*-0x2+-0x807*-0x3),_0x4ace55=!(0x1*0x35d+-0x5d5*-0x4+0x1ab1*-0x1)):_0x51c372===_0x31e193||_0x51c372===_0x39e626?(_0x2d3d5c=_0x51c372===_0x31e193?xl:Tl,_0x24ad45=!(0xbf1*-0x1+-0x1466+0x11*0x1e7),_0x52ed7e=!(-0x1396+-0x1040+0x23d6)):(_0x51c372===_0x48b715||_0x51c372===_0x84b86a)&&(_0x2d3d5c=_0x51c372===_0x48b715?rd:ad,_0x24ad45=!(0x1*-0x242b+0x2*-0x46a+0x2cff),_0x5929dd=!(-0x47d*-0x7+-0x1*0x1f2a+-0x41)):_0x20f2bf===-0xa12*0x3+0x4d3+0x1983&&(_0x2d3d5c=Ne),!_0x2d3d5c)return w['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x481ce9+'.'),_0x2b17f1=new _e(_0x49faf6,{'width':0x4,'height':0x4,'format':Cr,'name':'dds-legacy'+'-empty'}),_0x2b17f1;_0x2b17f1=new _e(_0x49faf6,{'name':_0x481ce9,'profilerHint':Pr,'addressU':_0x1c5b4?ue:yt,'addressV':_0x1c5b4?ue:yt,'width':_0x370058,'height':_0x44df3f,'format':_0x2d3d5c,'cubemap':_0x1c5b4,'mipmaps':_0x10bce8>0xc9*0x2c+0x1*0x39b+0x2626*-0x1,..._0x4063ba});let _0x460063=-0xaac+0x971*-0x2+-0xf07*-0x2;const _0x42c8f7=_0x1c5b4?0x2461+-0x2141+-0x1*0x31a:0x22d6+0x42a+-0x26ff;let _0x1557e1;const _0x28f14e=-0x1d8c+-0x170e+-0x349e*-0x1,_0x37e3dd=-0x1332+-0x13*0x10c+-0x302*-0xd,_0x1c547f=_0x51c372===_0x34e0ce?-0x201c+-0x27*0xbb+0x3ca1:0x3da*-0x3+0x98*0x1+0xb06;let _0x4cdaa6,_0x1c04e0,_0x19da53;for(let _0x26a41b=0xd9a+0xaa*0x2a+-0x297e*0x1;_0x26a41b<_0x42c8f7;_0x26a41b++){let _0x6ed67=_0x370058,_0x1dd058=_0x44df3f;for(let _0x4a1c6f=0x2*-0x42d+-0xbc2+-0x24*-0x8f;_0x4a1c6f<_0x10bce8;_0x4a1c6f++){_0x24ad45?_0x4ace55?_0x1557e1=Math['floor']((_0x6ed67+(0x786*0x1+0x16d1+-0x1e54))/(0x417*-0x1+0x1845*0x1+-0x142a))*Math['floor']((_0x1dd058+(-0x258c+0x17e0+0xdaf))/(0x89*0x26+-0xba*-0x1f+0xe48*-0x3))*(-0xfa*0x26+0x6e0*-0x1+-0x756*-0x6):_0x52ed7e?_0x1557e1=Math['max'](_0x6ed67,0x1a*0x12a+0x130f+-0x3143)*Math['max'](_0x1dd058,-0x877*0x1+-0x2*-0x133a+0x1*-0x1df5)/(-0x2632+-0x2123+0x41*0x119):_0x5929dd?_0x1557e1=Math['max'](_0x6ed67,0x2*-0x9fd+0x1b*0x67+-0x1*-0x925)*Math['max'](_0x1dd058,0x2618+-0x1422+-0x6*0x2fd)/(-0xc*0x20e+-0x935+0x21df):(_0x4cdaa6=Math['floor']((_0x6ed67+_0x28f14e-(0x2100+-0x6b2+-0x1a4d))/_0x28f14e),_0x1c04e0=Math['floor']((_0x1dd058+_0x37e3dd-(-0xa45+0x1*-0x16a6+0x56*0x62))/_0x37e3dd),_0x19da53=_0x4cdaa6*_0x1c04e0,_0x1557e1=_0x19da53*_0x1c547f):_0x1557e1=_0x6ed67*_0x1dd058*(0x26f6+0x1*0xf+-0x2701);const _0x558eb5=_0x2d3d5c===Xt?new Float32Array(_0x2d9625,_0x460063,_0x1557e1):_0x2d3d5c===nt?new Uint16Array(_0x2d9625,_0x460063,_0x1557e1):new Uint8Array(_0x2d9625,_0x460063,_0x1557e1);_0x1c5b4?(_0x2b17f1['_levels'][_0x4a1c6f]||(_0x2b17f1['_levels'][_0x4a1c6f]=[]),_0x2b17f1['_levels'][_0x4a1c6f][_0x26a41b]=_0x558eb5):_0x2b17f1['_levels'][_0x4a1c6f]=_0x558eb5,_0x460063+=_0x1557e1*_0x83fad4,_0x6ed67=Math['max'](_0x6ed67*(-0x48a+-0xe83+0x130d+0.5),0x950+0x698*-0x1+-0x2b7),_0x1dd058=Math['max'](_0x1dd058*(0x885*0x2+-0x2*-0x836+0x10bb*-0x2+0.5),-0x7a*-0x4+-0x7bb*0x4+0x1d05);}}return _0x2b17f1['upload'](),_0x2b17f1;}}class rU extends eo{constructor(_0x162029){super(),this['maxRetries']=0x13*-0x12f+0x1951+-0x2d4;}['load'](_0x21abce,_0x1ec56e,_0x484277){pe['fetchArray'+'Buffer'](_0x21abce['load'],_0x1ec56e,_0x484277,this['maxRetries']),_0x484277['data']&&!_0x484277['data']['type']&&(_0x484277['data']['type']=mh);}['open'](_0x5815e6,_0x17862e,_0x19a4b1,_0xf8144a={}){const _0x25d889=this['parse'](_0x17862e);if(!_0x25d889)return null;const _0x349240=new _e(_0x19a4b1,{'name':_0x5815e6,'profilerHint':Pr,'addressU':yt,'addressV':ue,'minFilter':Te,'magFilter':Te,'width':_0x25d889['width'],'height':_0x25d889['height'],'levels':_0x25d889['levels'],'format':Ne,'type':mh,'mipmaps':!(-0x11b7+0x163f+-0x487),..._0xf8144a});return _0x349240['upload'](),_0x349240;}['parse'](_0x379948){const _0x1f919f=new KS(_0x379948);if(!_0x1f919f['readLine']()['startsWith']('#?RADIANCE'))return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x1fd325={};for(;;){const _0x339623=_0x1f919f['readLine']();if(_0x339623['length']===0x23e7+-0xc11+-0xbeb*0x2)break;{const _0x11a765=_0x339623['split']('=');_0x11a765['length']===0xfc+-0x1ad5*-0x1+-0x1bcf&&(_0x1fd325[_0x11a765[0x1ef5*0x1+0x4*-0x4a2+-0xc6d]]=_0x11a765[0x2509+0x10c4+-0x35cc]);}}if(!_0x1fd325['hasOwnProp'+'erty']('FORMAT'))return w['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x42e29d=_0x1f919f['readLine']()['split']('\x20');if(_0x42e29d['length']!==-0x11b4*0x2+-0xe0e+-0x83f*-0x6)return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x23a162=parseInt(_0x42e29d[0x17e*0x15+0x1b*-0xef+-0x620],0x2*-0x12a3+-0x6*0x585+-0x3*-0x177a),_0x33ad0c=parseInt(_0x42e29d[-0x94f*-0x4+-0x7cd*0x2+-0x159f],0x6a*0x55+0x24ae+0x47d6*-0x1),_0x45f42b=this['_readPixel'+'s'](_0x1f919f,_0x33ad0c,_0x23a162,_0x42e29d[-0xccd*-0x1+-0x16db+0xa0e]==='-Y');return _0x45f42b?{'width':_0x33ad0c,'height':_0x23a162,'levels':[_0x45f42b]}:null;}['_readPixel'+'s'](_0x32c52d,_0x312472,_0x248979,_0x3bb118){if(_0x312472<0x10e2+0x1*-0xf1e+-0x1bc||_0x312472>0x1*-0x8414+0x27*0x479+0x7e*0xae)return this['_readPixel'+'sFlat'](_0x32c52d,_0x312472,_0x248979);const _0x460e6a=[-0x766*-0x1+-0x475+-0x2f1,-0x11fa+-0x1f*-0x123+-0x1143,-0x1d32+0x254c+0x22*-0x3d,0x58c+0x170f*-0x1+0x1183];if(_0x32c52d['readArray'](_0x460e6a),_0x460e6a[-0x18d+0x1e87+-0x2*0xe7d]!==0x2273*0x1+-0x21e2+-0x8f||_0x460e6a[-0xcd*-0x1d+-0x1d47*0x1+0x2f*0x21]!==0x49*0x30+-0xbde+-0x1d0||(_0x460e6a[0x1090+-0x20e5+0x1057]&0x3*-0x93f+0x1f72+0x335*-0x1)!==0xb56+-0x22ee+-0x28*-0x97)return _0x32c52d['skip'](-(0x902*0x3+-0x2*0xa49+0xce*-0x8)),this['_readPixel'+'sFlat'](_0x32c52d,_0x312472,_0x248979);const _0x1957a7=new ArrayBuffer(_0x312472*_0x248979*(0x44*-0x56+0x1*-0x9db+-0x19*-0x14f)),_0x2c701e=new Uint8Array(_0x1957a7);let _0x3eb9a2=_0x3bb118?-0x2308+0x1*-0x246a+-0x725*-0xa:_0x312472*(0x1ea4+0x292*-0x4+-0x38*0x5d)*(_0x248979-(-0x5*0x588+-0x1*-0x1cf3+-0x37*0x6)),_0x3b4d8c,_0x30281c,_0x42b6b0,_0x23ab6c,_0x267990,_0x3b2d86;for(_0x30281c=0xc*0x9d+-0xa4*-0x17+-0x1618;_0x30281c<_0x248979;++_0x30281c){if(_0x30281c&&_0x32c52d['readArray'](_0x460e6a),(_0x460e6a[0x1ee3+-0x26e2*-0x1+-0x45c3]<<-0x14*0x52+-0x4d3*-0x3+-0x1*0x809)+_0x460e6a[0x4*0x930+0x23*0x67+-0x32d2]!==_0x312472)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x23ab6c=-0x10f0*-0x2+0x1414+-0x35f4*0x1;_0x23ab6c<0xd3+-0x1f5a+0x1e8b;++_0x23ab6c)for(_0x3b4d8c=0x1132+-0x303+0xe2f*-0x1;_0x3b4d8c<_0x312472;)if(_0x267990=_0x32c52d['readU8'](),_0x267990>-0x1*0xf3b+-0x20b1+-0x2*-0x1836){if(_0x267990-=-0x2304+-0x12d3+0x3657,_0x3b4d8c+_0x267990>_0x312472)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x3b2d86=_0x32c52d['readU8'](),_0x42b6b0=0xc4f+0x903*0x1+-0x1552;_0x42b6b0<_0x267990;++_0x42b6b0)_0x2c701e[_0x3eb9a2+_0x23ab6c+(-0x1291+0x159b+-0x306)*_0x3b4d8c++]=_0x3b2d86;}else{if(_0x267990===0x24f1*-0x1+-0x4*0x355+-0x1*-0x3245||_0x3b4d8c+_0x267990>_0x312472)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x42b6b0=-0x47*0x7d+-0x1d3*0x5+-0xa*-0x461;_0x42b6b0<_0x267990;++_0x42b6b0)_0x2c701e[_0x3eb9a2+_0x23ab6c+(-0x13e1*0x1+-0xd01*0x2+0x3*0xf4d)*_0x3b4d8c++]=_0x32c52d['readU8']();}_0x3eb9a2+=_0x312472*(-0x19*0x39+0x19a9*0x1+-0x1414)*(_0x3bb118?-0x15d8+-0x2ba*-0x9+-0x2b1:-(0xe86+0x2082+-0x3*0xfad));}return _0x2c701e;}['_readPixel'+'sFlat'](_0x329525,_0x29ba25,_0x4f0e0b){return _0x329525['remainingB'+'ytes']===_0x29ba25*_0x4f0e0b*(0x89*0x1+0x295*-0x3+0x73a)?new Uint8Array(_0x329525['arraybuffe'+'r'],_0x329525['offset']):null;}}const TS={'repeat':yt,'clamp':ue,'mirror':ip},wS={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},aU={'default':Ds,'rgbm':Zi,'rgbe':mh,'rgbp':Qo,'swizzleGGGR':Jo},nU=function(_0x5a7f90){const _0xbf08d8=Xi['calcMipLev'+'elsCount'](_0x5a7f90['_width'],_0x5a7f90['_height']),_0x3aa169=function(_0x438031){return _0x438031 instanceof HTMLCanvasElement||_0x438031 instanceof HTMLImageElement||_0x438031 instanceof HTMLVideoElement;};if(!(_0x5a7f90['_format']===Ne||_0x5a7f90['_format']===Xt)||_0x5a7f90['_volume']||_0x5a7f90['_compresse'+'d']||_0x5a7f90['_levels']['length']===-0x1*-0x83f+-0x62e*0x4+0xde*0x13||_0x5a7f90['_levels']['length']===_0xbf08d8||_0x3aa169(_0x5a7f90['_cubemap']?_0x5a7f90['_levels'][-0x10e0+-0x1*0x10a5+0x2185][-0xa*0x33d+-0x7*0x3a1+0x39c9]:_0x5a7f90['_levels'][0x1c5b+-0x9e*-0x8+-0x214b]))return;const _0x3cb580=function(_0x11857f,_0x3a6a7c,_0x13761a){const _0x49015e=Math['max'](0x163+-0xc3c+0xada*0x1,_0x11857f>>-0x1*0x167e+-0x15*0x9b+-0x2336*-0x1),_0x15fccc=Math['max'](0x1910+-0x1*0x2707+0x3*0x4a8,_0x3a6a7c>>-0x411+0x5*-0x315+-0x1*-0x137b),_0x1c6c93=new _0x13761a['constructo'+'r'](_0x49015e*_0x15fccc*(-0x3ea+-0x35f*-0x9+0x1*-0x1a69)),_0x5b0af4=Math['floor'](_0x11857f/_0x49015e),_0x28ff47=Math['floor'](_0x3a6a7c/_0x15fccc),_0x52c781=_0x5b0af4*_0x28ff47;for(let _0x3a1d3c=0x1*-0x8bd+0x12ca+-0x53*0x1f;_0x3a1d3c<_0x15fccc;++_0x3a1d3c)for(let _0x472258=0x1cf6+0x19c6*-0x1+-0x330;_0x472258<_0x49015e;++_0x472258)for(let _0x46e007=0x1*0x1da5+-0x2e4+-0x1ac1;_0x46e007<0x170d+0x6*0x3b3+0x1*-0x2d3b;++_0x46e007){let _0x1ebf0b=-0x1b2a+0xbba+0xf70;for(let _0x38c553=0x3a9*0x7+-0xe3*0x21+0x3a4;_0x38c553<_0x28ff47;++_0x38c553)for(let _0x316cc6=-0x1186+0x12*0x112+-0x1be;_0x316cc6<_0x5b0af4;++_0x316cc6)_0x1ebf0b+=_0x13761a[(_0x472258*_0x5b0af4+_0x316cc6+(_0x3a1d3c*_0x28ff47+_0x38c553)*_0x11857f)*(0x586*0x3+-0xb91*-0x3+-0x3341)+_0x46e007];_0x1c6c93[(_0x472258+_0x3a1d3c*_0x49015e)*(-0x1fd1+0xfe6+0xfef)+_0x46e007]=_0x1ebf0b/_0x52c781;}return _0x1c6c93;};for(let _0x590357=_0x5a7f90['_levels']['length'];_0x590357<_0xbf08d8;++_0x590357){const _0x53cdaf=Math['max'](0x334*-0xb+0x1*0x370+-0x7*-0x48b,_0x5a7f90['_width']>>_0x590357-(-0x1ea0+0x2*-0x63f+0x2b1f)),_0x18466f=Math['max'](0x232*-0x11+0x36d*0x1+0x21e6,_0x5a7f90['_height']>>_0x590357-(-0x2*-0xc56+0x21ae+0x1*-0x3a59));if(_0x5a7f90['_cubemap']){const _0x58c9c0=[];for(let _0xc000b7=0x3*-0x5ff+-0x6f*-0x23+0x8*0x5a;_0xc000b7<0x171*0x13+-0x24db+-0x195*-0x6;++_0xc000b7)_0x58c9c0['push'](_0x3cb580(_0x53cdaf,_0x18466f,_0x5a7f90['_levels'][_0x590357-(0x2192+0x18a7*-0x1+0xe*-0xa3)][_0xc000b7]));_0x5a7f90['_levels']['push'](_0x58c9c0);}else _0x5a7f90['_levels']['push'](_0x3cb580(_0x53cdaf,_0x18466f,_0x5a7f90['_levels'][_0x590357-(0x55+0x1e*0xa8+-0x1c*0xb7)]));}_0x5a7f90['_levelsUpd'+'ated']=_0x5a7f90['_cubemap']?[[!(-0x8d3*0x1+0x80b+0xc8),!(0x1a8e+-0x1*-0x661+-0x20ef),!(-0x3d9+-0x1885*0x1+0x1c5e),!(-0x17e1+-0x1b09+0x32ea),!(0x22df+0x8a2+-0x2b81),!(0x1*-0x1bd1+-0xce*0x25+0x3997)]]:[!(0x258b+-0x16*-0x1a5+-0x49b9)];};class oU extends Qe{constructor(_0x37a7f6){super(_0x37a7f6,'texture');const _0x33b1d3=_0x37a7f6['assets'],_0x1df657=_0x37a7f6['graphicsDe'+'vice'];this['_device']=_0x1df657,this['_assets']=_0x33b1d3,this['imgParser']=new Zk(_0x33b1d3,_0x1df657),this['parsers']={'dds':new iU(_0x33b1d3),'ktx':new eU(_0x33b1d3),'ktx2':new sU(_0x33b1d3,_0x1df657),'basis':new qk(_0x33b1d3,_0x1df657),'hdr':new rU(_0x33b1d3)};}set['crossOrigi'+'n'](_0x54ac8a){this['imgParser']['crossOrigi'+'n']=_0x54ac8a;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x62aed2){this['imgParser']['maxRetries']=_0x62aed2;for(const _0x1d44dd in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x1d44dd)&&(this['parsers'][_0x1d44dd]['maxRetries']=_0x62aed2);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x44c367){return _0x44c367['indexOf']('?')>=0x102b*0x1+-0xede+-0x6f*0x3?_0x44c367['split']('?')[0x1011+0x57b*0x1+0x1*-0x158c]:_0x44c367;}['_getParser'](_0x2417c6){const _0x482cf5=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x2417c6))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x482cf5]||this['imgParser'];}['_getTextur'+'eOptions'](_0x4435b8){var _0x44ac21;const _0x483611={'profilerHint':Pr};if(_0x4435b8){((_0x44ac21=_0x4435b8['name'])==null?void(0x956*-0x1+-0x30+-0x2*-0x4c3):_0x44ac21['length'])>-0x1fe8+-0x1cfa+0x3ce2&&(_0x483611['name']=_0x4435b8['name']);const _0x3ca800=_0x4435b8['data'];_0x3ca800['hasOwnProp'+'erty']('minfilter')&&(_0x483611['minFilter']=wS[_0x3ca800['minfilter']]),_0x3ca800['hasOwnProp'+'erty']('magfilter')&&(_0x483611['magFilter']=wS[_0x3ca800['magfilter']]),_0x3ca800['hasOwnProp'+'erty']('addressu')&&(_0x483611['addressU']=TS[_0x3ca800['addressu']]),_0x3ca800['hasOwnProp'+'erty']('addressv')&&(_0x483611['addressV']=TS[_0x3ca800['addressv']]),_0x3ca800['hasOwnProp'+'erty']('mipmaps')&&(_0x483611['mipmaps']=_0x3ca800['mipmaps']),_0x3ca800['hasOwnProp'+'erty']('anisotropy')&&(_0x483611['anisotropy']=_0x3ca800['anisotropy']),_0x3ca800['hasOwnProp'+'erty']('flipY')&&(_0x483611['flipY']=!!_0x3ca800['flipY']),_0x3ca800['hasOwnProp'+'erty']('srgb')&&(_0x483611['srgb']=!!_0x3ca800['srgb']),_0x483611['type']=Ds,_0x3ca800['hasOwnProp'+'erty']('type')?_0x483611['type']=aU[_0x3ca800['type']]:_0x3ca800['hasOwnProp'+'erty']('rgbm')&&_0x3ca800['rgbm']?_0x483611['type']=Zi:_0x4435b8['file']&&(_0x4435b8['file']['opt']&-0x1*0xcda+0x1387+-0x6a5)!==0x20c5*0x1+0x2*0x531+-0x2b27&&(_0x483611['type']=Jo);}return _0x483611;}['load'](_0x1fa8be,_0x4bb264,_0x15cdcc){typeof _0x1fa8be=='string'&&(_0x1fa8be={'load':_0x1fa8be,'original':_0x1fa8be}),this['_getParser'](_0x1fa8be['original'])['load'](_0x1fa8be,_0x4bb264,_0x15cdcc);}['open'](_0x26bac5,_0x50d9fe,_0x2718f2){if(!_0x26bac5)return;const _0x85bf6c=this['_getTextur'+'eOptions'](_0x2718f2);let _0xb4fcf5=this['_getParser'](_0x26bac5)['open'](_0x26bac5,_0x50d9fe,this['_device'],_0x85bf6c);return _0xb4fcf5===null?_0xb4fcf5=new _e(this['_device'],{'width':0x4,'height':0x4,'format':Cr}):(nU(_0xb4fcf5),_0x50d9fe['unswizzled'+'GGGR']&&(_0x2718f2['file']['variants']['basis']['opt']&=-(0x1de*0x4+0x831*-0x2+0x8f3))),_0xb4fcf5;}['patch'](_0x439849,_0x2f1226){const _0x2f84a6=_0x439849['resource'];if(!_0x2f84a6)return;const _0x3b67d1=this['_getTextur'+'eOptions'](_0x439849);for(const _0x441a6f of Object['keys'](_0x3b67d1))_0x2f84a6[_0x441a6f]=_0x3b67d1[_0x441a6f];}}const lU='inline',cU='immersive-'+'vr',$o='immersive-'+'ar',ES='viewer',hU='left',dU='cpu-optimi'+'zed',P0='gpu-optimi'+'zed',M0='luminance-'+'alpha',D0='unsigned-s'+'hort',I0='float32';class fU{constructor(_0x210ea3){h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRDOMOverl'+'ayState']),h(this,'_root',null),this['_manager']=_0x210ea3;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x266f90){!this['_supported']||this['_manager']['active']||(this['_root']=_0x266f90);}get['root'](){return this['_root'];}}const Rc=[],bS=[];class ju extends me{constructor(_0x5d1147,_0x18b3ae,_0x4bb64e,_0x55ad33=null){super(),h(this,'manager'),h(this,'_xrHitTest'+'Source'),h(this,'_transient'),h(this,'_inputSour'+'ce'),(this['manager']=_0x5d1147,this['_xrHitTest'+'Source']=_0x18b3ae,this['_transient']=_0x4bb64e,this['_inputSour'+'ce']=_0x55ad33);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0x4883fe=this['manager']['hitTest']['sources'],_0x3f0d4e=_0x4883fe['indexOf'](this);_0x3f0d4e!==-(0x1e*-0x6e+-0x2f3*0x3+0x79*0x2e)&&_0x4883fe['splice'](_0x3f0d4e,-0xb41*0x1+-0x1fa2+0x894*0x5),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x455f50){if(this['_transient']){const _0x2159e8=_0x455f50['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x54c96c=0xb71+0x1cf1+0x2*-0x1431;_0x54c96c<_0x2159e8['length'];_0x54c96c++){const _0x344afa=_0x2159e8[_0x54c96c];if(!_0x344afa['results']['length'])continue;let _0x5cf0c9;_0x344afa['inputSourc'+'e']&&(_0x5cf0c9=this['manager']['input']['_getByInpu'+'tSource'](_0x344afa['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x344afa['results'],_0x5cf0c9);}}else{const _0x15a6ab=_0x455f50['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x15a6ab['length'])return;this['updateHitR'+'esults'](_0x15a6ab);}}['updateHitR'+'esults'](_0x4747e,_0x11ad7f){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x11ad7f)return;const _0x4cb921=Rc['pop']()??new D();_0x11ad7f?_0x4cb921['copy'](_0x11ad7f['getOrigin']()):_0x4cb921['copy'](this['manager']['camera']['getPositio'+'n']());let _0x4611f4=(-0x10*0xbc+-0x323+0xee4)/(-0xc1*-0x31+0x67*-0x7+-0x2220),_0x30e962=null;const _0x40f2f1=Rc['pop']()??new D(),_0x392a91=bS['pop']()??new le();for(let _0x5a1188=-0xf71*-0x1+0x3*-0x696+0x451;_0x5a1188<_0x4747e['length'];_0x5a1188++){const _0x16d480=_0x4747e[_0x5a1188]['getPose'](this['manager']['_reference'+'Space']),_0x144147=_0x4cb921['distance'](_0x16d480['transform']['position']);_0x144147>=_0x4611f4||(_0x4611f4=_0x144147,_0x30e962=_0x4747e[_0x5a1188],_0x40f2f1['copy'](_0x16d480['transform']['position']),_0x392a91['copy'](_0x16d480['transform']['orientatio'+'n']));}this['fire']('result',_0x40f2f1,_0x392a91,_0x11ad7f||this['_inputSour'+'ce'],_0x30e962),this['manager']['hitTest']['fire']('result',this,_0x40f2f1,_0x392a91,_0x11ad7f||this['_inputSour'+'ce'],_0x30e962),Rc['push'](_0x4cb921),Rc['push'](_0x40f2f1),bS['push'](_0x392a91);}}h(ju,'EVENT_REMO'+'VE','remove'),h(ju,'EVENT_RESU'+'LT','result');class jr extends me{constructor(_0x1dbd97){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),h(this,'_available',!(-0xc2a*0x3+0x7*-0x92+0x2b3*0xf)),h(this,'_checkingA'+'vailabilit'+'y',!(-0x606+0x35e+0x2a9)),h(this,'sources',[]),(this['manager']=_0x1dbd97,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x528431=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(-0x3*-0xcdb+0x1*-0x112c+-0xab2*0x2);if(!_0x528431)return;this['_available']=_0x528431,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(-0xaa8+-0x2483+0x2f2b),this['manager']['session']['requestRef'+'erenceSpac'+'e'](ES)['then'](_0x2b094e=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x2b094e})['then'](_0x359a99=>{_0x359a99['cancel'](),this['manager']['active']&&(this['_available']=!(0xa*0x1d6+-0x95+-0x11c7),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(-0x1e*-0x96+0x1407+0x2*-0x12cd);for(let _0x14e41b=-0x8b*-0x26+-0x1587+0xe5;_0x14e41b<this['sources']['length'];_0x14e41b++)this['sources'][_0x14e41b]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x50cc24={}){var _0x1bc379,_0x2c2fef;if(!this['_supported']){(_0x1bc379=_0x50cc24['callback'])==null||_0x1bc379['call'](_0x50cc24,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x2c2fef=_0x50cc24['callback'])==null||_0x2c2fef['call'](_0x50cc24,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x50cc24['profile']&&!_0x50cc24['spaceType']&&(_0x50cc24['spaceType']=ES);let _0x498247;const _0x3f1f84=_0x50cc24['offsetRay'];if(_0x3f1f84){const _0x3ea9b5=new DOMPoint(_0x3f1f84['origin']['x'],_0x3f1f84['origin']['y'],_0x3f1f84['origin']['z'],0x1*0xbff+0x0+-0xbfe),_0x34f9c2=new DOMPoint(_0x3f1f84['direction']['x'],_0x3f1f84['direction']['y'],_0x3f1f84['direction']['z'],-0x13*-0x6d+0x1e5*-0xb+0xcc0);_0x498247=new XRRay(_0x3ea9b5,_0x34f9c2);}const _0x3bba92=_0x50cc24['callback'];_0x50cc24['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x50cc24['spaceType'])['then'](_0x434d12=>{if(!this['manager']['session']){const _0x113bcf=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x3bba92&&_0x3bba92(_0x113bcf),this['fire']('error',_0x113bcf);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x434d12,'entityTypes':_0x50cc24['entityType'+'s']||void(-0x1*-0xeac+0x2*0x1153+0x3152*-0x1),'offsetRay':_0x498247})['then'](_0xff4b25=>{this['_onHitTest'+'Source'](_0xff4b25,!(-0x2036+-0x75a+0x5a7*0x7),_0x50cc24['inputSourc'+'e'],_0x3bba92);})['catch'](_0x4b5c70=>{_0x3bba92&&_0x3bba92(_0x4b5c70),this['fire']('error',_0x4b5c70);});})['catch'](_0x51f6ef=>{_0x3bba92&&_0x3bba92(_0x51f6ef),this['fire']('error',_0x51f6ef);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x50cc24['profile'],'entityTypes':_0x50cc24['entityType'+'s']||void(0x2648+-0x3f1*-0x7+0x3*-0x15f5),'offsetRay':_0x498247})['then'](_0x49861b=>{this['_onHitTest'+'Source'](_0x49861b,!(-0x20b0+0xc6e+0x1442),_0x50cc24['inputSourc'+'e'],_0x3bba92);})['catch'](_0x309411=>{_0x3bba92&&_0x3bba92(_0x309411),this['fire']('error',_0x309411);});}['_onHitTest'+'Source'](_0x5cd82f,_0x35b573,_0x3344bc,_0x490314){if(!this['manager']['session']){_0x5cd82f['cancel']();const _0x2146de=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x490314&&_0x490314(_0x2146de),this['fire']('error',_0x2146de);return;}const _0x24f0a0=new ju(this['manager'],_0x5cd82f,_0x35b573,_0x3344bc??null);this['sources']['push'](_0x24f0a0),_0x490314&&_0x490314(null,_0x24f0a0),this['fire']('add',_0x24f0a0);}['update'](_0x288c08){if(this['_available']){for(let _0x804eef=0x16f3+0x194b+0x32*-0xf7;_0x804eef<this['sources']['length'];_0x804eef++)this['sources'][_0x804eef]['update'](_0x288c08);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}h(jr,'EVENT_AVAI'+'LABLE','available'),h(jr,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(jr,'EVENT_ADD','add'),h(jr,'EVENT_REMO'+'VE','remove'),h(jr,'EVENT_RESU'+'LT','result'),h(jr,'EVENT_ERRO'+'R','error');class Yu extends me{constructor(_0x36129a,_0x61f685){super(),h(this,'_image'),h(this,'_width'),h(this,'_bitmap',null),h(this,'_measuredW'+'idth',0x1*-0xcf5+0x1c7b+-0xf86*0x1),h(this,'_trackable',!(0x3b*-0x80+0xfb9+0xdc8)),h(this,'_tracking',!(-0xb*-0x2dd+0xbf*0x20+0x2*-0x1baf)),h(this,'_emulated',!(0x7*-0x31+-0x2*0xd48+-0xdf4*-0x2)),h(this,'_pose',null),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_image']=_0x36129a,this['_width']=_0x61f685);}get['image'](){return this['_image'];}set['width'](_0x1855d0){this['_width']=_0x1855d0;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x1949c8=>(this['_bitmap']=_0x1949c8,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}h(Yu,'EVENT_TRAC'+'KED','tracked'),h(Yu,'EVENT_UNTR'+'ACKED','untracked');class L0 extends me{constructor(_0x3e34f0){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),h(this,'_available',!(-0x16ea*0x1+-0x103f+-0x687*-0x6)),h(this,'_images',[]),(this['_manager']=_0x3e34f0,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x1624b9,_0x48c19b){if(!this['_supported']||this['_manager']['active'])return null;const _0x320b41=new Yu(_0x1624b9,_0x48c19b);return this['_images']['push'](_0x320b41),_0x320b41;}['remove'](_0x33f330){if(this['_manager']['active'])return;const _0xf14c68=this['_images']['indexOf'](_0x33f330);_0xf14c68!==-(-0x1*0x83a+0x6cc+0x1*0x16f)&&(_0x33f330['destroy'](),this['_images']['splice'](_0xf14c68,0x1*-0x1e26+0x1*0x1043+0xde4));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0x1e655e=>{this['_available']=!(0x8b8*0x2+-0x1b39+-0x9c9*-0x1);for(let _0xba7424=-0x1024+0x1*-0x85f+0x1*0x1883;_0xba7424<_0x1e655e['length'];_0xba7424++)this['_images'][_0xba7424]['_trackable']=_0x1e655e[_0xba7424]==='trackable';})['catch'](_0x1b1a45=>{this['_available']=!(0x1*-0xc9a+-0xea+-0x1*-0xd85),this['fire']('error',_0x1b1a45);});}['_onSession'+'End'](){this['_available']=!(-0x4*0x2e1+-0x129*-0xb+-0x9f*0x2);for(let _0x5609e1=-0x9c2*0x4+0xee4+0x1824;_0x5609e1<this['_images']['length'];_0x5609e1++){const _0x995771=this['_images'][_0x5609e1];_0x995771['_pose']=null,_0x995771['_measuredW'+'idth']=0x2194+-0x238+-0x1f5c,_0x995771['_tracking']&&(_0x995771['_tracking']=!(-0x12ea+0x1023+-0x59*-0x8),_0x995771['fire']('untracked'));}}['prepareIma'+'ges'](_0x1260e9){this['_images']['length']?Promise['all'](this['_images']['map'](_0x207532=>_0x207532['prepare']()))['then'](_0x499daf=>{_0x1260e9(null,_0x499daf);})['catch'](_0x3a0f85=>{_0x1260e9(_0x3a0f85,null);}):_0x1260e9(null,null);}['update'](_0xd95820){if(!this['_available'])return;const _0x50d224=_0xd95820['getImageTr'+'ackingResu'+'lts'](),_0x2c08b4={};for(let _0x83a92d=-0x119*-0x1f+0xf2f+-0x3136;_0x83a92d<_0x50d224['length'];_0x83a92d++){_0x2c08b4[_0x50d224[_0x83a92d]['index']]=_0x50d224[_0x83a92d];const _0x46ea1d=this['_images'][_0x50d224[_0x83a92d]['index']];_0x46ea1d['_emulated']=_0x50d224[_0x83a92d]['trackingSt'+'ate']==='emulated',_0x46ea1d['_measuredW'+'idth']=_0x50d224[_0x83a92d]['measuredWi'+'dthInMeter'+'s'],_0x46ea1d['_pose']=_0xd95820['getPose'](_0x50d224[_0x83a92d]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x4ce3e5=0x1*-0x13d6+-0x1*0x37+-0x3*-0x6af;_0x4ce3e5<this['_images']['length'];_0x4ce3e5++)this['_images'][_0x4ce3e5]['_tracking']&&!_0x2c08b4[_0x4ce3e5]?(this['_images'][_0x4ce3e5]['_tracking']=!(-0x6b0+0x6*-0x185+0xfcf),this['_images'][_0x4ce3e5]['fire']('untracked')):!this['_images'][_0x4ce3e5]['_tracking']&&_0x2c08b4[_0x4ce3e5]&&(this['_images'][_0x4ce3e5]['_tracking']=!(0x248c+-0x11*-0x16e+-0x2*0x1e6d),this['_images'][_0x4ce3e5]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}h(L0,'EVENT_ERRO'+'R','error');class uU{constructor(_0x45dced,_0x5913f6){h(this,'_index'),h(this,'_hand'),h(this,'_joints',[]),h(this,'_tip',null),(this['_index']=_0x45dced,this['_hand']=_0x5913f6,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const AS=Ae['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],R0={};for(let l=0x1*0xaf6+-0x361+-0x3*0x287;l<AS['length'];l++)R0[AS[l]]=!(-0xa4+-0x949+0x9ed);class CS{constructor(_0x54f126,_0x442f96,_0x4900ea,_0x91ae11=null){h(this,'_index'),h(this,'_id'),h(this,'_hand'),h(this,'_finger'),h(this,'_wrist'),h(this,'_tip'),h(this,'_radius',null),h(this,'_localTran'+'sform',new te()),h(this,'_worldTran'+'sform',new te()),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_dirtyLoca'+'l',!(-0x278*0x1+-0x26fb*0x1+0x2973*0x1)),(this['_index']=_0x54f126,this['_id']=_0x442f96,this['_hand']=_0x4900ea,this['_finger']=_0x91ae11,this['_wrist']=_0x442f96==='wrist',this['_tip']=this['_finger']&&!!R0[_0x442f96]);}['update'](_0x1bdcb9){this['_dirtyLoca'+'l']=!(-0x1*-0x53d+-0x1*0xa28+0x1*0x4eb),this['_radius']=_0x1bdcb9['radius'],this['_localPosi'+'tion']['copy'](_0x1bdcb9['transform']['position']),this['_localRota'+'tion']['copy'](_0x1bdcb9['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(0x138c+-0x807+0x43*-0x2c),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0x278e1e=this['_hand']['_manager']['camera']['parent'];_0x278e1e?this['_worldTran'+'sform']['mul2'](_0x278e1e['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||-0x217+-0x1a75+0x1c8c+0.005;}}let rh=[];const Wr=new D(),Oc=new D(),PS=new D();Ae['browser']&&window['XRHand']&&(rh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Ku extends me{constructor(_0x8dadf4){super(),h(this,'_manager'),h(this,'_inputSour'+'ce'),h(this,'_tracking',!(-0x40a+0x1a*-0x167+0x2881)),h(this,'_fingers',[]),h(this,'_joints',[]),h(this,'_jointsByI'+'d',{}),h(this,'_tips',[]),h(this,'_wrist',null);const _0x3594e5=_0x8dadf4['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x8dadf4['_manager'],this['_inputSour'+'ce']=_0x8dadf4,_0x3594e5['get']('wrist')){const _0x398115=new CS(0x19*0xac+0x6fb*0x1+-0x3*0x7ed,'wrist',this,null);this['_wrist']=_0x398115,this['_joints']['push'](_0x398115),this['_jointsByI'+'d']['wrist']=_0x398115;}for(let _0x10f6a8=0x2*-0xbaa+-0x1*0x19a1+0x30f5;_0x10f6a8<rh['length'];_0x10f6a8++){const _0x42a517=new uU(_0x10f6a8,this);for(let _0x27956f=0x1741+0x1dda+0xa9f*-0x5;_0x27956f<rh[_0x10f6a8]['length'];_0x27956f++){const _0x2b9121=rh[_0x10f6a8][_0x27956f];if(!_0x3594e5['get'](_0x2b9121))continue;const _0x5caf72=new CS(_0x27956f,_0x2b9121,this,_0x42a517);this['_joints']['push'](_0x5caf72),this['_jointsByI'+'d'][_0x2b9121]=_0x5caf72,_0x5caf72['tip']&&(this['_tips']['push'](_0x5caf72),_0x42a517['_tip']=_0x5caf72),_0x42a517['_joints']['push'](_0x5caf72);}}}['update'](_0x483df4){const _0x5d8054=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0x297b97=0x1ec5+-0x1d2f*-0x1+-0x1dfa*0x2;_0x297b97<this['_joints']['length'];_0x297b97++){const _0x409ba3=this['_joints'][_0x297b97],_0x2a89e6=_0x5d8054['hand']['get'](_0x409ba3['_id']);if(_0x2a89e6){let _0xfc95d0;if(_0x483df4['session']['visibility'+'State']!=='hidden'&&(_0xfc95d0=_0x483df4['getJointPo'+'se'](_0x2a89e6,this['_manager']['_reference'+'Space'])),_0xfc95d0)_0x409ba3['update'](_0xfc95d0),_0x409ba3['wrist']&&!this['_tracking']&&(this['_tracking']=!(-0x437+-0xb3*0xc+0xc9b*0x1),this['fire']('tracking'));else{if(_0x409ba3['wrist']){this['_tracking']&&(this['_tracking']=!(-0x15c2+-0x141b+0x29de*0x1),this['fire']('trackinglo'+'st'));break;}}}}const _0x5f6b54=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x46f39a=this['_jointsByI'+'d']['thumb-tip'],_0x335d71=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x51cae6=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0x2c0adb=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0x4bfafa=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x5f6b54&&_0x46f39a&&_0x335d71&&_0x51cae6&&_0x2c0adb&&_0x4bfafa){this['_inputSour'+'ce']['_dirtyRay']=!(-0x2421+0x13*-0x55+-0x1*-0x2a70),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x46f39a['_localPosi'+'tion'],_0x51cae6['_localPosi'+'tion'],-0x18ae+-0x142b+-0x1*-0x2cd9+0.5);let _0x411da2=_0x5f6b54,_0x514843=_0x4bfafa;if(this['_inputSour'+'ce']['handedness']===hU){const _0x2cac10=_0x411da2;_0x411da2=_0x514843,_0x514843=_0x2cac10;}Wr['sub2'](_0x411da2['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Oc['sub2'](_0x514843['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),PS['cross'](Wr,Oc)['normalize'](),Wr['lerp'](_0x335d71['_localPosi'+'tion'],_0x2c0adb['_localPosi'+'tion'],-0x3*0x42e+0x14df+-0x855+0.5),Wr['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](PS,Wr,0x2e*-0x83+-0xa*-0x3bc+0x13*-0xba+0.5)['normalize']();}this['_fingerIsC'+'losed'](-0x112d+-0x2423+-0x1*-0x3551)&&this['_fingerIsC'+'losed'](-0x1*-0x12e+0x5+0x3d*-0x5)&&this['_fingerIsC'+'losed'](0x4d5*0x5+0x807+-0x202d)&&this['_fingerIsC'+'losed'](0xee+-0x3a*-0x53+-0x4ee*0x4)?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(0x20af+-0xa*0x33d+0x1*-0x4d),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(0x1*-0x1e3f+0x53b+0x1*0x1905),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingerIsC'+'losed'](_0x383778){const _0x33f15c=this['_fingers'][_0x383778];return Wr['sub2'](_0x33f15c['joints'][-0x268e+-0x1d2+0x2860]['_localPosi'+'tion'],_0x33f15c['joints'][-0xd81+0x1*-0x155d+0x4f*0x71]['_localPosi'+'tion'])['normalize'](),Oc['sub2'](_0x33f15c['joints'][0x8a5*-0x3+-0x697+0x2088]['_localPosi'+'tion'],_0x33f15c['joints'][0x1*0x1829+0x4ee+-0x1d14]['_localPosi'+'tion'])['normalize'](),Wr['dot'](Oc)<-(-0x69d+-0x482*0x1+0xb1f+0.8);}['getJointBy'+'Id'](_0x9754a6){return this['_jointsByI'+'d'][_0x9754a6]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}h(Ku,'EVENT_TRAC'+'KING','tracking'),h(Ku,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const MS=new D(),DS=new le();let pU=0x7c7+-0x1548+0xd81;class Qt extends me{constructor(_0x4eee9f,_0x2396a0){super(),h(this,'_id'),h(this,'_manager'),h(this,'_xrInputSo'+'urce'),h(this,'_ray',new Dn()),h(this,'_rayLocal',new Dn()),h(this,'_grip',!(0xc36+0x199b+-0x14*0x1e4)),h(this,'_hand',null),h(this,'_velocitie'+'sAvailable',!(0x1*-0x24df+-0x1f48+0xc*0x5ae)),h(this,'_velocitie'+'sTimestamp',de()),h(this,'_localTran'+'sform',null),h(this,'_worldTran'+'sform',null),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_localPosi'+'tion',null),h(this,'_localPosi'+'tionLast',null),h(this,'_localRota'+'tion',null),h(this,'_linearVel'+'ocity',null),h(this,'_dirtyLoca'+'l',!(0x24*-0xf6+0x84a+0x1a4e*0x1)),h(this,'_dirtyRay',!(0x177d*0x1+0x22b7*0x1+-0x3a33)),h(this,'_selecting',!(0x228+0xd38+-0xf5f)),h(this,'_squeezing',!(0x973+0x2447*0x1+-0x2db9)),h(this,'_elementIn'+'put',!(0x10a*0x16+-0x687+-0x1055)),h(this,'_elementEn'+'tity',null),h(this,'_hitTestSo'+'urces',[]),(this['_id']=++pU,this['_manager']=_0x4eee9f,this['_xrInputSo'+'urce']=_0x2396a0,_0x2396a0['hand']&&(this['_hand']=new Ku(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x16d817){this['_elementIn'+'put']!==_0x16d817&&(this['_elementIn'+'put']=_0x16d817,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0x2d3ee2){if(this['_hand'])this['_hand']['update'](_0x2d3ee2);else{const _0x3c50b0=this['_xrInputSo'+'urce']['gripSpace'];if(_0x3c50b0){const _0x20fd8e=_0x2d3ee2['getPose'](_0x3c50b0,this['_manager']['_reference'+'Space']);if(_0x20fd8e){this['_grip']||(this['_grip']=!(0x7fa+0x1*-0x544+0x2*-0x15b),this['_localTran'+'sform']=new te(),this['_worldTran'+'sform']=new te(),this['_localPosi'+'tionLast']=new D(),this['_localPosi'+'tion']=new D(),this['_localRota'+'tion']=new le(),this['_linearVel'+'ocity']=new D());const _0x48d6e8=de(),_0xb9c74d=(_0x48d6e8-this['_velocitie'+'sTimestamp'])/(-0x13f3+0x140f+0x3cc);this['_velocitie'+'sTimestamp']=_0x48d6e8,this['_dirtyLoca'+'l']=!(-0xfe9*0x2+-0xea6+-0x173c*-0x2),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x20fd8e['transform']['position']),this['_localRota'+'tion']['copy'](_0x20fd8e['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(-0x1e45+-0x1*0x1eab+0x3cf0),this['_manager']['input']['velocities'+'Supported']&&_0x20fd8e['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x20fd8e['linearVelo'+'city']):_0xb9c74d>-0x1f45+0xb*0xfb+0x147c&&(MS['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0xb9c74d),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],MS,0x18a3+0x360*0x1+0x65*-0x47+0.15));}else this['_velocitie'+'sAvailable']=!(0x3*-0x46e+-0xb5a+-0x9*-0x2bd);}const _0xb2575c=_0x2d3ee2['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0xb2575c&&(this['_dirtyRay']=!(-0x349*0x3+-0x3d+0x50c*0x2),this['_rayLocal']['origin']['copy'](_0xb2575c['transform']['position']),this['_rayLocal']['direction']['set'](0x697+-0x120e+0xb77*0x1,0x2ab*0x8+-0x1*-0x1a46+0x1*-0x2f9e,-(-0x1*-0xa9d+0x1e*-0xf+-0x8da)),DS['copy'](_0xb2575c['transform']['orientatio'+'n']),DS['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(0x228+-0x92a+0x5*0x167),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0x5a2ee1=this['_manager']['camera']['parent'];_0x5a2ee1?this['_worldTran'+'sform']['mul2'](_0x5a2ee1['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x3f2394=this['_dirtyRay'];if(this['_dirtyRay']=!(0x3*0xa75+-0x8*-0x3e+-0x214e),this['_manager']['camera']['parent']){const _0x2a64da=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x2a64da['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x2a64da),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x3f2394&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x3e3727={}){_0x3e3727['inputSourc'+'e']=this,_0x3e3727['profile']=this['_xrInputSo'+'urce']['profiles'][-0x1dc1+0x71*-0x36+0x3597];const _0x37136c=_0x3e3727['callback'];_0x3e3727['callback']=(_0x34f784,_0x58a835)=>{_0x58a835&&this['onHitTestS'+'ourceAdd'](_0x58a835),_0x37136c&&_0x37136c(_0x34f784,_0x58a835);},this['_manager']['hitTest']['start'](_0x3e3727);}['onHitTestS'+'ourceAdd'](_0x1830a0){this['_hitTestSo'+'urces']['push'](_0x1830a0),this['fire']('hittest:ad'+'d',_0x1830a0),_0x1830a0['on']('result',(_0x53ab5f,_0x1f109d,_0xfe83c2,_0x479a18)=>{_0xfe83c2===this&&this['fire']('hittest:re'+'sult',_0x1830a0,_0x53ab5f,_0x1f109d,_0x479a18);}),_0x1830a0['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x1830a0),this['fire']('hittest:re'+'move',_0x1830a0);});}['onHitTestS'+'ourceRemov'+'e'](_0x4d7141){const _0x58656e=this['_hitTestSo'+'urces']['indexOf'](_0x4d7141);_0x58656e!==-(-0x873+-0x35*-0x13+0x485)&&this['_hitTestSo'+'urces']['splice'](_0x58656e,0x16e+-0x626*-0x4+0x1a05*-0x1);}}h(Qt,'EVENT_REMO'+'VE','remove'),h(Qt,'EVENT_SELE'+'CT','select'),h(Qt,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Qt,'EVENT_SELE'+'CTEND','selectend'),h(Qt,'EVENT_SQUE'+'EZE','squeeze'),h(Qt,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Qt,'EVENT_SQUE'+'EZEEND','squeezeend'),h(Qt,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),h(Qt,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),h(Qt,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class Li extends me{constructor(_0x5f0abe){var _0x560a66,_0x17fc41;super(),h(this,'manager'),h(this,'_inputSour'+'ces',[]),h(this,'_onInputSo'+'urcesChang'+'eEvt'),h(this,'velocities'+'Supported',!(0x949*0x4+-0x9a3*-0x4+-0x4baf)),(this['manager']=_0x5f0abe,this['velocities'+'Supported']=!!(Ae['browser']&&((_0x17fc41=(_0x560a66=window['XRPose'])==null?void(0x5b6+0xe1a+0x9e8*-0x2):_0x560a66['prototype'])!=null&&_0x17fc41['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x45da18=>{this['_onInputSo'+'urcesChang'+'e'](_0x45da18);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x442f3e=this['manager']['session'];_0x442f3e['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x442f3e['addEventLi'+'stener']('select',_0x6aac83=>{const _0x178345=this['_getByInpu'+'tSource'](_0x6aac83['inputSourc'+'e']);_0x178345['update'](_0x6aac83['frame']),_0x178345['fire']('select',_0x6aac83),this['fire']('select',_0x178345,_0x6aac83);}),_0x442f3e['addEventLi'+'stener']('selectstar'+'t',_0x318866=>{const _0x461c20=this['_getByInpu'+'tSource'](_0x318866['inputSourc'+'e']);_0x461c20['_selecting']||(_0x461c20['update'](_0x318866['frame']),_0x461c20['_selecting']=!(0x234c+0x11ad*0x1+0x1*-0x34f9),_0x461c20['fire']('selectstar'+'t',_0x318866),this['fire']('selectstar'+'t',_0x461c20,_0x318866));}),_0x442f3e['addEventLi'+'stener']('selectend',_0x4275f3=>{const _0x3cb062=this['_getByInpu'+'tSource'](_0x4275f3['inputSourc'+'e']);_0x3cb062['update'](_0x4275f3['frame']),_0x3cb062['_selecting']=!(-0xea7+-0x106*0x22+0x3174),_0x3cb062['fire']('selectend',_0x4275f3),this['fire']('selectend',_0x3cb062,_0x4275f3);}),_0x442f3e['addEventLi'+'stener']('squeeze',_0x2e6c8d=>{const _0x2cd2c1=this['_getByInpu'+'tSource'](_0x2e6c8d['inputSourc'+'e']);_0x2cd2c1['update'](_0x2e6c8d['frame']),_0x2cd2c1['fire']('squeeze',_0x2e6c8d),this['fire']('squeeze',_0x2cd2c1,_0x2e6c8d);}),_0x442f3e['addEventLi'+'stener']('squeezesta'+'rt',_0x5864c8=>{const _0x1e05ba=this['_getByInpu'+'tSource'](_0x5864c8['inputSourc'+'e']);_0x1e05ba['update'](_0x5864c8['frame']),_0x1e05ba['_squeezing']=!(-0x1e36*-0x1+0xa2+0x4*-0x7b6),_0x1e05ba['fire']('squeezesta'+'rt',_0x5864c8),this['fire']('squeezesta'+'rt',_0x1e05ba,_0x5864c8);}),_0x442f3e['addEventLi'+'stener']('squeezeend',_0x58aba2=>{const _0x29f854=this['_getByInpu'+'tSource'](_0x58aba2['inputSourc'+'e']);_0x29f854['update'](_0x58aba2['frame']),_0x29f854['_squeezing']=!(-0x1bd*0x1+0x133+0x8b),_0x29f854['fire']('squeezeend',_0x58aba2),this['fire']('squeezeend',_0x29f854,_0x58aba2);});const _0x53959d=_0x442f3e['inputSourc'+'es'];for(let _0x47d360=0x86e*0x4+0x154b+-0x3703;_0x47d360<_0x53959d['length'];_0x47d360++)this['_addInputS'+'ource'](_0x53959d[_0x47d360]);}['_onSession'+'End'](){let _0x1acba9=this['_inputSour'+'ces']['length'];for(;_0x1acba9--;){const _0x29b715=this['_inputSour'+'ces'][_0x1acba9];this['_inputSour'+'ces']['splice'](_0x1acba9,-0x1218*0x2+-0x147b+-0x9*-0x64c),_0x29b715['fire']('remove'),this['fire']('remove',_0x29b715);}this['fire']('removeall'),this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x2a1758){for(let _0x236bf4=0xb3*-0x18+0xf32+0x196;_0x236bf4<_0x2a1758['removed']['length'];_0x236bf4++)this['_removeInp'+'utSource'](_0x2a1758['removed'][_0x236bf4]);for(let _0x1afc34=0x103*0x1f+0xb25+-0x2a82;_0x1afc34<_0x2a1758['added']['length'];_0x1afc34++)this['_addInputS'+'ource'](_0x2a1758['added'][_0x1afc34]);}['_getByInpu'+'tSource'](_0x4e8ec6){for(let _0x44af88=0x2212+0x29*0x66+-0x3268;_0x44af88<this['_inputSour'+'ces']['length'];_0x44af88++)if(this['_inputSour'+'ces'][_0x44af88]['inputSourc'+'e']===_0x4e8ec6)return this['_inputSour'+'ces'][_0x44af88];return null;}['_removeApp'+'Entity'](_0x565b35){const _0x112bdc=this['manager']['app']['root']['findByName']('Armature_'+_0x565b35);_0x112bdc&&this['manager']['app']['root']['removeChil'+'d'](_0x112bdc);}['_addInputS'+'ource'](_0xf1204a){if(this['_removeApp'+'Entity'](_0xf1204a['handedness']),this['_getByInpu'+'tSource'](_0xf1204a))return;const _0xe7134c=new Qt(this['manager'],_0xf1204a);this['_inputSour'+'ces']['push'](_0xe7134c),this['fire']('add',_0xe7134c);}['_removeInp'+'utSource'](_0x3a73c0){for(let _0x5e6387=-0x1*0x1f08+0x1553+0x163*0x7;_0x5e6387<this['_inputSour'+'ces']['length'];_0x5e6387++){if(this['_inputSour'+'ces'][_0x5e6387]['inputSourc'+'e']!==_0x3a73c0)continue;const _0x585cad=this['_inputSour'+'ces'][_0x5e6387];this['_inputSour'+'ces']['splice'](_0x5e6387,-0xecd+0x7a5+0x729);let _0x5ac661=_0x585cad['hitTestSou'+'rces']['length'];for(;_0x5ac661--;)_0x585cad['hitTestSou'+'rces'][_0x5ac661]['remove']();this['_removeApp'+'Entity'](_0x585cad['handedness']),_0x585cad['fire']('remove'),this['fire']('remove',_0x585cad);return;}}['update'](_0x29ebef){for(let _0x18c956=0x17f9+-0x637*0x4+0xe3;_0x18c956<this['_inputSour'+'ces']['length'];_0x18c956++)this['_inputSour'+'ces'][_0x18c956]['update'](_0x29ebef);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}h(Li,'EVENT_ADD','add'),h(Li,'EVENT_REMO'+'VE','remove'),h(Li,'EVENT_SELE'+'CT','select'),h(Li,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Li,'EVENT_SELE'+'CTEND','selectend'),h(Li,'EVENT_SQUE'+'EZE','squeeze'),h(Li,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Li,'EVENT_SQUE'+'EZEEND','squeezeend');const Ja=new D(),IS=new D(),Lf=new te(),LS=new te();class Zu extends me{constructor(_0x3ad36b){super(),h(this,'_manager'),h(this,'_supported',!(-0x7*-0x277+-0x181a+0x1*0x6da)),h(this,'_available',!(-0x208d*-0x1+-0x67f+0x201*-0xd)),h(this,'_lightProb'+'eRequested',!(0x2*0x1305+-0x6c7+-0x1f42)),h(this,'_lightProb'+'e',null),h(this,'_intensity',-0xf*0x1f+0x53e+0x1*-0x36d),h(this,'_rotation',new le()),h(this,'_color',new ie()),h(this,'_spherical'+'Harmonics',new Float32Array(0x2025*-0x1+-0x2*0x40+-0x1060*-0x2)),(this['_manager']=_0x3ad36b,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(0x1d07*0x1+0x151b+-0x3222));}['_onSession'+'End'](){this['_supported']=!(-0x1057+0x1*0x269+0x1d*0x7b),this['_available']=!(0x25f8+0x1*-0x1d3b+0x2b*-0x34),this['_lightProb'+'eRequested']=!(-0x1*-0x4f9+0x9c*0x15+-0x11c4),this['_lightProb'+'e']=null;}['start'](){let _0x49ebc2;if(this['_manager']['session']||(_0x49ebc2=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0x49ebc2&&this['_manager']['type']!==$o&&(_0x49ebc2=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0x49ebc2&&!this['_supported']&&(_0x49ebc2=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0x49ebc2&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0x49ebc2=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0x49ebc2){this['fire']('error',_0x49ebc2);return;}this['_lightProb'+'eRequested']=!(0x1b*-0x15d+0x1*-0x1433+0x3902*0x1),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x45f0c4=>{const _0x4cc185=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(0xb*0x337+-0x1e00+0x55c*-0x1),this['_manager']['active']?_0x4cc185&&(this['_lightProb'+'e']=_0x45f0c4):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x483b6b=>{this['_lightProb'+'eRequested']=!(0x23dc+-0x13*-0x21+0x2*-0x1327),this['fire']('error',_0x483b6b);});}['end'](){this['_lightProb'+'eRequested']=!(-0x1bd*0x9+-0xf*-0x243+-0x1*0x1247),this['_lightProb'+'e']=null,this['_available']=!(-0xd30+0x1e25+-0x2*0x87a);}['update'](_0x463ce1){if(!this['_lightProb'+'e'])return;const _0x43ecd0=_0x463ce1['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x43ecd0)return;this['_available']||(this['_available']=!(0x598*-0x1+0x2*0xa85+-0xf72),this['fire']('available'));const _0x2a0074=_0x43ecd0['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](-0x8eb*0x3+0xb8c+0xf36,Math['max'](_0x2a0074['x'],Math['max'](_0x2a0074['y'],_0x2a0074['z']))),Ja['copy'](_0x2a0074)['mulScalar']((-0x47f+0x2*0x7cd+-0xb1a)/this['_intensity']),this['_color']['set'](Ja['x'],Ja['y'],Ja['z']),Ja['set'](0x1*0x147+-0x140a+0x12c3,0x1f2b*0x1+0x1aad*0x1+-0x73b*0x8,0x50b*-0x2+0x3c+0x9da),IS['copy'](_0x43ecd0['primaryLig'+'htDirectio'+'n']),Lf['setLookAt'](IS,Ja,D['UP']),LS['setFromAxi'+'sAngle'](D['RIGHT'],-0x1*-0x89+0xf7c+0xfab*-0x1),Lf['mul'](LS),this['_rotation']['setFromMat'+'4'](Lf),this['_spherical'+'Harmonics']['set'](_0x43ecd0['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}h(Zu,'EVENT_AVAI'+'LABLE','available'),h(Zu,'EVENT_ERRO'+'R','error');let mU=0x254+-0x1*-0x116f+-0x13c3;class Qu extends me{constructor(_0x481625,_0x4f7aaf){super(),h(this,'_id'),h(this,'_planeDete'+'ction'),h(this,'_xrPlane'),h(this,'_lastChang'+'edTime'),h(this,'_orientati'+'on'),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_id']=++mU,this['_planeDete'+'ction']=_0x481625,this['_xrPlane']=_0x4f7aaf,this['_lastChang'+'edTime']=_0x4f7aaf['lastChange'+'dTime'],this['_orientati'+'on']=_0x4f7aaf['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x662e81){const _0x5cf7cb=this['_planeDete'+'ction']['_manager'],_0x4a3ec3=_0x662e81['getPose'](this['_xrPlane']['planeSpace'],_0x5cf7cb['_reference'+'Space']);_0x4a3ec3&&(this['_position']['copy'](_0x4a3ec3['transform']['position']),this['_rotation']['copy'](_0x4a3ec3['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}h(Qu,'EVENT_REMO'+'VE','remove'),h(Qu,'EVENT_CHAN'+'GE','change');class Do extends me{constructor(_0x7411f8){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRPlane']),h(this,'_available',!(-0x2*-0x532+0x1*0x1f7+-0xc5a)),h(this,'_planesInd'+'ex',new Map()),h(this,'_planes',[]),(this['_manager']=_0x7411f8,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(-0x2*-0x184+0x12b5+-0x6b*0x34)&&(this['_available']=!(-0x2ed*-0x4+-0x3a*-0x89+-0x2abe),this['fire']('available'));}['_onSession'+'End'](){for(let _0x56762b=-0xa1*-0xc+0x1*0x17a1+0x1f2d*-0x1;_0x56762b<this['_planes']['length'];_0x56762b++)this['_planes'][_0x56762b]['destroy'](),this['fire']('remove',this['_planes'][_0x56762b]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=0x265*0x1+0x28d*-0x8+0x1*0x1203,this['_available']&&(this['_available']=!(-0xfbf*0x1+-0x1*0x806+0x17c6),this['fire']('unavailabl'+'e'));}['update'](_0x230550){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x230550['detectedPl'+'anes']['size'])this['_available']=!(0xfe+-0x144b+-0x225*-0x9),this['fire']('available');else return;}const _0x5a3018=_0x230550['detectedPl'+'anes'];for(const [_0x377f48,_0x78aa56]of this['_planesInd'+'ex'])_0x5a3018['has'](_0x377f48)||(this['_planesInd'+'ex']['delete'](_0x377f48),this['_planes']['splice'](this['_planes']['indexOf'](_0x78aa56),0xdf4+0x1447+-0x223a),_0x78aa56['destroy'](),this['fire']('remove',_0x78aa56));for(const _0x4aa1cd of _0x5a3018){let _0x13176a=this['_planesInd'+'ex']['get'](_0x4aa1cd);_0x13176a?_0x13176a['update'](_0x230550):(_0x13176a=new Qu(this,_0x4aa1cd),this['_planesInd'+'ex']['set'](_0x4aa1cd,_0x13176a),this['_planes']['push'](_0x13176a),_0x13176a['update'](_0x230550),this['fire']('add',_0x13176a));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}h(Do,'EVENT_AVAI'+'LABLE','available'),h(Do,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Do,'EVENT_ADD','add'),h(Do,'EVENT_REMO'+'VE','remove');class Io extends me{constructor(_0x122228,_0x5060cb,_0x354bb6=null){super(),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_uuid',null),h(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x122228,this['_xrAnchor']=_0x5060cb,this['_uuid']=_0x354bb6);}['destroy'](){if(!this['_xrAnchor'])return;const _0x180626=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x180626,this);}['update'](_0x4a5eac){if(!this['_xrAnchor'])return;const _0x775fef=_0x4a5eac['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x775fef){if(this['_position']['equals'](_0x775fef['transform']['position'])&&this['_rotation']['equals'](_0x775fef['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x775fef['transform']['position']),this['_rotation']['copy'](_0x775fef['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x3bc11b){if(!this['_anchors']['persistenc'+'e']){_0x3bc11b==null||_0x3bc11b(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x3bc11b==null||_0x3bc11b(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x3bc11b&&this['_uuidReque'+'sts']['push'](_0x3bc11b);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0x3ecba3=>{this['_uuid']=_0x3ecba3,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x3bc11b==null||_0x3bc11b(null,_0x3ecba3);for(const _0x232cd5 of this['_uuidReque'+'sts'])_0x232cd5(null,_0x3ecba3);this['_uuidReque'+'sts']=null,this['fire']('persist',_0x3ecba3);})['catch'](_0x3fdcde=>{_0x3bc11b==null||_0x3bc11b(_0x3fdcde,null);for(const _0x55294f of this['_uuidReque'+'sts'])_0x55294f(_0x3fdcde,null);this['_uuidReque'+'sts']=null;});}['forget'](_0x4a22fe){if(!this['_uuid']){_0x4a22fe==null||_0x4a22fe(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x5a2bcc=>{this['_uuid']=null,_0x4a22fe==null||_0x4a22fe(_0x5a2bcc),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}h(Io,'EVENT_DEST'+'ROY','destroy'),h(Io,'EVENT_CHAN'+'GE','change'),h(Io,'EVENT_PERS'+'IST','persist'),h(Io,'EVENT_FORG'+'ET','forget');var VS;class on extends me{constructor(_0x105b46){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!window['XRAnchor']),h(this,'_available',!(-0xd47+0x1c8a*0x1+-0xd9*0x12)),h(this,'_checkingA'+'vailabilit'+'y',!(-0x385*0x7+-0x299*0xe+0x3d02)),h(this,'_persisten'+'ce',Ae['browser']&&!!((VS=window==null?void(0x16*0x79+-0x2335+-0x845*-0x3):window['XRSession'])!=null&&VS['prototype']['restorePer'+'sistentAnc'+'hor'])),h(this,'_creationQ'+'ueue',[]),h(this,'_index',new Map()),h(this,'_indexByUu'+'id',new Map()),h(this,'_list',[]),h(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x105b46,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){var _0x56093f;const _0x42d6da=((_0x56093f=this['manager']['session']['enabledFea'+'tures'])==null?void(0x2*0x287+0x2*-0xc32+0x1356):_0x56093f['indexOf']('anchors'))>=-0x40f+-0x251c+-0x1*-0x292b;_0x42d6da&&(this['_available']=_0x42d6da,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(0x211f+-0x15e7+0x3bd*-0x3);for(let _0x1a89f7=0x18*-0x13d+-0x10b+-0x36b*-0x9;_0x1a89f7<this['_creationQ'+'ueue']['length'];_0x1a89f7++)this['_creationQ'+'ueue'][_0x1a89f7]['callback']&&this['_creationQ'+'ueue'][_0x1a89f7]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=-0x2*0xb32+-0x3*0xc4b+0x3b45,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x14582b=this['_list']['length'];for(;_0x14582b--;)this['_list'][_0x14582b]['destroy']();this['_list']['length']=0x22b6+-0x21b3+-0x103,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x683961,_0x38ab2b=null){const _0x41305a=new Io(this,_0x683961,_0x38ab2b);return this['_index']['set'](_0x683961,_0x41305a),_0x38ab2b&&this['_indexByUu'+'id']['set'](_0x38ab2b,_0x41305a),this['_list']['push'](_0x41305a),_0x41305a['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x41305a;}['_onAnchorD'+'estroy'](_0x2f767a,_0x53e9ce){this['_index']['delete'](_0x2f767a),_0x53e9ce['uuid']&&this['_indexByUu'+'id']['delete'](_0x53e9ce['uuid']);const _0x12d52f=this['_list']['indexOf'](_0x53e9ce);_0x12d52f!==-(-0x1*0x251b+0xe88+0x1694)&&this['_list']['splice'](_0x12d52f,-0x1e27+-0xfdc+0x49a*0xa),this['fire']('destroy',_0x53e9ce);}['create'](_0x1b78b2,_0x159f46,_0xcb07cd){if(!this['_available']){_0xcb07cd==null||_0xcb07cd(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x1b78b2 instanceof XRHitTestResult){const _0x3a34f9=_0x1b78b2;if(_0xcb07cd=_0x159f46,!this['_supported']){_0xcb07cd==null||_0xcb07cd(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x3a34f9['createAnch'+'or']){_0xcb07cd==null||_0xcb07cd(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x3a34f9['createAnch'+'or']()['then'](_0x1ab01a=>{const _0x2042a0=this['_createAnc'+'hor'](_0x1ab01a);_0xcb07cd==null||_0xcb07cd(null,_0x2042a0),this['fire']('add',_0x2042a0);})['catch'](_0x349f68=>{_0xcb07cd==null||_0xcb07cd(_0x349f68,null),this['fire']('error',_0x349f68);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x1b78b2,_0x159f46),'callback':_0xcb07cd});}['restore'](_0x309b2e,_0x2678d5){if(!this['_available']){_0x2678d5==null||_0x2678d5(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x2678d5==null||_0x2678d5(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x2678d5==null||_0x2678d5(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x309b2e)['then'](_0x55e5bb=>{const _0x122c8e=this['_createAnc'+'hor'](_0x55e5bb,_0x309b2e);_0x2678d5==null||_0x2678d5(null,_0x122c8e),this['fire']('add',_0x122c8e);})['catch'](_0x37563b=>{_0x2678d5==null||_0x2678d5(_0x37563b,null),this['fire']('error',_0x37563b);});}['forget'](_0x5e07b9,_0x262ffe){if(!this['_available']){_0x262ffe==null||_0x262ffe(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x262ffe==null||_0x262ffe(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x262ffe==null||_0x262ffe(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x5e07b9)['then'](()=>{_0x262ffe==null||_0x262ffe(null);})['catch'](_0x24b5a7=>{_0x262ffe==null||_0x262ffe(_0x24b5a7),this['fire']('error',_0x24b5a7);});}['update'](_0x8cea2c){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(-0x1*-0x19c7+-0x26c5+0x2*0x67f),_0x8cea2c['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x57e148=>{_0x57e148['delete'](),this['manager']['active']&&(this['_available']=!(-0x1*-0x1b8f+0x2357*-0x1+-0x53*-0x18),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x213f32=-0x9*0x40a+-0xf8a+0x33e4;_0x213f32<this['_creationQ'+'ueue']['length'];_0x213f32++){const _0x29c0d8=this['_creationQ'+'ueue'][_0x213f32];_0x8cea2c['createAnch'+'or'](_0x29c0d8['transform'],this['manager']['_reference'+'Space'])['then'](_0x22edc6=>{_0x29c0d8['callback']&&this['_callbacks'+'Anchors']['set'](_0x22edc6,_0x29c0d8['callback']);})['catch'](_0x5b4e12=>{_0x29c0d8['callback']&&_0x29c0d8['callback'](_0x5b4e12,null),this['fire']('error',_0x5b4e12);});}this['_creationQ'+'ueue']['length']=-0x188a+0xb59+0x1*0xd31;}for(const [_0x23ee2f,_0x365962]of this['_index'])_0x8cea2c['trackedAnc'+'hors']['has'](_0x23ee2f)||(this['_index']['delete'](_0x23ee2f),_0x365962['destroy']());for(let _0x4818fb=0x8ed*0x3+-0x13bf*-0x1+-0x31a*0xf;_0x4818fb<this['_list']['length'];_0x4818fb++)this['_list'][_0x4818fb]['update'](_0x8cea2c);for(const _0x5c0c63 of _0x8cea2c['trackedAnc'+'hors']){if(this['_index']['has'](_0x5c0c63))continue;try{const _0x3511c4=_0x5c0c63['anchorSpac'+'e'];}catch{continue;}const _0x3e7d1f=this['_createAnc'+'hor'](_0x5c0c63);_0x3e7d1f['update'](_0x8cea2c);const _0x465b37=this['_callbacks'+'Anchors']['get'](_0x5c0c63);_0x465b37&&(this['_callbacks'+'Anchors']['delete'](_0x5c0c63),_0x465b37(null,_0x3e7d1f)),this['fire']('add',_0x3e7d1f);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}h(on,'EVENT_AVAI'+'LABLE','available'),h(on,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(on,'EVENT_ERRO'+'R','error'),h(on,'EVENT_ADD','add'),h(on,'EVENT_DEST'+'ROY','destroy');class Ju extends me{constructor(_0x521937,_0x28d29d){super(),h(this,'_meshDetec'+'tion'),h(this,'_xrMesh'),h(this,'_lastChang'+'ed',-0xe9*0x13+0x5e1+0xb6a),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_meshDetec'+'tion']=_0x521937,this['_xrMesh']=_0x28d29d,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x284153){const _0x57060f=this['_meshDetec'+'tion']['_manager'],_0x46cbc9=_0x284153['getPose'](this['_xrMesh']['meshSpace'],_0x57060f['_reference'+'Space']);_0x46cbc9&&(this['_position']['copy'](_0x46cbc9['transform']['position']),this['_rotation']['copy'](_0x46cbc9['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}h(Ju,'EVENT_REMO'+'VE','remove'),h(Ju,'EVENT_CHAN'+'GE','change');class Lo extends me{constructor(_0x2b611c){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRMesh']),h(this,'_available',!(0x1df3+-0x1339+-0xab9)),h(this,'_index',new Map()),h(this,'_list',[]),(this['_manager']=_0x2b611c,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x4a2db9){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x4a2db9['detectedMe'+'shes']['size'])this['_available']=!(0x8fc+-0x1d*0x53+-0x6b*-0x1),this['fire']('available');else return;}for(const _0x33f025 of _0x4a2db9['detectedMe'+'shes']){let _0x2b6a1b=this['_index']['get'](_0x33f025);_0x2b6a1b?_0x2b6a1b['update'](_0x4a2db9):(_0x2b6a1b=new Ju(this,_0x33f025),this['_index']['set'](_0x33f025,_0x2b6a1b),this['_list']['push'](_0x2b6a1b),_0x2b6a1b['update'](_0x4a2db9),this['fire']('add',_0x2b6a1b));}for(const _0x19709f of this['_index']['values']())_0x4a2db9['detectedMe'+'shes']['has'](_0x19709f['xrMesh'])||this['_removeMes'+'h'](_0x19709f);}['_removeMes'+'h'](_0x10adba){this['_index']['delete'](_0x10adba['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0x10adba),0x1250*-0x1+0x26c9+-0x2*0xa3c),_0x10adba['destroy'](),this['fire']('remove',_0x10adba);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x484957=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(0x6*0x33b+0x5*-0x3a9+-0x114);if(!_0x484957)return;this['_available']=_0x484957,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(-0x15d*0x19+0x71*0x9+0x1*0x1e1d);for(const _0x2e317c of this['_index']['values']())this['_removeMes'+'h'](_0x2e317c);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}h(Lo,'EVENT_AVAI'+'LABLE','available'),h(Lo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Lo,'EVENT_ADD','add'),h(Lo,'EVENT_REMO'+'VE','remove');class O0 extends me{constructor(_0x55a5f2,_0x29a6b6,_0x256ca0){super(),h(this,'_manager'),h(this,'_xrView'),h(this,'_positionD'+'ata',new Float32Array(0x3*0xbcb+0x383*0x1+-0x26e1)),h(this,'_viewport',new re()),h(this,'_projMat',new te()),h(this,'_projViewO'+'ffMat',new te()),h(this,'_viewMat',new te()),h(this,'_viewOffMa'+'t',new te()),h(this,'_viewMat3',new _i()),h(this,'_viewInvMa'+'t',new te()),h(this,'_viewInvOf'+'fMat',new te()),h(this,'_xrCamera',null),h(this,'_textureCo'+'lor',null),h(this,'_textureDe'+'pth',null),h(this,'_depthInfo',null),h(this,'_emptyDept'+'hBuffer',new Uint8Array(0x19ff+0x2641+-0x4020)),h(this,'_depthMatr'+'ix',new te()),(this['_manager']=_0x55a5f2,this['_xrView']=_0x29a6b6);const _0x9883f2=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new _e(_0x9883f2,{'format':Cr,'mipmaps':!(-0x15b0*-0x1+0x10ce+0x1*-0x267d),'addressU':ue,'addressV':ue,'minFilter':vt,'magFilter':vt,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0x4ce63f=this['_manager']['views']['depthGpuOp'+'timized']?Te:vt;this['_textureDe'+'pth']=new _e(_0x9883f2,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0x256ca0===0x1fd8+-0x21ec+0x215?0x4d0+-0x46+-0x48a:_0x256ca0,'mipmaps':!(0x1*0x113c+0x6f3+-0xa*0x26b),'addressU':ue,'addressV':ue,'minFilter':_0x4ce63f,'magFilter':_0x4ce63f,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0x534ff=0x25*0x28+0x221f+-0x46f*0x9;_0x534ff<this['_textureDe'+'pth']['_levels']['length'];_0x534ff++)this['_textureDe'+'pth']['_levels'][_0x534ff]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x9883f2['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0x52f065;return((_0x52f065=this['_depthInfo'])==null?void(0x2342+0x8*-0x21e+-0x29e*0x7):_0x52f065['rawValueTo'+'Meters'])||-0x486*-0x2+0x389+-0xc95;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x3a769d,_0x2780b3){this['_xrView']=_0x2780b3,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x388519=_0x3a769d['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x388519['x'],this['_viewport']['y']=_0x388519['y'],this['_viewport']['z']=_0x388519['width'],this['_viewport']['w']=_0x388519['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x3a769d);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0x252cff=this['_manager']['webglBindi'+'ng'];if(!_0x252cff)return;const _0x5d2ad4=_0x252cff['getCameraI'+'mage'](this['_xrCamera']);if(!_0x5d2ad4)return;const _0x36eec8=this['_manager']['app']['graphicsDe'+'vice'],_0x4e4bd5=_0x36eec8['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x4e4bd5['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x4e4bd5['createFram'+'ebuffer']();else{const _0x11a55d=_0x4e4bd5['COLOR_ATTA'+'CHMENT0'],_0x1c502f=this['_xrCamera']['width'],_0x2e1001=this['_xrCamera']['height'];_0x36eec8['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x4e4bd5['framebuffe'+'rTexture2D'](_0x4e4bd5['FRAMEBUFFE'+'R'],_0x11a55d,_0x4e4bd5['TEXTURE_2D'],_0x5d2ad4,-0x231d+0x2f*0x5e+0x11db),_0x36eec8['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x4e4bd5['framebuffe'+'rTexture2D'](_0x4e4bd5['FRAMEBUFFE'+'R'],_0x11a55d,_0x4e4bd5['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],0x42f+-0x209e+0x1c6f),_0x4e4bd5['bindFrameb'+'uffer'](_0x4e4bd5['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x4e4bd5['bindFrameb'+'uffer'](_0x4e4bd5['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x4e4bd5['blitFrameb'+'uffer'](0x68f*0x1+-0x1c95+0x1*0x1606,_0x2e1001,_0x1c502f,0x21*0xbb+-0x1*0x204a+0x82f,0x1*-0x1737+0x955+0xde2,-0x1e35+-0x163*-0x17+-0x1b0,_0x1c502f,_0x2e1001,_0x4e4bd5['COLOR_BUFF'+'ER_BIT'],_0x4e4bd5['NEAREST']);}}['_updateDep'+'th'](_0x1c2e49){var _0x21b854,_0x43387b;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x187ff0=this['_manager']['views']['depthGpuOp'+'timized'],_0x58bb71=_0x187ff0?this['_manager']['webglBindi'+'ng']:_0x1c2e49;if(!_0x58bb71){this['_depthInfo']=null;return;}const _0x4e5649=_0x58bb71['getDepthIn'+'formation'](this['_xrView']);if(!_0x4e5649){this['_depthInfo']=null;return;}let _0x2ff009=!this['_depthInfo']!=!_0x4e5649;this['_depthInfo']=_0x4e5649;const _0x26253c=((_0x21b854=this['_depthInfo'])==null?void(0x1f*0x13d+0x1a*-0x11b+-0x9a5*0x1):_0x21b854['width'])||0x154e+-0x3*0xb03+-0x61*-0x1f,_0x5cc481=((_0x43387b=this['_depthInfo'])==null?void(0x1c54+-0x1*0xe7+-0x1b6d):_0x43387b['height'])||0x78*0xf+-0x13e1+0xcdd;let _0x2ac814=!(0x25ea+-0x47*0x6b+-0x83c);if((this['_textureDe'+'pth']['width']!==_0x26253c||this['_textureDe'+'pth']['height']!==_0x5cc481)&&(this['_textureDe'+'pth']['_width']=_0x26253c,this['_textureDe'+'pth']['_height']=_0x5cc481,_0x2ff009=!(-0x2575+0x9c3+0x1bb2),_0x2ac814=!(-0x2*0xdc5+0xc1*-0x23+0x37*0xfb)),_0x2ff009&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x187ff0){if(this['_depthInfo']['texture']){const _0x484ba6=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0x484ba6['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0x484ba6['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Ji:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x484ba6['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x484ba6['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x484ba6['RED'];break;case $i:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x484ba6['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x484ba6['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x484ba6['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(0x2cd+-0x7ed+0x520);}}else this['_textureDe'+'pth']['_levels'][0x49*0x85+-0xbf*0xa+-0x2c5*0xb]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][-0x1289+-0x13a9+0x2632]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x2ac814&&this['fire']('depth:resi'+'ze',_0x26253c,_0x5cc481);}['updateTran'+'sforms'](_0x23f114){_0x23f114?(this['_viewInvOf'+'fMat']['mul2'](_0x23f114,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][-0x1*0x538+0x16c4+-0x1*0x118c]=this['_viewInvOf'+'fMat']['data'][-0x1*0x53+-0x1*0xfa3+0x801*0x2],this['_positionD'+'ata'][-0x97b*-0x4+-0x20*-0x11f+0x833*-0x9]=this['_viewInvOf'+'fMat']['data'][-0xf84+0x3cc*-0x4+0x1ec1],this['_positionD'+'ata'][0x2b*0xda+-0x1c*0x85+0x2c2*-0x8]=this['_viewInvOf'+'fMat']['data'][-0x51b*-0x1+0x12f*-0x1b+0x1ae8];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0xc635c9,_0x5d0683){var _0x359a23;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x359a23=this['_depthInfo'])==null?void(-0x865*-0x3+-0x55*0x1d+-0x1*0xf8e):_0x359a23['getDepthIn'+'Meters'](_0xc635c9,_0x5d0683))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0x5029e5=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0x5029e5['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0x5029e5['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}h(O0,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class Bh extends me{constructor(_0x417526){super(),h(this,'_manager'),h(this,'_index',new Map()),h(this,'_indexTmp',new Map()),h(this,'_list',[]),h(this,'_supported'+'Color',Ae['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),h(this,'_supported'+'Depth',Ae['browser']&&!!window['XRDepthInf'+'ormation']),h(this,'_available'+'Color',!(-0xaf+-0xd5a+-0x2*-0x705)),h(this,'_available'+'Depth',!(-0xbe5+0x306*-0x1+0xeec)),h(this,'_depthUsag'+'e',''),h(this,'_depthForm'+'at',''),h(this,'_depthForm'+'ats',{[M0]:ap,[D0]:$i,[I0]:Ji}),(this['_manager']=_0x417526,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===P0;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0xd6eb5f,_0x44a712){for(let _0x524847=-0x1d18+-0x113f*-0x1+0xbd9;_0x524847<_0x44a712['length'];_0x524847++)this['_indexTmp']['set'](_0x44a712[_0x524847]['eye'],_0x44a712[_0x524847]);for(const [_0x3b2408,_0x3cd959]of this['_indexTmp']){let _0x322ec=this['_index']['get'](_0x3b2408);_0x322ec?_0x322ec['update'](_0xd6eb5f,_0x3cd959):(_0x322ec=new O0(this['_manager'],_0x3cd959,_0x44a712['length']),this['_index']['set'](_0x3b2408,_0x322ec),this['_list']['push'](_0x322ec),_0x322ec['update'](_0xd6eb5f,_0x3cd959),this['fire']('add',_0x322ec));}for(const [_0x27b854,_0x455258]of this['_index']){if(this['_indexTmp']['has'](_0x27b854))continue;_0x455258['destroy'](),this['_index']['delete'](_0x27b854);const _0x3318e9=this['_list']['indexOf'](_0x455258);_0x3318e9!==-(-0x24d6+0xfd4*0x1+0x1503)&&this['_list']['splice'](_0x3318e9,0x10*-0x13c+0x1ba5+-0x7e4),this['fire']('remove',_0x455258);}this['_indexTmp']['clear']();}['get'](_0x44e3ea){return this['_index']['get'](_0x44e3ea)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===$o&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(-0x1e*0x2b+0x29*0x4f+0x2*-0x3ce),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(-0x155*0xf+-0x5*-0x421+-0x1*0xa9),this['_available'+'Depth'])){const _0x130dbe=this['_manager']['session'];this['_depthUsag'+'e']=_0x130dbe['depthUsage'],this['_depthForm'+'at']=_0x130dbe['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x53feeb of this['_index']['values']())_0x53feeb['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(-0xcac*0x2+0x3a0*-0x8+0x3659),this['_available'+'Depth']=!(0x8*0x196+0x1982+-0xcbb*0x3),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=0xb53+-0x1*-0x7cb+-0x131e*0x1;}}h(Bh,'EVENT_ADD','add'),h(Bh,'EVENT_REMO'+'VE','remove');class ln extends me{constructor(_0x4758df){super(),h(this,'app'),h(this,'_supported',Ae['browser']&&!!navigator['xr']),h(this,'_available',{}),h(this,'_type',null),h(this,'_spaceType',null),h(this,'_session',null),h(this,'_baseLayer',null),h(this,'webglBindi'+'ng',null),h(this,'_reference'+'Space',null),h(this,'domOverlay'),h(this,'hitTest'),h(this,'imageTrack'+'ing'),h(this,'planeDetec'+'tion'),h(this,'meshDetect'+'ion'),h(this,'input'),h(this,'lightEstim'+'ation'),h(this,'views'),h(this,'anchors'),h(this,'_camera',null),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_depthNear',0x1b2f+-0x1698+-0x2f*0x19+0.1),h(this,'_depthFar',0x2*0xfdf+0x114e*-0x1+-0xa88),h(this,'_supported'+'FrameRates',null),h(this,'_width',0x96a+-0x37d+-0x1*0x5ed),h(this,'_height',-0x2579+-0x1e59*0x1+0x43d2),h(this,'_framebuff'+'erScaleFac'+'tor',-0x4d7+-0x259f+0x2a77),(this['app']=_0x4758df,this['_available'][lU]=!(-0x1ff9+0x2322+-0x328),this['_available'][cU]=!(-0x2*0x959+-0x270f*-0x1+-0x145c),this['_available'][$o]=!(0x1*0x185+0x1cf*-0xf+0x199d),this['views']=new Bh(this),this['domOverlay']=new fU(this),this['hitTest']=new jr(this),this['imageTrack'+'ing']=new L0(this),this['planeDetec'+'tion']=new Do(this),this['meshDetect'+'ion']=new Lo(this),this['input']=new Li(this),this['lightEstim'+'ation']=new Zu(this),this['anchors']=new on(this),this['views']=new Bh(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)),this['isPC']=z0());}['destroy'](){}['start'](_0x54d961,_0x221240,_0x42e3c2,_0x5f2bc1){let _0x2afc10=_0x5f2bc1;if(typeof _0x5f2bc1=='object'&&(_0x2afc10=_0x5f2bc1['callback']),!this['_available'][_0x221240]){_0x2afc10&&_0x2afc10(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x2afc10&&_0x2afc10(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x54d961,this['_camera']['camera']['xr']=this,this['_type']=_0x221240,this['_spaceType']=_0x42e3c2,this['_framebuff'+'erScaleFac'+'tor']=(_0x5f2bc1==null?void(-0x9b1+-0x3*0x749+-0xa84*-0x3):_0x5f2bc1['framebuffe'+'rScaleFact'+'or'])??0x219+-0xe22+0x43*0x2e,this['_setClipPl'+'anes'](_0x54d961['nearClip'],_0x54d961['farClip']);const _0x4e8e22={'requiredFeatures':[_0x42e3c2],'optionalFeatures':[]},_0x5f268c=this['app']['graphicsDe'+'vice'];_0x5f268c!=null&&_0x5f268c['isWebGPU']&&_0x4e8e22['requiredFe'+'atures']['push']('webgpu');const _0x93128e=_0x5f268c==null?void(0x37f+0x892+-0xc11*0x1):_0x5f268c['isWebGL2'];if(_0x221240===$o){if(_0x4e8e22['optionalFe'+'atures']['push']('light-esti'+'mation'),_0x4e8e22['optionalFe'+'atures']['push']('hit-test'),_0x5f2bc1&&(_0x5f2bc1['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0x4e8e22['optionalFe'+'atures']['push']('image-trac'+'king'),_0x5f2bc1['planeDetec'+'tion']&&_0x4e8e22['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x5f2bc1['meshDetect'+'ion']&&_0x4e8e22['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0x4e8e22['optionalFe'+'atures']['push']('dom-overla'+'y'),_0x4e8e22['domOverlay']={'root':this['domOverlay']['root']}),_0x5f2bc1&&_0x5f2bc1['anchors']&&this['anchors']['supported']&&_0x4e8e22['optionalFe'+'atures']['push']('anchors'),_0x5f2bc1&&_0x5f2bc1['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0x4e8e22['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x3e500b=[],_0x16ecbb=[];if(_0x3e500b['push'](P0,dU),_0x16ecbb['push'](I0,M0,D0),_0x5f2bc1['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x4983b0=_0x3e500b['indexOf'](_0x5f2bc1['depthSensi'+'ng']['usagePrefe'+'rence']);_0x4983b0!==-(0x136*0x5+0x2484+-0x2a91)&&_0x3e500b['splice'](_0x4983b0,0xe*-0x134+0x2099+0x540*-0x3),_0x3e500b['unshift'](_0x5f2bc1['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x5f2bc1['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x47a826=_0x16ecbb['indexOf'](_0x5f2bc1['depthSensi'+'ng']['dataFormat'+'Preference']);_0x47a826!==-(0xa96+0xe3e*0x2+-0x2711)&&_0x16ecbb['splice'](_0x47a826,-0xc*0xa6+-0x4*-0x31d+-0x4ab),_0x16ecbb['unshift'](_0x5f2bc1['depthSensi'+'ng']['dataFormat'+'Preference']);}_0x4e8e22['depthSensi'+'ng']={'usagePreference':_0x3e500b,'dataFormatPreference':_0x16ecbb};}_0x93128e&&_0x5f2bc1&&_0x5f2bc1['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0x4e8e22['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0x4e8e22['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x5f2bc1&&_0x5f2bc1['optionalFe'+'atures']&&(_0x4e8e22['optionalFe'+'atures']=_0x4e8e22['optionalFe'+'atures']['concat'](_0x5f2bc1['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x313903,_0x4a90c1)=>{if(_0x313903){_0x2afc10&&_0x2afc10(_0x313903),this['fire']('error',_0x313903);return;}_0x4a90c1!==null&&(_0x4e8e22['trackedIma'+'ges']=_0x4a90c1),this['_onStartOp'+'tionsReady'](_0x221240,_0x42e3c2,_0x4e8e22,_0x2afc10);}):this['_onStartOp'+'tionsReady'](_0x221240,_0x42e3c2,_0x4e8e22,_0x2afc10);}['_onStartOp'+'tionsReady'](_0x2b846f,_0x5ac814,_0x2b7869,_0x214a67){const _0x3c3689=this['isPC']?{'requiredFeatures':['local-floo'+'r']}:_0x2b7869;navigator['xr']['requestSes'+'sion'](_0x2b846f,_0x3c3689)['then'](_0x4d0827=>{this['_onSession'+'Start'](_0x4d0827,_0x5ac814,_0x214a67);})['catch'](_0x57ad9d=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x214a67&&_0x214a67(_0x57ad9d),this['fire']('error',_0x57ad9d);});}['end'](_0x11f810){if(!this['_session']){_0x11f810&&_0x11f810(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x11f810&&this['once']('end',_0x11f810),this['_session']['end']();}['isAvailabl'+'e'](_0x2e6aab){return this['_available'][_0x2e6aab];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x37a530 in this['_available'])this['_sessionSu'+'pportCheck'](_0x37a530);}['initiateRo'+'omCapture'](_0x420613){if(!this['_session']){_0x420613(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x420613(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x420613&&_0x420613(null);})['catch'](_0x5bdefd=>{_0x420613&&_0x420613(_0x5bdefd);});}['updateTarg'+'etFrameRat'+'e'](_0x1ff267,_0x2cbb49){var _0x148f9b;if(!((_0x148f9b=this['_session'])!=null&&_0x148f9b['updateTarg'+'etFrameRat'+'e'])){_0x2cbb49==null||_0x2cbb49(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x1ff267)['then'](()=>{_0x2cbb49==null||_0x2cbb49();})['catch'](_0x22918e=>{_0x2cbb49==null||_0x2cbb49(_0x22918e);});}['_sessionSu'+'pportCheck'](_0x29c1a4){navigator['xr']['isSessionS'+'upported'](_0x29c1a4)['then'](_0x454f6e=>{this['_available'][_0x29c1a4]!==_0x454f6e&&(this['_available'][_0x29c1a4]=_0x454f6e,this['fire']('available',_0x29c1a4,_0x454f6e),this['fire']('available:'+_0x29c1a4,_0x454f6e));})['catch'](_0x4fb7e1=>{this['fire']('error',_0x4fb7e1);});}['_onSession'+'Start'](_0x108de1,_0x2c4c27,_0x385af0){let _0xb25017=!(0x64a+0x1*-0x1122+-0xad9*-0x1);this['_session']=_0x108de1;const _0x3a2068=()=>{this['fire']('visibility'+':change',_0x108de1['visibility'+'State']);},_0x17924b=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x1743f2=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0x17924b),this['_camera']['off']('set_farCli'+'p',_0x17924b),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x108de1['removeEven'+'tListener']('end',_0x1743f2),_0x108de1['removeEven'+'tListener']('visibility'+'change',_0x3a2068),_0xb25017||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=0x21*0x89+-0x65*-0x17+-0x1abc,this['_height']=-0x1acf+-0x6a6+0x2175,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x108de1['addEventLi'+'stener']('end',_0x1743f2),_0x108de1['addEventLi'+'stener']('visibility'+'change',_0x3a2068),this['_camera']['on']('set_nearCl'+'ip',_0x17924b),this['_camera']['on']('set_farCli'+'p',_0x17924b),w['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x483d46;this['fire']('frameratec'+'hange',(_0x483d46=this['_session'])==null?void(0x10*-0x257+-0x182+0x26f2):_0x483d46['frameRate']);}),_0x108de1['requestRef'+'erenceSpac'+'e'](_0x2c4c27)['then'](_0x1e5766=>{this['_reference'+'Space']=_0x1e5766,this['app']['tick'](),_0x385af0&&_0x385af0(null),this['fire']('start');})['catch'](_0x1a98a0=>{_0xb25017=!(0x1d4f+0x1f01*-0x1+0xd9*0x2),_0x108de1['end'](),_0x385af0&&_0x385af0(_0x1a98a0),this['fire']('error',_0x1a98a0);});}['_setClipPl'+'anes'](_0x17c9db,_0x2d1863){this['_depthNear']===_0x17c9db&&this['_depthFar']===_0x2d1863||(this['_depthNear']=_0x17c9db,this['_depthFar']=_0x2d1863,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x448d33=this['app']['graphicsDe'+'vice'],_0x58a971=_0x448d33['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x448d33['gl'],{'alpha':!(0x4*-0x2da+-0x17af+0x2317),'depth':!(-0x19ab+-0x2171+0x4ed*0xc),'stencil':!(0x30e+0x6d*-0x47+0x1b2d),'framebufferScaleFactor':_0x58a971,'antialias':!(-0x25e0+-0x3e5+0x29c6)}),_0x448d33!=null&&_0x448d33['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x448d33['gl']);}catch(_0x2973bd){this['fire']('error',_0x2973bd);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x267808=>{this['fire']('error',_0x267808);});},-0x1de*0xb+-0x9bc+0x1e46);}['update'](_0x3c3870){if(!this['_session'])return!(0x193*-0x3+-0xd3d+0x11f7);const _0x2f20d2=_0x3c3870['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x42f809=_0x3c3870['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x2f20d2||this['_height']!==_0x42f809)&&(this['_width']=_0x2f20d2,this['_height']=_0x42f809,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x2f20d2,_0x42f809));const _0x22af1b=_0x3c3870['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x22af1b)return!(-0x3*0x3ee+-0x1e46+0x2a11);const _0x1c847d=this['views']['list']['length'];this['views']['update'](_0x3c3870,_0x22af1b['views']);const _0x39c0bb=_0x22af1b['transform']['position'],_0x570c0f=_0x22af1b['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x39c0bb['x'],_0x39c0bb['y'],_0x39c0bb['z']),this['_localRota'+'tion']['set'](_0x570c0f['x'],_0x570c0f['y'],_0x570c0f['z'],_0x570c0f['w']),_0x1c847d===0x9d9*0x3+-0x45a+-0x1931&&this['views']['list']['length']>0x1eb*-0xe+0x1c*-0x27+-0x472*-0x7){const _0x3abffb=new te(),_0x250e3d=this['views']['list'][0x1d+-0x2*-0xdb2+-0x1*0x1b81];_0x3abffb['copy'](_0x250e3d['projMat']);const _0x151a24=_0x3abffb['data'],_0x2c9357=(0x8c5+-0x9*0xcf+-0x17c)*Math['atan']((-0x905*-0x4+-0x1*-0xd09+0x4*-0xc47)/_0x151a24[0x1f*-0x51+0x1ca4+-0xac*0x1c])*(0x20a1*0x1+-0x1*0x7dd+-0x134*0x14)/Math['PI'],_0x15701c=_0x151a24[-0x2*-0x12d+0x1cb5*0x1+0xf85*-0x2]/_0x151a24[-0x1d*0x10e+0x11*-0x207+0x410d],_0x2c9b9f=_0x151a24[-0x4*0x5fc+0x545+0x12b9]/(_0x151a24[-0x2*0xdab+0x422+-0xb9f*-0x2]+(0x902*0x1+0x2366+-0x2c67)),_0x3f0e85=_0x151a24[-0x531+-0x164b+0x2c1*0xa]/(_0x151a24[-0x4cb+0xc60+-0x78b]-(-0x256*0x3+-0x1*0xbe6+0x12e9));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x15701c,'farClip':_0x2c9b9f,'fov':_0x2c9357,'horizontalFov':!(0x3ab+0x724+0x2*-0x567),'nearClip':_0x3f0e85});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x3c3870),this['_type']===$o&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x3c3870),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x3c3870),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x3c3870),this['anchors']['supported']&&this['anchors']['update'](_0x3c3870),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x3c3870),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x3c3870)),this['fire']('update',_0x3c3870),!(0x979+-0x5a6+-0xb*0x59);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x4372fe;return((_0x4372fe=this['_session'])==null?void(-0x10*-0x99+0x156b+0x1efb*-0x1):_0x4372fe['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x35f3fb){var _0x2e0f0c;(((_0x2e0f0c=this['_baseLayer'])==null?void(-0x12fe+-0x3a4*0x2+0x1a46):_0x2e0f0c['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>-0x1*0x17a5+0x1769*0x1+0x1*0x3d&&w['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x35f3fb);}get['fixedFovea'+'tion'](){var _0x766ccf;return((_0x766ccf=this['_baseLayer'])==null?void(-0x1*0x15e1+-0x1b73+0x3154*0x1):_0x766ccf['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}h(ln,'EVENT_AVAI'+'LABLE','available'),h(ln,'EVENT_STAR'+'T','start'),h(ln,'EVENT_END','end'),h(ln,'EVENT_UPDA'+'TE','update'),h(ln,'EVENT_ERRO'+'R','error');class $U extends Ks{constructor(_0x4cab4b,_0x4402a5={}){super(_0x4cab4b);const _0xdbfe82=new tL();_0xdbfe82['graphicsDe'+'vice']=_0x4402a5['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x4cab4b,_0x4402a5),this['addCompone'+'ntSystems'](_0xdbfe82),this['addResourc'+'eHandles'](_0xdbfe82),_0xdbfe82['elementInp'+'ut']=_0x4402a5['elementInp'+'ut'],_0xdbfe82['keyboard']=_0x4402a5['keyboard'],_0xdbfe82['mouse']=_0x4402a5['mouse'],_0xdbfe82['touch']=_0x4402a5['touch'],_0xdbfe82['gamepads']=_0x4402a5['gamepads'],_0xdbfe82['scriptPref'+'ix']=_0x4402a5['scriptPref'+'ix'],_0xdbfe82['assetPrefi'+'x']=_0x4402a5['assetPrefi'+'x'],_0xdbfe82['scriptsOrd'+'er']=_0x4402a5['scriptsOrd'+'er'],_0xdbfe82['soundManag'+'er']=new Pw(),_0xdbfe82['lightmappe'+'r']=pL,_0xdbfe82['batchManag'+'er']=IE,_0xdbfe82['xr']=ln,this['init'](_0xdbfe82);}['createDevi'+'ce'](_0x3a9b2e,_0x31e338){return _0x31e338['graphicsDe'+'viceOption'+'s']||(_0x31e338['graphicsDe'+'viceOption'+'s']={}),Ae['browser']&&navigator['xr']&&(_0x31e338['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(0x51*-0x37+0x2303+0x17*-0xc4)),_0x31e338['graphicsDe'+'viceOption'+'s']['alpha']=_0x31e338['graphicsDe'+'viceOption'+'s']['alpha']||!(-0x1a77+-0x6*0x507+0x38a2),new aw(_0x3a9b2e,_0x31e338['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x19dbe7){_0x19dbe7['componentS'+'ystems']=[wm,nR,NR,RL,BL,KR,zO,xF,wF,kF,hF,VL,kO,YO,LR,$L,aF,oF,mF,XR,UR,gF,BF];}['addResourc'+'eHandles'](_0x5452b0){_0x5452b0['resourceHa'+'ndlers']=[zF,WN,$N,XN,Ek,yk,oU,Ok,mk,jN,Dk,bk,JN,pk,QN,Ik,uk,ek,tk,YN,Nk,Lk,Rk,ZN,fk];}}class XU extends me{constructor(_0x46d484,_0x53ee32){super(),h(this,'_assets',new Set()),h(this,'_loadingAs'+'sets',new Set()),h(this,'_waitingAs'+'sets',new Set()),h(this,'_loading',!(0x4*0x59f+0x9e5+-0x2060)),h(this,'_loaded',!(0x1f4+-0x1d*0x6a+0xa0f)),h(this,'_failed',[]),(this['_registry']=_0x53ee32,_0x46d484['forEach'](_0x2e52e6=>{if(_0x2e52e6 instanceof pe)_0x2e52e6['registry']||(_0x2e52e6['registry']=_0x53ee32),this['_assets']['add'](_0x2e52e6);else{const _0x1e1739=_0x53ee32['get'](_0x2e52e6);_0x1e1739?this['_assets']['add'](_0x1e1739):this['_waitForAs'+'set'](_0x2e52e6);}}));}['destroy'](){this['_registry']['off']('load',this['_onLoad']),this['_registry']['off']('error',this['_onError']),this['_waitingAs'+'sets']['forEach'](_0x46d5c9=>{this['_registry']['off']('add:'+_0x46d5c9,this['_onAddAsse'+'t']);}),this['off']('progress'),this['off']('load');}['_assetHasD'+'ependencie'+'s'](_0x288dd6){var _0x38d74e;return _0x288dd6['type']==='model'&&((_0x38d74e=_0x288dd6['file'])==null?void(0x1*0x999+0x1625+-0x1fbe):_0x38d74e['url'])&&_0x288dd6['file']['url']&&_0x288dd6['file']['url']['match'](/.json$/g);}['load'](_0x978d39,_0xbab988){if(this['_loading']){console['debug']('AssetListL'+'oader:\x20Loa'+'d\x20function'+'\x20called\x20mu'+'ltiple\x20tim'+'es.');return;}this['_loading']=!(-0x106d+-0x1c56+-0x1*-0x2cc3),this['_callback']=_0x978d39,this['_scope']=_0xbab988,this['_registry']['on']('load',this['_onLoad'],this),this['_registry']['on']('error',this['_onError'],this);let _0x4940c2=!(-0x1fb2+0xdeb*0x2+0x3dd);this['_assets']['forEach'](_0x4a49cf=>{_0x4a49cf['loaded']||(_0x4940c2=!(0x1749+0xf75+-0x20a*0x13),this['_assetHasD'+'ependencie'+'s'](_0x4a49cf)&&this['_registry']['loadFromUr'+'l'](_0x4a49cf['file']['url'],_0x4a49cf['type'],(_0x20e428,_0x36076a)=>{if(_0x20e428){this['_onError'](_0x20e428,_0x4a49cf);return;}this['_onLoad'](_0x4a49cf);}),this['_loadingAs'+'sets']['add'](_0x4a49cf),this['_registry']['add'](_0x4a49cf));}),this['_loadingAs'+'sets']['forEach'](_0x18ff40=>{this['_assetHasD'+'ependencie'+'s'](_0x18ff40)||this['_registry']['load'](_0x18ff40);}),!_0x4940c2&&this['_waitingAs'+'sets']['size']===-0x4af*-0x1+0x63d*-0x1+-0x2*-0xc7&&this['_loadingCo'+'mplete']();}['ready'](_0x45f47b,_0x401eeb=this){this['_loaded']?_0x45f47b['call'](_0x401eeb,Array['from'](this['_assets'])):this['once']('load',_0xeabb72=>{_0x45f47b['call'](_0x401eeb,_0xeabb72);});}['_loadingCo'+'mplete'](){this['_loaded']||(this['_loaded']=!(-0x10d*-0xb+0x22e6+-0x2e75),this['_registry']['off']('load',this['_onLoad'],this),this['_registry']['off']('error',this['_onError'],this),this['_failed']['length']?(this['_callback']&&this['_callback']['call'](this['_scope'],'Failed\x20to\x20'+'load\x20some\x20'+'assets',this['_failed']),this['fire']('error',this['_failed'])):(this['_callback']&&this['_callback']['call'](this['_scope']),this['fire']('load',Array['from'](this['_assets']))));}['_onLoad'](_0x3a378e){this['_loadingAs'+'sets']['has'](_0x3a378e)&&(this['fire']('progress',_0x3a378e),this['_loadingAs'+'sets']['delete'](_0x3a378e)),this['_loadingAs'+'sets']['size']===-0x1*-0x33d+-0x2*0x4cc+0x1*0x65b&&setTimeout(()=>{this['_loadingCo'+'mplete']();},-0x1145*-0x2+0x3*-0x27+0x2215*-0x1);}['_onError'](_0x2cee56,_0x52c661){this['_loadingAs'+'sets']['has'](_0x52c661)&&(this['_failed']['push'](_0x52c661),this['_loadingAs'+'sets']['delete'](_0x52c661)),this['_loadingAs'+'sets']['size']===-0x1dad+0x42d*-0x2+0x2607&&setTimeout(()=>{this['_loadingCo'+'mplete']();},-0x16bc+0xc8f+-0x5*-0x209);}['_onAddAsse'+'t'](_0x3737a2){this['_waitingAs'+'sets']['delete'](_0x3737a2),this['_assets']['add'](_0x3737a2),_0x3737a2['loaded']||(this['_loadingAs'+'sets']['add'](_0x3737a2),this['_registry']['load'](_0x3737a2));}['_waitForAs'+'set'](_0x5f1b64){this['_waitingAs'+'sets']['add'](_0x5f1b64),this['_registry']['once']('add:'+_0x5f1b64,this['_onAddAsse'+'t'],this);}}const Fc=[],_U=[[],[],[]];class gU extends ys{constructor(_0x57001b,_0x48d87a){super(_0x57001b),h(this,'viewBindGr'+'oups',[]),this['renderer']=_0x48d87a;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x48377c=>{_0x48377c['defaultUni'+'formBuffer']['destroy'](),_0x48377c['destroy']();}),this['viewBindGr'+'oups']['length']=-0x16c6+0x1e58+0x3c9*-0x2;}['update'](_0x3a6216,_0x4e9a47,_0x301b73,_0x34f0d4){this['camera']=_0x3a6216,this['scene']=_0x4e9a47,this['layers']=_0x301b73,this['mapping']=_0x34f0d4;}['execute'](){const _0x5ae4fb=this['device'],{renderer:_0x705269,camera:_0xe9c123,scene:_0x3acb59,layers:_0xcb31ea,mapping:_0x327bfd,renderTarget:_0x4b6062}=this,_0x46dcbe=_0x3acb59['layers']['layerList'],_0x24e4b3=_0x3acb59['layers']['subLayerEn'+'abled'],_0x5f2656=_0x3acb59['layers']['subLayerLi'+'st'];for(let _0x528c1f=-0x1020+0x143*-0x11+0x2593;_0x528c1f<_0x46dcbe['length'];_0x528c1f++){const _0xd4ccf5=_0x46dcbe[_0x528c1f];if(!(_0xcb31ea&&_0xcb31ea['indexOf'](_0xd4ccf5)<-0xe77+-0x3*0xc5d+0x338e)&&_0xd4ccf5['enabled']&&_0x24e4b3[_0x528c1f]&&_0xd4ccf5['camerasSet']['has'](_0xe9c123['camera'])){const _0x1a7814=_0x5f2656[_0x528c1f];Q['pushGpuMar'+'ker'](_0x5ae4fb,_0xd4ccf5['name']+'('+(_0x1a7814?'TRANSP':'OPAQUE')+')'),_0xd4ccf5['_clearDept'+'hBuffer']&&_0x705269['clear'](_0xe9c123['camera'],!(0x23bd+-0xaf1*-0x3+-0x448f),!(-0x3*-0x9af+0x14a2+-0x31af),!(0x1*0x1811+-0x1aa9+0x299));const _0x2531dd=_0xd4ccf5['meshInstan'+'ces'];for(let _0x1248be=0x2076+-0x1*-0x74c+-0x27c2;_0x1248be<_0x2531dd['length'];_0x1248be++){const _0x17de5e=_0x2531dd[_0x1248be];_0x17de5e['pick']&&_0x17de5e['transparen'+'t']===_0x1a7814&&(Fc['push'](_0x17de5e),_0x327bfd['set'](_0x17de5e['id'],_0x17de5e));}Fc['length']>0x1*-0xfa3+-0x367+0x130a&&(_0x3acb59['clusteredL'+'ightingEna'+'bled']&&_0x705269['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x705269['setCameraU'+'niforms'](_0xe9c123['camera'],_0x4b6062),_0x5ae4fb['supportsUn'+'iformBuffe'+'rs']&&_0x705269['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x705269['viewUnifor'+'mFormat'],_0x705269['viewBindGr'+'oupFormat'],null),_0x705269['renderForw'+'ard'](_0xe9c123['camera'],_0x4b6062,Fc,_U,Zn,_0x4e7c6b=>{_0x5ae4fb['setBlendSt'+'ate'](pt['NOBLEND']);}),Fc['length']=-0x14*-0x12d+0x3*0x6cd+-0x1*0x2beb),Q['popGpuMark'+'er'](_0x5ae4fb);}}}}const Rf=new Set(),SU=new re();let qU=class{constructor(_0x7a4b39,_0x451811,_0x1140f1){h(this,'renderTarg'+'et',null),h(this,'mapping',new Map()),h(this,'deviceVali'+'d',!(0x1c*0x68+0x1*0x8ad+-0x140d)),(w['assert'](_0x7a4b39),this['renderer']=_0x7a4b39['renderer'],this['device']=_0x7a4b39['graphicsDe'+'vice'],this['renderPass']=new gU(this['device'],_0x7a4b39['renderer']),this['width']=0x14ea+-0x14a+0x10*-0x13a,this['height']=0x185d+-0x241+-0x161c,this['resize'](_0x451811,_0x1140f1),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(-0x1384+-0xb8f+0xcc*0x27);}));}['getSelecti'+'on'](_0x1b0ae5,_0x4d4b65,_0x4f1f78=-0xd9*-0x2d+-0x119*-0x20+-0x4944,_0x113aee=-0x1*-0x2217+0x20da+-0x42f0){const _0x443ade=this['device'];if(_0x443ade['isWebGPU'])return w['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];w['assert'](typeof _0x1b0ae5!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x4d4b65=this['renderTarg'+'et']['height']-(_0x4d4b65+_0x113aee);const _0x375215=this['sanitizeRe'+'ct'](_0x1b0ae5,_0x4d4b65,_0x4f1f78,_0x113aee);_0x443ade['setRenderT'+'arget'](this['renderTarg'+'et']),_0x443ade['updateBegi'+'n']();const _0x2227b0=new Uint8Array((-0x35e+-0x13e0+-0x1*-0x1742)*_0x375215['z']*_0x375215['w']);return _0x443ade['readPixels'](_0x375215['x'],_0x375215['y'],_0x375215['z'],_0x375215['w'],_0x2227b0),_0x443ade['updateEnd'](),this['decodePixe'+'ls'](_0x2227b0,this['mapping']);}['getSelecti'+'onAsync'](_0x110c4e,_0x1d63db,_0x244db5=-0x1*0x117f+0x14dd+-0x3*0x11f,_0x66cd79=0x1067+-0xf23+-0x143*0x1){var _0x529c44;(_0x529c44=this['device'])!=null&&_0x529c44['isWebGL2']&&(_0x1d63db=this['renderTarg'+'et']['height']-(_0x1d63db+_0x66cd79));const _0x3ede87=this['sanitizeRe'+'ct'](_0x110c4e,_0x1d63db,_0x244db5,_0x66cd79);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0x3ede87['x'],_0x3ede87['y'],_0x3ede87['z'],_0x3ede87['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(-0x704+0x7*0x421+0x1*-0x15e3)})['then'](_0x5cf88d=>this['decodePixe'+'ls'](_0x5cf88d,this['mapping']));}['sanitizeRe'+'ct'](_0x4895e2,_0x4345ac,_0x5cf006,_0x2b25c6){const _0xb0dd7=this['renderTarg'+'et']['width'],_0x28dbf2=this['renderTarg'+'et']['height'];return _0x4895e2=Y['clamp'](Math['floor'](_0x4895e2),0x195a+-0x577*0x2+0x736*-0x2,_0xb0dd7-(-0x1*-0x38f+0x444*0x6+0xe*-0x215)),_0x4345ac=Y['clamp'](Math['floor'](_0x4345ac),-0x264f+0xdf9*-0x1+-0x778*-0x7,_0x28dbf2-(-0x1*0x19de+0xb74+0xe6b)),_0x5cf006=Math['floor'](Math['max'](_0x5cf006,-0x1288*0x1+-0x1ed*0x1+0x1476)),_0x5cf006=Math['min'](_0x5cf006,_0xb0dd7-_0x4895e2),_0x2b25c6=Math['floor'](Math['max'](_0x2b25c6,-0x234b+0x1*-0x11bf+-0x350b*-0x1)),_0x2b25c6=Math['min'](_0x2b25c6,_0x28dbf2-_0x4345ac),SU['set'](_0x4895e2,_0x4345ac,_0x5cf006,_0x2b25c6);}['decodePixe'+'ls'](_0x59b888,_0x29999a){const _0x57114e=[];if(this['deviceVali'+'d']){const _0x2f1c67=_0x59b888['length'];for(let _0x1fa9ea=0x1*-0x1169+-0x216a+0x10f1*0x3;_0x1fa9ea<_0x2f1c67;_0x1fa9ea+=-0x2b5+0x1*0x8ef+0x6*-0x109){const _0xc4eebd=_0x59b888[_0x1fa9ea+(-0x67d+-0x26c0+0x2d3d)],_0x4c8f3b=_0x59b888[_0x1fa9ea+(0x1ff5+0x281*0xd+0x31*-0x151)],_0xe4860b=_0x59b888[_0x1fa9ea+(0x2*0x175+0x63*-0x25+0xb67)],_0x58278b=(_0x59b888[_0x1fa9ea+(0x1f91+0x2b3*-0x5+0x43*-0x45)]<<-0x53*0x59+-0x27+0x1*0x1d1a|_0xc4eebd<<-0x4a9+0x1*0x1439+-0x40*0x3e|_0x4c8f3b<<-0xa08+-0x23d+0x1*0xc4d|_0xe4860b)>>>0x1856+-0x1*-0x539+0x439*-0x7;_0x58278b!==-0x4a1*-0x2dfa33+0xad95489b+-0x82686eaf&&Rf['add'](_0x29999a['get'](_0x58278b));}Rf['forEach'](_0x13eb41=>{_0x13eb41&&_0x57114e['push'](_0x13eb41);}),Rf['clear']();}return _0x57114e;}['allocateRe'+'nderTarget'](){const _0xeadc6c=new _e(this['device'],{'format':Ne,'width':this['width'],'height':this['height'],'mipmaps':!(0x924+-0x1f13+0x15f0),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':'pick'});this['renderTarg'+'et']=new gt({'colorBuffer':_0xeadc6c,'depth':!(-0x20eb+-0x1257+0x3342)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x3697ba,_0xea3b32,_0x491382){_0x491382 instanceof Ot&&(_0x491382=[_0x491382]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x347014=this['renderPass'];_0x347014['init'](this['renderTarg'+'et']),_0x347014['colorOps']['clearValue']=ie['WHITE'],_0x347014['colorOps']['clear']=!(0x2268+-0x6a6*0x1+0x1*-0x1bc2),_0x347014['depthStenc'+'ilOps']['clearDepth']=!(-0x1a0+-0xa73+0xc13),_0x347014['update'](_0x3697ba,_0xea3b32,_0x491382,this['mapping']),_0x347014['render']();}['resize'](_0x4516be,_0x4cdab7){this['width']=Math['floor'](_0x4516be),this['height']=Math['floor'](_0x4cdab7);}},cr,hr;const Of=new D(),RS=new D(),Ri=new Dn(),Ro=new Dn(),ep=new Dn();Ri['end']=new D(),Ro['end']=new D(),ep['end']=new D();const en=new D(),Nc=new D(),Ff=new D(),OS=new D(),Nf=new D(),kc=new D(),Uc=new D(),Bc=new D(),zc=new D(),kf=new D(),yU=new D(),tn=new D(),wo=new D(),Vc=new D(),Gc=new D(),Eo=new D(),FS=new D(),NS=new D(),kS=new D(),US=new D(),vU=new re();function BS(_0x4d84fe,_0x4f0c49,_0x56c8a7){return yU['cross'](_0x4d84fe,_0x4f0c49)['dot'](_0x56c8a7);}function xU(_0x5246e0,_0xa3d177,_0x469881){en['sub2'](_0xa3d177,_0x5246e0),Nc['sub2'](_0x469881[0x5f9*-0x1+-0xe3f+0x1438],_0x5246e0),Ff['sub2'](_0x469881[0x20f6+0xdc0*-0x2+0xb*-0x7f],_0x5246e0),OS['sub2'](_0x469881[-0x1*0x24e5+0x263a+-0x1*0x153],_0x5246e0),kc['cross'](OS,en);let _0x4ddbc2=Nc['dot'](kc),_0x5767c4,_0x3d51b9;if(_0x4ddbc2>=-0xc29+-0x217*-0xf+-0x1330){if(_0x5767c4=-Ff['dot'](kc),_0x5767c4<0x83f*-0x1+-0x10*0x18d+0x193*0x15||(_0x3d51b9=BS(en,Ff,Nc),_0x3d51b9<-0x1501+-0x3c8*-0x8+-0x93f))return-(-0x41c+-0x11c3*-0x2+-0x1f69);const _0x483532=(-0xf4b+-0xb*-0x2de+-0x103e)/(_0x5767c4+_0x4ddbc2+_0x3d51b9);Uc['copy'](_0x469881[-0x1*0xfd9+-0x1dad*-0x1+-0xdd4])['mulScalar'](_0x5767c4*_0x483532),Bc['copy'](_0x469881[0x39*0xd+0x1e5f+-0x2143])['mulScalar'](_0x4ddbc2*_0x483532),zc['copy'](_0x469881[-0x55*0x47+-0x23e8+0x3b7d])['mulScalar'](_0x3d51b9*_0x483532),kf['copy'](Uc)['add'](Bc)['add'](zc);}else{if(Nf['sub2'](_0x469881[0xa3*-0x9+0x240f+-0x1e51],_0x5246e0),_0x5767c4=Nf['dot'](kc),_0x5767c4<-0x4*0x802+-0x9f*-0x1b+0x1*0xf43||(_0x3d51b9=BS(en,Nc,Nf),_0x3d51b9<-0x4*-0x727+-0x6c*-0x3e+-0x36c4))return-(0x603*-0x1+-0x963+0x1*0xf67);_0x4ddbc2=-_0x4ddbc2;const _0x441774=(0xce5*0x1+-0x11*-0x19b+-0x282f)/(_0x5767c4+_0x4ddbc2+_0x3d51b9);Uc['copy'](_0x469881[0x2*-0xfd9+0x12be+-0x4*-0x33d])['mulScalar'](_0x5767c4*_0x441774),Bc['copy'](_0x469881[-0x9*0x151+0x1845+-0x1*0xc69])['mulScalar'](_0x4ddbc2*_0x441774),zc['copy'](_0x469881[0x2692+-0x370+-0x232*0x10])['mulScalar'](_0x3d51b9*_0x441774),kf['copy'](Uc)['add'](Bc)['add'](zc);}return en['sub2'](_0x469881[0x12+-0x39*0x72+0x1950],_0x469881[-0x1*0x19d+0xfe3*-0x2+-0x2165*-0x1])['lengthSq']()<(-0x352+0x1008+-0xcb6+0.0001)*(-0x2528+0x2f8*-0x1+0x2820+0.0001)||en['sub2'](_0x469881[-0x1a03*0x1+0xa0a+-0x2*-0x7fd],_0x469881[-0x10*0x137+-0x161*-0x4+0xdef])['lengthSq']()<(-0x39*0x64+0x3fb*0x3+-0x1*-0xa53+0.0001)*(-0x1*-0xc4b+-0x1cab+-0x20c*-0x8+0.0001)?-(0x9d8+0x3b*0xa7+-0x3054):kf['sub'](_0x5246e0)['lengthSq']();}class Am{constructor(_0x1ad658,_0x3d08a8,_0x2a1ef6){this['event']=_0x1ad658,this['element']=_0x3d08a8,this['camera']=_0x2a1ef6,this['_stopPropa'+'gation']=!(-0x8c3+-0x25*-0x95+-0x1d3*0x7);}['stopPropag'+'ation'](){this['_stopPropa'+'gation']=!(0x8f*-0x2c+-0x2*-0x2bb+0x131e),this['event']&&(this['event']['stopImmedi'+'atePropaga'+'tion'](),this['event']['stopPropag'+'ation']());}}class bo extends Am{constructor(_0x19dd7f,_0x21c9df,_0x39ef26,_0x18aee2,_0x44f2ca,_0x4f5757,_0x373008){super(_0x19dd7f,_0x21c9df,_0x39ef26),this['x']=_0x18aee2,this['y']=_0x44f2ca,this['ctrlKey']=_0x19dd7f['ctrlKey']||!(-0x1c26*0x1+0x2703*0x1+0x116*-0xa),this['altKey']=_0x19dd7f['altKey']||!(-0x19c7+0x4d2+-0x1*-0x14f6),this['shiftKey']=_0x19dd7f['shiftKey']||!(0xcc5+0x1*0x20e0+-0x2da4),this['metaKey']=_0x19dd7f['metaKey']||!(0x17eb+-0x26*0x15+0x1e4*-0xb),this['button']=_0x19dd7f['button'],sa['isPointerL'+'ocked']()?(this['dx']=_0x19dd7f['movementX']||_0x19dd7f['webkitMove'+'mentX']||_0x19dd7f['mozMovemen'+'tX']||-0x4e*-0x1a+-0x1423+-0x3b*-0x35,this['dy']=_0x19dd7f['movementY']||_0x19dd7f['webkitMove'+'mentY']||_0x19dd7f['mozMovemen'+'tY']||-0x8a6+-0xd3f+0x15e5):(this['dx']=_0x18aee2-_0x4f5757,this['dy']=_0x44f2ca-_0x373008),this['wheelDelta']=0x4*0x16a+-0x2240+0x1c98,_0x19dd7f['type']==='wheel'&&(_0x19dd7f['deltaY']>-0xa*0x2c1+0x1f93+-0x409*0x1?this['wheelDelta']=0x1b3e+-0x786+-0x13b7:_0x19dd7f['deltaY']<-0x1*0x456+-0x23fb+-0x1*-0x2851&&(this['wheelDelta']=-(0x5d+0xb7d+0x1*-0xbd9)));}}class Ao extends Am{constructor(_0x47718c,_0x29c087,_0x1446b8,_0x51f2ac,_0x156e00,_0x2871c9){super(_0x47718c,_0x29c087,_0x1446b8),this['touches']=_0x47718c['touches'],this['changedTou'+'ches']=_0x47718c['changedTou'+'ches'],this['x']=_0x51f2ac,this['y']=_0x156e00,this['touch']=_0x2871c9;}}class dr extends Am{constructor(_0x344a6a,_0x143f01,_0x3407e1,_0x20d2de){super(_0x344a6a,_0x143f01,_0x3407e1),this['inputSourc'+'e']=_0x20d2de;}}class Xo{constructor(_0x527f62,_0x9215d){this['_app']=null,this['_attached']=!(0x19c2+-0x92c+-0x1095),this['_target']=null,this['_enabled']=!(-0x1f*0x63+-0x5c9*-0x4+-0xb27),this['_lastX']=-0x1ab3+0x3*-0x349+-0x248e*-0x1,this['_lastY']=-0x1507+-0x171b*-0x1+-0x214,this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_touchstar'+'tHandler']=this['_handleTou'+'chStart']['bind'](this),this['_touchendH'+'andler']=this['_handleTou'+'chEnd']['bind'](this),this['_touchcanc'+'elHandler']=this['_touchendH'+'andler'],this['_touchmove'+'Handler']=this['_handleTou'+'chMove']['bind'](this),this['_sortHandl'+'er']=this['_sortEleme'+'nts']['bind'](this),this['_elements']=[],this['_hoveredEl'+'ement']=null,this['_pressedEl'+'ement']=null,this['_touchedEl'+'ements']={},this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired']={},this['_selectedE'+'lements']={},this['_selectedP'+'ressedElem'+'ents']={},this['_useMouse']=!_0x9215d||_0x9215d['useMouse']!==!(0x1c13+0x3f*-0x1+-0x1bd3*0x1),this['_useTouch']=!_0x9215d||_0x9215d['useTouch']!==!(0x2016+0x1d25+-0x3d3a),this['_useXr']=!_0x9215d||_0x9215d['useXr']!==!(0x1e89+0x1fc9+-0x2b*0x173),this['_selectEve'+'ntsAttache'+'d']=!(0x1b*-0x3b+0xa8*0x24+-0x1166),Ae['touch']&&(this['_clickedEn'+'tities']={}),this['attach'](_0x527f62);}set['enabled'](_0x2ef5d6){this['_enabled']=_0x2ef5d6;}get['enabled'](){return this['_enabled'];}set['app'](_0x2b0061){this['_app']=_0x2b0061;}get['app'](){return this['_app']||Ms();}['attach'](_0x5d7bc4){this['_attached']&&(this['_attached']=!(-0x17df+-0x106+0x18e6),this['detach']()),this['_target']=_0x5d7bc4,this['_attached']=!(0x8ae+-0x1973+0x10c5);const _0x195604=Ae['passiveEve'+'nts']?{'passive':!(-0xa0d*0x3+0xa60+-0x53*-0x3d)}:!(0x1*-0x77f+-0x75d+0x5*0x2f9);this['_useMouse']&&(window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x195604),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x195604),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x195604),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x195604)),this['_useTouch']&&Ae['touch']&&(this['_target']['addEventLi'+'stener']('touchstart',this['_touchstar'+'tHandler'],_0x195604),this['_target']['addEventLi'+'stener']('touchend',this['_touchendH'+'andler'],!(0x2*0x1314+-0xe*-0x183+-0xbdd*0x5)),this['_target']['addEventLi'+'stener']('touchmove',this['_touchmove'+'Handler'],!(-0x1*-0x3f5+0x65*-0x60+0x21ec)),this['_target']['addEventLi'+'stener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(0x23bc+-0x1589+0x2e*-0x4f))),this['attachSele'+'ctEvents']();}['attachSele'+'ctEvents'](){!this['_selectEve'+'ntsAttache'+'d']&&this['_useXr']&&this['app']&&this['app']['xr']&&this['app']['xr']['supported']&&(this['_clickedEn'+'tities']||(this['_clickedEn'+'tities']={}),this['_selectEve'+'ntsAttache'+'d']=!(-0x159*0xc+0x7bf+-0x86d*-0x1),this['app']['xr']['on']('start',this['_onXrStart'],this));}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0x234e+-0x157a+0x38c9);const _0x530c9d=Ae['passiveEve'+'nts']?{'passive':!(-0x1*-0x32f+-0x204+-0x12b)}:!(0x9de*-0x1+-0x1c19*-0x1+0x2*-0x91d);this['_useMouse']&&(window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x530c9d),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x530c9d),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x530c9d),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x530c9d)),this['_useTouch']&&(this['_target']['removeEven'+'tListener']('touchstart',this['_touchstar'+'tHandler'],_0x530c9d),this['_target']['removeEven'+'tListener']('touchend',this['_touchendH'+'andler'],!(-0xf7c+-0x2*0x7b1+-0x469*-0x7)),this['_target']['removeEven'+'tListener']('touchmove',this['_touchmove'+'Handler'],!(-0xb59*-0x2+0x1*-0x1fbe+-0x90d*-0x1)),this['_target']['removeEven'+'tListener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(0x1*-0x2069+0x570+0x2*0xd7d))),this['_selectEve'+'ntsAttache'+'d']&&(this['_selectEve'+'ntsAttache'+'d']=!(-0x2121+0x235a+-0x238),this['app']['xr']['off']('start',this['_onXrStart'],this),this['app']['xr']['off']('end',this['_onXrEnd'],this),this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this)),this['_target']=null;}['addElement'](_0x120257){this['_elements']['indexOf'](_0x120257)===-(0x15*-0x199+-0x1*-0x1bc3+-0x1*-0x5cb)&&this['_elements']['push'](_0x120257);}['removeElem'+'ent'](_0xf4f912){const _0x1fe67d=this['_elements']['indexOf'](_0xf4f912);_0x1fe67d!==-(0x1c86+-0x99*0x6+-0x18ef)&&this['_elements']['splice'](_0x1fe67d,0xb*0x106+-0x1626+0xae5*0x1);}['_handleUp'](_0x8ac017){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x8ac017),this['_onElement'+'MouseEvent']('mouseup',_0x8ac017)));}['_handleDow'+'n'](_0x458def){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x458def),this['_onElement'+'MouseEvent']('mousedown',_0x458def)));}['_handleMov'+'e'](_0x26ffff){this['_enabled']&&(this['_calcMouse'+'Coords'](_0x26ffff),this['_onElement'+'MouseEvent']('mousemove',_0x26ffff),this['_lastX']=cr,this['_lastY']=hr);}['_handleWhe'+'el'](_0x56fc38){this['_enabled']&&(this['_calcMouse'+'Coords'](_0x56fc38),this['_onElement'+'MouseEvent']('mousewheel',_0x56fc38));}['_determine'+'TouchedEle'+'ments'](_0x4c5ae0){const _0x5e40b4={},_0x573a6b=this['app']['systems']['camera']['cameras'];for(let _0x20119e=_0x573a6b['length']-(0xee7+-0x59*-0x4+0xa*-0x1a1);_0x20119e>=0x3*0x609+-0x19*-0x14e+0x23*-0x173;_0x20119e--){const _0x59bdad=_0x573a6b[_0x20119e];let _0x1168ab=0x262+-0xc08*-0x2+-0x1a72;const _0x5b35b7=_0x4c5ae0['changedTou'+'ches']['length'];for(let _0x5d1987=-0xcd1+0x2a2+0xa2f;_0x5d1987<_0x5b35b7;_0x5d1987++){if(_0x5e40b4[_0x4c5ae0['changedTou'+'ches'][_0x5d1987]['identifier']]){_0x1168ab++;continue;}const _0x346dc7=Wc(_0x4c5ae0['changedTou'+'ches'][_0x5d1987]),_0x41be80=this['_getTarget'+'ElementByC'+'oords'](_0x59bdad,_0x346dc7['x'],_0x346dc7['y']);_0x41be80&&(_0x1168ab++,_0x5e40b4[_0x4c5ae0['changedTou'+'ches'][_0x5d1987]['identifier']]={'element':_0x41be80,'camera':_0x59bdad,'x':_0x346dc7['x'],'y':_0x346dc7['y']});}if(_0x1168ab===_0x5b35b7)break;}return _0x5e40b4;}['_handleTou'+'chStart'](_0x3db9f2){if(!this['_enabled'])return;const _0x55827c=this['_determine'+'TouchedEle'+'ments'](_0x3db9f2);for(let _0x117a1f=-0xdc+0x556+-0x6*0xbf,_0x277090=_0x3db9f2['changedTou'+'ches']['length'];_0x117a1f<_0x277090;_0x117a1f++){const _0x5e065a=_0x3db9f2['changedTou'+'ches'][_0x117a1f],_0x4b9efc=_0x55827c[_0x5e065a['identifier']],_0x560127=this['_touchedEl'+'ements'][_0x5e065a['identifier']];_0x4b9efc&&(!_0x560127||_0x4b9efc['element']!==_0x560127['element'])&&(this['_fireEvent'](_0x3db9f2['type'],new Ao(_0x3db9f2,_0x4b9efc['element'],_0x4b9efc['camera'],_0x4b9efc['x'],_0x4b9efc['y'],_0x5e065a)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x5e065a['identifier']]=!(0x8b*0xb+-0x14*-0x15b+0x74*-0x49));}for(const _0xfd6192 in _0x55827c)this['_touchedEl'+'ements'][_0xfd6192]=_0x55827c[_0xfd6192];}['_handleTou'+'chEnd'](_0x58e7ea){if(!this['_enabled'])return;const _0x5bc5cd=this['app']['systems']['camera']['cameras'];for(const _0x449a69 in this['_clickedEn'+'tities'])delete this['_clickedEn'+'tities'][_0x449a69];for(let _0x12ec76=0x1*-0x791+0x50f+0x282,_0x32ae03=_0x58e7ea['changedTou'+'ches']['length'];_0x12ec76<_0x32ae03;_0x12ec76++){const _0x1fe18d=_0x58e7ea['changedTou'+'ches'][_0x12ec76],_0x1fa346=this['_touchedEl'+'ements'][_0x1fe18d['identifier']];if(!_0x1fa346)continue;const _0x34efc9=_0x1fa346['element'],_0x491ec9=_0x1fa346['camera'],_0x33d500=_0x1fa346['x'],_0x4ceae8=_0x1fa346['y'];delete this['_touchedEl'+'ements'][_0x1fe18d['identifier']],delete this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x1fe18d['identifier']];const _0x1ac6c3=Wc(_0x1fe18d);for(let _0x171034=_0x5bc5cd['length']-(-0x1d01+-0xabd*-0x1+-0x617*-0x3);_0x171034>=0x264e*0x1+0x1190+-0x37de;_0x171034--)this['_getTarget'+'ElementByC'+'oords'](_0x5bc5cd[_0x171034],_0x1ac6c3['x'],_0x1ac6c3['y'])===_0x34efc9&&(this['_clickedEn'+'tities'][_0x34efc9['entity']['getGuid']()]||(this['_fireEvent']('click',new Ao(_0x58e7ea,_0x34efc9,_0x491ec9,_0x33d500,_0x4ceae8,_0x1fe18d)),this['_clickedEn'+'tities'][_0x34efc9['entity']['getGuid']()]=Date['now']()));this['_fireEvent'](_0x58e7ea['type'],new Ao(_0x58e7ea,_0x34efc9,_0x491ec9,_0x33d500,_0x4ceae8,_0x1fe18d));}}['_handleTou'+'chMove'](_0x2899ab){if(_0x2899ab['preventDef'+'ault'](),!this['_enabled'])return;const _0x563f1f=this['_determine'+'TouchedEle'+'ments'](_0x2899ab);for(let _0xffae38=0xd31+0xe01+-0xd99*0x2,_0x1e78dc=_0x2899ab['changedTou'+'ches']['length'];_0xffae38<_0x1e78dc;_0xffae38++){const _0x39b98f=_0x2899ab['changedTou'+'ches'][_0xffae38],_0x4942be=_0x563f1f[_0x39b98f['identifier']],_0x34982c=this['_touchedEl'+'ements'][_0x39b98f['identifier']];if(_0x34982c){const _0x3f9f46=Wc(_0x39b98f);(!_0x4942be||_0x4942be['element']!==_0x34982c['element'])&&!this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x39b98f['identifier']]&&(this['_fireEvent']('touchleave',new Ao(_0x2899ab,_0x34982c['element'],_0x34982c['camera'],_0x3f9f46['x'],_0x3f9f46['y'],_0x39b98f)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x39b98f['identifier']]=!(-0x7f+-0xa73+0xaf2)),this['_fireEvent']('touchmove',new Ao(_0x2899ab,_0x34982c['element'],_0x34982c['camera'],_0x3f9f46['x'],_0x3f9f46['y'],_0x39b98f));}}}['_onElement'+'MouseEvent'](_0x144b52,_0x56e0b1){let _0x4cacbd=null;const _0x2082fd=this['_hoveredEl'+'ement'];this['_hoveredEl'+'ement']=null;const _0xa15c12=this['app']['systems']['camera']['cameras'];let _0x59b5f0;for(let _0x56784b=_0xa15c12['length']-(0x1446+-0x1b47*-0x1+0x2*-0x17c6);_0x56784b>=0x22fa+-0x1639+-0x1*0xcc1&&(_0x59b5f0=_0xa15c12[_0x56784b],_0x4cacbd=this['_getTarget'+'ElementByC'+'oords'](_0x59b5f0,cr,hr),!_0x4cacbd);_0x56784b--);if(this['_hoveredEl'+'ement']=_0x4cacbd,(_0x144b52==='mousemove'||_0x144b52==='mouseup')&&this['_pressedEl'+'ement']?this['_fireEvent'](_0x144b52,new bo(_0x56e0b1,this['_pressedEl'+'ement'],_0x59b5f0,cr,hr,this['_lastX'],this['_lastY'])):_0x4cacbd&&(this['_fireEvent'](_0x144b52,new bo(_0x56e0b1,_0x4cacbd,_0x59b5f0,cr,hr,this['_lastX'],this['_lastY'])),_0x144b52==='mousedown'&&(this['_pressedEl'+'ement']=_0x4cacbd)),_0x2082fd!==this['_hoveredEl'+'ement']&&(_0x2082fd&&this['_fireEvent']('mouseleave',new bo(_0x56e0b1,_0x2082fd,_0x59b5f0,cr,hr,this['_lastX'],this['_lastY'])),this['_hoveredEl'+'ement']&&this['_fireEvent']('mouseenter',new bo(_0x56e0b1,this['_hoveredEl'+'ement'],_0x59b5f0,cr,hr,this['_lastX'],this['_lastY']))),_0x144b52==='mouseup'&&this['_pressedEl'+'ement']){if(this['_pressedEl'+'ement']===this['_hoveredEl'+'ement']){const _0x1a68ba=this['_hoveredEl'+'ement']['entity']['getGuid']();let _0x5ef7fd=!this['_clickedEn'+'tities'];if(this['_clickedEn'+'tities']){const _0x400845=this['_clickedEn'+'tities'][_0x1a68ba]||0x1*-0x1825+-0xcce+-0x24f3*-0x1;_0x5ef7fd=Date['now']()-_0x400845>0x2da*-0x1+0x2702*-0x1+0x2b08,delete this['_clickedEn'+'tities'][_0x1a68ba];}_0x5ef7fd&&this['_fireEvent']('click',new bo(_0x56e0b1,this['_hoveredEl'+'ement'],_0x59b5f0,cr,hr,this['_lastX'],this['_lastY']));}this['_pressedEl'+'ement']=null;}}['_onXrStart'](){this['app']['xr']['on']('end',this['_onXrEnd'],this),this['app']['xr']['on']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['on']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['on']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['on']('remove',this['_onXrInput'+'Remove'],this);}['_onXrEnd'](){this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this);}['_onXrUpdat'+'e'](){if(!this['_enabled'])return;const _0x60797c=this['app']['xr']['input']['inputSourc'+'es'];for(let _0x82247f=0xe7+0x3*-0x7a5+0x1608;_0x82247f<_0x60797c['length'];_0x82247f++)this['_onElement'+'SelectEven'+'t']('selectmove',_0x60797c[_0x82247f],null);}['_onXrInput'+'Remove'](_0x1febbf){const _0x130b66=this['_selectedE'+'lements'][_0x1febbf['id']];_0x130b66&&(_0x1febbf['_elementEn'+'tity']=null,this['_fireEvent']('selectleav'+'e',new dr(null,_0x130b66,null,_0x1febbf))),delete this['_selectedE'+'lements'][_0x1febbf['id']],delete this['_selectedP'+'ressedElem'+'ents'][_0x1febbf['id']];}['_onSelectS'+'tart'](_0x218f12,_0x366080){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectstar'+'t',_0x218f12,_0x366080);}['_onSelectE'+'nd'](_0x3f178b,_0x312cfd){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectend',_0x3f178b,_0x312cfd);}['_onElement'+'SelectEven'+'t'](_0x16914a,_0x1b3b6b,_0x366c5f){let _0x6a1fe7;const _0x4bb93b=this['_selectedE'+'lements'][_0x1b3b6b['id']];let _0x3559ae;const _0x159edc=this['app']['systems']['camera']['cameras'];let _0x5beb4a;if(_0x1b3b6b['elementInp'+'ut']){ep['set'](_0x1b3b6b['getOrigin'](),_0x1b3b6b['getDirecti'+'on']());for(let _0x25c0b9=_0x159edc['length']-(0x1a26*-0x1+-0x78*-0x1+-0x1*-0x19af);_0x25c0b9>=0x3*-0x81+0x67f*-0x1+-0x32*-0x29&&(_0x5beb4a=_0x159edc[_0x25c0b9],_0x6a1fe7=this['_getTarget'+'ElementByR'+'ay'](ep,_0x5beb4a),!_0x6a1fe7);_0x25c0b9--);}_0x1b3b6b['_elementEn'+'tity']=_0x6a1fe7||null,_0x6a1fe7?(this['_selectedE'+'lements'][_0x1b3b6b['id']]=_0x6a1fe7,_0x3559ae=_0x6a1fe7):delete this['_selectedE'+'lements'][_0x1b3b6b['id']],_0x4bb93b!==_0x3559ae&&(_0x4bb93b&&this['_fireEvent']('selectleav'+'e',new dr(_0x366c5f,_0x4bb93b,_0x5beb4a,_0x1b3b6b)),_0x3559ae&&this['_fireEvent']('selectente'+'r',new dr(_0x366c5f,_0x3559ae,_0x5beb4a,_0x1b3b6b)));const _0x23568b=this['_selectedP'+'ressedElem'+'ents'][_0x1b3b6b['id']];_0x16914a==='selectmove'&&_0x23568b&&this['_fireEvent']('selectmove',new dr(_0x366c5f,_0x23568b,_0x5beb4a,_0x1b3b6b)),_0x16914a==='selectstar'+'t'&&(this['_selectedP'+'ressedElem'+'ents'][_0x1b3b6b['id']]=_0x3559ae,_0x3559ae&&this['_fireEvent']('selectstar'+'t',new dr(_0x366c5f,_0x3559ae,_0x5beb4a,_0x1b3b6b))),!_0x1b3b6b['elementInp'+'ut']&&_0x23568b&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x1b3b6b['id']],_0x4bb93b&&this['_fireEvent']('selectend',new dr(_0x366c5f,_0x23568b,_0x5beb4a,_0x1b3b6b))),_0x16914a==='selectend'&&_0x1b3b6b['elementInp'+'ut']&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x1b3b6b['id']],_0x23568b&&this['_fireEvent']('selectend',new dr(_0x366c5f,_0x23568b,_0x5beb4a,_0x1b3b6b)),_0x23568b&&_0x23568b===_0x4bb93b&&this['_fireEvent']('click',new dr(_0x366c5f,_0x23568b,_0x5beb4a,_0x1b3b6b)));}['_fireEvent'](_0xa8a260,_0x19e18b){let _0x1f4116=_0x19e18b['element'];for(;_0x1f4116['fire'](_0xa8a260,_0x19e18b),!(_0x19e18b['_stopPropa'+'gation']||!_0x1f4116['entity']['parent']||(_0x1f4116=_0x1f4116['entity']['parent']['element'],!_0x1f4116)););}['_calcMouse'+'Coords'](_0x19e97e){const _0x5f29cd=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x3b9a98=Math['floor'](_0x5f29cd['left']),_0x22692e=Math['floor'](_0x5f29cd['top']);cr=_0x19e97e['clientX']-_0x3b9a98,hr=_0x19e97e['clientY']-_0x22692e;}['_sortEleme'+'nts'](_0xfc9387,_0x58dc84){const _0x232ab8=this['app']['scene']['layers']['sortTransp'+'arentLayer'+'s'](_0xfc9387['layers'],_0x58dc84['layers']);return _0x232ab8!==0x1f*0xe6+0x2*0x94+-0xe81*0x2?_0x232ab8:_0xfc9387['screen']&&!_0x58dc84['screen']?-(-0x270*0x2+-0x1*0x172f+0x1c10):!_0xfc9387['screen']&&_0x58dc84['screen']?-0x7f*0x7+-0x18*-0xb2+-0xd36:!_0xfc9387['screen']&&!_0x58dc84['screen']?-0x12f7*0x1+0x2087+-0x38*0x3e:_0xfc9387['screen']['screen']['screenSpac'+'e']&&!_0x58dc84['screen']['screen']['screenSpac'+'e']?-(-0x19*-0x61+0x1761+-0x20d9*0x1):_0x58dc84['screen']['screen']['screenSpac'+'e']&&!_0xfc9387['screen']['screen']['screenSpac'+'e']?0x4*-0x737+-0x167+0x12a*0x1a:_0x58dc84['drawOrder']-_0xfc9387['drawOrder'];}['_getTarget'+'ElementByC'+'oords'](_0xfe7e60,_0x1ed437,_0x5be92c){const _0x344ce8=this['_calculate'+'RayScreen'](_0x1ed437,_0x5be92c,_0xfe7e60,Ri)?Ri:null,_0x56ad7e=this['_calculate'+'Ray3d'](_0x1ed437,_0x5be92c,_0xfe7e60,Ro)?Ro:null;return this['_getTarget'+'Element'](_0xfe7e60,_0x344ce8,_0x56ad7e);}['_getTarget'+'ElementByR'+'ay'](_0x3cdcd4,_0x3c64a6){Ri['origin']['copy'](_0x3cdcd4['origin']),Ri['direction']['copy'](_0x3cdcd4['direction']),Ri['end']['copy'](Ri['direction'])['mulScalar'](_0x3c64a6['farClip']*(0x1*0x31d+-0xf+-0xa*0x4e))['add'](Ri['origin']);const _0x6b0c02=Ri,_0x666ed8=_0x3c64a6['worldToScr'+'een'](_0x6b0c02['origin'],Of),_0x386fc0=this['_calculate'+'RayScreen'](_0x666ed8['x'],_0x666ed8['y'],_0x3c64a6,Ro)?Ro:null;return this['_getTarget'+'Element'](_0x3c64a6,_0x386fc0,_0x6b0c02);}['_getTarget'+'Element'](_0x3071c1,_0x51db69,_0x3ebae5){let _0x8488f7=null,_0x3de39d=(-0x10f5+-0x25fc+0x36f2)/(0x1aa9+0x1e39+-0x38e2);this['_elements']['sort'](this['_sortHandl'+'er']);for(let _0x3377b4=0x1*0x296+0x244d+-0x26e3*0x1,_0x2e04d5=this['_elements']['length'];_0x3377b4<_0x2e04d5;_0x3377b4++){const _0x2284cf=this['_elements'][_0x3377b4];if(_0x2284cf['layers']['some'](_0x144029=>_0x3071c1['layersSet']['has'](_0x144029))){if(_0x2284cf['screen']&&_0x2284cf['screen']['screen']['screenSpac'+'e']){if(!_0x51db69)continue;if(this['_checkElem'+'ent'](_0x51db69,_0x2284cf,!(-0x1*0x105d+-0x3b1+-0x22*-0x97))>=0x1912+0x2e*-0x49+-0xbf4){_0x8488f7=_0x2284cf;break;}}else{if(!_0x3ebae5)continue;const _0x21249a=this['_checkElem'+'ent'](_0x3ebae5,_0x2284cf,!(0x17ac+0xcfc+-0x1*0x24a7));if(_0x21249a>=-0x3b*0x11+-0x1e*-0x23+-0x2f*0x1&&(_0x21249a<_0x3de39d&&(_0x8488f7=_0x2284cf,_0x3de39d=_0x21249a),_0x2284cf['screen'])){_0x8488f7=_0x2284cf;break;}}}}return _0x8488f7;}['_calculate'+'RayScreen'](_0x1c20c6,_0x47f196,_0x857c77,_0x5eba0a){const _0x5cfea5=this['app']['graphicsDe'+'vice']['width'],_0x427e25=this['app']['graphicsDe'+'vice']['height'],_0x4e172b=_0x857c77['rect']['z']*_0x5cfea5,_0x172d61=_0x857c77['rect']['w']*_0x427e25,_0x1cfc48=_0x857c77['rect']['x']*_0x5cfea5,_0x28714c=_0x1cfc48+_0x4e172b,_0x3b4ad1=(0x2*-0x1372+0xd6b+0x197a-_0x857c77['rect']['y'])*_0x427e25,_0x4a77e0=_0x3b4ad1-_0x172d61;let _0x442932=_0x1c20c6*_0x5cfea5/this['_target']['clientWidt'+'h'],_0x8a74ee=_0x47f196*_0x427e25/this['_target']['clientHeig'+'ht'];return _0x442932>=_0x1cfc48&&_0x442932<=_0x28714c&&_0x8a74ee<=_0x3b4ad1&&_0x8a74ee>=_0x4a77e0?(_0x442932=_0x5cfea5*(_0x442932-_0x1cfc48)/_0x4e172b,_0x8a74ee=_0x427e25*(_0x8a74ee-_0x4a77e0)/_0x172d61,_0x8a74ee=_0x427e25-_0x8a74ee,_0x5eba0a['origin']['set'](_0x442932,_0x8a74ee,0x1*-0x1f69+-0x4fa+0x2464),_0x5eba0a['direction']['set'](0x2cd*-0x3+0x1b66+-0x12ff,0x186f+0x2d5+0x574*-0x5,-(-0x1ca5+0x2b+0x1c7b)),_0x5eba0a['end']['copy'](_0x5eba0a['direction'])['mulScalar'](-0x20ba+0xf52+0x116a)['add'](_0x5eba0a['origin']),!(-0x10*-0x7a+0xf3d+-0x79f*0x3)):!(0x1fc*-0x8+-0x1260+0x2241*0x1);}['_calculate'+'Ray3d'](_0x2d6806,_0x4a9e03,_0x4321a5,_0xd28f8f){const _0xd17799=this['_target']['clientWidt'+'h'],_0x3f0634=this['_target']['clientHeig'+'ht'],_0x23dfd5=_0x4321a5['rect']['z']*_0xd17799,_0x17402c=_0x4321a5['rect']['w']*_0x3f0634,_0x8a3f79=_0x4321a5['rect']['x']*_0xd17799,_0x10899b=_0x8a3f79+_0x23dfd5,_0x34106b=(0x66a*-0x1+0x1127*0x1+0xc*-0xe5-_0x4321a5['rect']['y'])*_0x3f0634,_0x54b07b=_0x34106b-_0x17402c;let _0x29bb44=_0x2d6806,_0xc78545=_0x4a9e03;return _0x2d6806>=_0x8a3f79&&_0x2d6806<=_0x10899b&&_0x4a9e03<=_0x34106b&&_0xc78545>=_0x54b07b?(_0x29bb44=_0xd17799*(_0x29bb44-_0x8a3f79)/_0x23dfd5,_0xc78545=_0x3f0634*(_0xc78545-_0x54b07b)/_0x17402c,_0x4321a5['screenToWo'+'rld'](_0x29bb44,_0xc78545,_0x4321a5['nearClip'],Of),_0x4321a5['screenToWo'+'rld'](_0x29bb44,_0xc78545,_0x4321a5['farClip'],RS),_0xd28f8f['origin']['copy'](Of),_0xd28f8f['direction']['set'](-0x11dd+-0x19e2+0x2bbf,-0x2cf*0x3+-0x1c44+0x24b1,-(-0xcb4+-0x8b1+-0x42*-0x53)),_0xd28f8f['end']['copy'](RS),!(0x1b30+-0x12fc+-0xa*0xd2)):!(-0x1b83*0x1+0x17f8+0x1c6*0x2);}['_checkElem'+'ent'](_0x3b9ed8,_0x6f6c9b,_0x239868){if(_0x6f6c9b['maskedBy']&&this['_checkElem'+'ent'](_0x3b9ed8,_0x6f6c9b['maskedBy']['element'],_0x239868)<-0x4*-0x2ce+0x1*-0x6a1+-0x497)return-(-0x779*0x4+-0x1*0x1dec+-0x1*-0x3bd1);let _0x15f733;_0x239868?_0x15f733=Xo['calculateS'+'caleToScre'+'en'](_0x6f6c9b):_0x15f733=Xo['calculateS'+'caleToWorl'+'d'](_0x6f6c9b);const _0x59ab46=Xo['buildHitCo'+'rners'](_0x6f6c9b,_0x239868?_0x6f6c9b['screenCorn'+'ers']:_0x6f6c9b['worldCorne'+'rs'],_0x15f733);return xU(_0x3b9ed8['origin'],_0x3b9ed8['end'],_0x59ab46);}static['buildHitCo'+'rners'](_0x2ce9e5,_0x59ade9,_0x407304){let _0x3b7f5e=_0x59ade9;if(_0x2ce9e5['entity']&&_0x2ce9e5['entity']['button']){const _0x2d4509=_0x2ce9e5['entity']['button']['hitPadding']||vU;wo['copy'](_0x2ce9e5['entity']['up']),Vc['copy'](wo)['mulScalar'](-(-0x905*-0x1+0x405+-0x47*0x2f)),Eo['copy'](_0x2ce9e5['entity']['right']),Gc['copy'](Eo)['mulScalar'](-(0x2e2+0x1efc+0x1*-0x21dd)),wo['mulScalar'](_0x2d4509['w']*_0x407304['y']),Vc['mulScalar'](_0x2d4509['y']*_0x407304['y']),Eo['mulScalar'](_0x2d4509['z']*_0x407304['x']),Gc['mulScalar'](_0x2d4509['x']*_0x407304['x']),FS['copy'](_0x3b7f5e[0x39c+0x2*0x117f+-0xcde*0x3])['add'](Vc)['add'](Gc),NS['copy'](_0x3b7f5e[0x1*0x185b+-0x1b51+0x17*0x21])['add'](Vc)['add'](Eo),kS['copy'](_0x3b7f5e[0x19b*-0x5+-0xe3*-0x14+-0x9b3*0x1])['add'](wo)['add'](Eo),US['copy'](_0x3b7f5e[0x1dc+-0x1d75+0x4*0x6e7])['add'](wo)['add'](Gc),_0x3b7f5e=[FS,NS,kS,US];}if(_0x407304['x']<-0x2360+0xf7*-0x1a+0x3c76){const _0x288b4a=_0x3b7f5e[-0x8*0x304+-0x999+0x21bb]['x'],_0x5d6508=_0x3b7f5e[-0x1*-0x1d15+-0x16*0x14c+-0x8d]['x'];_0x3b7f5e[0x176d+-0x256c+-0xdff*-0x1]['x']=_0x288b4a,_0x3b7f5e[0x12d1+-0x14ba+-0x23*-0xe]['x']=_0x5d6508,_0x3b7f5e[0x1d83+-0x748+-0x1639]['x']=_0x5d6508,_0x3b7f5e[0x1*-0x2474+0x85*-0x4+0x268b]['x']=_0x288b4a;}if(_0x407304['y']<0x2103*0x1+-0x275+-0x1e8e){const _0x58dbcf=_0x3b7f5e[-0xe*0x24a+-0x1*0x2503+-0x1*-0x4511]['y'],_0x3a1f02=_0x3b7f5e[-0x2599+-0x1*0x12f1+0x388a]['y'];_0x3b7f5e[-0xa4+-0x2170+0x2214]['y']=_0x58dbcf,_0x3b7f5e[0xcb5+0xc69+0x191d*-0x1]['y']=_0x58dbcf,_0x3b7f5e[0x1a35+-0x1d2a+0x3*0xfd]['y']=_0x3a1f02,_0x3b7f5e[-0x7*0x3fd+0x3d5*-0x3+0x276d]['y']=_0x3a1f02;}if(_0x407304['z']<-0x1b35+-0x4*-0x26+0x1a9d){const _0x223631=_0x3b7f5e[-0x128*-0x1f+0x28*-0x20+0x2*-0xf6b]['x'],_0x3f1bdb=_0x3b7f5e[0xd6f+0x7a4*-0x1+-0x5c9]['y'],_0x199995=_0x3b7f5e[-0xd*0xf7+0x7c*-0x3c+0x299d]['z'];_0x3b7f5e[0x198+-0x75d+0x5c7]['x']=_0x3b7f5e[-0x23f0+-0x2*0x1028+0x60*0xb6]['x'],_0x3b7f5e[-0x1087+-0x238d*-0x1+-0x1304]['y']=_0x3b7f5e[0x9f*0x29+-0x419+-0x223*0xa]['y'],_0x3b7f5e[0x1*0xddc+0x3*0xa56+-0x2cdc]['z']=_0x3b7f5e[-0x559*0x3+0x11*0x1c3+-0xa*0x164]['z'],_0x3b7f5e[-0x2*-0x171+0x15*-0x9b+0x9d5]['x']=_0x223631,_0x3b7f5e[-0xc9*0x2b+-0xf83+-0xe*-0x385]['y']=_0x3f1bdb,_0x3b7f5e[0x217f+0x205d*0x1+-0x41dc]['z']=_0x199995;}return _0x3b7f5e;}static['calculateS'+'caleToScre'+'en'](_0x4f22a3){let _0x368aef=_0x4f22a3['entity'];const _0x27f158=_0x4f22a3['screen']['screen']['scale'];for(tn['set'](_0x27f158,_0x27f158,_0x27f158);_0x368aef&&!_0x368aef['screen'];)tn['mul'](_0x368aef['getLocalSc'+'ale']()),_0x368aef=_0x368aef['parent'];return tn;}static['calculateS'+'caleToWorl'+'d'](_0x4d8389){let _0x582a8c=_0x4d8389['entity'];for(tn['set'](0x494*0x3+-0xbb*0x26+0x85*0x1b,-0x24b7+0x1*-0x21f+0x26d7,0x39b*0xa+-0x230f*-0x1+-0x471c);_0x582a8c;)tn['mul'](_0x582a8c['getLocalSc'+'ale']()),_0x582a8c=_0x582a8c['parent'];return tn;}}J['prototype']['scale']=J['prototype']['mulScalar'],D['prototype']['scale']=D['prototype']['mulScalar'],re['prototype']['scale']=re['prototype']['mulScalar'],new re();function YU(_0x16f008,_0x4528cf){return w['deprecated']('pc.createS'+'phere\x20is\x20d'+'eprecated.'+'\x20Use\x20\x27pc.M'+'esh.fromGe'+'ometry(dev'+'ice,\x20new\x20S'+'phereGeome'+'try(option'+'s);\x27\x20forma'+'t\x20instead.'),Ge['fromGeomet'+'ry'](_0x16f008,new _m(_0x4528cf));}Object['defineProp'+'erties'](gt['prototype'],{'_glFrameBuffer':{'get':function(){return w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.'),this['impl']['_glFrameBu'+'ffer'];},'set':function(_0x27427f){w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.');}}}),Object['defineProp'+'erty'](kt,'defaultIns'+'tancingFor'+'mat',{'get':function(){return w['assert']('pc.VertexF'+'ormat.defa'+'ultInstanc'+'ingFormat\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.VertexFo'+'rmat.getDe'+'faultInsta'+'ncingForma'+'t(graphics'+'Device).'),null;}}),Object['defineProp'+'erties'](_e['prototype'],{'rgbm':{'get':function(){return w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']===Zi;},'set':function(_0x2448e9){w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']=_0x2448e9?Zi:Ds;}},'swizzleGGGR':{'get':function(){return w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']===Jo;},'set':function(_0x1b643a){w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']=_0x1b643a?Jo:Ds;}},'_glTexture':{'get':function(){return w['deprecated']('pc.Texture'+'#_glTextur'+'e\x20is\x20no\x20lo'+'nger\x20avail'+'able,\x20use\x20'+'Use\x20pc.Tex'+'ture.impl.'+'_glTexture'+'\x20instead.'),this['impl']['_glTexture'];}}}),Object['defineProp'+'erty']($e['prototype'],'boneLimit',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#bo'+'neLimit\x20is'+'\x20deprecate'+'d\x20and\x20the\x20'+'limit\x20has\x20'+'been\x20remov'+'ed.'),0x7a3+0x24d*0xb+-0x1cf2;}}),Object['defineProp'+'erty']($e['prototype'],'webgl2',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#we'+'bgl2\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e#isWebGL2'+'\x20instead.'),this['isWebGL2'];}}),Object['defineProp'+'erty']($e['prototype'],'textureFlo'+'atHighPrec'+'ision',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureFloat'+'HighPrecis'+'ion\x20is\x20dep'+'recated\x20an'+'d\x20always\x20r'+'eturns\x20tru'+'e.'),!(0x28*0x71+0x645*0x1+0xf5*-0x19);}}),Object['defineProp'+'erty']($e['prototype'],'extBlendMi'+'nmax',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tBlendMinm'+'ax\x20is\x20depr'+'ecated\x20as\x20'+'it\x20is\x20alwa'+'ys\x20true.'),!(0x1*0x3cb+0x1d*-0x74+0x959*0x1);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'HalfFloat',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureHa'+'lfFloat\x20is'+'\x20deprecate'+'d\x20as\x20it\x20is'+'\x20always\x20tr'+'ue.'),!(0x1*0x164d+0x9d*0x2+-0x13d*0x13);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Lod',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureLo'+'d\x20is\x20depre'+'cated\x20as\x20i'+'t\x20is\x20alway'+'s\x20true.'),!(-0x1ae+0x25c3+-0x2415);}}),(function(){let _0x107859;try{const _0x5f272e=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x107859=_0x5f272e();}catch(_0x2024bd){_0x107859=window;}_0x107859['setInterva'+'l'](_0x42c7a5,0x2bd*-0x1+-0x2519*-0x1+-0x12bc);}()),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatFilt'+'erable',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatFilter'+'able\x20is\x20de'+'precated\x20a'+'s\x20it\x20is\x20al'+'ways\x20true.'),!(-0x3*-0x5ae+-0x836+-0x8d4);}}),Object['defineProp'+'erty']($e['prototype'],'supportsMr'+'t',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsMrt\x20'+'is\x20depreca'+'ted\x20as\x20it\x20'+'is\x20always\x20'+'true.'),!(0x4e*-0x3b+-0x2*-0x12af+0x49*-0x44);}}),Object['defineProp'+'erty']($e['prototype'],'supportsVo'+'lumeTextur'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsVolu'+'meTextures'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(0x4*0x8f5+-0x2281+-0x3*0x71);}}),Object['defineProp'+'erty']($e['prototype'],'supportsIn'+'stancing',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsInst'+'ancing\x20is\x20'+'deprecated'+'\x20as\x20it\x20is\x20'+'always\x20tru'+'e.'),!(0x2513+0x18*0xcb+-0x381b);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatUpda'+'table',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatUpdata'+'ble\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true.'),!(-0xd7*-0x17+0x1df2+-0x1*0x3143);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Float',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureFl'+'oat\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true'),!(-0xf4a+0x2*0x810+-0xd6);}}),Object['defineProp'+'erty']($e['prototype'],'extStandar'+'dDerivativ'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tStandardD'+'erivatives'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(0x2*-0x26e+0x1*0x9d9+-0x4fd*0x1);}}),pt['DEFAULT']=Object['freeze'](new pt());const ut=new pt(),ji=new Yt();$e['prototype']['setBlendFu'+'nction']=function(_0x5bdabc,_0x12438f){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x117630=this['blendState'];ut['copy'](_0x117630),ut['setColorBl'+'end'](_0x117630['colorOp'],_0x5bdabc,_0x12438f),ut['setAlphaBl'+'end'](_0x117630['alphaOp'],_0x5bdabc,_0x12438f),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendFu'+'nctionSepa'+'rate']=function(_0x48bb1d,_0xd0aa95,_0x2822ca,_0x5ab522){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0x558b0d=this['blendState'];ut['copy'](_0x558b0d),ut['setColorBl'+'end'](_0x558b0d['colorOp'],_0x48bb1d,_0xd0aa95),ut['setAlphaBl'+'end'](_0x558b0d['alphaOp'],_0x2822ca,_0x5ab522),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uation']=function(_0x5daf42){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x157e22=this['blendState'];ut['copy'](_0x157e22),ut['setColorBl'+'end'](_0x5daf42,_0x157e22['colorSrcFa'+'ctor'],_0x157e22['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0x5daf42,_0x157e22['alphaSrcFa'+'ctor'],_0x157e22['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uationSepa'+'rate']=function(_0x30f43f,_0x461a4a){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0x4d4cf5=this['blendState'];ut['copy'](_0x4d4cf5),ut['setColorBl'+'end'](_0x30f43f,_0x4d4cf5['colorSrcFa'+'ctor'],_0x4d4cf5['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0x461a4a,_0x4d4cf5['alphaSrcFa'+'ctor'],_0x4d4cf5['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setColorWr'+'ite']=function(_0x4c2614,_0x24eebe,_0x545ae8,_0x2f269c){w['deprecated']('pc.Graphic'+'sDevice#se'+'tColorWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etBlendSta'+'te\x20instead'+'.');const _0x1fc7b6=this['blendState'];ut['copy'](_0x1fc7b6),ut['setColorWr'+'ite'](_0x4c2614,_0x24eebe,_0x545ae8,_0x2f269c),this['setBlendSt'+'ate'](ut);},$e['prototype']['getBlendin'+'g']=function(){return this['blendState']['blend'];},$e['prototype']['setBlendin'+'g']=function(_0x3c1814){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlending\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.Graphics'+'Device.set'+'BlendState'+'\x20instead.'),ut['copy'](this['blendState']),ut['blend']=_0x3c1814,this['setBlendSt'+'ate'](ut);},$e['prototype']['setDepthWr'+'ite']=function(_0x40d481){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etDepthSta'+'te\x20instead'+'.'),ji['copy'](this['depthState']),ji['write']=_0x40d481,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthFu'+'nc']=function(_0x4d5c74){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthFunc'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['func']=_0x4d5c74,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthTe'+'st']=function(_0x4ac8e4){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthTest'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['test']=_0x4ac8e4,this['setDepthSt'+'ate'](ji);},$e['prototype']['getCullMod'+'e']=function(){return this['cullMode'];},new Proxy({},{'get'(_0x46f79b,_0x582daf){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20acces'+'s\x20global\x20s'+'hader\x20chun'+'ks\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Shade'+'rChunks.ge'+'t\x20instead,'+'\x20for\x20examp'+'le:\x20pc.Sha'+'derChunks.'+'get(this.a'+'pp.graphic'+'sDevice,\x20p'+'c.SHADERLA'+'NGUAGE_GLS'+'L).get(\x27'+_0x582daf+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['get'](_0x582daf);},'set'(_0x38ae47,_0x1ff68a,_0xa96354){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20overr'+'ide\x20global'+'\x20shader\x20ch'+'unks\x20is\x20de'+'precated.\x20'+'Use\x20pc.Sha'+'derChunks.'+'get\x20instea'+'d,\x20for\x20exa'+'mple:\x20pc.S'+'haderChunk'+'s.get(this'+'.app.graph'+'icsDevice,'+'\x20pc.SHADER'+'LANGUAGE_G'+'LSL).set(\x27'+_0x1ff68a+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['set'](_0x1ff68a,_0xa96354),!(-0xdc6+-0x14c0+-0x3*-0xb82);}}),Object['defineProp'+'erty'](Et['prototype'],'defaultMat'+'erial',{'get':function(){return w['deprecated']('pc.Scene#d'+'efaultMate'+'rial\x20is\x20de'+'precated.'),Qn(Ms()['graphicsDe'+'vice']);}}),Object['defineProp'+'erty'](Et['prototype'],'fogColor',{'set':function(_0x89166c){w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color']=_0x89166c;},'get':function(){return w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogEnd',{'set':function(_0x59884d){w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end']=_0x59884d;},'get':function(){return w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogStart',{'set':function(_0x2bba6e){w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start']=_0x2bba6e;},'get':function(){return w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogDensity',{'set':function(_0x539411){w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density']=_0x539411;},'get':function(){return w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density'];}}),Object['defineProp'+'erty'](Et['prototype'],'toneMappin'+'g',{'set':function(_0x401373){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');},'get':function(){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'gammaCorre'+'ction',{'set':function(_0x3c2156){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');},'get':function(){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'rendering',{'set':function(_0x233c9e){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');},'get':function(){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');}}),Object['defineProp'+'erty'](du['prototype'],'_meshInsta'+'nces',{'get':function(){return w['deprecated']('pc.LayerCo'+'mposition#'+'_meshInsta'+'nces\x20is\x20de'+'precated.'),null;}}),Object['defineProp'+'erty'](Et['prototype'],'drawCalls',{'get':function(){return w['deprecated']('pc.Scene#d'+'rawCalls\x20i'+'s\x20deprecat'+'ed\x20and\x20no\x20'+'longer\x20pro'+'vides\x20mesh'+'\x20instances'+'.'),null;}}),['128','64','32','16','8','4']['forEach']((_0x490b52,_0x1c3068)=>{Object['defineProp'+'erty'](Et['prototype'],'skyboxPref'+'iltered'+_0x490b52,{'get':function(){return w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x490b52+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x1c3068];},'set':function(_0x87492d){w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x490b52+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x1c3068]=_0x87492d,this['updateShad'+'ers']=!(0x1*-0x76a+-0x80*0x2c+0xeb5*0x2);}});}),Object['defineProp'+'erty'](Et['prototype'],'models',{'get':function(){return this['_models']||(this['_models']=[]),this['_models'];}});function Bt(_0x4f17d4,_0x203fe1,_0x5913ad=''){Object['defineProp'+'erty'](_0x4f17d4['prototype'],_0x203fe1,{'set':function(_0x42fbd0){w['errorOnce'](_0x4f17d4['name']+'#'+_0x203fe1+('\x20has\x20been\x20'+'removed.\x20')+_0x5913ad);},'get':function(){w['errorOnce'](_0x4f17d4['name']+'#'+_0x203fe1+('\x20has\x20been\x20'+'removed.\x20')+_0x5913ad);}});}Bt(Ot,'renderTarg'+'et'),Bt(Ot,'onPreCull'),Bt(Ot,'onPreRende'+'r'),Bt(Ot,'onPreRende'+'rOpaque'),Bt(Ot,'onPreRende'+'rTranspare'+'nt'),Bt(Ot,'onPostCull'),Bt(Ot,'onPostRend'+'er'),Bt(Ot,'onPostRend'+'erOpaque'),Bt(Ot,'onPostRend'+'erTranspar'+'ent'),Bt(Ot,'onDrawCall'),Bt(Ot,'layerRefer'+'ence'),Bt(Ir,'onPreCull','Use\x20Scene#'+'EVENT_PREC'+'ULL\x20event\x20'+'instead.'),Bt(Ir,'onPostCull','Use\x20Scene#'+'EVENT_POST'+'CULL\x20event'+'\x20instead.'),Bt(Ir,'onPreRende'+'r','Use\x20Scene#'+'EVENT_PRER'+'ENDER\x20even'+'t\x20instead.'),Bt(Ir,'onPostRend'+'er','Use\x20Scene#'+'EVENT_POST'+'RENDER\x20eve'+'nt\x20instead'+'.'),Bt(Ir,'onPreRende'+'rLayer','Use\x20Scene#'+'EVENT_PRER'+'ENDER_LAYE'+'R\x20event\x20in'+'stead.'),Bt(Ir,'onPostRend'+'erLayer','Use\x20Scene#'+'EVENT_POST'+'RENDER_LAY'+'ER\x20event\x20i'+'nstead.'),fl['prototype']['renderComp'+'osition']=function(_0x55b822){w['deprecated']('pc.Forward'+'Renderer#r'+'enderCompo'+'sition\x20is\x20'+'deprecated'+'.\x20Use\x20pc.A'+'ppBase.ren'+'derComposi'+'tion\x20inste'+'ad.'),Ms()['renderComp'+'osition'](_0x55b822);},He['prototype']['syncAabb']=function(){w['deprecated']('pc.MeshIns'+'tance#sync'+'Aabb\x20is\x20de'+'precated.');},mm['prototype']['getTarget']=function(_0x1f79ea){return w['deprecated']('pc.Morph#g'+'etTarget\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.Morph#tar'+'gets\x20inste'+'ad.'),this['targets'][_0x1f79ea];},Ie['prototype']['getChildre'+'n']=function(){return w['deprecated']('pc.GraphNo'+'de#getChil'+'dren\x20is\x20de'+'precated.\x20'+'Use\x20pc.Gra'+'phNode#chi'+'ldren\x20inst'+'ead.'),this['children'];},Ie['prototype']['getName']=function(){return w['deprecated']('pc.GraphNo'+'de#getName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name'];},Ie['prototype']['getPath']=function(){return w['deprecated']('pc.GraphNo'+'de#getPath'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#path\x20in'+'stead.'),this['path'];},Ie['prototype']['getRoot']=function(){return w['deprecated']('pc.GraphNo'+'de#getRoot'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#root\x20in'+'stead.'),this['root'];},Ie['prototype']['getParent']=function(){return w['deprecated']('pc.GraphNo'+'de#getPare'+'nt\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Graph'+'Node#paren'+'t\x20instead.'),this['parent'];},Ie['prototype']['setName']=function(_0x2d40e6){w['deprecated']('pc.GraphNo'+'de#setName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name']=_0x2d40e6;},Object['defineProp'+'erty'](tr['prototype'],'shader',{'set':function(_0x572d2b){w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.');},'get':function(){return w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.'),null;}}),Object['defineProp'+'erty'](tr['prototype'],'blend',{'set':function(_0xb21771){w['deprecated']('pc.Materia'+'l#blend\x20is'+'\x20deprecate'+'d,\x20use\x20pc.'+'Material.b'+'lendState.'),this['blendState']['blend']=_0xb21771;},'get':function(){return this['blendState']['blend'];}}),Object['defineProp'+'erty'](Ut['prototype'],'shininess',{'get':function(){return this['gloss']*(0x671+0x26f+-0x2d4*0x3);},'set':function(_0x2c84b0){this['gloss']=_0x2c84b0*(0xce8+0x751*-0x5+0x17ad+0.01);}}),Object['defineProp'+'erty'](Ut['prototype'],'useGammaTo'+'nemap',{'get':function(){return this['useTonemap'];},'set':function(_0x81a93b){this['useTonemap']=_0x81a93b;}}),Object['defineProp'+'erty'](Ut['prototype'],'anisotropy',{'get':function(){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.');const _0x82ca73=Math['sign'](Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']*(-0xc04*0x3+-0x140b+-0x12b3*-0x3)));return this['anisotropy'+'Intensity']*_0x82ca73;},'set':function(_0x353a3e){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.'),this['anisotropy'+'Intensity']=Math['abs'](_0x353a3e),_0x353a3e>=-0x114b*0x1+0xb41*-0x1+0xe*0x20a?this['anisotropy'+'Rotation']=-0xeb4+0x2059+-0x1*0x11a5:this['anisotropy'+'Rotation']=0xa8f+0x1f2d+-0x2962;}});function Qs(_0x1e9528,_0x18001b){Object['defineProp'+'erty'](Ut['prototype'],_0x18001b,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x18001b+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0x1e9528+'\x20instead.'),this[_0x1e9528];},'set':function(_0x12faeb){w['deprecated']('pc.Standar'+'dMaterial#'+_0x18001b+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0x1e9528+'\x20instead.'),this[_0x1e9528]=_0x12faeb;}});}function Id(_0x231f53){Object['defineProp'+'erty'](Ut['prototype'],_0x231f53,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x231f53+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x231f53+('\x20was\x20alway'+'s\x20true')),!(0x203e*0x1+-0xbb3+0x1*-0x148b);},'set':function(_0x58fb76){w['deprecated']('pc.Standar'+'dMaterial#'+_0x231f53+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x231f53+('\x20was\x20alway'+'s\x20true'));}});}Id('sheenTint'),Id('diffuseTin'+'t'),Id('emissiveTi'+'nt'),Id('ambientTin'+'t'),Qs('specularTi'+'nt','specularMa'+'pTint'),Qs('aoVertexCo'+'lor','aoMapVerte'+'xColor'),Qs('diffuseVer'+'texColor','diffuseMap'+'VertexColo'+'r'),Qs('specularVe'+'rtexColor','specularMa'+'pVertexCol'+'or'),Qs('emissiveVe'+'rtexColor','emissiveMa'+'pVertexCol'+'or'),Qs('metalnessV'+'ertexColor','metalnessM'+'apVertexCo'+'lor'),Qs('glossVerte'+'xColor','glossMapVe'+'rtexColor'),Qs('opacityVer'+'texColor','opacityMap'+'VertexColo'+'r'),Qs('lightVerte'+'xColor','lightMapVe'+'rtexColor'),Qs('sheenGloss','sheenGloss'+'iess'),Qs('clearCoatG'+'loss','clearCostG'+'lossiness');function F0(_0x3b5176,_0x4a06fe){_0x3b5176!=='pass'&&Object['defineProp'+'erty'](dl['prototype'],_0x3b5176,{'get':function(){return w['deprecated']('Getting\x20pc'+'.Options#'+_0x3b5176+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0x4a06fe||_0x3b5176)+'.'),this['litOptions'][_0x4a06fe||_0x3b5176];},'set':function(_0x19a9f0){w['deprecated']('Setting\x20pc'+'.Options#'+_0x3b5176+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0x4a06fe||_0x3b5176)+'.'),this['litOptions'][_0x4a06fe||_0x3b5176]=_0x19a9f0;}});}F0('refraction','useRefract'+'ion');const TU=new wv(),zS=Object['getOwnProp'+'ertyNames'](TU);for(const l in zS)F0(zS[l]);mn['prototype']['getAssetBy'+'Id']=function(_0x40e064){return w['deprecated']('pc.AssetRe'+'gistry#get'+'AssetById\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AssetReg'+'istry#get\x20'+'instead.'),this['get'](_0x40e064);},Object['defineProp'+'erty'](Qt['prototype'],'ray',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#ray'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.XrInput'+'Source#get'+'Origin\x20and'+'\x20pc.XrInpu'+'tSource#ge'+'tDirection'+'\x20instead.'),this['_rayLocal'];}}),Object['defineProp'+'erty'](Qt['prototype'],'position',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#pos'+'ition\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Position\x20i'+'nstead.'),this['_localPosi'+'tion'];}}),Object['defineProp'+'erty'](Qt['prototype'],'rotation',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#rot'+'ation\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Rotation\x20i'+'nstead.'),this['_localRota'+'tion'];}}),Object['defineProp'+'erty'](Xo['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(-0x5d7+-0x7d*0x31+-0x67*-0x4a);}}),Object['defineProp'+'erty'](ta['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(0x1c31+0xa*-0x261+0x5*-0xe1);}}),Ks['prototype']['isFullscre'+'en']=function(){return w['deprecated']('pc.AppBase'+'#isFullscr'+'een\x20is\x20dep'+'recated.\x20U'+'se\x20the\x20Ful'+'lscreen\x20AP'+'I\x20directly'+'.'),!!document['fullscreen'+'Element'];},Ks['prototype']['enableFull'+'screen']=function(_0x26a044,_0xa1ab3a,_0x4bdfc4){w['deprecated']('pc.AppBase'+'#enableFul'+'lscreen\x20is'+'\x20deprecate'+'d.\x20Use\x20the'+'\x20Fullscree'+'n\x20API\x20dire'+'ctly.'),_0x26a044=_0x26a044||this['graphicsDe'+'vice']['canvas'];const _0x5329bb=function(){_0xa1ab3a(),document['removeEven'+'tListener']('fullscreen'+'change',_0x5329bb);},_0x5efebb=function(){_0x4bdfc4(),document['removeEven'+'tListener']('fullscreen'+'error',_0x5efebb);};_0xa1ab3a&&document['addEventLi'+'stener']('fullscreen'+'change',_0x5329bb,!(0xd74+-0x151e+0x7ab)),_0x4bdfc4&&document['addEventLi'+'stener']('fullscreen'+'error',_0x5efebb,!(0x1*-0x599+0xcf2+-0x758)),_0x26a044['requestFul'+'lscreen']?_0x26a044['requestFul'+'lscreen'](Element['ALLOW_KEYB'+'OARD_INPUT']):_0x4bdfc4();},Ks['prototype']['disableFul'+'lscreen']=function(_0x46b34e){w['deprecated']('pc.AppBase'+'#disableFu'+'llscreen\x20i'+'s\x20deprecat'+'ed.\x20Use\x20th'+'e\x20Fullscre'+'en\x20API\x20dir'+'ectly.');const _0x4a0f62=function(){_0x46b34e(),document['removeEven'+'tListener']('fullscreen'+'change',_0x4a0f62);};_0x46b34e&&document['addEventLi'+'stener']('fullscreen'+'change',_0x4a0f62,!(0xe2*0x2b+-0x1431*-0x1+-0x3a26)),document['exitFullsc'+'reen']();},Ks['prototype']['getSceneUr'+'l']=function(_0x12b731){w['deprecated']('pc.AppBase'+'#getSceneU'+'rl\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.AppBa'+'se#scenes\x20'+'and\x20pc.Sce'+'neRegistry'+'#find\x20inst'+'ead.');const _0x8b9de7=this['scenes']['find'](_0x12b731);return _0x8b9de7?_0x8b9de7['url']:null;},Ks['prototype']['loadScene']=function(_0x5014d7,_0xc668e9){w['deprecated']('pc.AppBase'+'#loadScene'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.AppBase'+'#scenes\x20an'+'d\x20pc.Scene'+'Registry#l'+'oadScene\x20i'+'nstead.'),this['scenes']['loadScene'](_0x5014d7,_0xc668e9);},Ks['prototype']['loadSceneH'+'ierarchy']=function(_0x5979f5,_0x343ae3){w['deprecated']('pc.AppBase'+'#loadScene'+'Hierarchy\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AppBase#'+'scenes\x20and'+'\x20pc.SceneR'+'egistry#lo'+'adSceneHie'+'rarchy\x20ins'+'tead.'),this['scenes']['loadSceneH'+'ierarchy'](_0x5979f5,_0x343ae3);},Ks['prototype']['loadSceneS'+'ettings']=function(_0x5f1032,_0x2c4316){w['deprecated']('pc.AppBase'+'#loadScene'+'Settings\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.AppBase#s'+'cenes\x20and\x20'+'pc.SceneRe'+'gistry#loa'+'dSceneSett'+'ings\x20inste'+'ad.'),this['scenes']['loadSceneS'+'ettings'](_0x5f1032,_0x2c4316);},Tm['prototype']['setVisible']=function(_0x44e26e){w['deprecated']('pc.ModelCo'+'mponent#se'+'tVisible\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.ModelComp'+'onent#enab'+'led\x20instea'+'d.'),this['enabled']=_0x44e26e;},Object['defineProp'+'erty'](bs['prototype'],'bodyType',{'get':function(){return w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type'];},'set':function(_0x130a4d){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type']=_0x130a4d;}}),bs['prototype']['syncBodyTo'+'Entity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#syncBody'+'ToEntity\x20i'+'s\x20not\x20publ'+'ic\x20API\x20and'+'\x20should\x20no'+'t\x20be\x20used.'),this['_updateDyn'+'amic']();},wm['prototype']['setGravity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'tSystem#se'+'tGravity\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.RigidBody'+'ComponentS'+'ystem#grav'+'ity\x20instea'+'d.'),arguments['length']===-0x2543*-0x1+0x7*-0x24d+0x70d*-0x3?this['gravity']['copy'](arguments[0x1ec3+0x83*-0x25+-0xbd4]):this['gravity']['set'](arguments[-0x13e7+0x148d+0x1*-0xa6],arguments[-0x1767+-0x1eee+0x3656],arguments[0x144c+0x64d*0x5+0x1*-0x33cb]);};class wU{constructor(_0x4474b9){this['_frameInde'+'x']=-0xe*-0xf1+-0xb0c*-0x2+-0x2346,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=-0x81*0x9+0x1b*0xd9+-0x1259,this['enabled']=!(-0x701+-0x9e0+0x10e1*0x1),_0x4474b9['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x4474b9['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x4474b9['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x23f958){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x586770=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x586770,this['_frameInde'+'x']=0x2124+-0x1877*-0x1+0x399b*-0x1,this['mark'](_0x23f958);}['mark'](_0x2c9da7){if(!this['enabled'])return;const _0x368848=de();if(this['_frameInde'+'x']>0x217+-0x12b7+0x20*0x85){const _0x77a9cf=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(0x137*0x1f+-0x1*0x3e1+-0x21c7)];_0x77a9cf[-0x3a+0x84f*-0x3+0x1928]=_0x368848-_0x77a9cf[-0x392+-0x162*-0x7+0x1*-0x61b];}else{if(this['_timings']['length']>-0x1ce2+0x1*-0x879+0x255b){const _0x170a91=this['_timings'][this['_timings']['length']-(0x180b+-0x18*0x20+-0xa85*0x2)];_0x170a91[-0x263f+0x4*0x2e4+-0xd58*-0x2]=_0x368848-_0x170a91[0x71*0x19+0x20a7+0xd3*-0x35];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x2c9da7,_0x368848]);else{const _0x216c3b=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x216c3b[-0x276+-0x14d6+-0x7*-0x354]=_0x2c9da7,_0x216c3b[-0x6ba+0x14f7*0x1+-0x38f*0x4]=_0x368848;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](0xb9+0x6*-0x22d+0xc55,-(-0x1391+-0x24c7+0x3859))['map'](_0x5850dc=>_0x5850dc[0x20b9+0x3*-0x8e7+-0x3*0x201]);}}class EU{constructor(_0x44e7c4){this['device']=_0x44e7c4,_0x44e7c4['gpuProfile'+'r']['enabled']=!(0x512*0x3+0x1afb+0x607*-0x7),this['enabled']=!(-0x955*-0x3+0x1b7*-0xb+-0x922),this['unitsName']='ms',this['decimalPla'+'ces']=0x409*-0x4+0x599+-0x1b*-0x64,this['_timings']=[];}get['timings'](){return this['_timings'][-0x388*0x4+-0x6d*0x1+0x1*0xe8d]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class bU{constructor(_0x36f9d4,_0x1b6d38,_0x518505,_0x8052fc,_0x13367b){this['app']=_0x36f9d4,this['values']=[],this['statNames']=_0x1b6d38,this['statNames']['length']>-0x33*0x4f+0x22c7*0x1+-0x1307*0x1&&(this['statNames']['length']=-0x5*-0x74f+0x2479*0x1+-0x4901),this['unitsName']=_0x8052fc,this['decimalPla'+'ces']=_0x518505,this['multiplier']=_0x13367b||0x6*0x3cd+0x1*0x1ab1+-0x317e;const _0x162e79=(_0x2cecbe,_0x561b8d)=>_0x2cecbe['split']('.')['reduce']((_0x5244dc,_0x1e935b)=>_0x5244dc?_0x5244dc[_0x1e935b]:null,_0x561b8d||this);_0x36f9d4['on']('frameupdat'+'e',_0x12d74b=>{for(let _0x177ea2=-0x44c+0x1f4e+-0x1b02;_0x177ea2<this['statNames']['length'];_0x177ea2++)this['values'][_0x177ea2]=_0x162e79(this['statNames'][_0x177ea2],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class Uf{constructor(_0x3b72ca,_0x41364b,_0x3292e4,_0x136679,_0x5eb5fd){this['app']=_0x41364b,this['name']=_0x3b72ca,this['device']=_0x41364b['graphicsDe'+'vice'],this['timer']=_0x5eb5fd,this['watermark']=_0x3292e4,this['enabled']=!(0x1e55+-0x11ee+-0xc66),this['textRefres'+'hRate']=_0x136679,this['avgTotal']=0x89*-0x19+-0x6f*0x42+0x29ff,this['avgTimer']=0x10c7*0x2+-0x8*-0x3ad+0x1f7b*-0x2,this['avgCount']=-0x81+-0xc9c*0x1+0xd1d*0x1,this['timingText']='',this['texture']=null,this['yOffset']=-0x16f*0x2+-0x247d+0x275b,this['cursor']=0x9ea+0x2*0xcbb+-0x2360,this['sample']=new Uint8ClampedArray(-0x2231+0x1*0x1319+0xf1c),this['sample']['set']([0x24c4+-0x282*0xe+-0x1a8,-0x1b33+0xf7f+0xd6*0xe,0x2264+-0x19f*0x7+-0x170b,-0x218+0x25*0xa7+-0x3*0x704]),this['counter']=0xc43+-0x25b1*-0x1+-0x31f4,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x3bb423){const _0x3ee8e5=this['timer']['timings'],_0x2c20fb=_0x3ee8e5['reduce']((_0x4fe662,_0x18394e)=>_0x4fe662+_0x18394e,0x257*0xd+0x298*0xe+-0x42bb);if(this['avgTotal']+=_0x2c20fb,this['avgTimer']+=_0x3bb423,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=-0x1*0x2542+-0x1*-0x2051+-0x17*-0x37,this['avgTotal']=0x1*0x26ad+-0x47*0x26+0x1c23*-0x1,this['avgCount']=0x723+0x3ab+0x3*-0x39a),this['enabled']){let _0x1736cf=0x35b*-0x2+-0x18d2+0x4*0x7e2;const _0x1c5322=(-0xbdb+-0x461+0x1*0x103d+0.5)*this['watermark'];for(let _0x2d66af=-0x83b+0x1fc*-0x4+-0x1*-0x102b;_0x2d66af<_0x3ee8e5['length'];++_0x2d66af)_0x1736cf+=Math['floor'](_0x3ee8e5[_0x2d66af]/_0x1c5322*(-0x115*-0x9+-0x1089+0x7cb)),this['sample'][_0x2d66af]=_0x1736cf;this['sample'][0x2*0x15e+0x1*0x2417+-0x26d0]=this['watermark']/_0x1c5322*(-0x1*-0x2689+0x160b+-0x3b95),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(-0x6*0x282+0x10d5+0x97*-0x3)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=0x1702+-0xeee+-0xbc*0xb);}}['render'](_0x3c6ca3,_0x10ad0b,_0x337cce,_0x1e3332,_0x2c1738){_0x3c6ca3['quad'](_0x10ad0b+_0x1e3332,_0x337cce,-_0x1e3332,_0x2c1738,this['enabled']?this['cursor']:-0x165c+-0x11d1*0x1+-0x55*-0x79,this['enabled']?-0x1f7b+0x25db*0x1+-0x660+0.5+this['yOffset']:this['texture']['height']-(-0x61*0x2+0x1*0x2042+-0x1f7f),-_0x1e3332,0x9*-0x17b+0x2301+0x172*-0xf,this['texture'],0x1739+0x7e5+0x239*-0xe);}}class AU{constructor(_0x551677,_0x424a00){const _0x1f752c=_0x59c7ff=>{_0x59c7ff['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x59c7ff['textAlign']='left',_0x59c7ff['textBaseli'+'ne']='alphabetic';},_0x2acf4c=_0x5def14=>_0x5def14==='.'||_0x5def14['length']===0x12eb+0x15ca+-0x28b4&&_0x5def14['charCodeAt'](-0x3*-0x17e+0x1827+0x15*-0x15d)>=-0x2bc*-0x3+0x19dd+-0x21e1&&_0x5def14['charCodeAt'](-0x2511+-0x1d48+0x4259)<=0xb51+0x1473+-0x1db*0x11,_0x4fe517=document['createElem'+'ent']('canvas'),_0xb93499=_0x4fe517['getContext']('2d',{'alpha':!(-0x17f1+0x1aec+-0x2fb)});_0x1f752c(_0xb93499);const _0x2c62f6=new Map(),_0x2ea1e4=0x6ee+0x1*0x1297+-0x20*0xcc,_0x9a7d66=0x22b8+-0x81f+0x1*-0x1899;let _0x45c6dc=_0x2ea1e4,_0x20459c=_0x2ea1e4;_0x424a00['forEach'](_0x297ab0=>{const _0x2ffa43=_0xb93499['measureTex'+'t'](_0x297ab0),_0x3d6c44=Math['ceil'](-_0x2ffa43['actualBoun'+'dingBoxLef'+'t']),_0x4c5440=Math['ceil'](_0x2ffa43['actualBoun'+'dingBoxRig'+'ht']),_0x490979=Math['ceil'](_0x2ffa43['actualBoun'+'dingBoxAsc'+'ent']),_0x103689=Math['ceil'](_0x2ffa43['actualBoun'+'dingBoxDes'+'cent']),_0xbae589=_0x3d6c44+_0x4c5440,_0x8963bd=_0x490979+_0x103689;_0x45c6dc+_0xbae589+_0x2ea1e4>=_0x9a7d66&&(_0x45c6dc=_0x2ea1e4,_0x20459c+=0x14e7+-0x13c*-0x4+0x19c7*-0x1),_0x2c62f6['set'](_0x297ab0,{'l':_0x3d6c44,'r':_0x4c5440,'a':_0x490979,'d':_0x103689,'w':_0xbae589,'h':_0x8963bd,'x':_0x45c6dc,'y':_0x20459c}),_0x45c6dc+=_0xbae589+_0x2ea1e4;}),_0x4fe517['width']=-0x13*-0x6b+0x13*0x1f5+-0x2b20,_0x4fe517['height']=Y['nextPowerO'+'fTwo'](_0x20459c+(-0x110b+-0xbb1+0x2*0xe66)+_0x2ea1e4),_0x1f752c(_0xb93499),_0xb93499['fillStyle']='rgb(0,\x200,\x20'+'0)',_0xb93499['fillRect'](-0x1*0x5a7+-0x190d+0x1eb4,0x1237+-0x1921+0x6ea,_0x4fe517['width'],_0x4fe517['height']),_0x2c62f6['forEach']((_0x2321a2,_0x44b74f)=>{_0xb93499['fillStyle']=_0x2acf4c(_0x44b74f)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0xb93499['fillText'](_0x44b74f,_0x2321a2['x']-_0x2321a2['l'],_0x2321a2['y']+_0x2321a2['a']);}),this['placements']=_0x2c62f6;const _0xc3105c=_0xb93499['getImageDa'+'ta'](0x86f+-0x307*0x1+-0x4*0x15a,0x19bd+-0x105d+-0x960,_0x4fe517['width'],_0x4fe517['height'])['data'];for(let _0x94a16c=-0xe7f+0x25f*0x7+-0x21a*0x1;_0x94a16c<_0xc3105c['length'];_0x94a16c+=-0x2c*0x37+-0x11d4+0x1b4c)_0xc3105c[_0x94a16c+(0x1*-0x1b93+-0xc1+0x1*0x1c57)]=_0xc3105c[_0x94a16c+(0x2*0x7dd+-0x253f+0x1585)],_0xc3105c[_0x94a16c+(-0x11f*-0x1f+-0x1458+0x7*-0x20f)]=0x1*0xdf6+0x7e9+0x14e*-0x10,_0xc3105c[_0x94a16c+(0x373*-0x6+0x2*-0x475+0x1d9d)]=0x1*0x1ada+-0xc9*-0x1d+0xc28*-0x4,_0xc3105c[_0x94a16c+(0x607*-0x3+0xd72*-0x1+0x1f89)]=0x2080+0xc34+-0x2bb5;this['texture']=new _e(_0x551677,{'name':'mini-stats'+'-word-atla'+'s','width':_0x4fe517['width'],'height':_0x4fe517['height'],'mipmaps':!(0x56c+-0x86d+-0x46*-0xb),'minFilter':Te,'magFilter':Te,'levels':[_0xc3105c]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x469ee6,_0x1767f1,_0x4e1723,_0x2e7919){const _0x20fd0b=this['placements']['get'](_0x1767f1);return _0x20fd0b?(_0x469ee6['quad'](_0x4e1723+_0x20fd0b['l']-(-0x764+0x53*0x11+0x1e2),_0x2e7919-_0x20fd0b['d']+(0x1f0+-0x138c+0x119d),_0x20fd0b['w']+(0x10da+0x1d52+-0x13*0x26e),_0x20fd0b['h']+(-0x1517*-0x1+0x1*-0x270b+0x11f6),_0x20fd0b['x']-(-0xba*-0xd+-0x11c9+-0x164*-0x6),this['texture']['height']-_0x20fd0b['y']-_0x20fd0b['h']-(-0xbb1+0x20d8+-0x1526),void(-0x1*0xf1d+0x15*-0x2+0xf47),void(0x1*-0x2627+-0x19e3+0x400a),this['texture'],0x25d3*0x1+-0x1*-0x206b+-0x463d),_0x20fd0b['w']):0x1*-0x22c3+-0x1e34+-0x1*-0x40f7;}}const CU='\x0a\x20\x20\x20\x20attri'+'bute\x20vec3\x20'+'vertex_pos'+'ition;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20un'+'normalized'+'\x20xy,\x20word\x20'+'flag\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_texCoord0'+';\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20unnormal'+'ized\x20textu'+'re\x20space\x20u'+'v,\x20normali'+'zed\x20uv\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec4\x20uv0;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20float\x20wo'+'rdFlag;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion.xy\x20*\x202'+'.0\x20-\x201.0,\x20'+'0.5,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20verte'+'x_texCoord'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20wordFlag\x20'+'=\x20vertex_p'+'osition.z;'+'\x0a\x20\x20\x20\x20}\x0a',PU='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec3f;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'unnormaliz'+'ed\x20xy,\x20wor'+'d\x20flag\x0a\x20\x20\x20'+'\x20attribute'+'\x20vertex_te'+'xCoord0:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20unno'+'rmalized\x20t'+'exture\x20spa'+'ce\x20uv,\x20nor'+'malized\x20uv'+'\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'varying\x20wo'+'rdFlag:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x20fn\x20v'+'ertexMain('+'input\x20:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output\x20:\x20'+'VertexOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4(input'+'.vertex_po'+'sition.xy\x20'+'*\x202.0\x20-\x201.'+'0,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.u'+'v0\x20=\x20input'+'.vertex_te'+'xCoord0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.wordFl'+'ag\x20=\x20input'+'.vertex_po'+'sition.z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',MU='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20uv'+'0;\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20wordFlag;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'lr;\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20grap'+'hTex;\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in\x20(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20graph'+'Sample\x20=\x20t'+'exture2D(g'+'raphTex,\x20u'+'v0.xy);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20graph;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.r)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.7,\x200.2,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.b)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gr'+'aph\x20=\x20vec4'+'(0.2,\x200.2,'+'\x200.7,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gra'+'ph\x20=\x20vec4('+'0.0,\x200.0,\x20'+'0.0,\x201.0\x20-'+'\x200.25\x20*\x20si'+'n(uv0.w\x20*\x20'+'3.14159));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20words'+'\x20=\x20texture'+'2D(wordsTe'+'x,\x20vec2(uv'+'0.x,\x201.0\x20-'+'\x20uv0.y));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20mix(gr'+'aph,\x20words'+',\x20wordFlag'+')\x20*\x20clr;\x0a\x20'+'\x20\x20\x20}\x0a',DU='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c4f;\x0a\x20\x20\x20\x20v'+'arying\x20wor'+'dFlag:\x20f32'+';\x0a\x0a\x20\x20\x20\x20uni'+'form\x20clr:\x20'+'vec4f;\x0a\x0a\x20\x20'+'\x20\x20var\x20grap'+'hTex\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20graphTex'+'_sampler\x20:'+'\x20sampler;\x0a'+'\x0a\x20\x20\x20\x20var\x20w'+'ordsTex\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20words'+'Tex_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20u'+'v0:\x20vec4f\x20'+'=\x20input.uv'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20graph'+'Sample:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'graphTex,\x20'+'graphTex_s'+'ampler,\x20uv'+'0.xy);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'graph:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(uv0.'+'w\x20<\x20graphS'+'ample.r)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4f(0.7'+',\x200.2,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4f(0.'+'2,\x200.7,\x200.'+'2,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(uv'+'0.w\x20<\x20grap'+'hSample.b)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20graph'+'\x20=\x20vec4f(0'+'.2,\x200.2,\x200'+'.7,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'raph\x20=\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x201.'+'0\x20-\x200.25\x20*'+'\x20sin(uv0.w'+'\x20*\x203.14159'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20wor'+'ds:\x20vec4f\x20'+'=\x20textureS'+'ample(word'+'sTex,\x20word'+'sTex_sampl'+'er,\x20vec2f('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'input.word'+('Flag)\x20*\x20un'+'iform.clr;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a');class IU{constructor(_0x52136a,_0x3b984e=0xbd6+-0xc8*-0x5+-0x6df*0x2){const _0x43838f=new kt(_0x52136a,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':is,'components':0x4,'type':Ve}]),_0x4ff847=new Uint16Array(_0x3b984e*(0x841*0x3+-0xcb2+-0xc0b));for(let _0x4772b8=0x1fd*0x11+-0x1440+0x1*-0xd8d;_0x4772b8<_0x3b984e;++_0x4772b8)_0x4ff847[_0x4772b8*(-0x1769*0x1+0x1c4a+-0x4db)+(0x2436+-0x6b8+-0x1d7e)]=_0x4772b8*(0x11*0x106+-0x24c8+0xd*0x17e),_0x4ff847[_0x4772b8*(-0x1d*0x7d+0x19ce+-0xb9f)+(-0xc*0x2d6+0x1b08+0x701)]=_0x4772b8*(0x3*-0x24d+0xce*0x22+0x1471*-0x1)+(-0x130c+0x15c2+-0x2b5),_0x4ff847[_0x4772b8*(-0xe29*0x1+-0x126d+0x209c)+(0x1*-0x11ea+-0xf5c*0x2+0x30a4)]=_0x4772b8*(-0xdc1+-0xe67+-0x964*-0x3)+(-0x1edf+0x263*0x1+-0x1*-0x1c7e),_0x4ff847[_0x4772b8*(-0x1666+-0x172d+-0x3*-0xf33)+(-0x2118+-0x18e3+-0x2*-0x1cff)]=_0x4772b8*(0x1*0x1add+0x21ce+-0x3ca7),_0x4ff847[_0x4772b8*(0xdd5+-0x766+-0x669)+(0x754+-0x1c6+0x2*-0x2c5)]=_0x4772b8*(0x1884+-0xcf9+-0xb87)+(0xb*0x301+0x1*0x295+-0x239e),_0x4ff847[_0x4772b8*(-0x1e63+-0x4*0x3c9+0x2d8d)+(0xfdb+-0x1504+-0x1*-0x52e)]=_0x4772b8*(-0x1*-0x13eb+-0x8*0x3f3+-0x49*-0x29)+(-0x1ad9*-0x1+0x1f*0xdf+0x4e5*-0xb);this['device']=_0x52136a,this['buffer']=new Is(_0x52136a,_0x43838f,_0x3b984e*(-0x39*-0x6d+-0x2597+0xd56),{'usage':ey}),this['data']=new Float32Array(this['buffer']['numBytes']/(0x1424+0x1*0x1ec9+0x1*-0x32e9)),this['indexBuffe'+'r']=new br(_0x52136a,Yi,_0x3b984e*(-0x1ea4+-0xd9+-0xa81*-0x3),ms,_0x4ff847),this['prim']={'type':js,'indexed':!(-0x8bf+0x4cb*0x1+0x17*0x2c),'base':0x0,'baseVertex':0x0,'count':0x0},this['quads']=0x1*0x2591+0x2001*-0x1+-0x590,this['mesh']=new Ge(_0x52136a),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][-0x6*-0x658+-0x25d8+-0x38]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x2eb2a0=new Xn({'uniqueName':'MiniStats','vertexGLSL':CU,'fragmentGLSL':MU,'vertexWGSL':PU,'fragmentWGSL':DU,'attributes':{'vertex_position':Me,'vertex_texCoord0':is}});this['material']=_0x2eb2a0,_0x2eb2a0['cull']=bt,_0x2eb2a0['depthState']=Yt['NODEPTH'],_0x2eb2a0['blendState']=new pt(!(0x15a0+-0x1252+-0x9*0x5e),fs,jh,Yh,fs,Ft,Ft),_0x2eb2a0['update'](),this['meshInstan'+'ce']=new He(this['mesh'],_0x2eb2a0,new Ie('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(-0x13*-0x17d+-0x1ee9+-0x1*-0x2a6)},this['targetSize']={'width':_0x52136a['width'],'height':_0x52136a['height']};}['quad'](_0x113d60,_0x1e6236,_0x46f919,_0x4f1383,_0x3d8e20,_0x57dce1,_0x29b878,_0xab6446,_0x48a225,_0x515539=-0x1259*-0x2+0x1a3a+-0x3eec){const _0x3eefa5=this['targetSize']['width'],_0x3c01c2=this['targetSize']['height'],_0x41be89=_0x113d60/_0x3eefa5,_0x18664d=_0x1e6236/_0x3c01c2,_0x531c83=(_0x113d60+_0x46f919)/_0x3eefa5,_0x5563e7=(_0x1e6236+_0x4f1383)/_0x3c01c2,_0x2d8c43=_0x48a225['width'],_0x47b215=_0x48a225['height'],_0x3e7d8c=_0x3d8e20/_0x2d8c43,_0x57b69d=_0x57dce1/_0x47b215,_0xe3f40c=(_0x3d8e20+(_0x29b878??_0x46f919))/_0x2d8c43,_0x29342e=(_0x57dce1+(_0xab6446??_0x4f1383))/_0x47b215;this['data']['set']([_0x41be89,_0x18664d,_0x515539,_0x3e7d8c,_0x57b69d,0x49*0x29+-0x1527+0x976,0x1dad+-0xc5*0xf+-0x911*0x2,_0x531c83,_0x18664d,_0x515539,_0xe3f40c,_0x57b69d,0x1*0xd1b+0x1677+-0x5*0x71d,-0x1db+-0x295*-0x7+-0x1038,_0x531c83,_0x5563e7,_0x515539,_0xe3f40c,_0x29342e,0x64*-0x17+-0x5*-0x40e+-0x9*0x141,-0x1f46+0x1*-0x12eb+0x1919*0x2,_0x41be89,_0x5563e7,_0x515539,_0x3e7d8c,_0x29342e,0x1ea+-0x2*-0x1095+-0x2314,0x7f3+0x1*0x140b+0x1*-0x1bfd],(0x234+0xf74+-0x4*0x463)*this['quads']),this['quads']++,this['prim']['count']+=-0x16f*-0xd+0xd2+-0xc7*0x19;}['startFrame'](){this['quads']=-0xc69*0x1+-0x12cf+0x128*0x1b,this['prim']['count']=0x1b19+-0x314*-0x5+0x95*-0x49,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x5bd799,_0x3ea539,_0x1006a5,_0x2af79f,_0x144c5b,_0x1dc559){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x144c5b,-0x20b*0x6+-0x1810+0x2452),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0x1006a5),this['material']['setParamet'+'er']('wordsTex',_0x2af79f),_0x5bd799['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x3ea539);}}class N0{constructor(_0x42cd83,_0x4cad41){const _0x4fbb17=_0x42cd83['graphicsDe'+'vice'];this['deviceHeig'+'ht']=_0x4fbb17['height']/_0x4fbb17['maxPixelRa'+'tio'],_0x4cad41={...N0['getDefault'+'Options'](),..._0x4cad41},this['options']=_0x4cad41,this['initGraphs'](_0x42cd83,_0x4fbb17,_0x4cad41);const _0x1d76ce=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x1fc9ba=>_0x1fc9ba['name']))['concat'](_0x4cad41['stats']?_0x4cad41['stats']['map'](_0x4e7fbd=>_0x4e7fbd['unitsName']):[])['filter'](_0x349c19=>!!_0x349c19));this['wordAtlas']=new AU(_0x4fbb17,_0x1d76ce),this['sizes']=_0x4cad41['sizes'],this['_activeSiz'+'eIndex']=_0x4cad41['startSizeI'+'ndex'];const _0x39a2da=document['createElem'+'ent']('div');_0x39a2da['setAttribu'+'te']('id','mini-stats'),_0x4cad41['position']==='top'?_0x39a2da['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';':_0x39a2da['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',_0x39a2da['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';',document['body']['appendChil'+'d'](_0x39a2da),_0x39a2da['addEventLi'+'stener']('mouseenter',_0xface45=>{this['opacity']=-0x1d+-0x1*0x1e95+0x1d*0x10f;}),_0x39a2da['addEventLi'+'stener']('mouseleave',_0x565aa5=>{this['opacity']=-0x1f49+-0x1*-0x520+0x1a29+0.7;}),_0x39a2da['addEventLi'+'stener']('click',_0x2647dd=>{_0x2647dd['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(0x1299+0xa1d*0x2+-0x26d2))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x4fbb17['on']('resizecanv'+'as',this['updateDiv'],this),_0x4fbb17['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x42cd83['on']('postrender',this['postRender'],this),this['app']=_0x42cd83,this['drawLayer']=_0x42cd83['scene']['layers']['getLayerBy'+'Id'](Il),this['device']=_0x4fbb17,this['render2d']=new IU(_0x4fbb17),this['div']=_0x39a2da,this['width']=0x14cf*0x1+-0x1559+0x8a*0x1,this['height']=-0x75a+0x15fb+0x217*-0x7,this['gspacing']=-0x5*0x26+-0x2*0x16f+-0x1cf*-0x2,this['clr']=[0x387+-0x2*0x197+-0xb*0x8,-0x3*-0x5d3+-0x82*-0x3c+0x1d8*-0x1a,-0x1c9e+0xbc0+0x10df,0x7*0x65+0x5e4+-0x1bb*0x5+0.5],this['_enabled']=!(0x5*0x182+0xc91+-0x141b),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x268e0d=>_0x268e0d['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'position':'top','sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(0x18a6+-0xa1*-0xe+-0x2173)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(0xdc7+0xc62+-0x1a29)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(-0x19d3+-0x2028+0x1*0x39fb)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(-0x12c*0x1+-0xf9d+0x10c9),'watermark':0x21},'gpu':{'enabled':!(0x2c3*0xe+-0x1006+-0x16a4),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x38e484){this['_activeSiz'+'eIndex']=_0x38e484,this['gspacing']=this['sizes'][_0x38e484]['spacing'],this['resize'](this['sizes'][_0x38e484]['width'],this['sizes'][_0x38e484]['height'],this['sizes'][_0x38e484]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0x38d674){this['clr'][0x18b+-0x1*0x15cb+0xd*0x18f]=_0x38d674;}get['opacity'](){return this['clr'][-0x39*0x2c+0x241a*-0x1+0x17*0x1ff];}get['overallHei'+'ght'](){const _0x23812a=this['graphs'],_0x28e5dd=this['gspacing'];return this['height']*_0x23812a['length']+_0x28e5dd*(_0x23812a['length']-(0x1*-0x156a+0x1169*0x1+0x402));}set['enabled'](_0x1028e8){if(_0x1028e8!==this['_enabled']){this['_enabled']=_0x1028e8;for(let _0x5bfecc=0x1*0x60d+0x12ca+0x1*-0x18d7;_0x5bfecc<this['graphs']['length'];++_0x5bfecc)this['graphs'][_0x5bfecc]['enabled']=_0x1028e8,this['graphs'][_0x5bfecc]['timer']['enabled']=_0x1028e8;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x1f078a,_0x5e85c5,_0x41115a){if(this['graphs']=[],_0x41115a['cpu']['enabled']){const _0x24ce96=new wU(_0x1f078a),_0x46d704=new Uf('CPU',_0x1f078a,_0x41115a['cpu']['watermark'],_0x41115a['textRefres'+'hRate'],_0x24ce96);this['graphs']['push'](_0x46d704);}if(_0x41115a['gpu']['enabled']){const _0x2a7000=new EU(_0x5e85c5),_0x5d6ad8=new Uf('GPU',_0x1f078a,_0x41115a['gpu']['watermark'],_0x41115a['textRefres'+'hRate'],_0x2a7000);this['graphs']['push'](_0x5d6ad8);}_0x41115a['stats']&&_0x41115a['stats']['forEach'](_0x4893c9=>{const _0x593f54=new bU(_0x1f078a,_0x4893c9['stats'],_0x4893c9['decimalPla'+'ces'],_0x4893c9['unitsName'],_0x4893c9['multiplier']),_0x1d014c=new Uf(_0x4893c9['name'],_0x1f078a,_0x4893c9['watermark'],_0x41115a['textRefres'+'hRate'],_0x593f54);this['graphs']['push'](_0x1d014c);});const _0x3a3ab0=_0x41115a['sizes']['reduce']((_0xee449b,_0x4eee5f)=>_0x4eee5f['width']>_0xee449b?_0x4eee5f['width']:_0xee449b,0xd3d+0x2c1*-0xb+0x110e);this['texture']=new _e(_0x5e85c5,{'name':'mini-stats'+'-graph-tex'+'ture','width':Y['nextPowerO'+'fTwo'](_0x3a3ab0),'height':Y['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(0x27f+-0x2*-0xf5c+-0xb12*0x3),'minFilter':Te,'magFilter':Te,'addressU':yt,'addressV':yt}),this['graphs']['forEach']((_0x3c8247,_0x3a8f45)=>{_0x3c8247['texture']=this['texture'],_0x3c8247['yOffset']=_0x3a8f45;});}['render'](){const _0x5e7e24=this['graphs'],_0x25d773=this['wordAtlas'],_0x530758=this['render2d'],_0x239e67=this['width'],_0x187191=this['height'],_0x183826=this['gspacing'];_0x530758['startFrame']();for(let _0xbda4e4=0x1fcc+-0xafc*0x1+-0x14d0;_0xbda4e4<_0x5e7e24['length'];++_0xbda4e4){const _0x14c827=_0x5e7e24[_0xbda4e4];let _0x13aecd=this['options']['position']==='top'?this['deviceHeig'+'ht']-(_0xbda4e4+(-0x489+-0x1da2*-0x1+-0x1918))*(_0x187191+_0x183826):_0xbda4e4*(_0x187191+_0x183826);_0x14c827['render'](_0x530758,-0x2*0xc9a+0x1117+0x81d,_0x13aecd,_0x239e67,_0x187191);let _0x2d25b2=-0x16ec+-0x10cd+0x27ba;_0x13aecd+=_0x187191-(0x575+-0x2*-0x476+0x2*-0x72a),_0x2d25b2+=_0x25d773['render'](_0x530758,_0x14c827['name'],_0x2d25b2,_0x13aecd)+(-0x1*0x1cf4+0x9d0+-0x2*-0x997);const _0x30a735=_0x14c827['timingText'];for(let _0x17790d=0x110b*0x1+-0x2372+-0x1*-0x1267;_0x17790d<_0x30a735['length'];++_0x17790d)_0x2d25b2+=_0x25d773['render'](_0x530758,_0x30a735[_0x17790d],_0x2d25b2,_0x13aecd);_0x14c827['timer']['unitsName']&&(_0x2d25b2+=-0x19e4+-0x7a7+0x218e,_0x25d773['render'](_0x530758,_0x14c827['timer']['unitsName'],_0x2d25b2,_0x13aecd));}_0x530758['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x187191);}['resize'](_0x5ad503,_0x397761,_0x2d3a5f){const _0x27a7de=this['graphs'];for(let _0x2fca56=-0xbde*-0x1+0x1cea+-0x28c8;_0x2fca56<_0x27a7de['length'];++_0x2fca56)_0x27a7de[_0x2fca56]['enabled']=_0x2d3a5f;this['width']=_0x5ad503,this['height']=_0x397761,this['updateDiv']();}['updateDiv'](){const _0x2202cb=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x2202cb['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x2202cb['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px',this['deviceHeig'+'ht']=this['device']['height']/this['device']['maxPixelRa'+'tio'];}['loseContex'+'t'](){this['graphs']['forEach'](_0x3e43b6=>_0x3e43b6['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}H0();class LU extends ts{constructor(){super(...arguments),h(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),h(this,'controller'+'s',new Map()),h(this,'preEntitie'+'s',new Map()),h(this,'eventsList',[]),h(this,'addEvents',(_0xc626d4,_0x354e59,_0x2f02cc)=>{_0xc626d4['on'](_0x354e59,_0x2f02cc),this['eventsList']=this['eventsList']['concat']({'e':_0xc626d4,'ty':_0x354e59,'fn':_0x2f02cc});}),h(this,'removeEven'+'ts',()=>{this['eventsList']['forEach'](({e:_0x54d6ff,ty:_0x4785e7,fn:_0x1d05a9})=>{_0x54d6ff['off'](_0x4785e7,_0x1d05a9);}),this['eventsList']=[];}),h(this,'initialize',()=>{if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation');return;}this['addEvents'](this['app']['xr']['input'],'add',async _0x1a55b7=>{var _0x493a71;if(console['log']('add\x20xr\x20inp'+'ut',_0x1a55b7['handedness']),!((_0x493a71=_0x1a55b7['profiles'])!=null&&_0x493a71['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x2606e3=_0x1a55b7['profiles']['map'](async _0x273d9a=>{var _0xfac19e;const _0x513b7e=this['basePath']+'/'+_0x273d9a+('/profile.j'+'son');try{const _0x3786ee=await fetch(_0x513b7e);if(!_0x3786ee['ok'])return null;const _0x5dfb20=await _0x3786ee['json'](),_0x5df710=((_0xfac19e=_0x5dfb20['layouts'][_0x1a55b7['handedness']])==null?void(-0x22ef+0x1ad8+0x817*0x1):_0xfac19e['assetPath'])||'',_0x4a9222=this['basePath']+'/'+_0x5dfb20['profileId']+'/'+_0x1a55b7['handedness']+_0x5df710['replace'](/^\/?(left|right)/,''),_0xfa944c=await new Promise((_0x5c6d1b,_0x17f2a1)=>{this['app']['assets']['loadFromUr'+'l'](_0x4a9222,'container',(_0x433763,_0x3433d8)=>{_0x433763?_0x17f2a1(_0x433763):_0x5c6d1b(_0x3433d8);});});return{'profileId':_0x273d9a,'asset':_0xfa944c};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x273d9a),null;}}),_0x4e8989=(await Promise['all'](_0x2606e3))['find'](_0x48c2d7=>_0x48c2d7!==null);if(_0x4e8989){const {asset:_0x56f708}=_0x4e8989,_0x599a43=_0x56f708['resource']['instantiat'+'eRenderEnt'+'ity']();_0x599a43['name']='Armature_'+_0x1a55b7['handedness'],this['app']['root']['addChild'](_0x599a43),this['preEntitie'+'s']['set'](_0x1a55b7,_0x599a43);const _0x2b64a1=new Map();if(_0x1a55b7['hand'])for(const _0x12406d of _0x1a55b7['hand']['joints']){const _0x2ac1d1=_0x599a43['findByName'](_0x12406d['id']);_0x2ac1d1&&_0x2b64a1['set'](_0x12406d,_0x2ac1d1);}this['controller'+'s']['set'](_0x1a55b7,{'entity':_0x599a43,'jointMap':_0x2b64a1});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['addEvents'](this['app']['xr']['input'],'remove',_0x2baca5=>{var _0x3a4753;const _0x207d98=this['controller'+'s']['get'](_0x2baca5);_0x207d98&&((_0x3a4753=_0x207d98['entity'])==null||_0x3a4753['destroy'](),this['app']['root']['removeChil'+'d'](_0x207d98==null?void(-0x10f3*-0x1+-0xd3*0x16+0x12f):_0x207d98['entity']),this['controller'+'s']['delete'](_0x2baca5));}),this['addEvents'](this['app']['xr']['input'],'removeall',this['destroy']),this['on']('destroy',this['removeEven'+'ts']);}),h(this,'destroy',()=>{var _0x7653da,_0x1699bf,_0x308087;const _0x4ccfc6=this['app'];(_0x7653da=this['controller'+'s'])==null||_0x7653da['forEach'](_0x3af8c5=>{var _0x146832;_0x4ccfc6['root']['removeChil'+'d'](_0x3af8c5==null?void(0x1*0x126d+0x1*0x184f+-0x2abc):_0x3af8c5['entity']),(_0x146832=_0x3af8c5['entity'])==null||_0x146832['destroy']();}),(_0x1699bf=this['controller'+'s'])==null||_0x1699bf['clear'](),(_0x308087=this['preEntitie'+'s'])==null||_0x308087['forEach'](_0x1a37d0=>{_0x4ccfc6['root']['removeChil'+'d'](_0x1a37d0),_0x1a37d0==null||_0x1a37d0['destroy']();});const _0x25193f=()=>{const _0x481616=_0x4ccfc6['root']['findByName']('Armature_l'+'eft'),_0xc234a3=_0x4ccfc6['root']['findByName']('Armature_r'+'ight');for(_0x481616&&_0x4ccfc6['root']['removeChil'+'d'](_0x481616),_0xc234a3&&_0x4ccfc6['root']['removeChil'+'d'](_0xc234a3);_0x4ccfc6['root']['findByName']('Armature_l'+'eft')||_0x4ccfc6['root']['findByName']('Armature_r'+'ight');)_0x25193f();};_0x25193f();});}['update'](_0x5d1037){var _0x476e0e;if((_0x476e0e=this['app']['xr'])!=null&&_0x476e0e['active']){for(const [_0x10f9a5,{entity:_0x26a266,jointMap:_0x185390}]of this['controller'+'s'])if(_0x10f9a5['hand']){for(const [_0x56043a,_0x370389]of _0x185390)_0x370389['setPositio'+'n'](_0x56043a['getPositio'+'n']()),_0x370389['setRotatio'+'n'](_0x56043a['getRotatio'+'n']());}else _0x26a266['setPositio'+'n'](_0x10f9a5['getPositio'+'n']()),_0x26a266['setRotatio'+'n'](_0x10f9a5['getRotatio'+'n']());}}}h(LU,'scriptName','xrControll'+'ers');class RU extends ts{constructor(){super(...arguments),h(this,'enableDraw'+'Ray',!(-0x689+0x6a1+-0x17)),h(this,'inputSourc'+'es',new Set()),h(this,'activePoin'+'ters',new Map()),h(this,'validColor',new ie(-0x5f3+0x126b+-0xc78,0x2331+0x1b1f+-0x3e4f,0x13*-0x182+-0x201b+0x67*0x97)),h(this,'invalidCol'+'or',new ie(0x16b3+0x1e31+0x34e3*-0x1,-0x1*0xd4f+-0x104c+0xb*0x2b1,0x19ee+0xd28+0x2716*-0x1)),h(this,'inputHandl'+'ers',new Map()),h(this,'teleportOp'+'enStatus',!(0x17*0x17f+0x242d+-0x4695)),h(this,'teleportLe'+'ftOpenStat'+'us',!(0x12e2+0xdf6+0x20d7*-0x1));}['initialize'](){if(!this['app']['xr']){console['error']('XrNavigati'+'on\x20script\x20'+'requires\x20X'+'R\x20to\x20be\x20en'+'abled\x20on\x20t'+'he\x20applica'+'tion');return;}this['app']['xr']['input']['on']('add',_0x54a625=>{const _0x48b580=()=>{this['activePoin'+'ters']['set'](_0x54a625,!(-0x28*-0x7e+0x18d+-0x153d));},_0x48822b=()=>{this['activePoin'+'ters']['set'](_0x54a625,!(0x72*-0x38+0x1fda+-0x6e9)),this['tryTelepor'+'t'](_0x54a625);};_0x54a625['on']('selectstar'+'t',_0x48b580),_0x54a625['on']('selectend',_0x48822b),this['inputHandl'+'ers']['set'](_0x54a625,{'handleSelectStart':_0x48b580,'handleSelectEnd':_0x48822b}),this['inputSourc'+'es']['add'](_0x54a625);}),this['app']['xr']['input']['on']('remove',_0x28b2ca=>{const _0x78e53b=this['inputHandl'+'ers']['get'](_0x28b2ca);_0x78e53b&&(_0x28b2ca['off']('selectstar'+'t',_0x78e53b['handleSele'+'ctStart']),_0x28b2ca['off']('selectend',_0x78e53b['handleSele'+'ctEnd']),this['inputHandl'+'ers']['delete'](_0x28b2ca)),this['activePoin'+'ters']['delete'](_0x28b2ca),this['inputSourc'+'es']['delete'](_0x28b2ca);});}['findPlaneI'+'ntersectio'+'n'](_0x3958f2,_0x20e0cf){if(Math['abs'](_0x20e0cf['y'])<-0x1*0x23ff+0x15e6+-0x1*-0xe19+0.00001)return null;const _0x350160=-_0x3958f2['y']/_0x20e0cf['y'];return _0x350160<0x15*0xae+0x18fb+0x305*-0xd?null:new D(_0x3958f2['x']+_0x20e0cf['x']*_0x350160,-0x2*0x553+-0x1c3f+0xcf7*0x3,_0x3958f2['z']+_0x20e0cf['z']*_0x350160);}['tryTelepor'+'t'](_0x59780f){if(this['teleportOp'+'enStatus']||this['teleportLe'+'ftOpenStat'+'us']){const _0x1f0968=_0x59780f['getOrigin'](),_0x461b68=_0x59780f['getDirecti'+'on'](),_0x3b04cb=this['findPlaneI'+'ntersectio'+'n'](_0x1f0968,_0x461b68);if(_0x3b04cb){const _0x51fabf=this['entity']['getPositio'+'n']()['y'];_0x3b04cb['y']=_0x51fabf,this['entity']['setPositio'+'n'](_0x3b04cb);}}}['update'](){for(const _0x546ce6 of this['inputSourc'+'es']){const _0x2fd428=_0x546ce6['getOrigin'](),_0x2fd9a4=_0x546ce6['getDirecti'+'on']();if(_0x546ce6['gamepad']&&!_0x546ce6['hand']){const _0x20e3a4=_0x546ce6['gamepad'];for(let _0x3f223c=-0xa57*0x1+-0x1*-0x4+0xa53;_0x3f223c<_0x20e3a4['buttons']['length'];++_0x3f223c)_0x20e3a4['buttons'][_0x3f223c]['pressed']&&console['log'](_0x3f223c,_0x546ce6['handedness']),_0x546ce6['handedness']==='right'&&_0x3f223c===-0xf*-0x9+-0x212d+0x20a7&&(this['teleportOp'+'enStatus']=_0x20e3a4['buttons'][0x19c5+0x23*0x113+-0x3f5d]['pressed']),_0x546ce6['handedness']==='left'&&_0x3f223c===-0x258d+-0x2162+0x50*0xe3&&(this['teleportLe'+'ftOpenStat'+'us']=_0x20e3a4['buttons'][-0x280+0x1777+-0x14f6*0x1]['pressed']);}const _0x5befa6=_0x546ce6['handedness'];if(!this['enableDraw'+'Ray']&&(_0x5befa6==='right'&&!this['teleportOp'+'enStatus']||_0x5befa6==='left'&&!this['teleportLe'+'ftOpenStat'+'us']))continue;const _0x35eda2=this['findPlaneI'+'ntersectio'+'n'](_0x2fd428,_0x2fd9a4);if(this['enableDraw'+'Ray']||!_0x35eda2){const _0x3f37d8=_0x2fd428['clone']()['add'](_0x2fd9a4['clone']()['mulScalar'](0x1952+-0x24c5+0x7*0x1b1)),_0x3eface=this['enableDraw'+'Ray']?_0x546ce6['selecting']?ie['GREEN']:ie['WHITE']:this['invalidCol'+'or'];this['app']['drawLine'](_0x2fd428,_0x3f37d8,_0x3eface);}else this['app']['drawLine'](_0x2fd428,_0x35eda2,this['validColor']),this['drawTelepo'+'rtIndicato'+'r'](_0x35eda2);}}['drawTelepo'+'rtIndicato'+'r'](_0x38da83){for(let _0x13e8c6=-0x98*-0x29+-0x2434+0xbdc;_0x13e8c6<-0x18bb+-0x1*0x481+-0x4*-0x757;_0x13e8c6++){const _0x2a0f16=_0x13e8c6/(-0x3*0xc29+-0x412*0x1+0x27*0x10b)*Math['PI']*(-0x108d*0x1+0x1*-0x6ff+0x14f*0x12),_0x2ededd=(_0x13e8c6+(0x1970+0x7b*0x21+0x7*-0x5e6))/(-0x1e15+0x975+-0x4*-0x530)*Math['PI']*(0x11*0x199+0xb9*-0x2b+0x3ec),_0x55fdb8=_0x38da83['x']+Math['cos'](_0x2a0f16)*(0x150c+-0x10a4*-0x2+-0x2*0x1b2a+0.2),_0x38423f=_0x38da83['z']+Math['sin'](_0x2a0f16)*(0x6fa*-0x2+-0x1ecc+0x1*0x2cc0+0.2),_0x1204dd=_0x38da83['x']+Math['cos'](_0x2ededd)*(0x2499*-0x1+-0x8d+0x2526+0.2),_0x5e0e62=_0x38da83['z']+Math['sin'](_0x2ededd)*(0x2483+-0x21c4+-0x2bf+0.2);this['app']['drawLine'](new D(_0x55fdb8,-0x110c+0x41*-0x1+0x114d+0.01,_0x38423f),new D(_0x1204dd,0xc*0xe4+0x1605+-0x20b5+0.01,_0x5e0e62),this['validColor']);}}}h(RU,'scriptName','xrNavigati'+'on');export{th as $,$U as A,WS as B,ie as C,kU as D,lt as E,PC as F,Xc as G,He as H,Xn as I,Wt as J,h_ as K,Kp as L,sa as M,Me as N,Zs as O,qU as P,le as Q,wg as R,$s as S,nv as T,bt as U,D as V,YS as W,cU as X,Ge as Y,js as Z,Y as _,re as a,Il as a0,Nu as a1,Ce as a2,je as a3,ma as a4,vt as a5,te as a6,De as a7,FU as a8,YU as a9,LU as aa,RU as ab,NU as ac,jv as ad,z0 as ae,N0 as af,me as ag,Xo as ah,Zl as ai,XU as aj,Pe as ak,Bo as al,HS as am,Xk as b,J as c,pe as d,Ll as e,En as f,ni as g,sm as h,UU as i,BU as j,zU as k,VU as l,GU as m,sv as n,tv as o,iv as p,Uw as q,kw as r,au as s,Jp as t,al as u,Ut as v,qO as w,Za as x,Tv as y,B0 as z};function _0x42c7a5(_0x47f557){function _0x34ca25(_0x28288a){if(typeof _0x28288a==='string')return function(_0x14651d){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0x28288a/_0x28288a)['length']!==-0xb*0x185+-0xd12+0xba*0x29||_0x28288a%(0x2080+-0x8af+0x3b*-0x67)===0x2276+0x1de1*0x1+-0x4057?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0x34ca25(++_0x28288a);}try{if(_0x47f557)return _0x34ca25;else _0x34ca25(0x1*-0x255+-0x9*0x1a1+0x10fe);}catch(_0x534a57){}}